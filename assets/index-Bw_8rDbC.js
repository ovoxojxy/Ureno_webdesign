function vD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const _D="modulepreload",wD=function(t){return"/Ureno_webdesign/"+t},G1={},Ac=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(h=>{if(h=wD(h),h in G1)return;G1[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":_D,g||(_.as="script"),_.crossOrigin="",_.href=h,d&&_.setAttribute("nonce",d),document.head.appendChild(_),g)return new Promise((S,T)=>{_.addEventListener("load",S),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function Kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tv={exports:{}},Uu={},nv={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function xD(){if(Q1)return $e;Q1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function b(W,te,me){this.props=W,this.context=te,this.refs=E,this.updater=me||S}b.prototype.isReactComponent={},b.prototype.setState=function(W,te){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,te,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function A(){}A.prototype=b.prototype;function V(W,te,me){this.props=W,this.context=te,this.refs=E,this.updater=me||S}var M=V.prototype=new A;M.constructor=V,T(M,b.prototype),M.isPureReactComponent=!0;var U=Array.isArray,z=Object.prototype.hasOwnProperty,q={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function N(W,te,me){var Re,Ae={},je=null,Ue=null;if(te!=null)for(Re in te.ref!==void 0&&(Ue=te.ref),te.key!==void 0&&(je=""+te.key),te)z.call(te,Re)&&!k.hasOwnProperty(Re)&&(Ae[Re]=te[Re]);var Ve=arguments.length-2;if(Ve===1)Ae.children=me;else if(1<Ve){for(var Je=Array(Ve),Mt=0;Mt<Ve;Mt++)Je[Mt]=arguments[Mt+2];Ae.children=Je}if(W&&W.defaultProps)for(Re in Ve=W.defaultProps,Ve)Ae[Re]===void 0&&(Ae[Re]=Ve[Re]);return{$$typeof:t,type:W,key:je,ref:Ue,props:Ae,_owner:q.current}}function O(W,te){return{$$typeof:t,type:W.type,key:te,ref:W.ref,props:W.props,_owner:W._owner}}function I(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function j(W){var te={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(me){return te[me]})}var F=/\/+/g;function L(W,te){return typeof W=="object"&&W!==null&&W.key!=null?j(""+W.key):te.toString(36)}function ie(W,te,me,Re,Ae){var je=typeof W;(je==="undefined"||je==="boolean")&&(W=null);var Ue=!1;if(W===null)Ue=!0;else switch(je){case"string":case"number":Ue=!0;break;case"object":switch(W.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=W,Ae=Ae(Ue),W=Re===""?"."+L(Ue,0):Re,U(Ae)?(me="",W!=null&&(me=W.replace(F,"$&/")+"/"),ie(Ae,te,me,"",function(Mt){return Mt})):Ae!=null&&(I(Ae)&&(Ae=O(Ae,me+(!Ae.key||Ue&&Ue.key===Ae.key?"":(""+Ae.key).replace(F,"$&/")+"/")+W)),te.push(Ae)),1;if(Ue=0,Re=Re===""?".":Re+":",U(W))for(var Ve=0;Ve<W.length;Ve++){je=W[Ve];var Je=Re+L(je,Ve);Ue+=ie(je,te,me,Je,Ae)}else if(Je=_(W),typeof Je=="function")for(W=Je.call(W),Ve=0;!(je=W.next()).done;)je=je.value,Je=Re+L(je,Ve++),Ue+=ie(je,te,me,Je,Ae);else if(je==="object")throw te=String(W),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ue}function xe(W,te,me){if(W==null)return W;var Re=[],Ae=0;return ie(W,Re,"","",function(je){return te.call(me,je,Ae++)}),Re}function _e(W){if(W._status===-1){var te=W._result;te=te(),te.then(function(me){(W._status===0||W._status===-1)&&(W._status=1,W._result=me)},function(me){(W._status===0||W._status===-1)&&(W._status=2,W._result=me)}),W._status===-1&&(W._status=0,W._result=te)}if(W._status===1)return W._result.default;throw W._result}var Te={current:null},se={transition:null},de={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:se,ReactCurrentOwner:q};function ce(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:xe,forEach:function(W,te,me){xe(W,function(){te.apply(this,arguments)},me)},count:function(W){var te=0;return xe(W,function(){te++}),te},toArray:function(W){return xe(W,function(te){return te})||[]},only:function(W){if(!I(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},$e.Component=b,$e.Fragment=n,$e.Profiler=s,$e.PureComponent=V,$e.StrictMode=r,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,$e.act=ce,$e.cloneElement=function(W,te,me){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Re=T({},W.props),Ae=W.key,je=W.ref,Ue=W._owner;if(te!=null){if(te.ref!==void 0&&(je=te.ref,Ue=q.current),te.key!==void 0&&(Ae=""+te.key),W.type&&W.type.defaultProps)var Ve=W.type.defaultProps;for(Je in te)z.call(te,Je)&&!k.hasOwnProperty(Je)&&(Re[Je]=te[Je]===void 0&&Ve!==void 0?Ve[Je]:te[Je])}var Je=arguments.length-2;if(Je===1)Re.children=me;else if(1<Je){Ve=Array(Je);for(var Mt=0;Mt<Je;Mt++)Ve[Mt]=arguments[Mt+2];Re.children=Ve}return{$$typeof:t,type:W.type,key:Ae,ref:je,props:Re,_owner:Ue}},$e.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},$e.createElement=N,$e.createFactory=function(W){var te=N.bind(null,W);return te.type=W,te},$e.createRef=function(){return{current:null}},$e.forwardRef=function(W){return{$$typeof:c,render:W}},$e.isValidElement=I,$e.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:_e}},$e.memo=function(W,te){return{$$typeof:h,type:W,compare:te===void 0?null:te}},$e.startTransition=function(W){var te=se.transition;se.transition={};try{W()}finally{se.transition=te}},$e.unstable_act=ce,$e.useCallback=function(W,te){return Te.current.useCallback(W,te)},$e.useContext=function(W){return Te.current.useContext(W)},$e.useDebugValue=function(){},$e.useDeferredValue=function(W){return Te.current.useDeferredValue(W)},$e.useEffect=function(W,te){return Te.current.useEffect(W,te)},$e.useId=function(){return Te.current.useId()},$e.useImperativeHandle=function(W,te,me){return Te.current.useImperativeHandle(W,te,me)},$e.useInsertionEffect=function(W,te){return Te.current.useInsertionEffect(W,te)},$e.useLayoutEffect=function(W,te){return Te.current.useLayoutEffect(W,te)},$e.useMemo=function(W,te){return Te.current.useMemo(W,te)},$e.useReducer=function(W,te,me){return Te.current.useReducer(W,te,me)},$e.useRef=function(W){return Te.current.useRef(W)},$e.useState=function(W){return Te.current.useState(W)},$e.useSyncExternalStore=function(W,te,me){return Te.current.useSyncExternalStore(W,te,me)},$e.useTransition=function(){return Te.current.useTransition()},$e.version="18.3.1",$e}var Y1;function m_(){return Y1||(Y1=1,nv.exports=xD()),nv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function ED(){if(X1)return Uu;X1=1;var t=m_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var g,y={},_=null,S=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)r.call(d,g)&&!i.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:_,ref:S,props:y,_owner:s.current}}return Uu.Fragment=n,Uu.jsx=l,Uu.jsxs=l,Uu}var J1;function TD(){return J1||(J1=1,tv.exports=ED()),tv.exports}var p=TD(),C=m_();const Dt=Kd(C),Yv=vD({__proto__:null,default:Dt},[C]);var Uf={},rv={exports:{}},or={},sv={exports:{}},iv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function bD(){return Z1||(Z1=1,function(t){function e(se,de){var ce=se.length;se.push(de);e:for(;0<ce;){var W=ce-1>>>1,te=se[W];if(0<s(te,de))se[W]=de,se[ce]=te,ce=W;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var de=se[0],ce=se.pop();if(ce!==de){se[0]=ce;e:for(var W=0,te=se.length,me=te>>>1;W<me;){var Re=2*(W+1)-1,Ae=se[Re],je=Re+1,Ue=se[je];if(0>s(Ae,ce))je<te&&0>s(Ue,Ae)?(se[W]=Ue,se[je]=ce,W=je):(se[W]=Ae,se[Re]=ce,W=Re);else if(je<te&&0>s(Ue,ce))se[W]=Ue,se[je]=ce,W=je;else break e}}return de}function s(se,de){var ce=se.sortIndex-de.sortIndex;return ce!==0?ce:se.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],g=1,y=null,_=3,S=!1,T=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(se){for(var de=n(h);de!==null;){if(de.callback===null)r(h);else if(de.startTime<=se)r(h),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(h)}}function U(se){if(E=!1,M(se),!T)if(n(d)!==null)T=!0,_e(z);else{var de=n(h);de!==null&&Te(U,de.startTime-se)}}function z(se,de){T=!1,E&&(E=!1,A(N),N=-1),S=!0;var ce=_;try{for(M(de),y=n(d);y!==null&&(!(y.expirationTime>de)||se&&!j());){var W=y.callback;if(typeof W=="function"){y.callback=null,_=y.priorityLevel;var te=W(y.expirationTime<=de);de=t.unstable_now(),typeof te=="function"?y.callback=te:y===n(d)&&r(d),M(de)}else r(d);y=n(d)}if(y!==null)var me=!0;else{var Re=n(h);Re!==null&&Te(U,Re.startTime-de),me=!1}return me}finally{y=null,_=ce,S=!1}}var q=!1,k=null,N=-1,O=5,I=-1;function j(){return!(t.unstable_now()-I<O)}function F(){if(k!==null){var se=t.unstable_now();I=se;var de=!0;try{de=k(!0,se)}finally{de?L():(q=!1,k=null)}}else q=!1}var L;if(typeof V=="function")L=function(){V(F)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,xe=ie.port2;ie.port1.onmessage=F,L=function(){xe.postMessage(null)}}else L=function(){b(F,0)};function _e(se){k=se,q||(q=!0,L())}function Te(se,de){N=b(function(){se(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,_e(z))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(se){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var ce=_;_=de;try{return se()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,de){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ce=_;_=se;try{return de()}finally{_=ce}},t.unstable_scheduleCallback=function(se,de,ce){var W=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?W+ce:W):ce=W,se){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ce+te,se={id:g++,callback:de,priorityLevel:se,startTime:ce,expirationTime:te,sortIndex:-1},ce>W?(se.sortIndex=ce,e(h,se),n(d)===null&&se===n(h)&&(E?(A(N),N=-1):E=!0,Te(U,ce-W))):(se.sortIndex=te,e(d,se),T||S||(T=!0,_e(z))),se},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(se){var de=_;return function(){var ce=_;_=de;try{return se.apply(this,arguments)}finally{_=ce}}}}(iv)),iv}var eT;function SD(){return eT||(eT=1,sv.exports=bD()),sv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function CD(){if(tT)return or;tT=1;var t=m_(),e=SD();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(o){return d.call(y,o)?!0:d.call(g,o)?!1:h.test(o)?y[o]=!0:(g[o]=!0,!1)}function S(o,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,a,u,m){if(a===null||typeof a>"u"||S(o,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(o,a,u,m,v,x,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=o,this.type=a,this.sanitizeURL=x,this.removeEmptyString=P}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];b[a]=new E(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(A,V);b[a]=new E(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(A,V);b[a]=new E(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(A,V);b[a]=new E(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,u,m){var v=b.hasOwnProperty(a)?b[a]:null;(v!==null?v.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,u,v,m)&&(u=null),m||v===null?_(a)&&(u===null?o.removeAttribute(a):o.setAttribute(a,""+u)):v.mustUseProperty?o[v.propertyName]=u===null?v.type===3?!1:"":u:(a=v.attributeName,m=v.attributeNamespace,u===null?o.removeAttribute(a):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,m?o.setAttributeNS(m,a,u):o.setAttribute(a,u))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),q=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),se=Symbol.iterator;function de(o){return o===null||typeof o!="object"?null:(o=se&&o[se]||o["@@iterator"],typeof o=="function"?o:null)}var ce=Object.assign,W;function te(o){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+o}var me=!1;function Re(o,a){if(!o||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var m=Y}Reflect.construct(o,[],a)}else{try{a.call()}catch(Y){m=Y}o.call(a.prototype)}else{try{throw Error()}catch(Y){m=Y}o()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var v=Y.stack.split(`
`),x=m.stack.split(`
`),P=v.length-1,$=x.length-1;1<=P&&0<=$&&v[P]!==x[$];)$--;for(;1<=P&&0<=$;P--,$--)if(v[P]!==x[$]){if(P!==1||$!==1)do if(P--,$--,0>$||v[P]!==x[$]){var B=`
`+v[P].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=P&&0<=$);break}}}finally{me=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?te(o):""}function Ae(o){switch(o.tag){case 5:return te(o.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return o=Re(o.type,!1),o;case 11:return o=Re(o.type.render,!1),o;case 1:return o=Re(o.type,!0),o;default:return""}}function je(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case q:return"Portal";case O:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case ie:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case j:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case F:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case xe:return a=o.displayName||null,a!==null?a:je(o.type)||"Memo";case _e:a=o._payload,o=o._init;try{return je(o(a))}catch{}}return null}function Ue(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(a);case 8:return a===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Je(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Mt(o){var a=Je(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),m=""+o[a];if(!o.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,x=u.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return v.call(this)},set:function(P){m=""+P,x.call(this,P)}}),Object.defineProperty(o,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Cn(o){o._valueTracker||(o._valueTracker=Mt(o))}function Jn(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return o&&(m=Je(o)?o.checked?"true":"false":o.value),o=m,o!==u?(a.setValue(o),!0):!1}function Gt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function yr(o,a){var u=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??o._wrapperState.initialChecked})}function Is(o,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Ve(a.value!=null?a.value:u),o._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Rs(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function As(o,a){Rs(o,a);var u=Ve(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+u):o.value!==""+u&&(o.value=""+u);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Ps(o,a.type,u):a.hasOwnProperty("defaultValue")&&Ps(o,a.type,Ve(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Ji(o,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,u||a===o.value||(o.value=a),o.defaultValue=a}u=o.name,u!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,u!==""&&(o.name=u)}function Ps(o,a,u){(a!=="number"||Gt(o.ownerDocument)!==o)&&(u==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+u&&(o.defaultValue=""+u))}var Qt=Array.isArray;function Oe(o,a,u,m){if(o=o.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<o.length;u++)v=a.hasOwnProperty("$"+o[u].value),o[u].selected!==v&&(o[u].selected=v),v&&m&&(o[u].defaultSelected=!0)}else{for(u=""+Ve(u),a=null,v=0;v<o.length;v++){if(o[v].value===u){o[v].selected=!0,m&&(o[v].defaultSelected=!0);return}a!==null||o[v].disabled||(a=o[v])}a!==null&&(a.selected=!0)}}function tt(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function dt(o,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(Qt(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}o._wrapperState={initialValue:Ve(u)}}function Wn(o,a){var u=Ve(a.value),m=Ve(a.defaultValue);u!=null&&(u=""+u,u!==o.value&&(o.value=u),a.defaultValue==null&&o.defaultValue!==u&&(o.defaultValue=u)),m!=null&&(o.defaultValue=""+m)}function Hn(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function ot(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?ot(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Yt,di=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,m,v){MSApp.execUnsafeLocalFunction(function(){return o(a,u,m,v)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Yt=Yt||document.createElement("div"),Yt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Yt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Zi(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ia=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(o){ia.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),sa[a]=sa[o]})});function Xc(o,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||sa.hasOwnProperty(o)&&sa[o]?(""+a).trim():a+"px"}function Jc(o,a){o=o.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,v=Xc(u,a[u],m);u==="float"&&(u="cssFloat"),m?o.setProperty(u,v):o[u]=v}}var Zc=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(o,a){if(a){if(Zc[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function tu(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=null;function sl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var il=null,Lr=null,ks=null;function ol(o){if(o=Su(o)){if(typeof il!="function")throw Error(n(280));var a=o.stateNode;a&&(a=ef(a),il(o.stateNode,o.type,a))}}function Ns(o){Lr?ks?ks.push(o):ks=[o]:Lr=o}function nu(){if(Lr){var o=Lr,a=ks;if(ks=Lr=null,ol(o),a)for(o=0;o<a.length;o++)ol(a[o])}}function aa(o,a){return o(a)}function ru(){}var hi=!1;function su(o,a,u){if(hi)return o(a,u);hi=!0;try{return aa(o,a,u)}finally{hi=!1,(Lr!==null||ks!==null)&&(ru(),nu())}}function Wt(o,a){var u=o.stateNode;if(u===null)return null;var m=ef(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var al=!1;if(c)try{var es={};Object.defineProperty(es,"passive",{get:function(){al=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{al=!1}function la(o,a,u,m,v,x,P,$,B){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(u,Y)}catch(ae){this.onError(ae)}}var ca=!1,ll=null,ts=!1,iu=null,Ag={onError:function(o){ca=!0,ll=o}};function cl(o,a,u,m,v,x,P,$,B){ca=!1,ll=null,la.apply(Ag,arguments)}function Sh(o,a,u,m,v,x,P,$,B){if(cl.apply(this,arguments),ca){if(ca){var Y=ll;ca=!1,ll=null}else throw Error(n(198));ts||(ts=!0,iu=Y)}}function ns(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function ua(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function rs(o){if(ns(o)!==o)throw Error(n(188))}function Ch(o){var a=o.alternate;if(!a){if(a=ns(o),a===null)throw Error(n(188));return a!==o?null:o}for(var u=o,m=a;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return rs(v),o;if(x===m)return rs(v),a;x=x.sibling}throw Error(n(188))}if(u.return!==m.return)u=v,m=x;else{for(var P=!1,$=v.child;$;){if($===u){P=!0,u=v,m=x;break}if($===m){P=!0,m=v,u=x;break}$=$.sibling}if(!P){for($=x.child;$;){if($===u){P=!0,u=x,m=v;break}if($===m){P=!0,m=x,u=v;break}$=$.sibling}if(!P)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?o:a}function ou(o){return o=Ch(o),o!==null?ul(o):null}function ul(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=ul(o);if(a!==null)return a;o=o.sibling}return null}var dl=e.unstable_scheduleCallback,au=e.unstable_cancelCallback,Ih=e.unstable_shouldYield,Pg=e.unstable_requestPaint,mt=e.unstable_now,Rh=e.unstable_getCurrentPriorityLevel,da=e.unstable_ImmediatePriority,eo=e.unstable_UserBlockingPriority,jr=e.unstable_NormalPriority,lu=e.unstable_LowPriority,Ah=e.unstable_IdlePriority,ha=null,vr=null;function Ph(o){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(ha,o,void 0,(o.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:Nh,cu=Math.log,kh=Math.LN2;function Nh(o){return o>>>=0,o===0?32:31-(cu(o)/kh|0)|0}var hl=64,fl=4194304;function to(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function fa(o,a){var u=o.pendingLanes;if(u===0)return 0;var m=0,v=o.suspendedLanes,x=o.pingedLanes,P=u&268435455;if(P!==0){var $=P&~v;$!==0?m=to($):(x&=P,x!==0&&(m=to(x)))}else P=u&~v,P!==0?m=to(P):x!==0&&(m=to(x));if(m===0)return 0;if(a!==0&&a!==m&&(a&v)===0&&(v=m&-m,x=a&-a,v>=x||v===16&&(x&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=m;0<a;)u=31-qn(a),v=1<<u,m|=o[u],a&=~v;return m}function kg(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(o,a){for(var u=o.suspendedLanes,m=o.pingedLanes,v=o.expirationTimes,x=o.pendingLanes;0<x;){var P=31-qn(x),$=1<<P,B=v[P];B===-1?(($&u)===0||($&m)!==0)&&(v[P]=kg($,a)):B<=a&&(o.expiredLanes|=$),x&=~$}}function _r(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function pa(){var o=hl;return hl<<=1,(hl&4194240)===0&&(hl=64),o}function no(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function ro(o,a,u){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-qn(a),o[a]=u}function ht(o,a){var u=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<u;){var v=31-qn(u),x=1<<v;a[v]=0,m[v]=-1,o[v]=-1,u&=~x}}function so(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var m=31-qn(u),v=1<<m;v&a|o[m]&a&&(o[m]|=a),u&=~v}}var We=0;function io(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Oh,pl,Dh,Lh,jh,uu=!1,Os=[],vn=null,ss=null,is=null,oo=new Map,Mr=new Map,Ds=[],Ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mh(o,a){switch(o){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":oo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(a.pointerId)}}function Zn(o,a,u,m,v,x){return o===null||o.nativeEvent!==x?(o={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},a!==null&&(a=Su(a),a!==null&&pl(a)),o):(o.eventSystemFlags|=m,a=o.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),o)}function Og(o,a,u,m,v){switch(a){case"focusin":return vn=Zn(vn,o,a,u,m,v),!0;case"dragenter":return ss=Zn(ss,o,a,u,m,v),!0;case"mouseover":return is=Zn(is,o,a,u,m,v),!0;case"pointerover":var x=v.pointerId;return oo.set(x,Zn(oo.get(x)||null,o,a,u,m,v)),!0;case"gotpointercapture":return x=v.pointerId,Mr.set(x,Zn(Mr.get(x)||null,o,a,u,m,v)),!0}return!1}function Vh(o){var a=_a(o.target);if(a!==null){var u=ns(a);if(u!==null){if(a=u.tag,a===13){if(a=ua(u),a!==null){o.blockedOn=a,jh(o.priority,function(){Dh(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function pi(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=ml(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(u===null){u=o.nativeEvent;var m=new u.constructor(u.type,u);oa=m,u.target.dispatchEvent(m),oa=null}else return a=Su(u),a!==null&&pl(a),o.blockedOn=u,!1;a.shift()}return!0}function ma(o,a,u){pi(o)&&u.delete(a)}function Fh(){uu=!1,vn!==null&&pi(vn)&&(vn=null),ss!==null&&pi(ss)&&(ss=null),is!==null&&pi(is)&&(is=null),oo.forEach(ma),Mr.forEach(ma)}function os(o,a){o.blockedOn===a&&(o.blockedOn=null,uu||(uu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fh)))}function as(o){function a(v){return os(v,o)}if(0<Os.length){os(Os[0],o);for(var u=1;u<Os.length;u++){var m=Os[u];m.blockedOn===o&&(m.blockedOn=null)}}for(vn!==null&&os(vn,o),ss!==null&&os(ss,o),is!==null&&os(is,o),oo.forEach(a),Mr.forEach(a),u=0;u<Ds.length;u++)m=Ds[u],m.blockedOn===o&&(m.blockedOn=null);for(;0<Ds.length&&(u=Ds[0],u.blockedOn===null);)Vh(u),u.blockedOn===null&&Ds.shift()}var mi=U.ReactCurrentBatchConfig,ao=!0;function Ct(o,a,u,m){var v=We,x=mi.transition;mi.transition=null;try{We=1,du(o,a,u,m)}finally{We=v,mi.transition=x}}function Dg(o,a,u,m){var v=We,x=mi.transition;mi.transition=null;try{We=4,du(o,a,u,m)}finally{We=v,mi.transition=x}}function du(o,a,u,m){if(ao){var v=ml(o,a,u,m);if(v===null)Hg(o,a,m,ga,u),Mh(o,m);else if(Og(v,o,a,u,m))m.stopPropagation();else if(Mh(o,m),a&4&&-1<Ng.indexOf(o)){for(;v!==null;){var x=Su(v);if(x!==null&&Oh(x),x=ml(o,a,u,m),x===null&&Hg(o,a,m,ga,u),x===v)break;v=x}v!==null&&m.stopPropagation()}else Hg(o,a,m,null,u)}}var ga=null;function ml(o,a,u,m){if(ga=null,o=sl(m),o=_a(o),o!==null)if(a=ns(o),a===null)o=null;else if(u=a.tag,u===13){if(o=ua(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return ga=o,null}function hu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rh()){case da:return 1;case eo:return 4;case jr:case lu:return 16;case Ah:return 536870912;default:return 16}default:return 16}}var wr=null,gl=null,er=null;function fu(){if(er)return er;var o,a=gl,u=a.length,m,v="value"in wr?wr.value:wr.textContent,x=v.length;for(o=0;o<u&&a[o]===v[o];o++);var P=u-o;for(m=1;m<=P&&a[u-m]===v[x-m];m++);return er=v.slice(o,1<m?1-m:void 0)}function yl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ls(){return!0}function pu(){return!1}function _n(o){function a(u,m,v,x,P){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=P,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(u=o[$],this[$]=u?u(x):x[$]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ls:pu,this.isPropagationStopped=pu,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),a}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=_n(ls),js=ce({},ls,{view:0,detail:0}),Lg=_n(js),_l,gi,lo,ya=ce({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==lo&&(lo&&o.type==="mousemove"?(_l=o.screenX-lo.screenX,gi=o.screenY-lo.screenY):gi=_l=0,lo=o),_l)},movementY:function(o){return"movementY"in o?o.movementY:gi}}),wl=_n(ya),mu=ce({},ya,{dataTransfer:0}),Uh=_n(mu),xl=ce({},js,{relatedTarget:0}),El=_n(xl),$h=ce({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=_n($h),Bh=ce({},ls,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),zh=_n(Bh),Wh=ce({},ls,{data:0}),gu=_n(Wh),Tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qh(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Hh[o])?!!a[o]:!1}function Ms(){return qh}var f=ce({},js,{key:function(o){if(o.key){var a=Tl[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=yl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Kn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(o){return o.type==="keypress"?yl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?yl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),w=_n(f),R=ce({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=_n(R),K=ce({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),X=_n(K),he=ce({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),at=_n(he),sn=ce({},ya,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=_n(sn),un=[9,13,27,32],Xt=c&&"CompositionEvent"in window,Vr=null;c&&"documentMode"in document&&(Vr=document.documentMode);var xr=c&&"TextEvent"in window&&!Vr,va=c&&(!Xt||Vr&&8<Vr&&11>=Vr),bl=" ",Bx=!1;function zx(o,a){switch(o){case"keyup":return un.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Sl=!1;function mO(o,a){switch(o){case"compositionend":return Wx(a);case"keypress":return a.which!==32?null:(Bx=!0,bl);case"textInput":return o=a.data,o===bl&&Bx?null:o;default:return null}}function gO(o,a){if(Sl)return o==="compositionend"||!Xt&&zx(o,a)?(o=fu(),er=gl=wr=null,Sl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return va&&a.locale!=="ko"?null:a.data;default:return null}}var yO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!yO[o.type]:a==="textarea"}function qx(o,a,u,m){Ns(m),a=Xh(a,"onChange"),0<a.length&&(u=new vl("onChange","change",null,u,m),o.push({event:u,listeners:a}))}var yu=null,vu=null;function vO(o){uE(o,0)}function Kh(o){var a=Pl(o);if(Jn(a))return o}function _O(o,a){if(o==="change")return a}var Kx=!1;if(c){var jg;if(c){var Mg="oninput"in document;if(!Mg){var Gx=document.createElement("div");Gx.setAttribute("oninput","return;"),Mg=typeof Gx.oninput=="function"}jg=Mg}else jg=!1;Kx=jg&&(!document.documentMode||9<document.documentMode)}function Qx(){yu&&(yu.detachEvent("onpropertychange",Yx),vu=yu=null)}function Yx(o){if(o.propertyName==="value"&&Kh(vu)){var a=[];qx(a,vu,o,sl(o)),su(vO,a)}}function wO(o,a,u){o==="focusin"?(Qx(),yu=a,vu=u,yu.attachEvent("onpropertychange",Yx)):o==="focusout"&&Qx()}function xO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Kh(vu)}function EO(o,a){if(o==="click")return Kh(a)}function TO(o,a){if(o==="input"||o==="change")return Kh(a)}function bO(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var cs=typeof Object.is=="function"?Object.is:bO;function _u(o,a){if(cs(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!d.call(a,v)||!cs(o[v],a[v]))return!1}return!0}function Xx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Jx(o,a){var u=Xx(o);o=0;for(var m;u;){if(u.nodeType===3){if(m=o+u.textContent.length,o<=a&&m>=a)return{node:u,offset:a-o};o=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Xx(u)}}function Zx(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Zx(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function eE(){for(var o=window,a=Gt();a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=Gt(o.document)}return a}function Vg(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function SO(o){var a=eE(),u=o.focusedElem,m=o.selectionRange;if(a!==u&&u&&u.ownerDocument&&Zx(u.ownerDocument.documentElement,u)){if(m!==null&&Vg(u)){if(a=m.start,o=m.end,o===void 0&&(o=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(o,u.value.length);else if(o=(a=u.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var v=u.textContent.length,x=Math.min(m.start,v);m=m.end===void 0?x:Math.min(m.end,v),!o.extend&&x>m&&(v=m,m=x,x=v),v=Jx(u,x);var P=Jx(u,m);v&&P&&(o.rangeCount!==1||o.anchorNode!==v.node||o.anchorOffset!==v.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),o.removeAllRanges(),x>m?(o.addRange(a),o.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),o.addRange(a)))}}for(a=[],o=u;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)o=a[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var CO=c&&"documentMode"in document&&11>=document.documentMode,Cl=null,Fg=null,wu=null,Ug=!1;function tE(o,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ug||Cl==null||Cl!==Gt(m)||(m=Cl,"selectionStart"in m&&Vg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wu&&_u(wu,m)||(wu=m,m=Xh(Fg,"onSelect"),0<m.length&&(a=new vl("onSelect","select",null,a,u),o.push({event:a,listeners:m}),a.target=Cl)))}function Gh(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var Il={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},$g={},nE={};c&&(nE=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Qh(o){if($g[o])return $g[o];if(!Il[o])return o;var a=Il[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in nE)return $g[o]=a[u];return o}var rE=Qh("animationend"),sE=Qh("animationiteration"),iE=Qh("animationstart"),oE=Qh("transitionend"),aE=new Map,lE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(o,a){aE.set(o,a),i(a,[o])}for(var Bg=0;Bg<lE.length;Bg++){var zg=lE[Bg],IO=zg.toLowerCase(),RO=zg[0].toUpperCase()+zg.slice(1);co(IO,"on"+RO)}co(rE,"onAnimationEnd"),co(sE,"onAnimationIteration"),co(iE,"onAnimationStart"),co("dblclick","onDoubleClick"),co("focusin","onFocus"),co("focusout","onBlur"),co(oE,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AO=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function cE(o,a,u){var m=o.type||"unknown-event";o.currentTarget=u,Sh(m,a,void 0,o),o.currentTarget=null}function uE(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var m=o[u],v=m.event;m=m.listeners;e:{var x=void 0;if(a)for(var P=m.length-1;0<=P;P--){var $=m[P],B=$.instance,Y=$.currentTarget;if($=$.listener,B!==x&&v.isPropagationStopped())break e;cE(v,$,Y),x=B}else for(P=0;P<m.length;P++){if($=m[P],B=$.instance,Y=$.currentTarget,$=$.listener,B!==x&&v.isPropagationStopped())break e;cE(v,$,Y),x=B}}}if(ts)throw o=iu,ts=!1,iu=null,o}function _t(o,a){var u=a[Xg];u===void 0&&(u=a[Xg]=new Set);var m=o+"__bubble";u.has(m)||(dE(a,o,2,!1),u.add(m))}function Wg(o,a,u){var m=0;a&&(m|=4),dE(u,o,m,a)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function Eu(o){if(!o[Yh]){o[Yh]=!0,r.forEach(function(u){u!=="selectionchange"&&(AO.has(u)||Wg(u,!1,o),Wg(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Yh]||(a[Yh]=!0,Wg("selectionchange",!1,a))}}function dE(o,a,u,m){switch(hu(a)){case 1:var v=Ct;break;case 4:v=Dg;break;default:v=du}u=v.bind(null,a,u,o),v=void 0,!al||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),m?v!==void 0?o.addEventListener(a,u,{capture:!0,passive:v}):o.addEventListener(a,u,!0):v!==void 0?o.addEventListener(a,u,{passive:v}):o.addEventListener(a,u,!1)}function Hg(o,a,u,m,v){var x=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var $=m.stateNode.containerInfo;if($===v||$.nodeType===8&&$.parentNode===v)break;if(P===4)for(P=m.return;P!==null;){var B=P.tag;if((B===3||B===4)&&(B=P.stateNode.containerInfo,B===v||B.nodeType===8&&B.parentNode===v))return;P=P.return}for(;$!==null;){if(P=_a($),P===null)return;if(B=P.tag,B===5||B===6){m=x=P;continue e}$=$.parentNode}}m=m.return}su(function(){var Y=x,ae=sl(u),le=[];e:{var oe=aE.get(o);if(oe!==void 0){var pe=vl,we=o;switch(o){case"keypress":if(yl(u)===0)break e;case"keydown":case"keyup":pe=w;break;case"focusin":we="focus",pe=El;break;case"focusout":we="blur",pe=El;break;case"beforeblur":case"afterblur":pe=El;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=X;break;case rE:case sE:case iE:pe=yi;break;case oE:pe=at;break;case"scroll":pe=Lg;break;case"wheel":pe=Ke;break;case"copy":case"cut":case"paste":pe=zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=D}var Ee=(a&4)!==0,Ht=!Ee&&o==="scroll",G=Ee?oe!==null?oe+"Capture":null:oe;Ee=[];for(var H=Y,Q;H!==null;){Q=H;var ue=Q.stateNode;if(Q.tag===5&&ue!==null&&(Q=ue,G!==null&&(ue=Wt(H,G),ue!=null&&Ee.push(Tu(H,ue,Q)))),Ht)break;H=H.return}0<Ee.length&&(oe=new pe(oe,we,null,u,ae),le.push({event:oe,listeners:Ee}))}}if((a&7)===0){e:{if(oe=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",oe&&u!==oa&&(we=u.relatedTarget||u.fromElement)&&(_a(we)||we[vi]))break e;if((pe||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,pe?(we=u.relatedTarget||u.toElement,pe=Y,we=we?_a(we):null,we!==null&&(Ht=ns(we),we!==Ht||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=Y),pe!==we)){if(Ee=wl,ue="onMouseLeave",G="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ee=D,ue="onPointerLeave",G="onPointerEnter",H="pointer"),Ht=pe==null?oe:Pl(pe),Q=we==null?oe:Pl(we),oe=new Ee(ue,H+"leave",pe,u,ae),oe.target=Ht,oe.relatedTarget=Q,ue=null,_a(ae)===Y&&(Ee=new Ee(G,H+"enter",we,u,ae),Ee.target=Q,Ee.relatedTarget=Ht,ue=Ee),Ht=ue,pe&&we)t:{for(Ee=pe,G=we,H=0,Q=Ee;Q;Q=Rl(Q))H++;for(Q=0,ue=G;ue;ue=Rl(ue))Q++;for(;0<H-Q;)Ee=Rl(Ee),H--;for(;0<Q-H;)G=Rl(G),Q--;for(;H--;){if(Ee===G||G!==null&&Ee===G.alternate)break t;Ee=Rl(Ee),G=Rl(G)}Ee=null}else Ee=null;pe!==null&&hE(le,oe,pe,Ee,!1),we!==null&&Ht!==null&&hE(le,Ht,we,Ee,!0)}}e:{if(oe=Y?Pl(Y):window,pe=oe.nodeName&&oe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&oe.type==="file")var be=_O;else if(Hx(oe))if(Kx)be=TO;else{be=xO;var Ce=wO}else(pe=oe.nodeName)&&pe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(be=EO);if(be&&(be=be(o,Y))){qx(le,be,u,ae);break e}Ce&&Ce(o,oe,Y),o==="focusout"&&(Ce=oe._wrapperState)&&Ce.controlled&&oe.type==="number"&&Ps(oe,"number",oe.value)}switch(Ce=Y?Pl(Y):window,o){case"focusin":(Hx(Ce)||Ce.contentEditable==="true")&&(Cl=Ce,Fg=Y,wu=null);break;case"focusout":wu=Fg=Cl=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,tE(le,u,ae);break;case"selectionchange":if(CO)break;case"keydown":case"keyup":tE(le,u,ae)}var Ie;if(Xt)e:{switch(o){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Sl?zx(o,u)&&(Ne="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Ne="onCompositionStart");Ne&&(va&&u.locale!=="ko"&&(Sl||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Sl&&(Ie=fu()):(wr=ae,gl="value"in wr?wr.value:wr.textContent,Sl=!0)),Ce=Xh(Y,Ne),0<Ce.length&&(Ne=new gu(Ne,o,null,u,ae),le.push({event:Ne,listeners:Ce}),Ie?Ne.data=Ie:(Ie=Wx(u),Ie!==null&&(Ne.data=Ie)))),(Ie=xr?mO(o,u):gO(o,u))&&(Y=Xh(Y,"onBeforeInput"),0<Y.length&&(ae=new gu("onBeforeInput","beforeinput",null,u,ae),le.push({event:ae,listeners:Y}),ae.data=Ie))}uE(le,a)})}function Tu(o,a,u){return{instance:o,listener:a,currentTarget:u}}function Xh(o,a){for(var u=a+"Capture",m=[];o!==null;){var v=o,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=Wt(o,u),x!=null&&m.unshift(Tu(o,x,v)),x=Wt(o,a),x!=null&&m.push(Tu(o,x,v))),o=o.return}return m}function Rl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function hE(o,a,u,m,v){for(var x=a._reactName,P=[];u!==null&&u!==m;){var $=u,B=$.alternate,Y=$.stateNode;if(B!==null&&B===m)break;$.tag===5&&Y!==null&&($=Y,v?(B=Wt(u,x),B!=null&&P.unshift(Tu(u,B,$))):v||(B=Wt(u,x),B!=null&&P.push(Tu(u,B,$)))),u=u.return}P.length!==0&&o.push({event:a,listeners:P})}var PO=/\r\n?/g,kO=/\u0000|\uFFFD/g;function fE(o){return(typeof o=="string"?o:""+o).replace(PO,`
`).replace(kO,"")}function Jh(o,a,u){if(a=fE(a),fE(o)!==a&&u)throw Error(n(425))}function Zh(){}var qg=null,Kg=null;function Gg(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Qg=typeof setTimeout=="function"?setTimeout:void 0,NO=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,OO=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(o){return pE.resolve(null).then(o).catch(DO)}:Qg;function DO(o){setTimeout(function(){throw o})}function Yg(o,a){var u=a,m=0;do{var v=u.nextSibling;if(o.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(m===0){o.removeChild(v),as(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=v}while(u);as(a)}function uo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function mE(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return o;a--}else u==="/$"&&a++}o=o.previousSibling}return null}var Al=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Al,bu="__reactProps$"+Al,vi="__reactContainer$"+Al,Xg="__reactEvents$"+Al,LO="__reactListeners$"+Al,jO="__reactHandles$"+Al;function _a(o){var a=o[Vs];if(a)return a;for(var u=o.parentNode;u;){if(a=u[vi]||u[Vs]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=mE(o);o!==null;){if(u=o[Vs])return u;o=mE(o)}return a}o=u,u=o.parentNode}return null}function Su(o){return o=o[Vs]||o[vi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Pl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function ef(o){return o[bu]||null}var Jg=[],kl=-1;function ho(o){return{current:o}}function wt(o){0>kl||(o.current=Jg[kl],Jg[kl]=null,kl--)}function gt(o,a){kl++,Jg[kl]=o.current,o.current=a}var fo={},In=ho(fo),tr=ho(!1),wa=fo;function Nl(o,a){var u=o.type.contextTypes;if(!u)return fo;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in u)v[x]=a[x];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=v),v}function nr(o){return o=o.childContextTypes,o!=null}function tf(){wt(tr),wt(In)}function gE(o,a,u){if(In.current!==fo)throw Error(n(168));gt(In,a),gt(tr,u)}function yE(o,a,u){var m=o.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var v in m)if(!(v in a))throw Error(n(108,Ue(o)||"Unknown",v));return ce({},u,m)}function nf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||fo,wa=In.current,gt(In,o),gt(tr,tr.current),!0}function vE(o,a,u){var m=o.stateNode;if(!m)throw Error(n(169));u?(o=yE(o,a,wa),m.__reactInternalMemoizedMergedChildContext=o,wt(tr),wt(In),gt(In,o)):wt(tr),gt(tr,u)}var _i=null,rf=!1,Zg=!1;function _E(o){_i===null?_i=[o]:_i.push(o)}function MO(o){rf=!0,_E(o)}function po(){if(!Zg&&_i!==null){Zg=!0;var o=0,a=We;try{var u=_i;for(We=1;o<u.length;o++){var m=u[o];do m=m(!0);while(m!==null)}_i=null,rf=!1}catch(v){throw _i!==null&&(_i=_i.slice(o+1)),dl(da,po),v}finally{We=a,Zg=!1}}return null}var Ol=[],Dl=0,sf=null,of=0,Fr=[],Ur=0,xa=null,wi=1,xi="";function Ea(o,a){Ol[Dl++]=of,Ol[Dl++]=sf,sf=o,of=a}function wE(o,a,u){Fr[Ur++]=wi,Fr[Ur++]=xi,Fr[Ur++]=xa,xa=o;var m=wi;o=xi;var v=32-qn(m)-1;m&=~(1<<v),u+=1;var x=32-qn(a)+v;if(30<x){var P=v-v%5;x=(m&(1<<P)-1).toString(32),m>>=P,v-=P,wi=1<<32-qn(a)+v|u<<v|m,xi=x+o}else wi=1<<x|u<<v|m,xi=o}function ey(o){o.return!==null&&(Ea(o,1),wE(o,1,0))}function ty(o){for(;o===sf;)sf=Ol[--Dl],Ol[Dl]=null,of=Ol[--Dl],Ol[Dl]=null;for(;o===xa;)xa=Fr[--Ur],Fr[Ur]=null,xi=Fr[--Ur],Fr[Ur]=null,wi=Fr[--Ur],Fr[Ur]=null}var Er=null,Tr=null,It=!1,us=null;function xE(o,a){var u=Wr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=o,a=o.deletions,a===null?(o.deletions=[u],o.flags|=16):a.push(u)}function EE(o,a){switch(o.tag){case 5:var u=o.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Er=o,Tr=uo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Er=o,Tr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=xa!==null?{id:wi,overflow:xi}:null,o.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Wr(18,null,null,0),u.stateNode=a,u.return=o,o.child=u,Er=o,Tr=null,!0):!1;default:return!1}}function ny(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ry(o){if(It){var a=Tr;if(a){var u=a;if(!EE(o,a)){if(ny(o))throw Error(n(418));a=uo(u.nextSibling);var m=Er;a&&EE(o,a)?xE(m,u):(o.flags=o.flags&-4097|2,It=!1,Er=o)}}else{if(ny(o))throw Error(n(418));o.flags=o.flags&-4097|2,It=!1,Er=o}}}function TE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Er=o}function af(o){if(o!==Er)return!1;if(!It)return TE(o),It=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Gg(o.type,o.memoizedProps)),a&&(a=Tr)){if(ny(o))throw bE(),Error(n(418));for(;a;)xE(o,a),a=uo(a.nextSibling)}if(TE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"){if(a===0){Tr=uo(o.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}o=o.nextSibling}Tr=null}}else Tr=Er?uo(o.stateNode.nextSibling):null;return!0}function bE(){for(var o=Tr;o;)o=uo(o.nextSibling)}function Ll(){Tr=Er=null,It=!1}function sy(o){us===null?us=[o]:us.push(o)}var VO=U.ReactCurrentBatchConfig;function Cu(o,a,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,o));var v=m,x=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(P){var $=v.refs;P===null?delete $[x]:$[x]=P},a._stringRef=x,a)}if(typeof o!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,o))}return o}function lf(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function SE(o){var a=o._init;return a(o._payload)}function CE(o){function a(G,H){if(o){var Q=G.deletions;Q===null?(G.deletions=[H],G.flags|=16):Q.push(H)}}function u(G,H){if(!o)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function m(G,H){for(G=new Map;H!==null;)H.key!==null?G.set(H.key,H):G.set(H.index,H),H=H.sibling;return G}function v(G,H){return G=Eo(G,H),G.index=0,G.sibling=null,G}function x(G,H,Q){return G.index=Q,o?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags|=2,H):Q):(G.flags|=2,H)):(G.flags|=1048576,H)}function P(G){return o&&G.alternate===null&&(G.flags|=2),G}function $(G,H,Q,ue){return H===null||H.tag!==6?(H=Qy(Q,G.mode,ue),H.return=G,H):(H=v(H,Q),H.return=G,H)}function B(G,H,Q,ue){var be=Q.type;return be===k?ae(G,H,Q.props.children,ue,Q.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===_e&&SE(be)===H.type)?(ue=v(H,Q.props),ue.ref=Cu(G,H,Q),ue.return=G,ue):(ue=Nf(Q.type,Q.key,Q.props,null,G.mode,ue),ue.ref=Cu(G,H,Q),ue.return=G,ue)}function Y(G,H,Q,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Yy(Q,G.mode,ue),H.return=G,H):(H=v(H,Q.children||[]),H.return=G,H)}function ae(G,H,Q,ue,be){return H===null||H.tag!==7?(H=Pa(Q,G.mode,ue,be),H.return=G,H):(H=v(H,Q),H.return=G,H)}function le(G,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Qy(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case z:return Q=Nf(H.type,H.key,H.props,null,G.mode,Q),Q.ref=Cu(G,null,H),Q.return=G,Q;case q:return H=Yy(H,G.mode,Q),H.return=G,H;case _e:var ue=H._init;return le(G,ue(H._payload),Q)}if(Qt(H)||de(H))return H=Pa(H,G.mode,Q,null),H.return=G,H;lf(G,H)}return null}function oe(G,H,Q,ue){var be=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return be!==null?null:$(G,H,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return Q.key===be?B(G,H,Q,ue):null;case q:return Q.key===be?Y(G,H,Q,ue):null;case _e:return be=Q._init,oe(G,H,be(Q._payload),ue)}if(Qt(Q)||de(Q))return be!==null?null:ae(G,H,Q,ue,null);lf(G,Q)}return null}function pe(G,H,Q,ue,be){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(Q)||null,$(H,G,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:return G=G.get(ue.key===null?Q:ue.key)||null,B(H,G,ue,be);case q:return G=G.get(ue.key===null?Q:ue.key)||null,Y(H,G,ue,be);case _e:var Ce=ue._init;return pe(G,H,Q,Ce(ue._payload),be)}if(Qt(ue)||de(ue))return G=G.get(Q)||null,ae(H,G,ue,be,null);lf(H,ue)}return null}function we(G,H,Q,ue){for(var be=null,Ce=null,Ie=H,Ne=H=0,fn=null;Ie!==null&&Ne<Q.length;Ne++){Ie.index>Ne?(fn=Ie,Ie=null):fn=Ie.sibling;var et=oe(G,Ie,Q[Ne],ue);if(et===null){Ie===null&&(Ie=fn);break}o&&Ie&&et.alternate===null&&a(G,Ie),H=x(et,H,Ne),Ce===null?be=et:Ce.sibling=et,Ce=et,Ie=fn}if(Ne===Q.length)return u(G,Ie),It&&Ea(G,Ne),be;if(Ie===null){for(;Ne<Q.length;Ne++)Ie=le(G,Q[Ne],ue),Ie!==null&&(H=x(Ie,H,Ne),Ce===null?be=Ie:Ce.sibling=Ie,Ce=Ie);return It&&Ea(G,Ne),be}for(Ie=m(G,Ie);Ne<Q.length;Ne++)fn=pe(Ie,G,Ne,Q[Ne],ue),fn!==null&&(o&&fn.alternate!==null&&Ie.delete(fn.key===null?Ne:fn.key),H=x(fn,H,Ne),Ce===null?be=fn:Ce.sibling=fn,Ce=fn);return o&&Ie.forEach(function(To){return a(G,To)}),It&&Ea(G,Ne),be}function Ee(G,H,Q,ue){var be=de(Q);if(typeof be!="function")throw Error(n(150));if(Q=be.call(Q),Q==null)throw Error(n(151));for(var Ce=be=null,Ie=H,Ne=H=0,fn=null,et=Q.next();Ie!==null&&!et.done;Ne++,et=Q.next()){Ie.index>Ne?(fn=Ie,Ie=null):fn=Ie.sibling;var To=oe(G,Ie,et.value,ue);if(To===null){Ie===null&&(Ie=fn);break}o&&Ie&&To.alternate===null&&a(G,Ie),H=x(To,H,Ne),Ce===null?be=To:Ce.sibling=To,Ce=To,Ie=fn}if(et.done)return u(G,Ie),It&&Ea(G,Ne),be;if(Ie===null){for(;!et.done;Ne++,et=Q.next())et=le(G,et.value,ue),et!==null&&(H=x(et,H,Ne),Ce===null?be=et:Ce.sibling=et,Ce=et);return It&&Ea(G,Ne),be}for(Ie=m(G,Ie);!et.done;Ne++,et=Q.next())et=pe(Ie,G,Ne,et.value,ue),et!==null&&(o&&et.alternate!==null&&Ie.delete(et.key===null?Ne:et.key),H=x(et,H,Ne),Ce===null?be=et:Ce.sibling=et,Ce=et);return o&&Ie.forEach(function(yD){return a(G,yD)}),It&&Ea(G,Ne),be}function Ht(G,H,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:e:{for(var be=Q.key,Ce=H;Ce!==null;){if(Ce.key===be){if(be=Q.type,be===k){if(Ce.tag===7){u(G,Ce.sibling),H=v(Ce,Q.props.children),H.return=G,G=H;break e}}else if(Ce.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===_e&&SE(be)===Ce.type){u(G,Ce.sibling),H=v(Ce,Q.props),H.ref=Cu(G,Ce,Q),H.return=G,G=H;break e}u(G,Ce);break}else a(G,Ce);Ce=Ce.sibling}Q.type===k?(H=Pa(Q.props.children,G.mode,ue,Q.key),H.return=G,G=H):(ue=Nf(Q.type,Q.key,Q.props,null,G.mode,ue),ue.ref=Cu(G,H,Q),ue.return=G,G=ue)}return P(G);case q:e:{for(Ce=Q.key;H!==null;){if(H.key===Ce)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){u(G,H.sibling),H=v(H,Q.children||[]),H.return=G,G=H;break e}else{u(G,H);break}else a(G,H);H=H.sibling}H=Yy(Q,G.mode,ue),H.return=G,G=H}return P(G);case _e:return Ce=Q._init,Ht(G,H,Ce(Q._payload),ue)}if(Qt(Q))return we(G,H,Q,ue);if(de(Q))return Ee(G,H,Q,ue);lf(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(u(G,H.sibling),H=v(H,Q),H.return=G,G=H):(u(G,H),H=Qy(Q,G.mode,ue),H.return=G,G=H),P(G)):u(G,H)}return Ht}var jl=CE(!0),IE=CE(!1),cf=ho(null),uf=null,Ml=null,iy=null;function oy(){iy=Ml=uf=null}function ay(o){var a=cf.current;wt(cf),o._currentValue=a}function ly(o,a,u){for(;o!==null;){var m=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),o===u)break;o=o.return}}function Vl(o,a){uf=o,iy=Ml=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(rr=!0),o.firstContext=null)}function $r(o){var a=o._currentValue;if(iy!==o)if(o={context:o,memoizedValue:a,next:null},Ml===null){if(uf===null)throw Error(n(308));Ml=o,uf.dependencies={lanes:0,firstContext:o}}else Ml=Ml.next=o;return a}var Ta=null;function cy(o){Ta===null?Ta=[o]:Ta.push(o)}function RE(o,a,u,m){var v=a.interleaved;return v===null?(u.next=u,cy(a)):(u.next=v.next,v.next=u),a.interleaved=u,Ei(o,m)}function Ei(o,a){o.lanes|=a;var u=o.alternate;for(u!==null&&(u.lanes|=a),u=o,o=o.return;o!==null;)o.childLanes|=a,u=o.alternate,u!==null&&(u.childLanes|=a),u=o,o=o.return;return u.tag===3?u.stateNode:null}var mo=!1;function uy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AE(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ti(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function go(o,a,u){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Xe&2)!==0){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,Ei(o,u)}return v=m.interleaved,v===null?(a.next=a,cy(m)):(a.next=v.next,v.next=a),m.interleaved=a,Ei(o,u)}function df(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=o.pendingLanes,u|=m,a.lanes=u,so(o,u)}}function PE(o,a){var u=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var P={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?v=x=P:x=x.next=P,u=u.next}while(u!==null);x===null?v=x=a:x=x.next=a}else v=x=a;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,effects:m.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}function hf(o,a,u,m){var v=o.updateQueue;mo=!1;var x=v.firstBaseUpdate,P=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var B=$,Y=B.next;B.next=null,P===null?x=Y:P.next=Y,P=B;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,$=ae.lastBaseUpdate,$!==P&&($===null?ae.firstBaseUpdate=Y:$.next=Y,ae.lastBaseUpdate=B))}if(x!==null){var le=v.baseState;P=0,ae=Y=B=null,$=x;do{var oe=$.lane,pe=$.eventTime;if((m&oe)===oe){ae!==null&&(ae=ae.next={eventTime:pe,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var we=o,Ee=$;switch(oe=a,pe=u,Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){le=we.call(pe,le,oe);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,oe=typeof we=="function"?we.call(pe,le,oe):we,oe==null)break e;le=ce({},le,oe);break e;case 2:mo=!0}}$.callback!==null&&$.lane!==0&&(o.flags|=64,oe=v.effects,oe===null?v.effects=[$]:oe.push($))}else pe={eventTime:pe,lane:oe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ae===null?(Y=ae=pe,B=le):ae=ae.next=pe,P|=oe;if($=$.next,$===null){if($=v.shared.pending,$===null)break;oe=$,$=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);if(ae===null&&(B=le),v.baseState=B,v.firstBaseUpdate=Y,v.lastBaseUpdate=ae,a=v.shared.interleaved,a!==null){v=a;do P|=v.lane,v=v.next;while(v!==a)}else x===null&&(v.shared.lanes=0);Ca|=P,o.lanes=P,o.memoizedState=le}}function kE(o,a,u){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var m=o[a],v=m.callback;if(v!==null){if(m.callback=null,m=u,typeof v!="function")throw Error(n(191,v));v.call(m)}}}var Iu={},Fs=ho(Iu),Ru=ho(Iu),Au=ho(Iu);function ba(o){if(o===Iu)throw Error(n(174));return o}function dy(o,a){switch(gt(Au,a),gt(Ru,o),gt(Fs,Iu),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ze(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Ze(a,o)}wt(Fs),gt(Fs,a)}function Fl(){wt(Fs),wt(Ru),wt(Au)}function NE(o){ba(Au.current);var a=ba(Fs.current),u=Ze(a,o.type);a!==u&&(gt(Ru,o),gt(Fs,u))}function hy(o){Ru.current===o&&(wt(Fs),wt(Ru))}var Nt=ho(0);function ff(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fy=[];function py(){for(var o=0;o<fy.length;o++)fy[o]._workInProgressVersionPrimary=null;fy.length=0}var pf=U.ReactCurrentDispatcher,my=U.ReactCurrentBatchConfig,Sa=0,Ot=null,on=null,dn=null,mf=!1,Pu=!1,ku=0,FO=0;function Rn(){throw Error(n(321))}function gy(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!cs(o[u],a[u]))return!1;return!0}function yy(o,a,u,m,v,x){if(Sa=x,Ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,pf.current=o===null||o.memoizedState===null?zO:WO,o=u(m,v),Pu){x=0;do{if(Pu=!1,ku=0,25<=x)throw Error(n(301));x+=1,dn=on=null,a.updateQueue=null,pf.current=HO,o=u(m,v)}while(Pu)}if(pf.current=vf,a=on!==null&&on.next!==null,Sa=0,dn=on=Ot=null,mf=!1,a)throw Error(n(300));return o}function vy(){var o=ku!==0;return ku=0,o}function Us(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ot.memoizedState=dn=o:dn=dn.next=o,dn}function Br(){if(on===null){var o=Ot.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var a=dn===null?Ot.memoizedState:dn.next;if(a!==null)dn=a,on=o;else{if(o===null)throw Error(n(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},dn===null?Ot.memoizedState=dn=o:dn=dn.next=o}return dn}function Nu(o,a){return typeof a=="function"?a(o):a}function _y(o){var a=Br(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var m=on,v=m.baseQueue,x=u.pending;if(x!==null){if(v!==null){var P=v.next;v.next=x.next,x.next=P}m.baseQueue=v=x,u.pending=null}if(v!==null){x=v.next,m=m.baseState;var $=P=null,B=null,Y=x;do{var ae=Y.lane;if((Sa&ae)===ae)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:o(m,Y.action);else{var le={lane:ae,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?($=B=le,P=m):B=B.next=le,Ot.lanes|=ae,Ca|=ae}Y=Y.next}while(Y!==null&&Y!==x);B===null?P=m:B.next=$,cs(m,a.memoizedState)||(rr=!0),a.memoizedState=m,a.baseState=P,a.baseQueue=B,u.lastRenderedState=m}if(o=u.interleaved,o!==null){v=o;do x=v.lane,Ot.lanes|=x,Ca|=x,v=v.next;while(v!==o)}else v===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function wy(o){var a=Br(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var m=u.dispatch,v=u.pending,x=a.memoizedState;if(v!==null){u.pending=null;var P=v=v.next;do x=o(x,P.action),P=P.next;while(P!==v);cs(x,a.memoizedState)||(rr=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),u.lastRenderedState=x}return[x,m]}function OE(){}function DE(o,a){var u=Ot,m=Br(),v=a(),x=!cs(m.memoizedState,v);if(x&&(m.memoizedState=v,rr=!0),m=m.queue,xy(ME.bind(null,u,m,o),[o]),m.getSnapshot!==a||x||dn!==null&&dn.memoizedState.tag&1){if(u.flags|=2048,Ou(9,jE.bind(null,u,m,v,a),void 0,null),hn===null)throw Error(n(349));(Sa&30)!==0||LE(u,a,v)}return v}function LE(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=Ot.updateQueue,a===null?(a={lastEffect:null,stores:null},Ot.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function jE(o,a,u,m){a.value=u,a.getSnapshot=m,VE(a)&&FE(o)}function ME(o,a,u){return u(function(){VE(a)&&FE(o)})}function VE(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!cs(o,u)}catch{return!0}}function FE(o){var a=Ei(o,1);a!==null&&ps(a,o,1,-1)}function UE(o){var a=Us();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:o},a.queue=o,o=o.dispatch=BO.bind(null,Ot,o),[a.memoizedState,o]}function Ou(o,a,u,m){return o={tag:o,create:a,destroy:u,deps:m,next:null},a=Ot.updateQueue,a===null?(a={lastEffect:null,stores:null},Ot.updateQueue=a,a.lastEffect=o.next=o):(u=a.lastEffect,u===null?a.lastEffect=o.next=o:(m=u.next,u.next=o,o.next=m,a.lastEffect=o)),o}function $E(){return Br().memoizedState}function gf(o,a,u,m){var v=Us();Ot.flags|=o,v.memoizedState=Ou(1|a,u,void 0,m===void 0?null:m)}function yf(o,a,u,m){var v=Br();m=m===void 0?null:m;var x=void 0;if(on!==null){var P=on.memoizedState;if(x=P.destroy,m!==null&&gy(m,P.deps)){v.memoizedState=Ou(a,u,x,m);return}}Ot.flags|=o,v.memoizedState=Ou(1|a,u,x,m)}function BE(o,a){return gf(8390656,8,o,a)}function xy(o,a){return yf(2048,8,o,a)}function zE(o,a){return yf(4,2,o,a)}function WE(o,a){return yf(4,4,o,a)}function HE(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function qE(o,a,u){return u=u!=null?u.concat([o]):null,yf(4,4,HE.bind(null,a,o),u)}function Ey(){}function KE(o,a){var u=Br();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&gy(a,m[1])?m[0]:(u.memoizedState=[o,a],o)}function GE(o,a){var u=Br();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&gy(a,m[1])?m[0]:(o=o(),u.memoizedState=[o,a],o)}function QE(o,a,u){return(Sa&21)===0?(o.baseState&&(o.baseState=!1,rr=!0),o.memoizedState=u):(cs(u,a)||(u=pa(),Ot.lanes|=u,Ca|=u,o.baseState=!0),a)}function UO(o,a){var u=We;We=u!==0&&4>u?u:4,o(!0);var m=my.transition;my.transition={};try{o(!1),a()}finally{We=u,my.transition=m}}function YE(){return Br().memoizedState}function $O(o,a,u){var m=wo(o);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},XE(o))JE(a,u);else if(u=RE(o,a,u,m),u!==null){var v=Qn();ps(u,o,m,v),ZE(u,a,m)}}function BO(o,a,u){var m=wo(o),v={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(XE(o))JE(a,v);else{var x=o.alternate;if(o.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var P=a.lastRenderedState,$=x(P,u);if(v.hasEagerState=!0,v.eagerState=$,cs($,P)){var B=a.interleaved;B===null?(v.next=v,cy(a)):(v.next=B.next,B.next=v),a.interleaved=v;return}}catch{}finally{}u=RE(o,a,v,m),u!==null&&(v=Qn(),ps(u,o,m,v),ZE(u,a,m))}}function XE(o){var a=o.alternate;return o===Ot||a!==null&&a===Ot}function JE(o,a){Pu=mf=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function ZE(o,a,u){if((u&4194240)!==0){var m=a.lanes;m&=o.pendingLanes,u|=m,a.lanes=u,so(o,u)}}var vf={readContext:$r,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},zO={readContext:$r,useCallback:function(o,a){return Us().memoizedState=[o,a===void 0?null:a],o},useContext:$r,useEffect:BE,useImperativeHandle:function(o,a,u){return u=u!=null?u.concat([o]):null,gf(4194308,4,HE.bind(null,a,o),u)},useLayoutEffect:function(o,a){return gf(4194308,4,o,a)},useInsertionEffect:function(o,a){return gf(4,2,o,a)},useMemo:function(o,a){var u=Us();return a=a===void 0?null:a,o=o(),u.memoizedState=[o,a],o},useReducer:function(o,a,u){var m=Us();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},m.queue=o,o=o.dispatch=$O.bind(null,Ot,o),[m.memoizedState,o]},useRef:function(o){var a=Us();return o={current:o},a.memoizedState=o},useState:UE,useDebugValue:Ey,useDeferredValue:function(o){return Us().memoizedState=o},useTransition:function(){var o=UE(!1),a=o[0];return o=UO.bind(null,o[1]),Us().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,u){var m=Ot,v=Us();if(It){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),hn===null)throw Error(n(349));(Sa&30)!==0||LE(m,a,u)}v.memoizedState=u;var x={value:u,getSnapshot:a};return v.queue=x,BE(ME.bind(null,m,x,o),[o]),m.flags|=2048,Ou(9,jE.bind(null,m,x,u,a),void 0,null),u},useId:function(){var o=Us(),a=hn.identifierPrefix;if(It){var u=xi,m=wi;u=(m&~(1<<32-qn(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=ku++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=FO++,a=":"+a+"r"+u.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},WO={readContext:$r,useCallback:KE,useContext:$r,useEffect:xy,useImperativeHandle:qE,useInsertionEffect:zE,useLayoutEffect:WE,useMemo:GE,useReducer:_y,useRef:$E,useState:function(){return _y(Nu)},useDebugValue:Ey,useDeferredValue:function(o){var a=Br();return QE(a,on.memoizedState,o)},useTransition:function(){var o=_y(Nu)[0],a=Br().memoizedState;return[o,a]},useMutableSource:OE,useSyncExternalStore:DE,useId:YE,unstable_isNewReconciler:!1},HO={readContext:$r,useCallback:KE,useContext:$r,useEffect:xy,useImperativeHandle:qE,useInsertionEffect:zE,useLayoutEffect:WE,useMemo:GE,useReducer:wy,useRef:$E,useState:function(){return wy(Nu)},useDebugValue:Ey,useDeferredValue:function(o){var a=Br();return on===null?a.memoizedState=o:QE(a,on.memoizedState,o)},useTransition:function(){var o=wy(Nu)[0],a=Br().memoizedState;return[o,a]},useMutableSource:OE,useSyncExternalStore:DE,useId:YE,unstable_isNewReconciler:!1};function ds(o,a){if(o&&o.defaultProps){a=ce({},a),o=o.defaultProps;for(var u in o)a[u]===void 0&&(a[u]=o[u]);return a}return a}function Ty(o,a,u,m){a=o.memoizedState,u=u(m,a),u=u==null?a:ce({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var _f={isMounted:function(o){return(o=o._reactInternals)?ns(o)===o:!1},enqueueSetState:function(o,a,u){o=o._reactInternals;var m=Qn(),v=wo(o),x=Ti(m,v);x.payload=a,u!=null&&(x.callback=u),a=go(o,x,v),a!==null&&(ps(a,o,v,m),df(a,o,v))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var m=Qn(),v=wo(o),x=Ti(m,v);x.tag=1,x.payload=a,u!=null&&(x.callback=u),a=go(o,x,v),a!==null&&(ps(a,o,v,m),df(a,o,v))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=Qn(),m=wo(o),v=Ti(u,m);v.tag=2,a!=null&&(v.callback=a),a=go(o,v,m),a!==null&&(ps(a,o,m,u),df(a,o,m))}};function e1(o,a,u,m,v,x,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,x,P):a.prototype&&a.prototype.isPureReactComponent?!_u(u,m)||!_u(v,x):!0}function t1(o,a,u){var m=!1,v=fo,x=a.contextType;return typeof x=="object"&&x!==null?x=$r(x):(v=nr(a)?wa:In.current,m=a.contextTypes,x=(m=m!=null)?Nl(o,v):fo),a=new a(u,x),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_f,o.stateNode=a,a._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=x),a}function n1(o,a,u,m){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==o&&_f.enqueueReplaceState(a,a.state,null)}function by(o,a,u,m){var v=o.stateNode;v.props=u,v.state=o.memoizedState,v.refs={},uy(o);var x=a.contextType;typeof x=="object"&&x!==null?v.context=$r(x):(x=nr(a)?wa:In.current,v.context=Nl(o,x)),v.state=o.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Ty(o,a,x,u),v.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&_f.enqueueReplaceState(v,v.state,null),hf(o,u,v,m),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308)}function Ul(o,a){try{var u="",m=a;do u+=Ae(m),m=m.return;while(m);var v=u}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:o,source:a,stack:v,digest:null}}function Sy(o,a,u){return{value:o,source:null,stack:u??null,digest:a??null}}function Cy(o,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var qO=typeof WeakMap=="function"?WeakMap:Map;function r1(o,a,u){u=Ti(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){Cf||(Cf=!0,$y=m),Cy(o,a)},u}function s1(o,a,u){u=Ti(-1,u),u.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=a.value;u.payload=function(){return m(v)},u.callback=function(){Cy(o,a)}}var x=o.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){Cy(o,a),typeof m!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),u}function i1(o,a,u){var m=o.pingCache;if(m===null){m=o.pingCache=new qO;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(u)||(v.add(u),o=oD.bind(null,o,a,u),a.then(o,o))}function o1(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function a1(o,a,u,m,v){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ti(-1,1),a.tag=2,go(u,a,1))),u.lanes|=1),o):(o.flags|=65536,o.lanes=v,o)}var KO=U.ReactCurrentOwner,rr=!1;function Gn(o,a,u,m){a.child=o===null?IE(a,null,u,m):jl(a,o.child,u,m)}function l1(o,a,u,m,v){u=u.render;var x=a.ref;return Vl(a,v),m=yy(o,a,u,m,x,v),u=vy(),o!==null&&!rr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~v,bi(o,a,v)):(It&&u&&ey(a),a.flags|=1,Gn(o,a,m,v),a.child)}function c1(o,a,u,m,v){if(o===null){var x=u.type;return typeof x=="function"&&!Gy(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=x,u1(o,a,x,m,v)):(o=Nf(u.type,null,m,a,a.mode,v),o.ref=a.ref,o.return=a,a.child=o)}if(x=o.child,(o.lanes&v)===0){var P=x.memoizedProps;if(u=u.compare,u=u!==null?u:_u,u(P,m)&&o.ref===a.ref)return bi(o,a,v)}return a.flags|=1,o=Eo(x,m),o.ref=a.ref,o.return=a,a.child=o}function u1(o,a,u,m,v){if(o!==null){var x=o.memoizedProps;if(_u(x,m)&&o.ref===a.ref)if(rr=!1,a.pendingProps=m=x,(o.lanes&v)!==0)(o.flags&131072)!==0&&(rr=!0);else return a.lanes=o.lanes,bi(o,a,v)}return Iy(o,a,u,m,v)}function d1(o,a,u){var m=a.pendingProps,v=m.children,x=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Bl,br),br|=u;else{if((u&1073741824)===0)return o=x!==null?x.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,gt(Bl,br),br|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=x!==null?x.baseLanes:u,gt(Bl,br),br|=m}else x!==null?(m=x.baseLanes|u,a.memoizedState=null):m=u,gt(Bl,br),br|=m;return Gn(o,a,v,u),a.child}function h1(o,a){var u=a.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Iy(o,a,u,m,v){var x=nr(u)?wa:In.current;return x=Nl(a,x),Vl(a,v),u=yy(o,a,u,m,x,v),m=vy(),o!==null&&!rr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~v,bi(o,a,v)):(It&&m&&ey(a),a.flags|=1,Gn(o,a,u,v),a.child)}function f1(o,a,u,m,v){if(nr(u)){var x=!0;nf(a)}else x=!1;if(Vl(a,v),a.stateNode===null)xf(o,a),t1(a,u,m),by(a,u,m,v),m=!0;else if(o===null){var P=a.stateNode,$=a.memoizedProps;P.props=$;var B=P.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=$r(Y):(Y=nr(u)?wa:In.current,Y=Nl(a,Y));var ae=u.getDerivedStateFromProps,le=typeof ae=="function"||typeof P.getSnapshotBeforeUpdate=="function";le||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==m||B!==Y)&&n1(a,P,m,Y),mo=!1;var oe=a.memoizedState;P.state=oe,hf(a,m,P,v),B=a.memoizedState,$!==m||oe!==B||tr.current||mo?(typeof ae=="function"&&(Ty(a,u,ae,m),B=a.memoizedState),($=mo||e1(a,u,$,m,oe,B,Y))?(le||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=B),P.props=m,P.state=B,P.context=Y,m=$):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{P=a.stateNode,AE(o,a),$=a.memoizedProps,Y=a.type===a.elementType?$:ds(a.type,$),P.props=Y,le=a.pendingProps,oe=P.context,B=u.contextType,typeof B=="object"&&B!==null?B=$r(B):(B=nr(u)?wa:In.current,B=Nl(a,B));var pe=u.getDerivedStateFromProps;(ae=typeof pe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==le||oe!==B)&&n1(a,P,m,B),mo=!1,oe=a.memoizedState,P.state=oe,hf(a,m,P,v);var we=a.memoizedState;$!==le||oe!==we||tr.current||mo?(typeof pe=="function"&&(Ty(a,u,pe,m),we=a.memoizedState),(Y=mo||e1(a,u,Y,m,oe,we,B)||!1)?(ae||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,we,B),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,we,B)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&oe===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&oe===o.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=we),P.props=m,P.state=we,P.context=B,m=Y):(typeof P.componentDidUpdate!="function"||$===o.memoizedProps&&oe===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&oe===o.memoizedState||(a.flags|=1024),m=!1)}return Ry(o,a,u,m,x,v)}function Ry(o,a,u,m,v,x){h1(o,a);var P=(a.flags&128)!==0;if(!m&&!P)return v&&vE(a,u,!1),bi(o,a,x);m=a.stateNode,KO.current=a;var $=P&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,o!==null&&P?(a.child=jl(a,o.child,null,x),a.child=jl(a,null,$,x)):Gn(o,a,$,x),a.memoizedState=m.state,v&&vE(a,u,!0),a.child}function p1(o){var a=o.stateNode;a.pendingContext?gE(o,a.pendingContext,a.pendingContext!==a.context):a.context&&gE(o,a.context,!1),dy(o,a.containerInfo)}function m1(o,a,u,m,v){return Ll(),sy(v),a.flags|=256,Gn(o,a,u,m),a.child}var Ay={dehydrated:null,treeContext:null,retryLane:0};function Py(o){return{baseLanes:o,cachePool:null,transitions:null}}function g1(o,a,u){var m=a.pendingProps,v=Nt.current,x=!1,P=(a.flags&128)!==0,$;if(($=P)||($=o!==null&&o.memoizedState===null?!1:(v&2)!==0),$?(x=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(v|=1),gt(Nt,v&1),o===null)return ry(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(P=m.children,o=m.fallback,x?(m=a.mode,x=a.child,P={mode:"hidden",children:P},(m&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=P):x=Of(P,m,0,null),o=Pa(o,m,u,null),x.return=a,o.return=a,x.sibling=o,a.child=x,a.child.memoizedState=Py(u),a.memoizedState=Ay,o):ky(a,P));if(v=o.memoizedState,v!==null&&($=v.dehydrated,$!==null))return GO(o,a,P,m,$,v,u);if(x){x=m.fallback,P=a.mode,v=o.child,$=v.sibling;var B={mode:"hidden",children:m.children};return(P&1)===0&&a.child!==v?(m=a.child,m.childLanes=0,m.pendingProps=B,a.deletions=null):(m=Eo(v,B),m.subtreeFlags=v.subtreeFlags&14680064),$!==null?x=Eo($,x):(x=Pa(x,P,u,null),x.flags|=2),x.return=a,m.return=a,m.sibling=x,a.child=m,m=x,x=a.child,P=o.child.memoizedState,P=P===null?Py(u):{baseLanes:P.baseLanes|u,cachePool:null,transitions:P.transitions},x.memoizedState=P,x.childLanes=o.childLanes&~u,a.memoizedState=Ay,m}return x=o.child,o=x.sibling,m=Eo(x,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,o!==null&&(u=a.deletions,u===null?(a.deletions=[o],a.flags|=16):u.push(o)),a.child=m,a.memoizedState=null,m}function ky(o,a){return a=Of({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function wf(o,a,u,m){return m!==null&&sy(m),jl(a,o.child,null,u),o=ky(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function GO(o,a,u,m,v,x,P){if(u)return a.flags&256?(a.flags&=-257,m=Sy(Error(n(422))),wf(o,a,P,m)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(x=m.fallback,v=a.mode,m=Of({mode:"visible",children:m.children},v,0,null),x=Pa(x,v,P,null),x.flags|=2,m.return=a,x.return=a,m.sibling=x,a.child=m,(a.mode&1)!==0&&jl(a,o.child,null,P),a.child.memoizedState=Py(P),a.memoizedState=Ay,x);if((a.mode&1)===0)return wf(o,a,P,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var $=m.dgst;return m=$,x=Error(n(419)),m=Sy(x,m,void 0),wf(o,a,P,m)}if($=(P&o.childLanes)!==0,rr||$){if(m=hn,m!==null){switch(P&-P){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|P))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,Ei(o,v),ps(m,o,v,-1))}return Ky(),m=Sy(Error(n(421))),wf(o,a,P,m)}return v.data==="$?"?(a.flags|=128,a.child=o.child,a=aD.bind(null,o),v._reactRetry=a,null):(o=x.treeContext,Tr=uo(v.nextSibling),Er=a,It=!0,us=null,o!==null&&(Fr[Ur++]=wi,Fr[Ur++]=xi,Fr[Ur++]=xa,wi=o.id,xi=o.overflow,xa=a),a=ky(a,m.children),a.flags|=4096,a)}function y1(o,a,u){o.lanes|=a;var m=o.alternate;m!==null&&(m.lanes|=a),ly(o.return,a,u)}function Ny(o,a,u,m,v){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=m,x.tail=u,x.tailMode=v)}function v1(o,a,u){var m=a.pendingProps,v=m.revealOrder,x=m.tail;if(Gn(o,a,m.children,u),m=Nt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&y1(o,u,a);else if(o.tag===19)y1(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(gt(Nt,m),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(u=a.child,v=null;u!==null;)o=u.alternate,o!==null&&ff(o)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Ny(a,!1,v,u,x);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(o=v.alternate,o!==null&&ff(o)===null){a.child=v;break}o=v.sibling,v.sibling=u,u=v,v=o}Ny(a,!0,u,null,x);break;case"together":Ny(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function xf(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function bi(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),Ca|=a.lanes,(u&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,u=Eo(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=Eo(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function QO(o,a,u){switch(a.tag){case 3:p1(a),Ll();break;case 5:NE(a);break;case 1:nr(a.type)&&nf(a);break;case 4:dy(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,v=a.memoizedProps.value;gt(cf,m._currentValue),m._currentValue=v;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(gt(Nt,Nt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?g1(o,a,u):(gt(Nt,Nt.current&1),o=bi(o,a,u),o!==null?o.sibling:null);gt(Nt,Nt.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(o.flags&128)!==0){if(m)return v1(o,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),gt(Nt,Nt.current),m)break;return null;case 22:case 23:return a.lanes=0,d1(o,a,u)}return bi(o,a,u)}var _1,Oy,w1,x1;_1=function(o,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)o.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Oy=function(){},w1=function(o,a,u,m){var v=o.memoizedProps;if(v!==m){o=a.stateNode,ba(Fs.current);var x=null;switch(u){case"input":v=yr(o,v),m=yr(o,m),x=[];break;case"select":v=ce({},v,{value:void 0}),m=ce({},m,{value:void 0}),x=[];break;case"textarea":v=tt(o,v),m=tt(o,m),x=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=Zh)}eu(u,m);var P;u=null;for(Y in v)if(!m.hasOwnProperty(Y)&&v.hasOwnProperty(Y)&&v[Y]!=null)if(Y==="style"){var $=v[Y];for(P in $)$.hasOwnProperty(P)&&(u||(u={}),u[P]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in m){var B=m[Y];if($=v!=null?v[Y]:void 0,m.hasOwnProperty(Y)&&B!==$&&(B!=null||$!=null))if(Y==="style")if($){for(P in $)!$.hasOwnProperty(P)||B&&B.hasOwnProperty(P)||(u||(u={}),u[P]="");for(P in B)B.hasOwnProperty(P)&&$[P]!==B[P]&&(u||(u={}),u[P]=B[P])}else u||(x||(x=[]),x.push(Y,u)),u=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,$=$?$.__html:void 0,B!=null&&$!==B&&(x=x||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&_t("scroll",o),x||$===B||(x=[])):(x=x||[]).push(Y,B))}u&&(x=x||[]).push("style",u);var Y=x;(a.updateQueue=Y)&&(a.flags|=4)}},x1=function(o,a,u,m){u!==m&&(a.flags|=4)};function Du(o,a){if(!It)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function An(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,m=0;if(a)for(var v=o.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=m,o.childLanes=u,a}function YO(o,a,u){var m=a.pendingProps;switch(ty(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(a),null;case 1:return nr(a.type)&&tf(),An(a),null;case 3:return m=a.stateNode,Fl(),wt(tr),wt(In),py(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(af(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,us!==null&&(Wy(us),us=null))),Oy(o,a),An(a),null;case 5:hy(a);var v=ba(Au.current);if(u=a.type,o!==null&&a.stateNode!=null)w1(o,a,u,m,v),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return An(a),null}if(o=ba(Fs.current),af(a)){m=a.stateNode,u=a.type;var x=a.memoizedProps;switch(m[Vs]=a,m[bu]=x,o=(a.mode&1)!==0,u){case"dialog":_t("cancel",m),_t("close",m);break;case"iframe":case"object":case"embed":_t("load",m);break;case"video":case"audio":for(v=0;v<xu.length;v++)_t(xu[v],m);break;case"source":_t("error",m);break;case"img":case"image":case"link":_t("error",m),_t("load",m);break;case"details":_t("toggle",m);break;case"input":Is(m,x),_t("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!x.multiple},_t("invalid",m);break;case"textarea":dt(m,x),_t("invalid",m)}eu(u,x),v=null;for(var P in x)if(x.hasOwnProperty(P)){var $=x[P];P==="children"?typeof $=="string"?m.textContent!==$&&(x.suppressHydrationWarning!==!0&&Jh(m.textContent,$,o),v=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(x.suppressHydrationWarning!==!0&&Jh(m.textContent,$,o),v=["children",""+$]):s.hasOwnProperty(P)&&$!=null&&P==="onScroll"&&_t("scroll",m)}switch(u){case"input":Cn(m),Ji(m,x,!0);break;case"textarea":Cn(m),Hn(m);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(m.onclick=Zh)}m=v,a.updateQueue=m,m!==null&&(a.flags|=4)}else{P=v.nodeType===9?v:v.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ot(u)),o==="http://www.w3.org/1999/xhtml"?u==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=P.createElement(u,{is:m.is}):(o=P.createElement(u),u==="select"&&(P=o,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):o=P.createElementNS(o,u),o[Vs]=a,o[bu]=m,_1(o,a,!1,!1),a.stateNode=o;e:{switch(P=tu(u,m),u){case"dialog":_t("cancel",o),_t("close",o),v=m;break;case"iframe":case"object":case"embed":_t("load",o),v=m;break;case"video":case"audio":for(v=0;v<xu.length;v++)_t(xu[v],o);v=m;break;case"source":_t("error",o),v=m;break;case"img":case"image":case"link":_t("error",o),_t("load",o),v=m;break;case"details":_t("toggle",o),v=m;break;case"input":Is(o,m),v=yr(o,m),_t("invalid",o);break;case"option":v=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},v=ce({},m,{value:void 0}),_t("invalid",o);break;case"textarea":dt(o,m),v=tt(o,m),_t("invalid",o);break;default:v=m}eu(u,v),$=v;for(x in $)if($.hasOwnProperty(x)){var B=$[x];x==="style"?Jc(o,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&di(o,B)):x==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&Zi(o,B):typeof B=="number"&&Zi(o,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?B!=null&&x==="onScroll"&&_t("scroll",o):B!=null&&M(o,x,B,P))}switch(u){case"input":Cn(o),Ji(o,m,!1);break;case"textarea":Cn(o),Hn(o);break;case"option":m.value!=null&&o.setAttribute("value",""+Ve(m.value));break;case"select":o.multiple=!!m.multiple,x=m.value,x!=null?Oe(o,!!m.multiple,x,!1):m.defaultValue!=null&&Oe(o,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=Zh)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return An(a),null;case 6:if(o&&a.stateNode!=null)x1(o,a,o.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=ba(Au.current),ba(Fs.current),af(a)){if(m=a.stateNode,u=a.memoizedProps,m[Vs]=a,(x=m.nodeValue!==u)&&(o=Er,o!==null))switch(o.tag){case 3:Jh(m.nodeValue,u,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Jh(m.nodeValue,u,(o.mode&1)!==0)}x&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Vs]=a,a.stateNode=m}return An(a),null;case 13:if(wt(Nt),m=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(It&&Tr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)bE(),Ll(),a.flags|=98560,x=!1;else if(x=af(a),m!==null&&m.dehydrated!==null){if(o===null){if(!x)throw Error(n(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Vs]=a}else Ll(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;An(a),x=!1}else us!==null&&(Wy(us),us=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Nt.current&1)!==0?an===0&&(an=3):Ky())),a.updateQueue!==null&&(a.flags|=4),An(a),null);case 4:return Fl(),Oy(o,a),o===null&&Eu(a.stateNode.containerInfo),An(a),null;case 10:return ay(a.type._context),An(a),null;case 17:return nr(a.type)&&tf(),An(a),null;case 19:if(wt(Nt),x=a.memoizedState,x===null)return An(a),null;if(m=(a.flags&128)!==0,P=x.rendering,P===null)if(m)Du(x,!1);else{if(an!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(P=ff(o),P!==null){for(a.flags|=128,Du(x,!1),m=P.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)x=u,o=m,x.flags&=14680066,P=x.alternate,P===null?(x.childLanes=0,x.lanes=o,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=P.childLanes,x.lanes=P.lanes,x.child=P.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=P.memoizedProps,x.memoizedState=P.memoizedState,x.updateQueue=P.updateQueue,x.type=P.type,o=P.dependencies,x.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),u=u.sibling;return gt(Nt,Nt.current&1|2),a.child}o=o.sibling}x.tail!==null&&mt()>zl&&(a.flags|=128,m=!0,Du(x,!1),a.lanes=4194304)}else{if(!m)if(o=ff(P),o!==null){if(a.flags|=128,m=!0,u=o.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Du(x,!0),x.tail===null&&x.tailMode==="hidden"&&!P.alternate&&!It)return An(a),null}else 2*mt()-x.renderingStartTime>zl&&u!==1073741824&&(a.flags|=128,m=!0,Du(x,!1),a.lanes=4194304);x.isBackwards?(P.sibling=a.child,a.child=P):(u=x.last,u!==null?u.sibling=P:a.child=P,x.last=P)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=mt(),a.sibling=null,u=Nt.current,gt(Nt,m?u&1|2:u&1),a):(An(a),null);case 22:case 23:return qy(),m=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(br&1073741824)!==0&&(An(a),a.subtreeFlags&6&&(a.flags|=8192)):An(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function XO(o,a){switch(ty(a),a.tag){case 1:return nr(a.type)&&tf(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Fl(),wt(tr),wt(In),py(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return hy(a),null;case 13:if(wt(Nt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ll()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return wt(Nt),null;case 4:return Fl(),null;case 10:return ay(a.type._context),null;case 22:case 23:return qy(),null;case 24:return null;default:return null}}var Ef=!1,Pn=!1,JO=typeof WeakSet=="function"?WeakSet:Set,ve=null;function $l(o,a){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Vt(o,a,m)}else u.current=null}function Dy(o,a,u){try{u()}catch(m){Vt(o,a,m)}}var E1=!1;function ZO(o,a){if(qg=ao,o=eE(),Vg(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var P=0,$=-1,B=-1,Y=0,ae=0,le=o,oe=null;t:for(;;){for(var pe;le!==u||v!==0&&le.nodeType!==3||($=P+v),le!==x||m!==0&&le.nodeType!==3||(B=P+m),le.nodeType===3&&(P+=le.nodeValue.length),(pe=le.firstChild)!==null;)oe=le,le=pe;for(;;){if(le===o)break t;if(oe===u&&++Y===v&&($=P),oe===x&&++ae===m&&(B=P),(pe=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=pe}u=$===-1||B===-1?null:{start:$,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Kg={focusedElem:o,selectionRange:u},ao=!1,ve=a;ve!==null;)if(a=ve,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ve=o;else for(;ve!==null;){a=ve;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ee=we.memoizedProps,Ht=we.memoizedState,G=a.stateNode,H=G.getSnapshotBeforeUpdate(a.elementType===a.type?Ee:ds(a.type,Ee),Ht);G.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Vt(a,a.return,ue)}if(o=a.sibling,o!==null){o.return=a.return,ve=o;break}ve=a.return}return we=E1,E1=!1,we}function Lu(o,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&o)===o){var x=v.destroy;v.destroy=void 0,x!==void 0&&Dy(a,u,x)}v=v.next}while(v!==m)}}function Tf(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&o)===o){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function Ly(o){var a=o.ref;if(a!==null){var u=o.stateNode;switch(o.tag){case 5:o=u;break;default:o=u}typeof a=="function"?a(o):a.current=o}}function T1(o){var a=o.alternate;a!==null&&(o.alternate=null,T1(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Vs],delete a[bu],delete a[Xg],delete a[LO],delete a[jO])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function b1(o){return o.tag===5||o.tag===3||o.tag===4}function S1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||b1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function jy(o,a,u){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(o,a):u.insertBefore(o,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(o,u)):(a=u,a.appendChild(o)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Zh));else if(m!==4&&(o=o.child,o!==null))for(jy(o,a,u),o=o.sibling;o!==null;)jy(o,a,u),o=o.sibling}function My(o,a,u){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(My(o,a,u),o=o.sibling;o!==null;)My(o,a,u),o=o.sibling}var wn=null,hs=!1;function yo(o,a,u){for(u=u.child;u!==null;)C1(o,a,u),u=u.sibling}function C1(o,a,u){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(ha,u)}catch{}switch(u.tag){case 5:Pn||$l(u,a);case 6:var m=wn,v=hs;wn=null,yo(o,a,u),wn=m,hs=v,wn!==null&&(hs?(o=wn,u=u.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):wn.removeChild(u.stateNode));break;case 18:wn!==null&&(hs?(o=wn,u=u.stateNode,o.nodeType===8?Yg(o.parentNode,u):o.nodeType===1&&Yg(o,u),as(o)):Yg(wn,u.stateNode));break;case 4:m=wn,v=hs,wn=u.stateNode.containerInfo,hs=!0,yo(o,a,u),wn=m,hs=v;break;case 0:case 11:case 14:case 15:if(!Pn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var x=v,P=x.destroy;x=x.tag,P!==void 0&&((x&2)!==0||(x&4)!==0)&&Dy(u,a,P),v=v.next}while(v!==m)}yo(o,a,u);break;case 1:if(!Pn&&($l(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch($){Vt(u,a,$)}yo(o,a,u);break;case 21:yo(o,a,u);break;case 22:u.mode&1?(Pn=(m=Pn)||u.memoizedState!==null,yo(o,a,u),Pn=m):yo(o,a,u);break;default:yo(o,a,u)}}function I1(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new JO),a.forEach(function(m){var v=lD.bind(null,o,m);u.has(m)||(u.add(m),m.then(v,v))})}}function fs(o,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m];try{var x=o,P=a,$=P;e:for(;$!==null;){switch($.tag){case 5:wn=$.stateNode,hs=!1;break e;case 3:wn=$.stateNode.containerInfo,hs=!0;break e;case 4:wn=$.stateNode.containerInfo,hs=!0;break e}$=$.return}if(wn===null)throw Error(n(160));C1(x,P,v),wn=null,hs=!1;var B=v.alternate;B!==null&&(B.return=null),v.return=null}catch(Y){Vt(v,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)R1(a,o),a=a.sibling}function R1(o,a){var u=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(fs(a,o),$s(o),m&4){try{Lu(3,o,o.return),Tf(3,o)}catch(Ee){Vt(o,o.return,Ee)}try{Lu(5,o,o.return)}catch(Ee){Vt(o,o.return,Ee)}}break;case 1:fs(a,o),$s(o),m&512&&u!==null&&$l(u,u.return);break;case 5:if(fs(a,o),$s(o),m&512&&u!==null&&$l(u,u.return),o.flags&32){var v=o.stateNode;try{Zi(v,"")}catch(Ee){Vt(o,o.return,Ee)}}if(m&4&&(v=o.stateNode,v!=null)){var x=o.memoizedProps,P=u!==null?u.memoizedProps:x,$=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{$==="input"&&x.type==="radio"&&x.name!=null&&Rs(v,x),tu($,P);var Y=tu($,x);for(P=0;P<B.length;P+=2){var ae=B[P],le=B[P+1];ae==="style"?Jc(v,le):ae==="dangerouslySetInnerHTML"?di(v,le):ae==="children"?Zi(v,le):M(v,ae,le,Y)}switch($){case"input":As(v,x);break;case"textarea":Wn(v,x);break;case"select":var oe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var pe=x.value;pe!=null?Oe(v,!!x.multiple,pe,!1):oe!==!!x.multiple&&(x.defaultValue!=null?Oe(v,!!x.multiple,x.defaultValue,!0):Oe(v,!!x.multiple,x.multiple?[]:"",!1))}v[bu]=x}catch(Ee){Vt(o,o.return,Ee)}}break;case 6:if(fs(a,o),$s(o),m&4){if(o.stateNode===null)throw Error(n(162));v=o.stateNode,x=o.memoizedProps;try{v.nodeValue=x}catch(Ee){Vt(o,o.return,Ee)}}break;case 3:if(fs(a,o),$s(o),m&4&&u!==null&&u.memoizedState.isDehydrated)try{as(a.containerInfo)}catch(Ee){Vt(o,o.return,Ee)}break;case 4:fs(a,o),$s(o);break;case 13:fs(a,o),$s(o),v=o.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(Uy=mt())),m&4&&I1(o);break;case 22:if(ae=u!==null&&u.memoizedState!==null,o.mode&1?(Pn=(Y=Pn)||ae,fs(a,o),Pn=Y):fs(a,o),$s(o),m&8192){if(Y=o.memoizedState!==null,(o.stateNode.isHidden=Y)&&!ae&&(o.mode&1)!==0)for(ve=o,ae=o.child;ae!==null;){for(le=ve=ae;ve!==null;){switch(oe=ve,pe=oe.child,oe.tag){case 0:case 11:case 14:case 15:Lu(4,oe,oe.return);break;case 1:$l(oe,oe.return);var we=oe.stateNode;if(typeof we.componentWillUnmount=="function"){m=oe,u=oe.return;try{a=m,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(Ee){Vt(m,u,Ee)}}break;case 5:$l(oe,oe.return);break;case 22:if(oe.memoizedState!==null){k1(le);continue}}pe!==null?(pe.return=oe,ve=pe):k1(le)}ae=ae.sibling}e:for(ae=null,le=o;;){if(le.tag===5){if(ae===null){ae=le;try{v=le.stateNode,Y?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):($=le.stateNode,B=le.memoizedProps.style,P=B!=null&&B.hasOwnProperty("display")?B.display:null,$.style.display=Xc("display",P))}catch(Ee){Vt(o,o.return,Ee)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(Ee){Vt(o,o.return,Ee)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===o)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===o)break e;for(;le.sibling===null;){if(le.return===null||le.return===o)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:fs(a,o),$s(o),m&4&&I1(o);break;case 21:break;default:fs(a,o),$s(o)}}function $s(o){var a=o.flags;if(a&2){try{e:{for(var u=o.return;u!==null;){if(b1(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Zi(v,""),m.flags&=-33);var x=S1(o);My(o,x,v);break;case 3:case 4:var P=m.stateNode.containerInfo,$=S1(o);jy(o,$,P);break;default:throw Error(n(161))}}catch(B){Vt(o,o.return,B)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function eD(o,a,u){ve=o,A1(o)}function A1(o,a,u){for(var m=(o.mode&1)!==0;ve!==null;){var v=ve,x=v.child;if(v.tag===22&&m){var P=v.memoizedState!==null||Ef;if(!P){var $=v.alternate,B=$!==null&&$.memoizedState!==null||Pn;$=Ef;var Y=Pn;if(Ef=P,(Pn=B)&&!Y)for(ve=v;ve!==null;)P=ve,B=P.child,P.tag===22&&P.memoizedState!==null?N1(v):B!==null?(B.return=P,ve=B):N1(v);for(;x!==null;)ve=x,A1(x),x=x.sibling;ve=v,Ef=$,Pn=Y}P1(o)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,ve=x):P1(o)}}function P1(o){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Pn||Tf(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Pn)if(u===null)m.componentDidMount();else{var v=a.elementType===a.type?u.memoizedProps:ds(a.type,u.memoizedProps);m.componentDidUpdate(v,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&kE(a,x,m);break;case 3:var P=a.updateQueue;if(P!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}kE(a,P,u)}break;case 5:var $=a.stateNode;if(u===null&&a.flags&4){u=$;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ae=Y.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&as(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pn||a.flags&512&&Ly(a)}catch(oe){Vt(a,a.return,oe)}}if(a===o){ve=null;break}if(u=a.sibling,u!==null){u.return=a.return,ve=u;break}ve=a.return}}function k1(o){for(;ve!==null;){var a=ve;if(a===o){ve=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ve=u;break}ve=a.return}}function N1(o){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Tf(4,a)}catch(B){Vt(a,u,B)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var v=a.return;try{m.componentDidMount()}catch(B){Vt(a,v,B)}}var x=a.return;try{Ly(a)}catch(B){Vt(a,x,B)}break;case 5:var P=a.return;try{Ly(a)}catch(B){Vt(a,P,B)}}}catch(B){Vt(a,a.return,B)}if(a===o){ve=null;break}var $=a.sibling;if($!==null){$.return=a.return,ve=$;break}ve=a.return}}var tD=Math.ceil,bf=U.ReactCurrentDispatcher,Vy=U.ReactCurrentOwner,zr=U.ReactCurrentBatchConfig,Xe=0,hn=null,Jt=null,xn=0,br=0,Bl=ho(0),an=0,ju=null,Ca=0,Sf=0,Fy=0,Mu=null,sr=null,Uy=0,zl=1/0,Si=null,Cf=!1,$y=null,vo=null,If=!1,_o=null,Rf=0,Vu=0,By=null,Af=-1,Pf=0;function Qn(){return(Xe&6)!==0?mt():Af!==-1?Af:Af=mt()}function wo(o){return(o.mode&1)===0?1:(Xe&2)!==0&&xn!==0?xn&-xn:VO.transition!==null?(Pf===0&&(Pf=pa()),Pf):(o=We,o!==0||(o=window.event,o=o===void 0?16:hu(o.type)),o)}function ps(o,a,u,m){if(50<Vu)throw Vu=0,By=null,Error(n(185));ro(o,u,m),((Xe&2)===0||o!==hn)&&(o===hn&&((Xe&2)===0&&(Sf|=u),an===4&&xo(o,xn)),ir(o,m),u===1&&Xe===0&&(a.mode&1)===0&&(zl=mt()+500,rf&&po()))}function ir(o,a){var u=o.callbackNode;fi(o,a);var m=fa(o,o===hn?xn:0);if(m===0)u!==null&&au(u),o.callbackNode=null,o.callbackPriority=0;else if(a=m&-m,o.callbackPriority!==a){if(u!=null&&au(u),a===1)o.tag===0?MO(D1.bind(null,o)):_E(D1.bind(null,o)),OO(function(){(Xe&6)===0&&po()}),u=null;else{switch(io(m)){case 1:u=da;break;case 4:u=eo;break;case 16:u=jr;break;case 536870912:u=Ah;break;default:u=jr}u=B1(u,O1.bind(null,o))}o.callbackPriority=a,o.callbackNode=u}}function O1(o,a){if(Af=-1,Pf=0,(Xe&6)!==0)throw Error(n(327));var u=o.callbackNode;if(Wl()&&o.callbackNode!==u)return null;var m=fa(o,o===hn?xn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||a)a=kf(o,m);else{a=m;var v=Xe;Xe|=2;var x=j1();(hn!==o||xn!==a)&&(Si=null,zl=mt()+500,Ra(o,a));do try{sD();break}catch($){L1(o,$)}while(!0);oy(),bf.current=x,Xe=v,Jt!==null?a=0:(hn=null,xn=0,a=an)}if(a!==0){if(a===2&&(v=_r(o),v!==0&&(m=v,a=zy(o,v))),a===1)throw u=ju,Ra(o,0),xo(o,m),ir(o,mt()),u;if(a===6)xo(o,m);else{if(v=o.current.alternate,(m&30)===0&&!nD(v)&&(a=kf(o,m),a===2&&(x=_r(o),x!==0&&(m=x,a=zy(o,x))),a===1))throw u=ju,Ra(o,0),xo(o,m),ir(o,mt()),u;switch(o.finishedWork=v,o.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Aa(o,sr,Si);break;case 3:if(xo(o,m),(m&130023424)===m&&(a=Uy+500-mt(),10<a)){if(fa(o,0)!==0)break;if(v=o.suspendedLanes,(v&m)!==m){Qn(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=Qg(Aa.bind(null,o,sr,Si),a);break}Aa(o,sr,Si);break;case 4:if(xo(o,m),(m&4194240)===m)break;for(a=o.eventTimes,v=-1;0<m;){var P=31-qn(m);x=1<<P,P=a[P],P>v&&(v=P),m&=~x}if(m=v,m=mt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*tD(m/1960))-m,10<m){o.timeoutHandle=Qg(Aa.bind(null,o,sr,Si),m);break}Aa(o,sr,Si);break;case 5:Aa(o,sr,Si);break;default:throw Error(n(329))}}}return ir(o,mt()),o.callbackNode===u?O1.bind(null,o):null}function zy(o,a){var u=Mu;return o.current.memoizedState.isDehydrated&&(Ra(o,a).flags|=256),o=kf(o,a),o!==2&&(a=sr,sr=u,a!==null&&Wy(a)),o}function Wy(o){sr===null?sr=o:sr.push.apply(sr,o)}function nD(o){for(var a=o;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var v=u[m],x=v.getSnapshot;v=v.value;try{if(!cs(x(),v))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xo(o,a){for(a&=~Fy,a&=~Sf,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var u=31-qn(a),m=1<<u;o[u]=-1,a&=~m}}function D1(o){if((Xe&6)!==0)throw Error(n(327));Wl();var a=fa(o,0);if((a&1)===0)return ir(o,mt()),null;var u=kf(o,a);if(o.tag!==0&&u===2){var m=_r(o);m!==0&&(a=m,u=zy(o,m))}if(u===1)throw u=ju,Ra(o,0),xo(o,a),ir(o,mt()),u;if(u===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Aa(o,sr,Si),ir(o,mt()),null}function Hy(o,a){var u=Xe;Xe|=1;try{return o(a)}finally{Xe=u,Xe===0&&(zl=mt()+500,rf&&po())}}function Ia(o){_o!==null&&_o.tag===0&&(Xe&6)===0&&Wl();var a=Xe;Xe|=1;var u=zr.transition,m=We;try{if(zr.transition=null,We=1,o)return o()}finally{We=m,zr.transition=u,Xe=a,(Xe&6)===0&&po()}}function qy(){br=Bl.current,wt(Bl)}function Ra(o,a){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==-1&&(o.timeoutHandle=-1,NO(u)),Jt!==null)for(u=Jt.return;u!==null;){var m=u;switch(ty(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&tf();break;case 3:Fl(),wt(tr),wt(In),py();break;case 5:hy(m);break;case 4:Fl();break;case 13:wt(Nt);break;case 19:wt(Nt);break;case 10:ay(m.type._context);break;case 22:case 23:qy()}u=u.return}if(hn=o,Jt=o=Eo(o.current,null),xn=br=a,an=0,ju=null,Fy=Sf=Ca=0,sr=Mu=null,Ta!==null){for(a=0;a<Ta.length;a++)if(u=Ta[a],m=u.interleaved,m!==null){u.interleaved=null;var v=m.next,x=u.pending;if(x!==null){var P=x.next;x.next=v,m.next=P}u.pending=m}Ta=null}return o}function L1(o,a){do{var u=Jt;try{if(oy(),pf.current=vf,mf){for(var m=Ot.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}mf=!1}if(Sa=0,dn=on=Ot=null,Pu=!1,ku=0,Vy.current=null,u===null||u.return===null){an=1,ju=a,Jt=null;break}e:{var x=o,P=u.return,$=u,B=a;if(a=xn,$.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,ae=$,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var pe=o1(P);if(pe!==null){pe.flags&=-257,a1(pe,P,$,x,a),pe.mode&1&&i1(x,Y,a),a=pe,B=Y;var we=a.updateQueue;if(we===null){var Ee=new Set;Ee.add(B),a.updateQueue=Ee}else we.add(B);break e}else{if((a&1)===0){i1(x,Y,a),Ky();break e}B=Error(n(426))}}else if(It&&$.mode&1){var Ht=o1(P);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),a1(Ht,P,$,x,a),sy(Ul(B,$));break e}}x=B=Ul(B,$),an!==4&&(an=2),Mu===null?Mu=[x]:Mu.push(x),x=P;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var G=r1(x,B,a);PE(x,G);break e;case 1:$=B;var H=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(vo===null||!vo.has(Q)))){x.flags|=65536,a&=-a,x.lanes|=a;var ue=s1(x,$,a);PE(x,ue);break e}}x=x.return}while(x!==null)}V1(u)}catch(be){a=be,Jt===u&&u!==null&&(Jt=u=u.return);continue}break}while(!0)}function j1(){var o=bf.current;return bf.current=vf,o===null?vf:o}function Ky(){(an===0||an===3||an===2)&&(an=4),hn===null||(Ca&268435455)===0&&(Sf&268435455)===0||xo(hn,xn)}function kf(o,a){var u=Xe;Xe|=2;var m=j1();(hn!==o||xn!==a)&&(Si=null,Ra(o,a));do try{rD();break}catch(v){L1(o,v)}while(!0);if(oy(),Xe=u,bf.current=m,Jt!==null)throw Error(n(261));return hn=null,xn=0,an}function rD(){for(;Jt!==null;)M1(Jt)}function sD(){for(;Jt!==null&&!Ih();)M1(Jt)}function M1(o){var a=$1(o.alternate,o,br);o.memoizedProps=o.pendingProps,a===null?V1(o):Jt=a,Vy.current=null}function V1(o){var a=o;do{var u=a.alternate;if(o=a.return,(a.flags&32768)===0){if(u=YO(u,a,br),u!==null){Jt=u;return}}else{if(u=XO(u,a),u!==null){u.flags&=32767,Jt=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{an=6,Jt=null;return}}if(a=a.sibling,a!==null){Jt=a;return}Jt=a=o}while(a!==null);an===0&&(an=5)}function Aa(o,a,u){var m=We,v=zr.transition;try{zr.transition=null,We=1,iD(o,a,u,m)}finally{zr.transition=v,We=m}return null}function iD(o,a,u,m){do Wl();while(_o!==null);if((Xe&6)!==0)throw Error(n(327));u=o.finishedWork;var v=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var x=u.lanes|u.childLanes;if(ht(o,x),o===hn&&(Jt=hn=null,xn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||If||(If=!0,B1(jr,function(){return Wl(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=zr.transition,zr.transition=null;var P=We;We=1;var $=Xe;Xe|=4,Vy.current=null,ZO(o,u),R1(u,o),SO(Kg),ao=!!qg,Kg=qg=null,o.current=u,eD(u),Pg(),Xe=$,We=P,zr.transition=x}else o.current=u;if(If&&(If=!1,_o=o,Rf=v),x=o.pendingLanes,x===0&&(vo=null),Ph(u.stateNode),ir(o,mt()),a!==null)for(m=o.onRecoverableError,u=0;u<a.length;u++)v=a[u],m(v.value,{componentStack:v.stack,digest:v.digest});if(Cf)throw Cf=!1,o=$y,$y=null,o;return(Rf&1)!==0&&o.tag!==0&&Wl(),x=o.pendingLanes,(x&1)!==0?o===By?Vu++:(Vu=0,By=o):Vu=0,po(),null}function Wl(){if(_o!==null){var o=io(Rf),a=zr.transition,u=We;try{if(zr.transition=null,We=16>o?16:o,_o===null)var m=!1;else{if(o=_o,_o=null,Rf=0,(Xe&6)!==0)throw Error(n(331));var v=Xe;for(Xe|=4,ve=o.current;ve!==null;){var x=ve,P=x.child;if((ve.flags&16)!==0){var $=x.deletions;if($!==null){for(var B=0;B<$.length;B++){var Y=$[B];for(ve=Y;ve!==null;){var ae=ve;switch(ae.tag){case 0:case 11:case 15:Lu(8,ae,x)}var le=ae.child;if(le!==null)le.return=ae,ve=le;else for(;ve!==null;){ae=ve;var oe=ae.sibling,pe=ae.return;if(T1(ae),ae===Y){ve=null;break}if(oe!==null){oe.return=pe,ve=oe;break}ve=pe}}}var we=x.alternate;if(we!==null){var Ee=we.child;if(Ee!==null){we.child=null;do{var Ht=Ee.sibling;Ee.sibling=null,Ee=Ht}while(Ee!==null)}}ve=x}}if((x.subtreeFlags&2064)!==0&&P!==null)P.return=x,ve=P;else e:for(;ve!==null;){if(x=ve,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Lu(9,x,x.return)}var G=x.sibling;if(G!==null){G.return=x.return,ve=G;break e}ve=x.return}}var H=o.current;for(ve=H;ve!==null;){P=ve;var Q=P.child;if((P.subtreeFlags&2064)!==0&&Q!==null)Q.return=P,ve=Q;else e:for(P=H;ve!==null;){if($=ve,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Tf(9,$)}}catch(be){Vt($,$.return,be)}if($===P){ve=null;break e}var ue=$.sibling;if(ue!==null){ue.return=$.return,ve=ue;break e}ve=$.return}}if(Xe=v,po(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(ha,o)}catch{}m=!0}return m}finally{We=u,zr.transition=a}}return!1}function F1(o,a,u){a=Ul(u,a),a=r1(o,a,1),o=go(o,a,1),a=Qn(),o!==null&&(ro(o,1,a),ir(o,a))}function Vt(o,a,u){if(o.tag===3)F1(o,o,u);else for(;a!==null;){if(a.tag===3){F1(a,o,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(vo===null||!vo.has(m))){o=Ul(u,o),o=s1(a,o,1),a=go(a,o,1),o=Qn(),a!==null&&(ro(a,1,o),ir(a,o));break}}a=a.return}}function oD(o,a,u){var m=o.pingCache;m!==null&&m.delete(a),a=Qn(),o.pingedLanes|=o.suspendedLanes&u,hn===o&&(xn&u)===u&&(an===4||an===3&&(xn&130023424)===xn&&500>mt()-Uy?Ra(o,0):Fy|=u),ir(o,a)}function U1(o,a){a===0&&((o.mode&1)===0?a=1:(a=fl,fl<<=1,(fl&130023424)===0&&(fl=4194304)));var u=Qn();o=Ei(o,a),o!==null&&(ro(o,a,u),ir(o,u))}function aD(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),U1(o,u)}function lD(o,a){var u=0;switch(o.tag){case 13:var m=o.stateNode,v=o.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),U1(o,u)}var $1;$1=function(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps||tr.current)rr=!0;else{if((o.lanes&u)===0&&(a.flags&128)===0)return rr=!1,QO(o,a,u);rr=(o.flags&131072)!==0}else rr=!1,It&&(a.flags&1048576)!==0&&wE(a,of,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;xf(o,a),o=a.pendingProps;var v=Nl(a,In.current);Vl(a,u),v=yy(null,a,m,o,v,u);var x=vy();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,nr(m)?(x=!0,nf(a)):x=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,uy(a),v.updater=_f,a.stateNode=v,v._reactInternals=a,by(a,m,o,u),a=Ry(null,a,m,!0,x,u)):(a.tag=0,It&&x&&ey(a),Gn(null,a,v,u),a=a.child),a;case 16:m=a.elementType;e:{switch(xf(o,a),o=a.pendingProps,v=m._init,m=v(m._payload),a.type=m,v=a.tag=uD(m),o=ds(m,o),v){case 0:a=Iy(null,a,m,o,u);break e;case 1:a=f1(null,a,m,o,u);break e;case 11:a=l1(null,a,m,o,u);break e;case 14:a=c1(null,a,m,ds(m.type,o),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ds(m,v),Iy(o,a,m,v,u);case 1:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ds(m,v),f1(o,a,m,v,u);case 3:e:{if(p1(a),o===null)throw Error(n(387));m=a.pendingProps,x=a.memoizedState,v=x.element,AE(o,a),hf(a,m,null,u);var P=a.memoizedState;if(m=P.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){v=Ul(Error(n(423)),a),a=m1(o,a,m,u,v);break e}else if(m!==v){v=Ul(Error(n(424)),a),a=m1(o,a,m,u,v);break e}else for(Tr=uo(a.stateNode.containerInfo.firstChild),Er=a,It=!0,us=null,u=IE(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ll(),m===v){a=bi(o,a,u);break e}Gn(o,a,m,u)}a=a.child}return a;case 5:return NE(a),o===null&&ry(a),m=a.type,v=a.pendingProps,x=o!==null?o.memoizedProps:null,P=v.children,Gg(m,v)?P=null:x!==null&&Gg(m,x)&&(a.flags|=32),h1(o,a),Gn(o,a,P,u),a.child;case 6:return o===null&&ry(a),null;case 13:return g1(o,a,u);case 4:return dy(a,a.stateNode.containerInfo),m=a.pendingProps,o===null?a.child=jl(a,null,m,u):Gn(o,a,m,u),a.child;case 11:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ds(m,v),l1(o,a,m,v,u);case 7:return Gn(o,a,a.pendingProps,u),a.child;case 8:return Gn(o,a,a.pendingProps.children,u),a.child;case 12:return Gn(o,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,v=a.pendingProps,x=a.memoizedProps,P=v.value,gt(cf,m._currentValue),m._currentValue=P,x!==null)if(cs(x.value,P)){if(x.children===v.children&&!tr.current){a=bi(o,a,u);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var $=x.dependencies;if($!==null){P=x.child;for(var B=$.firstContext;B!==null;){if(B.context===m){if(x.tag===1){B=Ti(-1,u&-u),B.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var ae=Y.pending;ae===null?B.next=B:(B.next=ae.next,ae.next=B),Y.pending=B}}x.lanes|=u,B=x.alternate,B!==null&&(B.lanes|=u),ly(x.return,u,a),$.lanes|=u;break}B=B.next}}else if(x.tag===10)P=x.type===a.type?null:x.child;else if(x.tag===18){if(P=x.return,P===null)throw Error(n(341));P.lanes|=u,$=P.alternate,$!==null&&($.lanes|=u),ly(P,u,a),P=x.sibling}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===a){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}Gn(o,a,v.children,u),a=a.child}return a;case 9:return v=a.type,m=a.pendingProps.children,Vl(a,u),v=$r(v),m=m(v),a.flags|=1,Gn(o,a,m,u),a.child;case 14:return m=a.type,v=ds(m,a.pendingProps),v=ds(m.type,v),c1(o,a,m,v,u);case 15:return u1(o,a,a.type,a.pendingProps,u);case 17:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ds(m,v),xf(o,a),a.tag=1,nr(m)?(o=!0,nf(a)):o=!1,Vl(a,u),t1(a,m,v),by(a,m,v,u),Ry(null,a,m,!0,o,u);case 19:return v1(o,a,u);case 22:return d1(o,a,u)}throw Error(n(156,a.tag))};function B1(o,a){return dl(o,a)}function cD(o,a,u,m){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(o,a,u,m){return new cD(o,a,u,m)}function Gy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function uD(o){if(typeof o=="function")return Gy(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===xe)return 14}return 2}function Eo(o,a){var u=o.alternate;return u===null?(u=Wr(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function Nf(o,a,u,m,v,x){var P=2;if(m=o,typeof o=="function")Gy(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case k:return Pa(u.children,v,x,a);case N:P=8,v|=8;break;case O:return o=Wr(12,u,a,v|2),o.elementType=O,o.lanes=x,o;case L:return o=Wr(13,u,a,v),o.elementType=L,o.lanes=x,o;case ie:return o=Wr(19,u,a,v),o.elementType=ie,o.lanes=x,o;case Te:return Of(u,v,x,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:P=10;break e;case j:P=9;break e;case F:P=11;break e;case xe:P=14;break e;case _e:P=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Wr(P,u,a,v),a.elementType=o,a.type=m,a.lanes=x,a}function Pa(o,a,u,m){return o=Wr(7,o,m,a),o.lanes=u,o}function Of(o,a,u,m){return o=Wr(22,o,m,a),o.elementType=Te,o.lanes=u,o.stateNode={isHidden:!1},o}function Qy(o,a,u){return o=Wr(6,o,null,a),o.lanes=u,o}function Yy(o,a,u){return a=Wr(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function dD(o,a,u,m,v){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Xy(o,a,u,m,v,x,P,$,B){return o=new dD(o,a,u,$,B),a===1?(a=1,x===!0&&(a|=8)):a=0,x=Wr(3,null,null,a),o.current=x,x.stateNode=o,x.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},uy(x),o}function hD(o,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:o,containerInfo:a,implementation:u}}function z1(o){if(!o)return fo;o=o._reactInternals;e:{if(ns(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(nr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var u=o.type;if(nr(u))return yE(o,u,a)}return a}function W1(o,a,u,m,v,x,P,$,B){return o=Xy(u,m,!0,o,v,x,P,$,B),o.context=z1(null),u=o.current,m=Qn(),v=wo(u),x=Ti(m,v),x.callback=a??null,go(u,x,v),o.current.lanes=v,ro(o,v,m),ir(o,m),o}function Df(o,a,u,m){var v=a.current,x=Qn(),P=wo(v);return u=z1(u),a.context===null?a.context=u:a.pendingContext=u,a=Ti(x,P),a.payload={element:o},m=m===void 0?null:m,m!==null&&(a.callback=m),o=go(v,a,P),o!==null&&(ps(o,v,P,x),df(o,v,P)),P}function Lf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function H1(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function Jy(o,a){H1(o,a),(o=o.alternate)&&H1(o,a)}function fD(){return null}var q1=typeof reportError=="function"?reportError:function(o){console.error(o)};function Zy(o){this._internalRoot=o}jf.prototype.render=Zy.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Df(o,a,null,null)},jf.prototype.unmount=Zy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ia(function(){Df(null,o,null,null)}),a[vi]=null}};function jf(o){this._internalRoot=o}jf.prototype.unstable_scheduleHydration=function(o){if(o){var a=Lh();o={blockedOn:null,target:o,priority:a};for(var u=0;u<Ds.length&&a!==0&&a<Ds[u].priority;u++);Ds.splice(u,0,o),u===0&&Vh(o)}};function ev(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Mf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function K1(){}function pD(o,a,u,m,v){if(v){if(typeof m=="function"){var x=m;m=function(){var Y=Lf(P);x.call(Y)}}var P=W1(a,m,o,0,null,!1,!1,"",K1);return o._reactRootContainer=P,o[vi]=P.current,Eu(o.nodeType===8?o.parentNode:o),Ia(),P}for(;v=o.lastChild;)o.removeChild(v);if(typeof m=="function"){var $=m;m=function(){var Y=Lf(B);$.call(Y)}}var B=Xy(o,0,!1,null,null,!1,!1,"",K1);return o._reactRootContainer=B,o[vi]=B.current,Eu(o.nodeType===8?o.parentNode:o),Ia(function(){Df(a,B,u,m)}),B}function Vf(o,a,u,m,v){var x=u._reactRootContainer;if(x){var P=x;if(typeof v=="function"){var $=v;v=function(){var B=Lf(P);$.call(B)}}Df(a,P,o,v)}else P=pD(u,a,o,v,m);return Lf(P)}Oh=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var u=to(a.pendingLanes);u!==0&&(so(a,u|1),ir(a,mt()),(Xe&6)===0&&(zl=mt()+500,po()))}break;case 13:Ia(function(){var m=Ei(o,1);if(m!==null){var v=Qn();ps(m,o,1,v)}}),Jy(o,1)}},pl=function(o){if(o.tag===13){var a=Ei(o,134217728);if(a!==null){var u=Qn();ps(a,o,134217728,u)}Jy(o,134217728)}},Dh=function(o){if(o.tag===13){var a=wo(o),u=Ei(o,a);if(u!==null){var m=Qn();ps(u,o,a,m)}Jy(o,a)}},Lh=function(){return We},jh=function(o,a){var u=We;try{return We=o,a()}finally{We=u}},il=function(o,a,u){switch(a){case"input":if(As(o,u),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==o&&m.form===o.form){var v=ef(m);if(!v)throw Error(n(90));Jn(m),As(m,v)}}}break;case"textarea":Wn(o,u);break;case"select":a=u.value,a!=null&&Oe(o,!!u.multiple,a,!1)}},aa=Hy,ru=Ia;var mD={usingClientEntryPoint:!1,Events:[Su,Pl,ef,Ns,nu,Hy]},Fu={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gD={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=ou(o),o===null?null:o.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||fD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{ha=Ff.inject(gD),vr=Ff}catch{}}return or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mD,or.createPortal=function(o,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ev(a))throw Error(n(200));return hD(o,a,null,u)},or.createRoot=function(o,a){if(!ev(o))throw Error(n(299));var u=!1,m="",v=q1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Xy(o,1,!1,null,null,u,!1,m,v),o[vi]=a.current,Eu(o.nodeType===8?o.parentNode:o),new Zy(a)},or.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=ou(a),o=o===null?null:o.stateNode,o},or.flushSync=function(o){return Ia(o)},or.hydrate=function(o,a,u){if(!Mf(a))throw Error(n(200));return Vf(null,o,a,!0,u)},or.hydrateRoot=function(o,a,u){if(!ev(o))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,v=!1,x="",P=q1;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),a=W1(a,null,o,1,u??null,v,!1,x,P),o[vi]=a.current,Eu(o),m)for(o=0;o<m.length;o++)u=m[o],v=u._getVersion,v=v(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v);return new jf(a)},or.render=function(o,a,u){if(!Mf(a))throw Error(n(200));return Vf(null,o,a,!1,u)},or.unmountComponentAtNode=function(o){if(!Mf(o))throw Error(n(40));return o._reactRootContainer?(Ia(function(){Vf(null,null,o,!1,function(){o._reactRootContainer=null,o[vi]=null})}),!0):!1},or.unstable_batchedUpdates=Hy,or.unstable_renderSubtreeIntoContainer=function(o,a,u,m){if(!Mf(u))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Vf(o,a,u,!1,m)},or.version="18.3.1-next-f1338f8080-20240426",or}var nT;function ZC(){if(nT)return rv.exports;nT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rv.exports=CD(),rv.exports}var rT;function ID(){if(rT)return Uf;rT=1;var t=ZC();return Uf.createRoot=t.createRoot,Uf.hydrateRoot=t.hydrateRoot,Uf}var RD=ID(),$u={},sT;function AD(){if(sT)return $u;sT=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.parse=l,$u.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,S){const T=new i,E=_.length;if(E<2)return T;const b=(S==null?void 0:S.decode)||g;let A=0;do{const V=_.indexOf("=",A);if(V===-1)break;const M=_.indexOf(";",A),U=M===-1?E:M;if(V>U){A=_.lastIndexOf(";",V-1)+1;continue}const z=c(_,A,V),q=d(_,V,z),k=_.slice(z,q);if(T[k]===void 0){let N=c(_,V+1,U),O=d(_,U,N);const I=b(_.slice(N,O));T[k]=I}A=U+1}while(A<E);return T}function c(_,S,T){do{const E=_.charCodeAt(S);if(E!==32&&E!==9)return S}while(++S<T);return T}function d(_,S,T){for(;S>T;){const E=_.charCodeAt(--S);if(E!==32&&E!==9)return S+1}return T}function h(_,S,T){const E=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const b=E(S);if(!e.test(b))throw new TypeError(`argument val is invalid: ${S}`);let A=_+"="+b;if(!T)return A;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);A+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);A+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);A+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);A+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(A+="; HttpOnly"),T.secure&&(A+="; Secure"),T.partitioned&&(A+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return A}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return $u}AD();var iT="popstate";function PD(t={}){function e(r,s){let{pathname:i,search:l,hash:c}=r.location;return Xv("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Sd(s)}return ND(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kD(){return Math.random().toString(36).substring(2,10)}function oT(t,e){return{usr:t.state,key:t.key,idx:e}}function Xv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pc(e):e,state:n,key:e&&e.key||r||kD()}}function Sd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ND(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,c="POP",d=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let b=g(),A=b==null?null:b-h;h=b,d&&d({action:c,location:E.location,delta:A})}function _(b,A){c="PUSH";let V=Xv(E.location,b,A);h=g()+1;let M=oT(V,h),U=E.createHref(V);try{l.pushState(M,"",U)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(U)}i&&d&&d({action:c,location:E.location,delta:1})}function S(b,A){c="REPLACE";let V=Xv(E.location,b,A);h=g();let M=oT(V,h),U=E.createHref(V);l.replaceState(M,"",U),i&&d&&d({action:c,location:E.location,delta:0})}function T(b){let A=s.location.origin!=="null"?s.location.origin:s.location.href,V=typeof b=="string"?b:Sd(b);return V=V.replace(/ $/,"%20"),kt(A,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,A)}let E={get action(){return c},get location(){return t(s,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(iT,y),d=b,()=>{s.removeEventListener(iT,y),d=null}},createHref(b){return e(s,b)},createURL:T,encodeLocation(b){let A=T(b);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:S,go(b){return l.go(b)}};return E}function eI(t,e,n="/"){return OD(t,e,n,!1)}function OD(t,e,n,r){let s=typeof e=="string"?Pc(e):e,i=Vi(s.pathname||"/",n);if(i==null)return null;let l=tI(t);DD(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=HD(i);c=zD(l[d],h,r)}return c}function tI(t,e=[],n=[],r=""){let s=(i,l,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(kt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Li([r,d.relativePath]),g=n.concat(d);i.children&&i.children.length>0&&(kt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),tI(i.children,e,g,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:$D(h,i.index),routesMeta:g})};return t.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let d of nI(i.path))s(i,l,d)}),e}function nI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=nI(r.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function DD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LD=/^:[\w-]+$/,jD=3,MD=2,VD=1,FD=10,UD=-2,aT=t=>t==="*";function $D(t,e){let n=t.split("/"),r=n.length;return n.some(aT)&&(r+=UD),e&&(r+=MD),n.filter(s=>!aT(s)).reduce((s,i)=>s+(LD.test(i)?jD:i===""?VD:FD),r)}function BD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function zD(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,g=i==="/"?e:e.slice(i.length)||"/",y=Ap({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),_=d.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=Ap({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Li([i,y.pathname]),pathnameBase:QD(Li([i,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(i=Li([i,y.pathnameBase]))}return l}function Ap(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},_)=>{if(g==="*"){let T=c[_]||"";l=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const S=c[_];return y&&!S?h[g]=void 0:h[g]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function WD(t,e=!1,n=!0){xs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function HD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qD(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Pc(t):t;return{pathname:n?n.startsWith("/")?n:KD(n,e):e,search:YD(r),hash:XD(s)}}function KD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ov(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function g_(t){let e=GD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function y_(t,e,n,r=!1){let s;typeof t=="string"?s=Pc(t):(s={...t},kt(!s.pathname||!s.pathname.includes("?"),ov("?","pathname","search",s)),kt(!s.pathname||!s.pathname.includes("#"),ov("#","pathname","hash",s)),kt(!s.search||!s.search.includes("#"),ov("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=qD(s,c),h=l&&l!=="/"&&l.endsWith("/"),g=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}var Li=t=>t.join("/").replace(/\/\/+/g,"/"),QD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rI=["POST","PUT","PATCH","DELETE"];new Set(rI);var ZD=["GET",...rI];new Set(ZD);var kc=C.createContext(null);kc.displayName="DataRouter";var ym=C.createContext(null);ym.displayName="DataRouterState";var sI=C.createContext({isTransitioning:!1});sI.displayName="ViewTransition";var eL=C.createContext(new Map);eL.displayName="Fetchers";var tL=C.createContext(null);tL.displayName="Await";var bs=C.createContext(null);bs.displayName="Navigation";var Gd=C.createContext(null);Gd.displayName="Location";var Ss=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var v_=C.createContext(null);v_.displayName="RouteError";function nL(t,{relative:e}={}){kt(Nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(bs),{hash:s,pathname:i,search:l}=Yd(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:Li([n,i])),r.createHref({pathname:c,search:l,hash:s})}function Nc(){return C.useContext(Gd)!=null}function Yi(){return kt(Nc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Gd).location}var iI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oI(t){C.useContext(bs).static||C.useLayoutEffect(t)}function zn(){let{isDataRoute:t}=C.useContext(Ss);return t?mL():rL()}function rL(){kt(Nc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(kc),{basename:e,navigator:n}=C.useContext(bs),{matches:r}=C.useContext(Ss),{pathname:s}=Yi(),i=JSON.stringify(g_(r)),l=C.useRef(!1);return oI(()=>{l.current=!0}),C.useCallback((d,h={})=>{if(xs(l.current,iI),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=y_(d,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Li([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,i,s,t])}C.createContext(null);function Qd(){let{matches:t}=C.useContext(Ss),e=t[t.length-1];return e?e.params:{}}function Yd(t,{relative:e}={}){let{matches:n}=C.useContext(Ss),{pathname:r}=Yi(),s=JSON.stringify(g_(n));return C.useMemo(()=>y_(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function sL(t,e){return aI(t,e)}function aI(t,e,n,r){var V;kt(Nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=C.useContext(bs),{matches:l}=C.useContext(Ss),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let M=y&&y.path||"";lI(h,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=Yi(),S;if(e){let M=typeof e=="string"?Pc(e):e;kt(g==="/"||((V=M.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=_;let T=S.pathname||"/",E=T;if(g!=="/"){let M=g.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let b=!i&&n&&n.matches&&n.matches.length>0?n.matches:eI(t,{pathname:E});xs(y||b!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),xs(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=cL(b&&b.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Li([g,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Li([g,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,n,r);return e&&A?C.createElement(Gd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},A):A}function iL(){let t=pL(),e=JD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,l)}var oL=C.createElement(iL,null),aL=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Ss.Provider,{value:this.props.routeContext},C.createElement(v_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lL({routeContext:t,match:e,children:n}){let r=C.useContext(kc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ss.Provider,{value:t},n)}function cL(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let d=s.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:g,errors:y}=n,_=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,g)=>{let y,_=!1,S=null,T=null;n&&(y=i&&h.route.id?i[h.route.id]:void 0,S=h.route.errorElement||oL,l&&(c<0&&g===0?(lI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):c===g&&(_=!0,T=h.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,g+1)),b=()=>{let A;return y?A=S:_?A=T:h.route.Component?A=C.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,C.createElement(lL,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?C.createElement(aL,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:b(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):b()},null)}function __(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uL(t){let e=C.useContext(kc);return kt(e,__(t)),e}function dL(t){let e=C.useContext(ym);return kt(e,__(t)),e}function hL(t){let e=C.useContext(Ss);return kt(e,__(t)),e}function w_(t){let e=hL(t),n=e.matches[e.matches.length-1];return kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fL(){return w_("useRouteId")}function pL(){var r;let t=C.useContext(v_),e=dL("useRouteError"),n=w_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function mL(){let{router:t}=uL("useNavigate"),e=w_("useNavigate"),n=C.useRef(!1);return oI(()=>{n.current=!0}),C.useCallback(async(s,i={})=>{xs(n.current,iI),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var lT={};function lI(t,e,n){!e&&!lT[t]&&(lT[t]=!0,xs(!1,n))}C.memo(gL);function gL({routes:t,future:e,state:n}){return aI(t,void 0,n,e)}function cI({to:t,replace:e,state:n,relative:r}){kt(Nc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(bs);xs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(Ss),{pathname:l}=Yi(),c=zn(),d=y_(t,g_(i),l,r==="path"),h=JSON.stringify(d);return C.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function yt(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yL({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){kt(!Nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof n=="string"&&(n=Pc(n));let{pathname:d="/",search:h="",hash:g="",state:y=null,key:_="default"}=n,S=C.useMemo(()=>{let T=Vi(d,l);return T==null?null:{location:{pathname:T,search:h,hash:g,state:y,key:_},navigationType:r}},[l,d,h,g,y,_,r]);return xs(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:C.createElement(bs.Provider,{value:c},C.createElement(Gd.Provider,{children:e,value:S}))}function vL({children:t,location:e}){return sL(Jv(t),e)}function Jv(t,e=[]){let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,Jv(r.props.children,i));return}kt(r.type===yt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Jv(r.props.children,i)),n.push(l)}),n}var ip="get",op="application/x-www-form-urlencoded";function vm(t){return t!=null&&typeof t.tagName=="string"}function _L(t){return vm(t)&&t.tagName.toLowerCase()==="button"}function wL(t){return vm(t)&&t.tagName.toLowerCase()==="form"}function xL(t){return vm(t)&&t.tagName.toLowerCase()==="input"}function EL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TL(t,e){return t.button===0&&(!e||e==="_self")&&!EL(t)}var $f=null;function bL(){if($f===null)try{new FormData(document.createElement("form"),0),$f=!1}catch{$f=!0}return $f}var SL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function av(t){return t!=null&&!SL.has(t)?(xs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${op}"`),null):t}function CL(t,e){let n,r,s,i,l;if(wL(t)){let c=t.getAttribute("action");r=c?Vi(c,e):null,n=t.getAttribute("method")||ip,s=av(t.getAttribute("enctype"))||op,i=new FormData(t)}else if(_L(t)||xL(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Vi(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||ip,s=av(t.getAttribute("formenctype"))||av(c.getAttribute("enctype"))||op,i=new FormData(c,t),!bL()){let{name:h,type:g,value:y}=t;if(g==="image"){let _=h?`${h}.`:"";i.append(`${_}x`,"0"),i.append(`${_}y`,"0")}else h&&i.append(h,y)}}else{if(vm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ip,r=null,s=op,l=t}return i&&s==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:l}}function x_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function IL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AL(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let l=await IL(i,n);return l.links?l.links():[]}return[]}));return OL(r.flat(1).filter(RL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function cT(t,e,n,r,s,i){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var g;return n[h].pathname!==d.pathname||((g=n[h].route.path)==null?void 0:g.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return i==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):i==="data"?e.filter((d,h)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function PL(t,e,{includeHydrateFallback:n}={}){return kL(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function kL(t){return[...new Set(t)]}function NL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function OL(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(NL(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}var DL=new Set([100,101,204,205]);function LL(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Vi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function uI(){let t=C.useContext(kc);return x_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jL(){let t=C.useContext(ym);return x_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var E_=C.createContext(void 0);E_.displayName="FrameworkContext";function dI(){let t=C.useContext(E_);return x_(t,"You must render this element inside a <HydratedRouter> element"),t}function ML(t,e){let n=C.useContext(E_),[r,s]=C.useState(!1),[i,l]=C.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=e,_=C.useRef(null);C.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=A=>{A.forEach(V=>{l(V.isIntersecting)})},b=new IntersectionObserver(E,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[t]),C.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let S=()=>{s(!0)},T=()=>{s(!1),l(!1)};return n?t!=="intent"?[i,_,{}]:[i,_,{onFocus:Bu(c,S),onBlur:Bu(d,T),onMouseEnter:Bu(h,S),onMouseLeave:Bu(g,T),onTouchStart:Bu(y,S)}]:[!1,_,{}]}function Bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VL({page:t,...e}){let{router:n}=uI(),r=C.useMemo(()=>eI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(UL,{page:t,matches:r,...e}):null}function FL(t){let{manifest:e,routeModules:n}=dI(),[r,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return AL(t,e,n).then(l=>{i||s(l)}),()=>{i=!0}},[t,e,n]),r}function UL({page:t,matches:e,...n}){let r=Yi(),{manifest:s,routeModules:i}=dI(),{basename:l}=uI(),{loaderData:c,matches:d}=jL(),h=C.useMemo(()=>cT(t,e,d,s,r,"data"),[t,e,d,s,r]),g=C.useMemo(()=>cT(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,E=!1;if(e.forEach(A=>{var M;let V=s.routes[A.route.id];!V||!V.hasLoader||(!h.some(U=>U.route.id===A.route.id)&&A.route.id in c&&((M=i[A.route.id])!=null&&M.shouldRevalidate)||V.hasClientLoader?E=!0:T.add(A.route.id))}),T.size===0)return[];let b=LL(t,l);return E&&T.size>0&&b.searchParams.set("_routes",e.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[l,c,r,s,h,e,t,i]),_=C.useMemo(()=>PL(g,s),[g,s]),S=FL(g);return C.createElement(C.Fragment,null,y.map(T=>C.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>C.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),S.map(({key:T,link:E})=>C.createElement("link",{key:T,...E})))}function $L(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hI&&(window.__reactRouterVersion="7.5.3")}catch{}function BL({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=PD({window:n,v5Compat:!0}));let s=r.current,[i,l]=C.useState({action:s.action,location:s.location}),c=C.useCallback(d=>{C.startTransition(()=>l(d))},[l]);return C.useLayoutEffect(()=>s.listen(c),[s,c]),C.createElement(yL,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var fI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:l,state:c,target:d,to:h,preventScrollReset:g,viewTransition:y,..._},S){let{basename:T}=C.useContext(bs),E=typeof h=="string"&&fI.test(h),b,A=!1;if(typeof h=="string"&&E&&(b=h,hI))try{let O=new URL(window.location.href),I=h.startsWith("//")?new URL(O.protocol+h):new URL(h),j=Vi(I.pathname,T);I.origin===O.origin&&j!=null?h=j+I.search+I.hash:A=!0}catch{xs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=nL(h,{relative:s}),[M,U,z]=ML(r,_),q=qL(h,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:y});function k(O){e&&e(O),O.defaultPrevented||q(O)}let N=C.createElement("a",{..._,...z,href:b||V,onClick:A||i?e:k,ref:$L(S,U),target:d,"data-discover":!E&&n==="render"?"true":void 0});return M&&!E?C.createElement(C.Fragment,null,N,C.createElement(VL,{page:V})):N});At.displayName="Link";var zL=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:l,viewTransition:c,children:d,...h},g){let y=Yd(l,{relative:h.relative}),_=Yi(),S=C.useContext(ym),{navigator:T,basename:E}=C.useContext(bs),b=S!=null&&XL(y)&&c===!0,A=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,V=_.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(V=V.toLowerCase(),M=M?M.toLowerCase():null,A=A.toLowerCase()),M&&E&&(M=Vi(M,E)||M);const U=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let z=V===A||!s&&V.startsWith(A)&&V.charAt(U)==="/",q=M!=null&&(M===A||!s&&M.startsWith(A)&&M.charAt(A.length)==="/"),k={isActive:z,isPending:q,isTransitioning:b},N=z?e:void 0,O;typeof r=="function"?O=r(k):O=[r,z?"active":null,q?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(k):i;return C.createElement(At,{...h,"aria-current":N,className:O,ref:g,style:I,to:l,viewTransition:c},typeof d=="function"?d(k):d)});zL.displayName="NavLink";var WL=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:l=ip,action:c,onSubmit:d,relative:h,preventScrollReset:g,viewTransition:y,..._},S)=>{let T=QL(),E=YL(c,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&fI.test(c),V=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let U=M.nativeEvent.submitter,z=(U==null?void 0:U.getAttribute("formmethod"))||l;T(U||M.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:i,relative:h,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:S,method:b,action:E,onSubmit:r?d:V,..._,"data-discover":!A&&t==="render"?"true":void 0})});WL.displayName="Form";function HL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pI(t){let e=C.useContext(kc);return kt(e,HL(t)),e}function qL(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:l}={}){let c=zn(),d=Yi(),h=Yd(t,{relative:i});return C.useCallback(g=>{if(TL(g,e)){g.preventDefault();let y=n!==void 0?n:Sd(d)===Sd(h);c(t,{replace:y,state:r,preventScrollReset:s,relative:i,viewTransition:l})}},[d,c,h,n,r,e,t,s,i,l])}var KL=0,GL=()=>`__${String(++KL)}__`;function QL(){let{router:t}=pI("useSubmit"),{basename:e}=C.useContext(bs),n=fL();return C.useCallback(async(r,s={})=>{let{action:i,method:l,encType:c,formData:d,body:h}=CL(r,e);if(s.navigate===!1){let g=s.fetcherKey||GL();await t.fetch(g,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function YL(t,{relative:e}={}){let{basename:n}=C.useContext(bs),r=C.useContext(Ss);kt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Yd(t||".",{relative:e})},l=Yi();if(t==null){i.search=l.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();i.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Li([n,i.pathname])),Sd(i)}function XL(t,e={}){let n=C.useContext(sI);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pI("useViewTransitionState"),s=Yd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Vi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Vi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ap(s.pathname,l)!=null||Ap(s.pathname,i)!=null}new TextEncoder;[...DL];var T_=ZC();const JL=Kd(T_),ZL=()=>{};var uT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=function(t,e){if(!t)throw Oc(e)},Oc=function(t){return new Error("Firebase Database ("+mI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ej=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(i&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,g=i>>2,y=(i&3)<<4|c>>4;let _=(c&15)<<2|h>>6,S=h&63;d||(S=64,l||(_=64)),r.push(n[g],n[y],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ej(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||y==null)throw new tj;const _=i<<2|c>>4;if(r.push(_),h!==64){const S=c<<4&240|h>>2;if(r.push(S),y!==64){const T=h<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yI=function(t){const e=gI(t);return b_.encodeByteArray(e,!0)},Pp=function(t){return yI(t).replace(/\./g,"")},kp=function(t){try{return b_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){return vI(void 0,t)}function vI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rj(n)||(t[n]=vI(t[n],e[n]));return t}function rj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=()=>sj().__FIREBASE_DEFAULTS__,oj=()=>{if(typeof process>"u"||typeof uT>"u")return;const t=uT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kp(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return ZL()||ij()||oj()||aj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_I=t=>{var e,n;return(n=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},S_=t=>{const e=_I(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wI=()=>{var t;return(t=_m())===null||t===void 0?void 0:t.config},xI=t=>{var e;return(e=_m())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pp(JSON.stringify(n)),Pp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function lj(){var t;const e=(t=_m())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dj(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hj(){return mI.NODE_ADMIN===!0}function fj(){return!lj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pj(){try{return typeof indexedDB=="object"}catch{return!1}}function mj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gj,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xd.prototype.create)}}class Xd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?yj(i,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ai(s,c,r)}}function yj(t,e){return t.replace(vj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){return JSON.parse(t)}function Tn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Cd(kp(i[0])||""),n=Cd(kp(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},_j=function(t){const e=TI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wj=function(t){const e=TI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Zv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Np(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],l=e[s];if(dT(i)&&dT(l)){if(!Fo(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function dT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function nd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(_<<1|_>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],l=this.chain_[2],c=this.chain_[3],d=this.chain_[4],h,g;for(let y=0;y<80;y++){y<40?y<20?(h=c^i&(l^c),g=1518500249):(h=i^l^c,g=1859775393):y<60?(h=i&l|c&(i|l),g=2400959708):(h=i^l^c,g=3395469782);const _=(s<<5|s>>>27)+h+d+g+r[y]&4294967295;d=c,c=l,l=(i<<30|i>>>2)&4294967295,i=s,s=_}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let l=this.inbuf_;for(;s<n;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(i),l=0;break}}else for(;s<n;)if(i[l]=e[s],++l,++s,l===this.blockSize){this.compress_(i),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Ej(t,e){const n=new Tj(t,e);return n.subscribe.bind(n)}class Tj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lv),s.error===void 0&&(s.error=lv),s.complete===void 0&&(s.complete=lv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lv(){}function Sj(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,fe(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;s=65536+(i<<10)+l}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ij=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new C_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aj(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const l=this.instances.get(s);return l&&e(l,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Rj(t){return t===ka?void 0:t}function Aj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ij(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const kj={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Nj=Be.INFO,Oj={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Dj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Oj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=Nj,this._logHandler=Dj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Lj=(t,e)=>e.some(n=>t instanceof n);let hT,fT;function jj(){return hT||(hT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mj(){return fT||(fT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bI=new WeakMap,e0=new WeakMap,SI=new WeakMap,cv=new WeakMap,A_=new WeakMap;function Vj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(No(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&bI.set(n,t)}).catch(()=>{}),A_.set(e,t),e}function Fj(t){if(e0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});e0.set(t,e)}let t0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uj(t){t0=t(t0)}function $j(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uv(this),e,...n);return SI.set(r,e.sort?e.sort():[e]),No(r)}:Mj().includes(t)?function(...e){return t.apply(uv(this),e),No(bI.get(this))}:function(...e){return No(t.apply(uv(this),e))}}function Bj(t){return typeof t=="function"?$j(t):(t instanceof IDBTransaction&&Fj(t),Lj(t,jj())?new Proxy(t,t0):t)}function No(t){if(t instanceof IDBRequest)return Vj(t);if(cv.has(t))return cv.get(t);const e=Bj(t);return e!==t&&(cv.set(t,e),A_.set(e,t)),e}const uv=t=>A_.get(t);function zj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(t,e),c=No(l);return r&&l.addEventListener("upgradeneeded",d=>{r(No(l.result),d.oldVersion,d.newVersion,No(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Wj=["get","getKey","getAll","getAllKeys","count"],Hj=["put","add","delete","clear"],dv=new Map;function pT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dv.get(e))return dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Hj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Wj.includes(n)))return;const i=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return dv.set(e,i),i}Uj(t=>({...t,get:(e,n,r)=>pT(e,n)||t.get(e,n,r),has:(e,n)=>!!pT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n0="@firebase/app",mT="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new xm("@firebase/app"),Gj="@firebase/app-compat",Qj="@firebase/analytics-compat",Yj="@firebase/analytics",Xj="@firebase/app-check-compat",Jj="@firebase/app-check",Zj="@firebase/auth",e5="@firebase/auth-compat",t5="@firebase/database",n5="@firebase/data-connect",r5="@firebase/database-compat",s5="@firebase/functions",i5="@firebase/functions-compat",o5="@firebase/installations",a5="@firebase/installations-compat",l5="@firebase/messaging",c5="@firebase/messaging-compat",u5="@firebase/performance",d5="@firebase/performance-compat",h5="@firebase/remote-config",f5="@firebase/remote-config-compat",p5="@firebase/storage",m5="@firebase/storage-compat",g5="@firebase/firestore",y5="@firebase/vertexai",v5="@firebase/firestore-compat",_5="firebase",w5="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="[DEFAULT]",x5={[n0]:"fire-core",[Gj]:"fire-core-compat",[Yj]:"fire-analytics",[Qj]:"fire-analytics-compat",[Jj]:"fire-app-check",[Xj]:"fire-app-check-compat",[Zj]:"fire-auth",[e5]:"fire-auth-compat",[t5]:"fire-rtdb",[n5]:"fire-data-connect",[r5]:"fire-rtdb-compat",[s5]:"fire-fn",[i5]:"fire-fn-compat",[o5]:"fire-iid",[a5]:"fire-iid-compat",[l5]:"fire-fcm",[c5]:"fire-fcm-compat",[u5]:"fire-perf",[d5]:"fire-perf-compat",[h5]:"fire-rc",[f5]:"fire-rc-compat",[p5]:"fire-gcs",[m5]:"fire-gcs-compat",[g5]:"fire-fst",[v5]:"fire-fst-compat",[y5]:"fire-vertex","fire-js":"fire-js",[_5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Map,E5=new Map,s0=new Map;function gT(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uo(t){const e=t.name;if(s0.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;s0.set(e,t);for(const n of Op.values())gT(n,t);for(const n of E5.values())gT(n,t);return!0}function Jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new Xd("app","Firebase",T5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=w5;function CI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:r0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Oo.create("bad-app-name",{appName:String(s)});if(n||(n=wI()),!n)throw Oo.create("no-options");const i=Op.get(s);if(i){if(Fo(n,i.options)&&Fo(r,i.config))return i;throw Oo.create("duplicate-app",{appName:s})}const l=new Pj(s);for(const d of s0.values())l.addComponent(d);const c=new b5(n,r,l);return Op.set(s,c),c}function Em(t=r0){const e=Op.get(t);if(!e&&t===r0&&wI())return CI();if(!e)throw Oo.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let s=(r=x5[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(c.join(" "));return}Uo(new Fi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="firebase-heartbeat-database",C5=1,Id="firebase-heartbeat-store";let hv=null;function II(){return hv||(hv=zj(S5,C5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Id)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oo.create("idb-open",{originalErrorMessage:t.message})})),hv}async function I5(t){try{const n=(await II()).transaction(Id),r=await n.objectStore(Id).get(RI(t));return await n.done,r}catch(e){if(e instanceof ai)Ui.warn(e.message);else{const n=Oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function yT(t,e){try{const r=(await II()).transaction(Id,"readwrite");await r.objectStore(Id).put(e,RI(t)),await r.done}catch(n){if(n instanceof ai)Ui.warn(n.message);else{const r=Oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(r.message)}}}function RI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=1024,A5=30;class P5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>A5){const l=O5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vT(),{heartbeatsToSend:r,unsentEntries:s}=k5(this._heartbeatsCache.heartbeats),i=Pp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ui.warn(n),""}}}function vT(){return new Date().toISOString().substring(0,10)}function k5(t,e=R5){const n=[];let r=t.slice();for(const s of t){const i=n.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),_T(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),_T(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class N5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pj()?mj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _T(t){return Pp(JSON.stringify({version:2,heartbeats:t})).length}function O5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){Uo(new Fi("platform-logger",e=>new qj(e),"PRIVATE")),Uo(new Fi("heartbeat",e=>new P5(e),"PRIVATE")),Kr(n0,mT,t),Kr(n0,mT,"esm2017"),Kr("fire-js","")}D5("");function P_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function AI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L5=AI,PI=new Xd("auth","Firebase",AI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new xm("@firebase/auth");function j5(t,...e){Dp.logLevel<=Be.WARN&&Dp.warn(`Auth (${Xo}): ${t}`,...e)}function ap(t,...e){Dp.logLevel<=Be.ERROR&&Dp.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,...e){throw N_(t,...e)}function ys(t,...e){return N_(t,...e)}function k_(t,e,n){const r=Object.assign(Object.assign({},L5()),{[e]:n});return new Xd("auth","Firebase",r).create(e,{appName:t.name})}function Zs(t){return k_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(t,"argument-error"),k_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function N_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PI.create(t,...e)}function Pe(t,e,...n){if(!t)throw N_(e,...n)}function Pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ap(e),new Error(e)}function $i(t,e){t||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function V5(){return wT()==="http:"||wT()==="https:"}function wT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V5()||uj()||"connection"in navigator)?navigator.onLine:!0}function U5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=R_()||EI()}get(){return F5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new Zd(3e4,6e4);function Jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function li(t,e,n,r,s={}){return NI(t,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const c=Dc(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},i);return cj()||(h.referrerPolicy="no-referrer"),kI.fetch()(OI(t,t.config.apiHost,n,c),h)})}async function NI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$5),e);try{const s=new W5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw Bf(t,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const c=i.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Bf(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Bf(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw k_(t,g,h);Qr(t,g)}}catch(s){if(s instanceof ai)throw s;Qr(t,"network-request-failed",{message:String(s)})}}async function eh(t,e,n,r,s={}){const i=await li(t,e,n,r,s);return"mfaPendingCredential"in i&&Qr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function OI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?O_(t.config,s):`${t.config.apiScheme}://${s}`}function z5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ys(this.auth,"network-request-failed")),B5.get())})}}function Bf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ys(t,e,r);return s.customData._tokenResponse=n,s}function xT(t){return t!==void 0&&t.enterprise!==void 0}class H5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q5(t,e){return li(t,"GET","/v2/recaptchaConfig",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e){return li(t,"POST","/v1/accounts:delete",e)}async function DI(t,e){return li(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G5(t,e=!1){const n=vt(t),r=await n.getIdToken(e),s=Tm(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:cd(fv(s.auth_time)),issuedAtTime:cd(fv(s.iat)),expirationTime:cd(fv(s.exp)),signInProvider:l||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function Tm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const s=kp(n);return s?JSON.parse(s):(ap("Failed to decode base64 JWT payload"),null)}catch(s){return ap("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ET(t){const e=Tm(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&Q5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ua(t,DI(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const l=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?LI(i.providerUserInfo):[],c=J5(t.providerData,l),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),g=d?h:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new o0(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function X5(t){const e=vt(t);await Lp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LI(t){return t.map(e=>{var{providerId:n}=e,r=P_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e){const n=await NI(t,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,l=OI(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",kI.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e4(t,e){return li(t,"POST","/v2/accounts:revokeToken",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ET(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=ET(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Z5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,l=new rc;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(Pe(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=P_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new o0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ua(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G5(this,e)}reload(){return X5(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Ua(this,K5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,l,c,d,h,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,S=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,E=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,A=(h=n.createdAt)!==null&&h!==void 0?h:void 0,V=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:M,emailVerified:U,isAnonymous:z,providerData:q,stsTokenManager:k}=n;Pe(M&&k,e,"internal-error");const N=rc.fromJSON(this.name,k);Pe(typeof M=="string",e,"internal-error"),bo(y,e.name),bo(_,e.name),Pe(typeof U=="boolean",e,"internal-error"),Pe(typeof z=="boolean",e,"internal-error"),bo(S,e.name),bo(T,e.name),bo(E,e.name),bo(b,e.name),bo(A,e.name),bo(V,e.name);const O=new ki({uid:M,auth:e,email:_,emailVerified:U,displayName:y,isAnonymous:z,photoURL:T,phoneNumber:S,tenantId:E,stsTokenManager:N,createdAt:A,lastLoginAt:V});return q&&Array.isArray(q)&&(O.providerData=q.map(I=>Object.assign({},I))),b&&(O._redirectEventId=b),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new rc;s.updateFromServerResponse(n);const i=new ki({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?LI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new rc;c.updateFromIdToken(r);const d=new ki({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new o0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;function Ni(t){$i(t instanceof Function,"Expected a class definition");let e=TT.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jI.type="NONE";const bT=jI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e,n){return`firebase:${t}:${e}:${n}`}class sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=lp(this.userKey,s.apiKey,i),this.fullPersistenceKey=lp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sc(Ni(bT),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Ni(bT);const l=lp(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const g=await h._get(l);if(g){const y=ki._fromJSON(e,g);h!==i&&(c=y),i=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new sc(i,e,r):(i=d[0],c&&await i._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(l)}catch{}})),new sc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BI(e))return"Blackberry";if(zI(e))return"Webos";if(VI(e))return"Safari";if((e.includes("chrome/")||FI(e))&&!e.includes("edge/"))return"Chrome";if($I(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MI(t=Bn()){return/firefox\//i.test(t)}function VI(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FI(t=Bn()){return/crios\//i.test(t)}function UI(t=Bn()){return/iemobile/i.test(t)}function $I(t=Bn()){return/android/i.test(t)}function BI(t=Bn()){return/blackberry/i.test(t)}function zI(t=Bn()){return/webos/i.test(t)}function D_(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function t4(t=Bn()){var e;return D_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n4(){return dj()&&document.documentMode===10}function WI(t=Bn()){return D_(t)||$I(t)||zI(t)||BI(t)||/windows phone/i.test(t)||UI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e=[]){let n;switch(t){case"Browser":n=ST(Bn());break;case"Worker":n=`${ST(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((l,c)=>{try{const d=e(i);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e={}){return li(t,"GET","/v2/passwordPolicy",Jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=6;class o4{constructor(e){var n,r,s,i;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:i4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new r4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await sc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await DI(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Zs(this));const n=e?vt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s4(this),n=new o4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await e4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await sc.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&j5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zo(t){return vt(t)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ej(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l4(t){bm=t}function qI(t){return bm.loadJS(t)}function c4(){return bm.recaptchaEnterpriseScript}function u4(){return bm.gapiScript}function d4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class h4{constructor(){this.enterprise=new f4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class f4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const p4="recaptcha-enterprise",KI="NO_RECAPTCHA";class m4{constructor(e){this.type=p4,this.auth=Zo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(l,c)=>{q5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new H5(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function s(i,l,c){const d=window.grecaptcha;xT(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{l(h)}).catch(()=>{l(KI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h4().execute("siteKey",{action:"verify"}):new Promise((i,l)=>{r(this.auth).then(c=>{if(!n&&xT(window.grecaptcha))s(c,i,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=c4();d.length!==0&&(d+=c),qI(d).then(()=>{s(c,i,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function IT(t,e,n,r=!1,s=!1){const i=new m4(t);let l;if(s)l=KI;else try{l=await i.verify(n)}catch{l=await i.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function a0(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await IT(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await IT(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e){const n=Jd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Fo(i,e??{}))return s;Qr(s,"already-initialized")}return n.initialize({options:e})}function y4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function v4(t,e,n){const r=Zo(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=GI(e),{host:l,port:c}=_4(e),d=c===null?"":`:${c}`,h={url:`${i}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(Fo(h,r.config.emulator)&&Fo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,w4()}function GI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _4(t){const e=GI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:RT(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:RT(l)}}}function RT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,n){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function x4(t,e){return li(t,"POST","/v1/accounts:update",e)}async function E4(t,e){return li(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){return eh(t,"POST","/v1/accounts:signInWithPassword",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}async function S4(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends L_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Rd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,n,"signInWithPassword",T4);case"emailLink":return b4(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,r,"signUpPassword",E4);case"emailLink":return S4(e,{idToken:n,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e){return eh(t,"POST","/v1/accounts:signInWithIdp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="http://localhost";class $a extends L_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=P_(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new $a(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ic(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ic(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ic(e,n)}buildRequest(){const e={requestUri:C4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R4(t){const e=td(nd(t)).link,n=e?td(nd(e)).deep_link_id:null,r=td(nd(t)).deep_link_id;return(r?td(nd(r)).link:null)||r||n||e||t}class j_{constructor(e){var n,r,s,i,l,c;const d=td(nd(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=I4((s=d.mode)!==null&&s!==void 0?s:null);Pe(h&&g&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=g,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=R4(e);try{return new j_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.providerId=Lc.PROVIDER_ID}static credential(e,n){return Rd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=j_.parseLink(n);return Pe(r,"argument-error"),Rd._fromEmailAndCode(e,r.code,r.tenantId)}}Lc.PROVIDER_ID="password";Lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends M_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends th{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends th{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.GITHUB_SIGN_IN_METHOD="github.com";Ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends th{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ao.credential(n,r)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){return eh(t,"POST","/v1/accounts:signUp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ki._fromIdTokenResponse(e,r,s),l=AT(r);return new Ba({user:i,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=AT(r);return new Ba({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function AT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends ai{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new jp(e,n,r,s)}}function QI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jp._fromErrorAndOperation(t,i,e,r):i})}async function P4(t,e,n=!1){const r=await Ua(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e,n=!1){const{auth:r}=t;if(Vn(r.app))return Promise.reject(Zs(r));const s="reauthenticate";try{const i=await Ua(t,QI(r,s,e,t),n);Pe(i.idToken,r,"internal-error");const l=Tm(i.idToken);Pe(l,r,"internal-error");const{sub:c}=l;return Pe(t.uid===c,r,"user-mismatch"),Ba._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(t,e,n=!1){if(Vn(t.app))return Promise.reject(Zs(t));const r="signIn",s=await QI(t,r,e),i=await Ba._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function N4(t,e){return YI(Zo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t){const e=Zo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O4(t,e,n){if(Vn(t.app))return Promise.reject(Zs(t));const r=Zo(t),l=await a0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A4).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&XI(t),d}),c=await Ba._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function D4(t,e,n){return Vn(t.app)?Promise.reject(Zs(t)):N4(vt(t),Lc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e){return li(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Ua(r,L4(r.auth,i));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function j4(t,e){const n=vt(t);return Vn(n.auth.app)?Promise.reject(Zs(n.auth)):M4(n,e)}async function M4(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e);const l=await Ua(t,x4(r,i));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){var e,n;if(!t)return null;const{providerId:r}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},i=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const l=(n=(e=Tm(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new oc(i,c)}}if(!r)return null;switch(r){case"facebook.com":return new F4(i,s);case"github.com":return new U4(i,s);case"google.com":return new $4(i,s);case"twitter.com":return new B4(i,s,t.screenName||null);case"custom":case"anonymous":return new oc(i,null);default:return new oc(i,r,s)}}class oc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class JI extends oc{constructor(e,n,r,s){super(e,n,r),this.username=s}}class F4 extends oc{constructor(e,n){super(e,"facebook.com",n)}}class U4 extends JI{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class $4 extends oc{constructor(e,n){super(e,"google.com",n)}}class B4 extends JI{constructor(e,n,r){super(e,"twitter.com",n,r)}}function z4(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:V4(n)}function W4(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function H4(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function ZI(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}const Mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=1e3,K4=10;class tR extends eR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);n4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,K4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tR.type="LOCAL";const G4=tR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends eR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nR.type="SESSION";const rR=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Sm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,i)),d=await Q4(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((c,d)=>{const h=V_("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(_.data.response);break;default:clearTimeout(g),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function X4(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function J4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eM(){return sR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firebaseLocalStorageDb",tM=1,Vp="firebaseLocalStorage",oR="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cm(t,e){return t.transaction([Vp],e?"readwrite":"readonly").objectStore(Vp)}function nM(){const t=indexedDB.deleteDatabase(iR);return new nh(t).toPromise()}function c0(){const t=indexedDB.open(iR,tM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vp,{keyPath:oR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vp)?e(r):(r.close(),await nM(),e(await c0()))})})}async function PT(t,e,n){const r=Cm(t,!0).put({[oR]:e,value:n});return new nh(r).toPromise()}async function rM(t,e){const n=Cm(t,!1).get(e),r=await new nh(n).toPromise();return r===void 0?null:r.value}function kT(t,e){const n=Cm(t,!0).delete(e);return new nh(n).toPromise()}const sM=800,iM=3;class aR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sm._getInstance(eM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await J4(),!this.activeServiceWorker)return;this.sender=new Y4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c0();return await PT(e,Mp,"1"),await kT(e,Mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Cm(s,!1).getAll();return new nh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aR.type="LOCAL";const oM=aR;new Zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e){return e?Ni(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends L_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aM(t){return YI(t.auth,new F_(t),t.bypassAuthState)}function lM(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),k4(n,new F_(t),t.bypassAuthState)}async function cM(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),P4(n,new F_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aM;case"linkViaPopup":case"linkViaRedirect":return cM;case"reauthViaPopup":case"reauthViaRedirect":return lM;default:Qr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new Zd(2e3,1e4);async function dM(t,e,n){if(Vn(t.app))return Promise.reject(ys(t,"operation-not-supported-in-this-environment"));const r=Zo(t);M5(t,e,M_);const s=lR(r,n);return new Oa(r,"signInViaPopup",e,s).executeNotNull()}class Oa extends cR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=V_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uM.get())};e()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="pendingRedirect",cp=new Map;class fM extends cR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cp.get(this.auth._key());if(!e){try{const r=await pM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cp.set(this.auth._key(),e)}return this.bypassAuthState||cp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pM(t,e){const n=yM(e),r=gM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mM(t,e){cp.set(t._key(),e)}function gM(t){return Ni(t._redirectPersistence)}function yM(t){return lp(hM,t.config.apiKey,t.name)}async function vM(t,e,n=!1){if(Vn(t.app))return Promise.reject(Zs(t));const r=Zo(t),s=lR(r,e),l=await new fM(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=10*60*1e3;class wM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ys(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_M&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}saveEventToCache(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}function NT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(t,e={}){return li(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bM=/^https?/;async function SM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EM(t);for(const n of e)try{if(CM(n))return}catch{}Qr(t,"unauthorized-domain")}function CM(t){const e=i0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!bM.test(n))return!1;if(TM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Zd(3e4,6e4);function OT(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RM(t){return new Promise((e,n)=>{var r,s,i;function l(){OT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OT(),n(ys(t,"network-request-failed"))},timeout:IM.get()})}if(!((s=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ei().gapi)===null||i===void 0)&&i.load)l();else{const c=d4("iframefcb");return ei()[c]=()=>{gapi.load?l():n(ys(t,"network-request-failed"))},qI(`${u4()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw up=null,e})}let up=null;function AM(t){return up=up||RM(t),up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Zd(5e3,15e3),kM="__/auth/iframe",NM="emulator/auth/iframe",OM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LM(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O_(e,NM):`https://${t.config.authDomain}/${kM}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},s=DM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Dc(r).slice(1)}`}async function jM(t){const e=await AM(t),n=ei().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:LM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=ys(t,"network-request-failed"),c=ei().setTimeout(()=>{i(l)},PM.get());function d(){ei().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VM=500,FM=600,UM="_blank",$M="http://localhost";class DT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BM(t,e,n,r=VM,s=FM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},MM),{width:r.toString(),height:s.toString(),top:i,left:l}),h=Bn().toLowerCase();n&&(c=FI(h)?UM:n),MI(h)&&(e=e||$M,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[S,T])=>`${_}${S}=${T},`,"");if(t4(h)&&c!=="_self")return zM(e||"",c),new DT(null);const y=window.open(e||"",c,g);Pe(y,t,"popup-blocked");try{y.focus()}catch{}return new DT(y)}function zM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="__/auth/handler",HM="emulator/auth/handler",qM=encodeURIComponent("fac");async function LT(t,e,n,r,s,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:s};if(e instanceof M_){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Zv(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof th){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await t._getAppCheckToken(),h=d?`#${qM}=${encodeURIComponent(d)}`:"";return`${KM(t)}?${Dc(c).slice(1)}${h}`}function KM({config:t}){return t.emulator?O_(t,HM):`https://${t.authDomain}/${WM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="webStorageSupport";class GM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rR,this._completeRedirectFn=vM,this._overrideRedirectResult=mM}async _openPopup(e,n,r,s){var i;$i((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const l=await LT(e,n,r,i0(),s);return BM(e,l,V_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await LT(e,n,r,i0(),s);return X4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($i(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jM(e),r=new wM(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pv,{type:pv},s=>{var i;const l=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[pv];l!==void 0&&n(!!l),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WI()||VI()||D_()}}const QM=GM;var jT="@firebase/auth",MT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JM(t){Uo(new Fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HI(t)},h=new a4(r,s,i,d);return y4(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Uo(new Fi("auth-internal",e=>{const n=Zo(e.getProvider("auth").getImmediate());return(r=>new YM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(jT,MT,XM(t)),Kr(jT,MT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=5*60,e3=xI("authIdTokenMaxAge")||ZM;let VT=null;const t3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>e3)return;const s=n==null?void 0:n.token;VT!==s&&(VT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Im(t=Em()){const e=Jd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=g4(t,{popupRedirectResolver:QM,persistence:[oM,G4,rR]}),r=xI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=t3(i.toString());H4(n,l,()=>l(n.currentUser)),W4(n,c=>l(c))}}const s=_I("auth");return s&&v4(n,`http://${s}`),n}function n3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}l4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ys("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",n3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JM("Browser");var r3="firebase",s3="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(r3,s3,"app");var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,dR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function O(){}O.prototype=N.prototype,k.D=N.prototype,k.prototype=new O,k.prototype.constructor=k,k.C=function(I,j,F){for(var L=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)L[ie-2]=arguments[ie];return N.prototype[j].apply(I,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,N,O){O||(O=0);var I=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)I[j]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(j=0;16>j;++j)I[j]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=k.g[0],O=k.g[1],j=k.g[2];var F=k.g[3],L=N+(F^O&(j^F))+I[0]+3614090360&4294967295;N=O+(L<<7&4294967295|L>>>25),L=F+(j^N&(O^j))+I[1]+3905402710&4294967295,F=N+(L<<12&4294967295|L>>>20),L=j+(O^F&(N^O))+I[2]+606105819&4294967295,j=F+(L<<17&4294967295|L>>>15),L=O+(N^j&(F^N))+I[3]+3250441966&4294967295,O=j+(L<<22&4294967295|L>>>10),L=N+(F^O&(j^F))+I[4]+4118548399&4294967295,N=O+(L<<7&4294967295|L>>>25),L=F+(j^N&(O^j))+I[5]+1200080426&4294967295,F=N+(L<<12&4294967295|L>>>20),L=j+(O^F&(N^O))+I[6]+2821735955&4294967295,j=F+(L<<17&4294967295|L>>>15),L=O+(N^j&(F^N))+I[7]+4249261313&4294967295,O=j+(L<<22&4294967295|L>>>10),L=N+(F^O&(j^F))+I[8]+1770035416&4294967295,N=O+(L<<7&4294967295|L>>>25),L=F+(j^N&(O^j))+I[9]+2336552879&4294967295,F=N+(L<<12&4294967295|L>>>20),L=j+(O^F&(N^O))+I[10]+4294925233&4294967295,j=F+(L<<17&4294967295|L>>>15),L=O+(N^j&(F^N))+I[11]+2304563134&4294967295,O=j+(L<<22&4294967295|L>>>10),L=N+(F^O&(j^F))+I[12]+1804603682&4294967295,N=O+(L<<7&4294967295|L>>>25),L=F+(j^N&(O^j))+I[13]+4254626195&4294967295,F=N+(L<<12&4294967295|L>>>20),L=j+(O^F&(N^O))+I[14]+2792965006&4294967295,j=F+(L<<17&4294967295|L>>>15),L=O+(N^j&(F^N))+I[15]+1236535329&4294967295,O=j+(L<<22&4294967295|L>>>10),L=N+(j^F&(O^j))+I[1]+4129170786&4294967295,N=O+(L<<5&4294967295|L>>>27),L=F+(O^j&(N^O))+I[6]+3225465664&4294967295,F=N+(L<<9&4294967295|L>>>23),L=j+(N^O&(F^N))+I[11]+643717713&4294967295,j=F+(L<<14&4294967295|L>>>18),L=O+(F^N&(j^F))+I[0]+3921069994&4294967295,O=j+(L<<20&4294967295|L>>>12),L=N+(j^F&(O^j))+I[5]+3593408605&4294967295,N=O+(L<<5&4294967295|L>>>27),L=F+(O^j&(N^O))+I[10]+38016083&4294967295,F=N+(L<<9&4294967295|L>>>23),L=j+(N^O&(F^N))+I[15]+3634488961&4294967295,j=F+(L<<14&4294967295|L>>>18),L=O+(F^N&(j^F))+I[4]+3889429448&4294967295,O=j+(L<<20&4294967295|L>>>12),L=N+(j^F&(O^j))+I[9]+568446438&4294967295,N=O+(L<<5&4294967295|L>>>27),L=F+(O^j&(N^O))+I[14]+3275163606&4294967295,F=N+(L<<9&4294967295|L>>>23),L=j+(N^O&(F^N))+I[3]+4107603335&4294967295,j=F+(L<<14&4294967295|L>>>18),L=O+(F^N&(j^F))+I[8]+1163531501&4294967295,O=j+(L<<20&4294967295|L>>>12),L=N+(j^F&(O^j))+I[13]+2850285829&4294967295,N=O+(L<<5&4294967295|L>>>27),L=F+(O^j&(N^O))+I[2]+4243563512&4294967295,F=N+(L<<9&4294967295|L>>>23),L=j+(N^O&(F^N))+I[7]+1735328473&4294967295,j=F+(L<<14&4294967295|L>>>18),L=O+(F^N&(j^F))+I[12]+2368359562&4294967295,O=j+(L<<20&4294967295|L>>>12),L=N+(O^j^F)+I[5]+4294588738&4294967295,N=O+(L<<4&4294967295|L>>>28),L=F+(N^O^j)+I[8]+2272392833&4294967295,F=N+(L<<11&4294967295|L>>>21),L=j+(F^N^O)+I[11]+1839030562&4294967295,j=F+(L<<16&4294967295|L>>>16),L=O+(j^F^N)+I[14]+4259657740&4294967295,O=j+(L<<23&4294967295|L>>>9),L=N+(O^j^F)+I[1]+2763975236&4294967295,N=O+(L<<4&4294967295|L>>>28),L=F+(N^O^j)+I[4]+1272893353&4294967295,F=N+(L<<11&4294967295|L>>>21),L=j+(F^N^O)+I[7]+4139469664&4294967295,j=F+(L<<16&4294967295|L>>>16),L=O+(j^F^N)+I[10]+3200236656&4294967295,O=j+(L<<23&4294967295|L>>>9),L=N+(O^j^F)+I[13]+681279174&4294967295,N=O+(L<<4&4294967295|L>>>28),L=F+(N^O^j)+I[0]+3936430074&4294967295,F=N+(L<<11&4294967295|L>>>21),L=j+(F^N^O)+I[3]+3572445317&4294967295,j=F+(L<<16&4294967295|L>>>16),L=O+(j^F^N)+I[6]+76029189&4294967295,O=j+(L<<23&4294967295|L>>>9),L=N+(O^j^F)+I[9]+3654602809&4294967295,N=O+(L<<4&4294967295|L>>>28),L=F+(N^O^j)+I[12]+3873151461&4294967295,F=N+(L<<11&4294967295|L>>>21),L=j+(F^N^O)+I[15]+530742520&4294967295,j=F+(L<<16&4294967295|L>>>16),L=O+(j^F^N)+I[2]+3299628645&4294967295,O=j+(L<<23&4294967295|L>>>9),L=N+(j^(O|~F))+I[0]+4096336452&4294967295,N=O+(L<<6&4294967295|L>>>26),L=F+(O^(N|~j))+I[7]+1126891415&4294967295,F=N+(L<<10&4294967295|L>>>22),L=j+(N^(F|~O))+I[14]+2878612391&4294967295,j=F+(L<<15&4294967295|L>>>17),L=O+(F^(j|~N))+I[5]+4237533241&4294967295,O=j+(L<<21&4294967295|L>>>11),L=N+(j^(O|~F))+I[12]+1700485571&4294967295,N=O+(L<<6&4294967295|L>>>26),L=F+(O^(N|~j))+I[3]+2399980690&4294967295,F=N+(L<<10&4294967295|L>>>22),L=j+(N^(F|~O))+I[10]+4293915773&4294967295,j=F+(L<<15&4294967295|L>>>17),L=O+(F^(j|~N))+I[1]+2240044497&4294967295,O=j+(L<<21&4294967295|L>>>11),L=N+(j^(O|~F))+I[8]+1873313359&4294967295,N=O+(L<<6&4294967295|L>>>26),L=F+(O^(N|~j))+I[15]+4264355552&4294967295,F=N+(L<<10&4294967295|L>>>22),L=j+(N^(F|~O))+I[6]+2734768916&4294967295,j=F+(L<<15&4294967295|L>>>17),L=O+(F^(j|~N))+I[13]+1309151649&4294967295,O=j+(L<<21&4294967295|L>>>11),L=N+(j^(O|~F))+I[4]+4149444226&4294967295,N=O+(L<<6&4294967295|L>>>26),L=F+(O^(N|~j))+I[11]+3174756917&4294967295,F=N+(L<<10&4294967295|L>>>22),L=j+(N^(F|~O))+I[2]+718787259&4294967295,j=F+(L<<15&4294967295|L>>>17),L=O+(F^(j|~N))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(j+(L<<21&4294967295|L>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var O=N-this.blockSize,I=this.B,j=this.h,F=0;F<N;){if(j==0)for(;F<=O;)s(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<N;)if(I[j++]=k.charCodeAt(F++),j==this.blockSize){s(this,I),j=0;break}}else for(;F<N;)if(I[j++]=k[F++],j==this.blockSize){s(this,I),j=0;break}}this.h=j,this.o+=N},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var O=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=O&255,O/=256;for(this.u(k),k=Array(16),N=O=0;4>N;++N)for(var I=0;32>I;I+=8)k[O++]=this.g[N]>>>I&255;return k};function i(k,N){var O=c;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=N(k)}function l(k,N){this.h=N;for(var O=[],I=!0,j=k.length-1;0<=j;j--){var F=k[j]|0;I&&F==N||(O[j]=F,I=!1)}this.g=O}var c={};function d(k){return-128<=k&&128>k?i(k,function(N){return new l([N|0],0>N?-1:0)}):new l([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return b(h(-k));for(var N=[],O=1,I=0;k>=O;I++)N[I]=k/O|0,O*=4294967296;return new l(N,0)}function g(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return b(g(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(N,8)),I=y,j=0;j<k.length;j+=8){var F=Math.min(8,k.length-j),L=parseInt(k.substring(j,j+F),N);8>F?(F=h(Math.pow(N,F)),I=I.j(F).add(h(L))):(I=I.j(O),I=I.add(h(L)))}return I}var y=d(0),_=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-b(this).m();for(var k=0,N=1,O=0;O<this.g.length;O++){var I=this.i(O);k+=(0<=I?I:4294967296+I)*N,N*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(E(this))return"-"+b(this).toString(k);for(var N=h(Math.pow(k,6)),O=this,I="";;){var j=U(O,N).g;O=A(O,j.j(N));var F=((0<O.g.length?O.g[0]:O.h)>>>0).toString(k);if(O=j,T(O))return F+I;for(;6>F.length;)F="0"+F;I=F+I}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=A(this,k),E(k)?-1:T(k)?0:1};function b(k){for(var N=k.g.length,O=[],I=0;I<N;I++)O[I]=~k.g[I];return new l(O,~k.h).add(_)}t.abs=function(){return E(this)?b(this):this},t.add=function(k){for(var N=Math.max(this.g.length,k.g.length),O=[],I=0,j=0;j<=N;j++){var F=I+(this.i(j)&65535)+(k.i(j)&65535),L=(F>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);I=L>>>16,F&=65535,L&=65535,O[j]=L<<16|F}return new l(O,O[O.length-1]&-2147483648?-1:0)};function A(k,N){return k.add(b(N))}t.j=function(k){if(T(this)||T(k))return y;if(E(this))return E(k)?b(this).j(b(k)):b(b(this).j(k));if(E(k))return b(this.j(b(k)));if(0>this.l(S)&&0>k.l(S))return h(this.m()*k.m());for(var N=this.g.length+k.g.length,O=[],I=0;I<2*N;I++)O[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<k.g.length;j++){var F=this.i(I)>>>16,L=this.i(I)&65535,ie=k.i(j)>>>16,xe=k.i(j)&65535;O[2*I+2*j]+=L*xe,V(O,2*I+2*j),O[2*I+2*j+1]+=F*xe,V(O,2*I+2*j+1),O[2*I+2*j+1]+=L*ie,V(O,2*I+2*j+1),O[2*I+2*j+2]+=F*ie,V(O,2*I+2*j+2)}for(I=0;I<N;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=N;I<2*N;I++)O[I]=0;return new l(O,0)};function V(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function M(k,N){this.g=k,this.h=N}function U(k,N){if(T(N))throw Error("division by zero");if(T(k))return new M(y,y);if(E(k))return N=U(b(k),N),new M(b(N.g),b(N.h));if(E(N))return N=U(k,b(N)),new M(b(N.g),N.h);if(30<k.g.length){if(E(k)||E(N))throw Error("slowDivide_ only works with positive integers.");for(var O=_,I=N;0>=I.l(k);)O=z(O),I=z(I);var j=q(O,1),F=q(I,1);for(I=q(I,2),O=q(O,2);!T(I);){var L=F.add(I);0>=L.l(k)&&(j=j.add(O),F=L),I=q(I,1),O=q(O,1)}return N=A(k,j.j(N)),new M(j,N)}for(j=y;0<=k.l(N);){for(O=Math.max(1,Math.floor(k.m()/N.m())),I=Math.ceil(Math.log(O)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),F=h(O),L=F.j(N);E(L)||0<L.l(k);)O-=I,F=h(O),L=F.j(N);T(F)&&(F=_),j=j.add(F),k=A(k,L)}return new M(j,k)}t.A=function(k){return U(this,k).h},t.and=function(k){for(var N=Math.max(this.g.length,k.g.length),O=[],I=0;I<N;I++)O[I]=this.i(I)&k.i(I);return new l(O,this.h&k.h)},t.or=function(k){for(var N=Math.max(this.g.length,k.g.length),O=[],I=0;I<N;I++)O[I]=this.i(I)|k.i(I);return new l(O,this.h|k.h)},t.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),O=[],I=0;I<N;I++)O[I]=this.i(I)^k.i(I);return new l(O,this.h^k.h)};function z(k){for(var N=k.g.length+1,O=[],I=0;I<N;I++)O[I]=k.i(I)<<1|k.i(I-1)>>>31;return new l(O,k.h)}function q(k,N){var O=N>>5;N%=32;for(var I=k.g.length-O,j=[],F=0;F<I;F++)j[F]=0<N?k.i(F+O)>>>N|k.i(F+O+1)<<32-N:k.i(F+O);return new l(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=g,Do=l}).apply(typeof FT<"u"?FT:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hR,rd,fR,dp,u0,pR,mR,gR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,R){return f==Array.prototype||f==Object.prototype||(f[w]=R.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var w=0;w<f.length;++w){var R=f[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function s(f,w){if(w)e:{var R=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var K=f[D];if(!(K in R))break e;R=R[K]}f=f[f.length-1],D=R[f],w=w(D),w!=D&&w!=null&&e(R,f,{configurable:!0,writable:!0,value:w})}}function i(f,w){f instanceof String&&(f+="");var R=0,D=!1,K={next:function(){if(!D&&R<f.length){var X=R++;return{value:w(X,f[X]),done:!1}}return D=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(f){return f||function(){return i(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function g(f,w,R){return f.call.apply(f.bind,arguments)}function y(f,w,R){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,D),f.apply(w,K)}}return function(){return f.apply(w,arguments)}}function _(f,w,R){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,_.apply(null,arguments)}function S(f,w){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function T(f,w){function R(){}R.prototype=w.prototype,f.aa=w.prototype,f.prototype=new R,f.prototype.constructor=f,f.Qb=function(D,K,X){for(var he=Array(arguments.length-2),at=2;at<arguments.length;at++)he[at-2]=arguments[at];return w.prototype[K].apply(D,he)}}function E(f){const w=f.length;if(0<w){const R=Array(w);for(let D=0;D<w;D++)R[D]=f[D];return R}return[]}function b(f,w){for(let R=1;R<arguments.length;R++){const D=arguments[R];if(d(D)){const K=f.length||0,X=D.length||0;f.length=K+X;for(let he=0;he<X;he++)f[K+he]=D[he]}else f.push(D)}}class A{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function V(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function U(f){return U[" "](f),f}U[" "]=function(){};var z=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function q(f,w,R){for(const D in f)w.call(R,f[D],D,f)}function k(f,w){for(const R in f)w.call(void 0,f[R],R,f)}function N(f){const w={};for(const R in f)w[R]=f[R];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,w){let R,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(R in D)f[R]=D[R];for(let X=0;X<O.length;X++)R=O[X],Object.prototype.hasOwnProperty.call(D,R)&&(f[R]=D[R])}}function j(f){var w=1;f=f.split(":");const R=[];for(;0<w&&f.length;)R.push(f.shift()),w--;return f.length&&R.push(f.join(":")),R}function F(f){c.setTimeout(()=>{throw f},0)}function L(){var f=de;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class ie{constructor(){this.h=this.g=null}add(w,R){const D=xe.get();D.set(w,R),this.h?this.h.next=D:this.g=D,this.h=D}}var xe=new A(()=>new _e,f=>f.reset());class _e{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,se=!1,de=new ie,ce=()=>{const f=c.Promise.resolve(void 0);Te=()=>{f.then(W)}};var W=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(R){F(R)}var w=xe;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}se=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const R=()=>{};c.addEventListener("test",R,w),c.removeEventListener("test",R,w)}catch{}return f}();function Ae(f,w){if(me.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var R=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(z){e:{try{U(w.nodeName);var K=!0;break e}catch{}K=!1}K||(w=null)}}else R=="mouseover"?w=f.fromElement:R=="mouseout"&&(w=f.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:je[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ae.aa.h.call(this)}}T(Ae,me);var je={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Je(f,w,R,D,K){this.listener=f,this.proxy=null,this.src=w,this.type=R,this.capture=!!D,this.ha=K,this.key=++Ve,this.da=this.fa=!1}function Mt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Cn(f){this.src=f,this.g={},this.h=0}Cn.prototype.add=function(f,w,R,D,K){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var he=Gt(f,w,D,K);return-1<he?(w=f[he],R||(w.fa=!1)):(w=new Je(w,this.src,X,!!D,K),w.fa=R,f.push(w)),w};function Jn(f,w){var R=w.type;if(R in f.g){var D=f.g[R],K=Array.prototype.indexOf.call(D,w,void 0),X;(X=0<=K)&&Array.prototype.splice.call(D,K,1),X&&(Mt(w),f.g[R].length==0&&(delete f.g[R],f.h--))}}function Gt(f,w,R,D){for(var K=0;K<f.length;++K){var X=f[K];if(!X.da&&X.listener==w&&X.capture==!!R&&X.ha==D)return K}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),Is={};function Rs(f,w,R,D,K){if(Array.isArray(w)){for(var X=0;X<w.length;X++)Rs(f,w[X],R,D,K);return null}return R=Hn(R),f&&f[Ue]?f.K(w,R,h(D)?!!D.capture:!1,K):As(f,w,R,!1,D,K)}function As(f,w,R,D,K,X){if(!w)throw Error("Invalid event type");var he=h(K)?!!K.capture:!!K,at=dt(f);if(at||(f[yr]=at=new Cn(f)),R=at.add(w,R,D,he,X),R.proxy)return R;if(D=Ji(),R.proxy=D,D.src=f,D.listener=R,f.addEventListener)Re||(K=he),K===void 0&&(K=!1),f.addEventListener(w.toString(),D,K);else if(f.attachEvent)f.attachEvent(Oe(w.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ji(){function f(R){return w.call(f.src,f.listener,R)}const w=tt;return f}function Ps(f,w,R,D,K){if(Array.isArray(w))for(var X=0;X<w.length;X++)Ps(f,w[X],R,D,K);else D=h(D)?!!D.capture:!!D,R=Hn(R),f&&f[Ue]?(f=f.i,w=String(w).toString(),w in f.g&&(X=f.g[w],R=Gt(X,R,D,K),-1<R&&(Mt(X[R]),Array.prototype.splice.call(X,R,1),X.length==0&&(delete f.g[w],f.h--)))):f&&(f=dt(f))&&(w=f.g[w.toString()],f=-1,w&&(f=Gt(w,R,D,K)),(R=-1<f?w[f]:null)&&Qt(R))}function Qt(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Ue])Jn(w.i,f);else{var R=f.type,D=f.proxy;w.removeEventListener?w.removeEventListener(R,D,f.capture):w.detachEvent?w.detachEvent(Oe(R),D):w.addListener&&w.removeListener&&w.removeListener(D),(R=dt(w))?(Jn(R,f),R.h==0&&(R.src=null,w[yr]=null)):Mt(f)}}}function Oe(f){return f in Is?Is[f]:Is[f]="on"+f}function tt(f,w){if(f.da)f=!0;else{w=new Ae(w,this);var R=f.listener,D=f.ha||f.src;f.fa&&Qt(f),f=R.call(D,w)}return f}function dt(f){return f=f[yr],f instanceof Cn?f:null}var Wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(f){return typeof f=="function"?f:(f[Wn]||(f[Wn]=function(w){return f.handleEvent(w)}),f[Wn])}function ot(){te.call(this),this.i=new Cn(this),this.M=this,this.F=null}T(ot,te),ot.prototype[Ue]=!0,ot.prototype.removeEventListener=function(f,w,R,D){Ps(this,f,w,R,D)};function Ze(f,w){var R,D=f.F;if(D)for(R=[];D;D=D.F)R.push(D);if(f=f.M,D=w.type||w,typeof w=="string")w=new me(w,f);else if(w instanceof me)w.target=w.target||f;else{var K=w;w=new me(D,f),I(w,K)}if(K=!0,R)for(var X=R.length-1;0<=X;X--){var he=w.g=R[X];K=Yt(he,D,!0,w)&&K}if(he=w.g=f,K=Yt(he,D,!0,w)&&K,K=Yt(he,D,!1,w)&&K,R)for(X=0;X<R.length;X++)he=w.g=R[X],K=Yt(he,D,!1,w)&&K}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var R=f.g[w],D=0;D<R.length;D++)Mt(R[D]);delete f.g[w],f.h--}}this.F=null},ot.prototype.K=function(f,w,R,D){return this.i.add(String(f),w,!1,R,D)},ot.prototype.L=function(f,w,R,D){return this.i.add(String(f),w,!0,R,D)};function Yt(f,w,R,D){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var K=!0,X=0;X<w.length;++X){var he=w[X];if(he&&!he.da&&he.capture==R){var at=he.listener,sn=he.ha||he.src;he.fa&&Jn(f.i,he),K=at.call(sn,D)!==!1&&K}}return K&&!D.defaultPrevented}function di(f,w,R){if(typeof f=="function")R&&(f=_(f,R));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(f,w||0)}function Zi(f){f.g=di(()=>{f.g=null,f.i&&(f.i=!1,Zi(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class sa extends te{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(f){te.call(this),this.h=f,this.g={}}T(ia,te);var Xc=[];function Jc(f){q(f.g,function(w,R){this.g.hasOwnProperty(R)&&Qt(w)},f),f.g={}}ia.prototype.N=function(){ia.aa.N.call(this),Jc(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zc=c.JSON.stringify,eu=c.JSON.parse,tu=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function oa(){}oa.prototype.h=null;function sl(f){return f.h||(f.h=f.i())}function il(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ks(){me.call(this,"d")}T(ks,me);function ol(){me.call(this,"c")}T(ol,me);var Ns={},nu=null;function aa(){return nu=nu||new ot}Ns.La="serverreachability";function ru(f){me.call(this,Ns.La,f)}T(ru,me);function hi(f){const w=aa();Ze(w,new ru(w))}Ns.STAT_EVENT="statevent";function su(f,w){me.call(this,Ns.STAT_EVENT,f),this.stat=w}T(su,me);function Wt(f){const w=aa();Ze(w,new su(w,f))}Ns.Ma="timingevent";function al(f,w){me.call(this,Ns.Ma,f),this.size=w}T(al,me);function es(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function la(){this.g=!0}la.prototype.xa=function(){this.g=!1};function ca(f,w,R,D,K,X){f.info(function(){if(f.g)if(X)for(var he="",at=X.split("&"),sn=0;sn<at.length;sn++){var Ke=at[sn].split("=");if(1<Ke.length){var un=Ke[0];Ke=Ke[1];var Xt=un.split("_");he=2<=Xt.length&&Xt[1]=="type"?he+(un+"="+Ke+"&"):he+(un+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+w+`
`+R+`
`+he})}function ll(f,w,R,D,K,X,he){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+w+`
`+R+`
`+X+" "+he})}function ts(f,w,R,D){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ag(f,R)+(D?" "+D:"")})}function iu(f,w){f.info(function(){return"TIMEOUT: "+w})}la.prototype.info=function(){};function Ag(f,w){if(!f.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(f=0;f<R.length;f++)if(Array.isArray(R[f])){var D=R[f];if(!(2>D.length)){var K=D[1];if(Array.isArray(K)&&!(1>K.length)){var X=K[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<K.length;he++)K[he]=""}}}}return Zc(R)}catch{return w}}var cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ns;function ua(){}T(ua,oa),ua.prototype.g=function(){return new XMLHttpRequest},ua.prototype.i=function(){return{}},ns=new ua;function rs(f,w,R,D){this.j=f,this.i=w,this.l=R,this.R=D||1,this.U=new ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ch}function Ch(){this.i=null,this.g="",this.h=!1}var ou={},ul={};function dl(f,w,R){f.L=1,f.v=so(_r(w)),f.m=R,f.P=!0,au(f,null)}function au(f,w){f.F=Date.now(),mt(f),f.A=_r(f.v);var R=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),oo(R.i,"t",D),f.C=0,R=f.j.J,f.h=new Ch,f.g=Wh(f.j,R?w:null,!f.m),0<f.O&&(f.M=new sa(_(f.Y,f,f.g),f.O)),w=f.U,R=f.g,D=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Xc[0]=K.toString()),K=Xc);for(var X=0;X<K.length;X++){var he=Rs(R,K[X],D||w.handleEvent,!1,w.h||w);if(!he)break;w.g[he.key]=he}w=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),hi(),ca(f.i,f.u,f.A,f.l,f.R,f.m)}rs.prototype.ca=function(f){f=f.target;const w=this.M;w&&er(f)==3?w.j():this.Y(f)},rs.prototype.Y=function(f){try{if(f==this.g)e:{const Xt=er(this.g);var w=this.g.Ba();const Vr=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||Xt!=4||w==7||(w==8||0>=Vr?hi(3):hi(2)),da(this);var R=this.g.Z();this.X=R;t:if(Ih(this)){var D=fu(this.g);f="";var K=D.length,X=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jr(this),eo(this);var he="";break t}this.h.i=new c.TextDecoder}for(w=0;w<K;w++)this.h.h=!0,f+=this.h.i.decode(D[w],{stream:!(X&&w==K-1)});D.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=R==200,ll(this.i,this.u,this.A,this.l,this.R,Xt,R),this.o){if(this.T&&!this.K){t:{if(this.g){var at,sn=this.g;if((at=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(at)){var Ke=at;break t}}Ke=null}if(R=Ke)ts(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lu(this,R);else{this.o=!1,this.s=3,Wt(12),jr(this),eo(this);break e}}if(this.P){R=!0;let xr;for(;!this.J&&this.C<he.length;)if(xr=Pg(this,he),xr==ul){Xt==4&&(this.s=4,Wt(14),R=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==ou){this.s=4,Wt(15),ts(this.i,this.l,he,"[Invalid Chunk]"),R=!1;break}else ts(this.i,this.l,xr,null),lu(this,xr);if(Ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||he.length!=0||this.h.h||(this.s=1,Wt(16),R=!1),this.o=this.o&&R,!R)ts(this.i,this.l,he,"[Invalid Chunked Response]"),jr(this),eo(this);else if(0<he.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),mu(un),un.M=!0,Wt(11))}}else ts(this.i,this.l,he,null),lu(this,he);Xt==4&&jr(this),this.o&&!this.J&&(Xt==4?El(this.j,this):(this.o=!1,mt(this)))}else yl(this.g),R==400&&0<he.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),jr(this),eo(this)}}}catch{}finally{}};function Ih(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Pg(f,w){var R=f.C,D=w.indexOf(`
`,R);return D==-1?ul:(R=Number(w.substring(R,D)),isNaN(R)?ou:(D+=1,D+R>w.length?ul:(w=w.slice(D,D+R),f.C=D+R,w)))}rs.prototype.cancel=function(){this.J=!0,jr(this)};function mt(f){f.S=Date.now()+f.I,Rh(f,f.I)}function Rh(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=es(_(f.ba,f),w)}function da(f){f.B&&(c.clearTimeout(f.B),f.B=null)}rs.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(iu(this.i,this.A),this.L!=2&&(hi(),Wt(17)),jr(this),this.s=2,eo(this)):Rh(this,this.S-f)};function eo(f){f.j.G==0||f.J||El(f.j,f)}function jr(f){da(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Jc(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function lu(f,w){try{var R=f.j;if(R.G!=0&&(R.g==f||qn(R.h,f))){if(!f.K&&qn(R.h,f)&&R.G==3){try{var D=R.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<f.F)xl(R),ls(R);else break e;wl(R),Wt(18)}}else R.za=K[1],0<R.za-R.T&&37500>K[2]&&R.F&&R.v==0&&!R.C&&(R.C=es(_(R.Za,R),6e3));if(1>=Ph(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else yi(R,11)}else if((f.K||R.g==f)&&xl(R),!V(w))for(K=R.Da.g.parse(w),w=0;w<K.length;w++){let Ke=K[w];if(R.T=Ke[0],Ke=Ke[1],R.G==2)if(Ke[0]=="c"){R.K=Ke[1],R.ia=Ke[2];const un=Ke[3];un!=null&&(R.la=un,R.j.info("VER="+R.la));const Xt=Ke[4];Xt!=null&&(R.Aa=Xt,R.j.info("SVER="+R.Aa));const Vr=Ke[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(D=1.5*Vr,R.L=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const xr=f.g;if(xr){const va=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var X=D.h;X.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(cu(X,X.h),X.h=null))}if(D.D){const bl=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(D.ya=bl,ht(D.I,D.D,bl))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-f.F,R.j.info("Handshake RTT: "+R.R+"ms")),D=R;var he=f;if(D.qa=zh(D,D.J?D.ia:null,D.W),he.K){kh(D.h,he);var at=he,sn=D.L;sn&&(at.I=sn),at.B&&(da(at),mt(at)),D.g=he}else ya(D);0<R.i.length&&js(R)}else Ke[0]!="stop"&&Ke[0]!="close"||yi(R,7);else R.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?yi(R,7):_n(R):Ke[0]!="noop"&&R.l&&R.l.ta(Ke),R.v=0)}}hi(4)}catch{}}var Ah=class{constructor(f,w){this.g=f,this.map=w}};function ha(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ph(f){return f.h?1:f.g?f.g.size:0}function qn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function cu(f,w){f.g?f.g.add(w):f.h=w}function kh(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}ha.prototype.cancel=function(){if(this.i=Nh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const R of f.g.values())w=w.concat(R.D);return w}return E(f.i)}function hl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var w=[],R=f.length,D=0;D<R;D++)w.push(f[D]);return w}w=[],R=0;for(D in f)w[R++]=f[D];return w}function fl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var w=[];f=f.length;for(var R=0;R<f;R++)w.push(R);return w}w=[],R=0;for(const D in f)w[R++]=D;return w}}}function to(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var R=fl(f),D=hl(f),K=D.length,X=0;X<K;X++)w.call(void 0,D[X],R&&R[X],f)}var fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kg(f,w){if(f){f=f.split("&");for(var R=0;R<f.length;R++){var D=f[R].indexOf("="),K=null;if(0<=D){var X=f[R].substring(0,D);K=f[R].substring(D+1)}else X=f[R];w(X,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function fi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof fi){this.h=f.h,pa(this,f.j),this.o=f.o,this.g=f.g,no(this,f.s),this.l=f.l;var w=f.i,R=new Os;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),ro(this,R),this.m=f.m}else f&&(w=String(f).match(fa))?(this.h=!1,pa(this,w[1]||"",!0),this.o=We(w[2]||""),this.g=We(w[3]||"",!0),no(this,w[4]),this.l=We(w[5]||"",!0),ro(this,w[6]||"",!0),this.m=We(w[7]||"")):(this.h=!1,this.i=new Os(null,this.h))}fi.prototype.toString=function(){var f=[],w=this.j;w&&f.push(io(w,pl,!0),":");var R=this.g;return(R||w=="file")&&(f.push("//"),(w=this.o)&&f.push(io(w,pl,!0),"@"),f.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&f.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&f.push("/"),f.push(io(R,R.charAt(0)=="/"?Lh:Dh,!0))),(R=this.i.toString())&&f.push("?",R),(R=this.m)&&f.push("#",io(R,uu)),f.join("")};function _r(f){return new fi(f)}function pa(f,w,R){f.j=R?We(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function no(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function ro(f,w,R){w instanceof Os?(f.i=w,Ds(f.i,f.h)):(R||(w=io(w,jh)),f.i=new Os(w,f.h))}function ht(f,w,R){f.i.set(w,R)}function so(f){return ht(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function We(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function io(f,w,R){return typeof f=="string"?(f=encodeURI(f).replace(w,Oh),R&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Oh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var pl=/[#\/\?@]/g,Dh=/[#\?:]/g,Lh=/[#\?]/g,jh=/[#\?@]/g,uu=/#/g;function Os(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function vn(f){f.g||(f.g=new Map,f.h=0,f.i&&kg(f.i,function(w,R){f.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}t=Os.prototype,t.add=function(f,w){vn(this),this.i=null,f=Mr(this,f);var R=this.g.get(f);return R||this.g.set(f,R=[]),R.push(w),this.h+=1,this};function ss(f,w){vn(f),w=Mr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function is(f,w){return vn(f),w=Mr(f,w),f.g.has(w)}t.forEach=function(f,w){vn(this),this.g.forEach(function(R,D){R.forEach(function(K){f.call(w,K,D,this)},this)},this)},t.na=function(){vn(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let D=0;D<w.length;D++){const K=f[D];for(let X=0;X<K.length;X++)R.push(w[D])}return R},t.V=function(f){vn(this);let w=[];if(typeof f=="string")is(this,f)&&(w=w.concat(this.g.get(Mr(this,f))));else{f=Array.from(this.g.values());for(let R=0;R<f.length;R++)w=w.concat(f[R])}return w},t.set=function(f,w){return vn(this),this.i=null,f=Mr(this,f),is(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function oo(f,w,R){ss(f,w),0<R.length&&(f.i=null,f.g.set(Mr(f,w),E(R)),f.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var D=w[R];const X=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var K=X;he[D]!==""&&(K+="="+encodeURIComponent(String(he[D]))),f.push(K)}}return this.i=f.join("&")};function Mr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Ds(f,w){w&&!f.j&&(vn(f),f.i=null,f.g.forEach(function(R,D){var K=D.toLowerCase();D!=K&&(ss(this,D),oo(this,K,R))},f)),f.j=w}function Ng(f,w){const R=new la;if(c.Image){const D=new Image;D.onload=S(Zn,R,"TestLoadImage: loaded",!0,w,D),D.onerror=S(Zn,R,"TestLoadImage: error",!1,w,D),D.onabort=S(Zn,R,"TestLoadImage: abort",!1,w,D),D.ontimeout=S(Zn,R,"TestLoadImage: timeout",!1,w,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else w(!1)}function Mh(f,w){const R=new la,D=new AbortController,K=setTimeout(()=>{D.abort(),Zn(R,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:D.signal}).then(X=>{clearTimeout(K),X.ok?Zn(R,"TestPingServer: ok",!0,w):Zn(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(K),Zn(R,"TestPingServer: error",!1,w)})}function Zn(f,w,R,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(R)}catch{}}function Og(){this.g=new tu}function Vh(f,w,R){const D=R||"";try{to(f,function(K,X){let he=K;h(K)&&(he=Zc(K)),w.push(D+X+"="+encodeURIComponent(he))})}catch(K){throw w.push(D+"type="+encodeURIComponent("_badmap")),K}}function pi(f){this.l=f.Ub||null,this.j=f.eb||!1}T(pi,oa),pi.prototype.g=function(){return new ma(this.l,this.j)},pi.prototype.i=function(f){return function(){return f}}({});function ma(f,w){ot.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ma,ot),t=ma.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,as(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?os(this):as(this),this.readyState==3&&Fh(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,os(this))},t.Qa=function(f){this.g&&(this.response=f,os(this))},t.ga=function(){this.g&&os(this)};function os(f){f.readyState=4,f.l=null,f.j=null,f.v=null,as(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,f.push(R[0]+": "+R[1]),R=w.next();return f.join(`\r
`)};function as(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mi(f){let w="";return q(f,function(R,D){w+=D,w+=":",w+=R,w+=`\r
`}),w}function ao(f,w,R){e:{for(D in R){var D=!1;break e}D=!0}D||(R=mi(R),typeof f=="string"?R!=null&&encodeURIComponent(String(R)):ht(f,w,R))}function Ct(f){ot.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ct,ot);var Dg=/^https?$/i,du=["POST","PUT"];t=Ct.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ns.g(),this.v=this.o?sl(this.o):sl(ns),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(X){ga(this,X);return}if(f=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)R.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())R.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(X=>X.toLowerCase()=="content-type"),K=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(du,w,void 0))||D||K||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of R)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gl(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){ga(this,X)}};function ga(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,ml(f),wr(f)}function ml(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ze(this,"complete"),Ze(this,"abort"),wr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hu(this):this.bb())},t.bb=function(){hu(this)};function hu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||er(f)!=4||f.Z()!=2)){if(f.u&&er(f)==4)di(f.Ea,0,f);else if(Ze(f,"readystatechange"),er(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var R;if(!(R=w)){var D;if(D=he===0){var K=String(f.D).match(fa)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),D=!Dg.test(K?K.toLowerCase():"")}R=D}if(R)Ze(f,"complete"),Ze(f,"success");else{f.m=6;try{var X=2<er(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",ml(f)}}finally{wr(f)}}}}function wr(f,w){if(f.g){gl(f);const R=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Ze(f,"ready");try{R.onreadystatechange=D}catch{}}}function gl(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function er(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),eu(w)}};function fu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function yl(f){const w={};f=(f.g&&2<=er(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(V(f[D]))continue;var R=j(f[D]);const K=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const X=w[K]||[];w[K]=X,X.push(R)}k(w,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(f,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[f]||w}function pu(f){this.Aa=0,this.i=[],this.j=new la,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,f),this.cb=Ls("retryDelaySeedMs",1e4,f),this.Wa=Ls("forwardChannelMaxRetries",2,f),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ha(f&&f.concurrentRequestLimit),this.Da=new Og,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pu.prototype,t.la=8,t.G=1,t.connect=function(f,w,R,D){Wt(0),this.W=f,this.H=w||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.I=zh(this,null,this.W),js(this)};function _n(f){if(vl(f),f.G==3){var w=f.U++,R=_r(f.I);if(ht(R,"SID",f.K),ht(R,"RID",w),ht(R,"TYPE","terminate"),gi(f,R),w=new rs(f,f.j,w),w.L=2,w.v=so(_r(R)),R=!1,c.navigator&&c.navigator.sendBeacon)try{R=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&c.Image&&(new Image().src=w.v,R=!0),R||(w.g=Wh(w.j,null),w.g.ea(w.v)),w.F=Date.now(),mt(w)}Bh(f)}function ls(f){f.g&&(mu(f),f.g.cancel(),f.g=null)}function vl(f){ls(f),f.u&&(c.clearTimeout(f.u),f.u=null),xl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function js(f){if(!vr(f.h)&&!f.s){f.s=!0;var w=f.Ga;Te||ce(),se||(Te(),se=!0),de.add(w,f),f.B=0}}function Lg(f,w){return Ph(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=es(_(f.Ga,f,w),$h(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new rs(this,this.j,f);let X=this.o;if(this.S&&(X?(X=N(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(K.H=X,X=null),this.P)e:{for(var w=0,R=0;R<this.i.length;R++){t:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=R;break e}if(w===4096||R===this.i.length-1){w=R+1;break e}}w=1e3}else w=1e3;w=lo(this,K,w),R=_r(this.I),ht(R,"RID",f),ht(R,"CVER",22),this.D&&ht(R,"X-HTTP-Session-Id",this.D),gi(this,R),X&&(this.O?w="headers="+encodeURIComponent(String(mi(X)))+"&"+w:this.m&&ao(R,this.m,X)),cu(this.h,K),this.Ua&&ht(R,"TYPE","init"),this.P?(ht(R,"$req",w),ht(R,"SID","null"),K.T=!0,dl(K,R,null)):dl(K,R,w),this.G=2}}else this.G==3&&(f?_l(this,f):this.i.length==0||vr(this.h)||_l(this))};function _l(f,w){var R;w?R=w.l:R=f.U++;const D=_r(f.I);ht(D,"SID",f.K),ht(D,"RID",R),ht(D,"AID",f.T),gi(f,D),f.m&&f.o&&ao(D,f.m,f.o),R=new rs(f,f.j,R,f.B+1),f.m===null&&(R.H=f.o),w&&(f.i=w.D.concat(f.i)),w=lo(f,R,1e3),R.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),cu(f.h,R),dl(R,D,w)}function gi(f,w){f.H&&q(f.H,function(R,D){ht(w,D,R)}),f.l&&to({},function(R,D){ht(w,D,R)})}function lo(f,w,R){R=Math.min(f.i.length,R);var D=f.l?_(f.l.Na,f.l,f):null;e:{var K=f.i;let X=-1;for(;;){const he=["count="+R];X==-1?0<R?(X=K[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let at=!0;for(let sn=0;sn<R;sn++){let Ke=K[sn].g;const un=K[sn].map;if(Ke-=X,0>Ke)X=Math.max(0,K[sn].g-100),at=!1;else try{Vh(un,he,"req"+Ke+"_")}catch{D&&D(un)}}if(at){D=he.join("&");break e}}}return f=f.i.splice(0,R),w.D=f,D}function ya(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;Te||ce(),se||(Te(),se=!0),de.add(w,f),f.v=0}}function wl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=es(_(f.Fa,f),$h(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=es(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ls(this),Uh(this))};function mu(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Uh(f){f.g=new rs(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=_r(f.qa);ht(w,"RID","rpc"),ht(w,"SID",f.K),ht(w,"AID",f.T),ht(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&ht(w,"TO",f.ja),ht(w,"TYPE","xmlhttp"),gi(f,w),f.m&&f.o&&ao(w,f.m,f.o),f.L&&(f.g.I=f.L);var R=f.g;f=f.ia,R.L=1,R.v=so(_r(w)),R.m=null,R.P=!0,au(R,f)}t.Za=function(){this.C!=null&&(this.C=null,ls(this),wl(this),Wt(19))};function xl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function El(f,w){var R=null;if(f.g==w){xl(f),mu(f),f.g=null;var D=2}else if(qn(f.h,w))R=w.D,kh(f.h,w),D=1;else return;if(f.G!=0){if(w.o)if(D==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var K=f.B;D=aa(),Ze(D,new al(D,R)),js(f)}else ya(f);else if(K=w.s,K==3||K==0&&0<w.X||!(D==1&&Lg(f,w)||D==2&&wl(f)))switch(R&&0<R.length&&(w=f.h,w.i=w.i.concat(R)),K){case 1:yi(f,5);break;case 4:yi(f,10);break;case 3:yi(f,6);break;default:yi(f,2)}}}function $h(f,w){let R=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(R*=2),R*w}function yi(f,w){if(f.j.info("Error code "+w),w==2){var R=_(f.fb,f),D=f.Xa;const K=!D;D=new fi(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pa(D,"https"),so(D),K?Ng(D.toString(),R):Mh(D.toString(),R)}else Wt(2);f.G=0,f.l&&f.l.sa(w),Bh(f),vl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Bh(f){if(f.G=0,f.ka=[],f.l){const w=Nh(f.h);(w.length!=0||f.i.length!=0)&&(b(f.ka,w),b(f.ka,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.ra()}}function zh(f,w,R){var D=R instanceof fi?_r(R):new fi(R);if(D.g!="")w&&(D.g=w+"."+D.g),no(D,D.s);else{var K=c.location;D=K.protocol,w=w?w+"."+K.hostname:K.hostname,K=+K.port;var X=new fi(null);D&&pa(X,D),w&&(X.g=w),K&&no(X,K),R&&(X.l=R),D=X}return R=f.D,w=f.ya,R&&w&&ht(D,R,w),ht(D,"VER",f.la),gi(f,D),D}function Wh(f,w,R){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Ct(new pi({eb:R})):new Ct(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}t=gu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tl(){}Tl.prototype.g=function(f,w){return new Kn(f,w)};function Kn(f,w){ot.call(this),this.g=new pu(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!V(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Ms(this)}T(Kn,ot),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){_n(this.g)},Kn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var R={};R.__data__=f,f=R}else this.u&&(R={},R.__data__=Zc(f),f=R);w.i.push(new Ah(w.Ya++,f)),w.G==3&&js(w)},Kn.prototype.N=function(){this.g.l=null,delete this.j,_n(this.g),delete this.g,Kn.aa.N.call(this)};function Hh(f){ks.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const R in w){f=R;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}T(Hh,ks);function qh(){ol.call(this),this.status=1}T(qh,ol);function Ms(f){this.g=f}T(Ms,gu),Ms.prototype.ua=function(){Ze(this.g,"a")},Ms.prototype.ta=function(f){Ze(this.g,new Hh(f))},Ms.prototype.sa=function(f){Ze(this.g,new qh)},Ms.prototype.ra=function(){Ze(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,gR=function(){return new Tl},mR=function(){return aa()},pR=Ns,u0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cl.NO_ERROR=0,cl.TIMEOUT=8,cl.HTTP_ERROR=6,dp=cl,Sh.COMPLETE="complete",fR=Sh,il.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,rd=il,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,hR=Ct}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const UT="@firebase/firestore",$T="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new xm("@firebase/firestore");function Xl(){return $o.logLevel}function i3(t){$o.setLogLevel(t)}function ge(t,...e){if($o.logLevel<=Be.DEBUG){const n=e.map(U_);$o.debug(`Firestore (${jc}): ${t}`,...n)}}function Bi(t,...e){if($o.logLevel<=Be.ERROR){const n=e.map(U_);$o.error(`Firestore (${jc}): ${t}`,...n)}}function mc(t,...e){if($o.logLevel<=Be.WARN){const n=e.map(U_);$o.warn(`Firestore (${jc}): ${t}`,...n)}}function U_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+t;throw Bi(e),new Error(e)}function it(t,e){t||ke()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class a3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l3{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let i=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ji,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ji)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new yR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new Dn(e)}}class c3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class u3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d3{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Vn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){it(this.o===void 0);const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new BT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new BT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=h3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function gc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=-62135596800,WT=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WT);return new ln(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zT)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WT}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new ln(0,0))}static max(){return new De(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__name__";class Ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(),r===void 0?r=e.length-n:r>e.length-n&&ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ws.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Ws.isNumericId(e),s=Ws.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ws.extractNumericId(e).compare(Ws.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class bt extends Ws{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const f3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Ws{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return f3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HT}static keyField(){return new bn([HT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(i(),s++)}if(i(),l)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(bt.fromString(e))}static fromName(e){return new Se(bt.fromString(e).popFirst(5))}static empty(){return new Se(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=-1;function p3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new Bo(s,Se.empty(),e)}function m3(t){return new Bo(t.readTime,t.key,Ad)}class Bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bo(De.min(),Se.empty(),Ad)}static max(){return new Bo(De.max(),Se.empty(),Ad)}}function g3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==y3)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let s=0,i=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++i,l&&i===s&&n()},d=>r(d))}),l=!0,i===s&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(s=>s?re.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new re((r,s)=>{const i=e.length,l=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;n(e[h]).next(g=>{l[h]=g,++c,c===i&&r(l)},g=>s(g))}})}static doWhile(e,n){return new re((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function _3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-1;function Am(t){return t==null}function Fp(t){return t===0&&1/t==-1/0}function w3(t){return typeof t=="number"&&Number.isInteger(t)&&!Fp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="";function x3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qT(e)),e=E3(t.get(n),e);return qT(e)}function E3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case _R:n+="";break;default:n+=i}}return n}function qT(t){return t+_R+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class d0{constructor(e,n){this.comparator=e,this.root=n||Lo.EMPTY}insert(e,n){return new d0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lo.BLACK,null,null))}remove(e){return new d0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}},Wf=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Lo=class Ai{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ai.RED,this.left=s??Ai.EMPTY,this.right=i??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ai(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ai.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}};Lo.EMPTY=null,Lo.RED=!0,Lo.BLACK=!1;Lo.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new cn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xR("Invalid base64 string: "+i):i}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const T3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(t){if(it(!!t),typeof t=="string"){let e=0;const n=T3.exec(t);if(it(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wo(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="server_timestamp",TR="__type__",bR="__previous_value__",SR="__local_write_time__";function B_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TR])===null||n===void 0?void 0:n.stringValue)===ER}function Pm(t){const e=t.mapValue.fields[bR];return B_(e)?Pm(e):e}function Pd(t){const e=zo(t.mapValue.fields[SR].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r,s,i,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}const Up="(default)";class kd{constructor(e,n){this.projectId=e,this.database=n||Up}static empty(){return new kd("","")}get isDefaultDatabase(){return this.database===Up}isEqual(e){return e instanceof kd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="__type__",S3="__max__",Hf={mapValue:{}},IR="__vector__",$p="value";function Ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B_(t)?4:I3(t)?9007199254740991:C3(t)?10:11:ke()}function oi(t,e){if(t===e)return!0;const n=Ho(t);if(n!==Ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pd(t).isEqual(Pd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=zo(s.timestampValue),c=zo(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Wo(s.bytesValue).isEqual(Wo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qt(s.geoPointValue.latitude)===qt(i.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qt(s.integerValue)===qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=qt(s.doubleValue),c=qt(i.doubleValue);return l===c?Fp(l)===Fp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return gc(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(s,i){const l=s.mapValue.fields||{},c=i.mapValue.fields||{};if(KT(l)!==KT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!oi(l[d],c[d])))return!1;return!0}(t,e);default:return ke()}}function Nd(t,e){return(t.values||[]).find(n=>oi(n,e))!==void 0}function yc(t,e){if(t===e)return 0;const n=Ho(t),r=Ho(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(i,l){const c=qt(i.integerValue||i.doubleValue),d=qt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return QT(t.timestampValue,e.timestampValue);case 4:return QT(Pd(t),Pd(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(i,l){const c=Wo(i),d=Wo(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const g=He(c[h],d[h]);if(g!==0)return g}return He(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const c=He(qt(i.latitude),qt(l.latitude));return c!==0?c:He(qt(i.longitude),qt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YT(t.arrayValue,e.arrayValue);case 10:return function(i,l){var c,d,h,g;const y=i.fields||{},_=l.fields||{},S=(c=y[$p])===null||c===void 0?void 0:c.arrayValue,T=(d=_[$p])===null||d===void 0?void 0:d.arrayValue,E=He(((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0,((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0);return E!==0?E:YT(S,T)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===Hf.mapValue&&l===Hf.mapValue)return 0;if(i===Hf.mapValue)return 1;if(l===Hf.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=l.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const _=He(d[y],g[y]);if(_!==0)return _;const S=yc(c[d[y]],h[g[y]]);if(S!==0)return S}return He(d.length,g.length)}(t.mapValue,e.mapValue);default:throw ke()}}function QT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=zo(t),r=zo(e),s=He(n.seconds,r.seconds);return s!==0?s:He(n.nanos,r.nanos)}function YT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=yc(n[s],r[s]);if(i)return i}return He(n.length,r.length)}function vc(t){return h0(t)}function h0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=h0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${h0(n.fields[l])}`;return s+"}"}(t.mapValue):ke()}function hp(t){switch(Ho(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(t);return e?16+hp(e):16;case 5:return 2*t.stringValue.length;case 6:return Wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+hp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ea(r.fields,(i,l)=>{s+=i.length+hp(l)}),s}(t.mapValue);default:throw ke()}}function XT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f0(t){return!!t&&"integerValue"in t}function z_(t){return!!t&&"arrayValue"in t}function JT(t){return!!t&&"nullValue"in t}function ZT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fp(t){return!!t&&"mapValue"in t}function C3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CR])===null||n===void 0?void 0:n.stringValue)===IR}function ud(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ud(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ud(t.arrayValue.values[n]);return e}return Object.assign({},t)}function I3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===S3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=ud(l):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());fp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];fp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ea(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new cr(ud(this.value))}}function RR(t){const e=[];return ea(t.fields,(n,r)=>{const s=new bn([n]);if(fp(r)){const i=RR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,s,i,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Ln(e,0,De.min(),De.min(),De.min(),cr.empty(),0)}static newFoundDocument(e,n,r,s){return new Ln(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new Ln(e,2,n,De.min(),De.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,De.min(),De.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.position=e,this.inclusive=n}}function eb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],l=t.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),n.key):r=yc(l,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n="asc"){this.field=e,this.dir=n}}function R3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class tn extends AR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P3(e,n,r):n==="array-contains"?new O3(e,r):n==="in"?new D3(e,r):n==="not-in"?new L3(e,r):n==="array-contains-any"?new j3(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k3(e,r):new N3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yc(n,this.value)):n!==null&&Ho(this.value)===Ho(n)&&this.matchesComparison(yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends AR{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Es(e,n)}matches(e){return PR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function PR(t){return t.op==="and"}function kR(t){return A3(t)&&PR(t)}function A3(t){for(const e of t.filters)if(e instanceof Es)return!1;return!0}function p0(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+vc(t.value);if(kR(t))return t.filters.map(e=>p0(e)).join(",");{const e=t.filters.map(n=>p0(n)).join(",");return`${t.op}(${e})`}}function NR(t,e){return t instanceof tn?function(r,s){return s instanceof tn&&r.op===s.op&&r.field.isEqual(s.field)&&oi(r.value,s.value)}(t,e):t instanceof Es?function(r,s){return s instanceof Es&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,l,c)=>i&&NR(l,s.filters[c]),!0):!1}(t,e):void ke()}function OR(t){return t instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${vc(n.value)}`}(t):t instanceof Es?function(n){return n.op.toString()+" {"+n.getFilters().map(OR).join(" ,")+"}"}(t):"Filter"}class P3 extends tn{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class k3 extends tn{constructor(e,n){super(e,"in",n),this.keys=DR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N3 extends tn{constructor(e,n){super(e,"not-in",n),this.keys=DR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class O3 extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z_(n)&&Nd(n.arrayValue,this.value)}}class D3 extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nd(this.value.arrayValue,n)}}class L3 extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nd(this.value.arrayValue,n)}}class j3 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n=null,r=[],s=[],i=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=c,this.le=null}}function nb(t,e=null,n=[],r=[],s=null,i=null,l=null){return new M3(t,e,n,r,s,i,l)}function W_(t){const e=Le(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>p0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vc(r)).join(",")),e.le=n}return e.le}function H_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tb(t.startAt,e.startAt)&&tb(t.endAt,e.endAt)}function m0(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n=null,r=[],s=[],i=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function V3(t,e,n,r,s,i,l,c){return new Fc(t,e,n,r,s,i,l,c)}function km(t){return new Fc(t)}function rb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LR(t){return t.collectionGroup!==null}function dd(t){const e=Le(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new cn(bn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Od(i,r))}),n.has(bn.keyField().canonicalString())||e.he.push(new Od(bn.keyField(),r))}return e.he}function ti(t){const e=Le(t);return e.Pe||(e.Pe=F3(e,dd(t))),e.Pe}function F3(t,e){if(t.limitType==="F")return nb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Od(s.field,i)});const n=t.endAt?new Bp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bp(t.startAt.position,t.startAt.inclusive):null;return nb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g0(t,e){const n=t.filters.concat([e]);return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y0(t,e,n){return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nm(t,e){return H_(ti(t),ti(e))&&t.limitType===e.limitType}function jR(t){return`${W_(ti(t))}|lt:${t.limitType}`}function Jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>OR(s)).join(", ")}]`),Am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>vc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>vc(s)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function Om(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of dd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const h=eb(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,dd(r),s)||r.endAt&&!function(l,c,d){const h=eb(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,dd(r),s))}(t,e)}function U3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MR(t){return(e,n)=>{let r=!1;for(const s of dd(t)){const i=$3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function $3(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(i,l,c){const d=l.data.field(i),h=c.data.field(i);return d!==null&&h!==null?yc(d,h):ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return wR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new nn(Se.comparator);function zi(){return B3}const VR=new nn(Se.comparator);function sd(...t){let e=VR;for(const n of t)e=e.insert(n.key,n);return e}function FR(t){let e=VR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Da(){return hd()}function UR(){return hd()}function hd(){return new Za(t=>t.toString(),(t,e)=>t.isEqual(e))}const z3=new nn(Se.comparator),W3=new cn(Se.comparator);function ze(...t){let e=W3;for(const n of t)e=e.add(n);return e}const H3=new cn(He);function q3(){return H3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fp(e)?"-0":e}}function $R(t){return{integerValue:""+t}}function K3(t,e){return w3(e)?$R(e):q_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this._=void 0}}function G3(t,e,n){return t instanceof Dd?function(s,i){const l={fields:{[TR]:{stringValue:ER},[SR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&B_(i)&&(i=Pm(i)),i&&(l.fields[bR]=i),{mapValue:l}}(n,e):t instanceof Ld?zR(t,e):t instanceof jd?WR(t,e):function(s,i){const l=BR(s,i),c=sb(l)+sb(s.Ie);return f0(l)&&f0(s.Ie)?$R(c):q_(s.serializer,c)}(t,e)}function Q3(t,e,n){return t instanceof Ld?zR(t,e):t instanceof jd?WR(t,e):n}function BR(t,e){return t instanceof zp?function(r){return f0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dd extends Dm{}class Ld extends Dm{constructor(e){super(),this.elements=e}}function zR(t,e){const n=HR(e);for(const r of t.elements)n.some(s=>oi(s,r))||n.push(r);return{arrayValue:{values:n}}}class jd extends Dm{constructor(e){super(),this.elements=e}}function WR(t,e){let n=HR(e);for(const r of t.elements)n=n.filter(s=>!oi(s,r));return{arrayValue:{values:n}}}class zp extends Dm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function sb(t){return qt(t.integerValue||t.doubleValue)}function HR(t){return z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.field=e,this.transform=n}}function X3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ld&&s instanceof Ld||r instanceof jd&&s instanceof jd?gc(r.elements,s.elements,oi):r instanceof zp&&s instanceof zp?oi(r.Ie,s.Ie):r instanceof Dd&&s instanceof Dd}(t.transform,e.transform)}class J3{constructor(e,n){this.version=e,this.transformResults=n}}class Gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lm{}function qR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new K_(t.key,Gr.none()):new rh(t.key,t.data,Gr.none());{const n=t.data,r=cr.empty();let s=new cn(bn.comparator);for(let i of e.fields)if(!s.has(i)){let l=n.field(i);l===null&&i.length>1&&(i=i.popLast(),l=n.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new ta(t.key,r,new Rr(s.toArray()),Gr.none())}}function Z3(t,e,n){t instanceof rh?function(s,i,l){const c=s.value.clone(),d=ob(s.fieldTransforms,i,l.transformResults);c.setAll(d),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ta?function(s,i,l){if(!pp(s.precondition,i))return void i.convertToUnknownDocument(l.version);const c=ob(s.fieldTransforms,i,l.transformResults),d=i.data;d.setAll(KR(s)),d.setAll(c),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function fd(t,e,n,r){return t instanceof rh?function(i,l,c,d){if(!pp(i.precondition,l))return c;const h=i.value.clone(),g=ab(i.fieldTransforms,d,l);return h.setAll(g),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ta?function(i,l,c,d){if(!pp(i.precondition,l))return c;const h=ab(i.fieldTransforms,d,l),g=l.data;return g.setAll(KR(i)),g.setAll(h),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(i,l,c){return pp(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function eV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=BR(r.transform,s||null);i!=null&&(n===null&&(n=cr.empty()),n.set(r.field,i))}return n||null}function ib(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gc(r,s,(i,l)=>X3(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rh extends Lm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ta extends Lm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function KR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ob(t,e,n){const r=new Map;it(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],l=i.transform,c=e.data.field(i.field);r.set(i.field,Q3(l,c,n[s]))}return r}function ab(t,e,n){const r=new Map;for(const s of t){const i=s.transform,l=n.data.field(s.field);r.set(s.field,G3(i,l,e))}return r}class K_ extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tV extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Z3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UR();return this.mutations.forEach(s=>{const i=e.get(s.key),l=i.overlayedDocument;let c=this.applyToLocalView(l,i.mutatedFields);c=n.has(s.key)?null:c;const d=qR(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&gc(this.mutations,e.mutations,(n,r)=>ib(n,r))&&gc(this.baseMutations,e.baseMutations,(n,r)=>ib(n,r))}}class G_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){it(e.mutations.length===r.length);let s=function(){return z3}();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new G_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,Ge;function iV(t){switch(t){case ne.OK:return ke();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ke()}}function GR(t){if(t===void 0)return Bi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Zt.OK:return ne.OK;case Zt.CANCELLED:return ne.CANCELLED;case Zt.UNKNOWN:return ne.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return ne.INTERNAL;case Zt.UNAVAILABLE:return ne.UNAVAILABLE;case Zt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Zt.NOT_FOUND:return ne.NOT_FOUND;case Zt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Zt.ABORTED:return ne.ABORTED;case Zt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Zt.DATA_LOSS:return ne.DATA_LOSS;default:return ke()}}(Ge=Zt||(Zt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Do([4294967295,4294967295],0);function lb(t){const e=oV().encode(t),n=new dR;return n.update(e),new Uint8Array(n.digest())}function cb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Do([n,r],0),new Do([s,i],0)]}class Q_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new id(`Invalid padding: ${n}`);if(r<0)throw new id(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new id(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new id(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Do.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Do.fromNumber(r)));return s.compare(aV)===1&&(s=new Do([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=lb(e),[r,s]=cb(n);for(let i=0;i<this.hashCount;i++){const l=this.Ae(r,s,i);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new Q_(i,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=lb(e),[r,s]=cb(n);for(let i=0;i<this.hashCount;i++){const l=this.Ae(r,s,i);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jm(De.min(),s,new nn(He),zi(),ze())}}class sh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sh(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class QR{constructor(e,n){this.targetId=e,this.ge=n}}class YR{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ub{constructor(){this.pe=0,this.ye=db(),this.we=Sn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ze(),n=ze(),r=ze();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ke()}}),new sh(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=db()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,it(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class lV{constructor(e){this.ke=e,this.qe=new Map,this.Qe=zi(),this.$e=qf(),this.Ke=qf(),this.Ue=new nn(He)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(m0(i))if(r===0){const l=new Se(i.path);this.ze(n,l,Ln.newNoDocument(l,De.min()))}else it(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,h)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let l,c;try{l=Wo(r).toUint8Array()}catch(d){if(d instanceof xR)return mc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Q_(l,s,i)}catch(d){return mc(d instanceof id?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,l)=>{const c=this.Xe(l);if(c){if(i.current&&m0(c.target)){const d=new Se(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,Ln.newNoDocument(d,e))}i.ve&&(n.set(l,i.Fe()),i.Me())}});let r=ze();this.Ke.forEach((i,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.Qe.forEach((i,l)=>l.setReadTime(e));const s=new jm(e,n,this.Ue,this.Qe,r);return this.Qe=zi(),this.$e=qf(),this.Ke=qf(),this.Ue=new nn(He),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new ub,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new cn(He),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new cn(He),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ub),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function qf(){return new nn(Se.comparator)}function db(){return new nn(Se.comparator)}const cV={asc:"ASCENDING",desc:"DESCENDING"},uV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dV={and:"AND",or:"OR"};class hV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v0(t,e){return t.useProto3Json||Am(e)?e:{value:e}}function Wp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fV(t,e){return Wp(t,e.toTimestamp())}function ni(t){return it(!!t),De.fromTimestamp(function(n){const r=zo(n);return new ln(r.seconds,r.nanos)}(t))}function Y_(t,e){return _0(t,e).canonicalString()}function _0(t,e){const n=function(s){return new bt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JR(t){const e=bt.fromString(t);return it(rA(e)),e}function w0(t,e){return Y_(t.databaseId,e.path)}function mv(t,e){const n=JR(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(eA(n))}function ZR(t,e){return Y_(t.databaseId,e)}function pV(t){const e=JR(t);return e.length===4?bt.emptyPath():eA(e)}function x0(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eA(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hb(t,e,n){return{name:w0(t,e),fields:n.value.mapValue.fields}}function mV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,g){return h.useProto3Json?(it(g===void 0||typeof g=="string"),Sn.fromBase64String(g||"")):(it(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Sn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const g=h.code===void 0?ne.UNKNOWN:GR(h.code);return new ye(g,h.message||"")}(l);n=new YR(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mv(t,r.document.name),i=ni(r.document.updateTime),l=r.document.createTime?ni(r.document.createTime):De.min(),c=new cr({mapValue:{fields:r.document.fields}}),d=Ln.newFoundDocument(s,i,l,c),h=r.targetIds||[],g=r.removedTargetIds||[];n=new mp(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mv(t,r.document),i=r.readTime?ni(r.readTime):De.min(),l=Ln.newNoDocument(s,i),c=r.removedTargetIds||[];n=new mp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mv(t,r.document),i=r.removedTargetIds||[];n=new mp([],i,s,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new sV(s,i),c=r.targetId;n=new QR(c,l)}}return n}function gV(t,e){let n;if(e instanceof rh)n={update:hb(t,e.key,e.value)};else if(e instanceof K_)n={delete:w0(t,e.key)};else if(e instanceof ta)n={update:hb(t,e.key,e.data),updateMask:SV(e.fieldMask)};else{if(!(e instanceof tV))return ke();n={verify:w0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof Dd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ld)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof jd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:fV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ke()}(t,e.precondition)),n}function yV(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(s,i){let l=s.updateTime?ni(s.updateTime):ni(i);return l.isEqual(De.min())&&(l=ni(i)),new J3(l,s.transformResults||[])}(n,e))):[]}function vV(t,e){return{documents:[ZR(t,e.path)]}}function _V(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZR(t,s);const i=function(h){if(h.length!==0)return nA(Es.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const l=function(h){if(h.length!==0)return h.map(g=>function(_){return{field:Zl(_.field),direction:EV(_.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=v0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:n,parent:s}}function wV(t){let e=pV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){it(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];n.where&&(i=function(y){const _=tA(y);return _ instanceof Es&&kR(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(T){return new Od(ec(T.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Am(_)?null:_}(n.limit));let d=null;n.startAt&&(d=function(y){const _=!!y.before,S=y.values||[];return new Bp(S,_)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const _=!y.before,S=y.values||[];return new Bp(S,_)}(n.endAt)),V3(e,s,l,i,c,"F",d,h)}function xV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ec(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ec(n.unaryFilter.field);return tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ec(n.unaryFilter.field);return tn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ec(n.unaryFilter.field);return tn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(t):t.fieldFilter!==void 0?function(n){return tn.create(ec(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Es.create(n.compositeFilter.filters.map(r=>tA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke()}}(n.compositeFilter.op))}(t):ke()}function EV(t){return cV[t]}function TV(t){return uV[t]}function bV(t){return dV[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function ec(t){return bn.fromServerFormat(t.fieldPath)}function nA(t){return t instanceof tn?function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(JT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(JT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:TV(n.op),value:n.value}}}(t):t instanceof Es?function(n){const r=n.getFilters().map(s=>nA(s));return r.length===1?r[0]:{compositeFilter:{op:bV(n.op),filters:r}}}(t):ke()}function SV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r,s,i=De.min(),l=De.min(),c=Sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.Tt=e}}function IV(t){const e=wV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.Tn=new AV}addToCollectionParentIndex(e,n){return this.Tn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Bo.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class AV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new cn(bt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sA=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(sA,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _c(0)}static Un(){return new _c(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="LruGarbageCollector",PV=1048576;function mb([t,e],[n,r]){const s=He(t,n);return s===0?He(e,r):s}class kV{constructor(e){this.Hn=e,this.buffer=new cn(mb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ge(pb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vc(n)?ge(pb,"Ignoring IndexedDB error during garbage collection: ",n):await Mc(n)}await this.er(3e5)})}}class OV{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Rm.ae);const r=new kV(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(fb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fb):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,l,c,d,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(i=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),Xl()<=Be.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${i} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:y})))}}function DV(t,e){return new OV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.changes=new Za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&fd(r.mutation,s,Rr.empty(),ln.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const s=Da();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let l=sd();return i.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let i=zi();const l=hd(),c=function(){return hd()}();return n.forEach((d,h)=>{const g=r.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof ta)?i=i.insert(h.key,h):g!==void 0?(l.set(h.key,g.mutation.getFieldMask()),fd(g.mutation,h,g.mutation.getFieldMask(),ln.now())):l.set(h.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,i).next(d=>(d.forEach((h,g)=>l.set(h,g)),n.forEach((h,g)=>{var y;return c.set(h,new jV(g,(y=l.get(h))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=hd();let s=new nn((l,c)=>l-c),i=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let g=r.get(d)||Rr.empty();g=c.applyToLocalView(h,g),r.set(d,g);const y=(s.get(c.batchId)||ze()).add(d);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,g=d.value,y=UR();g.forEach(_=>{if(!i.has(_)){const S=qR(n.get(_),r.get(_));S!==null&&y.set(_,S),i=i.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):re.resolve(Da());let c=Ad,d=i;return l.next(h=>re.forEach(h,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),i.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{d=d.insert(g,_)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,d,h,ze())).next(g=>({batchId:c,changes:FR(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=sd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let l=sd();return this.indexManager.getCollectionParents(e,i).next(c=>re.forEach(c,d=>{const h=function(y,_){return new Fc(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(g=>{g.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(l=>{i.forEach((d,h)=>{const g=h.getKey();l.get(g)===null&&(l=l.insert(g,Ln.newInvalidDocument(g)))});let c=sd();return l.forEach((d,h)=>{const g=i.get(d);g!==void 0&&fd(g.mutation,h,Rr.empty(),ln.now()),Om(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ni(s.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:IV(s.bundledQuery),readTime:ni(s.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.overlays=new nn(Se.comparator),this.Rr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Da();return re.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const s=Da(),i=n.length+1,l=new Se(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>r&&s.set(d.getKey(),d)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nn((h,g)=>h-g);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let g=i.get(h.largestBatchId);g===null&&(g=Da(),i=i.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=Da(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=s)););return re.resolve(c)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new rV(n,r));let i=this.Rr.get(n);i===void 0&&(i=ze(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.Vr=new cn(mn.mr),this.gr=new cn(mn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new mn(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new Se(new bt([])),r=new mn(n,e),s=new mn(n,e+1),i=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),i.push(l.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Se(new bt([])),r=new mn(n,e),s=new mn(n,e+1);let i=ze();return this.gr.forEachInRange([r,s],l=>{i=i.add(l.key)}),i}containsKey(e){const n=new mn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Se.comparator(e.key,n.key)||He(e.Cr,n.Cr)}static pr(e,n){return He(e.Cr,n.Cr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new cn(mn.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nV(i,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new mn(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return re.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?$_:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),s=new mn(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],l=>{const c=this.Or(l.Cr);i.push(c)}),re.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(He);return n.forEach(s=>{const i=new mn(s,0),l=new mn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,l],c=>{r=r.add(c.Cr)})}),re.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const l=new mn(new Se(i),0);let c=new cn(He);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Cr)),!0)},l),re.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){it(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return re.forEach(n.mutations,s=>{const i=new mn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new mn(n,0),s=this.Mr.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.kr=e,this.docs=function(){return new nn(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=zi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ln.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=zi();const l=n.path,c=new Se(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||g3(m3(g),r)<=0||(s.has(g.key)||Om(n,g))&&(i=i.insert(g.key,g.mutableCopy()))}return re.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ke()}qr(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zV(this)}getSize(e){return re.resolve(this.size)}}class zV extends LV{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.persistence=e,this.Qr=new Za(n=>W_(n),H_),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.$r=0,this.Kr=new X_,this.targetCount=0,this.Ur=_c.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new _c(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.zn(n),re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),re.waitFor(i).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(l=>{i.push(s.markPotentiallyOrphaned(e,l))}),re.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Rm(0),this.zr=!1,this.zr=!0,this.jr=new UV,this.referenceDelegate=e(this),this.Hr=new WV(this),this.indexManager=new RV,this.remoteDocumentCache=function(s){return new BV(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new CV(n),this.Yr=new VV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new $V(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new HV(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return re.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class HV extends v3{constructor(e){super(),this.currentSequenceNumber=e}}class J_{constructor(e){this.persistence=e,this.ti=new X_,this.ni=null}static ri(e){return new J_(e)}get ii(){if(this.ni)return this.ni;throw ke()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),re.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,r=>{const s=Se.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return re.or([()=>re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Hp{constructor(e,n){this.persistence=e,this.oi=new Za(r=>x3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=DV(this,n)}static ri(e,n){return new Hp(e,n)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return re.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?re.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,i.removeEntry(l,De.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hp(e.data.value)),n}ar(e,n,r){return re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=ze(),s=ze();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Z_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return fj()?8:_3(Bn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new qV;return this._s(e,n,l).next(c=>{if(i.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Xl()<=Be.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Xl()<=Be.DEBUG&&ge("QueryEngine","Query:",Jl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Xl()<=Be.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):re.resolve())}rs(e,n){if(rb(n))return re.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=y0(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const l=ze(...i);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(n,c);return this.ls(n,h,l,d.readTime)?this.rs(e,y0(n,null,"F")):this.hs(e,h,n,d)}))})))}ss(e,n,r,s){return rb(n)||s.isEqual(De.min())?re.resolve(null):this.ns.getDocuments(e,r).next(i=>{const l=this.cs(n,i);return this.ls(n,l,r,s)?re.resolve(null):(Xl()<=Be.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Jl(n)),this.hs(e,l,n,p3(s,Ad)).next(c=>c))})}cs(e,n){let r=new cn(MR(e));return n.forEach((s,i)=>{Om(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Xl()<=Be.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.ns.getDocumentsMatchingQuery(e,n,Bo.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LocalStore",GV=3e8;class QV{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new nn(He),this.Is=new Za(i=>W_(i),H_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function YV(t,e,n,r){return new QV(t,e,n,r)}async function oA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const l=[],c=[];let d=ze();for(const h of s){l.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of i){c.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:c}))})})}function XV(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,h,g){const y=h.batch,_=y.keys();let S=re.resolve();return _.forEach(T=>{S=S.next(()=>g.getEntry(d,T)).next(E=>{const b=h.docVersions.get(T);it(b!==null),E.version.compareTo(b)<0&&(y.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),g.addEntry(E)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=ze();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function aA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function JV(t,e){const n=Le(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];e.targetChanges.forEach((g,y)=>{const _=s.get(y);if(!_)return;c.push(n.Hr.removeMatchingKeys(i,g.removedDocuments,y).next(()=>n.Hr.addMatchingKeys(i,g.addedDocuments,y)));let S=_.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Sn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(y,S),function(E,b,A){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=GV?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(_,S,g)&&c.push(n.Hr.updateTargetData(i,S))});let d=zi(),h=ze();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,g))}),c.push(ZV(i,l,e.documentUpdates).next(g=>{d=g.Vs,h=g.fs})),!r.isEqual(De.min())){const g=n.Hr.getLastRemoteSnapshotVersion(i).next(y=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(g)}return re.waitFor(c).next(()=>l.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,d,h)).next(()=>d)}).then(i=>(n.Ts=s,i))}function ZV(t,e,n){let r=ze(),s=ze();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let l=zi();return n.forEach((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ge(ew,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:s}})}function eF(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tF(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,re.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new ko(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function E0(t,e,n){const r=Le(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Vc(l))throw l;ge(ew,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function gb(t,e,n){const r=Le(t);let s=De.min(),i=ze();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,g){const y=Le(d),_=y.Is.get(g);return _!==void 0?re.resolve(y.Ts.get(_)):y.Hr.getTargetData(h,g)}(r,l,ti(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{i=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:De.min(),n?i:ze())).next(c=>(nF(r,U3(e),c),{documents:c,gs:i})))}function nF(t,e,n){let r=t.Es.get(e)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class yb{constructor(){this.activeTargetIds=q3()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rF{constructor(){this.ho=new yb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="ConnectivityMonitor";class _b{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ge(vb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ge(vb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf=null;function T0(){return Kf===null?Kf=function(){return 268435456+Math.round(2147483648*Math.random())}():Kf++,"0x"+Kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="RestConnection",iF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oF{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Up?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,n,r,s,i){const l=T0(),c=this.So(e,n.toUriEncodedString());ge(gv,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,i),this.vo(e,c,d,r).then(h=>(ge(gv,`Received RPC '${e}' ${l}: `,h),h),h=>{throw mc(gv,`RPC '${e}' ${l} failed with error: `,h,"url: ",c,"request:",r),h})}Co(e,n,r,s,i,l){return this.bo(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}So(e,n){const r=iF[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class lF extends oF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=T0();return new Promise((l,c)=>{const d=new hR;d.setWithCredentials(!0),d.listenOnce(fR.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case dp.NO_ERROR:const g=d.getResponseJson();ge(kn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(g)),l(g);break;case dp.TIMEOUT:ge(kn,`RPC '${e}' ${i} timed out`),c(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case dp.HTTP_ERROR:const y=d.getStatus();if(ge(kn,`RPC '${e}' ${i} failed with status:`,y,"response text:",d.getResponseText()),y>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const T=function(b){const A=b.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(A)>=0?A:ne.UNKNOWN}(S.status);c(new ye(T,S.message))}else c(new ye(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ge(kn,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);ge(kn,`RPC '${e}' ${i} sending request:`,s),d.send(n,"POST",h,r,15)})}Wo(e,n,r){const s=T0(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gR(),c=mR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=i.join("");ge(kn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const y=l.createWebChannel(g,d);let _=!1,S=!1;const T=new aF({Fo:b=>{S?ge(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(_||(ge(kn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),_=!0),ge(kn,`RPC '${e}' stream ${s} sending:`,b),y.send(b))},Mo:()=>y.close()}),E=(b,A,V)=>{b.listen(A,M=>{try{V(M)}catch(U){setTimeout(()=>{throw U},0)}})};return E(y,rd.EventType.OPEN,()=>{S||(ge(kn,`RPC '${e}' stream ${s} transport opened.`),T.Qo())}),E(y,rd.EventType.CLOSE,()=>{S||(S=!0,ge(kn,`RPC '${e}' stream ${s} transport closed`),T.Ko())}),E(y,rd.EventType.ERROR,b=>{S||(S=!0,mc(kn,`RPC '${e}' stream ${s} transport errored:`,b),T.Ko(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),E(y,rd.EventType.MESSAGE,b=>{var A;if(!S){const V=b.data[0];it(!!V);const M=V,U=(M==null?void 0:M.error)||((A=M[0])===null||A===void 0?void 0:A.error);if(U){ge(kn,`RPC '${e}' stream ${s} received error:`,U);const z=U.status;let q=function(O){const I=Zt[O];if(I!==void 0)return GR(I)}(z),k=U.message;q===void 0&&(q=ne.INTERNAL,k="Unknown error status: "+z+" with message "+U.message),S=!0,T.Ko(new ye(q,k)),y.close()}else ge(kn,`RPC '${e}' stream ${s} received:`,V),T.Uo(V)}}),E(c,pR.STAT_EVENT,b=>{b.stat===u0.PROXY?ge(kn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===u0.NOPROXY&&ge(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){return new hV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="PersistentStream";class cA{constructor(e,n,r,s,i,l,c,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new lA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ge(wb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ge(wb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cF extends cA{constructor(e,n,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=mV(this.serializer,e),r=function(i){if(!("targetChange"in i))return De.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?ni(l.readTime):De.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=x0(this.serializer),n.addTarget=function(i,l){let c;const d=l.target;if(c=m0(d)?{documents:vV(i,d)}:{query:_V(i,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=XR(i,l.resumeToken);const h=v0(i,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(De.min())>0){c.readTime=Wp(i,l.snapshotVersion.toTimestamp());const h=v0(i,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=xV(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=x0(this.serializer),n.removeTarget=e,this.I_(n)}}class uF extends cA{constructor(e,n,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=yV(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=x0(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gV(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{}class hF extends dF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.bo(e,_0(n,r),s,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(ne.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,_0(n,r),s,l,c,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ne.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bi(n),this.N_=!1):ge("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class pF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(l=>{r.enqueueAndForget(async()=>{el(this)&&(ge(za,"Restarting streams for network reachability change."),await async function(d){const h=Le(d);h.W_.add(4),await ih(h),h.j_.set("Unknown"),h.W_.delete(4),await Vm(h)}(this))})}),this.j_=new fF(r,s)}}async function Vm(t){if(el(t))for(const e of t.G_)await e(!0)}async function ih(t){for(const e of t.G_)await e(!1)}function uA(t,e){const n=Le(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),sw(n)?rw(n):Uc(n).c_()&&nw(n,e))}function tw(t,e){const n=Le(t),r=Uc(n);n.U_.delete(e),r.c_()&&dA(n,e),n.U_.size===0&&(r.c_()?r.P_():el(n)&&n.j_.set("Unknown"))}function nw(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uc(t).y_(e)}function dA(t,e){t.H_.Ne(e),Uc(t).w_(e)}function rw(t){t.H_=new lV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Uc(t).start(),t.j_.B_()}function sw(t){return el(t)&&!Uc(t).u_()&&t.U_.size>0}function el(t){return Le(t).W_.size===0}function hA(t){t.H_=void 0}async function mF(t){t.j_.set("Online")}async function gF(t){t.U_.forEach((e,n)=>{nw(t,e)})}async function yF(t,e){hA(t),sw(t)?(t.j_.q_(e),rw(t)):t.j_.set("Unknown")}async function vF(t,e,n){if(t.j_.set("Online"),e instanceof YR&&e.state===2&&e.cause)try{await async function(s,i){const l=i.cause;for(const c of i.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.U_.delete(c),s.H_.removeTarget(c))}(t,e)}catch(r){ge(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qp(t,r)}else if(e instanceof mp?t.H_.We(e):e instanceof QR?t.H_.Ze(e):t.H_.je(e),!n.isEqual(De.min()))try{const r=await aA(t.localStore);n.compareTo(r)>=0&&await function(i,l){const c=i.H_.ot(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=i.U_.get(h);g&&i.U_.set(h,g.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const g=i.U_.get(d);if(!g)return;i.U_.set(d,g.withResumeToken(Sn.EMPTY_BYTE_STRING,g.snapshotVersion)),dA(i,d);const y=new ko(g.target,d,h,g.sequenceNumber);nw(i,y)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ge(za,"Failed to raise snapshot:",r),await qp(t,r)}}async function qp(t,e,n){if(!Vc(e))throw e;t.W_.add(1),await ih(t),t.j_.set("Offline"),n||(n=()=>aA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge(za,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Vm(t)})}function fA(t,e){return e().catch(n=>qp(t,n,e))}async function Fm(t){const e=Le(t),n=qo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:$_;for(;_F(e);)try{const s=await eF(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,wF(e,s)}catch(s){await qp(e,s)}pA(e)&&mA(e)}function _F(t){return el(t)&&t.K_.length<10}function wF(t,e){t.K_.push(e);const n=qo(t);n.c_()&&n.b_&&n.S_(e.mutations)}function pA(t){return el(t)&&!qo(t).u_()&&t.K_.length>0}function mA(t){qo(t).start()}async function xF(t){qo(t).C_()}async function EF(t){const e=qo(t);for(const n of t.K_)e.S_(n.mutations)}async function TF(t,e,n){const r=t.K_.shift(),s=G_.from(r,e,n);await fA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Fm(t)}async function bF(t,e){e&&qo(t).b_&&await async function(r,s){if(function(l){return iV(l)&&l!==ne.ABORTED}(s.code)){const i=r.K_.shift();qo(r).h_(),await fA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Fm(r)}}(t,e),pA(t)&&mA(t)}async function xb(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ge(za,"RemoteStore received new credentials");const r=el(n);n.W_.add(3),await ih(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Vm(n)}async function SF(t,e){const n=Le(t);e?(n.W_.delete(2),await Vm(n)):e||(n.W_.add(2),await ih(n),n.j_.set("Unknown"))}function Uc(t){return t.J_||(t.J_=function(n,r,s){const i=Le(n);return i.M_(),new cF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:mF.bind(null,t),No:gF.bind(null,t),Lo:yF.bind(null,t),p_:vF.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),sw(t)?rw(t):t.j_.set("Unknown")):(await t.J_.stop(),hA(t))})),t.J_}function qo(t){return t.Y_||(t.Y_=function(n,r,s){const i=Le(n);return i.M_(),new uF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:xF.bind(null,t),Lo:bF.bind(null,t),D_:EF.bind(null,t),v_:TF.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Fm(t)):(await t.Y_.stop(),t.K_.length>0&&(ge(za,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const l=Date.now()+r,c=new iw(e,n,l,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ow(t,e){if(Bi("AsyncQueue",`${e}: ${t}`),Vc(t))return new ye(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{static emptySet(e){return new ac(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=sd(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ac;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.Z_=new nn(Se.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ke():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wc{constructor(e,n,r,s,i,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new wc(e,n,ac.emptySet(n),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class IF{constructor(){this.queries=Tb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Le(n),i=s.queries;s.queries=Tb(),i.forEach((l,c)=>{for(const d of c.ta)d.onError(r)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function Tb(){return new Za(t=>jR(t),Nm)}async function aw(t,e){const n=Le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new CF,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=ow(l,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&cw(n)}async function lw(t,e){const n=Le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const l=i.ta.indexOf(e);l>=0&&(i.ta.splice(l,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RF(t,e){const n=Le(t);let r=!1;for(const s of e){const i=s.query,l=n.queries.get(i);if(l){for(const c of l.ta)c.oa(s)&&(r=!0);l.ea=s}}r&&cw(n)}function AF(t,e,n){const r=Le(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function cw(t){t.ia.forEach(e=>{e.next()})}var b0,bb;(bb=b0||(b0={}))._a="default",bb.Cache="cache";class uw{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==b0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.key=e}}class yA{constructor(e){this.key=e}}class PF{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=MR(e),this.wa=new ac(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new Eb,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const _=s.get(g),S=Om(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),E=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let b=!1;_&&S?_.data.isEqual(S.data)?T!==E&&(r.track({type:3,doc:S}),b=!0):this.va(_,S)||(r.track({type:2,doc:S}),b=!0,(d&&this.ya(S,d)>0||h&&this.ya(S,h)<0)&&(c=!0)):!_&&S?(r.track({type:0,doc:S}),b=!0):_&&!S&&(r.track({type:1,doc:_}),b=!0,(d||h)&&(c=!0)),b&&(S?(l=l.add(S),i=E?i.add(g):i.delete(g)):(l=l.delete(g),i=i.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,y)=>function(S,T){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return E(S)-E(T)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(r),s=s!=null&&s;const c=n&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new wc(this.query,e.wa,i,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Eb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new yA(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new gA(r))}),n}Oa(e){this.fa=e.gs,this.pa=ze();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return wc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const dw="SyncEngine";class kF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NF{constructor(e){this.key=e,this.Ba=!1}}class OF{constructor(e,n,r,s,i,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Za(c=>jR(c),Nm),this.qa=new Map,this.Qa=new Set,this.$a=new nn(Se.comparator),this.Ka=new Map,this.Ua=new X_,this.Wa={},this.Ga=new Map,this.za=_c.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function DF(t,e,n=!0){const r=TA(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await vA(r,e,n,!0),s}async function LF(t,e){const n=TA(t);await vA(n,e,!0,!1)}async function vA(t,e,n,r){const s=await tF(t.localStore,ti(e)),i=s.targetId,l=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await jF(t,e,i,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&uA(t.remoteStore,s),c}async function jF(t,e,n,r,s){t.Ha=(y,_,S)=>async function(E,b,A,V){let M=b.view.Sa(A);M.ls&&(M=await gb(E.localStore,b.query,!1).then(({documents:k})=>b.view.Sa(k,M)));const U=V&&V.targetChanges.get(b.targetId),z=V&&V.targetMismatches.get(b.targetId)!=null,q=b.view.applyChanges(M,E.isPrimaryClient,U,z);return Cb(E,b.targetId,q.Ma),q.snapshot}(t,y,_,S);const i=await gb(t.localStore,e,!0),l=new PF(e,i.gs),c=l.Sa(i.documents),d=sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(c,t.isPrimaryClient,d);Cb(t,n,h.Ma);const g=new kF(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),h.snapshot}async function MF(t,e,n){const r=Le(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(l=>!Nm(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await E0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&tw(r.remoteStore,s.targetId),S0(r,s.targetId)}).catch(Mc)):(S0(r,s.targetId),await E0(r.localStore,s.targetId,!0))}async function VF(t,e){const n=Le(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tw(n.remoteStore,r.targetId))}async function FF(t,e,n){const r=qF(t);try{const s=await function(l,c){const d=Le(l),h=ln.now(),g=c.reduce((S,T)=>S.add(T.key),ze());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let T=zi(),E=ze();return d.ds.getEntries(S,g).next(b=>{T=b,T.forEach((A,V)=>{V.isValidDocument()||(E=E.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,T)).next(b=>{y=b;const A=[];for(const V of c){const M=eV(V,y.get(V.key).overlayedDocument);M!=null&&A.push(new ta(V.key,M,RR(M.value.mapValue),Gr.exists(!0)))}return d.mutationQueue.addMutationBatch(S,h,A,c)}).next(b=>{_=b;const A=b.applyToLocalDocumentSet(y,E);return d.documentOverlayCache.saveOverlays(S,b.batchId,A)})}).then(()=>({batchId:_.batchId,changes:FR(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new nn(He)),h=h.insert(c,d),l.Wa[l.currentUser.toKey()]=h}(r,s.batchId,n),await oh(r,s.changes),await Fm(r.remoteStore)}catch(s){const i=ow(s,"Failed to persist write");n.reject(i)}}async function _A(t,e){const n=Le(t);try{const r=await JV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const l=n.Ka.get(i);l&&(it(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?it(l.Ba):s.removedDocuments.size>0&&(it(l.Ba),l.Ba=!1))}),await oh(n,r,e)}catch(r){await Mc(r)}}function Sb(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=Le(l);d.onlineState=c;let h=!1;d.queries.forEach((g,y)=>{for(const _ of y.ta)_.sa(c)&&(h=!0)}),h&&cw(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UF(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let l=new nn(Se.comparator);l=l.insert(i,Ln.newNoDocument(i,De.min()));const c=ze().add(i),d=new jm(De.min(),new Map,new nn(He),l,c);await _A(r,d),r.$a=r.$a.remove(i),r.Ka.delete(e),hw(r)}else await E0(r.localStore,e,!1).then(()=>S0(r,e,n)).catch(Mc)}async function $F(t,e){const n=Le(t),r=e.batch.batchId;try{const s=await XV(n.localStore,e);xA(n,r,null),wA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oh(n,s)}catch(s){await Mc(s)}}async function BF(t,e,n){const r=Le(t);try{const s=await function(l,c){const d=Le(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return d.mutationQueue.lookupMutationBatch(h,c).next(y=>(it(y!==null),g=y.keys(),d.mutationQueue.removeMutationBatch(h,y))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>d.localDocuments.getDocuments(h,g))})}(r.localStore,e);xA(r,e,n),wA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await oh(r,s)}catch(s){await Mc(s)}}function wA(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function xA(t,e,n){const r=Le(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function S0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||EA(t,r)})}function EA(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(tw(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),hw(t))}function Cb(t,e,n){for(const r of n)r instanceof gA?(t.Ua.addReference(r.key,e),zF(t,r)):r instanceof yA?(ge(dw,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||EA(t,r.key)):ke()}function zF(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ge(dw,"New document in limbo: "+n),t.Qa.add(r),hw(t))}function hw(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Se(bt.fromString(e)),r=t.za.next();t.Ka.set(r,new NF(n)),t.$a=t.$a.insert(n,r),uA(t.remoteStore,new ko(ti(km(n.path)),r,"TargetPurposeLimboResolution",Rm.ae))}}async function oh(t,e,n){const r=Le(t),s=[],i=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,d)=>{l.push(r.Ha(d,e,n).then(h=>{var g;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(h){s.push(h);const y=Z_.Yi(d.targetId,h);i.push(y)}}))}),await Promise.all(l),r.La.p_(s),await async function(d,h){const g=Le(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>re.forEach(h,_=>re.forEach(_.Hi,S=>g.persistence.referenceDelegate.addReference(y,_.targetId,S)).next(()=>re.forEach(_.Ji,S=>g.persistence.referenceDelegate.removeReference(y,_.targetId,S)))))}catch(y){if(!Vc(y))throw y;ge(ew,"Failed to update sequence numbers: "+y)}for(const y of h){const _=y.targetId;if(!y.fromCache){const S=g.Ts.get(_),T=S.snapshotVersion,E=S.withLastLimboFreeSnapshotVersion(T);g.Ts=g.Ts.insert(_,E)}}}(r.localStore,i))}async function WF(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ge(dw,"User change. New user:",e.toKey());const r=await oA(n.localStore,e);n.currentUser=e,function(i,l){i.Ga.forEach(c=>{c.forEach(d=>{d.reject(new ye(ne.CANCELLED,l))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oh(n,r.Rs)}}function HF(t,e){const n=Le(t),r=n.Ka.get(e);if(r&&r.Ba)return ze().add(r.key);{let s=ze();const i=n.qa.get(e);if(!i)return s;for(const l of i){const c=n.ka.get(l);s=s.unionWith(c.view.ba)}return s}}function TA(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UF.bind(null,e),e.La.p_=RF.bind(null,e.eventManager),e.La.Ja=AF.bind(null,e.eventManager),e}function qF(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$F.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BF.bind(null,e),e}class Kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return YV(this.persistence,new KV,e.initialUser,this.serializer)}Xa(e){return new iA(J_.ri,this.serializer)}Za(e){return new rF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kp.provider={build:()=>new Kp};class KF extends Kp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){it(this.persistence.referenceDelegate instanceof Hp);const r=this.persistence.referenceDelegate.garbageCollector;return new NV(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new iA(r=>Hp.ri(r,n),this.serializer)}}class C0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WF.bind(null,this.syncEngine),await SF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IF}()}createDatastore(e){const n=Mm(e.databaseInfo.databaseId),r=function(i){return new lF(i)}(e.databaseInfo);return function(i,l,c,d){return new hF(i,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,l,c){return new pF(r,s,i,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Sb(this.syncEngine,n,0),function(){return _b.D()?new _b:new sF}())}createSyncEngine(e,n){return function(s,i,l,c,d,h,g){const y=new OF(s,i,l,c,d,h);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Le(s);ge(za,"RemoteStore shutting down."),i.W_.add(5),await ih(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}C0.provider={build:()=>new C0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="FirestoreClient";class GF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=vR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async l=>{ge(Ko,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ge(Ko,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ow(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vv(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Ko,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await oA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ib(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QF(t);ge(Ko,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>xb(e.remoteStore,s)),t._onlineComponents=e}async function QF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Ko,"Using user provided OfflineComponentProvider");try{await vv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;mc("Error using user provided cache. Falling back to memory cache: "+n),await vv(t,new Kp)}}else ge(Ko,"Using default OfflineComponentProvider"),await vv(t,new KF(void 0));return t._offlineComponents}async function bA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Ko,"Using user provided OnlineComponentProvider"),await Ib(t,t._uninitializedComponentsProvider._online)):(ge(Ko,"Using default OnlineComponentProvider"),await Ib(t,new C0))),t._onlineComponents}function YF(t){return bA(t).then(e=>e.syncEngine)}async function Gp(t){const e=await bA(t),n=e.eventManager;return n.onListen=DF.bind(null,e.syncEngine),n.onUnlisten=MF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VF.bind(null,e.syncEngine),n}function XF(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const g=new fw({next:_=>{g.su(),l.enqueueAndForget(()=>lw(i,y));const S=_.docs.has(c);!S&&_.fromCache?h.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&d&&d.source==="server"?h.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new uw(km(c.path),g,{includeMetadataChanges:!0,Ta:!0});return aw(i,y)}(await Gp(t),t.asyncQueue,e,n,r)),r.promise}function JF(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const g=new fw({next:_=>{g.su(),l.enqueueAndForget(()=>lw(i,y)),_.fromCache&&d.source==="server"?h.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),y=new uw(c,g,{includeMetadataChanges:!0,Ta:!0});return aw(i,y)}(await Gp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e,n){if(!n)throw new ye(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZF(t,e,n,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ab(t){if(!Se.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pb(t){if(Se.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Um(t);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firestore.googleapis.com",kb=!0;class Nb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IA,this.ssl=kb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PV)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $m{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o3;switch(r.type){case"firstParty":return new u3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rb.get(n);r&&(ge("ComponentProvider","Removing Datastore"),Rb.delete(n),r.terminate())}(this),Promise.resolve()}}function e6(t,e,n,r={}){var s;const i=(t=dr(t,$m))._getSettings(),l=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i.host!==IA&&i.host!==c&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},i),{host:c,ssl:!1,emulatorOptions:r});if(!Fo(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=Dn.MOCK_USER;else{h=I_(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Dn(y)}t._authCredentials=new a3(new yR(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class jo extends na{constructor(e,n,r){super(e,n,km(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Se(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function Qs(t,e,...n){if(t=vt(t),CA("collection","path",e),t instanceof $m){const r=bt.fromString(e,...n);return Pb(r),new jo(t,null,r)}{if(!(t instanceof $n||t instanceof jo))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Pb(r),new jo(t.firestore,null,r)}}function Lt(t,e,...n){if(t=vt(t),arguments.length===1&&(e=vR.newId()),CA("doc","path",e),t instanceof $m){const r=bt.fromString(e,...n);return Ab(r),new $n(t,null,new Se(r))}{if(!(t instanceof $n||t instanceof jo))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Ab(r),new $n(t.firestore,t instanceof jo?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="AsyncQueue";class Db{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new lA(this,"async_queue_retry"),this.bu=()=>{const r=yv();r&&ge(Ob,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=yv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=yv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Vc(e))throw e;ge(Ob,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Bi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=iw.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function Lb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Wi extends $m{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Db,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}}function ah(t,e){const n=typeof t=="object"?t:Em(),r=typeof t=="string"?t:Up,s=Jd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=S_("firestore");i&&e6(s,...i)}return s}function Bm(t){if(t._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t6(t),t._firestoreClient}function t6(t){var e,n,r;const s=t._freezeSettings(),i=function(c,d,h,g){return new b3(c,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,SA(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new GF(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xc(Sn.fromBase64String(e))}catch(n){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xc(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^__.*__$/;class r6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new rh(e,this.data,n,this.fieldTransforms)}}class RA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class gw{constructor(e,n,r,s,i,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AA(this.Lu)&&n6.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class s6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mm(e)}ju(e,n,r,s=!1){return new gw({Lu:e,methodName:n,zu:r,path:bn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hm(t){const e=t._freezeSettings(),n=Mm(t._databaseId);return new s6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PA(t,e,n,r,s,i={}){const l=t.ju(i.merge||i.mergeFields?2:0,e,n,s);vw("Data must be an object, but it was:",l,r);const c=kA(r,l);let d,h;if(i.merge)d=new Rr(l.fieldMask),h=l.fieldTransforms;else if(i.mergeFields){const g=[];for(const y of i.mergeFields){const _=I0(e,y,n);if(!l.contains(_))throw new ye(ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);OA(g,_)||g.push(_)}d=new Rr(g),h=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,h=l.fieldTransforms;return new r6(new cr(c),d,h)}class qm extends Wm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qm}}class yw extends Wm{_toFieldTransform(e){return new Y3(e.path,new Dd)}isEqual(e){return e instanceof yw}}function i6(t,e,n,r){const s=t.ju(1,e,n);vw("Data must be an object, but it was:",s,r);const i=[],l=cr.empty();ea(r,(d,h)=>{const g=_w(e,d,n);h=vt(h);const y=s.Ku(g);if(h instanceof qm)i.push(g);else{const _=lh(h,y);_!=null&&(i.push(g),l.set(g,_))}});const c=new Rr(i);return new RA(l,c,s.fieldTransforms)}function o6(t,e,n,r,s,i){const l=t.ju(1,e,n),c=[I0(e,r,n)],d=[s];if(i.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<i.length;_+=2)c.push(I0(e,i[_])),d.push(i[_+1]);const h=[],g=cr.empty();for(let _=c.length-1;_>=0;--_)if(!OA(h,c[_])){const S=c[_];let T=d[_];T=vt(T);const E=l.Ku(S);if(T instanceof qm)h.push(S);else{const b=lh(T,E);b!=null&&(h.push(S),g.set(S,b))}}const y=new Rr(h);return new RA(g,y,l.fieldTransforms)}function a6(t,e,n,r=!1){return lh(n,t.ju(r?4:3,e))}function lh(t,e){if(NA(t=vt(t)))return vw("Unsupported field value:",e,t),kA(t,e);if(t instanceof Wm)return function(r,s){if(!AA(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let l=0;for(const c of r){let d=lh(c,s.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),l++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ln.fromDate(r);return{timestampValue:Wp(s.serializer,i)}}if(r instanceof ln){const i=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wp(s.serializer,i)}}if(r instanceof pw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:XR(s.serializer,r._byteString)};if(r instanceof $n){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Y_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mw)return function(l,c){return{mapValue:{fields:{[CR]:{stringValue:IR},[$p]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.Wu("VectorValues must only contain numeric values.");return q_(c.serializer,h)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Um(r)}`)}(t,e)}function kA(t,e){const n={};return wR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(r,s)=>{const i=lh(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function NA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof pw||t instanceof xc||t instanceof $n||t instanceof Wm||t instanceof mw)}function vw(t,e,n){if(!NA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Um(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function I0(t,e,n){if((e=vt(e))instanceof zm)return e._internalPath;if(typeof e=="string")return _w(t,e);throw Qp("Field path arguments must be of type string or ",t,!1,void 0,n)}const l6=new RegExp("[~\\*/\\[\\]]");function _w(t,e,n){if(e.search(l6)>=0)throw Qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zm(...e.split("."))._internalPath}catch{throw Qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qp(t,e,n,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||l)&&(d+=" (found",i&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ye(ne.INVALID_ARGUMENT,c+t+d)}function OA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Km("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c6 extends DA{data(){return super.data()}}function Km(t,e){return typeof e=="string"?_w(t,e):e instanceof zm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ww{}class jA extends ww{}function Oi(t,e,...n){let r=[];e instanceof ww&&r.push(e),r=r.concat(n),function(i){const l=i.filter(d=>d instanceof xw).length,c=i.filter(d=>d instanceof Gm).length;if(l>1||l>0&&c>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Gm extends jA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gm(e,n,r)}_apply(e){const n=this._parse(e);return MA(e._query,n),new na(e.firestore,e.converter,g0(e._query,n))}_parse(e){const n=Hm(e.firestore);return function(i,l,c,d,h,g,y){let _;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Mb(y,g);const T=[];for(const E of y)T.push(jb(d,i,E));_={arrayValue:{values:T}}}else _=jb(d,i,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Mb(y,g),_=a6(c,l,y,g==="in"||g==="not-in");return tn.create(h,g,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lr(t,e,n){const r=e,s=Km("where",t);return Gm._create(s,r,n)}class xw extends ww{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let l=s;const c=i.getFlattenedFilters();for(const d of c)MA(l,d),l=g0(l,d)}(e._query,n),new na(e.firestore,e.converter,g0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ew extends jA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ew(e,n)}_apply(e){const n=function(s,i,l){if(s.startAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Od(i,l)}(e._query,this._field,this._direction);return new na(e.firestore,e.converter,function(s,i){const l=s.explicitOrderBy.concat([i]);return new Fc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function uJ(t,e="asc"){const n=e,r=Km("orderBy",t);return Ew._create(r,n)}function jb(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LR(e)&&n.indexOf("/")!==-1)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!Se.isDocumentKey(r))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XT(t,new Se(r))}if(n instanceof $n)return XT(t,n._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Um(n)}.`)}function Mb(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MA(t,e){const n=function(s,i){for(const l of s)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u6{convertValue(e,n="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ea(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[$p].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>qt(l.doubleValue));return new mw(i)}convertGeoPoint(e){return new pw(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const n=zo(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);it(rA(r));const s=new kd(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(n)||Bi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FA extends DA{constructor(e,n,r,s,i,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gp extends FA{data(e={}){return super.data(e)}}class UA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new od(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gp(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new gp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new od(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const d=new gp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new od(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,g=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:d6(c.type),doc:d,oldIndex:h,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function d6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t){t=dr(t,$n);const e=dr(t.firestore,Wi);return XF(Bm(e),t._key).then(n=>BA(e,t,n))}class Tw extends u6{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function Ys(t){t=dr(t,na);const e=dr(t.firestore,Wi),n=Bm(e),r=new Tw(e);return LA(t._query),JF(n,t._query).then(s=>new UA(e,r,t,s))}function bw(t,e,n){t=dr(t,$n);const r=dr(t.firestore,Wi),s=VA(t.converter,e,n);return Qm(r,[PA(Hm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Gr.none())])}function vs(t,e,n,...r){t=dr(t,$n);const s=dr(t.firestore,Wi),i=Hm(s);let l;return l=typeof(e=vt(e))=="string"||e instanceof zm?o6(i,"updateDoc",t._key,e,n,r):i6(i,"updateDoc",t._key,e),Qm(s,[l.toMutation(t._key,Gr.exists(!0))])}function dJ(t){return Qm(dr(t.firestore,Wi),[new K_(t._key,Gr.none())])}function hJ(t,e){const n=dr(t.firestore,Wi),r=Lt(t),s=VA(t.converter,e);return Qm(n,[PA(Hm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}function $A(t,...e){var n,r,s;t=vt(t);let i={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Lb(e[l])||(i=e[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Lb(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(s=y.complete)===null||s===void 0?void 0:s.bind(y)}let d,h,g;if(t instanceof $n)h=dr(t.firestore,Wi),g=km(t._key.path),d={next:y=>{e[l]&&e[l](BA(h,t,y))},error:e[l+1],complete:e[l+2]};else{const y=dr(t,na);h=dr(y.firestore,Wi),g=y._query;const _=new Tw(h);d={next:S=>{e[l]&&e[l](new UA(h,_,y,S))},error:e[l+1],complete:e[l+2]},LA(t._query)}return function(_,S,T,E){const b=new fw(E),A=new uw(S,b,T);return _.asyncQueue.enqueueAndForget(async()=>aw(await Gp(_),A)),()=>{b.su(),_.asyncQueue.enqueueAndForget(async()=>lw(await Gp(_),A))}}(Bm(h),g,c,d)}function Qm(t,e){return function(r,s){const i=new ji;return r.asyncQueue.enqueueAndForget(async()=>FF(await YF(r),s,i)),i.promise}(Bm(t),e)}function BA(t,e,n){const r=n.docs.get(e._key),s=new Tw(t);return new FA(t,s,e._key,r,new od(n.hasPendingWrites,n.fromCache),e.converter)}function h6(){return new yw("serverTimestamp")}(function(e,n=!0){(function(s){jc=s})(Xo),Uo(new Fi("firestore",(r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),c=new Wi(new l3(r.getProvider("auth-internal")),new d3(l,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kd(h.options.projectId,g)}(l,s),l);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),Kr(UT,$T,e),Kr(UT,$T,"esm2017")})();var Vb={};const Fb="@firebase/database",Ub="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zA="";function f6(t){zA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Cd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Xi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new p6(e)}}catch{}return new m6},La=WA("localStorage"),g6=WA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new xm("@firebase/database"),y6=function(){let t=1;return function(){return t++}}(),HA=function(t){const e=Cj(t),n=new xj;n.update(e);const r=n.digest();return b_.encodeByteArray(r)},ch=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ch.apply(null,r):typeof r=="object"?e+=Tn(r):e+=r,e+=" "}return e};let pd=null,$b=!0;const v6=function(t,e){fe(!0,"Can't turn on custom loggers persistently."),lc.logLevel=Be.VERBOSE,pd=lc.log.bind(lc)},jn=function(...t){if($b===!0&&($b=!1,pd===null&&g6.get("logging_enabled")===!0&&v6()),pd){const e=ch.apply(null,t);pd(e)}},uh=function(t){return function(...e){jn(t,...e)}},R0=function(...t){const e="FIREBASE INTERNAL ERROR: "+ch(...t);lc.error(e)},Hi=function(...t){const e=`FIREBASE FATAL ERROR: ${ch(...t)}`;throw lc.error(e),new Error(e)},Pr=function(...t){const e="FIREBASE WARNING: "+ch(...t);lc.warn(e)},_6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},w6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ec="[MIN_NAME]",Wa="[MAX_NAME]",$c=function(t,e){if(t===e)return 0;if(t===Ec||e===Wa)return-1;if(e===Ec||t===Wa)return 1;{const n=Bb(t),r=Bb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},x6=function(t,e){return t===e?0:t<e?-1:1},zu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tn(e))},Sw=function(t){if(typeof t!="object"||t===null)return Tn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Tn(e[r]),n+=":",n+=Sw(t[e[r]]);return n+="}",n},KA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Yr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const GA=function(t){fe(!qA(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,l,c,d;t===0?(i=0,l=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=c+r,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(i=0,l=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(d=n;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);for(d=e;d;d-=1)h.push(i%2?1:0),i=Math.floor(i/2);h.push(s?1:0),h.reverse();const g=h.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},E6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},T6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},b6=new RegExp("^-?(0*)\\d{1,10}$"),S6=-2147483648,C6=2147483647,Bb=function(t){if(b6.test(t)){const e=Number(t);if(e>=S6&&e<=C6)return e}return null},dh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pr("Exception was thrown by user callback.",n),e},Math.floor(0))}},I6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},md=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Vn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(jn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pr(e)}}class yp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}yp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="5",QA="v",YA="s",XA="r",JA="f",ZA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e2="ls",t2="p",A0="ac",n2="websocket",r2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,s,i=!1,l="",c=!1,d=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=La.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&La.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function P6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function i2(t,e,n){fe(typeof e=="string","typeof type must == string"),fe(typeof n=="object","typeof params must == object");let r;if(e===n2)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===r2)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);P6(t)&&(n.ns=t.namespace);const s=[];return Yr(n,(i,l)=>{s.push(i+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.counters_={}}incrementCounter(e,n=1){Xi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={},wv={};function Iw(t){const e=t.toString();return _v[e]||(_v[e]=new k6),_v[e]}function N6(t,e){const n=t.toString();return wv[n]||(wv[n]=e()),wv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&dh(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="start",D6="close",L6="pLPCommand",j6="pRTLPCB",o2="id",a2="pw",l2="ser",M6="cb",V6="seg",F6="ts",U6="d",$6="dframe",c2=1870,u2=30,B6=c2-u2,z6=25e3,W6=3e4;class tc{constructor(e,n,r,s,i,l,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uh(e),this.stats_=Iw(n),this.urlFn=d=>(this.appCheckToken&&(d[A0]=this.appCheckToken),i2(n,r2,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new O6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(W6)),w6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rw((...i)=>{const[l,c,d,h,g]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===zb)this.id=c,this.password=d;else if(l===D6)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...i)=>{const[l,c]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[zb]="t",r[l2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[M6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[QA]=Cw,this.transportSessionId&&(r[YA]=this.transportSessionId),this.lastSessionId&&(r[e2]=this.lastSessionId),this.applicationId&&(r[t2]=this.applicationId),this.appCheckToken&&(r[A0]=this.appCheckToken),typeof location<"u"&&location.hostname&&ZA.test(location.hostname)&&(r[XA]=JA);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tc.forceAllow_=!0}static forceDisallow(){tc.forceDisallow_=!0}static isAvailable(){return tc.forceAllow_?!0:!tc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!E6()&&!T6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=yI(n),s=KA(r,B6);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[$6]="t",r[o2]=e,r[a2]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Tn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Rw{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=y6(),window[L6+this.uniqueCallbackIdentifier]=e,window[j6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Rw.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){jn("frame writing exception"),c.stack&&jn(c.stack),jn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||jn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[o2]=this.myID,e[a2]=this.myPW,e[l2]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+u2+r.length<=c2;){const l=this.pendingSegs.shift();r=r+"&"+V6+s+"="+l.seg+"&"+F6+s+"="+l.ts+"&"+U6+s+"="+l.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(z6)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{jn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=16384,q6=45e3;let Yp=null;typeof MozWebSocket<"u"?Yp=MozWebSocket:typeof WebSocket<"u"&&(Yp=WebSocket);class ms{constructor(e,n,r,s,i,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uh(this.connId),this.stats_=Iw(n),this.connURL=ms.connectionURL_(n,l,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const l={};return l[QA]=Cw,typeof location<"u"&&location.hostname&&ZA.test(location.hostname)&&(l[XA]=JA),n&&(l[YA]=n),r&&(l[e2]=r),s&&(l[A0]=s),i&&(l[t2]=i),i2(e,n2,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,La.set("previous_websocket_failure",!0);try{let r;hj(),this.mySock=new Yp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ms.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Yp!==null&&!ms.forceDisallow_}static previouslyFailed(){return La.isInMemoryStorage||La.get("previous_websocket_failure")===!0}markConnectionHealthy(){La.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Cd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=KA(n,H6);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(q6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ms.responsesRequiredToBeHealthy=2;ms.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{static get ALL_TRANSPORTS(){return[tc,ms]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ms&&ms.isAvailable();let r=n&&!ms.previouslyFailed();if(e.webSocketOnly&&(n||Pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ms];else{const s=this.transports_=[];for(const i of Md.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Md.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Md.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=6e4,G6=5e3,Q6=10*1024,Y6=100*1024,xv="t",Wb="d",X6="s",Hb="r",J6="e",qb="o",Kb="a",Gb="n",Qb="p",Z6="h";class e9{constructor(e,n,r,s,i,l,c,d,h,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uh("c:"+this.id+":"),this.transportManager_=new Md(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=md(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Y6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Q6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xv in e){const n=e[xv];n===Kb?this.upgradeIfSecondaryHealthy_():n===Hb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=zu("t",e),r=zu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Qb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=zu("t",e),r=zu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=zu(xv,e);if(Wb in e){const r=e[Wb];if(n===Z6){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Gb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===X6?this.onConnectionShutdown_(r):n===Hb?this.onReset_(r):n===J6?R0("Server Error: "+r):n===qb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):R0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cw!==r&&Pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),md(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(K6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):md(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(G6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Qb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(La.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.allowedEvents_=e,this.listeners_={},fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends h2{static getInstance(){return new Xp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!R_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=32,Xb=768;class St{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ut(){return new St("")}function Qe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Go(t){return t.pieces_.length-t.pieceNum_}function Tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new St(t.pieces_,e)}function f2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function t9(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function p2(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function m2(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new St(e,0)}function yn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof St)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new St(n,0)}function qe(t){return t.pieceNum_>=t.pieces_.length}function qr(t,e){const n=Qe(t),r=Qe(e);if(n===null)return e;if(n===r)return qr(Tt(t),Tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function g2(t,e){if(Go(t)!==Go(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gs(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Go(t)>Go(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class n9{constructor(e,n){this.errorPrefix_=n,this.parts_=p2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wm(this.parts_[r]);y2(this)}}function r9(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wm(e),y2(t)}function s9(t){const e=t.parts_.pop();t.byteLength_-=wm(e),t.parts_.length>0&&(t.byteLength_-=1)}function y2(t){if(t.byteLength_>Xb)throw new Error(t.errorPrefix_+"has a key path longer than "+Xb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Yb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yb+") or object contains a cycle "+Na(t))}function Na(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends h2{static getInstance(){return new Aw}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=1e3,i9=60*5*1e3,Jb=30*1e3,o9=1.3,a9=3e4,l9="server_kill",Zb=3;class Mi extends d2{constructor(e,n,r,s,i,l,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=Mi.nextPersistentConnectionId_++,this.log_=uh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wu,this.maxReconnectDelay_=i9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Aw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Tn(i)),fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new C_,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+i),this.listens.has(l)||this.listens.set(l,new Map),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),fe(!this.listens.get(l).has(i),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(l).set(i,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},l="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(l,i,c=>{const d=c.d,h=c.s;Mi.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Xi(e,"w")){const r=pc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wj(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_j(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,l=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},l="n";s&&(i.q=r,i.t=s),this.sendRequest(l,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const l={p:n,d:r};i!==void 0&&(l.h=i),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):R0("Unrecognized action received from server: "+Tn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>a9&&(this.reconnectDelay_=Wu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*o9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Mi.nextConnectionId_++,i=this.lastSessionId;let l=!1,c=null;const d=function(){c?c.close():(l=!0,r())},h=function(y){fe(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:d,sendRequest:h};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?jn("getToken() completed but was canceled"):(jn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new e9(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,S=>{Pr(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(l9)},i))}catch(y){this.log_("Failed to get token: "+y),l||(this.repoInfo_.nodeAdmin&&Pr(y),d())}}}interrupt(e){jn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){jn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Zv(this.interruptReasons_)&&(this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Sw(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new St(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){jn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zb&&(this.reconnectDelay_=Jb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){jn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+zA.replace(/\./g,"-")]=1,R_()?e["framework.cordova"]=1:EI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xp.getInstance().currentlyOnline();return Zv(this.interruptReasons_)&&e}}Mi.nextPersistentConnectionId_=0;Mi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ye(Ec,e),s=new Ye(Ec,n);return this.compare(r,s)!==0}minPost(){return Ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf;class v2 extends Ym{static get __EMPTY_NODE(){return Gf}static set __EMPTY_NODE(e){Gf=e}compare(e,n){return $c(e.name,n.name)}isDefinedOn(e){throw Oc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ye.MIN}maxPost(){return new Ye(Wa,Gf)}makePost(e,n){return fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Ye(e,Gf)}toString(){return".key"}}const cc=new v2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??gn.RED,this.left=s??ur.EMPTY_NODE,this.right=i??ur.EMPTY_NODE}copy(e,n,r,s,i){return new gn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ur.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ur.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gn.RED=!0;gn.BLACK=!1;class c9{copy(e,n,r,s,i){return this}insert(e,n,r){return new gn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ur{constructor(e,n=ur.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ur(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gn.BLACK,null,null))}remove(e){return new ur(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qf(this.root_,null,this.comparator_,!0,e)}}ur.EMPTY_NODE=new c9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e){return $c(t.name,e.name)}function Pw(t,e){return $c(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0;function d9(t){P0=t}const _2=function(t){return typeof t=="number"?"number:"+GA(t):"string:"+t},w2=function(t){if(t.isLeafNode()){const e=t.val();fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Xi(e,".sv"),"Priority must be a string or number.")}else fe(t===P0||t.isEmpty(),"priority of unexpected type.");fe(t===P0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS;class pn{static set __childrenNodeConstructor(e){eS=e}static get __childrenNodeConstructor(){return eS}constructor(e,n=pn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),w2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return qe(e)?this:Qe(e)===".priority"?this.priorityNode_:pn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Qe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(fe(r!==".priority"||Go(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_2(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=GA(this.value_):e+=this.value_,this.lazyHash_=HA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pn.__childrenNodeConstructor?-1:(fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=pn.VALUE_TYPE_ORDER.indexOf(n),i=pn.VALUE_TYPE_ORDER.indexOf(r);return fe(s>=0,"Unknown leaf type: "+n),fe(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x2,E2;function h9(t){x2=t}function f9(t){E2=t}class p9 extends Ym{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?$c(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ye.MIN}maxPost(){return new Ye(Wa,new pn("[PRIORITY-POST]",E2))}makePost(e,n){const r=x2(e);return new Ye(n,new pn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Un=new p9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=Math.log(2);class g9{constructor(e){const n=i=>parseInt(Math.log(i)/m9,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jp=function(t,e,n,r){t.sort(e);const s=function(d,h){const g=h-d;let y,_;if(g===0)return null;if(g===1)return y=t[d],_=n?n(y):y,new gn(_,y.node,gn.BLACK,null,null);{const S=parseInt(g/2,10)+d,T=s(d,S),E=s(S+1,h);return y=t[S],_=n?n(y):y,new gn(_,y.node,gn.BLACK,T,E)}},i=function(d){let h=null,g=null,y=t.length;const _=function(T,E){const b=y-T,A=y;y-=T;const V=s(b+1,A),M=t[b],U=n?n(M):M;S(new gn(U,M.node,E,null,V))},S=function(T){h?(h.left=T,h=T):(g=T,h=T)};for(let T=0;T<d.count;++T){const E=d.nextBitIsOne(),b=Math.pow(2,d.count-(T+1));E?_(b,gn.BLACK):(_(b,gn.BLACK),_(b,gn.RED))}return g},l=new g9(t.length),c=i(l);return new ur(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev;const Hl={};class Di{static get Default(){return fe(Hl&&Un,"ChildrenNode.ts has not been loaded"),Ev=Ev||new Di({".priority":Hl},{".priority":Un}),Ev}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=pc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ur?n:null}hasIndex(e){return Xi(this.indexSet_,e.toString())}addIndex(e,n){fe(e!==cc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ye.Wrap);let l=i.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=i.getNext();let c;s?c=Jp(r,e.getCompare()):c=Hl;const d=e.toString(),h=Object.assign({},this.indexSet_);h[d]=e;const g=Object.assign({},this.indexes_);return g[d]=c,new Di(g,h)}addToIndexes(e,n){const r=Np(this.indexes_,(s,i)=>{const l=pc(this.indexSet_,i);if(fe(l,"Missing index implementation for "+i),s===Hl)if(l.isDefinedOn(e.node)){const c=[],d=n.getIterator(Ye.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&c.push(h),h=d.getNext();return c.push(e),Jp(c,l.getCompare())}else return Hl;else{const c=n.get(e.name);let d=s;return c&&(d=d.remove(new Ye(e.name,c))),d.insert(e,e.node)}});return new Di(r,this.indexSet_)}removeFromIndexes(e,n){const r=Np(this.indexes_,s=>{if(s===Hl)return s;{const i=n.get(e.name);return i?s.remove(new Ye(e.name,i)):s}});return new Di(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class st{static get EMPTY_NODE(){return Hu||(Hu=new st(new ur(Pw),null,Di.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&w2(this.priorityNode_),this.children_.isEmpty()&&fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hu}updatePriority(e){return this.children_.isEmpty()?this:new st(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Hu:n}}getChild(e){const n=Qe(e);return n===null?this:this.getImmediateChild(n).getChild(Tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ye(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?Hu:this.priorityNode_;return new st(s,l,i)}}updateChild(e,n){const r=Qe(e);if(r===null)return n;{fe(Qe(e)!==".priority"||Go(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Tt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Un,(l,c)=>{n[l]=c.val(e),r++,i&&st.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):i=!1}),!e&&i&&s<2*r){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_2(this.getPriority().val())+":"),this.forEachChild(Un,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":HA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ye(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ye.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ye.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hh?-1:0}withIndex(e){if(e===cc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new st(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Un),s=n.getIterator(Un);let i=r.getNext(),l=s.getNext();for(;i&&l;){if(i.name!==l.name||!i.node.equals(l.node))return!1;i=r.getNext(),l=s.getNext()}return i===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===cc?null:this.indexMap_.get(e.toString())}}st.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class y9 extends st{constructor(){super(new ur(Pw),st.EMPTY_NODE,Di.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return st.EMPTY_NODE}isEmpty(){return!1}}const hh=new y9;Object.defineProperties(Ye,{MIN:{value:new Ye(Ec,st.EMPTY_NODE)},MAX:{value:new Ye(Wa,hh)}});v2.__EMPTY_NODE=st.EMPTY_NODE;pn.__childrenNodeConstructor=st;d9(hh);f9(hh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=!0;function Mn(t,e=null){if(t===null)return st.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pn(n,Mn(e))}if(!(t instanceof Array)&&v9){const n=[];let r=!1;if(Yr(t,(l,c)=>{if(l.substring(0,1)!=="."){const d=Mn(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new Ye(l,d)))}}),n.length===0)return st.EMPTY_NODE;const i=Jp(n,u9,l=>l.name,Pw);if(r){const l=Jp(n,Un.getCompare());return new st(i,Mn(e),new Di({".priority":l},{".priority":Un}))}else return new st(i,Mn(e),Di.Default)}else{let n=st.EMPTY_NODE;return Yr(t,(r,s)=>{if(Xi(t,r)&&r.substring(0,1)!=="."){const i=Mn(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Mn(e))}}h9(Mn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9 extends Ym{constructor(e){super(),this.indexPath_=e,fe(!qe(e)&&Qe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?$c(e.name,n.name):i}makePost(e,n){const r=Mn(e),s=st.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ye(n,s)}maxPost(){const e=st.EMPTY_NODE.updateChild(this.indexPath_,hh);return new Ye(Wa,e)}toString(){return p2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9 extends Ym{compare(e,n){const r=e.node.compareTo(n.node);return r===0?$c(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ye.MIN}maxPost(){return Ye.MAX}makePost(e,n){const r=Mn(e);return new Ye(n,r)}toString(){return".value"}}const x9=new w9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){return{type:"value",snapshotNode:t}}function T9(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function b9(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function S9(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ec}hasEnd(){return this.endSet_}getIndexEndValue(){return fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const e=new kw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function nS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Un?n="$priority":t.index_===x9?n="$value":t.index_===cc?n="$key":(fe(t.index_ instanceof _9,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Tn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Tn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Tn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Tn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Tn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Un&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends d2{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=uh("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const l=Zp.getListenId_(e,r),c={};this.listens_[l]=c;const d=nS(e._queryParams);this.restRequest_(i+".json",d,(h,g)=>{let y=g;if(h===404&&(y=null,h=null),h===null&&this.onDataUpdate_(i,y,!1,r),pc(this.listens_,l)===c){let _;h?h===401?_="permission_denied":_="rest_error:"+h:_="ok",s(_,null)}})}unlisten(e,n){const r=Zp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=nS(e._queryParams),r=e._path.toString(),s=new C_;return this.restRequest_(r+".json",n,(i,l)=>{let c=l;i===404&&(c=null,i=null),i===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Dc(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Cd(c.responseText)}catch{Pr("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&Pr("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.rootNode_=st.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return{value:null,children:new Map}}function T2(t,e,n){if(qe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Qe(e);t.children.has(r)||t.children.set(r,em());const s=t.children.get(r);e=Tt(e),T2(s,e,n)}}function k0(t,e,n){t.value!==null?n(e,t.value):I9(t,(r,s)=>{const i=new St(e.toString()+"/"+r);k0(s,i,n)})}function I9(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Yr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=10*1e3,A9=30*1e3,P9=5*60*1e3;class k9{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new R9(e);const r=sS+(A9-sS)*Math.random();md(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Yr(e,(s,i)=>{i>0&&Xi(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),md(this.reportStats_.bind(this),Math.floor(Math.random()*2*P9))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xs||(Xs={}));function b2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function S2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function C2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xs.ACK_USER_WRITE,this.source=b2()}operationForChild(e){if(qe(this.path)){if(this.affectedTree.value!=null)return fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new St(e));return new tm(ut(),n,this.revert)}}else return fe(Qe(this.path)===e,"operationForChild called for unrelated child."),new tm(Tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xs.OVERWRITE}operationForChild(e){return qe(this.path)?new Ha(this.source,ut(),this.snap.getImmediateChild(e)):new Ha(this.source,Tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xs.MERGE}operationForChild(e){if(qe(this.path)){const n=this.children.subtree(new St(e));return n.isEmpty()?null:n.value?new Ha(this.source,ut(),n.value):new Vd(this.source,ut(),n)}else return fe(Qe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vd(this.source,Tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(qe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Qe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function N9(t,e,n,r){const s=[],i=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&i.push(S9(l.childName,l.snapshotNode))}),qu(t,s,"child_removed",e,r,n),qu(t,s,"child_added",e,r,n),qu(t,s,"child_moved",i,r,n),qu(t,s,"child_changed",e,r,n),qu(t,s,"value",e,r,n),s}function qu(t,e,n,r,s,i){const l=r.filter(c=>c.type===n);l.sort((c,d)=>D9(t,c,d)),l.forEach(c=>{const d=O9(t,c,i);s.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(d,t.query_))})})}function O9(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function D9(t,e,n){if(e.childName==null||n.childName==null)throw Oc("Should only compare child_ events.");const r=new Ye(e.childName,e.snapshotNode),s=new Ye(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e){return{eventCache:t,serverCache:e}}function gd(t,e,n,r){return I2(new Nw(e,n,r),t.serverCache)}function R2(t,e,n,r){return I2(t.eventCache,new Nw(e,n,r))}function N0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tv;const L9=()=>(Tv||(Tv=new ur(x6)),Tv);class Et{static fromObject(e){let n=new Et(null);return Yr(e,(r,s)=>{n=n.set(new St(r),s)}),n}constructor(e,n=L9()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ut(),value:this.value};if(qe(e))return null;{const r=Qe(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Tt(e),n);return i!=null?{path:yn(new St(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(qe(e))return this;{const n=Qe(e),r=this.children.get(n);return r!==null?r.subtree(Tt(e)):new Et(null)}}set(e,n){if(qe(e))return new Et(n,this.children);{const r=Qe(e),i=(this.children.get(r)||new Et(null)).set(Tt(e),n),l=this.children.insert(r,i);return new Et(this.value,l)}}remove(e){if(qe(e))return this.children.isEmpty()?new Et(null):new Et(null,this.children);{const n=Qe(e),r=this.children.get(n);if(r){const s=r.remove(Tt(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Et(null):new Et(this.value,i)}else return this}}get(e){if(qe(e))return this.value;{const n=Qe(e),r=this.children.get(n);return r?r.get(Tt(e)):null}}setTree(e,n){if(qe(e))return n;{const r=Qe(e),i=(this.children.get(r)||new Et(null)).setTree(Tt(e),n);let l;return i.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,i),new Et(this.value,l)}}fold(e){return this.fold_(ut(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(yn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ut(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(qe(e))return null;{const i=Qe(e),l=this.children.get(i);return l?l.findOnPath_(Tt(e),yn(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ut(),n)}foreachOnPath_(e,n,r){if(qe(e))return this;{this.value&&r(n,this.value);const s=Qe(e),i=this.children.get(s);return i?i.foreachOnPath_(Tt(e),yn(n,s),r):new Et(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(yn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.writeTree_=e}static empty(){return new _s(new Et(null))}}function yd(t,e,n){if(qe(e))return new _s(new Et(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const l=qr(s,e);return i=i.updateChild(l,n),new _s(t.writeTree_.set(s,i))}else{const s=new Et(n),i=t.writeTree_.setTree(e,s);return new _s(i)}}}function iS(t,e,n){let r=t;return Yr(n,(s,i)=>{r=yd(r,yn(e,s),i)}),r}function oS(t,e){if(qe(e))return _s.empty();{const n=t.writeTree_.setTree(e,new Et(null));return new _s(n)}}function O0(t,e){return tl(t,e)!=null}function tl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(qr(n.path,e)):null}function aS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Un,(r,s)=>{e.push(new Ye(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ye(r,s.value))}),e}function Mo(t,e){if(qe(e))return t;{const n=tl(t,e);return n!=null?new _s(new Et(n)):new _s(t.writeTree_.subtree(e))}}function D0(t){return t.writeTree_.isEmpty()}function Tc(t,e){return A2(ut(),t.writeTree_,e)}function A2(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(fe(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=A2(yn(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(yn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){return L2(e,t)}function j9(t,e,n,r,s){fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=yd(t.visibleWrites,e,n)),t.lastWriteId=r}function M9(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function V9(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,l=t.allWrites.length-1;for(;s&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&F9(c,r.path)?s=!1:gs(r.path,c.path)&&(i=!0)),l--}if(s){if(i)return U9(t),!0;if(r.snap)t.visibleWrites=oS(t.visibleWrites,r.path);else{const c=r.children;Yr(c,d=>{t.visibleWrites=oS(t.visibleWrites,yn(r.path,d))})}return!0}else return!1}function F9(t,e){if(t.snap)return gs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gs(yn(t.path,n),e))return!0;return!1}function U9(t){t.visibleWrites=k2(t.allWrites,$9,ut()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $9(t){return t.visible}function k2(t,e,n){let r=_s.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const l=i.path;let c;if(i.snap)gs(n,l)?(c=qr(n,l),r=yd(r,c,i.snap)):gs(l,n)&&(c=qr(l,n),r=yd(r,ut(),i.snap.getChild(c)));else if(i.children){if(gs(n,l))c=qr(n,l),r=iS(r,c,i.children);else if(gs(l,n))if(c=qr(l,n),qe(c))r=iS(r,ut(),i.children);else{const d=pc(i.children,Qe(c));if(d){const h=d.getChild(Tt(c));r=yd(r,ut(),h)}}}else throw Oc("WriteRecord should have .snap or .children")}}return r}function N2(t,e,n,r,s){if(!r&&!s){const i=tl(t.visibleWrites,e);if(i!=null)return i;{const l=Mo(t.visibleWrites,e);if(D0(l))return n;if(n==null&&!O0(l,ut()))return null;{const c=n||st.EMPTY_NODE;return Tc(l,c)}}}else{const i=Mo(t.visibleWrites,e);if(!s&&D0(i))return n;if(!s&&n==null&&!O0(i,ut()))return null;{const l=function(h){return(h.visible||s)&&(!r||!~r.indexOf(h.writeId))&&(gs(h.path,e)||gs(e,h.path))},c=k2(t.allWrites,l,e),d=n||st.EMPTY_NODE;return Tc(c,d)}}}function B9(t,e,n){let r=st.EMPTY_NODE;const s=tl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Un,(i,l)=>{r=r.updateImmediateChild(i,l)}),r;if(n){const i=Mo(t.visibleWrites,e);return n.forEachChild(Un,(l,c)=>{const d=Tc(Mo(i,new St(l)),c);r=r.updateImmediateChild(l,d)}),aS(i).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const i=Mo(t.visibleWrites,e);return aS(i).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function z9(t,e,n,r,s){fe(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=yn(e,n);if(O0(t.visibleWrites,i))return null;{const l=Mo(t.visibleWrites,i);return D0(l)?s.getChild(n):Tc(l,s.getChild(n))}}function W9(t,e,n,r){const s=yn(e,n),i=tl(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const l=Mo(t.visibleWrites,s);return Tc(l,r.getNode().getImmediateChild(n))}else return null}function H9(t,e){return tl(t.visibleWrites,e)}function q9(t,e,n,r,s,i,l){let c;const d=Mo(t.visibleWrites,e),h=tl(d,ut());if(h!=null)c=h;else if(n!=null)c=Tc(d,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],y=l.getCompare(),_=i?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let S=_.getNext();for(;S&&g.length<s;)y(S,r)!==0&&g.push(S),S=_.getNext();return g}else return[]}function K9(){return{visibleWrites:_s.empty(),allWrites:[],lastWriteId:-1}}function L0(t,e,n,r){return N2(t.writeTree,t.treePath,e,n,r)}function O2(t,e){return B9(t.writeTree,t.treePath,e)}function lS(t,e,n,r){return z9(t.writeTree,t.treePath,e,n,r)}function nm(t,e){return H9(t.writeTree,yn(t.treePath,e))}function G9(t,e,n,r,s,i){return q9(t.writeTree,t.treePath,e,n,r,s,i)}function Ow(t,e,n){return W9(t.writeTree,t.treePath,e,n)}function D2(t,e){return L2(yn(t.treePath,e),t.writeTree)}function L2(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),fe(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,tS(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,b9(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,T9(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,tS(r,e.snapshotNode,s.oldSnap));else throw Oc("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const j2=new Y9;class Dw{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Nw(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ow(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qa(this.viewCache_),i=G9(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function X9(t,e){fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function J9(t,e,n,r,s){const i=new Q9;let l,c;if(n.type===Xs.OVERWRITE){const h=n;h.source.fromUser?l=j0(t,e,h.path,h.snap,r,s,i):(fe(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!qe(h.path),l=rm(t,e,h.path,h.snap,r,s,c,i))}else if(n.type===Xs.MERGE){const h=n;h.source.fromUser?l=eU(t,e,h.path,h.children,r,s,i):(fe(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),l=M0(t,e,h.path,h.children,r,s,c,i))}else if(n.type===Xs.ACK_USER_WRITE){const h=n;h.revert?l=rU(t,e,h.path,r,s,i):l=tU(t,e,h.path,h.affectedTree,r,s,i)}else if(n.type===Xs.LISTEN_COMPLETE)l=nU(t,e,n.path,r,i);else throw Oc("Unknown operation type: "+n.type);const d=i.getChanges();return Z9(e,l,d),{viewCache:l,changes:d}}function Z9(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=N0(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(E9(N0(e)))}}function M2(t,e,n,r,s,i){const l=e.eventCache;if(nm(r,n)!=null)return e;{let c,d;if(qe(n))if(fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=qa(e),g=h instanceof st?h:st.EMPTY_NODE,y=O2(r,g);c=t.filter.updateFullNode(e.eventCache.getNode(),y,i)}else{const h=L0(r,qa(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const h=Qe(n);if(h===".priority"){fe(Go(n)===1,"Can't have a priority with additional path components");const g=l.getNode();d=e.serverCache.getNode();const y=lS(r,n,g,d);y!=null?c=t.filter.updatePriority(g,y):c=l.getNode()}else{const g=Tt(n);let y;if(l.isCompleteForChild(h)){d=e.serverCache.getNode();const _=lS(r,n,l.getNode(),d);_!=null?y=l.getNode().getImmediateChild(h).updateChild(g,_):y=l.getNode().getImmediateChild(h)}else y=Ow(r,h,e.serverCache);y!=null?c=t.filter.updateChild(l.getNode(),h,y,g,s,i):c=l.getNode()}}return gd(e,c,l.isFullyInitialized()||qe(n),t.filter.filtersNodes())}}function rm(t,e,n,r,s,i,l,c){const d=e.serverCache;let h;const g=l?t.filter:t.filter.getIndexedFilter();if(qe(n))h=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(n,r);h=g.updateFullNode(d.getNode(),S,null)}else{const S=Qe(n);if(!d.isCompleteForPath(n)&&Go(n)>1)return e;const T=Tt(n),b=d.getNode().getImmediateChild(S).updateChild(T,r);S===".priority"?h=g.updatePriority(d.getNode(),b):h=g.updateChild(d.getNode(),S,b,T,j2,null)}const y=R2(e,h,d.isFullyInitialized()||qe(n),g.filtersNodes()),_=new Dw(s,y,i);return M2(t,y,n,s,_,c)}function j0(t,e,n,r,s,i,l){const c=e.eventCache;let d,h;const g=new Dw(s,e,i);if(qe(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,l),d=gd(e,h,!0,t.filter.filtersNodes());else{const y=Qe(n);if(y===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),d=gd(e,h,c.isFullyInitialized(),c.isFiltered());else{const _=Tt(n),S=c.getNode().getImmediateChild(y);let T;if(qe(_))T=r;else{const E=g.getCompleteChild(y);E!=null?f2(_)===".priority"&&E.getChild(m2(_)).isEmpty()?T=E:T=E.updateChild(_,r):T=st.EMPTY_NODE}if(S.equals(T))d=e;else{const E=t.filter.updateChild(c.getNode(),y,T,_,g,l);d=gd(e,E,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function cS(t,e){return t.eventCache.isCompleteForChild(e)}function eU(t,e,n,r,s,i,l){let c=e;return r.foreach((d,h)=>{const g=yn(n,d);cS(e,Qe(g))&&(c=j0(t,c,g,h,s,i,l))}),r.foreach((d,h)=>{const g=yn(n,d);cS(e,Qe(g))||(c=j0(t,c,g,h,s,i,l))}),c}function uS(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function M0(t,e,n,r,s,i,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;qe(n)?h=r:h=new Et(null).setTree(n,r);const g=e.serverCache.getNode();return h.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),T=uS(t,S,_);d=rm(t,d,new St(y),T,s,i,l,c)}}),h.children.inorderTraversal((y,_)=>{const S=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!S){const T=e.serverCache.getNode().getImmediateChild(y),E=uS(t,T,_);d=rm(t,d,new St(y),E,s,i,l,c)}}),d}function tU(t,e,n,r,s,i,l){if(nm(s,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(qe(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return rm(t,e,n,d.getNode().getChild(n),s,i,c,l);if(qe(n)){let h=new Et(null);return d.getNode().forEachChild(cc,(g,y)=>{h=h.set(new St(g),y)}),M0(t,e,n,h,s,i,c,l)}else return e}else{let h=new Et(null);return r.foreach((g,y)=>{const _=yn(n,g);d.isCompleteForPath(_)&&(h=h.set(g,d.getNode().getChild(_)))}),M0(t,e,n,h,s,i,c,l)}}function nU(t,e,n,r,s){const i=e.serverCache,l=R2(e,i.getNode(),i.isFullyInitialized()||qe(n),i.isFiltered());return M2(t,l,n,r,j2,s)}function rU(t,e,n,r,s,i){let l;if(nm(r,n)!=null)return e;{const c=new Dw(r,e,s),d=e.eventCache.getNode();let h;if(qe(n)||Qe(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=L0(r,qa(e));else{const y=e.serverCache.getNode();fe(y instanceof st,"serverChildren would be complete if leaf node"),g=O2(r,y)}g=g,h=t.filter.updateFullNode(d,g,i)}else{const g=Qe(n);let y=Ow(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?h=t.filter.updateChild(d,g,y,Tt(n),c,i):e.eventCache.getNode().hasChild(g)?h=t.filter.updateChild(d,g,st.EMPTY_NODE,Tt(n),c,i):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=L0(r,qa(e)),l.isLeafNode()&&(h=t.filter.updateFullNode(h,l,i)))}return l=e.serverCache.isFullyInitialized()||nm(r,ut())!=null,gd(e,h,l,t.filter.filtersNodes())}}function sU(t,e){const n=qa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!qe(e)&&!n.getImmediateChild(Qe(e)).isEmpty())?n.getChild(e):null}function dS(t,e,n,r){e.type===Xs.MERGE&&e.source.queryId!==null&&(fe(qa(t.viewCache_),"We should always have a full cache before handling merges"),fe(N0(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=J9(t.processor_,s,e,n,r);return X9(t.processor_,i.viewCache),fe(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,iU(t,i.changes,i.viewCache.eventCache.getNode())}function iU(t,e,n,r){const s=t.eventRegistrations_;return N9(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hS;function oU(t){fe(!hS,"__referenceConstructor has already been defined"),hS=t}function Lw(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return fe(i!=null,"SyncTree gave us an op for an invalid query."),dS(i,e,n,r)}else{let i=[];for(const l of t.views.values())i=i.concat(dS(l,e,n,r));return i}}function jw(t,e){let n=null;for(const r of t.views.values())n=n||sU(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fS;function aU(t){fe(!fS,"__referenceConstructor has already been defined"),fS=t}class pS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Et(null),this.pendingWriteTree_=K9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lU(t,e,n,r,s){return j9(t.pendingWriteTree_,e,n,r,s),s?Jm(t,new Ha(b2(),e,n)):[]}function nc(t,e,n=!1){const r=M9(t.pendingWriteTree_,e);if(V9(t.pendingWriteTree_,e)){let i=new Et(null);return r.snap!=null?i=i.set(ut(),!0):Yr(r.children,l=>{i=i.set(new St(l),!0)}),Jm(t,new tm(r.path,i,n))}else return[]}function Xm(t,e,n){return Jm(t,new Ha(S2(),e,n))}function cU(t,e,n){const r=Et.fromObject(n);return Jm(t,new Vd(S2(),e,r))}function uU(t,e,n,r){const s=$2(t,r);if(s!=null){const i=B2(s),l=i.path,c=i.queryId,d=qr(l,e),h=new Ha(C2(c),d,n);return z2(t,l,h)}else return[]}function dU(t,e,n,r){const s=$2(t,r);if(s){const i=B2(s),l=i.path,c=i.queryId,d=qr(l,e),h=Et.fromObject(n),g=new Vd(C2(c),d,h);return z2(t,l,g)}else return[]}function V2(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(l,c)=>{const d=qr(l,e),h=jw(c,d);if(h)return h});return N2(s,e,i,n,!0)}function Jm(t,e){return F2(e,t.syncPointTree_,null,P2(t.pendingWriteTree_,ut()))}function F2(t,e,n,r){if(qe(t.path))return U2(t,e,n,r);{const s=e.get(ut());n==null&&s!=null&&(n=jw(s,ut()));let i=[];const l=Qe(t.path),c=t.operationForChild(l),d=e.children.get(l);if(d&&c){const h=n?n.getImmediateChild(l):null,g=D2(r,l);i=i.concat(F2(c,d,h,g))}return s&&(i=i.concat(Lw(s,t,r,n))),i}}function U2(t,e,n,r){const s=e.get(ut());n==null&&s!=null&&(n=jw(s,ut()));let i=[];return e.children.inorderTraversal((l,c)=>{const d=n?n.getImmediateChild(l):null,h=D2(r,l),g=t.operationForChild(l);g&&(i=i.concat(U2(g,c,d,h)))}),s&&(i=i.concat(Lw(s,t,r,n))),i}function $2(t,e){return t.tagToQueryMap.get(e)}function B2(t){const e=t.indexOf("$");return fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new St(t.substr(0,e))}}function z2(t,e,n){const r=t.syncPointTree_.get(e);fe(r,"Missing sync point for query tag that we're tracking");const s=P2(t.pendingWriteTree_,e);return Lw(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mw(n)}node(){return this.node_}}class Vw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=yn(this.path_,e);return new Vw(this.syncTree_,n)}node(){return V2(this.syncTree_,this.path_)}}const hU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},mS=function(t,e,n){if(!t||typeof t!="object")return t;if(fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return pU(t[".sv"],e);fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:fe(!1,"Unexpected server value: "+t)}},pU=function(t,e,n){t.hasOwnProperty("increment")||fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&fe(!1,"Unexpected increment value: "+r);const s=e.node();if(fe(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},mU=function(t,e,n,r){return Fw(e,new Vw(n,t),r)},gU=function(t,e,n){return Fw(t,new Mw(e),n)};function Fw(t,e,n){const r=t.getPriority().val(),s=mS(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const l=t,c=mS(l.getValue(),e,n);return c!==l.getValue()||s!==l.getPriority().val()?new pn(c,Mn(s)):t}else{const l=t;return i=l,s!==l.getPriority().val()&&(i=i.updatePriority(new pn(s))),l.forEachChild(Un,(c,d)=>{const h=Fw(d,e.getImmediateChild(c),n);h!==d&&(i=i.updateImmediateChild(c,h))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function $w(t,e){let n=e instanceof St?e:new St(e),r=t,s=Qe(n);for(;s!==null;){const i=pc(r.node.children,s)||{children:{},childCount:0};r=new Uw(s,r,i),n=Tt(n),s=Qe(n)}return r}function Bc(t){return t.node.value}function W2(t,e){t.node.value=e,V0(t)}function H2(t){return t.node.childCount>0}function yU(t){return Bc(t)===void 0&&!H2(t)}function Zm(t,e){Yr(t.node.children,(n,r)=>{e(new Uw(n,t,r))})}function q2(t,e,n,r){n&&e(t),Zm(t,s=>{q2(s,e,!0)})}function vU(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fh(t){return new St(t.parent===null?t.name:fh(t.parent)+"/"+t.name)}function V0(t){t.parent!==null&&_U(t.parent,t.name,t)}function _U(t,e,n){const r=yU(n),s=Xi(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,V0(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,V0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=/[\[\].#$\/\u0000-\u001F\u007F]/,xU=/[\[\].#$\u0000-\u001F\u007F]/,bv=10*1024*1024,K2=function(t){return typeof t=="string"&&t.length!==0&&!wU.test(t)},EU=function(t){return typeof t=="string"&&t.length!==0&&!xU.test(t)},TU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),EU(t)},G2=function(t,e,n){const r=n instanceof St?new n9(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Na(r));if(typeof e=="function")throw new Error(t+"contains a function "+Na(r)+" with contents = "+e.toString());if(qA(e))throw new Error(t+"contains "+e.toString()+" "+Na(r));if(typeof e=="string"&&e.length>bv/3&&wm(e)>bv)throw new Error(t+"contains a string greater than "+bv+" utf8 bytes "+Na(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Yr(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(i=!0,!K2(l)))throw new Error(t+" contains an invalid key ("+l+") "+Na(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r9(r,l),G2(t,c,r),s9(r)}),s&&i)throw new Error(t+' contains ".value" child '+Na(r)+" in addition to actual children.")}},bU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!K2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!TU(n))throw new Error(Sj(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CU(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!g2(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function nl(t,e,n){CU(t,n),IU(t,r=>gs(r,e)||gs(e,r))}function IU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(RU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function RU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();pd&&jn("event: "+n.toString()),dh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="repo_interrupt",PU=25;class kU{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new SU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=em(),this.transactionQueueTree_=new Uw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NU(t,e,n){if(t.stats_=Iw(t.repoInfo_),t.forceRestClient_||I6())t.server_=new Zp(t.repoInfo_,(r,s,i,l)=>{gS(t,r,s,i,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>yS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Mi(t.repoInfo_,e,(r,s,i,l)=>{gS(t,r,s,i,l)},r=>{yS(t,r)},r=>{DU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=N6(t.repoInfo_,()=>new k9(t.stats_,t.server_)),t.infoData_=new C9,t.infoSyncTree_=new pS({startListening:(r,s,i,l)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=Xm(t.infoSyncTree_,r._path,d),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),Bw(t,"connected",!1),t.serverSyncTree_=new pS({startListening:(r,s,i,l)=>(t.server_.listen(r,i,s,(c,d)=>{const h=l(c,d);nl(t.eventQueue_,r._path,h)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function OU(t){const n=t.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Q2(t){return hU({timestamp:OU(t)})}function gS(t,e,n,r,s){t.dataUpdateCount++;const i=new St(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(s)if(r){const d=Np(n,h=>Mn(h));l=dU(t.serverSyncTree_,i,d,s)}else{const d=Mn(n);l=uU(t.serverSyncTree_,i,d,s)}else if(r){const d=Np(n,h=>Mn(h));l=cU(t.serverSyncTree_,i,d)}else{const d=Mn(n);l=Xm(t.serverSyncTree_,i,d)}let c=i;l.length>0&&(c=Ww(t,i)),nl(t.eventQueue_,c,l)}function yS(t,e){Bw(t,"connected",e),e===!1&&jU(t)}function DU(t,e){Yr(e,(n,r)=>{Bw(t,n,r)})}function Bw(t,e,n){const r=new St("/.info/"+e),s=Mn(n);t.infoData_.updateSnapshot(r,s);const i=Xm(t.infoSyncTree_,r,s);nl(t.eventQueue_,r,i)}function LU(t){return t.nextWriteId_++}function jU(t){Y2(t,"onDisconnectEvents");const e=Q2(t),n=em();k0(t.onDisconnect_,ut(),(s,i)=>{const l=mU(s,i,t.serverSyncTree_,e);T2(n,s,l)});let r=[];k0(n,ut(),(s,i)=>{r=r.concat(Xm(t.serverSyncTree_,s,i));const l=UU(t,s);Ww(t,l)}),t.onDisconnect_=em(),nl(t.eventQueue_,ut(),r)}function MU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(AU)}function Y2(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),jn(n,...e)}function X2(t,e,n){return V2(t.serverSyncTree_,e,n)||st.EMPTY_NODE}function zw(t,e=t.transactionQueueTree_){if(e||eg(t,e),Bc(e)){const n=Z2(t,e);fe(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&VU(t,fh(e),n)}else H2(e)&&Zm(e,n=>{zw(t,n)})}function VU(t,e,n){const r=n.map(h=>h.currentWriteId),s=X2(t,e,r);let i=s;const l=s.hash();for(let h=0;h<n.length;h++){const g=n[h];fe(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=qr(e,g.path);i=i.updateChild(y,g.currentOutputSnapshotRaw)}const c=i.val(!0),d=e;t.server_.put(d.toString(),c,h=>{Y2(t,"transaction put response",{path:d.toString(),status:h});let g=[];if(h==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(nc(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();eg(t,$w(t.transactionQueueTree_,e)),zw(t,t.transactionQueueTree_),nl(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)dh(y[_])}else{if(h==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Pr("transaction at "+d.toString()+" failed: "+h);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=h}Ww(t,e)}},l)}function Ww(t,e){const n=J2(t,e),r=fh(n),s=Z2(t,n);return FU(t,s,r),r}function FU(t,e,n){if(e.length===0)return;const r=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],h=qr(n,d.path);let g=!1,y;if(fe(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,s=s.concat(nc(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=PU)g=!0,y="maxretry",s=s.concat(nc(t.serverSyncTree_,d.currentWriteId,!0));else{const _=X2(t,d.path,l);d.currentInputSnapshot=_;const S=e[c].update(_.val());if(S!==void 0){G2("transaction failed: Data returned ",S,d.path);let T=Mn(S);typeof S=="object"&&S!=null&&Xi(S,".priority")||(T=T.updatePriority(_.getPriority()));const b=d.currentWriteId,A=Q2(t),V=gU(T,_,A);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=V,d.currentWriteId=LU(t),l.splice(l.indexOf(b),1),s=s.concat(lU(t.serverSyncTree_,d.path,V,d.currentWriteId,d.applyLocally)),s=s.concat(nc(t.serverSyncTree_,b,!0))}else g=!0,y="nodata",s=s.concat(nc(t.serverSyncTree_,d.currentWriteId,!0))}nl(t.eventQueue_,n,s),s=[],g&&(e[c].status=2,function(_){setTimeout(_,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(y==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(y),!1,null))))}eg(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)dh(r[c]);zw(t,t.transactionQueueTree_)}function J2(t,e){let n,r=t.transactionQueueTree_;for(n=Qe(e);n!==null&&Bc(r)===void 0;)r=$w(r,n),e=Tt(e),n=Qe(e);return r}function Z2(t,e){const n=[];return eP(t,e,n),n.sort((r,s)=>r.order-s.order),n}function eP(t,e,n){const r=Bc(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Zm(e,s=>{eP(t,s,n)})}function eg(t,e){const n=Bc(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,W2(e,n.length>0?n:void 0)}Zm(e,r=>{eg(t,r)})}function UU(t,e){const n=fh(J2(t,e)),r=$w(t.transactionQueueTree_,e);return vU(r,s=>{Sv(t,s)}),Sv(t,r),q2(r,s=>{Sv(t,s)}),n}function Sv(t,e){const n=Bc(e);if(n){const r=[];let s=[],i=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(fe(i===l-1,"All SENT items should be at beginning of queue."),i=l,n[l].status=3,n[l].abortReason="set"):(fe(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),s=s.concat(nc(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));i===-1?W2(e,void 0):n.length=i+1,nl(t.eventQueue_,fh(e),s);for(let l=0;l<r.length;l++)dh(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function BU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pr(`Invalid query segment '${n}' in query '${t}'`)}return e}const vS=function(t,e){const n=zU(t),r=n.namespace;n.domain==="firebase.com"&&Hi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_6();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new s2(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new St(n.pathString)}},zU=function(t){let e="",n="",r="",s="",i="",l=!0,c="https",d=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(s=$U(t.substring(g,y)));const _=BU(t.substring(Math.min(t.length,y)));h=e.indexOf(":"),h>=0?(l=c==="https"||c==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const S=e.slice(0,h);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),i=r}"ns"in _&&(i=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:l,scheme:c,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return qe(this._path)?null:f2(this._path)}get ref(){return new zc(this._repo,this._path)}get _queryIdentifier(){const e=rS(this._queryParams),n=Sw(e);return n==="{}"?"default":n}get _queryObject(){return rS(this._queryParams)}isEqual(e){if(e=vt(e),!(e instanceof Hw))return!1;const n=this._repo===e._repo,r=g2(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+t9(this._path)}}class zc extends Hw{constructor(e,n){super(e,n,new kw,!1)}get parent(){const e=m2(this._path);return e===null?null:new zc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}oU(zc);aU(zc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="FIREBASE_DATABASE_EMULATOR_HOST",F0={};let HU=!1;function qU(t,e,n,r){t.repoInfo_=new s2(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function KU(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jn("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=vS(i,s),c=l.repoInfo,d;typeof process<"u"&&Vb&&(d=Vb[WU]),d?(i=`http://${d}?ns=${c.namespace}`,l=vS(i,s),c=l.repoInfo):l.repoInfo.secure;const h=new A6(t.name,t.options,e);bU("Invalid Firebase Database URL",l),qe(l.path)||Hi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=QU(c,t,h,new R6(t,n));return new YU(g,t)}function GU(t,e){const n=F0[e];(!n||n[t.key]!==t)&&Hi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),MU(t),delete n[t.key]}function QU(t,e,n,r){let s=F0[e.name];s||(s={},F0[e.name]=s);let i=s[t.toURLString()];return i&&Hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new kU(t,HU,n,r),s[t.toURLString()]=i,i}class YU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zc(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(GU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hi("Cannot call "+e+" on a deleted database.")}}function XU(t=Em(),e){const n=Jd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=S_("database");r&&JU(n,...r)}return n}function JU(t,e,n,r={}){t=vt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Fo(r,i.repoInfo_.emulatorOptions))return;Hi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new yp(yp.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:I_(r.mockUserToken,t.app.options.projectId);l=new yp(c)}qU(i,s,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){f6(Xo),Uo(new Fi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return KU(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Kr(Fb,Ub,t),Kr(Fb,Ub,"esm2017")}Mi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Mi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ZU();const qw=async(t,e,n,r,s,i,l)=>{const c=ah();let d;e||n?d=`${e||""} ${n||""}`.trim():d=i||"";const h={uid:t,displayName:d,firstName:e||(i?i.split(" ")[0]:""),lastName:n||(i?i.split(" ").slice(1).join(" "):""),email:r,phoneNumber:s,createdAt:new Date,...l?{role:l}:{}};await bw(Lt(c,"users",t),h,{merge:!0})},tP={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-b0c23.firebaseio.com"};console.log("FIREBASE CONFIG:",tP);const Kw=CI(tP),tg=Im(Kw);new Ks;const Pt=ah(Kw);i3("debug");const nP=Dt.createContext();function ci(){return C.useContext(nP)}function e$({children:t}){const[e,n]=C.useState(null),[r,s]=C.useState(!1),[i,l]=C.useState(!0),[c,d]=C.useState(!1),[h,g]=C.useState(!1),[y,_]=C.useState(!1),S={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:h,loading:i,redirectAfterAuth:y,setRedirectAfterAuth:_};return C.useEffect(()=>{const T=Im(),E=ZI(T,b=>{var A;if(n(b),s(!!b),b){const V=(A=b.providerData[0])==null?void 0:A.providerId;d(V==="password"),g(V==="google.com")}else d(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLoggedIn =",!!b,"user:",b==null?void 0:b.uid)});return()=>E},[]),p.jsx(nP.Provider,{value:S,children:!i&&t})}const Fd=ah(Kw),t$=async t=>{try{const e=Lt(Fd,"users",t),n=await Xn(e);return n.exists()?n.data():null}catch(e){throw console.error("Error fetching user profile:",e),e}},rl=C.createContext(),ph=()=>C.useContext(rl),n$=({children:t})=>{const[e,n]=C.useState(null),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,d]=C.useState(null);return C.useEffect(()=>{const h=ZI(tg,async g=>{if(c&&(console.log("Cleaning up previous Firestore listener"),c(),d(null)),n(g),!g){n(null),s(null),l(!1);return}n(g),console.log("Current user UID:",g==null?void 0:g.uid);let y=null,_=null;if(g.displayName){const E=g.displayName.split(" ");y=E[0]||"",_=E.slice(1).join(" ")||""}const S=Lt(Fd,"users",g.uid);(await Xn(S)).exists()?console.log("User profile already exists, skipping creation."):(console.log("User profile doesn't exist yet, creating it."),await qw(g.uid,y,_,g.email,null,g.displayName));try{const E=await t$(g.uid),b={displayName:g.displayName||"",email:g.email||"",photoURL:g.photoURL||""};s(E||b),l(!1);try{const A=Lt(Fd,"users",g.uid);console.log("Setting up Firestore listener on: /users/"+g.uid),(await Xn(A)).exists()||(console.log("Document doesn't exist yet, creating it first"),await bw(A,{displayName:r.displayName,email:r.email,photoURL:r.photoURL,createdAt:new Date},{merge:!0}));const M=$A(A,U=>{U.exists()?(console.log("Received profile update for UID:",g.uid,"Data:",U.data()),s(U.data())):console.warn("User document does not exist for UID:",g.uid)},U=>{console.error("Error listening to profile updates:",U)});d(()=>M)}catch(A){console.error("Error setting up profile listener:",A)}}catch(E){console.error("Failed to fetch user profile:",E.message),l(!1)}});return()=>{h(),c&&(console.log("Cleaning up Firestore listener on component unmount"),c())}},[]),p.jsx(rl.Provider,{value:{user:e,profile:r,loading:i},children:t})},rP=C.createContext(),r$={conversations:[],selectedConversation:null,messages:[],loading:!1,currentConversationData:null};function s$(t,e){switch(e.type){case"SET_CONVERSATIONS":const n=[...e.payload].sort((c,d)=>{var y,_,S,T,E,b,A,V,M,U,z,q;const h=((S=(_=(y=c.lastMessage)==null?void 0:y.timestamp)==null?void 0:_.toMillis)==null?void 0:S.call(_))||(((T=c.lastMessage)==null?void 0:T.timestamp)instanceof Date?c.lastMessage.timestamp.getTime():0)||((b=(E=c.updatedAt)==null?void 0:E.toMillis)==null?void 0:b.call(E))||0;return(((M=(V=(A=d.lastMessage)==null?void 0:A.timestamp)==null?void 0:V.toMillis)==null?void 0:M.call(V))||(((U=d.lastMessage)==null?void 0:U.timestamp)instanceof Date?d.lastMessage.timestamp.getTime():0)||((q=(z=d.updatedAt)==null?void 0:z.toMillis)==null?void 0:q.call(z))||0)-h});let r=t.currentConversationData;if(t.selectedConversation){const c=n.find(d=>d.id===t.selectedConversation);c&&(r=c)}return{...t,conversations:n,currentConversationData:r};case"UPDATE_LAST_MESSAGE":const s=t.conversations.map(c=>c.id===e.payload.conversationId?{...c,lastMessage:e.payload.lastMessage,updatedAt:e.payload.lastMessage.timestamp}:c).sort((c,d)=>{var y,_,S,T,E,b,A,V,M,U,z,q;const h=((S=(_=(y=c.lastMessage)==null?void 0:y.timestamp)==null?void 0:_.toMillis)==null?void 0:S.call(_))||(((T=c.lastMessage)==null?void 0:T.timestamp)instanceof Date?c.lastMessage.timestamp.getTime():0)||((b=(E=c.updatedAt)==null?void 0:E.toMillis)==null?void 0:b.call(E))||0;return(((M=(V=(A=d.lastMessage)==null?void 0:A.timestamp)==null?void 0:V.toMillis)==null?void 0:M.call(V))||(((U=d.lastMessage)==null?void 0:U.timestamp)instanceof Date?d.lastMessage.timestamp.getTime():0)||((q=(z=d.updatedAt)==null?void 0:z.toMillis)==null?void 0:q.call(z))||0)-h});return{...t,conversations:s};case"SELECT_CONVERSATION":if(t.selectedConversation===e.payload)return t;const i=t.conversations.find(c=>c.id===e.payload)||null;return{...t,selectedConversation:e.payload,messages:[],currentConversationData:i};case"SET_CURRENT_CONVERSATION_DATA":return{...t,currentConversationData:e.payload};case"SET_MESSAGES":return{...t,messages:e.payload};case"ADD_MESSAGE":return t.messages.some(c=>{var d,h,g,y,_,S;return c.id===e.payload.id||c.senderId===e.payload.senderId&&c.text===e.payload.text&&Math.abs(((g=((h=(d=c.timestamp)==null?void 0:d.toDate)==null?void 0:h.call(d))||c.timestamp)==null?void 0:g.getTime())-((S=((_=(y=e.payload.timestamp)==null?void 0:y.toDate)==null?void 0:_.call(y))||e.payload.timestamp)==null?void 0:S.getTime()))<5e3})?t:{...t,messages:[...t.messages,e.payload].sort((c,d)=>{var y,_,S,T;const h=((_=(y=c.timestamp)==null?void 0:y.toMillis)==null?void 0:_.call(y))||(c.timestamp instanceof Date?c.timestamp.getTime():0),g=((T=(S=d.timestamp)==null?void 0:S.toMillis)==null?void 0:T.call(S))||(d.timestamp instanceof Date?d.timestamp.getTime():0);return h-g})};case"SET_LOADING":return{...t,loading:e.payload};default:return t}}function i$({children:t}){const[e,n]=C.useReducer(s$,r$);return C.useEffect(()=>{const r=e.selectedConversation;if(!r)return;console.log(`Setting up listener for conversation ${r}`);const s=Lt(Pt,"conversations",r),i=$A(s,l=>{if(l.exists()){const c={id:l.id,...l.data()};if(console.log("Conversation data updated:",c),n({type:"SET_CURRENT_CONVERSATION_DATA",payload:c}),e.conversations.length>0){const d=e.conversations.map(h=>h.id===r?c:h);n({type:"SET_CONVERSATIONS",payload:d})}}else console.log(`Conversation ${r} does not exist`)},l=>{console.error("Error listening to conversation:",l)});return()=>{console.log(`Cleaning up listener for conversation ${r}`),i()}},[e.selectedConversation]),p.jsx(rP.Provider,{value:{state:e,dispatch:n},children:t})}function fJ(){return C.useContext(rP)}function Gw(){return p.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}const o$=1,a$=1e6;let Cv=0;function l$(){return Cv=(Cv+1)%Number.MAX_SAFE_INTEGER,Cv.toString()}const Iv=new Map,_S=t=>{if(Iv.has(t))return;const e=setTimeout(()=>{Iv.delete(t),vd({type:"REMOVE_TOAST",toastId:t})},a$);Iv.set(t,e)},c$=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,o$)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_S(n):t.toasts.forEach(r=>{_S(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vp=[];let _p={toasts:[]};function vd(t){_p=c$(_p,t),vp.forEach(e=>{e(_p)})}function u$({...t}){const e=l$(),n=s=>vd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>vd({type:"DISMISS_TOAST",toastId:e});return vd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Qw(){const[t,e]=C.useState(_p);return C.useEffect(()=>(vp.push(e),()=>{const n=vp.indexOf(e);n>-1&&vp.splice(n,1)}),[t]),{...t,toast:u$,dismiss:n=>vd({type:"DISMISS_TOAST",toastId:n})}}function Cr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function wS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yw(...t){return e=>{let n=!1;const r=t.map(s=>{const i=wS(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():wS(t[s],null)}}}}function Ka(...t){return C.useCallback(Yw(...t),t)}function sP(t,e=[]){let n=[];function r(i,l){const c=C.createContext(l),d=n.length;n=[...n,l];const h=y=>{var A;const{scope:_,children:S,...T}=y,E=((A=_==null?void 0:_[t])==null?void 0:A[d])||c,b=C.useMemo(()=>T,Object.values(T));return p.jsx(E.Provider,{value:b,children:S})};h.displayName=i+"Provider";function g(y,_){var E;const S=((E=_==null?void 0:_[t])==null?void 0:E[d])||c,T=C.useContext(S);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${i}\``)}return[h,g]}const s=()=>{const i=n.map(l=>C.createContext(l));return function(c){const d=(c==null?void 0:c[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,d$(s,...e)]}function d$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const y=d(i)[`__scope${h}`];return{...c,...y}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var U0=C.forwardRef((t,e)=>{const{children:n,...r}=t,s=C.Children.toArray(n),i=s.find(f$);if(i){const l=i.props.children,c=s.map(d=>d===i?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:d);return p.jsx($0,{...r,ref:e,children:C.isValidElement(l)?C.cloneElement(l,void 0,c):null})}return p.jsx($0,{...r,ref:e,children:n})});U0.displayName="Slot";var $0=C.forwardRef((t,e)=>{const{children:n,...r}=t;if(C.isValidElement(n)){const s=m$(n),i=p$(r,n.props);return n.type!==C.Fragment&&(i.ref=e?Yw(e,s):s),C.cloneElement(n,i)}return C.Children.count(n)>1?C.Children.only(null):null});$0.displayName="SlotClone";var h$=({children:t})=>p.jsx(p.Fragment,{children:t});function f$(t){return C.isValidElement(t)&&t.type===h$}function p$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{i(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function m$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function g$(t){const e=t+"CollectionProvider",[n,r]=sP(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:T,children:E}=S,b=Dt.useRef(null),A=Dt.useRef(new Map).current;return p.jsx(s,{scope:T,itemMap:A,collectionRef:b,children:E})};l.displayName=e;const c=t+"CollectionSlot",d=Dt.forwardRef((S,T)=>{const{scope:E,children:b}=S,A=i(c,E),V=Ka(T,A.collectionRef);return p.jsx(U0,{ref:V,children:b})});d.displayName=c;const h=t+"CollectionItemSlot",g="data-radix-collection-item",y=Dt.forwardRef((S,T)=>{const{scope:E,children:b,...A}=S,V=Dt.useRef(null),M=Ka(T,V),U=i(h,E);return Dt.useEffect(()=>(U.itemMap.set(V,{ref:V,...A}),()=>void U.itemMap.delete(V))),p.jsx(U0,{[g]:"",ref:M,children:b})});y.displayName=h;function _(S){const T=i(t+"CollectionConsumer",S);return Dt.useCallback(()=>{const b=T.collectionRef.current;if(!b)return[];const A=Array.from(b.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((U,z)=>A.indexOf(U.ref.current)-A.indexOf(z.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:d,ItemSlot:y},_,r]}var iP=C.forwardRef((t,e)=>{const{children:n,...r}=t,s=C.Children.toArray(n),i=s.find(v$);if(i){const l=i.props.children,c=s.map(d=>d===i?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:d);return p.jsx(B0,{...r,ref:e,children:C.isValidElement(l)?C.cloneElement(l,void 0,c):null})}return p.jsx(B0,{...r,ref:e,children:n})});iP.displayName="Slot";var B0=C.forwardRef((t,e)=>{const{children:n,...r}=t;if(C.isValidElement(n)){const s=w$(n),i=_$(r,n.props);return n.type!==C.Fragment&&(i.ref=e?Yw(e,s):s),C.cloneElement(n,i)}return C.Children.count(n)>1?C.Children.only(null):null});B0.displayName="SlotClone";var y$=({children:t})=>p.jsx(p.Fragment,{children:t});function v$(t){return C.isValidElement(t)&&t.type===y$}function _$(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{i(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function w$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var x$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ui=x$.reduce((t,e)=>{const n=C.forwardRef((r,s)=>{const{asChild:i,...l}=r,c=i?iP:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function oP(t,e){t&&T_.flushSync(()=>t.dispatchEvent(e))}function qi(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function E$(t,e=globalThis==null?void 0:globalThis.document){const n=qi(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var T$="DismissableLayer",z0="dismissableLayer.update",b$="dismissableLayer.pointerDownOutside",S$="dismissableLayer.focusOutside",xS,aP=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lP=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=t,h=C.useContext(aP),[g,y]=C.useState(null),_=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=C.useState({}),T=Ka(e,k=>y(k)),E=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=E.indexOf(b),V=g?E.indexOf(g):-1,M=h.layersWithOutsidePointerEventsDisabled.size>0,U=V>=A,z=I$(k=>{const N=k.target,O=[...h.branches].some(I=>I.contains(N));!U||O||(s==null||s(k),l==null||l(k),k.defaultPrevented||c==null||c())},_),q=R$(k=>{const N=k.target;[...h.branches].some(I=>I.contains(N))||(i==null||i(k),l==null||l(k),k.defaultPrevented||c==null||c())},_);return E$(k=>{V===h.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},_),C.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(xS=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),ES(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=xS)}},[g,_,n,h]),C.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),ES())},[g,h]),C.useEffect(()=>{const k=()=>S({});return document.addEventListener(z0,k),()=>document.removeEventListener(z0,k)},[]),p.jsx(ui.div,{...d,ref:T,style:{pointerEvents:M?U?"auto":"none":void 0,...t.style},onFocusCapture:Cr(t.onFocusCapture,q.onFocusCapture),onBlurCapture:Cr(t.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Cr(t.onPointerDownCapture,z.onPointerDownCapture)})});lP.displayName=T$;var C$="DismissableLayerBranch",cP=C.forwardRef((t,e)=>{const n=C.useContext(aP),r=C.useRef(null),s=Ka(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(ui.div,{...t,ref:s})});cP.displayName=C$;function I$(t,e=globalThis==null?void 0:globalThis.document){const n=qi(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){uP(b$,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function R$(t,e=globalThis==null?void 0:globalThis.document){const n=qi(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&uP(S$,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ES(){const t=new CustomEvent(z0);document.dispatchEvent(t)}function uP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oP(s,i):s.dispatchEvent(i)}var A$=lP,P$=cP,sm=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},k$="Portal",dP=C.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=C.useState(!1);sm(()=>i(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?JL.createPortal(p.jsx(ui.div,{...r,ref:e}),l):null});dP.displayName=k$;function N$(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var hP=t=>{const{present:e,children:n}=t,r=O$(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=Ka(r.ref,D$(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};hP.displayName="Presence";function O$(t){const[e,n]=C.useState(),r=C.useRef({}),s=C.useRef(t),i=C.useRef("none"),l=t?"mounted":"unmounted",[c,d]=N$(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const h=Yf(r.current);i.current=c==="mounted"?h:"none"},[c]),sm(()=>{const h=r.current,g=s.current;if(g!==t){const _=i.current,S=Yf(h);t?d("MOUNT"):S==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(g&&_!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),sm(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,y=S=>{const E=Yf(r.current).includes(S.animationName);if(S.target===e&&E&&(d("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},_=S=>{S.target===e&&(i.current=Yf(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function Yf(t){return(t==null?void 0:t.animationName)||"none"}function D$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function L$({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=j$({defaultProp:e,onChange:n}),i=t!==void 0,l=i?t:r,c=qi(n),d=C.useCallback(h=>{if(i){const y=typeof h=="function"?h(t):h;y!==t&&c(y)}else s(h)},[i,t,s,c]);return[l,d]}function j$({defaultProp:t,onChange:e}){const n=C.useState(t),[r]=n,s=C.useRef(r),i=qi(e);return C.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var M$="VisuallyHidden",Xw=C.forwardRef((t,e)=>p.jsx(ui.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Xw.displayName=M$;var Jw="ToastProvider",[Zw,V$,F$]=g$("Toast"),[fP,pJ]=sP("Toast",[F$]),[U$,ng]=fP(Jw),pP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=t,[c,d]=C.useState(null),[h,g]=C.useState(0),y=C.useRef(!1),_=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jw}\`. Expected non-empty \`string\`.`),p.jsx(Zw.Provider,{scope:e,children:p.jsx(U$,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:C.useCallback(()=>g(S=>S+1),[]),onToastRemove:C.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:_,children:l})})};pP.displayName=Jw;var mP="ToastViewport",$$=["F8"],W0="toast.viewportPause",H0="toast.viewportResume",gP=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=$$,label:s="Notifications ({hotkey})",...i}=t,l=ng(mP,n),c=V$(n),d=C.useRef(null),h=C.useRef(null),g=C.useRef(null),y=C.useRef(null),_=Ka(e,y,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=l.toastCount>0;C.useEffect(()=>{const b=A=>{var M;r.length!==0&&r.every(U=>A[U]||A.code===U)&&((M=y.current)==null||M.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),C.useEffect(()=>{const b=d.current,A=y.current;if(T&&b&&A){const V=()=>{if(!l.isClosePausedRef.current){const q=new CustomEvent(W0);A.dispatchEvent(q),l.isClosePausedRef.current=!0}},M=()=>{if(l.isClosePausedRef.current){const q=new CustomEvent(H0);A.dispatchEvent(q),l.isClosePausedRef.current=!1}},U=q=>{!b.contains(q.relatedTarget)&&M()},z=()=>{b.contains(document.activeElement)||M()};return b.addEventListener("focusin",V),b.addEventListener("focusout",U),b.addEventListener("pointermove",V),b.addEventListener("pointerleave",z),window.addEventListener("blur",V),window.addEventListener("focus",M),()=>{b.removeEventListener("focusin",V),b.removeEventListener("focusout",U),b.removeEventListener("pointermove",V),b.removeEventListener("pointerleave",z),window.removeEventListener("blur",V),window.removeEventListener("focus",M)}}},[T,l.isClosePausedRef]);const E=C.useCallback(({tabbingDirection:b})=>{const V=c().map(M=>{const U=M.ref.current,z=[U,...eB(U)];return b==="forwards"?z:z.reverse()});return(b==="forwards"?V.reverse():V).flat()},[c]);return C.useEffect(()=>{const b=y.current;if(b){const A=V=>{var z,q,k;const M=V.altKey||V.ctrlKey||V.metaKey;if(V.key==="Tab"&&!M){const N=document.activeElement,O=V.shiftKey;if(V.target===b&&O){(z=h.current)==null||z.focus();return}const F=E({tabbingDirection:O?"backwards":"forwards"}),L=F.findIndex(ie=>ie===N);Rv(F.slice(L+1))?V.preventDefault():O?(q=h.current)==null||q.focus():(k=g.current)==null||k.focus()}};return b.addEventListener("keydown",A),()=>b.removeEventListener("keydown",A)}},[c,E]),p.jsxs(P$,{ref:d,role:"region","aria-label":s.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&p.jsx(q0,{ref:h,onFocusFromOutsideViewport:()=>{const b=E({tabbingDirection:"forwards"});Rv(b)}}),p.jsx(Zw.Slot,{scope:n,children:p.jsx(ui.ol,{tabIndex:-1,...i,ref:_})}),T&&p.jsx(q0,{ref:g,onFocusFromOutsideViewport:()=>{const b=E({tabbingDirection:"backwards"});Rv(b)}})]})});gP.displayName=mP;var yP="ToastFocusProxy",q0=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=ng(yP,n);return p.jsx(Xw,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=i.viewport)!=null&&h.contains(c))&&r()}})});q0.displayName=yP;var rg="Toast",B$="toast.swipeStart",z$="toast.swipeMove",W$="toast.swipeCancel",H$="toast.swipeEnd",vP=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...l}=t,[c=!0,d]=L$({prop:r,defaultProp:s,onChange:i});return p.jsx(hP,{present:n||c,children:p.jsx(G$,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:qi(t.onPause),onResume:qi(t.onResume),onSwipeStart:Cr(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Cr(t.onSwipeMove,h=>{const{x:g,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Cr(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Cr(t.onSwipeEnd,h=>{const{x:g,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),d(!1)})})})});vP.displayName=rg;var[q$,K$]=fP(rg,{onClose(){}}),G$=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:_,onSwipeEnd:S,...T}=t,E=ng(rg,n),[b,A]=C.useState(null),V=Ka(e,ie=>A(ie)),M=C.useRef(null),U=C.useRef(null),z=s||E.duration,q=C.useRef(0),k=C.useRef(z),N=C.useRef(0),{onToastAdd:O,onToastRemove:I}=E,j=qi(()=>{var xe;(b==null?void 0:b.contains(document.activeElement))&&((xe=E.viewport)==null||xe.focus()),l()}),F=C.useCallback(ie=>{!ie||ie===1/0||(window.clearTimeout(N.current),q.current=new Date().getTime(),N.current=window.setTimeout(j,ie))},[j]);C.useEffect(()=>{const ie=E.viewport;if(ie){const xe=()=>{F(k.current),h==null||h()},_e=()=>{const Te=new Date().getTime()-q.current;k.current=k.current-Te,window.clearTimeout(N.current),d==null||d()};return ie.addEventListener(W0,_e),ie.addEventListener(H0,xe),()=>{ie.removeEventListener(W0,_e),ie.removeEventListener(H0,xe)}}},[E.viewport,z,d,h,F]),C.useEffect(()=>{i&&!E.isClosePausedRef.current&&F(z)},[i,z,E.isClosePausedRef,F]),C.useEffect(()=>(O(),()=>I()),[O,I]);const L=C.useMemo(()=>b?SP(b):null,[b]);return E.viewport?p.jsxs(p.Fragment,{children:[L&&p.jsx(Q$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),p.jsx(q$,{scope:n,onClose:j,children:T_.createPortal(p.jsx(Zw.ItemSlot,{scope:n,children:p.jsx(A$,{asChild:!0,onEscapeKeyDown:Cr(c,()=>{E.isFocusedToastEscapeKeyDownRef.current||j(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ui.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...T,ref:V,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Cr(t.onKeyDown,ie=>{ie.key==="Escape"&&(c==null||c(ie.nativeEvent),ie.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Cr(t.onPointerDown,ie=>{ie.button===0&&(M.current={x:ie.clientX,y:ie.clientY})}),onPointerMove:Cr(t.onPointerMove,ie=>{if(!M.current)return;const xe=ie.clientX-M.current.x,_e=ie.clientY-M.current.y,Te=!!U.current,se=["left","right"].includes(E.swipeDirection),de=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,ce=se?de(0,xe):0,W=se?0:de(0,_e),te=ie.pointerType==="touch"?10:2,me={x:ce,y:W},Re={originalEvent:ie,delta:me};Te?(U.current=me,Xf(z$,y,Re,{discrete:!1})):TS(me,E.swipeDirection,te)?(U.current=me,Xf(B$,g,Re,{discrete:!1}),ie.target.setPointerCapture(ie.pointerId)):(Math.abs(xe)>te||Math.abs(_e)>te)&&(M.current=null)}),onPointerUp:Cr(t.onPointerUp,ie=>{const xe=U.current,_e=ie.target;if(_e.hasPointerCapture(ie.pointerId)&&_e.releasePointerCapture(ie.pointerId),U.current=null,M.current=null,xe){const Te=ie.currentTarget,se={originalEvent:ie,delta:xe};TS(xe,E.swipeDirection,E.swipeThreshold)?Xf(H$,S,se,{discrete:!0}):Xf(W$,_,se,{discrete:!0}),Te.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),Q$=t=>{const{__scopeToast:e,children:n,...r}=t,s=ng(rg,e),[i,l]=C.useState(!1),[c,d]=C.useState(!1);return J$(()=>l(!0)),C.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:p.jsx(dP,{asChild:!0,children:p.jsx(Xw,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},Y$="ToastTitle",_P=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ui.div,{...r,ref:e})});_P.displayName=Y$;var X$="ToastDescription",wP=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ui.div,{...r,ref:e})});wP.displayName=X$;var xP="ToastAction",EP=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(bP,{altText:n,asChild:!0,children:p.jsx(ex,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${xP}\`. Expected non-empty \`string\`.`),null)});EP.displayName=xP;var TP="ToastClose",ex=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=K$(TP,n);return p.jsx(bP,{asChild:!0,children:p.jsx(ui.button,{type:"button",...r,ref:e,onClick:Cr(t.onClick,s.onClose)})})});ex.displayName=TP;var bP=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(ui.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function SP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Z$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...SP(r))}}),e}function Xf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oP(s,i):s.dispatchEvent(i)}var TS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function J$(t=()=>{}){const e=qi(t);sm(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Z$(t){return t.nodeType===t.ELEMENT_NODE}function eB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var tB=pP,CP=gP,IP=vP,RP=_P,AP=wP,PP=EP,kP=ex;function NP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=NP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ws(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=NP(t))&&(r&&(r+=" "),r+=e);return r}const bS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SS=ws,OP=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return SS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(h=>{const g=n==null?void 0:n[h],y=i==null?void 0:i[h];if(g===null)return null;const _=bS(g)||bS(y);return s[h][_]}),c=n&&Object.entries(n).reduce((h,g)=>{let[y,_]=g;return _===void 0||(h[y]=_),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:y,className:_,...S}=g;return Object.entries(S).every(T=>{let[E,b]=T;return Array.isArray(b)?b.includes({...i,...c}[E]):{...i,...c}[E]===b})?[...h,y,_]:h},[]);return SS(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...c},d)=>C.createElement("svg",{ref:d,...rB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DP("lucide",s),...c},[...l.map(([h,g])=>C.createElement(h,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(sB,{ref:i,iconNode:e,className:DP(`lucide-${nB(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oB=Wc("Bell",iB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lB=Wc("ChevronLeft",aB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uB=Wc("ChevronRight",cB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],hB=Wc("LogOut",dB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pB=Wc("Settings",fB);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gB=Wc("X",mB),tx="-",yB=t=>{const e=_B(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(tx);return c[0]===""&&c.length!==1&&c.shift(),LP(c,e)||vB(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},LP=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?LP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(tx);return(l=e.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},CS=/^\[(.+)\]$/,vB=t=>{if(CS.test(t)){const e=CS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_B=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return xB(Object.entries(t.classGroups),n).forEach(([i,l])=>{K0(l,r,i,e)}),r},K0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:IS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(wB(s)){K0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,l])=>{K0(l,IS(e,i),n,r)})})},IS=(t,e)=>{let n=t;return e.split(tx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wB=t=>t.isThemeGetter,xB=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[e+l,c])):i);return[n,s]}):t,EB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,l)=>{n.set(i,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){n.has(i)?n.set(i,l):s(i,l)}}},jP="!",TB=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,l=c=>{const d=[];let h=0,g=0,y;for(let b=0;b<c.length;b++){let A=c[b];if(h===0){if(A===s&&(r||c.slice(b,b+i)===e)){d.push(c.slice(g,b)),g=b+i;continue}if(A==="/"){y=b;continue}}A==="["?h++:A==="]"&&h--}const _=d.length===0?c:c.substring(g),S=_.startsWith(jP),T=S?_.substring(1):_,E=y&&y>g?y-g:void 0;return{modifiers:d,hasImportantModifier:S,baseClassName:T,maybePostfixModifierPosition:E}};return n?c=>n({className:c,parseClassName:l}):l},bB=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},SB=t=>({cache:EB(t.cacheSize),parseClassName:TB(t),...yB(t)}),CB=/\s+/,IB=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],l=t.trim().split(CB);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:g,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:S}=n(h);let T=!!S,E=r(T?_.substring(0,S):_);if(!E){if(!T){c=h+(c.length>0?" "+c:c);continue}if(E=r(_),!E){c=h+(c.length>0?" "+c:c);continue}T=!1}const b=bB(g).join(":"),A=y?b+jP:b,V=A+E;if(i.includes(V))continue;i.push(V);const M=s(E,T);for(let U=0;U<M.length;++U){const z=M[U];i.push(A+z)}c=h+(c.length>0?" "+c:c)}return c};function RB(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MP(e))&&(r&&(r+=" "),r+=n);return r}const MP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MP(t[r]))&&(n&&(n+=" "),n+=e);return n};function AB(t,...e){let n,r,s,i=l;function l(d){const h=e.reduce((g,y)=>y(g),t());return n=SB(h),r=n.cache.get,s=n.cache.set,i=c,c(d)}function c(d){const h=r(d);if(h)return h;const g=IB(d,n);return s(d,g),g}return function(){return i(RB.apply(null,arguments))}}const xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},VP=/^\[(?:([a-z-]+):)?(.+)\]$/i,PB=/^\d+\/\d+$/,kB=new Set(["px","full","screen"]),NB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ci=t=>uc(t)||kB.has(t)||PB.test(t),So=t=>Hc(t,"length",WB),uc=t=>!!t&&!Number.isNaN(Number(t)),Av=t=>Hc(t,"number",uc),Ku=t=>!!t&&Number.isInteger(Number(t)),MB=t=>t.endsWith("%")&&uc(t.slice(0,-1)),Fe=t=>VP.test(t),Co=t=>NB.test(t),VB=new Set(["length","size","percentage"]),FB=t=>Hc(t,VB,FP),UB=t=>Hc(t,"position",FP),$B=new Set(["image","url"]),BB=t=>Hc(t,$B,qB),zB=t=>Hc(t,"",HB),Gu=()=>!0,Hc=(t,e,n)=>{const r=VP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},WB=t=>OB.test(t)&&!DB.test(t),FP=()=>!1,HB=t=>LB.test(t),qB=t=>jB.test(t),KB=()=>{const t=xt("colors"),e=xt("spacing"),n=xt("blur"),r=xt("brightness"),s=xt("borderColor"),i=xt("borderRadius"),l=xt("borderSpacing"),c=xt("borderWidth"),d=xt("contrast"),h=xt("grayscale"),g=xt("hueRotate"),y=xt("invert"),_=xt("gap"),S=xt("gradientColorStops"),T=xt("gradientColorStopPositions"),E=xt("inset"),b=xt("margin"),A=xt("opacity"),V=xt("padding"),M=xt("saturate"),U=xt("scale"),z=xt("sepia"),q=xt("skew"),k=xt("space"),N=xt("translate"),O=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Fe,e],F=()=>[Fe,e],L=()=>["",Ci,So],ie=()=>["auto",uc,Fe],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],de=()=>["","0",Fe],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[uc,Fe];return{cacheSize:500,separator:":",theme:{colors:[Gu],spacing:[Ci,So],blur:["none","",Co,Fe],brightness:W(),borderColor:[t],borderRadius:["none","","full",Co,Fe],borderSpacing:F(),borderWidth:L(),contrast:W(),grayscale:de(),hueRotate:W(),invert:de(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[MB,So],inset:j(),margin:j(),opacity:W(),padding:F(),saturate:W(),scale:W(),sepia:de(),skew:W(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[Co]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),Fe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ku,Fe]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",Ku,Fe]}],"grid-cols":[{"grid-cols":[Gu]}],"col-start-end":[{col:["auto",{span:["full",Ku,Fe]},Fe]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[Gu]}],"row-start-end":[{row:["auto",{span:[Ku,Fe]},Fe]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[V]}],px:[{px:[V]}],py:[{py:[V]}],ps:[{ps:[V]}],pe:[{pe:[V]}],pt:[{pt:[V]}],pr:[{pr:[V]}],pb:[{pb:[V]}],pl:[{pl:[V]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[Co]},Co]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Co,So]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Av]}],"font-family":[{font:[Gu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",uc,Av]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ci,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ci,So]}],"underline-offset":[{"underline-offset":["auto",Ci,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),UB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:_e()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[Ci,Fe]}],"outline-w":[{outline:[Ci,So]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Ci,So]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Co,zB]}],"shadow-color":[{shadow:[Gu]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Co,Fe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[M]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[U]}],"scale-x":[{"scale-x":[U]}],"scale-y":[{"scale-y":[U]}],rotate:[{rotate:[Ku,Fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ci,So,Av]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GB=AB(KB);function gr(...t){return GB(ws(t))}const QB=tB,UP=C.forwardRef(({className:t,...e},n)=>p.jsx(CP,{ref:n,className:gr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UP.displayName=CP.displayName;const YB=OP("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$P=C.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(IP,{ref:r,className:gr(YB({variant:e}),t),...n}));$P.displayName=IP.displayName;const XB=C.forwardRef(({className:t,...e},n)=>p.jsx(PP,{ref:n,className:gr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));XB.displayName=PP.displayName;const BP=C.forwardRef(({className:t,...e},n)=>p.jsx(kP,{ref:n,className:gr("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(gB,{className:"h-4 w-4"})}));BP.displayName=kP.displayName;const zP=C.forwardRef(({className:t,...e},n)=>p.jsx(RP,{ref:n,className:gr("text-sm font-semibold [&+div]:text-xs",t),...e}));zP.displayName=RP.displayName;const WP=C.forwardRef(({className:t,...e},n)=>p.jsx(AP,{ref:n,className:gr("text-sm opacity-90",t),...e}));WP.displayName=AP.displayName;function HP(){const{toasts:t}=Qw();return p.jsxs(QB,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs($P,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(zP,{children:n}),r&&p.jsx(WP,{children:r})]}),s,p.jsx(BP,{})]},e)}),p.jsx(UP,{})]})}const JB="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",ZB="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",RS="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",AS="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",PS="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",kS="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",nx=()=>p.jsxs("div",{className:"footer",children:[p.jsxs("div",{className:"left",children:[p.jsx("div",{className:"logo",children:"URENO"}),p.jsxs("div",{className:"social-sites",children:[p.jsx("object",{data:RS,type:"image/svg+xml",children:p.jsx("img",{src:RS})}),p.jsx("object",{data:AS,type:"image/svg+xml",children:p.jsx("img",{src:AS})}),p.jsx("object",{data:PS,type:"image/svg+xml",children:p.jsx("img",{src:PS})}),p.jsx("object",{data:kS,type:"image/svg+xml",children:p.jsx("img",{src:kS})})]})]}),p.jsxs("div",{className:"right",children:[p.jsxs("menu",{children:[p.jsx("li",{children:"Topic"}),p.jsx("li",{children:"Page"}),p.jsx("li",{children:"Page"}),p.jsx("li",{children:"Page"})]}),p.jsxs("menu",{children:[p.jsx("li",{children:"Topic"}),p.jsx("li",{children:"Page"}),p.jsx("li",{children:"Page"}),p.jsx("li",{children:"Page"})]}),p.jsxs("menu",{children:[p.jsx("li",{children:"Topic"}),p.jsx("li",{children:"Page"}),p.jsx("li",{children:"Page"}),p.jsx("li",{children:"Page"})]})]})]}),G0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",e8=async(t,e)=>O4(tg,t,e),t8=(t,e)=>D4(tg,t,e),n8=async()=>{var n;const t=Im(),e=new Ks;try{const r=await dM(t,e),s=(n=z4(r))==null?void 0:n.isNewUser,i=r.user;return s?(console.log("New user signed up with Google:",r.user),await qw(i.uid,i.displayname||"Google User",i.email,i.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},rx=async()=>{try{return await tg.signOut(),{success:!0}}catch(t){return console.error("sign-out error: ",t),{success:!1,error:t}}};var Pv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var NS;function r8(){return NS||(NS=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(i=s(i,r(c)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var l="";for(var c in i)e.call(i,c)&&i[c]&&(l=s(l,c));return l}function s(i,l){return l?i?i+" "+l:i+l:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Pv)),Pv.exports}var s8=r8();const Bt=Kd(s8);var i8=Function.prototype.bind.call(Function.prototype.call,[].slice);function OS(t,e){return i8(t.querySelectorAll(e))}const qP=!!(typeof window<"u"&&window.document&&window.document.createElement);var Q0=!1,Y0=!1;try{var kv={get passive(){return Q0=!0},get once(){return Y0=Q0=!0}};qP&&(window.addEventListener("test",kv,kv),window.removeEventListener("test",kv,!0))}catch{}function KP(t,e,n,r){if(r&&typeof r!="boolean"&&!Y0){var s=r.once,i=r.capture,l=n;!Y0&&s&&(l=n.__once||function c(d){this.removeEventListener(e,c,i),n.call(this,d)},n.__once=l),t.addEventListener(e,l,Q0?r:i)}t.addEventListener(e,n,r)}function o8(t,e,n){const r=C.useRef(t!==void 0),[s,i]=C.useState(e),l=t!==void 0,c=r.current;return r.current=l,!l&&c&&s!==e&&i(e),[l?t:s,C.useCallback((...d)=>{const[h,...g]=d;let y=n==null?void 0:n(h,...g);return i(h),y},[n])]}function a8(t){const e=C.useRef(null);return C.useEffect(()=>{e.current=t}),e.current}function l8(){const[,t]=C.useReducer(e=>e+1,0);return t}function c8(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function Vo(t){const e=c8(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function u8(t,e,n,r=!1){const s=Vo(n);C.useEffect(()=>{const i=typeof t=="function"?t():t;return i.addEventListener(e,s,r),()=>i.removeEventListener(e,s,r)},[t])}const sg=C.createContext(null);function d8(){return C.useState(null)}var DS=Object.prototype.hasOwnProperty;function LS(t,e,n){for(n of t.keys())if(_d(n,e))return n}function _d(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&_d(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(s=r,s&&typeof s=="object"&&(s=LS(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(s=r[0],s&&typeof s=="object"&&(s=LS(e,s),!s)||!_d(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(DS.call(t,n)&&++r&&!DS.call(e,n)||!(n in e)||!_d(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function h8(){const t=C.useRef(!0),e=C.useRef(()=>t.current);return C.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function f8(t){const e=h8();return[t[0],C.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var hr="top",Xr="bottom",Jr="right",fr="left",sx="auto",mh=[hr,Xr,Jr,fr],bc="start",Ud="end",p8="clippingParents",GP="viewport",Qu="popper",m8="reference",jS=mh.reduce(function(t,e){return t.concat([e+"-"+bc,e+"-"+Ud])},[]),QP=[].concat(mh,[sx]).reduce(function(t,e){return t.concat([e,e+"-"+bc,e+"-"+Ud])},[]),g8="beforeRead",y8="read",v8="afterRead",_8="beforeMain",w8="main",x8="afterMain",E8="beforeWrite",T8="write",b8="afterWrite",S8=[g8,y8,v8,_8,w8,x8,E8,T8,b8];function ri(t){return t.split("-")[0]}function Dr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ga(t){var e=Dr(t).Element;return t instanceof e||t instanceof Element}function si(t){var e=Dr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ix(t){if(typeof ShadowRoot>"u")return!1;var e=Dr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ma=Math.max,im=Math.min,Sc=Math.round;function X0(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function YP(){return!/^((?!chrome|android).)*safari/i.test(X0())}function Cc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&si(t)&&(s=t.offsetWidth>0&&Sc(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Sc(r.height)/t.offsetHeight||1);var l=Ga(t)?Dr(t):window,c=l.visualViewport,d=!YP()&&n,h=(r.left+(d&&c?c.offsetLeft:0))/s,g=(r.top+(d&&c?c.offsetTop:0))/i,y=r.width/s,_=r.height/i;return{width:y,height:_,top:g,right:h+y,bottom:g+_,left:h,x:h,y:g}}function ox(t){var e=Cc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function XP(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ix(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qo(t){return t?(t.nodeName||"").toLowerCase():null}function Ki(t){return Dr(t).getComputedStyle(t)}function C8(t){return["table","td","th"].indexOf(Qo(t))>=0}function ra(t){return((Ga(t)?t.ownerDocument:t.document)||window.document).documentElement}function ig(t){return Qo(t)==="html"?t:t.assignedSlot||t.parentNode||(ix(t)?t.host:null)||ra(t)}function MS(t){return!si(t)||Ki(t).position==="fixed"?null:t.offsetParent}function I8(t){var e=/firefox/i.test(X0()),n=/Trident/i.test(X0());if(n&&si(t)){var r=Ki(t);if(r.position==="fixed")return null}var s=ig(t);for(ix(s)&&(s=s.host);si(s)&&["html","body"].indexOf(Qo(s))<0;){var i=Ki(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function gh(t){for(var e=Dr(t),n=MS(t);n&&C8(n)&&Ki(n).position==="static";)n=MS(n);return n&&(Qo(n)==="html"||Qo(n)==="body"&&Ki(n).position==="static")?e:n||I8(t)||e}function ax(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function wd(t,e,n){return Ma(t,im(e,n))}function R8(t,e,n){var r=wd(t,e,n);return r>n?n:r}function JP(){return{top:0,right:0,bottom:0,left:0}}function ZP(t){return Object.assign({},JP(),t)}function ek(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var A8=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,ZP(typeof e!="number"?e:ek(e,mh))};function P8(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,c=ri(n.placement),d=ax(c),h=[fr,Jr].indexOf(c)>=0,g=h?"height":"width";if(!(!i||!l)){var y=A8(s.padding,n),_=ox(i),S=d==="y"?hr:fr,T=d==="y"?Xr:Jr,E=n.rects.reference[g]+n.rects.reference[d]-l[d]-n.rects.popper[g],b=l[d]-n.rects.reference[d],A=gh(i),V=A?d==="y"?A.clientHeight||0:A.clientWidth||0:0,M=E/2-b/2,U=y[S],z=V-_[g]-y[T],q=V/2-_[g]/2+M,k=wd(U,q,z),N=d;n.modifiersData[r]=(e={},e[N]=k,e.centerOffset=k-q,e)}}function k8(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||XP(e.elements.popper,s)&&(e.elements.arrow=s))}const N8={name:"arrow",enabled:!0,phase:"main",fn:P8,effect:k8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ic(t){return t.split("-")[1]}var O8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function D8(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Sc(n*s)/s||0,y:Sc(r*s)/s||0}}function VS(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,l=t.offsets,c=t.position,d=t.gpuAcceleration,h=t.adaptive,g=t.roundOffsets,y=t.isFixed,_=l.x,S=_===void 0?0:_,T=l.y,E=T===void 0?0:T,b=typeof g=="function"?g({x:S,y:E}):{x:S,y:E};S=b.x,E=b.y;var A=l.hasOwnProperty("x"),V=l.hasOwnProperty("y"),M=fr,U=hr,z=window;if(h){var q=gh(n),k="clientHeight",N="clientWidth";if(q===Dr(n)&&(q=ra(n),Ki(q).position!=="static"&&c==="absolute"&&(k="scrollHeight",N="scrollWidth")),q=q,s===hr||(s===fr||s===Jr)&&i===Ud){U=Xr;var O=y&&q===z&&z.visualViewport?z.visualViewport.height:q[k];E-=O-r.height,E*=d?1:-1}if(s===fr||(s===hr||s===Xr)&&i===Ud){M=Jr;var I=y&&q===z&&z.visualViewport?z.visualViewport.width:q[N];S-=I-r.width,S*=d?1:-1}}var j=Object.assign({position:c},h&&O8),F=g===!0?D8({x:S,y:E},Dr(n)):{x:S,y:E};if(S=F.x,E=F.y,d){var L;return Object.assign({},j,(L={},L[U]=V?"0":"",L[M]=A?"0":"",L.transform=(z.devicePixelRatio||1)<=1?"translate("+S+"px, "+E+"px)":"translate3d("+S+"px, "+E+"px, 0)",L))}return Object.assign({},j,(e={},e[U]=V?E+"px":"",e[M]=A?S+"px":"",e.transform="",e))}function L8(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,l=i===void 0?!0:i,c=n.roundOffsets,d=c===void 0?!0:c,h={placement:ri(e.placement),variation:Ic(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,VS(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,VS(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const j8={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:L8,data:{}};var Jf={passive:!0};function M8(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,l=r.resize,c=l===void 0?!0:l,d=Dr(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&h.forEach(function(g){g.addEventListener("scroll",n.update,Jf)}),c&&d.addEventListener("resize",n.update,Jf),function(){i&&h.forEach(function(g){g.removeEventListener("scroll",n.update,Jf)}),c&&d.removeEventListener("resize",n.update,Jf)}}const V8={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M8,data:{}};var F8={left:"right",right:"left",bottom:"top",top:"bottom"};function wp(t){return t.replace(/left|right|bottom|top/g,function(e){return F8[e]})}var U8={start:"end",end:"start"};function FS(t){return t.replace(/start|end/g,function(e){return U8[e]})}function lx(t){var e=Dr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function cx(t){return Cc(ra(t)).left+lx(t).scrollLeft}function $8(t,e){var n=Dr(t),r=ra(t),s=n.visualViewport,i=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){i=s.width,l=s.height;var h=YP();(h||!h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:i,height:l,x:c+cx(t),y:d}}function B8(t){var e,n=ra(t),r=lx(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Ma(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=Ma(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+cx(t),d=-r.scrollTop;return Ki(s||n).direction==="rtl"&&(c+=Ma(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:l,x:c,y:d}}function ux(t){var e=Ki(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function tk(t){return["html","body","#document"].indexOf(Qo(t))>=0?t.ownerDocument.body:si(t)&&ux(t)?t:tk(ig(t))}function xd(t,e){var n;e===void 0&&(e=[]);var r=tk(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Dr(r),l=s?[i].concat(i.visualViewport||[],ux(r)?r:[]):r,c=e.concat(l);return s?c:c.concat(xd(ig(l)))}function J0(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function z8(t,e){var n=Cc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function US(t,e,n){return e===GP?J0($8(t,n)):Ga(e)?z8(e,n):J0(B8(ra(t)))}function W8(t){var e=xd(ig(t)),n=["absolute","fixed"].indexOf(Ki(t).position)>=0,r=n&&si(t)?gh(t):t;return Ga(r)?e.filter(function(s){return Ga(s)&&XP(s,r)&&Qo(s)!=="body"}):[]}function H8(t,e,n,r){var s=e==="clippingParents"?W8(t):[].concat(e),i=[].concat(s,[n]),l=i[0],c=i.reduce(function(d,h){var g=US(t,h,r);return d.top=Ma(g.top,d.top),d.right=im(g.right,d.right),d.bottom=im(g.bottom,d.bottom),d.left=Ma(g.left,d.left),d},US(t,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function nk(t){var e=t.reference,n=t.element,r=t.placement,s=r?ri(r):null,i=r?Ic(r):null,l=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,d;switch(s){case hr:d={x:l,y:e.y-n.height};break;case Xr:d={x:l,y:e.y+e.height};break;case Jr:d={x:e.x+e.width,y:c};break;case fr:d={x:e.x-n.width,y:c};break;default:d={x:e.x,y:e.y}}var h=s?ax(s):null;if(h!=null){var g=h==="y"?"height":"width";switch(i){case bc:d[h]=d[h]-(e[g]/2-n[g]/2);break;case Ud:d[h]=d[h]+(e[g]/2-n[g]/2);break}}return d}function $d(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,l=i===void 0?t.strategy:i,c=n.boundary,d=c===void 0?p8:c,h=n.rootBoundary,g=h===void 0?GP:h,y=n.elementContext,_=y===void 0?Qu:y,S=n.altBoundary,T=S===void 0?!1:S,E=n.padding,b=E===void 0?0:E,A=ZP(typeof b!="number"?b:ek(b,mh)),V=_===Qu?m8:Qu,M=t.rects.popper,U=t.elements[T?V:_],z=H8(Ga(U)?U:U.contextElement||ra(t.elements.popper),d,g,l),q=Cc(t.elements.reference),k=nk({reference:q,element:M,placement:s}),N=J0(Object.assign({},M,k)),O=_===Qu?N:q,I={top:z.top-O.top+A.top,bottom:O.bottom-z.bottom+A.bottom,left:z.left-O.left+A.left,right:O.right-z.right+A.right},j=t.modifiersData.offset;if(_===Qu&&j){var F=j[s];Object.keys(I).forEach(function(L){var ie=[Jr,Xr].indexOf(L)>=0?1:-1,xe=[hr,Xr].indexOf(L)>=0?"y":"x";I[L]+=F[xe]*ie})}return I}function q8(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,l=n.padding,c=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?QP:d,g=Ic(r),y=g?c?jS:jS.filter(function(T){return Ic(T)===g}):mh,_=y.filter(function(T){return h.indexOf(T)>=0});_.length===0&&(_=y);var S=_.reduce(function(T,E){return T[E]=$d(t,{placement:E,boundary:s,rootBoundary:i,padding:l})[ri(E)],T},{});return Object.keys(S).sort(function(T,E){return S[T]-S[E]})}function K8(t){if(ri(t)===sx)return[];var e=wp(t);return[FS(t),e,FS(e)]}function G8(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,l=n.altAxis,c=l===void 0?!0:l,d=n.fallbackPlacements,h=n.padding,g=n.boundary,y=n.rootBoundary,_=n.altBoundary,S=n.flipVariations,T=S===void 0?!0:S,E=n.allowedAutoPlacements,b=e.options.placement,A=ri(b),V=A===b,M=d||(V||!T?[wp(b)]:K8(b)),U=[b].concat(M).reduce(function(Re,Ae){return Re.concat(ri(Ae)===sx?q8(e,{placement:Ae,boundary:g,rootBoundary:y,padding:h,flipVariations:T,allowedAutoPlacements:E}):Ae)},[]),z=e.rects.reference,q=e.rects.popper,k=new Map,N=!0,O=U[0],I=0;I<U.length;I++){var j=U[I],F=ri(j),L=Ic(j)===bc,ie=[hr,Xr].indexOf(F)>=0,xe=ie?"width":"height",_e=$d(e,{placement:j,boundary:g,rootBoundary:y,altBoundary:_,padding:h}),Te=ie?L?Jr:fr:L?Xr:hr;z[xe]>q[xe]&&(Te=wp(Te));var se=wp(Te),de=[];if(i&&de.push(_e[F]<=0),c&&de.push(_e[Te]<=0,_e[se]<=0),de.every(function(Re){return Re})){O=j,N=!1;break}k.set(j,de)}if(N)for(var ce=T?3:1,W=function(Ae){var je=U.find(function(Ue){var Ve=k.get(Ue);if(Ve)return Ve.slice(0,Ae).every(function(Je){return Je})});if(je)return O=je,"break"},te=ce;te>0;te--){var me=W(te);if(me==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const Q8={name:"flip",enabled:!0,phase:"main",fn:G8,requiresIfExists:["offset"],data:{_skip:!1}};function $S(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function BS(t){return[hr,Jr,Xr,fr].some(function(e){return t[e]>=0})}function Y8(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,l=$d(e,{elementContext:"reference"}),c=$d(e,{altBoundary:!0}),d=$S(l,r),h=$S(c,s,i),g=BS(d),y=BS(h);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const X8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Y8};function J8(t,e,n){var r=ri(t),s=[fr,hr].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=i[0],c=i[1];return l=l||0,c=(c||0)*s,[fr,Jr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function Z8(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,l=QP.reduce(function(g,y){return g[y]=J8(y,e.rects,i),g},{}),c=l[e.placement],d=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=l}const e7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Z8};function t7(t){var e=t.state,n=t.name;e.modifiersData[n]=nk({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const n7={name:"popperOffsets",enabled:!0,phase:"read",fn:t7,data:{}};function r7(t){return t==="x"?"y":"x"}function s7(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,l=n.altAxis,c=l===void 0?!1:l,d=n.boundary,h=n.rootBoundary,g=n.altBoundary,y=n.padding,_=n.tether,S=_===void 0?!0:_,T=n.tetherOffset,E=T===void 0?0:T,b=$d(e,{boundary:d,rootBoundary:h,padding:y,altBoundary:g}),A=ri(e.placement),V=Ic(e.placement),M=!V,U=ax(A),z=r7(U),q=e.modifiersData.popperOffsets,k=e.rects.reference,N=e.rects.popper,O=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,I=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(q){if(i){var L,ie=U==="y"?hr:fr,xe=U==="y"?Xr:Jr,_e=U==="y"?"height":"width",Te=q[U],se=Te+b[ie],de=Te-b[xe],ce=S?-N[_e]/2:0,W=V===bc?k[_e]:N[_e],te=V===bc?-N[_e]:-k[_e],me=e.elements.arrow,Re=S&&me?ox(me):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:JP(),je=Ae[ie],Ue=Ae[xe],Ve=wd(0,k[_e],Re[_e]),Je=M?k[_e]/2-ce-Ve-je-I.mainAxis:W-Ve-je-I.mainAxis,Mt=M?-k[_e]/2+ce+Ve+Ue+I.mainAxis:te+Ve+Ue+I.mainAxis,Cn=e.elements.arrow&&gh(e.elements.arrow),Jn=Cn?U==="y"?Cn.clientTop||0:Cn.clientLeft||0:0,Gt=(L=j==null?void 0:j[U])!=null?L:0,yr=Te+Je-Gt-Jn,Is=Te+Mt-Gt,Rs=wd(S?im(se,yr):se,Te,S?Ma(de,Is):de);q[U]=Rs,F[U]=Rs-Te}if(c){var As,Ji=U==="x"?hr:fr,Ps=U==="x"?Xr:Jr,Qt=q[z],Oe=z==="y"?"height":"width",tt=Qt+b[Ji],dt=Qt-b[Ps],Wn=[hr,fr].indexOf(A)!==-1,Hn=(As=j==null?void 0:j[z])!=null?As:0,ot=Wn?tt:Qt-k[Oe]-N[Oe]-Hn+I.altAxis,Ze=Wn?Qt+k[Oe]+N[Oe]-Hn-I.altAxis:dt,Yt=S&&Wn?R8(ot,Qt,Ze):wd(S?ot:tt,Qt,S?Ze:dt);q[z]=Yt,F[z]=Yt-Qt}e.modifiersData[r]=F}}const i7={name:"preventOverflow",enabled:!0,phase:"main",fn:s7,requiresIfExists:["offset"]};function o7(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function a7(t){return t===Dr(t)||!si(t)?lx(t):o7(t)}function l7(t){var e=t.getBoundingClientRect(),n=Sc(e.width)/t.offsetWidth||1,r=Sc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function c7(t,e,n){n===void 0&&(n=!1);var r=si(e),s=si(e)&&l7(e),i=ra(e),l=Cc(t,s,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((Qo(e)!=="body"||ux(i))&&(c=a7(e)),si(e)?(d=Cc(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):i&&(d.x=cx(i))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function u7(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(c){if(!n.has(c)){var d=e.get(c);d&&s(d)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function d7(t){var e=u7(t);return S8.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function h7(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function f7(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var zS={placement:"bottom",modifiers:[],strategy:"absolute"};function WS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function p7(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?zS:s;return function(c,d,h){h===void 0&&(h=i);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},zS,i),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},y=[],_=!1,S={state:g,setOptions:function(A){var V=typeof A=="function"?A(g.options):A;E(),g.options=Object.assign({},i,g.options,V),g.scrollParents={reference:Ga(c)?xd(c):c.contextElement?xd(c.contextElement):[],popper:xd(d)};var M=d7(f7([].concat(r,g.options.modifiers)));return g.orderedModifiers=M.filter(function(U){return U.enabled}),T(),S.update()},forceUpdate:function(){if(!_){var A=g.elements,V=A.reference,M=A.popper;if(WS(V,M)){g.rects={reference:c7(V,gh(M),g.options.strategy==="fixed"),popper:ox(M)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(I){return g.modifiersData[I.name]=Object.assign({},I.data)});for(var U=0;U<g.orderedModifiers.length;U++){if(g.reset===!0){g.reset=!1,U=-1;continue}var z=g.orderedModifiers[U],q=z.fn,k=z.options,N=k===void 0?{}:k,O=z.name;typeof q=="function"&&(g=q({state:g,options:N,name:O,instance:S})||g)}}}},update:h7(function(){return new Promise(function(b){S.forceUpdate(),b(g)})}),destroy:function(){E(),_=!0}};if(!WS(c,d))return S;S.setOptions(h).then(function(b){!_&&h.onFirstUpdate&&h.onFirstUpdate(b)});function T(){g.orderedModifiers.forEach(function(b){var A=b.name,V=b.options,M=V===void 0?{}:V,U=b.effect;if(typeof U=="function"){var z=U({state:g,name:A,instance:S,options:M}),q=function(){};y.push(z||q)}})}function E(){y.forEach(function(b){return b()}),y=[]}return S}}const m7=p7({defaultModifiers:[X8,n7,j8,V8,e7,Q8,i7,N8]}),g7=["enabled","placement","strategy","modifiers"];function y7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const v7={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},_7={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,s=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&s==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${n.id}`:n.id)}}},w7=[];function x7(t,e,n={}){let{enabled:r=!0,placement:s="bottom",strategy:i="absolute",modifiers:l=w7}=n,c=y7(n,g7);const d=C.useRef(l),h=C.useRef(),g=C.useCallback(()=>{var b;(b=h.current)==null||b.update()},[]),y=C.useCallback(()=>{var b;(b=h.current)==null||b.forceUpdate()},[]),[_,S]=f8(C.useState({placement:s,update:g,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),T=C.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const A={},V={};Object.keys(b.elements).forEach(M=>{A[M]=b.styles[M],V[M]=b.attributes[M]}),S({state:b,styles:A,attributes:V,update:g,forceUpdate:y,placement:b.placement})}}),[g,y,S]),E=C.useMemo(()=>(_d(d.current,l)||(d.current=l),d.current),[l]);return C.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:s,strategy:i,modifiers:[...E,T,v7]})},[i,s,T,r,E]),C.useEffect(()=>{if(!(!r||t==null||e==null))return h.current=m7(t,e,Object.assign({},c,{placement:s,strategy:i,modifiers:[...E,_7,T]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,S(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),_}function HS(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function E7(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Zf(t,e,n,r){return KP(t,e,n,r),function(){E7(t,e,n,r)}}function T7(t){return t&&t.ownerDocument||document}var Nv,qS;function b7(){if(qS)return Nv;qS=1;var t=function(){};return Nv=t,Nv}var S7=b7();const C7=Kd(S7),KS=()=>{};function I7(t){return t.button===0}function R7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Ov=t=>t&&("current"in t?t.current:t),GS={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function A7(t,e=KS,{disabled:n,clickTrigger:r="click"}={}){const s=C.useRef(!1),i=C.useRef(!1),l=C.useCallback(h=>{const g=Ov(t);C7(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!g||R7(h)||!I7(h)||!!HS(g,h.target)||i.current,i.current=!1},[t]),c=Vo(h=>{const g=Ov(t);g&&HS(g,h.target)?i.current=!0:i.current=!1}),d=Vo(h=>{s.current||e(h)});C.useEffect(()=>{var h,g;if(n||t==null)return;const y=T7(Ov(t)),_=y.defaultView||window;let S=(h=_.event)!=null?h:(g=_.parent)==null?void 0:g.event,T=null;GS[r]&&(T=Zf(y,GS[r],c,!0));const E=Zf(y,r,l,!0),b=Zf(y,r,V=>{if(V===S){S=void 0;return}d(V)});let A=[];return"ontouchstart"in y.documentElement&&(A=[].slice.call(y.body.children).map(V=>Zf(V,"mousemove",KS))),()=>{T==null||T(),E(),b(),A.forEach(V=>V())}},[t,n,r,l,c,d])}function P7(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function k7(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function N7({enabled:t,enableEvents:e,placement:n,flip:r,offset:s,fixed:i,containerPadding:l,arrowElement:c,popperConfig:d={}}){var h,g,y,_,S;const T=P7(d.modifiers);return Object.assign({},d,{placement:n,enabled:t,strategy:i?"fixed":d.strategy,modifiers:k7(Object.assign({},T,{eventListeners:{enabled:e,options:(h=T.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},T.preventOverflow,{options:l?Object.assign({padding:l},(g=T.preventOverflow)==null?void 0:g.options):(y=T.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:s},(_=T.offset)==null?void 0:_.options)},arrow:Object.assign({},T.arrow,{enabled:!!c,options:Object.assign({},(S=T.arrow)==null?void 0:S.options,{element:c})}),flip:Object.assign({enabled:!!r},T.flip)}))})}const O7=["children","usePopper"];function D7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const L7=()=>{};function rk(t={}){const e=C.useContext(sg),[n,r]=d8(),s=C.useRef(!1),{flip:i,offset:l,rootCloseEvent:c,fixed:d=!1,placement:h,popperConfig:g={},enableEventListeners:y=!0,usePopper:_=!!e}=t,S=(e==null?void 0:e.show)==null?!!t.show:e.show;S&&!s.current&&(s.current=!0);const T=q=>{e==null||e.toggle(!1,q)},{placement:E,setMenu:b,menuElement:A,toggleElement:V}=e||{},M=x7(V,A,N7({placement:h||E||"bottom-start",enabled:_,enableEvents:y??S,offset:l,flip:i,fixed:d,arrowElement:n,popperConfig:g})),U=Object.assign({ref:b||L7,"aria-labelledby":V==null?void 0:V.id},M.attributes.popper,{style:M.styles.popper}),z={show:S,placement:E,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:_?M:null,arrowProps:_?Object.assign({ref:r},M.attributes.arrow,{style:M.styles.arrow}):{}};return A7(A,T,{clickTrigger:c,disabled:!S}),[U,z]}function sk(t){let{children:e,usePopper:n=!0}=t,r=D7(t,O7);const[s,i]=rk(Object.assign({},r,{usePopper:n}));return p.jsx(p.Fragment,{children:e(s,i)})}sk.displayName="DropdownMenu";const dx={prefix:String(Math.round(Math.random()*1e10)),current:0},ik=Dt.createContext(dx),j7=Dt.createContext(!1);let M7=!!(typeof window<"u"&&window.document&&window.document.createElement),Dv=new WeakMap;function V7(t=!1){let e=C.useContext(ik),n=C.useRef(null);if(n.current===null&&!t){var r,s;let i=(s=Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let l=Dv.get(i);l==null?Dv.set(i,{id:e.current,state:i.memoizedState}):i.memoizedState!==l.state&&(e.current=l.id,Dv.delete(i))}n.current=++e.current}return n.current}function F7(t){let e=C.useContext(ik);e===dx&&!M7&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=V7(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function U7(t){let e=Dt.useId(),[n]=C.useState(H7()),r=n?"react-aria":`react-aria${dx.prefix}`;return t||`${r}-${e}`}const $7=typeof Dt.useId=="function"?U7:F7;function B7(){return!1}function z7(){return!0}function W7(t){return()=>{}}function H7(){return typeof Dt.useSyncExternalStore=="function"?Dt.useSyncExternalStore(W7,B7,z7):C.useContext(j7)}const ok=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},QS=()=>{};function ak(){const t=$7(),{show:e=!1,toggle:n=QS,setToggle:r,menuElement:s}=C.useContext(sg)||{},i=C.useCallback(c=>{n(!e,c)},[e,n]),l={id:t,ref:r||QS,onClick:i,"aria-expanded":!!e};return s&&ok(s)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:n}]}function lk({children:t}){const[e,n]=ak();return p.jsx(p.Fragment,{children:t(e,n)})}lk.displayName="DropdownToggle";const Z0=C.createContext(null),YS=(t,e=null)=>t!=null?String(t):e||null,ck=C.createContext(null);ck.displayName="NavContext";const q7=["as","disabled"];function K7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G7(t){return!t||t.trim()==="#"}function hx({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:l,tabIndex:c=0,type:d}){t||(n!=null||r!=null||s!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:d||"button",disabled:e},h];const g=_=>{if((e||t==="a"&&G7(n))&&_.preventDefault(),e){_.stopPropagation();return}l==null||l(_)},y=_=>{_.key===" "&&(_.preventDefault(),g(_))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:g,onKeyDown:y},h]}const uk=C.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=K7(t,q7);const[i,{tagName:l}]=hx(Object.assign({tagName:n,disabled:r},s));return p.jsx(l,Object.assign({},s,i,{ref:e}))});uk.displayName="Button";const Q7="data-rr-ui-";function dk(t){return`${Q7}${t}`}const Y7=["eventKey","disabled","onClick","active","as"];function X7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hk({key:t,href:e,active:n,disabled:r,onClick:s}){const i=C.useContext(Z0),l=C.useContext(ck),{activeKey:c}=l||{},d=YS(t,e),h=n==null&&t!=null?YS(c)===d:n;return[{onClick:Vo(y=>{r||(s==null||s(y),i&&!y.isPropagationStopped()&&i(d,y))}),"aria-disabled":r||void 0,"aria-selected":h,[dk("dropdown-item")]:""},{isActive:h}]}const fk=C.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:s,active:i,as:l=uk}=t,c=X7(t,Y7);const[d]=hk({key:n,href:c.href,disabled:r,onClick:s,active:i});return p.jsx(l,Object.assign({},c,{ref:e},d))});fk.displayName="DropdownItem";const pk=C.createContext(qP?window:void 0);pk.Provider;function J7(){return C.useContext(pk)}function XS(){const t=l8(),e=C.useRef(null),n=C.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function yh({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:s=`* [${dk("dropdown-item")}]`,focusFirstItemOnShow:i,placement:l="bottom-start",children:c}){const d=J7(),[h,g]=o8(e,t,r),[y,_]=XS(),S=y.current,[T,E]=XS(),b=T.current,A=a8(h),V=C.useRef(null),M=C.useRef(!1),U=C.useContext(Z0),z=C.useCallback((j,F,L=F==null?void 0:F.type)=>{g(j,{originalEvent:F,source:L})},[g]),q=Vo((j,F)=>{n==null||n(j,F),z(!1,F,"select"),F.isPropagationStopped()||U==null||U(j,F)}),k=C.useMemo(()=>({toggle:z,placement:l,show:h,menuElement:S,toggleElement:b,setMenu:_,setToggle:E}),[z,l,h,S,b,_,E]);S&&A&&!h&&(M.current=S.contains(S.ownerDocument.activeElement));const N=Vo(()=>{b&&b.focus&&b.focus()}),O=Vo(()=>{const j=V.current;let F=i;if(F==null&&(F=y.current&&ok(y.current)?"keyboard":!1),F===!1||F==="keyboard"&&!/^key.+$/.test(j))return;const L=OS(y.current,s)[0];L&&L.focus&&L.focus()});C.useEffect(()=>{h?O():M.current&&(M.current=!1,N())},[h,M,N,O]),C.useEffect(()=>{V.current=null});const I=(j,F)=>{if(!y.current)return null;const L=OS(y.current,s);let ie=L.indexOf(j)+F;return ie=Math.max(0,Math.min(ie,L.length)),L[ie]};return u8(C.useCallback(()=>d.document,[d]),"keydown",j=>{var F,L;const{key:ie}=j,xe=j.target,_e=(F=y.current)==null?void 0:F.contains(xe),Te=(L=T.current)==null?void 0:L.contains(xe);if(/input|textarea/i.test(xe.tagName)&&(ie===" "||ie!=="Escape"&&_e||ie==="Escape"&&xe.type==="search")||!_e&&!Te||ie==="Tab"&&(!y.current||!h))return;V.current=j.type;const de={originalEvent:j,source:j.type};switch(ie){case"ArrowUp":{const ce=I(xe,-1);ce&&ce.focus&&ce.focus(),j.preventDefault();return}case"ArrowDown":if(j.preventDefault(),!h)g(!0,de);else{const ce=I(xe,1);ce&&ce.focus&&ce.focus()}return;case"Tab":KP(xe.ownerDocument,"keyup",ce=>{var W;(ce.key==="Tab"&&!ce.target||!((W=y.current)!=null&&W.contains(ce.target)))&&g(!1,de)},{once:!0});break;case"Escape":ie==="Escape"&&(j.preventDefault(),j.stopPropagation()),g(!1,de);break}}),p.jsx(Z0.Provider,{value:q,children:p.jsx(sg.Provider,{value:k,children:c})})}yh.displayName="Dropdown";yh.Menu=sk;yh.Toggle=lk;yh.Item=fk;function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(null,arguments)}function Z7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JS(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function ez(t){var e=tz(t,"string");return typeof e=="symbol"?e:String(e)}function tz(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nz(t,e,n){var r=C.useRef(t!==void 0),s=C.useState(e),i=s[0],l=s[1],c=t!==void 0,d=r.current;return r.current=c,!c&&d&&i!==e&&l(e),[c?t:i,C.useCallback(function(h){for(var g=arguments.length,y=new Array(g>1?g-1:0),_=1;_<g;_++)y[_-1]=arguments[_];n&&n.apply(void 0,[h].concat(y)),l(h)},[n])]}function rz(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,l=i[JS(r)],c=i[r],d=Z7(i,[JS(r),r].map(ez)),h=e[r],g=nz(c,l,t[h]),y=g[0],_=g[1];return om({},d,(s={},s[r]=y,s[h]=_,s))},t)}function sz(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function iz(t){const e=sz(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const fx=C.createContext({});fx.displayName="DropdownContext";const oz=["xxl","xl","lg","md","sm","xs"],az="xs",vh=C.createContext({prefixes:{},breakpoints:oz,minBreakpoint:az}),{Consumer:mJ,Provider:gJ}=vh;function rn(t,e){const{prefixes:n}=C.useContext(vh);return t||n[e]||e}function lz(){const{breakpoints:t}=C.useContext(vh);return t}function cz(){const{minBreakpoint:t}=C.useContext(vh);return t}function uz(){const{dir:t}=C.useContext(vh);return t==="rtl"}const mk=C.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...s},i)=>(e=rn(e,"dropdown-divider"),p.jsx(n,{ref:i,className:Bt(t,e),role:r,...s})));mk.displayName="DropdownDivider";const gk=C.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...s},i)=>(e=rn(e,"dropdown-header"),p.jsx(n,{ref:i,className:Bt(t,e),role:r,...s})));gk.displayName="DropdownHeader";const dz=["onKeyDown"];function hz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fz(t){return!t||t.trim()==="#"}const yk=C.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=hz(t,dz);const[s]=hx(Object.assign({tagName:"a"},r)),i=Vo(l=>{s.onKeyDown(l),n==null||n(l)});return fz(r.href)||r.role==="button"?p.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):p.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});yk.displayName="Anchor";const vk=C.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:s,active:i,as:l=yk,...c},d)=>{const h=rn(t,"dropdown-item"),[g,y]=hk({key:n,href:c.href,disabled:r,onClick:s,active:i});return p.jsx(l,{...c,...g,ref:d,className:Bt(e,h,y.isActive&&"active",r&&"disabled")})});vk.displayName="DropdownItem";const _k=C.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=rn(e,"dropdown-item-text"),p.jsx(n,{ref:s,className:Bt(t,e),...r})));_k.displayName="DropdownItemText";const pz=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",mz=typeof document<"u",gz=mz||pz?C.useLayoutEffect:C.useEffect,ZS=t=>!t||typeof t=="function"?t:e=>{t.current=e};function yz(t,e){const n=ZS(t),r=ZS(e);return s=>{n&&n(s),r&&r(s)}}function wk(t,e){return C.useMemo(()=>yz(t,e),[t,e])}const px=C.createContext(null);px.displayName="InputGroupContext";const xk=C.createContext(null);xk.displayName="NavbarContext";function Ek(t,e){return t}var Lv={exports:{}},jv,eC;function vz(){if(eC)return jv;eC=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jv=t,jv}var Mv,tC;function _z(){if(tC)return Mv;tC=1;var t=vz();function e(){}function n(){}return n.resetWarningCache=e,Mv=function(){function r(l,c,d,h,g,y){if(y!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},Mv}var nC;function wz(){return nC||(nC=1,Lv.exports=_z()()),Lv.exports}var xz=wz();const dc=Kd(xz);function Tk(t,e,n){const r=n?"top-end":"top-start",s=n?"top-start":"top-end",i=n?"bottom-end":"bottom-start",l=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",d=n?"right-end":"left-end",h=n?"left-start":"right-start",g=n?"left-end":"right-end";let y=t?l:i;return e==="up"?y=t?s:r:e==="end"?y=t?g:h:e==="start"?y=t?d:c:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const bk=C.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:s=!0,show:i,renderOnMount:l,as:c="div",popperConfig:d,variant:h,...g},y)=>{let _=!1;const S=C.useContext(xk),T=rn(t,"dropdown-menu"),{align:E,drop:b,isRTL:A}=C.useContext(fx);n=n||E;const V=C.useContext(px),M=[];if(n)if(typeof n=="object"){const j=Object.keys(n);if(j.length){const F=j[0],L=n[F];_=L==="start",M.push(`${T}-${F}-${L}`)}}else n==="end"&&(_=!0);const U=Tk(_,b,A),[z,{hasShown:q,popper:k,show:N,toggle:O}]=rk({flip:s,rootCloseEvent:r,show:i,usePopper:!S&&M.length===0,offset:[0,2],popperConfig:d,placement:U});if(z.ref=wk(Ek(y),z.ref),gz(()=>{N&&(k==null||k.update())},[N]),!q&&!l&&!V)return null;typeof c!="string"&&(z.show=N,z.close=()=>O==null?void 0:O(!1),z.align=n);let I=g.style;return k!=null&&k.placement&&(I={...g.style,...z.style},g["x-placement"]=k.placement),p.jsx(c,{...g,...z,style:I,...(M.length||S)&&{"data-bs-popper":"static"},className:Bt(e,T,N&&"show",_&&`${T}-end`,h&&`${T}-${h}`,...M)})});bk.displayName="DropdownMenu";const am=C.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:l,...c},d)=>{const h=rn(e,"btn"),[g,{tagName:y}]=hx({tagName:t,disabled:i,...c}),_=y;return p.jsx(_,{...g,...c,ref:d,disabled:i,className:Bt(l,h,s&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,c.href&&i&&"disabled")})});am.displayName="Button";const Sk=C.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:s=am,...i},l)=>{const c=rn(t,"dropdown-toggle"),d=C.useContext(sg);r!==void 0&&(i.bsPrefix=r);const[h]=ak();return h.ref=wk(h.ref,Ek(l)),p.jsx(s,{className:Bt(n,c,e&&`${c}-split`,(d==null?void 0:d.show)&&"show"),...h,...i})});Sk.displayName="DropdownToggle";const Ck=C.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:s,className:i,align:l="start",onSelect:c,onToggle:d,focusFirstItemOnShow:h,as:g="div",navbar:y,autoClose:_=!0,...S}=rz(t,{show:"onToggle"}),T=C.useContext(px),E=rn(n,"dropdown"),b=uz(),A=k=>_===!1?k==="click":_==="inside"?k!=="rootClose":_==="outside"?k!=="select":!0,V=iz((k,N)=>{var O;!((O=N.originalEvent)==null||(O=O.target)==null)&&O.classList.contains("dropdown-toggle")&&N.source==="mousedown"||(N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),A(N.source)&&(d==null||d(k,N)))}),U=Tk(l==="end",r,b),z=C.useMemo(()=>({align:l,drop:r,isRTL:b}),[l,r,b]),q={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return p.jsx(fx.Provider,{value:z,children:p.jsx(yh,{placement:U,show:s,onSelect:c,onToggle:V,focusFirstItemOnShow:h,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:T?S.children:p.jsx(g,{...S,ref:e,className:Bt(i,s&&"show",q[r])})})})});Ck.displayName="Dropdown";const Ii=Object.assign(Ck,{Toggle:Sk,Menu:bk,Item:vk,ItemText:_k,Divider:mk,Header:gk}),Ez=()=>{const t=zn(),{currentUser:e}=ci(),{profile:n}=C.useContext(rl),{toast:r}=Qw(),[s,i]=C.useState(!1),l=async()=>{try{i(!0),r({title:"Logging out",description:"You are being signed out..."}),await rx(),setTimeout(()=>{t("/"),i(!1)},1e3)}catch(c){console.error("Logout error:",c),r({variant:"destructive",title:"Logout failed",description:"There was an error signing you out."}),i(!1)}};return s?p.jsx(Gw,{}):p.jsxs(Ii,{children:[p.jsx(Ii.Toggle,{variant:"success",id:"dropdown-basic",children:p.jsx("img",{src:G0})}),p.jsxs(Ii.Menu,{children:[(n==null?void 0:n.role)==="contractor"?p.jsx(Ii.Item,{as:At,to:"/contractor-dashboard",children:"Dashboard"}):p.jsx(Ii.Item,{as:At,to:"/ProfileDashboard",children:"Profile"}),p.jsx(Ii.Item,{as:At,to:"/designerPage",children:"Designs"}),(e==null?void 0:e.isAdmin)&&p.jsx(Ii.Item,{as:At,to:"/Admin",children:"Admin"}),p.jsx(Ii.Item,{href:"#/action-3",children:"Action"}),p.jsx(Ii.Item,{onClick:l,children:"Log Out"})]})]})},mx=()=>{const{userLoggedIn:t}=ci()||{userLoggedIn:!1},e=zn(),[n,r]=C.useState(!1),[s,i]=C.useState(!1),l=async()=>{r(!0);const c=await rx();r(!1),c.success?(i(!0),setTimeout(()=>{e("/")},1500)):alert("Logout failed. Please try again.")};return p.jsxs("div",{className:"nav",children:[p.jsx(At,{to:"/",children:p.jsx("div",{className:"logo",children:"URENO"})}),p.jsxs("div",{className:"Right",children:[p.jsxs("menu",{children:[p.jsx("li",{children:"AI Design"}),t&&p.jsxs(p.Fragment,{children:[p.jsx(At,{to:"/messages",children:p.jsx("li",{children:"Messages"})}),p.jsx(At,{to:"/projects",children:p.jsx("li",{children:"Projects"})})]})]}),t?n?p.jsx("span",{className:"text-sm text-gray-500",children:"Logging out..."}):s?p.jsx("span",{className:"text-sm text-green-600",children:"Logged out!"}):p.jsx("button",{className:"btn login-btn",onClick:l,children:"Log Out"}):p.jsx(At,{to:"/sign-in",children:p.jsx("button",{className:"btn login-btn",children:"Log In"})}),t?p.jsx(Ez,{}):p.jsx("button",{className:"btn profile-btn",children:p.jsx("object",{data:G0,type:"image/svg+xml",children:p.jsx("img",{src:G0})})})]})]})};function Tz(){return p.jsxs(p.Fragment,{children:[p.jsx("meta",{charSet:"UTF-8"}),p.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),p.jsx("title",{children:"Ureno"}),p.jsx(mx,{}),p.jsx("div",{className:"center-logo",children:p.jsxs("div",{className:"container",children:[p.jsx("h1",{children:"URENO"}),p.jsx("p",{children:"Renovation Made Simple"}),p.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),p.jsxs("div",{className:"services",children:[p.jsx("div",{className:"our-services",children:p.jsx("p",{children:"Our Services"})}),p.jsxs("div",{className:"floor-content",children:[p.jsx("div",{className:"flooring fadeInRight",children:p.jsx("p",{children:p.jsx(At,{to:"/product-page",children:p.jsx("img",{src:JB,alt:"light oak wooden floor"})})})}),p.jsxs("div",{className:"floor-txt fadeInRight",children:[p.jsx("h3",{children:"flooring"}),p.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),p.jsxs("div",{className:"paint-content",children:[p.jsx("div",{className:"painting fadeInLeft",children:p.jsx("img",{src:ZB,alt:"blue painted walls"})}),p.jsxs("div",{className:"paint-txt fadeInLeft",children:[p.jsx("h3",{children:"paint"}),p.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),p.jsx(nx,{})]})}const bz="/Ureno_webdesign/assets/Harvest-grove-rigid-CaKY0j96.png",Sz="/Ureno_webdesign/assets/tavertine-BlkzyBiO.png",Ik=({productId:t,image:e,title:n,description:r,price:s,link:i})=>p.jsx("div",{className:"products",children:p.jsxs(At,{to:`/productDetail/${t}`,className:"container",children:[p.jsx("img",{src:e,alt:n}),p.jsx("div",{className:"prod-title",children:n}),p.jsx("p",{children:r}),p.jsx("p",{children:s})]})});Ik.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function rC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cz(...t){return e=>{let n=!1;const r=t.map(s=>{const i=rC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():rC(t[s],null)}}}}function Iz(t){const e=Az(t),n=C.forwardRef((r,s)=>{const{children:i,...l}=r,c=C.Children.toArray(i),d=c.find(kz);if(d){const h=d.props.children,g=c.map(y=>y===d?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:y);return p.jsx(e,{...l,ref:s,children:C.isValidElement(h)?C.cloneElement(h,void 0,g):null})}return p.jsx(e,{...l,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Rz=Iz("Slot");function Az(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const l=Oz(s),c=Nz(i,s.props);return s.type!==C.Fragment&&(c.ref=r?Cz(r,l):l),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pz=Symbol("radix.slottable");function kz(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pz}function Nz(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Oz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Rk=OP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),lm=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const l=r?Rz:"button";return p.jsx(l,{className:gr(Rk({variant:e,size:n,className:t})),ref:i,...s})});lm.displayName="Button";const Ak=({className:t,...e})=>p.jsx("nav",{role:"navigation","aria-label":"pagination",className:gr("mx-auto flex w-full justify-center",t),...e});Ak.displayName="Pagination";const Pk=C.forwardRef(({className:t,...e},n)=>p.jsx("ul",{ref:n,className:gr("flex flex-row items-center gap-1",t),...e}));Pk.displayName="PaginationContent";const xp=C.forwardRef(({className:t,...e},n)=>p.jsx("li",{ref:n,className:gr("",t),...e}));xp.displayName="PaginationItem";const og=({className:t,isActive:e,size:n="icon",...r})=>p.jsx("a",{"aria-current":e?"page":void 0,className:gr(Rk({variant:e?"outline":"ghost",size:n}),t),...r});og.displayName="PaginationLink";const kk=({className:t,...e})=>p.jsxs(og,{"aria-label":"Go to previous page",size:"default",className:gr("gap-1 pl-2.5",t),...e,children:[p.jsx(lB,{className:"h-4 w-4"}),p.jsx("span",{children:"Previous"})]});kk.displayName="PaginationPrevious";const Nk=({className:t,...e})=>p.jsxs(og,{"aria-label":"Go to next page",size:"default",className:gr("gap-1 pr-2.5",t),...e,children:[p.jsx("span",{children:"Next"}),p.jsx(uB,{className:"h-4 w-4"})]});Nk.displayName="PaginationNext";function Dz(){const[t,e]=C.useState(0),{userLoggedIn:n}=ci()||{userLoggedIn:!1},[r,s]=C.useState([]),[i,l]=C.useState(1),c=20,d=i*c,h=d-c,g=r.slice(h,d);return C.useEffect(()=>{(async()=>{try{const _=ah();console.log("Attempting to fetch products from Firestore...");const S=await Ys(Qs(_,"products"));console.log("Products fetched successfully:",S.size);const T=S.docs.map(E=>({id:E.id,...E.data()}));s(T)}catch(_){console.error("Error fetching products:",_),s([{id:"HarvestGrove",image:bz,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"},{id:"tavertine",image:Sz,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}])}})()},[]),C.useEffect(()=>{const y=()=>{const _=document.querySelector(".nav");_&&e(_.offsetHeight)};return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]),p.jsxs(p.Fragment,{children:[p.jsx("meta",{charSet:"UTF-8"}),p.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),p.jsx("title",{children:"URENO"}),p.jsx(mx,{}),p.jsxs("div",{className:"body",children:[p.jsxs("div",{className:`main-content ${n?"logged-in":""}`,children:[p.jsx("h1",{children:"Flooring"}),p.jsxs("div",{className:"search",children:[p.jsx("div",{className:"input",children:p.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),p.jsx("div",{className:"filter",children:"Filter"})]}),p.jsx("p",{children:"Popular"}),p.jsx("div",{className:"products",children:g.map(y=>p.jsx(Ik,{productId:y.id,image:y.image,title:y.title,description:y.description,price:y.price,link:y.link},y.id))}),p.jsx("div",{className:"flex justify-center mt-8 mb-8",children:p.jsx(Ak,{children:p.jsxs(Pk,{children:[p.jsx(xp,{children:p.jsx(kk,{onClick:()=>l(y=>Math.max(y-1,1))})}),Array.from({length:Math.ceil(r.length/c)},(y,_)=>p.jsx(xp,{children:p.jsx(og,{isActive:i===_+1,onClick:()=>l(_+1),children:_+1})},_+1)),p.jsx(xp,{children:p.jsx(Nk,{onClick:()=>l(y=>Math.min(y+1,Math.ceil(r.length/c)))})})]})})})]}),p.jsx(nx,{})]})]})}const gx={logo:t=>p.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:p.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[p.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),p.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),p.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),p.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),p.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},Lz=({className:t,...e})=>{const{userLoggedIn:n}=ci()||{userLoggedIn:!1},r=zn(),[s,i]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState(!1),{toast:g}=Qw();C.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",n),n&&r("/")},[n,r]);const y=async()=>{h(!0);try{const S=await n8();r("/")}catch(S){console.error("Google sign-in error:",S),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{h(!1),console.log("Logged in: ",n)}},_=async(S,T)=>{h(!0);try{const E=await t8(S,T);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(E){let b="Error logging in with email and password";console.log(E.code),E.code==="auth/invalid-credential"?b="Incorrect email or password. Please try again.":E.code==="auth/user-not-found"?b="No account found with this email.":E.code==="auth/invalid-email"?b="Invalid email format":E.code==="auth/too-many-requests"&&(b="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:b,variant:"destructive"})}finally{h(!1),console.log("Logged in: ",n)}};return p.jsxs(p.Fragment,{children:[p.jsx(HP,{}),p.jsx("div",{className:gr("flex flex-col items-center space-y-4 justify-center",t),...e,children:p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsx("input",{type:"email",value:s,onChange:S=>i(S.currentTarget.value),placeholder:"Email",className:"input"}),p.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"Password",className:"input"}),p.jsx(lm,{onClick:()=>_(s,l),isLoading:d,size:"sm",variant:"default",className:"w-full bg-black text-white hover:bg-gray-800",children:"Login with Email"}),p.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[p.jsx("span",{className:"flex-grow border-t border-gray-300"}),p.jsx("span",{className:"px-3",children:" Or Login with Google "}),p.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),p.jsxs(lm,{onClick:y,isLoading:d,size:"sm",variant:"default",className:"w-full bg-black text-white hover:bg-gray-800",children:[d?null:p.jsx(gx.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},jz=()=>{const t=zn();return p.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:p.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:p.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[p.jsx("div",{className:"w-full flex justify-center",children:p.jsx("button",{onClick:()=>t("/"),"aria-label":"Go to home",children:p.jsx(gx.logo,{className:"h-12 w-auto"})})}),p.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),p.jsx(Lz,{}),p.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",p.jsx(At,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),p.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",p.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",p.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},Mz=()=>{const t=zn();XU();const{userLoggedIn:e,loading:n}=ci(),[r,s]=C.useState(""),[i,l]=C.useState(""),[c,d]=C.useState(""),[h,g]=C.useState(!1),[y,_]=C.useState(!1),[S,T]=C.useState(""),[E,b]=C.useState(""),[A,V]=C.useState(""),[M,U]=C.useState(!1),[z,q]=C.useState(""),k=async O=>{if(O.preventDefault(),!M){if(q(""),U(!0),!S||!E){q("Email and password are required"),U(!1);return}if(E.length<6){q("Password must be at least 6 characters"),U(!1);return}if(E!==A){q("Passwords don't match"),U(!1);return}try{const j=(await e8(S.trim(),E.trim())).user;await l0(j,{displayName:`${r} ${i}`}),await qw(j.uid,r,i,S.trim(),c,j.displayName),t("/"),console.log(e)}catch(I){I.code==="auth/email-already-in-use"?q("An account with this email already exists."):I.code==="auth/invalid-email"?q("The email address is not valid."):q("There was a problem creating your account."),U(!1)}}},N=async()=>{_(!0);try{const O=await doSignInWithGoogle();t("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{_(!1),console.log("Logged in: ",e)}};return C.useEffect(()=>{h&&(t("/"),g(!1))},[h,t,g]),n?p.jsx("div",{children:"Loading..."}):p.jsxs(p.Fragment,{children:[e&&p.jsx(cI,{to:"/",replace:!0}),p.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:p.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[p.jsx("div",{className:"text-center mb-6",children:p.jsxs("div",{className:"mt-2",children:[p.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),p.jsx("p",{children:"Enter your information to sign up"})]})}),p.jsxs("form",{onSubmit:k,className:"space-y-4",children:[z&&p.jsx("span",{className:"text-red-600 font-bold",children:z}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-600 font-bold"}),p.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:O=>{s(O.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-600 font-bold"}),p.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:i,onChange:O=>{l(O.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-600 font-bold"}),p.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:O=>{d(O.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-600 font-bold"}),p.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:S,onChange:O=>{T(O.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-600 font-bold"}),p.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:E,onChange:O=>{b(O.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-600 font-bold"}),p.jsx("input",{disabled:M,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:A,onChange:O=>{V(O.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),z&&p.jsx("span",{className:"text-red-600 font-bold",children:z}),p.jsx("button",{type:"submit",disabled:M,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${M?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:M?"Signing Up...":"Create Account"})]}),p.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[p.jsx("span",{className:"flex-grow border-t border-gray-300"}),p.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),p.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),p.jsxs(lm,{onClick:N,isLoading:y,size:"sm",className:"w-full",children:[y?null:p.jsx(gx.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),p.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",p.jsx(At,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),p.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",p.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",p.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},Vz=()=>p.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:p.jsx("div",{className:"flex flex-col space-y-2 text-center",children:p.jsx(Mz,{})})}),On="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",Ok=()=>{const{productId:t}=Qd(),[e,n]=C.useState(null),[r,s]=C.useState(null);return C.useEffect(()=>{t&&(async()=>{try{const l=Lt(Fd,"products",t),c=await Xn(l);if(c.exists()){const d=c.data();n(d),s(d.image)}else console.error("Product not found")}catch(l){console.error("Error fetching product: ",l)}})()},[t]),e?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"main-content",children:[p.jsxs("div",{id:"left",children:[p.jsx("div",{className:"main-image",children:p.jsx("img",{src:r||e.image,alt:""})}),p.jsxs("div",{className:"thumbnails",children:[p.jsx("img",{src:e.image,alt:"",onClick:()=>s(e.image)}),p.jsx("img",{src:e.image1,alt:"",onClick:()=>s(e.image1)}),p.jsx("img",{src:e.image2,alt:"",onClick:()=>s(e.image2)}),p.jsx("img",{src:e.image3,alt:"",onClick:()=>s(e.image3)})]})]}),p.jsxs("div",{id:"right",children:[p.jsxs("div",{className:"title-section",children:[p.jsxs("div",{className:"title",children:[p.jsx("p",{id:"main",children:e.title}),p.jsx("p",{id:"sub",children:e.description})]}),p.jsxs("div",{className:"price-link",children:[p.jsx("div",{className:"title-left",children:p.jsx("p",{children:e.price})}),p.jsx("div",{className:"title-right",children:p.jsx("a",{href:"",children:"See in my room"})})]}),p.jsx("a",{href:"",children:"View specifications"})]}),p.jsxs("div",{className:"description",children:[p.jsx("p",{children:e.description}),p.jsx("p",{children:e.overview}),p.jsx("a",{href:"",children:"Product Details"}),p.jsx("a",{href:"",children:"Reviews"})]})]})]}),p.jsxs("div",{className:"secondary-content",children:[p.jsx("div",{className:"suggestedProduct",children:p.jsxs("div",{className:"container",children:[p.jsx("img",{src:On,alt:"{title}"}),p.jsxs("div",{className:"prod-title",children:["{","title","}"]}),p.jsxs("p",{children:["{","description","}"]}),p.jsxs("p",{children:["{","price","}"]})]})}),p.jsx("div",{className:"suggestedProduct",children:p.jsxs("div",{className:"container",children:[p.jsx("img",{src:On,alt:"{title}"}),p.jsxs("div",{className:"prod-title",children:["{","title","}"]}),p.jsxs("p",{children:["{","description","}"]}),p.jsxs("p",{children:["{","price","}"]})]})}),p.jsx("div",{className:"suggestedProduct",children:p.jsxs("div",{className:"container",children:[p.jsx("img",{src:On,alt:"{title}"}),p.jsxs("div",{className:"prod-title",children:["{","title","}"]}),p.jsxs("p",{children:["{","description","}"]}),p.jsxs("p",{children:["{","price","}"]})]})})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"main-content",children:[p.jsxs("div",{id:"left",children:[p.jsx("div",{className:"main-image",children:p.jsx("img",{src:On,alt:""})}),p.jsxs("div",{className:"thumbnails",children:[p.jsx("img",{src:On,alt:""}),p.jsx("img",{src:On,alt:""}),p.jsx("img",{src:On,alt:""})]})]}),p.jsxs("div",{id:"right",children:[p.jsxs("div",{className:"title-section",children:[p.jsxs("div",{className:"title",children:[p.jsx("p",{id:"main",children:"Deafult Title"}),p.jsx("p",{id:"sub",children:"Default Category"})]}),p.jsxs("div",{className:"price-link",children:[p.jsx("div",{className:"title-left",children:p.jsx("p",{children:"$"})}),p.jsx("div",{className:"title-right",children:p.jsx("a",{href:"",children:"See in my room"})})]}),p.jsx("a",{href:"",children:"View specifications"})]}),p.jsxs("div",{className:"description",children:[p.jsx("p",{children:"Default Description"}),p.jsx("a",{href:"",children:"Product Details"}),p.jsx("a",{href:"",children:"Reviews"})]})]})]}),p.jsxs("div",{className:"secondary-content",children:[p.jsx("div",{className:"suggestedProduct",children:p.jsxs("div",{className:"container",children:[p.jsx("img",{src:On,alt:"{title}"}),p.jsxs("div",{className:"prod-title",children:["{","title","}"]}),p.jsxs("p",{children:["{","description","}"]}),p.jsxs("p",{children:["{","price","}"]})]})}),p.jsx("div",{className:"suggestedProduct",children:p.jsxs("div",{className:"container",children:[p.jsx("img",{src:On,alt:"{title}"}),p.jsxs("div",{className:"prod-title",children:["{","title","}"]}),p.jsxs("p",{children:["{","description","}"]}),p.jsxs("p",{children:["{","price","}"]})]})}),p.jsx("div",{className:"suggestedProduct",children:p.jsxs("div",{className:"container",children:[p.jsx("img",{src:On,alt:"{title}"}),p.jsxs("div",{className:"prod-title",children:["{","title","}"]}),p.jsxs("p",{children:["{","description","}"]}),p.jsxs("p",{children:["{","price","}"]})]})})]})]})};Ok.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:On},alternate1:{defaultImage:On},alternate2:{defaultImage:On},suggested1:{defaultImage:On},suggested2:{defaultImage:On},suggested3:{defaultImage:On}};function Fz(){return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"product-detail-page",children:[p.jsx("meta",{charSet:"UTF-8"}),p.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),p.jsx("title",{children:"product detail"}),p.jsx(mx,{}),p.jsx(Ok,{}),p.jsx(nx,{})]})})}function Uz(t,e){return C.Children.toArray(t).some(n=>C.isValidElement(n)&&n.type===e)}function $z({as:t,bsPrefix:e,className:n,...r}){e=rn(e,"col");const s=lz(),i=cz(),l=[],c=[];return s.forEach(d=>{const h=r[d];delete r[d];let g,y,_;typeof h=="object"&&h!=null?{span:g,offset:y,order:_}=h:g=h;const S=d!==i?`-${d}`:"";g&&l.push(g===!0?`${e}${S}`:`${e}${S}-${g}`),_!=null&&c.push(`order${S}-${_}`),y!=null&&c.push(`offset${S}-${y}`)}),[{...r,className:Bt(n,...l,...c)},{as:t,bsPrefix:e,spans:l}]}const Dk=C.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:l}]=$z(t);return p.jsx(s,{...r,ref:e,className:Bt(n,!l.length&&i)})});Dk.displayName="Col";const Bz={type:dc.string,tooltip:dc.bool,as:dc.elementType},ag=C.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>p.jsx(t,{...s,ref:i,className:Bt(e,`${n}-${r?"tooltip":"feedback"}`)}));ag.displayName="Feedback";ag.propTypes=Bz;const Gi=C.createContext({}),yx=C.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:l="input",...c},d)=>{const{controlId:h}=C.useContext(Gi);return e=rn(e,"form-check-input"),p.jsx(l,{...c,ref:d,type:r,id:t||h,className:Bt(n,e,s&&"is-valid",i&&"is-invalid")})});yx.displayName="FormCheckInput";const cm=C.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=C.useContext(Gi);return t=rn(t,"form-check-label"),p.jsx("label",{...r,ref:s,htmlFor:n||i,className:Bt(e,t)})});cm.displayName="FormCheckLabel";const Lk=C.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:g,className:y,style:_,title:S="",type:T="checkbox",label:E,children:b,as:A="input",...V},M)=>{e=rn(e,"form-check"),n=rn(n,"form-switch");const{controlId:U}=C.useContext(Gi),z=C.useMemo(()=>({controlId:t||U}),[U,t]),q=!b&&E!=null&&E!==!1||Uz(b,cm),k=p.jsx(yx,{...V,type:T==="switch"?"checkbox":T,ref:M,isValid:l,isInvalid:c,disabled:i,as:A});return p.jsx(Gi.Provider,{value:z,children:p.jsx("div",{style:_,className:Bt(y,q&&e,r&&`${e}-inline`,s&&`${e}-reverse`,T==="switch"&&n),children:b||p.jsxs(p.Fragment,{children:[k,q&&p.jsx(cm,{title:S,children:E}),h&&p.jsx(ag,{type:g,tooltip:d,children:h})]})})})});Lk.displayName="FormCheck";const um=Object.assign(Lk,{Input:yx,Label:cm}),jk=C.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:l=!1,isInvalid:c=!1,plaintext:d,readOnly:h,as:g="input",...y},_)=>{const{controlId:S}=C.useContext(Gi);return t=rn(t,"form-control"),p.jsx(g,{...y,type:e,size:r,ref:_,readOnly:h,id:s||S,className:Bt(i,d?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,l&&"is-valid",c&&"is-invalid")})});jk.displayName="FormControl";const zz=Object.assign(jk,{Feedback:ag}),Mk=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=rn(e,"form-floating"),p.jsx(n,{ref:s,className:Bt(t,e),...r})));Mk.displayName="FormFloating";const vx=C.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=C.useMemo(()=>({controlId:t}),[t]);return p.jsx(Gi.Provider,{value:s,children:p.jsx(e,{...n,ref:r})})});vx.displayName="FormGroup";const Vk=C.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...l},c)=>{const{controlId:d}=C.useContext(Gi);e=rn(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const g=Bt(s,e,r&&"visually-hidden",n&&h);return i=i||d,n?p.jsx(Dk,{ref:c,as:"label",className:g,htmlFor:i,...l}):p.jsx(t,{ref:c,className:g,htmlFor:i,...l})});Vk.displayName="FormLabel";const Fk=C.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=C.useContext(Gi);return t=rn(t,"form-range"),p.jsx("input",{...r,type:"range",ref:s,className:Bt(e,t),id:n||i})});Fk.displayName="FormRange";const Uk=C.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:l,...c},d)=>{const{controlId:h}=C.useContext(Gi);return t=rn(t,"form-select"),p.jsx("select",{...c,size:n,ref:d,className:Bt(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:l||h})});Uk.displayName="FormSelect";const $k=C.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=rn(t,"form-text"),p.jsx(n,{...s,ref:i,className:Bt(e,t,r&&"text-muted")})));$k.displayName="FormText";const Bk=C.forwardRef((t,e)=>p.jsx(um,{...t,ref:e,type:"switch"}));Bk.displayName="Switch";const Wz=Object.assign(Bk,{Input:um.Input,Label:um.Label}),zk=C.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},l)=>(t=rn(t,"form-floating"),p.jsxs(vx,{ref:l,className:Bt(e,t),controlId:r,...i,children:[n,p.jsx("label",{htmlFor:r,children:s})]})));zk.displayName="FloatingLabel";const Hz={_ref:dc.any,validated:dc.bool,as:dc.elementType},_x=C.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>p.jsx(n,{...r,ref:s,className:Bt(t,e&&"was-validated")}));_x.displayName="Form";_x.propTypes=Hz;const Sr=Object.assign(_x,{Group:vx,Control:zz,Floating:Mk,Check:um,Switch:Wz,Label:Vk,Text:$k,Range:Fk,Select:Uk,FloatingLabel:zk}),qz=()=>{const t=zn(),e=async()=>{await rx(),t("/")};return p.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[p.jsx(At,{to:"/",className:"text-2xl font-bold",children:p.jsx("div",{className:"logo",children:"URENO"})}),p.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[p.jsxs(At,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[p.jsx(pB,{className:"w-5 h-5"})," Settings"]}),p.jsxs(At,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[p.jsx(oB,{className:"w-5 h-5"})," Notifications"]}),p.jsxs(At,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[p.jsx(hB,{className:"w-5 h-5"})," Log Out"]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="firebasestorage.googleapis.com",Hk="storageBucket",Kz=2*60*1e3,Gz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt extends ai{constructor(e,n,r=0){super(Vv(e),`Firebase Storage: ${n} (${Vv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($t||($t={}));function Vv(t){return"storage/"+t}function wx(){const t="An unknown error occurred, please check the error payload for server response.";return new zt($t.UNKNOWN,t)}function Qz(t){return new zt($t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Yz(t){return new zt($t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Xz(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt($t.UNAUTHENTICATED,t)}function Jz(){return new zt($t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Zz(t){return new zt($t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function eW(){return new zt($t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tW(){return new zt($t.CANCELED,"User canceled the upload/download.")}function nW(t){return new zt($t.INVALID_URL,"Invalid URL '"+t+"'.")}function rW(t){return new zt($t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sW(){return new zt($t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hk+"' property when initializing the app?")}function iW(){return new zt($t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oW(){return new zt($t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aW(t){return new zt($t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function e_(t){return new zt($t.INVALID_ARGUMENT,t)}function qk(){return new zt($t.APP_DELETED,"The Firebase app was deleted.")}function lW(t){return new zt($t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ed(t,e){return new zt($t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yu(t){throw new zt($t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(r.path==="")return r;throw rW(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h(U){U.path_=decodeURIComponent(U.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${g}/b/${s}/o${_}`,"i"),T={bucket:1,path:3},E=n===Wk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",A=new RegExp(`^https?://${E}/${s}/${b}`,"i"),M=[{regex:c,indices:d,postModify:i},{regex:S,indices:T,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let U=0;U<M.length;U++){const z=M[U],q=z.regex.exec(e);if(q){const k=q[z.indices.bucket];let N=q[z.indices.path];N||(N=""),r=new Ar(k,N),z.postModify(r);break}}if(r==null)throw nW(e);return r}}class cW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(t,e,n){let r=1,s=null,i=null,l=!1,c=0;function d(){return c===2}let h=!1;function g(...b){h||(h=!0,e.apply(null,b))}function y(b){s=setTimeout(()=>{s=null,t(S,d())},b)}function _(){i&&clearTimeout(i)}function S(b,...A){if(h){_();return}if(b){_(),g.call(null,b,...A);return}if(d()||l){_(),g.call(null,b,...A);return}r<64&&(r*=2);let M;c===1?(c=2,M=0):M=(r+Math.random())*1e3,y(M)}let T=!1;function E(b){T||(T=!0,_(),!h&&(s!==null?(b||(c=2),clearTimeout(s),y(0)):b||(c=1)))}return y(0),i=setTimeout(()=>{l=!0,E(!0)},n),E}function dW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){return t!==void 0}function fW(t){return typeof t=="object"&&!Array.isArray(t)}function xx(t){return typeof t=="string"||t instanceof String}function sC(t){return Ex()&&t instanceof Blob}function Ex(){return typeof Blob<"u"}function iC(t,e,n,r){if(r<e)throw e_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw e_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Kk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Va;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Va||(Va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,n,r,s,i,l,c,d,h,g,y,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=y,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,T)=>{this.resolve_=S,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ep(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&i.addUploadProgressListener(l),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(l),this.pendingConnection_=null;const c=i.getErrorCode()===Va.NO_ERROR,d=i.getStatus();if(!c||pW(d,this.additionalRetryCodes_)&&this.retry){const g=i.getErrorCode()===Va.ABORT;r(!1,new ep(!1,null,g));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new ep(h,i))})},n=(r,s)=>{const i=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());hW(d)?i(d):i()}catch(d){l(d)}else if(c!==null){const d=wx();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?qk():tW();l(d)}else{const d=eW();l(d)}};this.canceled_?n(!1,new ep(!1,null,!0)):this.backoffId_=uW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ep{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _W(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wW(t,e,n,r,s,i,l=!0){const c=Kk(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return vW(h,e),gW(h,n),yW(h,i),_W(h,r),new mW(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EW(...t){const e=xW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ex())return new Blob(t);throw new zt($t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t){if(typeof atob>"u")throw aW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fv{constructor(e,n){this.data=e,this.contentType=n||null}}function SW(t,e){switch(t){case Js.RAW:return new Fv(Gk(e));case Js.BASE64:case Js.BASE64URL:return new Fv(Qk(t,e));case Js.DATA_URL:return new Fv(IW(e),RW(e))}throw wx()}function Gk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,l=t.charCodeAt(++n);r=65536|(i&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function CW(t){let e;try{e=decodeURIComponent(t)}catch{throw Ed(Js.DATA_URL,"Malformed data URL.")}return Gk(e)}function Qk(t,e){switch(t){case Js.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Ed(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Js.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Ed(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bW(e)}catch(s){throw s.message.includes("polyfill")?s:Ed(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Yk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ed(Js.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=AW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function IW(t){const e=new Yk(t);return e.base64?Qk(Js.BASE64,e.rest):CW(e.rest)}function RW(t){return new Yk(t).contentType}function AW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){let r=0,s="";sC(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(sC(this.data_)){const r=this.data_,s=TW(r,e,n);return s===null?null:new Po(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Po(r,!0)}}static getBlob(...e){if(Ex()){const n=e.map(r=>r instanceof Po?r.data_:r);return new Po(EW.apply(null,n))}else{const n=e.map(l=>xx(l)?SW(Js.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[i++]=l[c]}),new Po(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){let e;try{e=JSON.parse(t)}catch{return null}return fW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Jk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t,e){return e}class Yn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||NW}}let tp=null;function OW(t){return!xx(t)||t.length<2?t:Jk(t)}function Zk(){if(tp)return tp;const t=[];t.push(new Yn("bucket")),t.push(new Yn("generation")),t.push(new Yn("metageneration")),t.push(new Yn("name","fullPath",!0));function e(i,l){return OW(l)}const n=new Yn("name");n.xform=e,t.push(n);function r(i,l){return l!==void 0?Number(l):l}const s=new Yn("size");return s.xform=r,t.push(s),t.push(new Yn("timeCreated")),t.push(new Yn("updated")),t.push(new Yn("md5Hash",null,!0)),t.push(new Yn("cacheControl",null,!0)),t.push(new Yn("contentDisposition",null,!0)),t.push(new Yn("contentEncoding",null,!0)),t.push(new Yn("contentLanguage",null,!0)),t.push(new Yn("contentType",null,!0)),t.push(new Yn("metadata","customMetadata",!0)),tp=t,tp}function DW(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Ar(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function LW(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const l=n[i];r[l.local]=l.xform(r,e[l.server])}return DW(r,t),r}function eN(t,e,n){const r=Xk(e);return r===null?null:LW(t,r,n)}function jW(t,e,n,r){const s=Xk(e);if(s===null||!xx(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const l=encodeURIComponent;return i.split(",").map(h=>{const g=t.bucket,y=t.fullPath,_="/b/"+l(g)+"/o/"+l(y),S=Tx(_,n,r),T=Kk({alt:"media",token:h});return S+T})[0]}function MW(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class tN{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){if(!t)throw wx()}function VW(t,e){function n(r,s){const i=eN(t,s,e);return nN(i!==null),i}return n}function FW(t,e){function n(r,s){const i=eN(t,s,e);return nN(i!==null),jW(i,s,t.host,t._protocol)}return n}function rN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Jz():s=Xz():n.getStatus()===402?s=Yz(t.bucket):n.getStatus()===403?s=Zz(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function UW(t){const e=rN(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Qz(t.path)),i.serverResponse=s.serverResponse,i}return n}function $W(t,e,n){const r=e.fullServerUrl(),s=Tx(r,t.host,t._protocol),i="GET",l=t.maxOperationRetryTime,c=new tN(s,i,FW(t,n),l);return c.errorHandler=UW(e),c}function BW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zW(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=BW(null,e)),r}function WW(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let M="";for(let U=0;U<2;U++)M=M+Math.random().toString().slice(2);return M}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=zW(e,r,s),g=MW(h,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,_=`\r
--`+d+"--",S=Po.getBlob(y,r,_);if(S===null)throw iW();const T={name:h.fullPath},E=Tx(i,t.host,t._protocol),b="POST",A=t.maxUploadRetryTime,V=new tN(E,b,VW(t,n),A);return V.urlParams=T,V.headers=l,V.body=S.uploadData(),V.errorHandler=rN(e),V}class HW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Yu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qW extends HW{initXhr(){this.xhr_.responseType="text"}}function sN(){return new qW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qa(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jk(this._location.path)}get storage(){return this._service}get parent(){const e=PW(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new Qa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lW(e)}}function KW(t,e,n){t._throwIfRoot("uploadBytes");const r=WW(t.storage,t._location,Zk(),new Po(e,!0),n);return t.storage.makeRequestWithTokens(r,sN).then(s=>({metadata:s,ref:t}))}function GW(t){t._throwIfRoot("getDownloadURL");const e=$W(t.storage,t._location,Zk());return t.storage.makeRequestWithTokens(e,sN).then(n=>{if(n===null)throw oW();return n})}function QW(t,e){const n=kW(t._location.path,e),r=new Ar(t._location.bucket,n);return new Qa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){return/^[A-Za-z]+:\/\//.test(t)}function XW(t,e){return new Qa(t,e)}function iN(t,e){if(t instanceof bx){const n=t;if(n._bucket==null)throw sW();const r=new Qa(n,n._bucket);return e!=null?iN(r,e):r}else return e!==void 0?QW(t,e):t}function JW(t,e){if(e&&YW(e)){if(t instanceof bx)return XW(t,e);throw e_("To use ref(service, url), the first argument must be a Storage instance.")}else return iN(t,e)}function oC(t,e){const n=e==null?void 0:e[Hk];return n==null?null:Ar.makeFromBucketSpec(n,t)}function ZW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:I_(s,t.app.options.projectId))}class bx{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Wk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kz,this._maxUploadRetryTime=Gz,this._requests=new Set,s!=null?this._bucket=Ar.makeFromBucketSpec(s,this._host):this._bucket=oC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=oC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qa(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new cW(qk());{const l=wW(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const aC="@firebase/storage",lC="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="storage";function eH(t,e,n){return t=vt(t),KW(t,e,n)}function tH(t){return t=vt(t),GW(t)}function nH(t,e){return t=vt(t),JW(t,e)}function rH(t=Em(),e){t=vt(t);const r=Jd(t,oN).getImmediate({identifier:e}),s=S_("storage");return s&&sH(r,...s),r}function sH(t,e,n,r={}){ZW(t,e,n,r)}function iH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new bx(n,r,s,e,Xo)}function oH(){Uo(new Fi(oN,iH,"PUBLIC").setMultipleInstances(!0)),Kr(aC,lC,""),Kr(aC,lC,"esm2017")}oH();function aH(){const{user:t,profile:e}=ph(),n=zn(),[r,s]=C.useState({displayName:"",email:"",phone:"",profilePicture:null});if(C.useEffect(()=>{e&&s({displayName:t.displayName||"",email:t.email||"",phone:e.phone||"",profilePicture:null})},[e,t]),!t||!e)return p.jsx("p",{children:"Loading profile data..."});const i=async l=>{l.preventDefault();const c=Im(),d=ah(),h=rH(),g=c.currentUser;if(!g)return;const y={};try{if(r.displayName&&r.displayName!==g.displayName&&(await l0(g,{displayName:r.displayName}),y.displayName=r.displayName),r.email&&r.email!==g.email&&(await j4(g,r.email),y.email=r.email),r.phone&&(y.phone=r.phone),r.profilePicture){if(!["image/jpeg","image/png"].includes(r.profilePicture.type)){alert("Please upload a JPEG or PNG image.");return}const _=`${g.uid}_${Date.now()}_${r.profilePicture.name}`,S=nH(h,`profilePictures/${_}`),E={contentType:r.profilePicture.type||"application/octet-stream",customMetadata:{uploadedBy:g.uid}};await eH(S,r.profilePicture,E);const b=await tH(S);await l0(g,{photoURL:b}),y.photoURL=b}if(Object.keys(y).length>0){const _=Lt(d,"users",g.uid);await vs(_,y)}alert("profile updated succesfully"),n(-1)}catch(_){console.error("Error updating profile:",_),alert("Failed to update profile. Check the console for details.")}};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Edit Profile"}),p.jsxs(Sr,{children:[p.jsxs(Sr.Group,{controlId:"displayName",className:"mb-3",children:[p.jsx(Sr.Label,{children:"Display Name"}),p.jsx(Sr.Control,{type:"text",value:r.displayName,onChange:l=>s({...r,displayName:l.target.value})})]}),p.jsxs(Sr.Group,{controlId:"email",className:"mb-3",children:[p.jsx(Sr.Label,{children:"email"}),p.jsx(Sr.Control,{type:"email",value:r.email,onChange:l=>s({...r,email:l.target.value})})]}),p.jsxs(Sr.Group,{controlId:"phone",className:"mb-3",children:[p.jsx(Sr.Label,{children:"Phone Number"}),p.jsx(Sr.Control,{type:"text",value:r.phone,onChange:l=>s({...r,phone:l.target.value})})]}),p.jsxs(Sr.Group,{controlId:"profilePicture",className:"mb-3",children:[p.jsx(Sr.Label,{children:"Profile Picture"}),p.jsx(Sr.Control,{type:"file",onChange:l=>s({...r,profilePicture:l.target.files[0]})})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(am,{variant:"primary",onClick:i,type:"submit",children:"Save Changes"}),p.jsx(am,{variant:"secondary",onClick:()=>n("/ProfileDashboard"),children:"Cancel"})]})]})]})})}function lH(){const{currentUser:t}=ci(),[e,n]=C.useState([]),[r,s]=C.useState(!0);return C.useEffect(()=>{(async()=>{if(!t)return;const l=Qs(Pt,"savedMaterials"),c=Oi(l,lr("userId","==",t.uid));try{const h=(await Ys(c)).docs.map(g=>({id:g.id,...g.data()}));n(h)}catch(d){console.error("Error fetching saved materials:",d)}finally{s(!1)}})()},[t]),r?p.jsx("div",{children:"Loading saved materials..."}):p.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(At,{to:"/ProfileDashboard",className:"text-blue-500 text-3xl font-bold hover:scale-110 hover:text-blue-700 transition-all duration-200 flex items-center justify-center",children:"<"}),p.jsx("h1",{className:"text-2xl font-bold",children:"Saved Items"})]}),e.length===0?p.jsx("p",{className:"text-gray-500",children:"You don't have any saved materials yet."}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>p.jsxs("div",{className:"border p-4 rounded shadow",children:[i.materialImageURL&&p.jsx("img",{src:i.materialImageURL,alt:i.materialName,className:"w-full h-32 object-cover rounded mb-2"}),p.jsx("h2",{className:"text-xl font-semibold",children:i.materialName}),p.jsx("p",{className:"text-gray-600",children:i.materialType})]},i.id))})]})}const cH="_loginWrapper_1063v_3",uH="_container_1063v_11",dH="_form_1063v_32",hH="_formBox_1063v_34",fH="_active_1063v_49",pH="_register_1063v_51",mH="_inputBox_1063v_54",gH="_forgotLink_1063v_84",yH="_btn_1063v_90",vH="_socialIcons_1063v_103",_H="_toggleBox_1063v_118",wH="_togglePanel_1063v_138",xH="_toggleLeft_1063v_152",EH="_toggleRight_1063v_161",lt={loginWrapper:cH,container:uH,form:dH,formBox:hH,active:fH,register:pH,inputBox:mH,forgotLink:gH,btn:yH,socialIcons:vH,toggleBox:_H,togglePanel:wH,toggleLeft:xH,toggleRight:EH},TH=()=>{const[t,e]=C.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)};return p.jsx("div",{className:lt.loginWrapper,children:p.jsxs("div",{className:`${lt.container} ${t?lt.active:""}`,children:[p.jsx("div",{className:`${lt.formBox} ${lt.login}`,children:p.jsxs("form",{className:lt.form,action:"#",children:[p.jsx("h1",{children:"Login"}),p.jsxs("div",{className:lt.inputBox,children:[p.jsx("input",{type:"text",placeholder:"Email",required:!0}),p.jsx("i",{className:"bx bxs-user"})]}),p.jsxs("div",{className:lt.inputBox,children:[p.jsx("input",{type:"password",placeholder:"Password",required:!0}),p.jsx("i",{className:"bx bxs-lock-alt"})]}),p.jsx("div",{className:lt.forgotLink,children:p.jsx("a",{href:"#",children:"Forgot Password?"})}),p.jsx("button",{type:"submit",className:lt.btn,children:"Login"}),p.jsx("p",{children:"or login with social platforms"}),p.jsxs("div",{className:lt.socialIcons,children:[p.jsx("a",{href:"#",children:p.jsx("i",{className:"bx bxl-google"})}),p.jsx("a",{href:"#",children:p.jsx("i",{className:"bx bxl-facebook"})}),p.jsx("a",{href:"#",children:p.jsx("i",{className:"bx bxl-github"})}),p.jsx("a",{href:"#",children:p.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),p.jsx("div",{className:`${lt.formBox} ${lt.register}`,children:p.jsxs("form",{className:lt.form,action:"#",children:[p.jsx("h1",{children:"Registration"}),p.jsxs("div",{className:lt.inputBox,children:[p.jsx("input",{type:"text",placeholder:"First Name",required:!0}),p.jsx("i",{className:"bx bxs-user"})]}),p.jsxs("div",{className:lt.inputBox,children:[p.jsx("input",{type:"text",placeholder:"Last Name",required:!0}),p.jsx("i",{className:"bx bxs-user"})]}),p.jsxs("div",{className:lt.inputBox,children:[p.jsx("input",{type:"email",placeholder:"Email",required:!0}),p.jsx("i",{className:"bx bxs-envelope"})]}),p.jsxs("div",{className:lt.inputBox,children:[p.jsx("input",{type:"password",placeholder:"Password",required:!0}),p.jsx("i",{className:"bx bxs-lock-alt"})]}),p.jsxs("div",{className:lt.inputBox,children:[p.jsx("input",{type:"password",placeholder:"Confirm Password",required:!0}),p.jsx("i",{className:"bx bxs-lock-alt"})]}),p.jsx("button",{type:"submit",className:lt.btn,children:"Register"}),p.jsx("p",{children:"or register with social platforms"}),p.jsxs("div",{className:lt.socialIcons,children:[p.jsx("a",{href:"#",children:p.jsx("i",{className:"bx bxl-google"})}),p.jsx("a",{href:"#",children:p.jsx("i",{className:"bx bxl-facebook"})}),p.jsx("a",{href:"#",children:p.jsx("i",{className:"bx bxl-github"})}),p.jsx("a",{href:"#",children:p.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),p.jsxs("div",{className:lt.toggleBox,children:[p.jsxs("div",{className:`${lt.togglePanel} ${lt.toggleLeft}`,children:[p.jsx("h1",{children:"Hello, Welcome!"}),p.jsx("p",{children:"Don't have an account?"}),p.jsx("button",{className:lt.btn,onClick:n,children:"Register"})]}),p.jsxs("div",{className:`${lt.togglePanel} ${lt.toggleRight}`,children:[p.jsx("h1",{children:"Welcome Back!"}),p.jsx("p",{children:"Already have an account?"}),p.jsx("button",{className:lt.btn,onClick:r,children:"Login"})]})]})]})})},bH=()=>{const{user:t}=C.useContext(rl),e=zn(),n=async r=>{if(t!=null&&t.uid)try{await vs(Lt(Fd,"users",t.uid),{role:r,...r==="contractor"&&{rating:0,reviewCount:0}}),e(r==="contractor"?"/contractor-dashboard":"/")}catch(s){console.error("Failed to update role:",s)}};return p.jsxs("div",{className:"flex flex-col items-center justify-center h-screen px-4 text-center",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Are you a contractor or homeowner?"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx("button",{onClick:()=>n("contractor"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded",children:"I'm a Contractor"}),p.jsx("button",{onClick:()=>n("customer"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded",children:"I'm a Homeowner"})]})]})},SH=()=>{const{projectId:t}=Qd(),{currentUser:e}=ci(),n=zn(),[r,s]=C.useState(null),[i,l]=C.useState(!0);C.useEffect(()=>{(async()=>{if(!e)return;const h=Lt(Pt,"projects",t),g=await Xn(h);g.exists()&&s({id:g.id,...g.data()}),l(!1)})()},[e,t]);const c=async d=>{d.preventDefault();const h=Lt(Pt,"projects",t);await vs(h,{title:r.title,description:r.description}),n("/projects")};return i?p.jsx("div",{children:"Loading..."}):r?p.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Project"}),p.jsxs("form",{onSubmit:c,className:"flex flex-col gap-4",children:[p.jsx("input",{type:"text",value:r.title,onChange:d=>s(h=>({...h,title:d.target.value})),placeholder:"Project Title",className:"border p-2 rounded"}),p.jsx("textarea",{value:r.description,onChange:d=>s(h=>({...h,description:d.target.value})),placeholder:"Project Description",className:"border p-2 rounded"}),p.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Update Project"})]})]}):p.jsx("div",{children:"Project not found"})},CH=()=>{const{profile:t,user:e}=ph(),n=zn(),[r,s]=C.useState([]),[i,l]=C.useState(!0);if(C.useEffect(()=>{(async()=>{try{if(!t||!e||t.role!=="contractor"){l(!1);return}console.log("Fetching projects for contractor:",e.uid);const g=Oi(Qs(Pt,"projects"),lr("status","==","submitted")),y=Oi(Qs(Pt,"projects"),lr("status","==","inquiry")),_=Oi(Qs(Pt,"projects"),lr("status","==","in progress"),lr("contractorId","==",e.uid)),S=Oi(Qs(Pt,"projects"),lr("status","==","pending_approval"),lr("requestedBy","array-contains",e.uid)),[T,E,b,A]=await Promise.all([Ys(g),Ys(y),Ys(_),Ys(S)]),V=T.docs.map(k=>({id:k.id,...k.data()})),M=E.docs.map(k=>({id:k.id,...k.data()})),U=b.docs.map(k=>({id:k.id,...k.data()})),z=A.docs.map(k=>({id:k.id,...k.data()})),q=[...V,...M,...U,...z];s(q)}catch(g){console.error("Error fetching projects:",g.message),s([])}finally{l(!1)}})()},[t,e]),i)return p.jsx("div",{children:"Loading..."});const c=r.filter(h=>h.status==="in progress"&&h.contractorId===e.uid),d=r.filter(h=>!(h.status==="in progress"&&h.contractorId===e.uid));return p.jsxs("div",{className:"p-4 max-w-4xl mx-auto mt-20",children:[p.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:p.jsx("div",{className:"logo cursor-pointer",onClick:()=>n(-1),children:" return "})}),c.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Accepted Projects"}),p.jsx("div",{className:"mb-8",children:p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:c.map(h=>{var g,y,_;return p.jsxs("div",{className:"border p-4 rounded shadow relative bg-green-50",children:[p.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:"In Progress"}),p.jsx("h2",{className:"text-xl font-semibold mb-2",children:h.title}),p.jsx("p",{className:"text-gray-600 mb-1",children:h.description}),p.jsxs("p",{className:"text-sm",children:["Material: ",(g=h.flooringOption)==null?void 0:g.title]}),p.jsxs("p",{className:"text-sm",children:["Area: ",(y=h.roomDimensions)==null?void 0:y.length," ft x ",(_=h.roomDimensions)==null?void 0:_.width," ft"]}),p.jsx("button",{className:"mt-3 px-4 py-2 bg-green-600 text-white rounded",onClick:()=>n(`/projects/view/${h.id}`),children:"View Project"})]},h.id)})})})]}),p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Available Projects"}),d.length===0?p.jsx("p",{children:"No Submitted projects found."}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(h=>{var g,y,_,S,T,E,b;return p.jsxs("div",{className:"border p-4 rounded shadow relative",children:[p.jsx("div",{className:`absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded ${h.status==="submitted"?"bg-blue-100 text-blue-800":h.status==="inquiry"?"bg-yellow-100 text-yellow-800":h.status==="in progress"?"bg-green-100 text-green-800":h.status==="pending_approval"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:h.status==="submitted"?"New":h.status==="inquiry"?"Inquired":h.status==="in progress"?"In Progress":h.status==="pending_approval"?"Pending Approval":h.status}),p.jsx("h2",{className:"text-xl font-semibold mb-2",children:h.title}),p.jsx("p",{className:"text-gray-600 mb-1",children:h.description}),p.jsxs("p",{className:"text-sm",children:["Material: ",(g=h.flooringOption)==null?void 0:g.title]}),p.jsxs("p",{className:"text-sm",children:["Area: ",(y=h.roomDimensions)==null?void 0:y.length," ft x ",(_=h.roomDimensions)==null?void 0:_.width," ft"]}),p.jsx("button",{className:`mt-3 px-4 py-2 text-white rounded ${h.status==="pending_approval"&&((S=h.requestedBy)!=null&&S.includes(e.uid))?"bg-orange-500":h.status==="inquiry"&&((T=h.inquiredBy)!=null&&T.includes(e.uid))?"bg-yellow-500":"bg-blue-600"}`,onClick:()=>n(`/projects/view/${h.id}`),children:h.status==="pending_approval"&&((E=h.requestedBy)!=null&&E.includes(e.uid))?"Awaiting Customer Approval":h.status==="inquiry"&&((b=h.inquiredBy)!=null&&b.includes(e.uid))?"View Inquiry":h.status==="pending homeowner approval"&&h.contractorId===e.uid?"Pending Approval":"View Project"})]},h.id)})})]})},IH="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png";function Ya(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function RH(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AH(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var PH=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AH(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=RH(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Nn="-ms-",dm="-moz-",nt="-webkit-",aN="comm",Sx="rule",Cx="decl",kH="@import",lN="@keyframes",NH="@layer",OH=Math.abs,lg=String.fromCharCode,DH=Object.assign;function LH(t,e){return En(t,0)^45?(((e<<2^En(t,0))<<2^En(t,1))<<2^En(t,2))<<2^En(t,3):0}function cN(t){return t.trim()}function jH(t,e){return(t=e.exec(t))?t[0]:t}function rt(t,e,n){return t.replace(e,n)}function t_(t,e){return t.indexOf(e)}function En(t,e){return t.charCodeAt(e)|0}function Bd(t,e,n){return t.slice(e,n)}function Hs(t){return t.length}function Ix(t){return t.length}function np(t,e){return e.push(t),t}function MH(t,e){return t.map(e).join("")}var cg=1,Rc=1,uN=0,mr=0,en=0,qc="";function ug(t,e,n,r,s,i,l){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:cg,column:Rc,length:l,return:""}}function Xu(t,e){return DH(ug("",null,null,"",null,null,0),t,{length:-t.length},e)}function VH(){return en}function FH(){return en=mr>0?En(qc,--mr):0,Rc--,en===10&&(Rc=1,cg--),en}function kr(){return en=mr<uN?En(qc,mr++):0,Rc++,en===10&&(Rc=1,cg++),en}function ii(){return En(qc,mr)}function Ep(){return mr}function _h(t,e){return Bd(qc,t,e)}function zd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dN(t){return cg=Rc=1,uN=Hs(qc=t),mr=0,[]}function hN(t){return qc="",t}function Tp(t){return cN(_h(mr-1,n_(t===91?t+2:t===40?t+1:t)))}function UH(t){for(;(en=ii())&&en<33;)kr();return zd(t)>2||zd(en)>3?"":" "}function $H(t,e){for(;--e&&kr()&&!(en<48||en>102||en>57&&en<65||en>70&&en<97););return _h(t,Ep()+(e<6&&ii()==32&&kr()==32))}function n_(t){for(;kr();)switch(en){case t:return mr;case 34:case 39:t!==34&&t!==39&&n_(en);break;case 40:t===41&&n_(t);break;case 92:kr();break}return mr}function BH(t,e){for(;kr()&&t+en!==57;)if(t+en===84&&ii()===47)break;return"/*"+_h(e,mr-1)+"*"+lg(t===47?t:kr())}function zH(t){for(;!zd(ii());)kr();return _h(t,mr)}function WH(t){return hN(bp("",null,null,null,[""],t=dN(t),0,[0],t))}function bp(t,e,n,r,s,i,l,c,d){for(var h=0,g=0,y=l,_=0,S=0,T=0,E=1,b=1,A=1,V=0,M="",U=s,z=i,q=r,k=M;b;)switch(T=V,V=kr()){case 40:if(T!=108&&En(k,y-1)==58){t_(k+=rt(Tp(V),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:k+=Tp(V);break;case 9:case 10:case 13:case 32:k+=UH(T);break;case 92:k+=$H(Ep()-1,7);continue;case 47:switch(ii()){case 42:case 47:np(HH(BH(kr(),Ep()),e,n),d);break;default:k+="/"}break;case 123*E:c[h++]=Hs(k)*A;case 125*E:case 59:case 0:switch(V){case 0:case 125:b=0;case 59+g:A==-1&&(k=rt(k,/\f/g,"")),S>0&&Hs(k)-y&&np(S>32?uC(k+";",r,n,y-1):uC(rt(k," ","")+";",r,n,y-2),d);break;case 59:k+=";";default:if(np(q=cC(k,e,n,h,g,s,c,M,U=[],z=[],y),i),V===123)if(g===0)bp(k,e,q,q,U,i,y,c,z);else switch(_===99&&En(k,3)===110?100:_){case 100:case 108:case 109:case 115:bp(t,q,q,r&&np(cC(t,q,q,0,0,s,c,M,s,U=[],y),z),s,z,y,c,r?U:z);break;default:bp(k,q,q,q,[""],z,0,c,z)}}h=g=S=0,E=A=1,M=k="",y=l;break;case 58:y=1+Hs(k),S=T;default:if(E<1){if(V==123)--E;else if(V==125&&E++==0&&FH()==125)continue}switch(k+=lg(V),V*E){case 38:A=g>0?1:(k+="\f",-1);break;case 44:c[h++]=(Hs(k)-1)*A,A=1;break;case 64:ii()===45&&(k+=Tp(kr())),_=ii(),g=y=Hs(M=k+=zH(Ep())),V++;break;case 45:T===45&&Hs(k)==2&&(E=0)}}return i}function cC(t,e,n,r,s,i,l,c,d,h,g){for(var y=s-1,_=s===0?i:[""],S=Ix(_),T=0,E=0,b=0;T<r;++T)for(var A=0,V=Bd(t,y+1,y=OH(E=l[T])),M=t;A<S;++A)(M=cN(E>0?_[A]+" "+V:rt(V,/&\f/g,_[A])))&&(d[b++]=M);return ug(t,e,n,s===0?Sx:c,d,h,g)}function HH(t,e,n){return ug(t,e,n,aN,lg(VH()),Bd(t,2,-2),0)}function uC(t,e,n,r){return ug(t,e,n,Cx,Bd(t,0,r),Bd(t,r+1,-1),r)}function hc(t,e){for(var n="",r=Ix(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function qH(t,e,n,r){switch(t.type){case NH:if(t.children.length)break;case kH:case Cx:return t.return=t.return||t.value;case aN:return"";case lN:return t.return=t.value+"{"+hc(t.children,r)+"}";case Sx:t.value=t.props.join(",")}return Hs(n=hc(t.children,r))?t.return=t.value+"{"+n+"}":""}function KH(t){var e=Ix(t);return function(n,r,s,i){for(var l="",c=0;c<e;c++)l+=t[c](n,r,s,i)||"";return l}}function GH(t){return function(e){e.root||(e=e.return)&&t(e)}}function fN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var QH=function(e,n,r){for(var s=0,i=0;s=i,i=ii(),s===38&&i===12&&(n[r]=1),!zd(i);)kr();return _h(e,mr)},YH=function(e,n){var r=-1,s=44;do switch(zd(s)){case 0:s===38&&ii()===12&&(n[r]=1),e[r]+=QH(mr-1,n,r);break;case 2:e[r]+=Tp(s);break;case 4:if(s===44){e[++r]=ii()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=lg(s)}while(s=kr());return e},XH=function(e,n){return hN(YH(dN(e),n))},dC=new WeakMap,JH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!dC.get(r))&&!s){dC.set(e,!0);for(var i=[],l=XH(n,i),c=r.props,d=0,h=0;d<l.length;d++)for(var g=0;g<c.length;g++,h++)e.props[h]=i[d]?l[d].replace(/&\f/g,c[g]):c[g]+" "+l[d]}}},ZH=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pN(t,e){switch(LH(t,e)){case 5103:return nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return nt+t+dm+t+Nn+t+t;case 6828:case 4268:return nt+t+Nn+t+t;case 6165:return nt+t+Nn+"flex-"+t+t;case 5187:return nt+t+rt(t,/(\w+).+(:[^]+)/,nt+"box-$1$2"+Nn+"flex-$1$2")+t;case 5443:return nt+t+Nn+"flex-item-"+rt(t,/flex-|-self/,"")+t;case 4675:return nt+t+Nn+"flex-line-pack"+rt(t,/align-content|flex-|-self/,"")+t;case 5548:return nt+t+Nn+rt(t,"shrink","negative")+t;case 5292:return nt+t+Nn+rt(t,"basis","preferred-size")+t;case 6060:return nt+"box-"+rt(t,"-grow","")+nt+t+Nn+rt(t,"grow","positive")+t;case 4554:return nt+rt(t,/([^-])(transform)/g,"$1"+nt+"$2")+t;case 6187:return rt(rt(rt(t,/(zoom-|grab)/,nt+"$1"),/(image-set)/,nt+"$1"),t,"")+t;case 5495:case 3959:return rt(t,/(image-set\([^]*)/,nt+"$1$`$1");case 4968:return rt(rt(t,/(.+:)(flex-)?(.*)/,nt+"box-pack:$3"+Nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nt+t+t;case 4095:case 3583:case 4068:case 2532:return rt(t,/(.+)-inline(.+)/,nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hs(t)-1-e>6)switch(En(t,e+1)){case 109:if(En(t,e+4)!==45)break;case 102:return rt(t,/(.+:)(.+)-([^]+)/,"$1"+nt+"$2-$3$1"+dm+(En(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~t_(t,"stretch")?pN(rt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(En(t,e+1)!==115)break;case 6444:switch(En(t,Hs(t)-3-(~t_(t,"!important")&&10))){case 107:return rt(t,":",":"+nt)+t;case 101:return rt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nt+(En(t,14)===45?"inline-":"")+"box$3$1"+nt+"$2$3$1"+Nn+"$2box$3")+t}break;case 5936:switch(En(t,e+11)){case 114:return nt+t+Nn+rt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return nt+t+Nn+rt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return nt+t+Nn+rt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return nt+t+Nn+t+t}return t}var eq=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Cx:e.return=pN(e.value,e.length);break;case lN:return hc([Xu(e,{value:rt(e.value,"@","@"+nt)})],s);case Sx:if(e.length)return MH(e.props,function(i){switch(jH(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hc([Xu(e,{props:[rt(i,/:(read-\w+)/,":"+dm+"$1")]})],s);case"::placeholder":return hc([Xu(e,{props:[rt(i,/:(plac\w+)/,":"+nt+"input-$1")]}),Xu(e,{props:[rt(i,/:(plac\w+)/,":"+dm+"$1")]}),Xu(e,{props:[rt(i,/:(plac\w+)/,Nn+"input-$1")]})],s)}return""})}},tq=[eq],nq=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var b=E.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var s=e.stylisPlugins||tq,i={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var b=E.getAttribute("data-emotion").split(" "),A=1;A<b.length;A++)i[b[A]]=!0;c.push(E)});var d,h=[JH,ZH];{var g,y=[qH,GH(function(E){g.insert(E)})],_=KH(h.concat(s,y)),S=function(b){return hc(WH(b),_)};d=function(b,A,V,M){g=V,S(b?b+"{"+A.styles+"}":A.styles),M&&(T.inserted[A.name]=!0)}}var T={key:n,sheet:new PH({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:d};return T.sheet.hydrate(c),T},rq=!0;function sq(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var mN=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||rq===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},iq=function(e,n,r){mN(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function oq(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lq=/[A-Z]|^ms/g,cq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gN=function(e){return e.charCodeAt(1)===45},hC=function(e){return e!=null&&typeof e!="boolean"},Uv=fN(function(t){return gN(t)?t:t.replace(lq,"-$&").toLowerCase()}),fC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(cq,function(r,s,i){return qs={name:s,styles:i,next:qs},s})}return aq[e]!==1&&!gN(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wd(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return qs={name:s.name,styles:s.styles,next:qs},s.name;var i=n;if(i.styles!==void 0){var l=i.next;if(l!==void 0)for(;l!==void 0;)qs={name:l.name,styles:l.styles,next:qs},l=l.next;var c=i.styles+";";return c}return uq(t,e,n)}case"function":{if(t!==void 0){var d=qs,h=n(t);return qs=d,Wd(t,e,h)}break}}var g=n;if(e==null)return g;var y=e[g];return y!==void 0?y:g}function uq(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Wd(t,e,n[s])+";";else for(var i in n){var l=n[i];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?r+=i+"{"+e[c]+"}":hC(c)&&(r+=Uv(i)+":"+fC(i,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)hC(l[d])&&(r+=Uv(i)+":"+fC(i,l[d])+";");else{var h=Wd(t,e,l);switch(i){case"animation":case"animationName":{r+=Uv(i)+":"+h+";";break}default:r+=i+"{"+h+"}"}}}return r}var pC=/label:\s*([^\s;{]+)\s*(;|$)/g,qs;function yN(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";qs=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Wd(n,e,i);else{var l=i;s+=l[0]}for(var c=1;c<t.length;c++)if(s+=Wd(n,e,t[c]),r){var d=i;s+=d[c]}pC.lastIndex=0;for(var h="",g;(g=pC.exec(s))!==null;)h+="-"+g[1];var y=oq(s)+h;return{name:y,styles:s,next:qs}}var dq=function(e){return e()},hq=Yv.useInsertionEffect?Yv.useInsertionEffect:!1,fq=hq||dq,vN=C.createContext(typeof HTMLElement<"u"?nq({key:"css"}):null);vN.Provider;var pq=function(e){return C.forwardRef(function(n,r){var s=C.useContext(vN);return e(n,s,r)})},_N=C.createContext({}),mq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gq=fN(function(t){return mq.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),yq=gq,vq=function(e){return e!=="theme"},mC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?yq:vq},gC=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(l){return e.__emotion_forwardProp(l)&&i(l)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},_q=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return mN(n,r,s),fq(function(){return iq(n,r,s)}),null},wq=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,l;n!==void 0&&(i=n.label,l=n.target);var c=gC(e,n,r),d=c||mC(s),h=!d("as");return function(){var g=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&y.push("label:"+i+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{var _=g[0];y.push(_[0]);for(var S=g.length,T=1;T<S;T++)y.push(g[T],_[T])}var E=pq(function(b,A,V){var M=h&&b.as||s,U="",z=[],q=b;if(b.theme==null){q={};for(var k in b)q[k]=b[k];q.theme=C.useContext(_N)}typeof b.className=="string"?U=sq(A.registered,z,b.className):b.className!=null&&(U=b.className+" ");var N=yN(y.concat(z),A.registered,q);U+=A.key+"-"+N.name,l!==void 0&&(U+=" "+l);var O=h&&c===void 0?mC(M):d,I={};for(var j in b)h&&j==="as"||O(j)&&(I[j]=b[j]);return I.className=U,V&&(I.ref=V),C.createElement(C.Fragment,null,C.createElement(_q,{cache:A,serialized:N,isStringTag:typeof M=="string"}),C.createElement(M,I))});return E.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=s,E.__emotion_styles=y,E.__emotion_forwardProp=c,Object.defineProperty(E,"toString",{value:function(){return"."+l}}),E.withComponent=function(b,A){var V=t(b,om({},n,A,{shouldForwardProp:gC(E,A,!0)}));return V.apply(void 0,y)},E}},xq=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],r_=wq.bind(null);xq.forEach(function(t){r_[t]=r_(t)});function wN(t,e){return r_(t,e)}function Eq(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const yC=[];function vC(t){return yC[0]=t,yN(yC)}var $v={exports:{}},ct={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function Tq(){if(_C)return ct;_C=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function T(E){if(typeof E=="object"&&E!==null){var b=E.$$typeof;switch(b){case t:switch(E=E.type,E){case n:case s:case r:case d:case h:case _:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case y:case g:return E;case i:return E;default:return b}}case e:return b}}}return ct.ContextConsumer=i,ct.ContextProvider=l,ct.Element=t,ct.ForwardRef=c,ct.Fragment=n,ct.Lazy=y,ct.Memo=g,ct.Portal=e,ct.Profiler=s,ct.StrictMode=r,ct.Suspense=d,ct.SuspenseList=h,ct.isContextConsumer=function(E){return T(E)===i},ct.isContextProvider=function(E){return T(E)===l},ct.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},ct.isForwardRef=function(E){return T(E)===c},ct.isFragment=function(E){return T(E)===n},ct.isLazy=function(E){return T(E)===y},ct.isMemo=function(E){return T(E)===g},ct.isPortal=function(E){return T(E)===e},ct.isProfiler=function(E){return T(E)===s},ct.isStrictMode=function(E){return T(E)===r},ct.isSuspense=function(E){return T(E)===d},ct.isSuspenseList=function(E){return T(E)===h},ct.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===s||E===r||E===d||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===y||E.$$typeof===g||E.$$typeof===l||E.$$typeof===i||E.$$typeof===c||E.$$typeof===S||E.getModuleId!==void 0)},ct.typeOf=T,ct}var wC;function bq(){return wC||(wC=1,$v.exports=Tq()),$v.exports}var xN=bq();function Gs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function EN(t){if(C.isValidElement(t)||xN.isValidElementType(t)||!Gs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=EN(t[n])}),e}function Nr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Gs(t)&&Gs(e)&&Object.keys(e).forEach(s=>{C.isValidElement(e[s])||xN.isValidElementType(e[s])?r[s]=e[s]:Gs(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Gs(t[s])?r[s]=Nr(t[s],e[s],n):n.clone?r[s]=Gs(e[s])?EN(e[s]):e[s]:r[s]=e[s]}),r}const Sq=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Cq(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=t,i=Sq(e),l=Object.keys(i);function c(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${n})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${n})`}function h(_,S){const T=l.indexOf(S);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${n}) and (max-width:${(T!==-1&&typeof e[l[T]]=="number"?e[l[T]]:S)-r/100}${n})`}function g(_){return l.indexOf(_)+1<l.length?h(_,l[l.indexOf(_)+1]):c(_)}function y(_){const S=l.indexOf(_);return S===0?c(l[1]):S===l.length-1?d(l[S]):h(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:i,up:c,down:d,between:h,only:g,not:y,unit:n,...s}}function Iq(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var l,c;const i=/min-width:\s*([0-9.]+)/;return+(((l=r.match(i))==null?void 0:l[1])||0)-+(((c=s.match(i))==null?void 0:c[1])||0)});return n.length?n.reduce((r,s)=>{const i=e[s];return delete r[s],r[s]=i,r},{...e}):e}function Rq(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Aq(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(s).up(i)}function Pq(t){const e=(i,l)=>i.replace("@media",l?`@container ${l}`:"@container");function n(i,l){i.up=(...c)=>e(t.breakpoints.up(...c),l),i.down=(...c)=>e(t.breakpoints.down(...c),l),i.between=(...c)=>e(t.breakpoints.between(...c),l),i.only=(...c)=>e(t.breakpoints.only(...c),l),i.not=(...c)=>{const d=e(t.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},s=i=>(n(r,i),r);return n(s),{...t,containerQueries:s}}const kq={borderRadius:4};function Td(t,e){return e?Nr(t,e,{clone:!1}):t}const dg={xs:0,sm:600,md:900,lg:1200,xl:1536},xC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${dg[t]}px)`},Nq={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:dg[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Qi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||xC;return e.reduce((l,c,d)=>(l[i.up(i.keys[d])]=n(e[d]),l),{})}if(typeof e=="object"){const i=r.breakpoints||xC;return Object.keys(e).reduce((l,c)=>{if(Rq(i.keys,c)){const d=Aq(r.containerQueries?r:Nq,c);d&&(l[d]=n(e[c],c))}else if(Object.keys(i.values||dg).includes(c)){const d=i.up(c);l[d]=n(e[c],c)}else{const d=c;l[d]=e[d]}return l},{})}return n(e)}function Oq(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function Dq(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Ts(t){if(typeof t!="string")throw new Error(Ya(7));return t.charAt(0).toUpperCase()+t.slice(1)}function hg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function hm(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=hg(t,n)||r,e&&(s=e(s,r,t)),s}function Kt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=l=>{if(l[e]==null)return null;const c=l[e],d=l.theme,h=hg(d,r)||{};return Qi(l,c,y=>{let _=hm(h,s,y);return y===_&&typeof y=="string"&&(_=hm(h,s,`${e}${y==="default"?"":Ts(y)}`,y)),n===!1?_:{[n]:_}})};return i.propTypes={},i.filterProps=[e],i}function Lq(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const jq={m:"margin",p:"padding"},Mq={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},EC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Vq=Lq(t=>{if(t.length>2)if(EC[t])t=EC[t];else return[t];const[e,n]=t.split(""),r=jq[e],s=Mq[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),Rx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ax=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Rx,...Ax];function wh(t,e,n,r){const s=hg(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?i=>typeof i=="string"?i:typeof s=="string"?s.startsWith("var(")&&i===0?0:s.startsWith("var(")&&i===1?s:`calc(${i} * ${s})`:s*i:Array.isArray(s)?i=>{if(typeof i=="string")return i;const l=Math.abs(i),c=s[l];return i>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof s=="function"?s:()=>{}}function Px(t){return wh(t,"spacing",8)}function xh(t,e){return typeof e=="string"||e==null?e:t(e)}function Fq(t,e){return n=>t.reduce((r,s)=>(r[s]=xh(e,n),r),{})}function Uq(t,e,n,r){if(!e.includes(n))return null;const s=Vq(n),i=Fq(s,r),l=t[n];return Qi(t,l,i)}function TN(t,e){const n=Px(t.theme);return Object.keys(t).map(r=>Uq(t,e,r,n)).reduce(Td,{})}function Ft(t){return TN(t,Rx)}Ft.propTypes={};Ft.filterProps=Rx;function Ut(t){return TN(t,Ax)}Ut.propTypes={};Ut.filterProps=Ax;function bN(t=8,e=Px({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const l=e(i);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function fg(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?Td(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Hr(t){return typeof t!="number"?t:`${t}px solid`}function Zr(t,e){return Kt({prop:t,themeKey:"borders",transform:e})}const $q=Zr("border",Hr),Bq=Zr("borderTop",Hr),zq=Zr("borderRight",Hr),Wq=Zr("borderBottom",Hr),Hq=Zr("borderLeft",Hr),qq=Zr("borderColor"),Kq=Zr("borderTopColor"),Gq=Zr("borderRightColor"),Qq=Zr("borderBottomColor"),Yq=Zr("borderLeftColor"),Xq=Zr("outline",Hr),Jq=Zr("outlineColor"),pg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=wh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:xh(e,r)});return Qi(t,t.borderRadius,n)}return null};pg.propTypes={};pg.filterProps=["borderRadius"];fg($q,Bq,zq,Wq,Hq,qq,Kq,Gq,Qq,Yq,pg,Xq,Jq);const mg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=wh(t.theme,"spacing",8),n=r=>({gap:xh(e,r)});return Qi(t,t.gap,n)}return null};mg.propTypes={};mg.filterProps=["gap"];const gg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=wh(t.theme,"spacing",8),n=r=>({columnGap:xh(e,r)});return Qi(t,t.columnGap,n)}return null};gg.propTypes={};gg.filterProps=["columnGap"];const yg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=wh(t.theme,"spacing",8),n=r=>({rowGap:xh(e,r)});return Qi(t,t.rowGap,n)}return null};yg.propTypes={};yg.filterProps=["rowGap"];const Zq=Kt({prop:"gridColumn"}),eK=Kt({prop:"gridRow"}),tK=Kt({prop:"gridAutoFlow"}),nK=Kt({prop:"gridAutoColumns"}),rK=Kt({prop:"gridAutoRows"}),sK=Kt({prop:"gridTemplateColumns"}),iK=Kt({prop:"gridTemplateRows"}),oK=Kt({prop:"gridTemplateAreas"}),aK=Kt({prop:"gridArea"});fg(mg,gg,yg,Zq,eK,tK,nK,rK,sK,iK,oK,aK);function fc(t,e){return e==="grey"?e:t}const lK=Kt({prop:"color",themeKey:"palette",transform:fc}),cK=Kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fc}),uK=Kt({prop:"backgroundColor",themeKey:"palette",transform:fc});fg(lK,cK,uK);function Ir(t){return t<=1&&t!==0?`${t*100}%`:t}const dK=Kt({prop:"width",transform:Ir}),kx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var s,i,l,c,d;const r=((l=(i=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:i.values)==null?void 0:l[n])||dg[n];return r?((d=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ir(n)}};return Qi(t,t.maxWidth,e)}return null};kx.filterProps=["maxWidth"];const hK=Kt({prop:"minWidth",transform:Ir}),fK=Kt({prop:"height",transform:Ir}),pK=Kt({prop:"maxHeight",transform:Ir}),mK=Kt({prop:"minHeight",transform:Ir});Kt({prop:"size",cssProperty:"width",transform:Ir});Kt({prop:"size",cssProperty:"height",transform:Ir});const gK=Kt({prop:"boxSizing"});fg(dK,kx,hK,fK,pK,mK,gK);const Eh={border:{themeKey:"borders",transform:Hr},borderTop:{themeKey:"borders",transform:Hr},borderRight:{themeKey:"borders",transform:Hr},borderBottom:{themeKey:"borders",transform:Hr},borderLeft:{themeKey:"borders",transform:Hr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Hr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:pg},color:{themeKey:"palette",transform:fc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fc},backgroundColor:{themeKey:"palette",transform:fc},p:{style:Ut},pt:{style:Ut},pr:{style:Ut},pb:{style:Ut},pl:{style:Ut},px:{style:Ut},py:{style:Ut},padding:{style:Ut},paddingTop:{style:Ut},paddingRight:{style:Ut},paddingBottom:{style:Ut},paddingLeft:{style:Ut},paddingX:{style:Ut},paddingY:{style:Ut},paddingInline:{style:Ut},paddingInlineStart:{style:Ut},paddingInlineEnd:{style:Ut},paddingBlock:{style:Ut},paddingBlockStart:{style:Ut},paddingBlockEnd:{style:Ut},m:{style:Ft},mt:{style:Ft},mr:{style:Ft},mb:{style:Ft},ml:{style:Ft},mx:{style:Ft},my:{style:Ft},margin:{style:Ft},marginTop:{style:Ft},marginRight:{style:Ft},marginBottom:{style:Ft},marginLeft:{style:Ft},marginX:{style:Ft},marginY:{style:Ft},marginInline:{style:Ft},marginInlineStart:{style:Ft},marginInlineEnd:{style:Ft},marginBlock:{style:Ft},marginBlockStart:{style:Ft},marginBlockEnd:{style:Ft},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:mg},rowGap:{style:yg},columnGap:{style:gg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ir},maxWidth:{style:kx},minWidth:{transform:Ir},height:{transform:Ir},maxHeight:{transform:Ir},minHeight:{transform:Ir},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function yK(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function vK(t,e){return typeof t=="function"?t(e):t}function _K(){function t(n,r,s,i){const l={[n]:r,theme:s},c=i[n];if(!c)return{[n]:r};const{cssProperty:d=n,themeKey:h,transform:g,style:y}=c;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const _=hg(s,h)||{};return y?y(l):Qi(l,r,T=>{let E=hm(_,g,T);return T===E&&typeof T=="string"&&(E=hm(_,g,`${n}${T==="default"?"":Ts(T)}`,T)),d===!1?E:{[d]:E}})}function e(n){const{sx:r,theme:s={}}=n||{};if(!r)return null;const i=s.unstable_sxConfig??Eh;function l(c){let d=c;if(typeof c=="function")d=c(s);else if(typeof c!="object")return c;if(!d)return null;const h=Oq(s.breakpoints),g=Object.keys(h);let y=h;return Object.keys(d).forEach(_=>{const S=vK(d[_],s);if(S!=null)if(typeof S=="object")if(i[_])y=Td(y,t(_,S,s,i));else{const T=Qi({theme:s},S,E=>({[_]:E}));yK(T,S)?y[_]=e({sx:S,theme:s}):y=Td(y,T)}else y=Td(y,t(_,S,s,i))}),Iq(s,Dq(g,y))}return Array.isArray(r)?r.map(l):l(r)}return e}const Xa=_K();Xa.filterProps=["sx"];function wK(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(t);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return n.palette.mode===t?e:{}}function Nx(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={},...l}=t,c=Cq(n),d=bN(s);let h=Nr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...kq,...i}},l);return h=Pq(h),h.applyStyles=wK,h=e.reduce((g,y)=>Nr(g,y),h),h.unstable_sxConfig={...Eh,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(y){return Xa({sx:y,theme:this})},h}function xK(t){return Object.keys(t).length===0}function EK(t=null){const e=C.useContext(_N);return!e||xK(e)?t:e}const TK=Nx();function bK(t=TK){return EK(t)}const SK=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Eh;return Object.keys(t).forEach(s=>{n[s]?e.systemProps[s]=t[s]:e.otherProps[s]=t[s]}),e};function SN(t){const{sx:e,...n}=t,{systemProps:r,otherProps:s}=SK(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...l)=>{const c=e(...l);return Gs(c)?{...r,...c}:r}:i={...r,...e},{...s,sx:i}}const TC=t=>t,CK=()=>{let t=TC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=TC}}},CN=CK();function IK(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,i=wN("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Xa);return C.forwardRef(function(d,h){const g=bK(n),{className:y,component:_="div",...S}=SN(d);return p.jsx(i,{as:_,ref:h,className:ws(y,s?s(r):r),theme:e&&g[e]||g,...S})})}const RK={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vg(t,e,n="Mui"){const r=RK[e];return r?`${n}-${r}`:`${CN.generate(t)}-${e}`}function _g(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=vg(t,s,n)}),r}function IN(t){const{variants:e,...n}=t,r={variants:e,style:vC(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=vC(s.style))}),r}const AK=Nx();function Bv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function PK(t){return t?(e,n)=>n[t]:null}function kK(t,e,n){t.theme=DK(t.theme)?n:t.theme[e]||t.theme}function Sp(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Sp(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:s,...i}=n;r=i}return RN(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function RN(t,e,n=[]){var s;let r;e:for(let i=0;i<e.length;i+=1){const l=e[i];if(typeof l.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!l.props(r))continue}else for(const c in l.props)if(t[c]!==l.props[c]&&((s=t.ownerState)==null?void 0:s[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(l.style(r))):n.push(l.style)}return n}function NK(t={}){const{themeId:e,defaultTheme:n=AK,rootShouldForwardProp:r=Bv,slotShouldForwardProp:s=Bv}=t;function i(c){kK(c,e,n)}return(c,d={})=>{Eq(c,z=>z.filter(q=>q!==Xa));const{name:h,slot:g,skipVariantsResolver:y,skipSx:_,overridesResolver:S=PK(jK(g)),...T}=d,E=y!==void 0?y:g&&g!=="Root"&&g!=="root"||!1,b=_||!1;let A=Bv;g==="Root"||g==="root"?A=r:g?A=s:LK(c)&&(A=void 0);const V=wN(c,{shouldForwardProp:A,label:OK(),...T}),M=z=>{if(typeof z=="function"&&z.__emotion_real!==z)return function(k){return Sp(k,z)};if(Gs(z)){const q=IN(z);return q.variants?function(N){return Sp(N,q)}:q.style}return z},U=(...z)=>{const q=[],k=z.map(M),N=[];if(q.push(i),h&&S&&N.push(function(F){var _e,Te;const ie=(Te=(_e=F.theme.components)==null?void 0:_e[h])==null?void 0:Te.styleOverrides;if(!ie)return null;const xe={};for(const se in ie)xe[se]=Sp(F,ie[se]);return S(F,xe)}),h&&!E&&N.push(function(F){var xe,_e;const L=F.theme,ie=(_e=(xe=L==null?void 0:L.components)==null?void 0:xe[h])==null?void 0:_e.variants;return ie?RN(F,ie):null}),b||N.push(Xa),Array.isArray(k[0])){const j=k.shift(),F=new Array(q.length).fill(""),L=new Array(N.length).fill("");let ie;ie=[...F,...j,...L],ie.raw=[...F,...j.raw,...L],q.unshift(ie)}const O=[...q,...k,...N],I=V(...O);return c.muiName&&(I.muiName=c.muiName),I};return V.withConfig&&(U.withConfig=V.withConfig),U}}function OK(t,e){return void 0}function DK(t){for(const e in t)return!1;return!0}function LK(t){return typeof t=="string"&&t.charCodeAt(0)>96}function jK(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function s_(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const s=r;if(s==="components"||s==="slots")n[s]={...t[s],...n[s]};else if(s==="componentsProps"||s==="slotProps"){const i=t[s],l=e[s];if(!l)n[s]=i||{};else if(!i)n[s]=l;else{n[s]={...l};for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)){const d=c;n[s][d]=s_(i[d],l[d])}}}else n[s]===void 0&&(n[s]=t[s])}return n}function AN(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Ox(t,e=0,n=1){return AN(t,e,n)}function MK(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Yo(t){if(t.type)return t;if(t.charAt(0)==="#")return Yo(MK(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ya(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Ya(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const VK=t=>{const e=Yo(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ad=(t,e)=>{try{return VK(t)}catch{return t}};function wg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function PN(t){t=Yo(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),l=(h,g=(h+n/30)%12)=>s-i*Math.max(Math.min(g-3,9-g,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(c+="a",d.push(e[3])),wg({type:c,values:d})}function i_(t){t=Yo(t);let e=t.type==="hsl"||t.type==="hsla"?Yo(PN(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function FK(t,e){const n=i_(t),r=i_(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function UK(t,e){return t=Yo(t),e=Ox(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,wg(t)}function rp(t,e,n){try{return UK(t,e)}catch{return t}}function Dx(t,e){if(t=Yo(t),e=Ox(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return wg(t)}function ft(t,e,n){try{return Dx(t,e)}catch{return t}}function Lx(t,e){if(t=Yo(t),e=Ox(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return wg(t)}function pt(t,e,n){try{return Lx(t,e)}catch{return t}}function $K(t,e=.15){return i_(t)>.5?Dx(t,e):Lx(t,e)}function sp(t,e,n){try{return $K(t,e)}catch{return t}}const BK=C.createContext(),zK=()=>C.useContext(BK)??!1,WK=C.createContext(void 0);function HK(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?s_(s.defaultProps,r):!s.styleOverrides&&!s.variants?s_(s,r):r}function qK({props:t,name:e}){const n=C.useContext(WK);return HK({props:t,name:e,theme:{components:n}})}const bC={theme:void 0};function KK(t){let e,n;return function(s){let i=e;return(i===void 0||s.theme!==n)&&(bC.theme=s.theme,i=IN(t(bC)),e=i,n=s.theme),i}}function GK(t=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${t?`${t}-`:""}${r}${e(...s)})`}const SC=(t,e,n,r=[])=>{let s=t;e.forEach((i,l)=>{l===e.length-1?Array.isArray(s)?s[Number(i)]=n:s&&typeof s=="object"&&(s[i]=n):s&&typeof s=="object"&&(s[i]||(s[i]=r.includes(i)?[]:{}),s=s[i])})},QK=(t,e,n)=>{function r(s,i=[],l=[]){Object.entries(s).forEach(([c,d])=>{(!n||n&&!n([...i,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...i,c],Array.isArray(d)?[...l,c]:l):e([...i,c],d,l))})}r(t)},YK=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function zv(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},i={},l={};return QK(t,(c,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const g=`--${n?`${n}-`:""}${c.join("-")}`,y=YK(c,d);Object.assign(s,{[g]:y}),SC(i,c,`var(${g})`,h),SC(l,c,`var(${g}, ${y})`,h)}},c=>c[0]==="vars"),{css:s,vars:i,varsWithDefaults:l}}function XK(t,e={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:i={},components:l,defaultColorScheme:c="light",...d}=t,{vars:h,css:g,varsWithDefaults:y}=zv(d,e);let _=y;const S={},{[c]:T,...E}=i;if(Object.entries(E||{}).forEach(([M,U])=>{const{vars:z,css:q,varsWithDefaults:k}=zv(U,e);_=Nr(_,k),S[M]={css:q,vars:z}}),T){const{css:M,vars:U,varsWithDefaults:z}=zv(T,e);_=Nr(_,z),S[c]={css:M,vars:U}}function b(M,U){var q,k;let z=s;if(s==="class"&&(z=".%s"),s==="data"&&(z="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(z=`[${s}="%s"]`),M){if(z==="media")return t.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((k=(q=i[M])==null?void 0:q.palette)==null?void 0:k.mode)||M})`]:{":root":U}};if(z)return t.defaultColorScheme===M?`:root, ${z.replace("%s",String(M))}`:z.replace("%s",String(M))}return":root"}return{vars:_,generateThemeVars:()=>{let M={...h};return Object.entries(S).forEach(([,{vars:U}])=>{M=Nr(M,U)}),M},generateStyleSheets:()=>{var N,O;const M=[],U=t.defaultColorScheme||"light";function z(I,j){Object.keys(j).length&&M.push(typeof I=="string"?{[I]:{...j}}:I)}z(n(void 0,{...g}),g);const{[U]:q,...k}=S;if(q){const{css:I}=q,j=(O=(N=i[U])==null?void 0:N.palette)==null?void 0:O.mode,F=!r&&j?{colorScheme:j,...I}:{...I};z(n(U,{...F}),F)}return Object.entries(k).forEach(([I,{css:j}])=>{var ie,xe;const F=(xe=(ie=i[I])==null?void 0:ie.palette)==null?void 0:xe.mode,L=!r&&F?{colorScheme:F,...j}:{...j};z(n(I,{...L}),L)}),M}}}function JK(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function jx(t,e,n=void 0){const r={};for(const s in t){const i=t[s];let l="",c=!0;for(let d=0;d<i.length;d+=1){const h=i[d];h&&(l+=(c===!0?"":" ")+e(h),c=!1,n&&n[h]&&(l+=" "+n[h]))}r[s]=l}return r}const kN="$$material",Hd={black:"#000",white:"#fff"},ZK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ql={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Kl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ju={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Gl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ql={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Yl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function NN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hd.white,default:Hd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const eG=NN();function ON(){return{text:{primary:Hd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const CC=ON();function IC(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Lx(t.main,s):e==="dark"&&(t.dark=Dx(t.main,i)))}function tG(t="light"){return t==="dark"?{main:Gl[200],light:Gl[50],dark:Gl[400]}:{main:Gl[700],light:Gl[400],dark:Gl[800]}}function nG(t="light"){return t==="dark"?{main:ql[200],light:ql[50],dark:ql[400]}:{main:ql[500],light:ql[300],dark:ql[700]}}function rG(t="light"){return t==="dark"?{main:Kl[500],light:Kl[300],dark:Kl[700]}:{main:Kl[700],light:Kl[400],dark:Kl[800]}}function sG(t="light"){return t==="dark"?{main:Ql[400],light:Ql[300],dark:Ql[700]}:{main:Ql[700],light:Ql[500],dark:Ql[900]}}function iG(t="light"){return t==="dark"?{main:Yl[400],light:Yl[300],dark:Yl[700]}:{main:Yl[800],light:Yl[500],dark:Yl[900]}}function oG(t="light"){return t==="dark"?{main:Ju[400],light:Ju[300],dark:Ju[700]}:{main:"#ed6c02",light:Ju[500],dark:Ju[900]}}function Mx(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...s}=t,i=t.primary||tG(e),l=t.secondary||nG(e),c=t.error||rG(e),d=t.info||sG(e),h=t.success||iG(e),g=t.warning||oG(e);function y(E){return FK(E,CC.text.primary)>=n?CC.text.primary:eG.text.primary}const _=({color:E,name:b,mainShade:A=500,lightShade:V=300,darkShade:M=700})=>{if(E={...E},!E.main&&E[A]&&(E.main=E[A]),!E.hasOwnProperty("main"))throw new Error(Ya(11,b?` (${b})`:"",A));if(typeof E.main!="string")throw new Error(Ya(12,b?` (${b})`:"",JSON.stringify(E.main)));return IC(E,"light",V,r),IC(E,"dark",M,r),E.contrastText||(E.contrastText=y(E.main)),E};let S;return e==="light"?S=NN():e==="dark"&&(S=ON()),Nr({common:{...Hd},mode:e,primary:_({color:i,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:c,name:"error"}),warning:_({color:g,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:h,name:"success"}),grey:ZK,contrastThreshold:n,getContrastText:y,augmentColor:_,tonalOffset:r,...S},s)}function aG(t){const e={};return Object.entries(t).forEach(r=>{const[s,i]=r;typeof i=="object"&&(e[s]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function lG(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function cG(t){return Math.round(t*1e5)/1e5}const RC={textTransform:"uppercase"},AC='"Roboto", "Helvetica", "Arial", sans-serif';function uG(t,e){const{fontFamily:n=AC,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g,...y}=typeof e=="function"?e(t):e,_=r/14,S=g||(b=>`${b/d*_}rem`),T=(b,A,V,M,U)=>({fontFamily:n,fontWeight:b,fontSize:S(A),lineHeight:V,...n===AC?{letterSpacing:`${cG(M/A)}em`}:{},...U,...h}),E={h1:T(s,96,1.167,-1.5),h2:T(s,60,1.2,-.5),h3:T(i,48,1.167,0),h4:T(i,34,1.235,.25),h5:T(i,24,1.334,0),h6:T(l,20,1.6,.15),subtitle1:T(i,16,1.75,.15),subtitle2:T(l,14,1.57,.1),body1:T(i,16,1.5,.15),body2:T(i,14,1.43,.15),button:T(l,14,1.75,.4,RC),caption:T(i,12,1.66,.4),overline:T(i,12,2.66,1,RC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Nr({htmlFontSize:d,pxToRem:S,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:l,fontWeightBold:c,...E},y,{clone:!1})}const dG=.2,hG=.14,fG=.12;function Rt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${dG})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${hG})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${fG})`].join(",")}const pG=["none",Rt(0,2,1,-1,0,1,1,0,0,1,3,0),Rt(0,3,1,-2,0,2,2,0,0,1,5,0),Rt(0,3,3,-2,0,3,4,0,0,1,8,0),Rt(0,2,4,-1,0,4,5,0,0,1,10,0),Rt(0,3,5,-1,0,5,8,0,0,1,14,0),Rt(0,3,5,-1,0,6,10,0,0,1,18,0),Rt(0,4,5,-2,0,7,10,1,0,2,16,1),Rt(0,5,5,-3,0,8,10,1,0,3,14,2),Rt(0,5,6,-3,0,9,12,1,0,3,16,2),Rt(0,6,6,-3,0,10,14,1,0,4,18,3),Rt(0,6,7,-4,0,11,15,1,0,4,20,3),Rt(0,7,8,-4,0,12,17,2,0,5,22,4),Rt(0,7,8,-4,0,13,19,2,0,5,24,4),Rt(0,7,9,-4,0,14,21,2,0,5,26,4),Rt(0,8,9,-5,0,15,22,2,0,6,28,5),Rt(0,8,10,-5,0,16,24,2,0,6,30,5),Rt(0,8,11,-5,0,17,26,2,0,6,32,5),Rt(0,9,11,-5,0,18,28,2,0,7,34,6),Rt(0,9,12,-6,0,19,29,2,0,7,36,6),Rt(0,10,13,-6,0,20,31,3,0,8,38,7),Rt(0,10,13,-6,0,21,33,3,0,8,40,7),Rt(0,10,14,-6,0,22,35,3,0,8,42,7),Rt(0,11,14,-7,0,23,36,3,0,9,44,8),Rt(0,11,15,-7,0,24,38,3,0,9,46,8)],mG={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function PC(t){return`${Math.round(t)}ms`}function yG(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function vG(t){const e={...mG,...t.easing},n={...gG,...t.duration};return{getAutoHeightDuration:yG,create:(s=["all"],i={})=>{const{duration:l=n.standard,easing:c=e.easeInOut,delay:d=0,...h}=i;return(Array.isArray(s)?s:[s]).map(g=>`${g} ${typeof l=="string"?l:PC(l)} ${c} ${typeof d=="string"?d:PC(d)}`).join(",")},...t,easing:e,duration:n}}const _G={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function wG(t){return Gs(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function DN(t={}){const e={...t};function n(r){const s=Object.entries(r);for(let i=0;i<s.length;i++){const[l,c]=s[i];!wG(c)||l.startsWith("unstable_")?delete r[l]:Gs(c)&&(r[l]={...c},n(r[l]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function o_(t={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:i={},transitions:l={},typography:c={},shape:d,...h}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ya(20));const g=Mx(i),y=Nx(t);let _=Nr(y,{mixins:lG(y.breakpoints,r),palette:g,shadows:pG.slice(),typography:uG(g,c),transitions:vG(l),zIndex:{..._G}});return _=Nr(_,h),_=e.reduce((S,T)=>Nr(S,T),_),_.unstable_sxConfig={...Eh,...h==null?void 0:h.unstable_sxConfig},_.unstable_sx=function(T){return Xa({sx:T,theme:this})},_.toRuntimeSource=DN,_}function xG(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const EG=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=xG(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function LN(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function jN(t){return t==="dark"?EG:[]}function TG(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...s}=t,i=Mx(e);return{palette:i,opacity:{...LN(i.mode),...n},overlays:r||jN(i.mode),...s}}function bG(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const SG=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],CG=t=>(e,n)=>{const r=t.rootSelector||":root",s=t.colorSchemeSelector;let i=s;if(s==="class"&&(i=".%s"),s==="data"&&(i="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(i=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return SG(t.cssVarPrefix).forEach(c=>{l[c]=n[c],delete n[c]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:l}}:i?{[i.replace("%s",e)]:l,[`${r}, ${i.replace("%s",e)}`]:n}:{[r]:{...n,...l}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(i)return i.replace("%s",String(e))}return r};function IG(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Z(t,e,n){!t[e]&&n&&(t[e]=n)}function ld(t){return typeof t!="string"||!t.startsWith("hsl")?t:PN(t)}function Ri(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ad(ld(t[e])))}function RG(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Bs=t=>{try{return t()}catch{}},AG=(t="mui")=>GK(t);function Wv(t,e,n,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!n){t[r]=TG({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:i,...l}=o_({...n,palette:{mode:s,...e==null?void 0:e.palette}});return t[r]={...e,palette:i,opacity:{...LN(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||jN(s)},l}function PG(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:l=bG,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...h}=t,g=Object.keys(n)[0],y=r||(n.light&&g!=="light"?"light":g),_=AG(i),{[y]:S,light:T,dark:E,...b}=n,A={...b};let V=S;if((y==="dark"&&!("dark"in n)||y==="light"&&!("light"in n))&&(V=!0),!V)throw new Error(Ya(21,y));const M=Wv(A,V,h,y);T&&!A.light&&Wv(A,T,void 0,"light"),E&&!A.dark&&Wv(A,E,void 0,"dark");let U={defaultColorScheme:y,...M,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:d,getCssVar:_,colorSchemes:A,font:{...aG(M.typography),...M.font},spacing:RG(h.spacing)};Object.keys(U.colorSchemes).forEach(O=>{const I=U.colorSchemes[O].palette,j=F=>{const L=F.split("-"),ie=L[1],xe=L[2];return _(F,I[ie][xe])};if(I.mode==="light"&&(Z(I.common,"background","#fff"),Z(I.common,"onBackground","#000")),I.mode==="dark"&&(Z(I.common,"background","#000"),Z(I.common,"onBackground","#fff")),IG(I,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),I.mode==="light"){Z(I.Alert,"errorColor",ft(I.error.light,.6)),Z(I.Alert,"infoColor",ft(I.info.light,.6)),Z(I.Alert,"successColor",ft(I.success.light,.6)),Z(I.Alert,"warningColor",ft(I.warning.light,.6)),Z(I.Alert,"errorFilledBg",j("palette-error-main")),Z(I.Alert,"infoFilledBg",j("palette-info-main")),Z(I.Alert,"successFilledBg",j("palette-success-main")),Z(I.Alert,"warningFilledBg",j("palette-warning-main")),Z(I.Alert,"errorFilledColor",Bs(()=>I.getContrastText(I.error.main))),Z(I.Alert,"infoFilledColor",Bs(()=>I.getContrastText(I.info.main))),Z(I.Alert,"successFilledColor",Bs(()=>I.getContrastText(I.success.main))),Z(I.Alert,"warningFilledColor",Bs(()=>I.getContrastText(I.warning.main))),Z(I.Alert,"errorStandardBg",pt(I.error.light,.9)),Z(I.Alert,"infoStandardBg",pt(I.info.light,.9)),Z(I.Alert,"successStandardBg",pt(I.success.light,.9)),Z(I.Alert,"warningStandardBg",pt(I.warning.light,.9)),Z(I.Alert,"errorIconColor",j("palette-error-main")),Z(I.Alert,"infoIconColor",j("palette-info-main")),Z(I.Alert,"successIconColor",j("palette-success-main")),Z(I.Alert,"warningIconColor",j("palette-warning-main")),Z(I.AppBar,"defaultBg",j("palette-grey-100")),Z(I.Avatar,"defaultBg",j("palette-grey-400")),Z(I.Button,"inheritContainedBg",j("palette-grey-300")),Z(I.Button,"inheritContainedHoverBg",j("palette-grey-A100")),Z(I.Chip,"defaultBorder",j("palette-grey-400")),Z(I.Chip,"defaultAvatarColor",j("palette-grey-700")),Z(I.Chip,"defaultIconColor",j("palette-grey-700")),Z(I.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Z(I.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Z(I.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Z(I.LinearProgress,"primaryBg",pt(I.primary.main,.62)),Z(I.LinearProgress,"secondaryBg",pt(I.secondary.main,.62)),Z(I.LinearProgress,"errorBg",pt(I.error.main,.62)),Z(I.LinearProgress,"infoBg",pt(I.info.main,.62)),Z(I.LinearProgress,"successBg",pt(I.success.main,.62)),Z(I.LinearProgress,"warningBg",pt(I.warning.main,.62)),Z(I.Skeleton,"bg",`rgba(${j("palette-text-primaryChannel")} / 0.11)`),Z(I.Slider,"primaryTrack",pt(I.primary.main,.62)),Z(I.Slider,"secondaryTrack",pt(I.secondary.main,.62)),Z(I.Slider,"errorTrack",pt(I.error.main,.62)),Z(I.Slider,"infoTrack",pt(I.info.main,.62)),Z(I.Slider,"successTrack",pt(I.success.main,.62)),Z(I.Slider,"warningTrack",pt(I.warning.main,.62));const F=sp(I.background.default,.8);Z(I.SnackbarContent,"bg",F),Z(I.SnackbarContent,"color",Bs(()=>I.getContrastText(F))),Z(I.SpeedDialAction,"fabHoverBg",sp(I.background.paper,.15)),Z(I.StepConnector,"border",j("palette-grey-400")),Z(I.StepContent,"border",j("palette-grey-400")),Z(I.Switch,"defaultColor",j("palette-common-white")),Z(I.Switch,"defaultDisabledColor",j("palette-grey-100")),Z(I.Switch,"primaryDisabledColor",pt(I.primary.main,.62)),Z(I.Switch,"secondaryDisabledColor",pt(I.secondary.main,.62)),Z(I.Switch,"errorDisabledColor",pt(I.error.main,.62)),Z(I.Switch,"infoDisabledColor",pt(I.info.main,.62)),Z(I.Switch,"successDisabledColor",pt(I.success.main,.62)),Z(I.Switch,"warningDisabledColor",pt(I.warning.main,.62)),Z(I.TableCell,"border",pt(rp(I.divider,1),.88)),Z(I.Tooltip,"bg",rp(I.grey[700],.92))}if(I.mode==="dark"){Z(I.Alert,"errorColor",pt(I.error.light,.6)),Z(I.Alert,"infoColor",pt(I.info.light,.6)),Z(I.Alert,"successColor",pt(I.success.light,.6)),Z(I.Alert,"warningColor",pt(I.warning.light,.6)),Z(I.Alert,"errorFilledBg",j("palette-error-dark")),Z(I.Alert,"infoFilledBg",j("palette-info-dark")),Z(I.Alert,"successFilledBg",j("palette-success-dark")),Z(I.Alert,"warningFilledBg",j("palette-warning-dark")),Z(I.Alert,"errorFilledColor",Bs(()=>I.getContrastText(I.error.dark))),Z(I.Alert,"infoFilledColor",Bs(()=>I.getContrastText(I.info.dark))),Z(I.Alert,"successFilledColor",Bs(()=>I.getContrastText(I.success.dark))),Z(I.Alert,"warningFilledColor",Bs(()=>I.getContrastText(I.warning.dark))),Z(I.Alert,"errorStandardBg",ft(I.error.light,.9)),Z(I.Alert,"infoStandardBg",ft(I.info.light,.9)),Z(I.Alert,"successStandardBg",ft(I.success.light,.9)),Z(I.Alert,"warningStandardBg",ft(I.warning.light,.9)),Z(I.Alert,"errorIconColor",j("palette-error-main")),Z(I.Alert,"infoIconColor",j("palette-info-main")),Z(I.Alert,"successIconColor",j("palette-success-main")),Z(I.Alert,"warningIconColor",j("palette-warning-main")),Z(I.AppBar,"defaultBg",j("palette-grey-900")),Z(I.AppBar,"darkBg",j("palette-background-paper")),Z(I.AppBar,"darkColor",j("palette-text-primary")),Z(I.Avatar,"defaultBg",j("palette-grey-600")),Z(I.Button,"inheritContainedBg",j("palette-grey-800")),Z(I.Button,"inheritContainedHoverBg",j("palette-grey-700")),Z(I.Chip,"defaultBorder",j("palette-grey-700")),Z(I.Chip,"defaultAvatarColor",j("palette-grey-300")),Z(I.Chip,"defaultIconColor",j("palette-grey-300")),Z(I.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Z(I.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Z(I.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Z(I.LinearProgress,"primaryBg",ft(I.primary.main,.5)),Z(I.LinearProgress,"secondaryBg",ft(I.secondary.main,.5)),Z(I.LinearProgress,"errorBg",ft(I.error.main,.5)),Z(I.LinearProgress,"infoBg",ft(I.info.main,.5)),Z(I.LinearProgress,"successBg",ft(I.success.main,.5)),Z(I.LinearProgress,"warningBg",ft(I.warning.main,.5)),Z(I.Skeleton,"bg",`rgba(${j("palette-text-primaryChannel")} / 0.13)`),Z(I.Slider,"primaryTrack",ft(I.primary.main,.5)),Z(I.Slider,"secondaryTrack",ft(I.secondary.main,.5)),Z(I.Slider,"errorTrack",ft(I.error.main,.5)),Z(I.Slider,"infoTrack",ft(I.info.main,.5)),Z(I.Slider,"successTrack",ft(I.success.main,.5)),Z(I.Slider,"warningTrack",ft(I.warning.main,.5));const F=sp(I.background.default,.98);Z(I.SnackbarContent,"bg",F),Z(I.SnackbarContent,"color",Bs(()=>I.getContrastText(F))),Z(I.SpeedDialAction,"fabHoverBg",sp(I.background.paper,.15)),Z(I.StepConnector,"border",j("palette-grey-600")),Z(I.StepContent,"border",j("palette-grey-600")),Z(I.Switch,"defaultColor",j("palette-grey-300")),Z(I.Switch,"defaultDisabledColor",j("palette-grey-600")),Z(I.Switch,"primaryDisabledColor",ft(I.primary.main,.55)),Z(I.Switch,"secondaryDisabledColor",ft(I.secondary.main,.55)),Z(I.Switch,"errorDisabledColor",ft(I.error.main,.55)),Z(I.Switch,"infoDisabledColor",ft(I.info.main,.55)),Z(I.Switch,"successDisabledColor",ft(I.success.main,.55)),Z(I.Switch,"warningDisabledColor",ft(I.warning.main,.55)),Z(I.TableCell,"border",ft(rp(I.divider,1),.68)),Z(I.Tooltip,"bg",rp(I.grey[700],.92))}Ri(I.background,"default"),Ri(I.background,"paper"),Ri(I.common,"background"),Ri(I.common,"onBackground"),Ri(I,"divider"),Object.keys(I).forEach(F=>{const L=I[F];F!=="tonalOffset"&&L&&typeof L=="object"&&(L.main&&Z(I[F],"mainChannel",ad(ld(L.main))),L.light&&Z(I[F],"lightChannel",ad(ld(L.light))),L.dark&&Z(I[F],"darkChannel",ad(ld(L.dark))),L.contrastText&&Z(I[F],"contrastTextChannel",ad(ld(L.contrastText))),F==="text"&&(Ri(I[F],"primary"),Ri(I[F],"secondary")),F==="action"&&(L.active&&Ri(I[F],"active"),L.selected&&Ri(I[F],"selected")))})}),U=e.reduce((O,I)=>Nr(O,I),U);const z={prefix:i,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:CG(U)},{vars:q,generateThemeVars:k,generateStyleSheets:N}=XK(U,z);return U.vars=q,Object.entries(U.colorSchemes[U.defaultColorScheme]).forEach(([O,I])=>{U[O]=I}),U.generateThemeVars=k,U.generateStyleSheets=N,U.generateSpacing=function(){return bN(h.spacing,Px(this))},U.getColorSchemeSelector=JK(c),U.spacing=U.generateSpacing(),U.shouldSkipGeneratingVar=l,U.unstable_sxConfig={...Eh,...h==null?void 0:h.unstable_sxConfig},U.unstable_sx=function(I){return Xa({sx:I,theme:this})},U.toRuntimeSource=DN,U}function kC(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Mx({...n===!0?{}:n.palette,mode:e})})}function MN(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:i=n==null?void 0:n.mode,...l}=t,c=i||"light",d=s==null?void 0:s[c],h={...s,...n?{[c]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return o_(t,...e);let g=n;"palette"in t||h[c]&&(h[c]!==!0?g=h[c].palette:c==="dark"&&(g={mode:"dark"}));const y=o_({...t,palette:g},...e);return y.defaultColorScheme=c,y.colorSchemes=h,y.palette.mode==="light"&&(y.colorSchemes.light={...h.light!==!0&&h.light,palette:y.palette},kC(y,"dark",h.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:y.palette},kC(y,"light",h.light)),y}return!n&&!("light"in h)&&c==="light"&&(h.light=!0),PG({...l,colorSchemes:h,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const kG=MN();function VN(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const NG=t=>VN(t)&&t!=="classes",Kc=NK({themeId:kN,defaultTheme:kG,rootShouldForwardProp:NG}),OG=_g("MuiBox",["root"]),DG=MN(),LG=IK({themeId:kN,defaultTheme:DG,defaultClassName:OG.root,generateClassName:CN.generate}),jG={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function NC(t){try{return t.matches(":focus-visible")}catch{}return!1}function MG(){return SN}const xg=KK;function Vx(t){return qK(t)}function VG(t){return vg("MuiSvgIcon",t)}_g("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const FG=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${Ts(e)}`,`fontSize${Ts(n)}`]};return jx(s,VG,r)},UG=Kc("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ts(n.color)}`],e[`fontSize${Ts(n.fontSize)}`]]}})(xg(({theme:t})=>{var e,n,r,s,i,l,c,d,h,g,y,_,S,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=t.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(i=t.typography)==null?void 0:i.pxToRem)==null?void 0:l.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(h=t.typography)==null?void 0:h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,E])=>E&&E.main).map(([E])=>{var b,A;return{props:{color:E},style:{color:(A=(b=(t.vars??t).palette)==null?void 0:b[E])==null?void 0:A.main}}}),{props:{color:"action"},style:{color:(_=(y=(t.vars??t).palette)==null?void 0:y.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(T=(S=(t.vars??t).palette)==null?void 0:S.action)==null?void 0:T.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),a_=C.forwardRef(function(e,n){const r=Vx({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:y,viewBox:_="0 0 24 24",...S}=r,T=C.isValidElement(s)&&s.type==="svg",E={...r,color:l,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:_,hasSvgAsChild:T},b={};g||(b.viewBox=_);const A=FG(E);return p.jsxs(UG,{as:c,className:ws(A.root,i),focusable:"false",color:h,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:n,...b,...S,...T&&s.props,ownerState:E,children:[T?s.props.children:s,y?p.jsx("title",{children:y}):null]})});a_.muiName="SvgIcon";function FN(t,e){function n(r,s){return p.jsx(a_,{"data-testid":void 0,ref:s,...r,children:t})}return n.muiName=a_.muiName,C.memo(C.forwardRef(n))}let OC=0;function $G(t){const[e,n]=C.useState(t),r=t||e;return C.useEffect(()=>{e==null&&(OC+=1,n(`mui-${OC}`))},[e]),r}const BG={...Yv},DC=BG.useId;function UN(t){if(DC!==void 0){const e=DC();return t??e}return $G(t)}function zG(t){const{controlled:e,default:n}=t,{current:r}=C.useRef(e!==void 0),[s,i]=C.useState(n),l=r?e:s,c=C.useCallback(d=>{r||i(d)},[]);return[l,c]}function $N(...t){const e=C.useRef(void 0),n=C.useCallback(r=>{const s=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const l=i,c=l(r);return typeof c=="function"?c:()=>{l(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},t);return C.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const WG=FN(p.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),HG=FN(p.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function qG(t){return vg("MuiRating",t)}const Zu=_g("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function KG(t){return typeof t=="string"}function GG(t,e,n){return t===void 0||KG(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function QG(t,e,n){return typeof t=="function"?t(e,n):t}function YG(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function LC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function XG(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const S=ws(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),T={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},E={...n,...s,...r};return S.length>0&&(E.className=S),Object.keys(T).length>0&&(E.style=T),{props:E,internalRef:void 0}}const l=YG({...s,...r}),c=LC(r),d=LC(s),h=e(l),g=ws(h==null?void 0:h.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),y={...h==null?void 0:h.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},_={...h,...n,...d,...c};return g.length>0&&(_.className=g),Object.keys(y).length>0&&(_.style=y),{props:_,internalRef:h.ref}}function bd(t,e){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...d}=e,{component:h,slots:g={[t]:void 0},slotProps:y={[t]:void 0},..._}=i,S=g[t]||r,T=QG(y[t],s),{props:{component:E,...b},internalRef:A}=XG({className:n,...d,externalForwardedProps:t==="root"?_:void 0,externalSlotProps:T}),V=$N(A,T==null?void 0:T.ref,e.ref),M=t==="root"?E||h:E,U=GG(S,{...t==="root"&&!h&&!g[t]&&l,...t!=="root"&&!g[t]&&l,...b,...M&&!c&&{as:M},...M&&c&&{component:M},ref:V},s);return[S,U]}function JG(t){const e=t.toString().split(".")[1];return e?e.length:0}function Hv(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(JG(e)))}const ZG=t=>{const{classes:e,size:n,readOnly:r,disabled:s,emptyValueFocused:i,focusVisible:l}=t,c={root:["root",`size${Ts(n)}`,s&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[i&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return jx(c,qG,e)},eQ=Kc("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Zu.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ts(n.size)}`],n.readOnly&&e.readOnly]}})(xg(({theme:t})=>({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Zu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Zu.focusVisible} .${Zu.iconActive}`]:{outline:"1px solid #999"},[`& .${Zu.visuallyHidden}`]:jG,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),BN=Kc("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:t})=>t.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),tQ=Kc("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(xg(({theme:t})=>({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(t.vars||t).palette.action.disabled}}]}))),nQ=Kc("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>VN(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:t})=>t,style:{transform:"scale(1.2)"}}]});function rQ(t){const{value:e,...n}=t;return p.jsx("span",{...n})}function jC(t){const{classes:e,disabled:n,emptyIcon:r,focus:s,getLabelText:i,highlightSelectedOnly:l,hover:c,icon:d,IconContainerComponent:h,isActive:g,itemValue:y,labelProps:_,name:S,onBlur:T,onChange:E,onClick:b,onFocus:A,readOnly:V,ownerState:M,ratingValue:U,ratingValueRounded:z,slots:q={},slotProps:k={}}=t,N=l?y===U:y<=U,O=y<=c,I=y<=s,j=y===z,F=`${S}-${UN()}`,L={slots:q,slotProps:k},[ie,xe]=bd("icon",{elementType:tQ,className:ws(e.icon,N?e.iconFilled:e.iconEmpty,O&&e.iconHover,I&&e.iconFocus,g&&e.iconActive),externalForwardedProps:L,ownerState:{...M,iconEmpty:!N,iconFilled:N,iconHover:O,iconFocus:I,iconActive:g},additionalProps:{value:y},internalForwardedProps:{as:h}}),[_e,Te]=bd("label",{elementType:BN,externalForwardedProps:L,ownerState:{...M,emptyValueFocused:void 0},additionalProps:{style:_==null?void 0:_.style,htmlFor:F}}),se=p.jsx(ie,{...xe,children:r&&!N?r:d});return V?p.jsx("span",{..._,children:se}):p.jsxs(C.Fragment,{children:[p.jsxs(_e,{...Te,children:[se,p.jsx("span",{className:e.visuallyHidden,children:i(y)})]}),p.jsx("input",{className:e.visuallyHidden,onFocus:A,onBlur:T,onChange:E,onClick:b,disabled:n,value:y,id:F,type:"radio",name:S,checked:j})]})}const sQ=p.jsx(WG,{fontSize:"inherit"}),iQ=p.jsx(HG,{fontSize:"inherit"});function oQ(t){return`${t||"0"} Star${t!==1?"s":""}`}const aQ=C.forwardRef(function(e,n){const r=Vx({name:"MuiRating",props:e}),{component:s="span",className:i,defaultValue:l=null,disabled:c=!1,emptyIcon:d=iQ,emptyLabelText:h="Empty",getLabelText:g=oQ,highlightSelectedOnly:y=!1,icon:_=sQ,IconContainerComponent:S=rQ,max:T=5,name:E,onChange:b,onChangeActive:A,onMouseLeave:V,onMouseMove:M,precision:U=1,readOnly:z=!1,size:q="medium",value:k,slots:N={},slotProps:O={},...I}=r,j=UN(E),[F,L]=zG({controlled:k,default:l}),ie=Hv(F,U),xe=zK(),[{hover:_e,focus:Te},se]=C.useState({hover:-1,focus:-1});let de=ie;_e!==-1&&(de=_e),Te!==-1&&(de=Te);const[ce,W]=C.useState(!1),te=C.useRef(),me=$N(te,n),Re=Oe=>{M&&M(Oe);const tt=te.current,{right:dt,left:Wn,width:Hn}=tt.getBoundingClientRect();let ot;xe?ot=(dt-Oe.clientX)/Hn:ot=(Oe.clientX-Wn)/Hn;let Ze=Hv(T*ot+U/2,U);Ze=AN(Ze,U,T),se(Yt=>Yt.hover===Ze&&Yt.focus===Ze?Yt:{hover:Ze,focus:Ze}),W(!1),A&&_e!==Ze&&A(Oe,Ze)},Ae=Oe=>{V&&V(Oe);const tt=-1;se({hover:tt,focus:tt}),A&&_e!==tt&&A(Oe,tt)},je=Oe=>{let tt=Oe.target.value===""?null:parseFloat(Oe.target.value);_e!==-1&&(tt=_e),L(tt),b&&b(Oe,tt)},Ue=Oe=>{Oe.clientX===0&&Oe.clientY===0||(se({hover:-1,focus:-1}),L(null),b&&parseFloat(Oe.target.value)===ie&&b(Oe,null))},Ve=Oe=>{NC(Oe.target)&&W(!0);const tt=parseFloat(Oe.target.value);se(dt=>({hover:dt.hover,focus:tt}))},Je=Oe=>{if(_e!==-1)return;NC(Oe.target)||W(!1);const tt=-1;se(dt=>({hover:dt.hover,focus:tt}))},[Mt,Cn]=C.useState(!1),Jn={...r,component:s,defaultValue:l,disabled:c,emptyIcon:d,emptyLabelText:h,emptyValueFocused:Mt,focusVisible:ce,getLabelText:g,icon:_,IconContainerComponent:S,max:T,precision:U,readOnly:z,size:q},Gt=ZG(Jn),yr={slots:N,slotProps:O},[Is,Rs]=bd("root",{ref:me,className:ws(Gt.root,i),elementType:eQ,externalForwardedProps:{...yr,...I,component:s},getSlotProps:Oe=>({...Oe,onMouseMove:tt=>{var dt;Re(tt),(dt=Oe.onMouseMove)==null||dt.call(Oe,tt)},onMouseLeave:tt=>{var dt;Ae(tt),(dt=Oe.onMouseLeave)==null||dt.call(Oe,tt)}}),ownerState:Jn,additionalProps:{role:z?"img":null,"aria-label":z?g(de):null}}),[As,Ji]=bd("label",{className:ws(Gt.label,Gt.labelEmptyValue),elementType:BN,externalForwardedProps:yr,ownerState:Jn}),[Ps,Qt]=bd("decimal",{className:Gt.decimal,elementType:nQ,externalForwardedProps:yr,ownerState:Jn});return p.jsxs(Is,{...Rs,children:[Array.from(new Array(T)).map((Oe,tt)=>{const dt=tt+1,Wn={classes:Gt,disabled:c,emptyIcon:d,focus:Te,getLabelText:g,highlightSelectedOnly:y,hover:_e,icon:_,IconContainerComponent:S,name:j,onBlur:Je,onChange:je,onClick:Ue,onFocus:Ve,ratingValue:de,ratingValueRounded:ie,readOnly:z,ownerState:Jn,slots:N,slotProps:O},Hn=dt===Math.ceil(de)&&(_e!==-1||Te!==-1);if(U<1){const ot=Array.from(new Array(1/U));return C.createElement(Ps,{...Qt,key:dt,className:ws(Qt.className,Hn&&Gt.iconActive),iconActive:Hn},ot.map((Ze,Yt)=>{const di=Hv(dt-1+(Yt+1)*U,U);return p.jsx(jC,{...Wn,isActive:!1,itemValue:di,labelProps:{style:ot.length-1===Yt?{}:{width:di===de?`${(Yt+1)*U*100}%`:"0%",overflow:"hidden",position:"absolute"}}},di)}))}return p.jsx(jC,{...Wn,isActive:Hn,itemValue:dt},dt)}),!z&&!c&&p.jsxs(As,{...Ji,children:[p.jsx("input",{className:Gt.visuallyHidden,value:"",id:`${j}-empty`,type:"radio",name:j,checked:ie==null,onFocus:()=>Cn(!0),onBlur:()=>Cn(!1),onChange:je}),p.jsx("span",{className:Gt.visuallyHidden,children:h})]})]})});function lQ(t){return typeof t.main=="string"}function cQ(t,e=[]){if(!lQ(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function uQ(t=[]){return([,e])=>e&&cQ(e,t)}function dQ(t){return vg("MuiTypography",t)}_g("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const hQ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},fQ=MG(),pQ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:l}=t,c={root:["root",i,t.align!=="inherit"&&`align${Ts(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return jx(c,dQ,l)},mQ=Kc("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ts(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(xg(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(uQ()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ts(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),MC={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},gQ=C.forwardRef(function(e,n){const{color:r,...s}=Vx({props:e,name:"MuiTypography"}),i=!hQ[r],l=fQ({...s,...i&&{color:r}}),{align:c="inherit",className:d,component:h,gutterBottom:g=!1,noWrap:y=!1,paragraph:_=!1,variant:S="body1",variantMapping:T=MC,...E}=l,b={...l,align:c,color:r,className:d,component:h,gutterBottom:g,noWrap:y,paragraph:_,variant:S,variantMapping:T},A=h||(_?"p":T[S]||MC[S])||"span",V=pQ(b);return p.jsx(mQ,{as:A,ref:n,className:ws(V.root,d),...E,ownerState:b,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...E.style}})});function yQ({value:t=0}){return p.jsxs(LG,{sx:{"& > legend":{mt:2}},children:[p.jsx(gQ,{component:"legend",children:"Rating"}),p.jsx(aQ,{name:"read-only",value:t,readOnly:!0})]})}const vQ=()=>{const{profile:t}=C.useContext(rl),{currentUser:e}=ci(),n=zn(),[r,s]=C.useState([]),[i,l]=C.useState([]),[c,d]=C.useState([]),[h,g]=C.useState([]),[y,_]=C.useState(!0),[S,T]=C.useState(null);C.useEffect(()=>{if(!(t!=null&&t.role)||t.role!=="contractor"||!e){_(!1);return}(async()=>{try{console.log("Fetching projects for contractor:",e.uid),_(!0);const A=Oi(Qs(Pt,"projects"),lr("status","==","submitted")),V=Oi(Qs(Pt,"projects"),lr("status","==","inquiry"),lr("inquiredBy","array-contains",e.uid)),M=Oi(Qs(Pt,"projects"),lr("status","==","pending_approval"),lr("requestedBy","array-contains",e.uid)),U=Oi(Qs(Pt,"projects"),lr("status","==","in progress"),lr("contractorId","==",e.uid));try{const[z,q,k,N]=await Promise.all([Ys(A),Ys(V),Ys(M),Ys(U)]);console.log("Available projects count:",z.size),console.log("Inquired projects count:",q.size),console.log("Pending approval projects count:",k.size),console.log("In Progress projects count:",N.size);const O=z.docs.map(L=>({id:L.id,...L.data()})),I=q.docs.map(L=>({id:L.id,...L.data()})),j=k.docs.map(L=>({id:L.id,...L.data()})),F=N.docs.map(L=>({id:L.id,...L.data()}));s(O),l(I),d(j),g(F),T(null)}catch(z){console.error("Error in queries:",z),T("Failed to load projects. Please try again later."),s([]),l([]),d([]),g([])}}catch(A){console.error("Error fetching projects:",A),T(A.message),s([]),l([]),d([]),g([])}finally{_(!1)}})()},[e,t]);const E=b=>{n(`/projects/view/${b}`)};return p.jsxs(p.Fragment,{children:[p.jsx(qz,{}),p.jsxs("div",{className:"main-content max-w-6xl mx-auto p-6 pb-12",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-24",children:[p.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center p-4 border rounded shadow",children:[p.jsx("h2",{className:"text-2xl font-bold mt-4",children:(t==null?void 0:t.username)||(t==null?void 0:t.firstName)||"Contractor"}),p.jsx("img",{src:IH,alt:"profile",className:"w-24 h-24 rounded-full my-2"}),p.jsx("p",{className:"text-gray-500",children:t==null?void 0:t.email}),(t==null?void 0:t.role)==="contractor"&&p.jsxs("div",{className:"mt-2",children:[p.jsx(yQ,{value:t.rating||0,readOnly:!0}),p.jsxs("p",{className:"text-sm text-gray-500",children:[t.reviewCount||0," review",t.reviewCount===1?"":"s"]})]}),p.jsx(At,{to:"/edit-profile",children:p.jsx("button",{className:"mt-2 bg-blue-500 text-white px-4 py-2 rounded",children:"Edit Profile"})})]}),p.jsxs("div",{className:"p-4 border rounded shadow md:col-span-2",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Quick Stats"}),p.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[p.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[p.jsx("p",{className:"text-blue-700 font-medium",children:r.length}),p.jsx("p",{className:"text-sm text-gray-600",children:"Available"})]}),p.jsxs("div",{className:"bg-yellow-50 p-3 rounded",children:[p.jsx("p",{className:"text-yellow-700 font-medium",children:i.length}),p.jsx("p",{className:"text-sm text-gray-600",children:"Inquired"})]}),p.jsxs("div",{className:"bg-orange-50 p-3 rounded",children:[p.jsx("p",{className:"text-orange-700 font-medium",children:c.length}),p.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"})]}),p.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[p.jsx("p",{className:"text-green-700 font-medium",children:h.length}),p.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"})]})]}),p.jsxs("div",{className:"mt-4 flex gap-4",children:[p.jsx(At,{to:"/available-projects",children:p.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Browse All Projects"})}),p.jsx(At,{to:"/messages",children:p.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Messages"})})]})]})]}),y?p.jsx("div",{className:"text-center mt-8 p-4",children:"Loading projects..."}):S?p.jsx("div",{className:"text-center mt-8 p-4 text-red-500",children:S}):p.jsxs("div",{className:"mt-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Available Projects"}),p.jsx(At,{to:"/available-projects",className:"text-blue-500 hover:underline",children:"View All"})]}),r.length===0?p.jsx("p",{className:"text-gray-500",children:"No available projects at the moment."}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.slice(0,3).map(b=>{var A;return p.jsxs("div",{className:"border p-4 rounded shadow relative",children:[p.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-blue-100 text-blue-800",children:"New"}),p.jsx("h3",{className:"font-semibold mb-2",children:b.title}),p.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:b.description}),p.jsxs("div",{className:"flex justify-between items-center mt-2",children:[p.jsx("span",{className:"text-xs text-gray-500",children:((A=b.flooringOption)==null?void 0:A.title)||"Not specified"}),p.jsx("button",{onClick:()=>E(b.id),className:"text-blue-600 hover:underline text-sm",children:"View Details"})]})]},b.id)})})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects You've Inquired About"}),i.length===0?p.jsx("p",{className:"text-gray-500",children:"You haven't inquired about any projects yet."}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(b=>{var A;return p.jsxs("div",{className:"border p-4 rounded shadow relative",children:[p.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-yellow-100 text-yellow-800",children:"Inquired"}),p.jsx("h3",{className:"font-semibold mb-2",children:b.title}),p.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:b.description}),p.jsxs("div",{className:"flex justify-between items-center mt-2",children:[p.jsx("span",{className:"text-xs text-gray-500",children:((A=b.flooringOption)==null?void 0:A.title)||"Not specified"}),p.jsx("button",{onClick:()=>E(b.id),className:"text-yellow-600 hover:underline text-sm",children:"View Inquiry"})]})]},b.id)})})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects Pending Approval"}),c.length===0?p.jsx("p",{className:"text-gray-500",children:"No projects pending approval."}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(b=>{var A;return p.jsxs("div",{className:"border p-4 rounded shadow relative",children:[p.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-orange-100 text-orange-800",children:"Pending Approval"}),p.jsx("h3",{className:"font-semibold mb-2",children:b.title}),p.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:b.description}),p.jsxs("div",{className:"flex justify-between items-center mt-2",children:[p.jsx("span",{className:"text-xs text-gray-500",children:((A=b.flooringOption)==null?void 0:A.title)||"Not specified"}),p.jsx("button",{onClick:()=>E(b.id),className:"text-orange-600 hover:underline text-sm",children:"View Details"})]})]},b.id)})})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects In Progress"}),h.length===0?p.jsx("p",{className:"text-gray-500",children:"No projects in progress."}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(b=>{var A;return p.jsxs("div",{className:"border p-4 rounded shadow relative",children:[p.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:"In Progress"}),p.jsx("h3",{className:"font-semibold mb-2",children:b.title}),p.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:b.description}),p.jsxs("div",{className:"flex justify-between items-center mt-2",children:[p.jsx("span",{className:"text-xs text-gray-500",children:((A=b.flooringOption)==null?void 0:A.title)||"Not specified"}),p.jsx("button",{onClick:()=>E(b.id),className:"text-green-600 hover:underline text-sm",children:"View Project"})]})]},b.id)})})]})]})]})]})},l_=async({projectId:t,customerId:e,contractorId:n,status:r="inquiry"})=>{const s=`${t}_${n}`,i=Lt(Pt,"conversations",s);return(await Xn(i)).exists()||await bw(i,{projectId:t,customerId:e,contractorId:n,participants:[e,n],status:r,createdAt:h6()}),s},_Q=()=>{var g,y,_,S;const{projectId:t}=Qd();console.log("Project ID from URL:",t);const e=zn(),{profile:n,user:r}=ph(),[s,i]=C.useState(null),[l,c]=C.useState(!0);C.useEffect(()=>{(async()=>{if(!t){console.error("No project ID provided in URL"),c(!1);return}try{const E=Lt(Pt,"projects",t),b=await Xn(E);b.exists()&&i({id:b.id,...b.data()})}catch(E){console.error("Error fetching project:",E.message)}finally{c(!1)}})()},[t]);const d=async()=>{try{const T=Lt(Pt,"projects",t);await vs(T,{status:"inquiry",inquiredBy:[...s.inquiredBy||[],r.uid]});const E=await l_({projectId:t,customerId:s.ownerId,contractorId:r.uid,status:"inquiry"});e("/messages")}catch(T){console.error("Error inquiring about project:",T.message)}},h=async()=>{try{const T=Lt(Pt,"projects",t);await vs(T,{status:"pending_approval",requestedBy:[...s.requestedBy||[],r.uid]}),e("/contractor-dashboard")}catch(T){console.error("Error requestin acceptance:",T.message)}};return l?p.jsx("div",{children:"Loading project..."}):s?p.jsxs("div",{className:"p-6 max-w-4xl mx-auto mt-24",children:[p.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:p.jsx("div",{className:"logo cursor-pointer",onClick:()=>e(-1),children:" return "})}),p.jsx("h1",{className:"text-2xl font-bold mb-2",children:s.title}),p.jsx("p",{className:"text-gray-700 mb-4",children:s.description}),p.jsxs("p",{children:["Material: ",(g=s.flooringOption)==null?void 0:g.title]}),p.jsxs("p",{children:["Area: ",(y=s.roomDimensions)==null?void 0:y.length," x ",(_=s.roomDimensions)==null?void 0:_.width," ft"]}),(n==null?void 0:n.role)==="contractor"&&p.jsx("div",{className:"mt-6 flex gap-4",children:s.status==="in progress"&&s.contractorId===r.uid?p.jsx("button",{onClick:()=>e("/messages/"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"View Conversation"}):s.status==="inquiry"&&((S=s.inquiredBy)!=null&&S.includes(r.uid))?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>e("/messages/"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"View Conversation"}),p.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Request Acceptance"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:d,className:"bg-yellow-500 text-white px-4 py-2 rounded",children:"Inquire"}),p.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Request Acceptance"})]})})]}):p.jsx("div",{children:"Project not found."})},wQ=()=>{const{id:t}=Qd(),[e,n]=C.useState([]),[r,s]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const d=Lt(Pt,"projects",t),h=await Xn(d);if(!h.exists()){console.error("Project not found"),s(!1);return}const y=h.data().requestedBy||[],_=await Promise.all(y.map(async S=>{const T=await Xn(Lt(Pt,"users",S));return T.exists()?{uid:S,...T.data()}:null}));n(_.filter(Boolean))}catch(d){console.error("Error fetching contractor requests:",d)}finally{s(!1)}})()},[t]);const i=async c=>{try{const d=Lt(Pt,"projects",t);await vs(d,{contractorId:c,status:"in progress"});const h=await Xn(d);if(h.exists()){const y=(h.data().requestedBy||[]).filter(_=>_!==c);await vs(d,{requestedBy:y}),n(_=>_.filter(S=>S.uid!==c))}}catch(d){console.error("Error approving contractor:",d)}},l=async c=>{try{const d=Lt(Pt,"projects",t),h=await Xn(d);if(!h.exists())return;const y=(h.data().requestedBy||[]).filter(_=>_!==c);await vs(d,{requestedBy:y}),n(_=>_.filter(S=>S.uid!==c))}catch(d){console.error("Error denying contractor:",d)}};return r?p.jsx("div",{className:"p-4",children:"Loading contractor requests..."}):p.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contractor Requests"}),e.length===0?p.jsx("p",{children:"No contractor requests yet."}):p.jsx("ul",{className:"space-y-4",children:e.map(c=>p.jsxs("li",{className:"p-4 border rounded shadow",children:[p.jsxs("h2",{className:"text-lg font-semibold",children:[c.firstName," ",c.lastName]}),p.jsx("p",{className:"text-sm text-gray-600",children:c.email}),p.jsx("p",{className:"text-sm text-gray-500",children:c.role}),p.jsxs("div",{className:"mt-2 flex gap-2",children:[p.jsx("button",{onClick:()=>i(c.uid),className:"bg-green-600 text-white px-4 py-1 rounded",children:"Approve"}),p.jsx("button",{onClick:()=>l(c.uid),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Deny"})]})]},c.uid))})]})},xQ=()=>{const{id:t}=Qd(),e=zn(),{user:n}=ph(),[r,s]=C.useState([]),[i,l]=C.useState(null),[c,d]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const S=Lt(Pt,"projects",t),T=await Xn(S);if(!T.exists()){console.error("Project not found"),d(!1);return}const E={id:T.id,...T.data()};l(E);const b=E.inquiredBy||[],A=await Promise.all(b.map(async U=>{const z=await Xn(Lt(Pt,"users",U));return z.exists()?{uid:U,...z.data()}:null})),V=[],M=new Set;for(const U of A)U&&!M.has(U.uid)&&(M.add(U.uid),V.push(U));s(V)}catch(S){console.error("Error fetching contractor inquiries:",S)}finally{d(!1)}})()},[t]);const h=async _=>{try{const S=await l_({projectId:t,customerId:n.uid,contractorId:_,status:"inquiry"});e("/messages")}catch(S){console.error("Error viewing messages:",S)}},g=async _=>{try{const S=Lt(Pt,"projects",t);await vs(S,{contractorId:_,status:"in progress"}),await l_({projectId:t,customerId:n.uid,contractorId:_,status:"in_progress"});const T=await Xn(S);if(T.exists()){const b=(T.data().inquiredBy||[]).filter(A=>A!==_);await vs(S,{inquiredBy:b})}e("/projects")}catch(S){console.error("Error accepting contractor:",S)}},y=async _=>{try{const S=Lt(Pt,"projects",t),T=await Xn(S);if(!T.exists())return;const b=(T.data().inquiredBy||[]).filter(A=>A!==_);await vs(S,{inquiredBy:b}),s(A=>A.filter(V=>V.uid!==_))}catch(S){console.error("Error removing contractor inquiry:",S)}};return c?p.jsx("div",{className:"p-4",children:"Loading contractor inquiries..."}):p.jsxs("div",{className:"p-6 max-w-3xl mx-auto mt-24",children:[p.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:p.jsx(At,{to:"/ProfileDashboard",children:p.jsx("div",{className:"logo",children:" return "})})}),p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contractor Inquiries"}),i&&p.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[p.jsx("h2",{className:"font-semibold text-lg",children:i.title}),p.jsx("p",{className:"text-sm text-gray-600",children:i.description})]}),r.length===0?p.jsx("p",{children:"No contractor inquiries yet."}):p.jsx("ul",{className:"space-y-4",children:r.map(_=>p.jsxs("li",{className:"p-4 border rounded shadow",children:[p.jsxs("h2",{className:"text-lg font-semibold",children:[_.firstName," ",_.lastName]}),p.jsx("p",{className:"text-sm text-gray-600",children:_.email}),p.jsx("p",{className:"text-sm text-gray-500",children:_.role}),p.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[p.jsx("button",{onClick:()=>h(_.uid),className:"bg-blue-600 text-white px-4 py-1 rounded",children:"View Message"}),p.jsx("button",{onClick:()=>g(_.uid),className:"bg-green-600 text-white px-4 py-1 rounded",children:"Accept"}),p.jsx("button",{onClick:()=>y(_.uid),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Decline"})]})]},_.uid))})]})};function zN(t,e){return function(){return t.apply(e,arguments)}}const{toString:EQ}=Object.prototype,{getPrototypeOf:Fx}=Object,Eg=(t=>e=>{const n=EQ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cs=t=>(t=t.toLowerCase(),e=>Eg(e)===t),Tg=t=>e=>typeof e===t,{isArray:Gc}=Array,qd=Tg("undefined");function TQ(t){return t!==null&&!qd(t)&&t.constructor!==null&&!qd(t.constructor)&&Or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WN=Cs("ArrayBuffer");function bQ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WN(t.buffer),e}const SQ=Tg("string"),Or=Tg("function"),HN=Tg("number"),bg=t=>t!==null&&typeof t=="object",CQ=t=>t===!0||t===!1,Cp=t=>{if(Eg(t)!=="object")return!1;const e=Fx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},IQ=Cs("Date"),RQ=Cs("File"),AQ=Cs("Blob"),PQ=Cs("FileList"),kQ=t=>bg(t)&&Or(t.pipe),NQ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Or(t.append)&&((e=Eg(t))==="formdata"||e==="object"&&Or(t.toString)&&t.toString()==="[object FormData]"))},OQ=Cs("URLSearchParams"),[DQ,LQ,jQ,MQ]=["ReadableStream","Request","Response","Headers"].map(Cs),VQ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Th(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Gc(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let c;for(r=0;r<l;r++)c=i[r],e.call(null,t[c],c,t)}}function qN(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KN=t=>!qd(t)&&t!==ja;function c_(){const{caseless:t}=KN(this)&&this||{},e={},n=(r,s)=>{const i=t&&qN(e,s)||s;Cp(e[i])&&Cp(r)?e[i]=c_(e[i],r):Cp(r)?e[i]=c_({},r):Gc(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Th(arguments[r],n);return e}const FQ=(t,e,n,{allOwnKeys:r}={})=>(Th(e,(s,i)=>{n&&Or(s)?t[i]=zN(s,n):t[i]=s},{allOwnKeys:r}),t),UQ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$Q=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},BQ=(t,e,n,r)=>{let s,i,l;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)l=s[i],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&Fx(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zQ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},WQ=t=>{if(!t)return null;if(Gc(t))return t;let e=t.length;if(!HN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},HQ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fx(Uint8Array)),qQ=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},KQ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},GQ=Cs("HTMLFormElement"),QQ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),VC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),YQ=Cs("RegExp"),GN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Th(n,(s,i)=>{let l;(l=e(s,i,t))!==!1&&(r[i]=l||s)}),Object.defineProperties(t,r)},XQ=t=>{GN(t,(e,n)=>{if(Or(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JQ=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Gc(t)?r(t):r(String(t).split(e)),n},ZQ=()=>{},eY=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function tY(t){return!!(t&&Or(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const nY=t=>{const e=new Array(10),n=(r,s)=>{if(bg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Gc(r)?[]:{};return Th(r,(l,c)=>{const d=n(l,s+1);!qd(d)&&(i[c]=d)}),e[s]=void 0,i}}return r};return n(t,0)},rY=Cs("AsyncFunction"),sY=t=>t&&(bg(t)||Or(t))&&Or(t.then)&&Or(t.catch),QN=((t,e)=>t?setImmediate:e?((n,r)=>(ja.addEventListener("message",({source:s,data:i})=>{s===ja&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ja.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Or(ja.postMessage)),iY=typeof queueMicrotask<"u"?queueMicrotask.bind(ja):typeof process<"u"&&process.nextTick||QN,J={isArray:Gc,isArrayBuffer:WN,isBuffer:TQ,isFormData:NQ,isArrayBufferView:bQ,isString:SQ,isNumber:HN,isBoolean:CQ,isObject:bg,isPlainObject:Cp,isReadableStream:DQ,isRequest:LQ,isResponse:jQ,isHeaders:MQ,isUndefined:qd,isDate:IQ,isFile:RQ,isBlob:AQ,isRegExp:YQ,isFunction:Or,isStream:kQ,isURLSearchParams:OQ,isTypedArray:HQ,isFileList:PQ,forEach:Th,merge:c_,extend:FQ,trim:VQ,stripBOM:UQ,inherits:$Q,toFlatObject:BQ,kindOf:Eg,kindOfTest:Cs,endsWith:zQ,toArray:WQ,forEachEntry:qQ,matchAll:KQ,isHTMLForm:GQ,hasOwnProperty:VC,hasOwnProp:VC,reduceDescriptors:GN,freezeMethods:XQ,toObjectSet:JQ,toCamelCase:QQ,noop:ZQ,toFiniteNumber:eY,findKey:qN,global:ja,isContextDefined:KN,isSpecCompliantForm:tY,toJSONObject:nY,isAsyncFn:rY,isThenable:sY,setImmediate:QN,asap:iY};function Me(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}J.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const YN=Me.prototype,XN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{XN[t]={value:t}});Object.defineProperties(Me,XN);Object.defineProperty(YN,"isAxiosError",{value:!0});Me.from=(t,e,n,r,s,i)=>{const l=Object.create(YN);return J.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Me.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,i&&Object.assign(l,i),l};const oY=null;function u_(t){return J.isPlainObject(t)||J.isArray(t)}function JN(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function FC(t,e,n){return t?t.concat(e).map(function(s,i){return s=JN(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function aY(t){return J.isArray(t)&&!t.some(u_)}const lY=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function Sg(t,e,n){if(!J.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,b){return!J.isUndefined(b[E])});const r=n.metaTokens,s=n.visitor||g,i=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(s))throw new TypeError("visitor must be a function");function h(T){if(T===null)return"";if(J.isDate(T))return T.toISOString();if(!d&&J.isBlob(T))throw new Me("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(T)||J.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function g(T,E,b){let A=T;if(T&&!b&&typeof T=="object"){if(J.endsWith(E,"{}"))E=r?E:E.slice(0,-2),T=JSON.stringify(T);else if(J.isArray(T)&&aY(T)||(J.isFileList(T)||J.endsWith(E,"[]"))&&(A=J.toArray(T)))return E=JN(E),A.forEach(function(M,U){!(J.isUndefined(M)||M===null)&&e.append(l===!0?FC([E],U,i):l===null?E:E+"[]",h(M))}),!1}return u_(T)?!0:(e.append(FC(b,E,i),h(T)),!1)}const y=[],_=Object.assign(lY,{defaultVisitor:g,convertValue:h,isVisitable:u_});function S(T,E){if(!J.isUndefined(T)){if(y.indexOf(T)!==-1)throw Error("Circular reference detected in "+E.join("."));y.push(T),J.forEach(T,function(A,V){(!(J.isUndefined(A)||A===null)&&s.call(e,A,J.isString(V)?V.trim():V,E,_))===!0&&S(A,E?E.concat(V):[V])}),y.pop()}}if(!J.isObject(t))throw new TypeError("data must be an object");return S(t),e}function UC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ux(t,e){this._pairs=[],t&&Sg(t,this,e)}const ZN=Ux.prototype;ZN.append=function(e,n){this._pairs.push([e,n])};ZN.toString=function(e){const n=e?function(r){return e.call(this,r,UC)}:UC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function cY(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eO(t,e,n){if(!e)return t;const r=n&&n.encode||cY;J.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=J.isURLSearchParams(e)?e.toString():new Ux(e,n).toString(r),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class $C{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(r){r!==null&&e(r)})}}const tO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uY=typeof URLSearchParams<"u"?URLSearchParams:Ux,dY=typeof FormData<"u"?FormData:null,hY=typeof Blob<"u"?Blob:null,fY={isBrowser:!0,classes:{URLSearchParams:uY,FormData:dY,Blob:hY},protocols:["http","https","file","blob","url","data"]},$x=typeof window<"u"&&typeof document<"u",d_=typeof navigator=="object"&&navigator||void 0,pY=$x&&(!d_||["ReactNative","NativeScript","NS"].indexOf(d_.product)<0),mY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gY=$x&&window.location.href||"http://localhost",yY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$x,hasStandardBrowserEnv:pY,hasStandardBrowserWebWorkerEnv:mY,navigator:d_,origin:gY},Symbol.toStringTag,{value:"Module"})),Fn={...yY,...fY};function vY(t,e){return Sg(t,new Fn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Fn.isNode&&J.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function _Y(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wY(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function nO(t){function e(n,r,s,i){let l=n[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=i>=n.length;return l=!l&&J.isArray(s)?s.length:l,d?(J.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!J.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],i)&&J.isArray(s[l])&&(s[l]=wY(s[l])),!c)}if(J.isFormData(t)&&J.isFunction(t.entries)){const n={};return J.forEachEntry(t,(r,s)=>{e(_Y(r),s,n,0)}),n}return null}function xY(t,e,n){if(J.isString(t))try{return(e||JSON.parse)(t),J.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const bh={transitional:tO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=J.isObject(e);if(i&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return s?JSON.stringify(nO(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vY(e,this.formSerializer).toString();if((c=J.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Sg(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),xY(e)):e}],transformResponse:[function(e){const n=this.transitional||bh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Me.from(c,Me.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{bh.headers[t]={}});const EY=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TY=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&EY[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},BC=Symbol("internals");function ed(t){return t&&String(t).trim().toLowerCase()}function Ip(t){return t===!1||t==null?t:J.isArray(t)?t.map(Ip):String(t)}function bY(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const SY=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qv(t,e,n,r,s){if(J.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!J.isString(e)){if(J.isString(r))return e.indexOf(r)!==-1;if(J.isRegExp(r))return r.test(e)}}function CY(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function IY(t,e){const n=J.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,l){return this[r].call(this,e,s,i,l)},configurable:!0})})}let pr=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(c,d,h){const g=ed(d);if(!g)throw new Error("header name must be a non-empty string");const y=J.findKey(s,g);(!y||s[y]===void 0||h===!0||h===void 0&&s[y]!==!1)&&(s[y||d]=Ip(c))}const l=(c,d)=>J.forEach(c,(h,g)=>i(h,g,d));if(J.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(J.isString(e)&&(e=e.trim())&&!SY(e))l(TY(e),n);else if(J.isHeaders(e))for(const[c,d]of e.entries())i(d,c,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=ed(e),e){const r=J.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return bY(s);if(J.isFunction(n))return n.call(this,s,r);if(J.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ed(e),e){const r=J.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||qv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(l){if(l=ed(l),l){const c=J.findKey(r,l);c&&(!n||qv(r,r[c],c,n))&&(delete r[c],s=!0)}}return J.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||qv(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return J.forEach(this,(s,i)=>{const l=J.findKey(r,i);if(l){n[l]=Ip(s),delete n[i];return}const c=e?CY(i):String(i).trim();c!==i&&delete n[i],n[c]=Ip(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return J.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&J.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[BC]=this[BC]={accessors:{}}).accessors,s=this.prototype;function i(l){const c=ed(l);r[c]||(IY(s,l),r[c]=!0)}return J.isArray(e)?e.forEach(i):i(e),this}};pr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(pr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});J.freezeMethods(pr);function Kv(t,e){const n=this||bh,r=e||n,s=pr.from(r.headers);let i=r.data;return J.forEach(t,function(c){i=c.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function rO(t){return!!(t&&t.__CANCEL__)}function Qc(t,e,n){Me.call(this,t??"canceled",Me.ERR_CANCELED,e,n),this.name="CanceledError"}J.inherits(Qc,Me,{__CANCEL__:!0});function sO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Me("Request failed with status code "+n.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function AY(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),g=r[i];l||(l=h),n[s]=d,r[s]=h;let y=i,_=0;for(;y!==s;)_+=n[y++],y=y%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),h-l<e)return;const S=g&&h-g;return S?Math.round(_*1e3/S):void 0}}function PY(t,e){let n=0,r=1e3/e,s,i;const l=(h,g=Date.now())=>{n=g,s=null,i&&(clearTimeout(i),i=null),t.apply(null,h)};return[(...h)=>{const g=Date.now(),y=g-n;y>=r?l(h,g):(s=h,i||(i=setTimeout(()=>{i=null,l(s)},r-y)))},()=>s&&l(s)]}const fm=(t,e,n=3)=>{let r=0;const s=AY(50,250);return PY(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,d=l-r,h=s(d),g=l<=c;r=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&g?(c-l)/h:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(y)},n)},zC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},WC=t=>(...e)=>J.asap(()=>t(...e)),kY=Fn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Fn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,NY=Fn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const l=[t+"="+encodeURIComponent(e)];J.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),J.isString(r)&&l.push("path="+r),J.isString(s)&&l.push("domain="+s),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DY(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iO(t,e,n){let r=!OY(e);return t&&r||n==!1?DY(t,e):e}const HC=t=>t instanceof pr?{...t}:t;function Ja(t,e){e=e||{};const n={};function r(h,g,y,_){return J.isPlainObject(h)&&J.isPlainObject(g)?J.merge.call({caseless:_},h,g):J.isPlainObject(g)?J.merge({},g):J.isArray(g)?g.slice():g}function s(h,g,y,_){if(J.isUndefined(g)){if(!J.isUndefined(h))return r(void 0,h,y,_)}else return r(h,g,y,_)}function i(h,g){if(!J.isUndefined(g))return r(void 0,g)}function l(h,g){if(J.isUndefined(g)){if(!J.isUndefined(h))return r(void 0,h)}else return r(void 0,g)}function c(h,g,y){if(y in e)return r(h,g);if(y in t)return r(void 0,h)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,g,y)=>s(HC(h),HC(g),y,!0)};return J.forEach(Object.keys(Object.assign({},t,e)),function(g){const y=d[g]||s,_=y(t[g],e[g],g);J.isUndefined(_)&&y!==c||(n[g]=_)}),n}const oO=t=>{const e=Ja({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:c}=e;e.headers=l=pr.from(l),e.url=eO(iO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(J.isFormData(n)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...g]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...g].join("; "))}}if(Fn.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(e)),r||r!==!1&&kY(e.url))){const h=s&&i&&NY.read(i);h&&l.set(s,h)}return e},LY=typeof XMLHttpRequest<"u",jY=LY&&function(t){return new Promise(function(n,r){const s=oO(t);let i=s.data;const l=pr.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=s,g,y,_,S,T;function E(){S&&S(),T&&T(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function A(){if(!b)return;const M=pr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),z={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:M,config:t,request:b};sO(function(k){n(k),E()},function(k){r(k),E()},z),b=null}"onloadend"in b?b.onloadend=A:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(A)},b.onabort=function(){b&&(r(new Me("Request aborted",Me.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let U=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||tO;s.timeoutErrorMessage&&(U=s.timeoutErrorMessage),r(new Me(U,z.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&J.forEach(l.toJSON(),function(U,z){b.setRequestHeader(z,U)}),J.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),c&&c!=="json"&&(b.responseType=s.responseType),h&&([_,T]=fm(h,!0),b.addEventListener("progress",_)),d&&b.upload&&([y,S]=fm(d),b.upload.addEventListener("progress",y),b.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(g=M=>{b&&(r(!M||M.type?new Qc(null,t,b):M),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const V=RY(s.url);if(V&&Fn.protocols.indexOf(V)===-1){r(new Me("Unsupported protocol "+V+":",Me.ERR_BAD_REQUEST,t));return}b.send(i||null)})},MY=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(h){if(!s){s=!0,c();const g=h instanceof Error?h:this.reason;r.abort(g instanceof Me?g:new Qc(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,i(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>J.asap(c),d}},VY=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},FY=async function*(t,e){for await(const n of UY(t))yield*VY(n,e)},UY=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},qC=(t,e,n,r)=>{const s=FY(t,e);let i=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:g}=await s.next();if(h){c(),d.close();return}let y=g.byteLength;if(n){let _=i+=y;n(_)}d.enqueue(new Uint8Array(g))}catch(h){throw c(h),h}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Cg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aO=Cg&&typeof ReadableStream=="function",$Y=Cg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),lO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BY=aO&&lO(()=>{let t=!1;const e=new Request(Fn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),KC=64*1024,h_=aO&&lO(()=>J.isReadableStream(new Response("").body)),pm={stream:h_&&(t=>t.body)};Cg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!pm[e]&&(pm[e]=J.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const zY=async t=>{if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return(await new Request(Fn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(J.isArrayBufferView(t)||J.isArrayBuffer(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return(await $Y(t)).byteLength},WY=async(t,e)=>{const n=J.toFiniteNumber(t.getContentLength());return n??zY(e)},HY=Cg&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:g,withCredentials:y="same-origin",fetchOptions:_}=oO(t);h=h?(h+"").toLowerCase():"text";let S=MY([s,i&&i.toAbortSignal()],l),T;const E=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let b;try{if(d&&BY&&n!=="get"&&n!=="head"&&(b=await WY(g,r))!==0){let z=new Request(e,{method:"POST",body:r,duplex:"half"}),q;if(J.isFormData(r)&&(q=z.headers.get("content-type"))&&g.setContentType(q),z.body){const[k,N]=zC(b,fm(WC(d)));r=qC(z.body,KC,k,N)}}J.isString(y)||(y=y?"include":"omit");const A="credentials"in Request.prototype;T=new Request(e,{..._,signal:S,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:A?y:void 0});let V=await fetch(T);const M=h_&&(h==="stream"||h==="response");if(h_&&(c||M&&E)){const z={};["status","statusText","headers"].forEach(O=>{z[O]=V[O]});const q=J.toFiniteNumber(V.headers.get("content-length")),[k,N]=c&&zC(q,fm(WC(c),!0))||[];V=new Response(qC(V.body,KC,k,()=>{N&&N(),E&&E()}),z)}h=h||"text";let U=await pm[J.findKey(pm,h)||"text"](V,t);return!M&&E&&E(),await new Promise((z,q)=>{sO(z,q,{data:U,headers:pr.from(V.headers),status:V.status,statusText:V.statusText,config:t,request:T})})}catch(A){throw E&&E(),A&&A.name==="TypeError"&&/fetch/i.test(A.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,t,T),{cause:A.cause||A}):Me.from(A,A&&A.code,t,T)}}),f_={http:oY,xhr:jY,fetch:HY};J.forEach(f_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const GC=t=>`- ${t}`,qY=t=>J.isFunction(t)||t===null||t===!1,cO={getAdapter:t=>{t=J.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let l;if(r=n,!qY(n)&&(r=f_[(l=String(n)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?i.length>1?`since :
`+i.map(GC).join(`
`):" "+GC(i[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:f_};function Gv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qc(null,t)}function QC(t){return Gv(t),t.headers=pr.from(t.headers),t.data=Kv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cO.getAdapter(t.adapter||bh.adapter)(t).then(function(r){return Gv(t),r.data=Kv.call(t,t.transformResponse,r),r.headers=pr.from(r.headers),r},function(r){return rO(r)||(Gv(t),r&&r.response&&(r.response.data=Kv.call(t,t.transformResponse,r.response),r.response.headers=pr.from(r.response.headers))),Promise.reject(r)})}const uO="1.8.3",Ig={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ig[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const YC={};Ig.transitional=function(e,n,r){function s(i,l){return"[Axios v"+uO+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,c)=>{if(e===!1)throw new Me(s(l," has been removed"+(n?" in "+n:"")),Me.ERR_DEPRECATED);return n&&!YC[l]&&(YC[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,l,c):!0}};Ig.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function KY(t,e,n){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],l=e[i];if(l){const c=t[i],d=c===void 0||l(c,i,t);if(d!==!0)throw new Me("option "+i+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Me("Unknown option "+i,Me.ERR_BAD_OPTION)}}const Rp={assertOptions:KY,validators:Ig},zs=Rp.validators;let Fa=class{constructor(e){this.defaults=e,this.interceptors={request:new $C,response:new $C}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ja(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Rp.assertOptions(r,{silentJSONParsing:zs.transitional(zs.boolean),forcedJSONParsing:zs.transitional(zs.boolean),clarifyTimeoutError:zs.transitional(zs.boolean)},!1),s!=null&&(J.isFunction(s)?n.paramsSerializer={serialize:s}:Rp.assertOptions(s,{encode:zs.function,serialize:zs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rp.assertOptions(n,{baseUrl:zs.spelling("baseURL"),withXsrfToken:zs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&J.merge(i.common,i[n.method]);i&&J.forEach(["delete","get","head","post","put","patch","common"],T=>{delete i[T]}),n.headers=pr.concat(l,i);const c=[];let d=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(d=d&&E.synchronous,c.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let g,y=0,_;if(!d){const T=[QC.bind(this),void 0];for(T.unshift.apply(T,c),T.push.apply(T,h),_=T.length,g=Promise.resolve(n);y<_;)g=g.then(T[y++],T[y++]);return g}_=c.length;let S=n;for(y=0;y<_;){const T=c[y++],E=c[y++];try{S=T(S)}catch(b){E.call(this,b);break}}try{g=QC.call(this,S)}catch(T){return Promise.reject(T)}for(y=0,_=h.length;y<_;)g=g.then(h[y++],h[y++]);return g}getUri(e){e=Ja(this.defaults,e);const n=iO(e.baseURL,e.url,e.allowAbsoluteUrls);return eO(n,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){Fa.prototype[e]=function(n,r){return this.request(Ja(r||{},{method:e,url:n,data:(r||{}).data}))}});J.forEach(["post","put","patch"],function(e){function n(r){return function(i,l,c){return this.request(Ja(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Fa.prototype[e]=n(),Fa.prototype[e+"Form"]=n(!0)});let GY=class dO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(c=>{r.subscribe(c),i=c}).then(s);return l.cancel=function(){r.unsubscribe(i)},l},e(function(i,l,c){r.reason||(r.reason=new Qc(i,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new dO(function(s){e=s}),cancel:e}}};function QY(t){return function(n){return t.apply(null,n)}}function YY(t){return J.isObject(t)&&t.isAxiosError===!0}const p_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(p_).forEach(([t,e])=>{p_[e]=t});function hO(t){const e=new Fa(t),n=zN(Fa.prototype.request,e);return J.extend(n,Fa.prototype,e,{allOwnKeys:!0}),J.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return hO(Ja(t,s))},n}const jt=hO(bh);jt.Axios=Fa;jt.CanceledError=Qc;jt.CancelToken=GY;jt.isCancel=rO;jt.VERSION=uO;jt.toFormData=Sg;jt.AxiosError=Me;jt.Cancel=jt.CanceledError;jt.all=function(e){return Promise.all(e)};jt.spread=QY;jt.isAxiosError=YY;jt.mergeConfig=Ja;jt.AxiosHeaders=pr;jt.formToJSON=t=>nO(J.isHTMLForm(t)?new FormData(t):t);jt.getAdapter=cO.getAdapter;jt.HttpStatusCode=p_;jt.default=jt;const{Axios:_J,AxiosError:wJ,CanceledError:xJ,isCancel:EJ,CancelToken:TJ,VERSION:bJ,all:SJ,Cancel:CJ,isAxiosError:IJ,spread:RJ,toFormData:AJ,AxiosHeaders:PJ,HttpStatusCode:kJ,formToJSON:NJ,getAdapter:OJ,mergeConfig:DJ}=jt,XY=async t=>{var e,n;try{console.log("Sending prompt to API:",t);const r=await jt.post("/api/ask-openai",{prompt:t});return console.log("raw response from API:",r.data),r.data.response}catch(r){throw jt.isAxiosError(r)?console.error("Axios error:",{message:r.message,status:(e=r.response)==null?void 0:e.status,data:(n=r.response)==null?void 0:n.data}):console.error("unexepcted error:",r),r}},JY=async t=>{try{return(await jt.post("/api/generate-image",{prompt:t})).data.imageUrl}catch(e){throw console.error("Error generating image:",e),e}},ZY=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(""),[s,i]=C.useState(!1),[l,c]=C.useState(""),[d,h]=C.useState(""),g=C.useRef(null),y=()=>{var A;(A=g.current)==null||A.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{y()},[t]),C.useEffect(()=>{const A={id:Date.now(),text:"Hi! I'm Ureno AI Assistant. I can help you with renovation ideas, budget planning, and design suggestions. What would you like to know about your project?",isPersonal:!1,timestamp:_()};e([A])},[]);const _=()=>{const A=new Date;return`${A.getHours()}:${A.getMinutes().toString().padStart(2,"0")}`},S=async()=>{if(n.trim()==="")return;const A={id:Date.now(),text:n,isPersonal:!0,timestamp:_()};e(M=>[...M,A]),i(!0);const V=l&&d?`I am planning a ${l} renovation with a budget of $${d}. ${n}`:l?`I am planning a ${l} renovation. ${n}`:d?`I am planning a renovation with a budget of $${d}. ${n}`:`I am planning a renovation. ${n}`;try{const M=await XY(V);setTimeout(()=>{const U={id:Date.now()+1,text:M,isPersonal:!1,timestamp:_()};e(z=>[...z,U]),i(!1)},1e3)}catch(M){console.error("Error:",M),setTimeout(()=>{const U={id:Date.now()+1,text:"Sorry, I'm having trouble connecting right now. Please try again later.",isPersonal:!1,timestamp:_()};e(z=>[...z,U]),i(!1)},1e3)}r("")},T=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),S())},E={container:{margin:0,padding:0,height:"100vh",background:"linear-gradient(135deg, #000000, #404040, #ffffff)",backgroundSize:"cover",fontFamily:"'Open Sans', sans-serif",fontSize:"12px",lineHeight:1.3,overflow:"hidden",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},bg:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1,backgroundImage:'url("background.jpeg")',backgroundRepeat:"no-repeat",backgroundPosition:"0 0",filter:"blur(80px)",transform:"scale(1.2)"},chat:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"350px",height:"80vh",maxHeight:"600px",zIndex:2,overflow:"hidden",boxShadow:"0 5px 30px rgba(0, 0, 0, .2)",background:"rgba(0, 0, 0, .5)",borderRadius:"20px",display:"flex",justifyContent:"space-between",flexDirection:"column"},chatTitle:{flex:"0 1 60px",position:"relative",zIndex:2,background:"rgba(0, 0, 0, 0.2)",color:"#fff",textTransform:"uppercase",textAlign:"left",padding:"10px 10px 10px 60px"},titleH1:{fontWeight:"normal",fontSize:"12px",margin:0,padding:0},titleH2:{color:"rgba(255, 255, 255, .5)",fontSize:"9px",letterSpacing:"1px",fontWeight:"normal",margin:0,padding:0},avatar:{position:"absolute",zIndex:1,top:"10px",left:"15px",borderRadius:"30px",width:"35px",height:"35px",overflow:"hidden",margin:0,padding:0,border:"2px solid rgba(255, 255, 255, 0.24)",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #000000, #404040)",fontSize:"18px"},settingsBar:{background:"rgba(0, 0, 0, 0.1)",padding:"8px 10px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",gap:"10px",fontSize:"10px"},settingItem:{display:"flex",flexDirection:"column",gap:"2px"},settingLabel:{color:"rgba(255, 255, 255, .7)",fontSize:"8px"},settingSelect:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"9px",padding:"2px 4px",borderRadius:"4px",outline:"none"},settingInput:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"9px",padding:"2px 4px",borderRadius:"4px",outline:"none",width:"60px"},messages:{flex:"1 1 auto",color:"rgba(255, 255, 255, .5)",overflow:"hidden",position:"relative",width:"100%"},messagesContent:{position:"absolute",top:0,left:0,height:"101%",width:"100%",overflowY:"auto",padding:"0 10px"},message:{clear:"both",float:"left",padding:"8px 12px",borderRadius:"12px 12px 12px 4px",background:"rgba(0, 0, 0, .3)",margin:"8px 0",fontSize:"11px",lineHeight:1.4,marginLeft:"40px",position:"relative",textShadow:"0 1px 1px rgba(0, 0, 0, .2)",animation:"bounce 500ms linear both",maxWidth:"250px",wordWrap:"break-word"},messagePersonal:{float:"right",color:"#fff",textAlign:"right",background:"linear-gradient(135deg, #000000, #404040)",borderRadius:"12px 12px 4px 12px",marginLeft:0,marginRight:"10px"},messageAvatar:{position:"absolute",zIndex:1,bottom:"-15px",left:"-35px",borderRadius:"30px",width:"25px",height:"25px",overflow:"hidden",margin:0,padding:0,border:"2px solid rgba(255, 255, 255, 0.24)",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #000000, #404040)",fontSize:"12px",color:"white"},timestamp:{position:"absolute",bottom:"-15px",fontSize:"8px",color:"rgba(255, 255, 255, .3)",left:0},timestampPersonal:{right:0,left:"auto"},messageBox:{flex:"0 1 50px",width:"100%",background:"rgba(0, 0, 0, 0.3)",padding:"12px",position:"relative"},messageInput:{background:"none",border:"none",outline:"none",resize:"none",color:"rgba(255, 255, 255, .7)",fontSize:"11px",height:"20px",margin:0,paddingRight:"60px",width:"100%",boxSizing:"border-box"},messageSubmit:{position:"absolute",zIndex:1,top:"12px",right:"12px",color:"#fff",border:"none",background:"#248A52",fontSize:"10px",textTransform:"uppercase",lineHeight:1,padding:"8px 12px",borderRadius:"10px",outline:"none",transition:"background .2s ease",cursor:"pointer"},loadingMessage:{clear:"both",float:"left",padding:"8px 12px",borderRadius:"12px 12px 12px 4px",background:"rgba(0, 0, 0, .3)",margin:"8px 0",fontSize:"11px",lineHeight:1.4,marginLeft:"40px",position:"relative",textShadow:"0 1px 1px rgba(0, 0, 0, .2)"},loadingDots:{display:"block",fontSize:0,width:"20px",height:"10px",position:"relative"},loadingDot:{display:"inline-block",width:"3px",height:"3px",borderRadius:"50%",background:"rgba(255, 255, 255, .5)",margin:"0 1px",animation:"ball 0.45s cubic-bezier(0, 0, 0.15, 1) alternate infinite"}};return p.jsxs("div",{style:E.container,children:[p.jsx("style",{children:`
    @keyframes bounce { 
      0% { transform: matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      4.7% { transform: matrix3d(0.45, 0, 0, 0, 0, 0.45, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      9.41% { transform: matrix3d(0.883, 0, 0, 0, 0, 0.883, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      14.11% { transform: matrix3d(1.141, 0, 0, 0, 0, 1.141, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      18.72% { transform: matrix3d(1.212, 0, 0, 0, 0, 1.212, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      24.32% { transform: matrix3d(1.151, 0, 0, 0, 0, 1.151, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      29.93% { transform: matrix3d(1.048, 0, 0, 0, 0, 1.048, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      35.54% { transform: matrix3d(0.979, 0, 0, 0, 0, 0.979, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      41.04% { transform: matrix3d(0.961, 0, 0, 0, 0, 0.961, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      52.15% { transform: matrix3d(0.991, 0, 0, 0, 0, 0.991, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      63.26% { transform: matrix3d(1.007, 0, 0, 0, 0, 1.007, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      85.49% { transform: matrix3d(0.999, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      100% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1); } 
    }

    @keyframes ball { 
      from {
        transform: translateY(0) scaleY(.8);
      }
      to {
        transform: translateY(-10px);
      }
    }
  `}),p.jsx("div",{style:E.bg}),p.jsxs("div",{style:E.chat,children:[p.jsxs("div",{style:E.chatTitle,children:[p.jsx("h1",{style:E.titleH1,children:"Ureno AI Assistant"}),p.jsx("h2",{style:E.titleH2,children:"Renovation Helper"}),p.jsx("div",{style:E.avatar,children:"🏠"})]}),p.jsxs("div",{style:E.settingsBar,children:[p.jsxs("div",{style:E.settingItem,children:[p.jsx("label",{style:E.settingLabel,children:"Room Type:"}),p.jsxs("select",{style:E.settingSelect,value:l,onChange:A=>c(A.target.value),children:[p.jsx("option",{value:"",children:"Any Room"}),p.jsx("option",{children:"Kitchen"}),p.jsx("option",{children:"Bathroom"}),p.jsx("option",{children:"Living Room"}),p.jsx("option",{children:"Bedroom"}),p.jsx("option",{children:"Basement"})]})]}),p.jsxs("div",{style:E.settingItem,children:[p.jsx("label",{style:E.settingLabel,children:"Budget ($):"}),p.jsx("input",{style:E.settingInput,type:"number",value:d,onChange:A=>h(A.target.value),placeholder:"10000"})]})]}),p.jsx("div",{style:E.messages,children:p.jsxs("div",{style:E.messagesContent,children:[t.map(A=>p.jsxs("div",{style:{...E.message,...A.isPersonal?E.messagePersonal:{}},children:[!A.isPersonal&&p.jsx("div",{style:E.messageAvatar,children:"🤖"}),A.text,p.jsx("div",{style:{...E.timestamp,...A.isPersonal?E.timestampPersonal:{}},children:A.timestamp})]},A.id)),s&&p.jsxs("div",{style:E.loadingMessage,children:[p.jsx("div",{style:E.messageAvatar,children:"🤖"}),p.jsxs("div",{style:E.loadingDots,children:[p.jsx("span",{style:{...E.loadingDot,animationDelay:"0s"}}),p.jsx("span",{style:{...E.loadingDot,animationDelay:"0.15s"}}),p.jsx("span",{style:{...E.loadingDot,animationDelay:"0.3s"}})]})]}),p.jsx("div",{ref:g})]})}),p.jsxs("div",{style:E.messageBox,children:[p.jsx("textarea",{type:"text",style:E.messageInput,placeholder:"Ask about your renovation...",value:n,onChange:A=>r(A.target.value),onKeyPress:T}),p.jsx("button",{type:"submit",style:E.messageSubmit,onClick:S,onMouseEnter:A=>A.target.style.background="#1D7745",onMouseLeave:A=>A.target.style.background="#248A52",disabled:s,children:s?"...":"Send"})]})]})]})},eX=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(!1),l=async c=>{c.preventDefault(),i(!0);try{const d=await JY(t);r(d)}catch(d){console.error("Error:",d)}finally{i(!1)}};return p.jsxs("div",{children:[p.jsxs("form",{onSubmit:l,children:[p.jsx("input",{type:"text",value:t,onChange:c=>e(c.target.value),placeholder:"Describe the room or design you want to visualize..."}),p.jsx("button",{type:"submit",disabled:s,children:s?"Generating...":"Generate Image"})]}),n&&p.jsxs("div",{className:"image-result",children:[p.jsx("h3",{children:"Generated Image:"}),p.jsx("img",{src:n,alt:"AI Generated"})]})]})},tX=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(""),[s,i]=C.useState(!1),[l,c]=C.useState(0),d=C.useRef(null),h=["Hi there, I'm Fabio and you?","Nice to meet you","How are you?","Not too bad, thanks","What do you do?","That's awesome","Codepen is a nice place to stay","I think you're a nice person","Why do you think that?","Can you explain?","Anyway I've gotta go now","It was a pleasure chat with you","Time to make a new codepen","Bye",":)"],g=()=>{var A;(A=d.current)==null||A.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{g()},[t]),C.useEffect(()=>{const A=setTimeout(()=>{_()},100);return()=>clearTimeout(A)},[]);const y=()=>{const A=new Date;return`${A.getHours()}:${A.getMinutes().toString().padStart(2,"0")}`},_=()=>{if(n!==""||l>=h.length)return;i(!0);const A=1e3+Math.random()*2e3;setTimeout(()=>{i(!1);const V={id:Date.now(),text:h[l],isPersonal:!1,timestamp:y()};e(M=>[...M,V]),c(M=>M+1)},A)},S=()=>{if(n.trim()==="")return;const A={id:Date.now(),text:n,isPersonal:!0,timestamp:y()};e(V=>[...V,A]),r(""),setTimeout(()=>{_()},1e3+Math.random()*2e3)},T=A=>{A.key==="Enter"&&(A.preventDefault(),S())},E={container:{margin:0,padding:0,height:"100vh",background:"linear-gradient(135deg, #000000, #404040, #ffffff)",backgroundSize:"cover",fontFamily:"'Open Sans', sans-serif",fontSize:"12px",lineHeight:1.3,overflow:"hidden",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},bg:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1,backgroundImage:'url("background.jpeg")',backgroundRepeat:"no-repeat",backgroundPosition:"0 0",filter:"blur(80px)",transform:"scale(1.2)"},chat:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",height:"80vh",maxHeight:"500px",zIndex:2,overflow:"hidden",boxShadow:"0 5px 30px rgba(0, 0, 0, .2)",background:"rgba(0, 0, 0, .5)",borderRadius:"20px",display:"flex",justifyContent:"space-between",flexDirection:"column"},chatTitle:{flex:"0 1 45px",position:"relative",zIndex:2,background:"rgba(0, 0, 0, 0.2)",color:"#fff",textTransform:"uppercase",textAlign:"left",padding:"10px 10px 10px 50px"},titleH1:{fontWeight:"normal",fontSize:"10px",margin:0,padding:0},titleH2:{color:"rgba(255, 255, 255, .5)",fontSize:"8px",letterSpacing:"1px",fontWeight:"normal",margin:0,padding:0},avatar:{position:"absolute",zIndex:1,top:"8px",left:"9px",borderRadius:"30px",width:"30px",height:"30px",overflow:"hidden",margin:0,padding:0,border:"2px solid rgba(255, 255, 255, 0.24)"},avatarImg:{width:"100%",height:"auto"},messages:{flex:"1 1 auto",color:"rgba(255, 255, 255, .5)",overflow:"hidden",position:"relative",width:"100%"},messagesContent:{position:"absolute",top:0,left:0,height:"101%",width:"100%",overflowY:"auto",padding:"0 10px"},message:{clear:"both",float:"left",padding:"6px 10px 7px",borderRadius:"10px 10px 10px 0",background:"rgba(0, 0, 0, .3)",margin:"8px 0",fontSize:"11px",lineHeight:1.4,marginLeft:"35px",position:"relative",textShadow:"0 1px 1px rgba(0, 0, 0, .2)",animation:"bounce 500ms linear both"},messagePersonal:{float:"right",color:"#fff",textAlign:"right",background:"linear-gradient(135deg, #000000, #404040, #ffffff)",borderRadius:"10px 10px 0 10px",marginLeft:0,marginRight:"10px"},messageAvatar:{position:"absolute",zIndex:1,bottom:"-15px",left:"-35px",borderRadius:"30px",width:"30px",height:"30px",overflow:"hidden",margin:0,padding:0,border:"2px solid rgba(255, 255, 255, 0.24)"},timestamp:{position:"absolute",bottom:"-15px",fontSize:"9px",color:"rgba(255, 255, 255, .3)",left:0},timestampPersonal:{right:0,left:"auto"},messageBox:{flex:"0 1 40px",width:"100%",background:"rgba(0, 0, 0, 0.3)",padding:"10px",position:"relative"},messageInput:{background:"none",border:"none",outline:"none",resize:"none",color:"rgba(255, 255, 255, .7)",fontSize:"11px",height:"17px",margin:0,paddingRight:"20px",width:"265px"},messageSubmit:{position:"absolute",zIndex:1,top:"9px",right:"10px",color:"#fff",border:"none",background:"#248A52",fontSize:"10px",textTransform:"uppercase",lineHeight:1,padding:"6px 10px",borderRadius:"10px",outline:"none",transition:"background .2s ease",cursor:"pointer"},loadingMessage:{clear:"both",float:"left",padding:"6px 10px 7px",borderRadius:"10px 10px 10px 0",background:"rgba(0, 0, 0, .3)",margin:"8px 0",fontSize:"11px",lineHeight:1.4,marginLeft:"35px",position:"relative",textShadow:"0 1px 1px rgba(0, 0, 0, .2)"},loadingDots:{display:"block",fontSize:0,width:"20px",height:"10px",position:"relative"},loadingDot:{display:"inline-block",width:"3px",height:"3px",borderRadius:"50%",background:"rgba(255, 255, 255, .5)",margin:"0 1px",animation:"ball 0.45s cubic-bezier(0, 0, 0.15, 1) alternate infinite"}};return p.jsxs("div",{style:E.container,children:[p.jsx("style",{children:`
    @keyframes bounce { 
      0% { transform: matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      4.7% { transform: matrix3d(0.45, 0, 0, 0, 0, 0.45, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      9.41% { transform: matrix3d(0.883, 0, 0, 0, 0, 0.883, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      14.11% { transform: matrix3d(1.141, 0, 0, 0, 0, 1.141, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      18.72% { transform: matrix3d(1.212, 0, 0, 0, 0, 1.212, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      24.32% { transform: matrix3d(1.151, 0, 0, 0, 0, 1.151, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      29.93% { transform: matrix3d(1.048, 0, 0, 0, 0, 1.048, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      35.54% { transform: matrix3d(0.979, 0, 0, 0, 0, 0.979, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      41.04% { transform: matrix3d(0.961, 0, 0, 0, 0, 0.961, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      52.15% { transform: matrix3d(0.991, 0, 0, 0, 0, 0.991, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      63.26% { transform: matrix3d(1.007, 0, 0, 0, 0, 1.007, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      85.49% { transform: matrix3d(0.999, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      100% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); } 
    }

    @keyframes ball { 
      from {
        transform: translateY(0) scaleY(.8);
      }
      to {
        transform: translateY(-10px);
      }
    }
  `}),p.jsx("div",{style:E.bg}),p.jsxs("div",{style:E.chat,children:[p.jsxs("div",{style:E.chatTitle,children:[p.jsx("h1",{style:E.titleH1,children:"Fabio Ottaviani"}),p.jsx("h2",{style:E.titleH2,children:"Supah"}),p.jsx("figure",{style:E.avatar,children:p.jsx("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg",alt:"Avatar",style:E.avatarImg})})]}),p.jsx("div",{style:E.messages,children:p.jsxs("div",{style:E.messagesContent,children:[t.map(A=>p.jsxs("div",{style:{...E.message,...A.isPersonal?E.messagePersonal:{}},children:[!A.isPersonal&&p.jsx("figure",{style:E.messageAvatar,children:p.jsx("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg",alt:"Avatar",style:E.avatarImg})}),A.text,p.jsx("div",{style:{...E.timestamp,...A.isPersonal?E.timestampPersonal:{}},children:A.timestamp})]},A.id)),s&&p.jsxs("div",{style:E.loadingMessage,children:[p.jsx("figure",{style:E.messageAvatar,children:p.jsx("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg",alt:"Avatar",style:E.avatarImg})}),p.jsxs("div",{style:E.loadingDots,children:[p.jsx("span",{style:{...E.loadingDot,animationDelay:"0s"}}),p.jsx("span",{style:{...E.loadingDot,animationDelay:"0.15s"}}),p.jsx("span",{style:{...E.loadingDot,animationDelay:"0.3s"}})]})]}),p.jsx("div",{ref:d})]})}),p.jsxs("div",{style:E.messageBox,children:[p.jsx("textarea",{type:"text",style:E.messageInput,placeholder:"Type message...",value:n,onChange:A=>r(A.target.value),onKeyPress:T}),p.jsx("button",{type:"submit",style:E.messageSubmit,onClick:S,onMouseEnter:A=>A.target.style.background="#1D7745",onMouseLeave:A=>A.target.style.background="#248A52",children:"Send"})]})]})]})};function Yc(t,e=0){return e>0?C.lazy(()=>Promise.all([t(),new Promise(n=>setTimeout(n,e))]).then(([n])=>n)):C.lazy(async()=>{try{return await t()}catch(n){return console.error("Error loading component:",n),{}}})}const nX=()=>{const{user:t,profile:e,loading:n}=ph(),r=zn(),s=Yi();return C.useEffect(()=>{if(n)return;if(t&&e&&!e.role&&s.pathname!=="/choose-role"){r("/choose-role");return}const i=["/contractor-dashboard","/available-projects"];t&&e&&e.role!=="contractor"&&i.includes(s.pathname)&&r("/"),console.log("RoleRedirectGate check:",{user:!!t,profile:!!e,role:e==null?void 0:e.role,path:s.pathname})},[t,e,n,s.pathname,r]),null},rX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAYCAYAAACyVACzAAAACXBIWXMAAALEAAACxAFbkZ0LAAADKklEQVRYhe1Y7Y3bMAx9KrqAO4JvhHQEd4R2BK/gGyEZwRkhGcEZIR4hGcEegf0RynmWKVlufxQFTEBAjqbIR4of0jkRwU559OVfA/ifaA/WBvrKfzjnGv9bRE6xTc65A4BK/+xF5BbwYjQCuIrIqHoKAHUmVm+nId5VRJ4JnDWAArD9UfsVgJJWrzhvItLPNojItACIrgfzwwWgIdna4KXWAOCge6rMPWyHee0KzkHl7gG/ULzDis3OYxURsAIGflkB0ZHsweCtrcvGAAsAn7khv4xgLK2gaqDuhp6HLotfiMisZx3o9zz9luRlR0rVab+IuHAB4DIoDJvfrX20+kDeU7uCEQCewFR2HX3rAfxS/R8i8gHgG4BP2lvCtwqKeIt3NKtEVvGJdQbvHtn3k2R8Zk0nmcrkCMYhhRfzrK2Ud2Sc0IzJsNX9aWax3G3DXm7+vZ5yGehZI7bDmdqEgmxPB0NBciNeGTUmbF1DBk9DD+S5oqSk388EbyKdYDV9P2Pu+Oici05SEQkP5SYiJ512JYDKOVeLyNnwxx8eT91zaopG6S+be2nwfMr7WudvPAlzm/vdwHhUXk28B2FcNHcL44qfbK+bpmEAvMkcx4PBE+KFTregyQXgkhms1sBYk55HyMe8PzYhnsz+uIiJL0Muo2i/cs6VeE+yPsZTGon/g0rJE5fhJ+LkdcYwnvCeiEfn3DUhu4UW09QqrdSE4LRvjFNsIydzCfQU9K3LPOnpbpT6pna7UBYbMgvzMn5XUFhGK8GyLqNmCWtAzPEOo/9kOBANbqBvgHFz52AhcpGN+Pn2yTqZiILFvWOtcQaB7CL8OgU8N7iwXxCc6eyjOcT0gNnP6fbOPYtvx0d9FHOt+xENvHoR9xi+uYd96ayBKfAa75XKcD84BI/jGcnrAbzsH0s6YfmQZ9kz3r3tp3PuoTxPJV4txffZ5V0sUjKxNY1+o7ZjN/cmlIH9BjPtGVl9sOxEsivM9DbT7t2yE6bgMeLIXZ0uAuNmczdSmw9iy+PZP6eizT1RrqasYrauLYPyo23BqYKdMmj/T+kG2oO1gfZgbaA9WBvoN2Qgod3vFS42AAAAAElFTkSuQmCC",sX="/Ureno_webdesign/assets/seo_image-CsD-BWBl.png",iX="/Ureno_webdesign/assets/Rocket-BhKaQXGh.png",oX="/Ureno_webdesign/assets/metrics-CwuTjVOH.png",aX="/Ureno_webdesign/assets/Estimate-euYWEMZK.png";var fO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XC=Dt.createContext&&Dt.createContext(fO),lX=["attr","size","title"];function cX(t,e){if(t==null)return{};var n=uX(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){dX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dX(t,e,n){return e=hX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hX(t){var e=fX(t,"string");return typeof e=="symbol"?e:e+""}function fX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pO(t){return t&&t.map((e,n)=>Dt.createElement(e.tag,gm({key:n},e.attr),pO(e.child)))}function Rg(t){return e=>Dt.createElement(pX,mm({attr:gm({},t.attr)},e),pO(t.child))}function pX(t){var e=n=>{var{attr:r,size:s,title:i}=t,l=cX(t,lX),c=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Dt.createElement("svg",mm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:gm(gm({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Dt.createElement("title",null,i),t.children)};return XC!==void 0?Dt.createElement(XC.Consumer,null,n=>e(n)):e(fO)}function mX(t){return Rg({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(t)}function gX(t){return Rg({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M32 32v432a16 16 0 0 0 16 16h432"},child:[]},{tag:"rect",attr:{width:"80",height:"192",x:"96",y:"224",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]},{tag:"rect",attr:{width:"80",height:"240",x:"240",y:"176",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]},{tag:"rect",attr:{width:"80",height:"304",x:"383.64",y:"112",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]}]})(t)}function yX(t){return Rg({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256.05 80.65Q263.94 80 272 80c106 0 192 86 192 192s-86 192-192 192A192.09 192.09 0 0 1 89.12 330.65"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48C141.12 48 48 141.12 48 256a207.29 207.29 0 0 0 18.09 85L256 256z"},child:[]}]})(t)}function vX(t){return Rg({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.622 1.602a.75.75 0 0 1 .756 0l2.25 1.313a.75.75 0 0 1-.756 1.295L12 3.118 10.128 4.21a.75.75 0 1 1-.756-1.295l2.25-1.313ZM5.898 5.81a.75.75 0 0 1-.27 1.025l-1.14.665 1.14.665a.75.75 0 1 1-.756 1.295L3.75 8.806v.944a.75.75 0 0 1-1.5 0V7.5a.75.75 0 0 1 .372-.648l2.25-1.312a.75.75 0 0 1 1.026.27Zm12.204 0a.75.75 0 0 1 1.026-.27l2.25 1.312a.75.75 0 0 1 .372.648v2.25a.75.75 0 0 1-1.5 0v-.944l-1.122.654a.75.75 0 1 1-.756-1.295l1.14-.665-1.14-.665a.75.75 0 0 1-.27-1.025Zm-9 5.25a.75.75 0 0 1 1.026-.27L12 11.882l1.872-1.092a.75.75 0 1 1 .756 1.295l-1.878 1.096V15a.75.75 0 0 1-1.5 0v-1.82l-1.878-1.095a.75.75 0 0 1-.27-1.025ZM3 13.5a.75.75 0 0 1 .75.75v1.82l1.878 1.095a.75.75 0 1 1-.756 1.295l-2.25-1.312a.75.75 0 0 1-.372-.648v-2.25A.75.75 0 0 1 3 13.5Zm18 0a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.372.648l-2.25 1.312a.75.75 0 1 1-.756-1.295l1.878-1.096V14.25a.75.75 0 0 1 .75-.75Zm-9 5.25a.75.75 0 0 1 .75.75v.944l1.122-.654a.75.75 0 1 1 .756 1.295l-2.25 1.313a.75.75 0 0 1-.756 0l-2.25-1.313a.75.75 0 1 1 .756-1.295l1.122.654V19.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(t)}const _X="_container_1sg0f_57",wX="_btn_1sg0f_59",xX="_btnPrimary_1sg0f_69",EX="_h1_1sg0f_84",TX="_h2_1sg0f_84",bX="_h3_1sg0f_84",SX="_h4_1sg0f_84",CX="_sectionText_1sg0f_90",IX="_active_1sg0f_121",RX="_navOpenBtn_1sg0f_131",AX="_navCloseBtn_1sg0f_131",PX="_navbar_1sg0f_135",kX="_overlay_1sg0f_155",NX="_hero_1sg0f_167",OX="_heroContent_1sg0f_178",DX="_heroTitle_1sg0f_179",LX="_heroForm_1sg0f_180",jX="_inputField_1sg0f_182",MX="_heroText_1sg0f_194",VX="_heroBanner_1sg0f_197",FX="_service_1sg0f_201",UX="_sectionTitle_1sg0f_202",$X="_cardIcon_1sg0f_211",BX="_serviceList_1sg0f_222",zX="_serviceCard_1sg0f_230",WX="_cardTitle_1sg0f_250",HX="_cardText_1sg0f_251",qX="_about_1sg0f_262",KX="_aboutTop_1sg0f_265",GX="_features_1sg0f_273",QX="_pricing_1sg0f_287",YX="_faq_1sg0f_296",ee={container:_X,btn:wX,btnPrimary:xX,h1:EX,h2:TX,h3:bX,h4:SX,sectionText:CX,active:IX,navOpenBtn:RX,navCloseBtn:AX,navbar:PX,overlay:kX,hero:NX,heroContent:OX,heroTitle:DX,heroForm:LX,inputField:jX,heroText:MX,heroBanner:VX,service:FX,sectionTitle:UX,cardIcon:$X,serviceList:BX,serviceCard:zX,cardTitle:WX,cardText:HX,about:qX,aboutTop:KX,features:GX,pricing:QX,faq:YX},XX=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),[s,i]=C.useState(!1),l=()=>{e(!t)};C.useEffect(()=>{const d=()=>{window.scrollY>=10?r(!0):r(!1),window.scrollY>=800?i(!0):i(!1)};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]);const c=()=>{window.scrollTo({top:0,behavior:"smooth"})};return p.jsxs(p.Fragment,{children:[p.jsxs("header",{className:`${n?"active":""}`,"data-header":!0,children:[p.jsx("div",{className:`${ee.overlay} ${t?"active":""}`,"data-overlay":!0,onClick:l}),p.jsxs("div",{className:`${ee.container}`,children:[p.jsx("a",{href:"#",className:`${ee.logo}`,children:p.jsx("img",{src:rX,alt:"SEO illustration"})}),p.jsx("button",{className:`${ee.navOpenBtn}`,"data-nav-open-btn":!0,onClick:l,children:p.jsx("ion-icon",{name:"menu-outline"})}),p.jsxs("nav",{className:`${ee.navbar} ${t?"active":""}`,"data-navbar":!0,children:[p.jsx("button",{className:`${ee.navCloseBtn}`,"data-nav-close-btn":!0,onClick:l,children:p.jsx("ion-icon",{name:"close-outline"})}),p.jsx("button",{className:`${ee.btn} ${ee.btnPrimary}`,children:"Let's Get Started"})]})]})]}),p.jsx("main",{children:p.jsxs("article",{children:[p.jsx("section",{className:`${ee.hero}`,id:"hero",children:p.jsxs("div",{className:`${ee.container}`,children:[p.jsxs("div",{className:`${ee.heroContent}`,children:[p.jsx("h1",{className:`${ee.h1} ${ee.heroTitle}`,children:"Make renovations faster, cheaper, and radically more transparent!"}),p.jsxs("form",{action:"",className:`${ee.heroForm}`,children:[p.jsx("input",{type:"text",name:"name",placeholder:"Enter your name",required:!0,className:ee.inputField}),p.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",required:!0,className:ee.inputField}),p.jsx("button",{type:"submit",className:`${ee.btn} ${ee.btnPrimary}`,children:"Get Started Now"})]}),p.jsxs("p",{className:`${ee.heroText}`,children:[p.jsx("span",{children:"Free 30 days trial"}),p.jsx("span",{children:"Exclusive Support"}),p.jsx("span",{children:"No Fees"})]})]}),p.jsx("figure",{className:`${ee.heroBanner}`,children:p.jsx("img",{src:sX,alt:"SEO illustration"})})]})}),p.jsx("section",{className:`${ee.service}`,id:"service",children:p.jsxs("div",{className:`${ee.container}`,children:[p.jsx("h2",{className:`${ee.h2} ${ee.sectionTitle}`,children:"Launch Renovation Projects with Confidence"}),p.jsx("p",{className:`${ee.sectionText}`,children:"Say goodbye to phone-tag and unclear estimates. URENO gives homeowners instant pricing, contractor matching, and a real-time dashboard so projects start faster and finish smarter."}),p.jsxs("ul",{className:`${ee.serviceList}`,children:[p.jsx("li",{children:p.jsxs("div",{className:`${ee.serviceCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx(mX,{size:80})}),p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Connect with Trusted Contractors"}),p.jsx("p",{className:`${ee.cardText}`,children:"URENO connects homeowners with vetted local contractors—ranked by availability, cost, and performance, with no hidden fees."})]})}),p.jsx("li",{children:p.jsxs("div",{className:`${ee.serviceCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx(gX,{size:80})}),p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Track Progress"}),p.jsx("p",{className:`${ee.cardText}`,children:"From permit status to paint drying, timelines, payments, and milestones—all in one place."})]})}),p.jsx("li",{children:p.jsxs("div",{className:`${ee.serviceCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx(yX,{size:80})}),p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Shop Renovation Materials Seamlessly"}),p.jsx("p",{className:`${ee.cardText}`,children:"Choose from transparent, pre-priced flooring and paint options sourced from vetted manufacturers. "})]})}),p.jsx("li",{children:p.jsxs("div",{className:`${ee.serviceCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx(vX,{size:80})}),p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Built-In Cost Transparency and Fair Pricing"}),p.jsx("p",{className:`${ee.cardText}`,children:"Contractors save time bidding, and homeowners avoid surprise costs—thanks to milestone-based billing and upfront estimates."})]})})]})]})}),p.jsx("section",{className:`${ee.about}`,id:"about",children:p.jsxs("div",{className:`${ee.container}`,children:[p.jsxs("div",{className:`${ee.aboutTop}`,children:[p.jsx("figure",{className:`${ee.aboutBanner}`,children:p.jsx("img",{src:iX,alt:"SEO illustration"})}),p.jsxs("div",{className:`${ee.aboutContent}`,children:[p.jsx("p",{className:`${ee.sectionSubtitle}`,children:"Quick and Transparent"}),p.jsx("h2",{className:`${ee.h3} ${ee.sectionTitle}`,children:"From Click to Contractor - Renocvation, Simplified"}),p.jsx("p",{className:`${ee.sectionText}`,children:"URENO skips the search engine race and puts homeowners directly in control. With instant square-footage pricing, verified local contractors, and real-time dashboards, projects start faster and stay on track."}),p.jsx("p",{className:`${ee.sectionText}`,children:"Forget chasing—URENO brings the full renovation journey into one seamless, digital workflow. Ready to cut costs, save time, and rebuild trust in the renovation process?"})]})]}),p.jsxs("div",{className:`${ee.aboutBottom}`,children:[p.jsx("figure",{className:`${ee.aboutBanner}`,children:p.jsx("img",{src:oX,alt:"SEO illustration"})}),p.jsxs("div",{className:`${ee.aboutContent}`,children:[p.jsx("h3",{className:`${ee.h4} ${ee.aboutBottomTitle}`,children:"Project Insights & Smart Tracking"}),p.jsx("p",{className:`${ee.sectionText}`,children:"Use a set of sophisticated techniques and tools used to analyze complex data sets and extract valuable insights that go beyond traditional business intelligence methods. Here we can include machine learning, and data mining techniques to uncover patterns, predict future trends, and support decision-making processes"}),p.jsx("h3",{className:`${ee.h4} ${ee.aboutBottomTitle}`,children:"Data That Drives Every Decision"}),p.jsxs("ul",{className:`${ee.aboutBottomList}`,children:[p.jsx("li",{className:`${ee.aboutBottomItem}`,children:p.jsx("p",{className:`${ee.sectionText}`,children:"Predict renovation timelines based on project size and complexity"})}),p.jsx("li",{className:`${ee.aboutBottomItem}`,children:p.jsx("p",{className:`${ee.sectionText}`,children:"Monitor license status, materials, and progress in real time"})}),p.jsx("li",{className:`${ee.aboutBottomItem}`,children:p.jsx("p",{className:`${ee.sectionText}`,children:"Support smarter decision-making with transparent cost breakdowns"})}),p.jsx("li",{className:`${ee.aboutBottomItem}`,children:p.jsx("p",{className:`${ee.sectionText}`,children:" Automate payments tied to verified milestones"})})]})]})]})]})}),p.jsx("section",{className:`${ee.features}`,id:"features",children:p.jsxs("div",{className:`${ee.container}`,children:[p.jsx("p",{className:`${ee.sectionSubtitle}`,children:"Market Research"}),p.jsx("h2",{className:`${ee.h3} ${ee.sectionTitle}`,children:"URENO isn’t just a platform, it’s a full-stack solution for modernizing renovation."}),p.jsxs("ul",{className:`${ee.featuresList}`,children:[p.jsx("li",{children:p.jsxs("div",{className:`${ee.featuresCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx("ion-icon",{name:"analytics-outline"})}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Real-Time Project Intelligence"}),p.jsx("p",{className:`${ee.sectionText}`,children:"Use URENO’s milestone-based dashboards and smart algorithms to track permits, materials, and contractor timelines—turning raw data into decisions that cut delays and save money."})]})]})}),p.jsx("li",{children:p.jsxs("div",{className:`${ee.featuresCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx("ion-icon",{name:"mail-open-outline"})}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Transparent Cost Breakdown"}),p.jsx("p",{className:`${ee.sectionText}`,children:"From square footage estimates to labor margins, URENO keeps homeowners informed and contractors accountable—with every dollar tied to a verified step in the process."})]})]})}),p.jsx("li",{children:p.jsxs("div",{className:`${ee.featuresCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx("ion-icon",{name:"film-outline"})}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Built-In Customer Communication"}),p.jsx("p",{className:`${ee.sectionText}`,children:"Automated notifications and project updates keep homeowners engaged, informed, and stress-free—no follow-up calls or email chains required."})]})]})}),p.jsx("li",{children:p.jsxs("div",{className:`${ee.featuresCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx("ion-icon",{name:"globe-outline"})}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Visual Progress Tracking"}),p.jsx("p",{className:`${ee.sectionText}`,children:"Photos, updates, and contractor check-ins show exactly what’s happening on site—so there’s no confusion at the finish line."})]})]})}),p.jsx("li",{children:p.jsxs("div",{className:`${ee.featuresCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx("ion-icon",{name:"magnet-outline"})}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Smart Discovery Tools"}),p.jsx("p",{className:`${ee.sectionText}`,children:"Homeowners can browse pre-priced renovation options, compare contractor availability, and schedule projects—all from one interface."})]})]})}),p.jsx("li",{children:p.jsxs("div",{className:`${ee.featuresCard}`,children:[p.jsx("div",{className:`${ee.cardIcon}`,children:p.jsx("ion-icon",{name:"layers-outline"})}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Dynamic Contractor Matching"}),p.jsx("p",{className:`${ee.sectionText}`,children:"Projects are routed to licensed contractors based on availability, location, and past performance—boosting job satisfaction and completion speed on both sides."})]})]})})]})]})}),p.jsx("section",{className:`${ee.pricing}`,id:"pricing",children:p.jsxs("div",{className:`${ee.container}`,children:[p.jsxs("div",{className:`${ee.pricingContent}`,children:[p.jsx("p",{className:`${ee.sectionSubtitle}`,children:"Renovation Made Effortless"}),p.jsx("h2",{className:`${ee.h3} ${ee.sectionTitle}`,children:"One seamless platform for every project"}),p.jsx("p",{className:`${ee.sectionText}`,children:"URENO simplifies the entire renovation journey—from estimate to final walkthrough. Every feature is built with clarity and speed in mind, whether you’re a first-time homeowner or a seasoned contractor."}),p.jsx("button",{className:`${ee.btn} ${ee.btnPrimary}`,children:"Pricing & Packages"})]}),p.jsx("figure",{className:`${ee.pricingBanner}`,children:p.jsx("img",{src:aX,alt:"SEO illustration"})})]})}),p.jsx("section",{className:`${ee.faq}`,id:"faq",children:p.jsxs("div",{className:`${ee.container}`,children:[p.jsx("p",{className:`${ee.sectionSubtitle}`,children:"Frequently Asked Questions"}),p.jsxs("p",{className:`${ee.faqBottomLink}`,children:["Have any more questions?",p.jsx("a",{href:"#",children:"Ask your question here"})]})]})})]})}),p.jsx("button",{className:`${ee.goTopBtn} ${s?ee.active:""}`,"data-go-top":!0,onClick:c,children:p.jsx("ion-icon",{name:"arrow-up-outline"})})]})},JX=Yc(()=>Ac(()=>import("./designer-DpNsHZkA.js"),[])),ZX=Yc(()=>Ac(()=>import("./profile-8P77ojqA.js"),[])),eJ=Yc(()=>Ac(()=>import("./projectsDashboard-DtDrgj5X.js"),[])),tJ=Yc(()=>Ac(()=>import("./CreateProject-CtEuPXaN.js"),[])),nJ=Yc(()=>Ac(()=>import("./MessagePage-D-Bs18J8.js"),[])),rJ=Yc(()=>Ac(()=>import("./AdminDashboard-DrcKUO85.js"),[])),sJ=({children:t})=>{const{currentUser:e}=ci(),{profile:n}=C.useContext(rl);return!e||(n==null?void 0:n.role)!=="admin"?null:t},Qv=({children:t})=>{const{currentUser:e}=ci(),{profile:n}=C.useContext(rl);return!e||!n||typeof n.role!="string"?p.jsx(Gw,{}):n.role!=="contractor"?p.jsx(cI,{to:"/"}):t},iJ=document.getElementById("root"),oJ=RD.createRoot(iJ);oJ.render(p.jsx(C.StrictMode,{children:p.jsx(e$,{children:p.jsx(n$,{children:p.jsx(i$,{children:p.jsxs(BL,{basename:"/Ureno_webdesign/",children:[p.jsx(nX,{}),p.jsx(C.Suspense,{fallback:p.jsx(Gw,{}),children:p.jsxs(vL,{children:[p.jsx(yt,{path:"/",element:p.jsx(Tz,{})}),p.jsx(yt,{path:"/product-page",element:p.jsx(Dz,{})}),p.jsx(yt,{path:"/productDetail/:productId",element:p.jsx(Fz,{})}),p.jsx(yt,{path:"/designerPage",element:p.jsx(JX,{})}),p.jsx(yt,{path:"/ProfileDashboard",element:p.jsx(ZX,{})}),p.jsx(yt,{path:"/edit-profile",element:p.jsx(aH,{})}),p.jsx(yt,{path:"/sign-in",element:p.jsx(jz,{})}),p.jsx(yt,{path:"/Login",element:p.jsx(TH,{})}),p.jsx(yt,{path:"/sign-up",element:p.jsx(Vz,{})}),p.jsx(yt,{path:"/admin",element:p.jsx(sJ,{children:p.jsx(rJ,{})})}),p.jsx(yt,{path:"/projects",element:p.jsx(eJ,{})}),p.jsx(yt,{path:"/projects/new",element:p.jsx(tJ,{})}),p.jsx(yt,{path:"/savedItems",element:p.jsx(lH,{})}),p.jsx(yt,{path:"/messages",element:p.jsx(nJ,{})}),p.jsx(yt,{path:"/choose-role",element:p.jsx(bH,{})}),p.jsx(yt,{path:"/projects/edit/:projectId",element:p.jsx(SH,{})}),p.jsx(yt,{path:"/contractor-dashboard",element:p.jsx(Qv,{children:p.jsx(vQ,{})})}),p.jsx(yt,{path:"/available-projects",element:p.jsx(Qv,{children:p.jsx(CH,{})})}),p.jsx(yt,{path:"/projects/view/:projectId",element:p.jsx(Qv,{children:p.jsx(_Q,{})})}),p.jsx(yt,{path:"/projects/:id/requests",element:p.jsx(wQ,{})}),p.jsx(yt,{path:"/projects/:id/inquiries",element:p.jsx(xQ,{})}),p.jsx(yt,{path:"/LandingPage",element:p.jsx(XX,{})}),p.jsx(yt,{path:"/TestChat",element:p.jsx(ZY,{})}),p.jsx(yt,{path:"/TestImage",element:p.jsx(eX,{})}),p.jsx(yt,{path:"/ChatUI",element:p.jsx(tX,{})})]})}),p.jsx(HP,{})]})})})})}));export{am as B,nx as F,At as L,mx as N,qz as P,rl as U,ph as a,fJ as b,Bt as c,IH as d,Qs as e,Pt as f,Ys as g,ci as h,Lt as i,p as j,dJ as k,zn as l,hJ as m,Xn as n,$A as o,yQ as p,Oi as q,C as r,h6 as s,uJ as t,rn as u,vs as v,lr as w,ah as x};
