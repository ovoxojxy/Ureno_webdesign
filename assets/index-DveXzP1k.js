(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Hh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xp={exports:{}},cu={},Jp={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function _A(){if(O0)return Le;O0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function x($,Y,fe){this.props=$,this.context=Y,this.refs=b,this.updater=fe||S}x.prototype.isReactComponent={},x.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},x.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=x.prototype;function z($,Y,fe){this.props=$,this.context=Y,this.refs=b,this.updater=fe||S}var B=z.prototype=new F;B.constructor=z,A(B,x.prototype),B.isPureReactComponent=!0;var G=Array.isArray,X=Object.prototype.hasOwnProperty,Z={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function P($,Y,fe){var Ie,Re={},De=null,Ve=null;if(Y!=null)for(Ie in Y.ref!==void 0&&(Ve=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)X.call(Y,Ie)&&!D.hasOwnProperty(Ie)&&(Re[Ie]=Y[Ie]);var Oe=arguments.length-2;if(Oe===1)Re.children=fe;else if(1<Oe){for(var Qe=Array(Oe),Et=0;Et<Oe;Et++)Qe[Et]=arguments[Et+2];Re.children=Qe}if($&&$.defaultProps)for(Ie in Oe=$.defaultProps,Oe)Re[Ie]===void 0&&(Re[Ie]=Oe[Ie]);return{$$typeof:n,type:$,key:De,ref:Ve,props:Re,_owner:Z.current}}function k($,Y){return{$$typeof:n,type:$.type,key:Y,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function M($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return Y[fe]})}var V=/\/+/g;function N($,Y){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):Y.toString(36)}function le($,Y,fe,Ie,Re){var De=typeof $;(De==="undefined"||De==="boolean")&&($=null);var Ve=!1;if($===null)Ve=!0;else switch(De){case"string":case"number":Ve=!0;break;case"object":switch($.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=$,Re=Re(Ve),$=Ie===""?"."+N(Ve,0):Ie,G(Re)?(fe="",$!=null&&(fe=$.replace(V,"$&/")+"/"),le(Re,Y,fe,"",function(Et){return Et})):Re!=null&&(L(Re)&&(Re=k(Re,fe+(!Re.key||Ve&&Ve.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+$)),Y.push(Re)),1;if(Ve=0,Ie=Ie===""?".":Ie+":",G($))for(var Oe=0;Oe<$.length;Oe++){De=$[Oe];var Qe=Ie+N(De,Oe);Ve+=le(De,Y,fe,Qe,Re)}else if(Qe=T($),typeof Qe=="function")for($=Qe.call($),Oe=0;!(De=$.next()).done;)De=De.value,Qe=Ie+N(De,Oe++),Ve+=le(De,Y,fe,Qe,Re);else if(De==="object")throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Se($,Y,fe){if($==null)return $;var Ie=[],Re=0;return le($,Ie,"","",function(De){return Y.call(fe,De,Re++)}),Ie}function xe($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var we={current:null},ie={transition:null},ue={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Z};function se(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Se,forEach:function($,Y,fe){Se($,function(){Y.apply(this,arguments)},fe)},count:function($){var Y=0;return Se($,function(){Y++}),Y},toArray:function($){return Se($,function(Y){return Y})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=z,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Le.act=se,Le.cloneElement=function($,Y,fe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ie=A({},$.props),Re=$.key,De=$.ref,Ve=$._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Ve=Z.current),Y.key!==void 0&&(Re=""+Y.key),$.type&&$.type.defaultProps)var Oe=$.type.defaultProps;for(Qe in Y)X.call(Y,Qe)&&!D.hasOwnProperty(Qe)&&(Ie[Qe]=Y[Qe]===void 0&&Oe!==void 0?Oe[Qe]:Y[Qe])}var Qe=arguments.length-2;if(Qe===1)Ie.children=fe;else if(1<Qe){Oe=Array(Qe);for(var Et=0;Et<Qe;Et++)Oe[Et]=arguments[Et+2];Ie.children=Oe}return{$$typeof:n,type:$.type,key:Re,ref:De,props:Ie,_owner:Ve}},Le.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Le.createElement=P,Le.createFactory=function($){var Y=P.bind(null,$);return Y.type=$,Y},Le.createRef=function(){return{current:null}},Le.forwardRef=function($){return{$$typeof:c,render:$}},Le.isValidElement=L,Le.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:xe}},Le.memo=function($,Y){return{$$typeof:p,type:$,compare:Y===void 0?null:Y}},Le.startTransition=function($){var Y=ie.transition;ie.transition={};try{$()}finally{ie.transition=Y}},Le.unstable_act=se,Le.useCallback=function($,Y){return we.current.useCallback($,Y)},Le.useContext=function($){return we.current.useContext($)},Le.useDebugValue=function(){},Le.useDeferredValue=function($){return we.current.useDeferredValue($)},Le.useEffect=function($,Y){return we.current.useEffect($,Y)},Le.useId=function(){return we.current.useId()},Le.useImperativeHandle=function($,Y,fe){return we.current.useImperativeHandle($,Y,fe)},Le.useInsertionEffect=function($,Y){return we.current.useInsertionEffect($,Y)},Le.useLayoutEffect=function($,Y){return we.current.useLayoutEffect($,Y)},Le.useMemo=function($,Y){return we.current.useMemo($,Y)},Le.useReducer=function($,Y,fe){return we.current.useReducer($,Y,fe)},Le.useRef=function($){return we.current.useRef($)},Le.useState=function($){return we.current.useState($)},Le.useSyncExternalStore=function($,Y,fe){return we.current.useSyncExternalStore($,Y,fe)},Le.useTransition=function(){return we.current.useTransition()},Le.version="18.3.1",Le}var L0;function bg(){return L0||(L0=1,Jp.exports=_A()),Jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function wA(){if(M0)return cu;M0=1;var n=bg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},T=null,S=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:T,ref:S,props:_,_owner:i.current}}return cu.Fragment=t,cu.jsx=l,cu.jsxs=l,cu}var V0;function EA(){return V0||(V0=1,Xp.exports=wA()),Xp.exports}var E=EA(),C=bg();const hn=Hh(C);var Vd={},Zp={exports:{}},Tn={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function TA(){return F0||(F0=1,function(n){function e(ie,ue){var se=ie.length;ie.push(ue);e:for(;0<se;){var $=se-1>>>1,Y=ie[$];if(0<i(Y,ue))ie[$]=ue,ie[se]=Y,se=$;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ue=ie[0],se=ie.pop();if(se!==ue){ie[0]=se;e:for(var $=0,Y=ie.length,fe=Y>>>1;$<fe;){var Ie=2*($+1)-1,Re=ie[Ie],De=Ie+1,Ve=ie[De];if(0>i(Re,se))De<Y&&0>i(Ve,Re)?(ie[$]=Ve,ie[De]=se,$=De):(ie[$]=Re,ie[Ie]=se,$=Ie);else if(De<Y&&0>i(Ve,se))ie[$]=Ve,ie[De]=se,$=De;else break e}}return ue}function i(ie,ue){var se=ie.sortIndex-ue.sortIndex;return se!==0?se:ie.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,T=3,S=!1,A=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var ue=t(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=ie)r(p),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(p)}}function G(ie){if(b=!1,B(ie),!A)if(t(f)!==null)A=!0,xe(X);else{var ue=t(p);ue!==null&&we(G,ue.startTime-ie)}}function X(ie,ue){A=!1,b&&(b=!1,F(P),P=-1),S=!0;var se=T;try{for(B(ue),_=t(f);_!==null&&(!(_.expirationTime>ue)||ie&&!M());){var $=_.callback;if(typeof $=="function"){_.callback=null,T=_.priorityLevel;var Y=$(_.expirationTime<=ue);ue=n.unstable_now(),typeof Y=="function"?_.callback=Y:_===t(f)&&r(f),B(ue)}else r(f);_=t(f)}if(_!==null)var fe=!0;else{var Ie=t(p);Ie!==null&&we(G,Ie.startTime-ue),fe=!1}return fe}finally{_=null,T=se,S=!1}}var Z=!1,D=null,P=-1,k=5,L=-1;function M(){return!(n.unstable_now()-L<k)}function V(){if(D!==null){var ie=n.unstable_now();L=ie;var ue=!0;try{ue=D(!0,ie)}finally{ue?N():(Z=!1,D=null)}}else Z=!1}var N;if(typeof z=="function")N=function(){z(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=V,N=function(){Se.postMessage(null)}}else N=function(){x(V,0)};function xe(ie){D=ie,Z||(Z=!0,N())}function we(ie,ue){P=x(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){A||S||(A=!0,xe(X))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var se=T;T=ue;try{return ie()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=T;T=ie;try{return ue()}finally{T=se}},n.unstable_scheduleCallback=function(ie,ue,se){var $=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$+se:$):se=$,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,ie={id:g++,callback:ue,priorityLevel:ie,startTime:se,expirationTime:Y,sortIndex:-1},se>$?(ie.sortIndex=se,e(p,ie),t(f)===null&&ie===t(p)&&(b?(F(P),P=-1):b=!0,we(G,se-$))):(ie.sortIndex=Y,e(f,ie),A||S||(A=!0,xe(X))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var ue=T;return function(){var se=T;T=ue;try{return ie.apply(this,arguments)}finally{T=se}}}}(tm)),tm}var j0;function IA(){return j0||(j0=1,em.exports=TA()),em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function CA(){if(U0)return Tn;U0=1;var n=bg(),e=IA();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function S(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,u,h){if(o===null||typeof o>"u"||S(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,u,h,m,y,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=I}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];x[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,z);x[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,z);x[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,z);x[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,o,u,h){var m=x.hasOwnProperty(o)?x[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,m,h)&&(u=null),h||m===null?T(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Z=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,$;function Y(s){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var fe=!1;function Ie(s,o){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var h=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){h=K}s.call(o.prototype)}else{try{throw Error()}catch(K){h=K}s()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=h.stack.split(`
`),I=m.length-1,O=y.length-1;1<=I&&0<=O&&m[I]!==y[O];)O--;for(;1<=I&&0<=O;I--,O--)if(m[I]!==y[O]){if(I!==1||O!==1)do if(I--,O--,0>O||m[I]!==y[O]){var j=`
`+m[I].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=I&&0<=O);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Y(s):""}function Re(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ie(s.type,!1),s;case 11:return s=Ie(s.type.render,!1),s;case 1:return s=Ie(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Z:return"Portal";case k:return"Profiler";case P:return"StrictMode";case N:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return o=s.displayName||null,o!==null?o:De(s.type)||"Memo";case xe:o=s._payload,s=s._init;try{return De(s(o))}catch{}}return null}function Ve(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=Qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){h=""+I,y.call(this,I)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Pn(s){s._valueTracker||(s._valueTracker=Et(s))}function Li(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=Qe(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function ir(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Jr(s,o){var u=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Mi(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Vi(s,o){o=o.checked,o!=null&&B(s,"checked",o,!1)}function Fi(s,o){Vi(s,o);var u=Oe(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ji(s,o.type,u):o.hasOwnProperty("defaultValue")&&ji(s,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function zo(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ji(s,o,u){(o!=="number"||ir(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var zt=Array.isArray;function pn(s,o,u,h){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ui(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Zr(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(zt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Oe(u)}}function Ar(s,o){var u=Oe(o.value),h=Oe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function $i(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?pt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Un,wl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Un=Un||document.createElement("div"),Un.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Un.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function zi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hs=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(s){Hs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ws[o]=Ws[s]})});function El(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ws.hasOwnProperty(s)&&Ws[s]?(""+o).trim():o+"px"}function Tl(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=El(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,m):s[u]=m}}var Il=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(s,o){if(o){if(Il[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Sl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function Bo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Wo=null,$n=null,Pr=null;function Ho(s){if(s=Ql(s)){if(typeof Wo!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Jc(o),Wo(s.stateNode,s.type,o))}}function kr(s){$n?Pr?Pr.push(s):Pr=[s]:$n=s}function xl(){if($n){var s=$n,o=Pr;if(Pr=$n=null,Ho(s),o)for(s=0;s<o.length;s++)Ho(o[s])}}function Ks(s,o){return s(o)}function Rl(){}var ei=!1;function Al(s,o,u){if(ei)return s(o,u);ei=!0;try{return Ks(s,o,u)}finally{ei=!1,($n!==null||Pr!==null)&&(Rl(),xl())}}function yt(s,o){var u=s.stateNode;if(u===null)return null;var h=Jc(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var qo=!1;if(c)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){qo=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{qo=!1}function Gs(s,o,u,h,m,y,I,O,j){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(te){this.onError(te)}}var Qs=!1,Ko=null,or=!1,Pl=null,Sf={onError:function(s){Qs=!0,Ko=s}};function Go(s,o,u,h,m,y,I,O,j){Qs=!1,Ko=null,Gs.apply(Sf,arguments)}function Ic(s,o,u,h,m,y,I,O,j){if(Go.apply(this,arguments),Qs){if(Qs){var K=Ko;Qs=!1,Ko=null}else throw Error(t(198));or||(or=!0,Pl=K)}}function ar(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Ys(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function lr(s){if(ar(s)!==s)throw Error(t(188))}function Cc(s){var o=s.alternate;if(!o){if(o=ar(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return lr(m),s;if(y===h)return lr(m),o;y=y.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=y;else{for(var I=!1,O=m.child;O;){if(O===u){I=!0,u=m,h=y;break}if(O===h){I=!0,h=m,u=y;break}O=O.sibling}if(!I){for(O=y.child;O;){if(O===u){I=!0,u=y,h=m;break}if(O===h){I=!0,h=y,u=m;break}O=O.sibling}if(!I)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function kl(s){return s=Cc(s),s!==null?Qo(s):null}function Qo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Qo(s);if(o!==null)return o;s=s.sibling}return null}var Yo=e.unstable_scheduleCallback,bl=e.unstable_cancelCallback,Sc=e.unstable_shouldYield,xf=e.unstable_requestPaint,tt=e.unstable_now,xc=e.unstable_getCurrentPriorityLevel,Xs=e.unstable_ImmediatePriority,Bi=e.unstable_UserBlockingPriority,zn=e.unstable_NormalPriority,Nl=e.unstable_LowPriority,Rc=e.unstable_IdlePriority,Js=null,kn=null;function Ac(s){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Js,s,void 0,(s.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:kc,Dl=Math.log,Pc=Math.LN2;function kc(s){return s>>>=0,s===0?32:31-(Dl(s)/Pc|0)|0}var Xo=64,Jo=4194304;function Wi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zs(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,I=u&268435455;if(I!==0){var O=I&~m;O!==0?h=Wi(O):(y&=I,y!==0&&(h=Wi(y)))}else I=u&~m,I!==0?h=Wi(I):y!==0&&(h=Wi(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-ln(o),m=1<<u,h|=s[u],o&=~m;return h}function Rf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var I=31-ln(y),O=1<<I,j=m[I];j===-1?((O&u)===0||(O&h)!==0)&&(m[I]=Rf(O,o)):j<=o&&(s.expiredLanes|=O),y&=~O}}function bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function eo(){var s=Xo;return Xo<<=1,(Xo&4194240)===0&&(Xo=64),s}function Hi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function qi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ln(o),s[o]=u}function et(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ln(u),y=1<<m;o[m]=0,h[m]=-1,s[m]=-1,u&=~y}}function Ki(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-ln(u),m=1<<h;m&o|s[h]&o&&(s[h]|=o),u&=~m}}var je=0;function Gi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var bc,Zo,Nc,Dc,Oc,Ol=!1,br=[],Bt=null,ur=null,cr=null,Qi=new Map,Bn=new Map,Nr=[],Af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(s,o){switch(s){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Qi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(o.pointerId)}}function mn(s,o,u,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Ql(o),o!==null&&Zo(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Pf(s,o,u,h,m){switch(o){case"focusin":return Bt=mn(Bt,s,o,u,h,m),!0;case"dragenter":return ur=mn(ur,s,o,u,h,m),!0;case"mouseover":return cr=mn(cr,s,o,u,h,m),!0;case"pointerover":var y=m.pointerId;return Qi.set(y,mn(Qi.get(y)||null,s,o,u,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Bn.set(y,mn(Bn.get(y)||null,s,o,u,h,m)),!0}return!1}function Mc(s){var o=so(s.target);if(o!==null){var u=ar(o);if(u!==null){if(o=u.tag,o===13){if(o=Ys(u),o!==null){s.blockedOn=o,Oc(s.priority,function(){Nc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ni(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ea(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);qs=h,u.target.dispatchEvent(h),qs=null}else return o=Ql(u),o!==null&&Zo(o),s.blockedOn=u,!1;o.shift()}return!0}function to(s,o,u){ni(s)&&u.delete(o)}function Vc(){Ol=!1,Bt!==null&&ni(Bt)&&(Bt=null),ur!==null&&ni(ur)&&(ur=null),cr!==null&&ni(cr)&&(cr=null),Qi.forEach(to),Bn.forEach(to)}function dr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vc)))}function hr(s){function o(m){return dr(m,s)}if(0<br.length){dr(br[0],s);for(var u=1;u<br.length;u++){var h=br[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Bt!==null&&dr(Bt,s),ur!==null&&dr(ur,s),cr!==null&&dr(cr,s),Qi.forEach(o),Bn.forEach(o),u=0;u<Nr.length;u++)h=Nr[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Nr.length&&(u=Nr[0],u.blockedOn===null);)Mc(u),u.blockedOn===null&&Nr.shift()}var ri=G.ReactCurrentBatchConfig,Yi=!0;function ut(s,o,u,h){var m=je,y=ri.transition;ri.transition=null;try{je=1,Ll(s,o,u,h)}finally{je=m,ri.transition=y}}function kf(s,o,u,h){var m=je,y=ri.transition;ri.transition=null;try{je=4,Ll(s,o,u,h)}finally{je=m,ri.transition=y}}function Ll(s,o,u,h){if(Yi){var m=ea(s,o,u,h);if(m===null)$f(s,o,h,no,u),Lc(s,h);else if(Pf(m,s,o,u,h))h.stopPropagation();else if(Lc(s,h),o&4&&-1<Af.indexOf(s)){for(;m!==null;){var y=Ql(m);if(y!==null&&bc(y),y=ea(s,o,u,h),y===null&&$f(s,o,h,no,u),y===m)break;m=y}m!==null&&h.stopPropagation()}else $f(s,o,h,null,u)}}var no=null;function ea(s,o,u,h){if(no=null,s=Bo(h),s=so(s),s!==null)if(o=ar(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Ys(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return no=s,null}function Ml(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xc()){case Xs:return 1;case Bi:return 4;case zn:case Nl:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Nn=null,ta=null,gn=null;function Vl(){if(gn)return gn;var s,o=ta,u=o.length,h,m="value"in Nn?Nn.value:Nn.textContent,y=m.length;for(s=0;s<u&&o[s]===m[s];s++);var I=u-s;for(h=1;h<=I&&o[u-h]===m[y-h];h++);return gn=m.slice(s,1<h?1-h:void 0)}function na(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Dr(){return!0}function Fl(){return!1}function Wt(s){function o(u,h,m,y,I){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Dr:Fl,this.isPropagationStopped=Fl,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),o}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Wt(fr),Or=se({},fr,{view:0,detail:0}),bf=Wt(Or),ia,ii,Xi,ro=se({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xi&&(Xi&&s.type==="mousemove"?(ia=s.screenX-Xi.screenX,ii=s.screenY-Xi.screenY):ii=ia=0,Xi=s),ia)},movementY:function(s){return"movementY"in s?s.movementY:ii}}),sa=Wt(ro),jl=se({},ro,{dataTransfer:0}),Fc=Wt(jl),oa=se({},Or,{relatedTarget:0}),aa=Wt(oa),jc=se({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),si=Wt(jc),Uc=se({},fr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$c=Wt(Uc),zc=se({},fr,{data:0}),Ul=Wt(zc),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Bc[s])?!!o[s]:!1}function Lr(){return Wc}var d=se({},Or,{key:function(s){if(s.key){var o=la[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=na(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?un[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(s){return s.type==="keypress"?na(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?na(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Wt(d),w=se({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Wt(w),W=se({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),Q=Wt(W),ae=se({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Wt(ae),xt=se({},ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Wt(xt),Dt=[9,13,27,32],Tt=c&&"CompositionEvent"in window,Wn=null;c&&"documentMode"in document&&(Wn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Wn,io=c&&(!Tt||Wn&&8<Wn&&11>=Wn),ua=" ",Ay=!1;function Py(s,o){switch(s){case"keyup":return Dt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ky(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ca=!1;function gR(s,o){switch(s){case"compositionend":return ky(o);case"keypress":return o.which!==32?null:(Ay=!0,ua);case"textInput":return s=o.data,s===ua&&Ay?null:s;default:return null}}function vR(s,o){if(ca)return s==="compositionend"||!Tt&&Py(s,o)?(s=Vl(),gn=ta=Nn=null,ca=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return io&&o.locale!=="ko"?null:o.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function by(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!yR[s.type]:o==="textarea"}function Ny(s,o,u,h){kr(h),o=Qc(o,"onChange"),0<o.length&&(u=new ra("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var $l=null,zl=null;function _R(s){Yy(s,0)}function Hc(s){var o=ma(s);if(Li(o))return s}function wR(s,o){if(s==="change")return o}var Dy=!1;if(c){var Nf;if(c){var Df="oninput"in document;if(!Df){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),Df=typeof Oy.oninput=="function"}Nf=Df}else Nf=!1;Dy=Nf&&(!document.documentMode||9<document.documentMode)}function Ly(){$l&&($l.detachEvent("onpropertychange",My),zl=$l=null)}function My(s){if(s.propertyName==="value"&&Hc(zl)){var o=[];Ny(o,zl,s,Bo(s)),Al(_R,o)}}function ER(s,o,u){s==="focusin"?(Ly(),$l=o,zl=u,$l.attachEvent("onpropertychange",My)):s==="focusout"&&Ly()}function TR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hc(zl)}function IR(s,o){if(s==="click")return Hc(o)}function CR(s,o){if(s==="input"||s==="change")return Hc(o)}function SR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var pr=typeof Object.is=="function"?Object.is:SR;function Bl(s,o){if(pr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!pr(s[m],o[m]))return!1}return!0}function Vy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Fy(s,o){var u=Vy(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Vy(u)}}function jy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?jy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Uy(){for(var s=window,o=ir();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ir(s.document)}return o}function Of(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function xR(s){var o=Uy(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&jy(u.ownerDocument.documentElement,u)){if(h!==null&&Of(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=Fy(u,y);var I=Fy(u,h);m&&I&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var RR=c&&"documentMode"in document&&11>=document.documentMode,da=null,Lf=null,Wl=null,Mf=!1;function $y(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mf||da==null||da!==ir(h)||(h=da,"selectionStart"in h&&Of(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wl&&Bl(Wl,h)||(Wl=h,h=Qc(Lf,"onSelect"),0<h.length&&(o=new ra("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=da)))}function qc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var ha={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Vf={},zy={};c&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Kc(s){if(Vf[s])return Vf[s];if(!ha[s])return s;var o=ha[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in zy)return Vf[s]=o[u];return s}var By=Kc("animationend"),Wy=Kc("animationiteration"),Hy=Kc("animationstart"),qy=Kc("transitionend"),Ky=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(s,o){Ky.set(s,o),a(o,[s])}for(var Ff=0;Ff<Gy.length;Ff++){var jf=Gy[Ff],AR=jf.toLowerCase(),PR=jf[0].toUpperCase()+jf.slice(1);Ji(AR,"on"+PR)}Ji(By,"onAnimationEnd"),Ji(Wy,"onAnimationIteration"),Ji(Hy,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(qy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function Qy(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Ic(h,o,void 0,s),s.currentTarget=null}function Yy(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var I=h.length-1;0<=I;I--){var O=h[I],j=O.instance,K=O.currentTarget;if(O=O.listener,j!==y&&m.isPropagationStopped())break e;Qy(m,O,K),y=j}else for(I=0;I<h.length;I++){if(O=h[I],j=O.instance,K=O.currentTarget,O=O.listener,j!==y&&m.isPropagationStopped())break e;Qy(m,O,K),y=j}}}if(or)throw s=Pl,or=!1,Pl=null,s}function rt(s,o){var u=o[Kf];u===void 0&&(u=o[Kf]=new Set);var h=s+"__bubble";u.has(h)||(Xy(o,s,2,!1),u.add(h))}function Uf(s,o,u){var h=0;o&&(h|=4),Xy(u,s,h,o)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function ql(s){if(!s[Gc]){s[Gc]=!0,r.forEach(function(u){u!=="selectionchange"&&(kR.has(u)||Uf(u,!1,s),Uf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Gc]||(o[Gc]=!0,Uf("selectionchange",!1,o))}}function Xy(s,o,u,h){switch(Ml(o)){case 1:var m=ut;break;case 4:m=kf;break;default:m=Ll}u=m.bind(null,o,u,s),m=void 0,!qo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function $f(s,o,u,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var O=h.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(I===4)for(I=h.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;I=I.return}for(;O!==null;){if(I=so(O),I===null)return;if(j=I.tag,j===5||j===6){h=y=I;continue e}O=O.parentNode}}h=h.return}Al(function(){var K=y,te=Bo(u),ne=[];e:{var ee=Ky.get(s);if(ee!==void 0){var de=ra,me=s;switch(s){case"keypress":if(na(u)===0)break e;case"keydown":case"keyup":de=v;break;case"focusin":me="focus",de=aa;break;case"focusout":me="blur",de=aa;break;case"beforeblur":case"afterblur":de=aa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case By:case Wy:case Hy:de=si;break;case qy:de=Je;break;case"scroll":de=bf;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=R}var ge=(o&4)!==0,_t=!ge&&s==="scroll",H=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var U=K,q;U!==null;){q=U;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,H!==null&&(oe=yt(U,H),oe!=null&&ge.push(Kl(U,oe,q)))),_t)break;U=U.return}0<ge.length&&(ee=new de(ee,me,null,u,te),ne.push({event:ee,listeners:ge}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ee&&u!==qs&&(me=u.relatedTarget||u.fromElement)&&(so(me)||me[oi]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(me=u.relatedTarget||u.toElement,de=K,me=me?so(me):null,me!==null&&(_t=ar(me),me!==_t||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=K),de!==me)){if(ge=sa,oe="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(ge=R,oe="onPointerLeave",H="onPointerEnter",U="pointer"),_t=de==null?ee:ma(de),q=me==null?ee:ma(me),ee=new ge(oe,U+"leave",de,u,te),ee.target=_t,ee.relatedTarget=q,oe=null,so(te)===K&&(ge=new ge(H,U+"enter",me,u,te),ge.target=q,ge.relatedTarget=_t,oe=ge),_t=oe,de&&me)t:{for(ge=de,H=me,U=0,q=ge;q;q=fa(q))U++;for(q=0,oe=H;oe;oe=fa(oe))q++;for(;0<U-q;)ge=fa(ge),U--;for(;0<q-U;)H=fa(H),q--;for(;U--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=fa(ge),H=fa(H)}ge=null}else ge=null;de!==null&&Jy(ne,ee,de,ge,!1),me!==null&&_t!==null&&Jy(ne,_t,me,ge,!0)}}e:{if(ee=K?ma(K):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ve=wR;else if(by(ee))if(Dy)ve=CR;else{ve=TR;var ye=ER}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ve=IR);if(ve&&(ve=ve(s,K))){Ny(ne,ve,u,te);break e}ye&&ye(s,ee,K),s==="focusout"&&(ye=ee._wrapperState)&&ye.controlled&&ee.type==="number"&&ji(ee,"number",ee.value)}switch(ye=K?ma(K):window,s){case"focusin":(by(ye)||ye.contentEditable==="true")&&(da=ye,Lf=K,Wl=null);break;case"focusout":Wl=Lf=da=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,$y(ne,u,te);break;case"selectionchange":if(RR)break;case"keydown":case"keyup":$y(ne,u,te)}var _e;if(Tt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ca?Py(s,u)&&(Ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(io&&u.locale!=="ko"&&(ca||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ca&&(_e=Vl()):(Nn=te,ta="value"in Nn?Nn.value:Nn.textContent,ca=!0)),ye=Qc(K,Ae),0<ye.length&&(Ae=new Ul(Ae,s,null,u,te),ne.push({event:Ae,listeners:ye}),_e?Ae.data=_e:(_e=ky(u),_e!==null&&(Ae.data=_e)))),(_e=Dn?gR(s,u):vR(s,u))&&(K=Qc(K,"onBeforeInput"),0<K.length&&(te=new Ul("onBeforeInput","beforeinput",null,u,te),ne.push({event:te,listeners:K}),te.data=_e))}Yy(ne,o)})}function Kl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Qc(s,o){for(var u=o+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=yt(s,u),y!=null&&h.unshift(Kl(s,y,m)),y=yt(s,o),y!=null&&h.push(Kl(s,y,m))),s=s.return}return h}function fa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Jy(s,o,u,h,m){for(var y=o._reactName,I=[];u!==null&&u!==h;){var O=u,j=O.alternate,K=O.stateNode;if(j!==null&&j===h)break;O.tag===5&&K!==null&&(O=K,m?(j=yt(u,y),j!=null&&I.unshift(Kl(u,j,O))):m||(j=yt(u,y),j!=null&&I.push(Kl(u,j,O)))),u=u.return}I.length!==0&&s.push({event:o,listeners:I})}var bR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function Zy(s){return(typeof s=="string"?s:""+s).replace(bR,`
`).replace(NR,"")}function Yc(s,o,u){if(o=Zy(o),Zy(s)!==o&&u)throw Error(t(425))}function Xc(){}var zf=null,Bf=null;function Wf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,DR=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,OR=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(s){return e_.resolve(null).then(s).catch(LR)}:Hf;function LR(s){setTimeout(function(){throw s})}function qf(s,o){var u=o,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),hr(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);hr(o)}function Zi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function t_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var pa=Math.random().toString(36).slice(2),Mr="__reactFiber$"+pa,Gl="__reactProps$"+pa,oi="__reactContainer$"+pa,Kf="__reactEvents$"+pa,MR="__reactListeners$"+pa,VR="__reactHandles$"+pa;function so(s){var o=s[Mr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[oi]||u[Mr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=t_(s);s!==null;){if(u=s[Mr])return u;s=t_(s)}return o}s=u,u=s.parentNode}return null}function Ql(s){return s=s[Mr]||s[oi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ma(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Jc(s){return s[Gl]||null}var Gf=[],ga=-1;function es(s){return{current:s}}function it(s){0>ga||(s.current=Gf[ga],Gf[ga]=null,ga--)}function nt(s,o){ga++,Gf[ga]=s.current,s.current=o}var ts={},Yt=es(ts),vn=es(!1),oo=ts;function va(s,o){var u=s.type.contextTypes;if(!u)return ts;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function yn(s){return s=s.childContextTypes,s!=null}function Zc(){it(vn),it(Yt)}function n_(s,o,u){if(Yt.current!==ts)throw Error(t(168));nt(Yt,o),nt(vn,u)}function r_(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ve(s)||"Unknown",m));return se({},u,h)}function ed(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ts,oo=Yt.current,nt(Yt,s),nt(vn,vn.current),!0}function i_(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=r_(s,o,oo),h.__reactInternalMemoizedMergedChildContext=s,it(vn),it(Yt),nt(Yt,s)):it(vn),nt(vn,u)}var ai=null,td=!1,Qf=!1;function s_(s){ai===null?ai=[s]:ai.push(s)}function FR(s){td=!0,s_(s)}function ns(){if(!Qf&&ai!==null){Qf=!0;var s=0,o=je;try{var u=ai;for(je=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}ai=null,td=!1}catch(m){throw ai!==null&&(ai=ai.slice(s+1)),Yo(Xs,ns),m}finally{je=o,Qf=!1}}return null}var ya=[],_a=0,nd=null,rd=0,Hn=[],qn=0,ao=null,li=1,ui="";function lo(s,o){ya[_a++]=rd,ya[_a++]=nd,nd=s,rd=o}function o_(s,o,u){Hn[qn++]=li,Hn[qn++]=ui,Hn[qn++]=ao,ao=s;var h=li;s=ui;var m=32-ln(h)-1;h&=~(1<<m),u+=1;var y=32-ln(o)+m;if(30<y){var I=m-m%5;y=(h&(1<<I)-1).toString(32),h>>=I,m-=I,li=1<<32-ln(o)+m|u<<m|h,ui=y+s}else li=1<<y|u<<m|h,ui=s}function Yf(s){s.return!==null&&(lo(s,1),o_(s,1,0))}function Xf(s){for(;s===nd;)nd=ya[--_a],ya[_a]=null,rd=ya[--_a],ya[_a]=null;for(;s===ao;)ao=Hn[--qn],Hn[qn]=null,ui=Hn[--qn],Hn[qn]=null,li=Hn[--qn],Hn[qn]=null}var On=null,Ln=null,ct=!1,mr=null;function a_(s,o){var u=Yn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function l_(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,On=s,Ln=Zi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,On=s,Ln=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ao!==null?{id:li,overflow:ui}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Yn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,On=s,Ln=null,!0):!1;default:return!1}}function Jf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zf(s){if(ct){var o=Ln;if(o){var u=o;if(!l_(s,o)){if(Jf(s))throw Error(t(418));o=Zi(u.nextSibling);var h=On;o&&l_(s,o)?a_(h,u):(s.flags=s.flags&-4097|2,ct=!1,On=s)}}else{if(Jf(s))throw Error(t(418));s.flags=s.flags&-4097|2,ct=!1,On=s}}}function u_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function id(s){if(s!==On)return!1;if(!ct)return u_(s),ct=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Wf(s.type,s.memoizedProps)),o&&(o=Ln)){if(Jf(s))throw c_(),Error(t(418));for(;o;)a_(s,o),o=Zi(o.nextSibling)}if(u_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Ln=Zi(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Ln=null}}else Ln=On?Zi(s.stateNode.nextSibling):null;return!0}function c_(){for(var s=Ln;s;)s=Zi(s.nextSibling)}function wa(){Ln=On=null,ct=!1}function ep(s){mr===null?mr=[s]:mr.push(s)}var jR=G.ReactCurrentBatchConfig;function Yl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(I){var O=m.refs;I===null?delete O[y]:O[y]=I},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function sd(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function d_(s){var o=s._init;return o(s._payload)}function h_(s){function o(H,U){if(s){var q=H.deletions;q===null?(H.deletions=[U],H.flags|=16):q.push(U)}}function u(H,U){if(!s)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function h(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=cs(H,U),H.index=0,H.sibling=null,H}function y(H,U,q){return H.index=q,s?(q=H.alternate,q!==null?(q=q.index,q<U?(H.flags|=2,U):q):(H.flags|=2,U)):(H.flags|=1048576,U)}function I(H){return s&&H.alternate===null&&(H.flags|=2),H}function O(H,U,q,oe){return U===null||U.tag!==6?(U=Hp(q,H.mode,oe),U.return=H,U):(U=m(U,q),U.return=H,U)}function j(H,U,q,oe){var ve=q.type;return ve===D?te(H,U,q.props.children,oe,q.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===xe&&d_(ve)===U.type)?(oe=m(U,q.props),oe.ref=Yl(H,U,q),oe.return=H,oe):(oe=Pd(q.type,q.key,q.props,null,H.mode,oe),oe.ref=Yl(H,U,q),oe.return=H,oe)}function K(H,U,q,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=qp(q,H.mode,oe),U.return=H,U):(U=m(U,q.children||[]),U.return=H,U)}function te(H,U,q,oe,ve){return U===null||U.tag!==7?(U=vo(q,H.mode,oe,ve),U.return=H,U):(U=m(U,q),U.return=H,U)}function ne(H,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Hp(""+U,H.mode,q),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case X:return q=Pd(U.type,U.key,U.props,null,H.mode,q),q.ref=Yl(H,null,U),q.return=H,q;case Z:return U=qp(U,H.mode,q),U.return=H,U;case xe:var oe=U._init;return ne(H,oe(U._payload),q)}if(zt(U)||ue(U))return U=vo(U,H.mode,q,null),U.return=H,U;sd(H,U)}return null}function ee(H,U,q,oe){var ve=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:O(H,U,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case X:return q.key===ve?j(H,U,q,oe):null;case Z:return q.key===ve?K(H,U,q,oe):null;case xe:return ve=q._init,ee(H,U,ve(q._payload),oe)}if(zt(q)||ue(q))return ve!==null?null:te(H,U,q,oe,null);sd(H,q)}return null}function de(H,U,q,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(q)||null,O(U,H,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return H=H.get(oe.key===null?q:oe.key)||null,j(U,H,oe,ve);case Z:return H=H.get(oe.key===null?q:oe.key)||null,K(U,H,oe,ve);case xe:var ye=oe._init;return de(H,U,q,ye(oe._payload),ve)}if(zt(oe)||ue(oe))return H=H.get(q)||null,te(U,H,oe,ve,null);sd(U,oe)}return null}function me(H,U,q,oe){for(var ve=null,ye=null,_e=U,Ae=U=0,Mt=null;_e!==null&&Ae<q.length;Ae++){_e.index>Ae?(Mt=_e,_e=null):Mt=_e.sibling;var Ge=ee(H,_e,q[Ae],oe);if(Ge===null){_e===null&&(_e=Mt);break}s&&_e&&Ge.alternate===null&&o(H,_e),U=y(Ge,U,Ae),ye===null?ve=Ge:ye.sibling=Ge,ye=Ge,_e=Mt}if(Ae===q.length)return u(H,_e),ct&&lo(H,Ae),ve;if(_e===null){for(;Ae<q.length;Ae++)_e=ne(H,q[Ae],oe),_e!==null&&(U=y(_e,U,Ae),ye===null?ve=_e:ye.sibling=_e,ye=_e);return ct&&lo(H,Ae),ve}for(_e=h(H,_e);Ae<q.length;Ae++)Mt=de(_e,H,Ae,q[Ae],oe),Mt!==null&&(s&&Mt.alternate!==null&&_e.delete(Mt.key===null?Ae:Mt.key),U=y(Mt,U,Ae),ye===null?ve=Mt:ye.sibling=Mt,ye=Mt);return s&&_e.forEach(function(ds){return o(H,ds)}),ct&&lo(H,Ae),ve}function ge(H,U,q,oe){var ve=ue(q);if(typeof ve!="function")throw Error(t(150));if(q=ve.call(q),q==null)throw Error(t(151));for(var ye=ve=null,_e=U,Ae=U=0,Mt=null,Ge=q.next();_e!==null&&!Ge.done;Ae++,Ge=q.next()){_e.index>Ae?(Mt=_e,_e=null):Mt=_e.sibling;var ds=ee(H,_e,Ge.value,oe);if(ds===null){_e===null&&(_e=Mt);break}s&&_e&&ds.alternate===null&&o(H,_e),U=y(ds,U,Ae),ye===null?ve=ds:ye.sibling=ds,ye=ds,_e=Mt}if(Ge.done)return u(H,_e),ct&&lo(H,Ae),ve;if(_e===null){for(;!Ge.done;Ae++,Ge=q.next())Ge=ne(H,Ge.value,oe),Ge!==null&&(U=y(Ge,U,Ae),ye===null?ve=Ge:ye.sibling=Ge,ye=Ge);return ct&&lo(H,Ae),ve}for(_e=h(H,_e);!Ge.done;Ae++,Ge=q.next())Ge=de(_e,H,Ae,Ge.value,oe),Ge!==null&&(s&&Ge.alternate!==null&&_e.delete(Ge.key===null?Ae:Ge.key),U=y(Ge,U,Ae),ye===null?ve=Ge:ye.sibling=Ge,ye=Ge);return s&&_e.forEach(function(yA){return o(H,yA)}),ct&&lo(H,Ae),ve}function _t(H,U,q,oe){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case X:e:{for(var ve=q.key,ye=U;ye!==null;){if(ye.key===ve){if(ve=q.type,ve===D){if(ye.tag===7){u(H,ye.sibling),U=m(ye,q.props.children),U.return=H,H=U;break e}}else if(ye.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===xe&&d_(ve)===ye.type){u(H,ye.sibling),U=m(ye,q.props),U.ref=Yl(H,ye,q),U.return=H,H=U;break e}u(H,ye);break}else o(H,ye);ye=ye.sibling}q.type===D?(U=vo(q.props.children,H.mode,oe,q.key),U.return=H,H=U):(oe=Pd(q.type,q.key,q.props,null,H.mode,oe),oe.ref=Yl(H,U,q),oe.return=H,H=oe)}return I(H);case Z:e:{for(ye=q.key;U!==null;){if(U.key===ye)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){u(H,U.sibling),U=m(U,q.children||[]),U.return=H,H=U;break e}else{u(H,U);break}else o(H,U);U=U.sibling}U=qp(q,H.mode,oe),U.return=H,H=U}return I(H);case xe:return ye=q._init,_t(H,U,ye(q._payload),oe)}if(zt(q))return me(H,U,q,oe);if(ue(q))return ge(H,U,q,oe);sd(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(u(H,U.sibling),U=m(U,q),U.return=H,H=U):(u(H,U),U=Hp(q,H.mode,oe),U.return=H,H=U),I(H)):u(H,U)}return _t}var Ea=h_(!0),f_=h_(!1),od=es(null),ad=null,Ta=null,tp=null;function np(){tp=Ta=ad=null}function rp(s){var o=od.current;it(od),s._currentValue=o}function ip(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function Ia(s,o){ad=s,tp=Ta=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(_n=!0),s.firstContext=null)}function Kn(s){var o=s._currentValue;if(tp!==s)if(s={context:s,memoizedValue:o,next:null},Ta===null){if(ad===null)throw Error(t(308));Ta=s,ad.dependencies={lanes:0,firstContext:s}}else Ta=Ta.next=s;return o}var uo=null;function sp(s){uo===null?uo=[s]:uo.push(s)}function p_(s,o,u,h){var m=o.interleaved;return m===null?(u.next=u,sp(o)):(u.next=m.next,m.next=u),o.interleaved=u,ci(s,h)}function ci(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var rs=!1;function op(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m_(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function di(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function is(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ke&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,ci(s,u)}return m=h.interleaved,m===null?(o.next=o,sp(h)):(o.next=m.next,m.next=o),h.interleaved=o,ci(s,u)}function ld(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ki(s,u)}}function g_(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=I:y=y.next=I,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function ud(s,o,u,h){var m=s.updateQueue;rs=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var j=O,K=j.next;j.next=null,I===null?y=K:I.next=K,I=j;var te=s.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==I&&(O===null?te.firstBaseUpdate=K:O.next=K,te.lastBaseUpdate=j))}if(y!==null){var ne=m.baseState;I=0,te=K=j=null,O=y;do{var ee=O.lane,de=O.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var me=s,ge=O;switch(ee=o,de=u,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ne=me.call(de,ne,ee);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ee=typeof me=="function"?me.call(de,ne,ee):me,ee==null)break e;ne=se({},ne,ee);break e;case 2:rs=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[O]:ee.push(O))}else de={eventTime:de,lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(K=te=de,j=ne):te=te.next=de,I|=ee;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(j=ne),m.baseState=j,m.firstBaseUpdate=K,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);fo|=I,s.lanes=I,s.memoizedState=ne}}function v_(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Xl={},Vr=es(Xl),Jl=es(Xl),Zl=es(Xl);function co(s){if(s===Xl)throw Error(t(174));return s}function ap(s,o){switch(nt(Zl,o),nt(Jl,s),nt(Vr,Xl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=mt(o,s)}it(Vr),nt(Vr,o)}function Ca(){it(Vr),it(Jl),it(Zl)}function y_(s){co(Zl.current);var o=co(Vr.current),u=mt(o,s.type);o!==u&&(nt(Jl,s),nt(Vr,u))}function lp(s){Jl.current===s&&(it(Vr),it(Jl))}var ht=es(0);function cd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var up=[];function cp(){for(var s=0;s<up.length;s++)up[s]._workInProgressVersionPrimary=null;up.length=0}var dd=G.ReactCurrentDispatcher,dp=G.ReactCurrentBatchConfig,ho=0,ft=null,Rt=null,Ot=null,hd=!1,eu=!1,tu=0,UR=0;function Xt(){throw Error(t(321))}function hp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!pr(s[u],o[u]))return!1;return!0}function fp(s,o,u,h,m,y){if(ho=y,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,dd.current=s===null||s.memoizedState===null?WR:HR,s=u(h,m),eu){y=0;do{if(eu=!1,tu=0,25<=y)throw Error(t(301));y+=1,Ot=Rt=null,o.updateQueue=null,dd.current=qR,s=u(h,m)}while(eu)}if(dd.current=md,o=Rt!==null&&Rt.next!==null,ho=0,Ot=Rt=ft=null,hd=!1,o)throw Error(t(300));return s}function pp(){var s=tu!==0;return tu=0,s}function Fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ft.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Gn(){if(Rt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var o=Ot===null?ft.memoizedState:Ot.next;if(o!==null)Ot=o,Rt=s;else{if(s===null)throw Error(t(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?ft.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function nu(s,o){return typeof o=="function"?o(s):o}function mp(s){var o=Gn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=Rt,m=h.baseQueue,y=u.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}h.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,h=h.baseState;var O=I=null,j=null,K=y;do{var te=K.lane;if((ho&te)===te)j!==null&&(j=j.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:s(h,K.action);else{var ne={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};j===null?(O=j=ne,I=h):j=j.next=ne,ft.lanes|=te,fo|=te}K=K.next}while(K!==null&&K!==y);j===null?I=h:j.next=O,pr(h,o.memoizedState)||(_n=!0),o.memoizedState=h,o.baseState=I,o.baseQueue=j,u.lastRenderedState=h}if(s=u.interleaved,s!==null){m=s;do y=m.lane,ft.lanes|=y,fo|=y,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function gp(s){var o=Gn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);pr(y,o.memoizedState)||(_n=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,h]}function __(){}function w_(s,o){var u=ft,h=Gn(),m=o(),y=!pr(h.memoizedState,m);if(y&&(h.memoizedState=m,_n=!0),h=h.queue,vp(I_.bind(null,u,h,s),[s]),h.getSnapshot!==o||y||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,ru(9,T_.bind(null,u,h,m,o),void 0,null),Lt===null)throw Error(t(349));(ho&30)!==0||E_(u,o,m)}return m}function E_(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function T_(s,o,u,h){o.value=u,o.getSnapshot=h,C_(o)&&S_(s)}function I_(s,o,u){return u(function(){C_(o)&&S_(s)})}function C_(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!pr(s,u)}catch{return!0}}function S_(s){var o=ci(s,1);o!==null&&_r(o,s,1,-1)}function x_(s){var o=Fr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:s},o.queue=s,s=s.dispatch=BR.bind(null,ft,s),[o.memoizedState,s]}function ru(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function R_(){return Gn().memoizedState}function fd(s,o,u,h){var m=Fr();ft.flags|=s,m.memoizedState=ru(1|o,u,void 0,h===void 0?null:h)}function pd(s,o,u,h){var m=Gn();h=h===void 0?null:h;var y=void 0;if(Rt!==null){var I=Rt.memoizedState;if(y=I.destroy,h!==null&&hp(h,I.deps)){m.memoizedState=ru(o,u,y,h);return}}ft.flags|=s,m.memoizedState=ru(1|o,u,y,h)}function A_(s,o){return fd(8390656,8,s,o)}function vp(s,o){return pd(2048,8,s,o)}function P_(s,o){return pd(4,2,s,o)}function k_(s,o){return pd(4,4,s,o)}function b_(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function N_(s,o,u){return u=u!=null?u.concat([s]):null,pd(4,4,b_.bind(null,o,s),u)}function yp(){}function D_(s,o){var u=Gn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&hp(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function O_(s,o){var u=Gn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&hp(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function L_(s,o,u){return(ho&21)===0?(s.baseState&&(s.baseState=!1,_n=!0),s.memoizedState=u):(pr(u,o)||(u=eo(),ft.lanes|=u,fo|=u,s.baseState=!0),o)}function $R(s,o){var u=je;je=u!==0&&4>u?u:4,s(!0);var h=dp.transition;dp.transition={};try{s(!1),o()}finally{je=u,dp.transition=h}}function M_(){return Gn().memoizedState}function zR(s,o,u){var h=ls(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},V_(s))F_(o,u);else if(u=p_(s,o,u,h),u!==null){var m=dn();_r(u,s,h,m),j_(u,o,h)}}function BR(s,o,u){var h=ls(s),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(V_(s))F_(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var I=o.lastRenderedState,O=y(I,u);if(m.hasEagerState=!0,m.eagerState=O,pr(O,I)){var j=o.interleaved;j===null?(m.next=m,sp(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=p_(s,o,m,h),u!==null&&(m=dn(),_r(u,s,h,m),j_(u,o,h))}}function V_(s){var o=s.alternate;return s===ft||o!==null&&o===ft}function F_(s,o){eu=hd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function j_(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ki(s,u)}}var md={readContext:Kn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},WR={readContext:Kn,useCallback:function(s,o){return Fr().memoizedState=[s,o===void 0?null:o],s},useContext:Kn,useEffect:A_,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,fd(4194308,4,b_.bind(null,o,s),u)},useLayoutEffect:function(s,o){return fd(4194308,4,s,o)},useInsertionEffect:function(s,o){return fd(4,2,s,o)},useMemo:function(s,o){var u=Fr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Fr();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=zR.bind(null,ft,s),[h.memoizedState,s]},useRef:function(s){var o=Fr();return s={current:s},o.memoizedState=s},useState:x_,useDebugValue:yp,useDeferredValue:function(s){return Fr().memoizedState=s},useTransition:function(){var s=x_(!1),o=s[0];return s=$R.bind(null,s[1]),Fr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=ft,m=Fr();if(ct){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Lt===null)throw Error(t(349));(ho&30)!==0||E_(h,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,A_(I_.bind(null,h,y,s),[s]),h.flags|=2048,ru(9,T_.bind(null,h,y,u,o),void 0,null),u},useId:function(){var s=Fr(),o=Lt.identifierPrefix;if(ct){var u=ui,h=li;u=(h&~(1<<32-ln(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=tu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=UR++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},HR={readContext:Kn,useCallback:D_,useContext:Kn,useEffect:vp,useImperativeHandle:N_,useInsertionEffect:P_,useLayoutEffect:k_,useMemo:O_,useReducer:mp,useRef:R_,useState:function(){return mp(nu)},useDebugValue:yp,useDeferredValue:function(s){var o=Gn();return L_(o,Rt.memoizedState,s)},useTransition:function(){var s=mp(nu)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:__,useSyncExternalStore:w_,useId:M_,unstable_isNewReconciler:!1},qR={readContext:Kn,useCallback:D_,useContext:Kn,useEffect:vp,useImperativeHandle:N_,useInsertionEffect:P_,useLayoutEffect:k_,useMemo:O_,useReducer:gp,useRef:R_,useState:function(){return gp(nu)},useDebugValue:yp,useDeferredValue:function(s){var o=Gn();return Rt===null?o.memoizedState=s:L_(o,Rt.memoizedState,s)},useTransition:function(){var s=gp(nu)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:__,useSyncExternalStore:w_,useId:M_,unstable_isNewReconciler:!1};function gr(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function _p(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:se({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var gd={isMounted:function(s){return(s=s._reactInternals)?ar(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=dn(),m=ls(s),y=di(h,m);y.payload=o,u!=null&&(y.callback=u),o=is(s,y,m),o!==null&&(_r(o,s,m,h),ld(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=dn(),m=ls(s),y=di(h,m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=is(s,y,m),o!==null&&(_r(o,s,m,h),ld(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=dn(),h=ls(s),m=di(u,h);m.tag=2,o!=null&&(m.callback=o),o=is(s,m,h),o!==null&&(_r(o,s,h,u),ld(o,s,h))}};function U_(s,o,u,h,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,I):o.prototype&&o.prototype.isPureReactComponent?!Bl(u,h)||!Bl(m,y):!0}function $_(s,o,u){var h=!1,m=ts,y=o.contextType;return typeof y=="object"&&y!==null?y=Kn(y):(m=yn(o)?oo:Yt.current,h=o.contextTypes,y=(h=h!=null)?va(s,m):ts),o=new o(u,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=gd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function z_(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&gd.enqueueReplaceState(o,o.state,null)}function wp(s,o,u,h){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},op(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Kn(y):(y=yn(o)?oo:Yt.current,m.context=va(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(_p(s,o,y,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&gd.enqueueReplaceState(m,m.state,null),ud(s,u,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Sa(s,o){try{var u="",h=o;do u+=Re(h),h=h.return;while(h);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function Ep(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Tp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var KR=typeof WeakMap=="function"?WeakMap:Map;function B_(s,o,u){u=di(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Id||(Id=!0,Vp=h),Tp(s,o)},u}function W_(s,o,u){u=di(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){Tp(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Tp(s,o),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function H_(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new KR;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),s=aA.bind(null,s,o,u),o.then(s,s))}function q_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function K_(s,o,u,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=di(-1,1),o.tag=2,is(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var GR=G.ReactCurrentOwner,_n=!1;function cn(s,o,u,h){o.child=s===null?f_(o,null,u,h):Ea(o,s.child,u,h)}function G_(s,o,u,h,m){u=u.render;var y=o.ref;return Ia(o,m),h=fp(s,o,u,h,y,m),u=pp(),s!==null&&!_n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,hi(s,o,m)):(ct&&u&&Yf(o),o.flags|=1,cn(s,o,h,m),o.child)}function Q_(s,o,u,h,m){if(s===null){var y=u.type;return typeof y=="function"&&!Wp(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Y_(s,o,y,h,m)):(s=Pd(u.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var I=y.memoizedProps;if(u=u.compare,u=u!==null?u:Bl,u(I,h)&&s.ref===o.ref)return hi(s,o,m)}return o.flags|=1,s=cs(y,h),s.ref=o.ref,s.return=o,o.child=s}function Y_(s,o,u,h,m){if(s!==null){var y=s.memoizedProps;if(Bl(y,h)&&s.ref===o.ref)if(_n=!1,o.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(_n=!0);else return o.lanes=s.lanes,hi(s,o,m)}return Ip(s,o,u,h,m)}function X_(s,o,u){var h=o.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ra,Mn),Mn|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,nt(Ra,Mn),Mn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,nt(Ra,Mn),Mn|=h}else y!==null?(h=y.baseLanes|u,o.memoizedState=null):h=u,nt(Ra,Mn),Mn|=h;return cn(s,o,m,u),o.child}function J_(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Ip(s,o,u,h,m){var y=yn(u)?oo:Yt.current;return y=va(o,y),Ia(o,m),u=fp(s,o,u,h,y,m),h=pp(),s!==null&&!_n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,hi(s,o,m)):(ct&&h&&Yf(o),o.flags|=1,cn(s,o,u,m),o.child)}function Z_(s,o,u,h,m){if(yn(u)){var y=!0;ed(o)}else y=!1;if(Ia(o,m),o.stateNode===null)yd(s,o),$_(o,u,h),wp(o,u,h,m),h=!0;else if(s===null){var I=o.stateNode,O=o.memoizedProps;I.props=O;var j=I.context,K=u.contextType;typeof K=="object"&&K!==null?K=Kn(K):(K=yn(u)?oo:Yt.current,K=va(o,K));var te=u.getDerivedStateFromProps,ne=typeof te=="function"||typeof I.getSnapshotBeforeUpdate=="function";ne||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==h||j!==K)&&z_(o,I,h,K),rs=!1;var ee=o.memoizedState;I.state=ee,ud(o,h,I,m),j=o.memoizedState,O!==h||ee!==j||vn.current||rs?(typeof te=="function"&&(_p(o,u,te,h),j=o.memoizedState),(O=rs||U_(o,u,O,h,ee,j,K))?(ne||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=j),I.props=h,I.state=j,I.context=K,h=O):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{I=o.stateNode,m_(s,o),O=o.memoizedProps,K=o.type===o.elementType?O:gr(o.type,O),I.props=K,ne=o.pendingProps,ee=I.context,j=u.contextType,typeof j=="object"&&j!==null?j=Kn(j):(j=yn(u)?oo:Yt.current,j=va(o,j));var de=u.getDerivedStateFromProps;(te=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==ne||ee!==j)&&z_(o,I,h,j),rs=!1,ee=o.memoizedState,I.state=ee,ud(o,h,I,m);var me=o.memoizedState;O!==ne||ee!==me||vn.current||rs?(typeof de=="function"&&(_p(o,u,de,h),me=o.memoizedState),(K=rs||U_(o,u,K,h,ee,me,j)||!1)?(te||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,me,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,me,j)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),I.props=h,I.state=me,I.context=j,h=K):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return Cp(s,o,u,h,y,m)}function Cp(s,o,u,h,m,y){J_(s,o);var I=(o.flags&128)!==0;if(!h&&!I)return m&&i_(o,u,!1),hi(s,o,y);h=o.stateNode,GR.current=o;var O=I&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&I?(o.child=Ea(o,s.child,null,y),o.child=Ea(o,null,O,y)):cn(s,o,O,y),o.memoizedState=h.state,m&&i_(o,u,!0),o.child}function e0(s){var o=s.stateNode;o.pendingContext?n_(s,o.pendingContext,o.pendingContext!==o.context):o.context&&n_(s,o.context,!1),ap(s,o.containerInfo)}function t0(s,o,u,h,m){return wa(),ep(m),o.flags|=256,cn(s,o,u,h),o.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function xp(s){return{baseLanes:s,cachePool:null,transitions:null}}function n0(s,o,u){var h=o.pendingProps,m=ht.current,y=!1,I=(o.flags&128)!==0,O;if((O=I)||(O=s!==null&&s.memoizedState===null?!1:(m&2)!==0),O?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),nt(ht,m&1),s===null)return Zf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=h.children,s=h.fallback,y?(h=o.mode,y=o.child,I={mode:"hidden",children:I},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=I):y=kd(I,h,0,null),s=vo(s,h,u,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=xp(u),o.memoizedState=Sp,s):Rp(o,I));if(m=s.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return QR(s,o,I,h,O,m,u);if(y){y=h.fallback,I=o.mode,m=s.child,O=m.sibling;var j={mode:"hidden",children:h.children};return(I&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=j,o.deletions=null):(h=cs(m,j),h.subtreeFlags=m.subtreeFlags&14680064),O!==null?y=cs(O,y):(y=vo(y,I,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,I=s.child.memoizedState,I=I===null?xp(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=s.childLanes&~u,o.memoizedState=Sp,h}return y=s.child,s=y.sibling,h=cs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function Rp(s,o){return o=kd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function vd(s,o,u,h){return h!==null&&ep(h),Ea(o,s.child,null,u),s=Rp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function QR(s,o,u,h,m,y,I){if(u)return o.flags&256?(o.flags&=-257,h=Ep(Error(t(422))),vd(s,o,I,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=kd({mode:"visible",children:h.children},m,0,null),y=vo(y,m,I,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Ea(o,s.child,null,I),o.child.memoizedState=xp(I),o.memoizedState=Sp,y);if((o.mode&1)===0)return vd(s,o,I,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var O=h.dgst;return h=O,y=Error(t(419)),h=Ep(y,h,void 0),vd(s,o,I,h)}if(O=(I&s.childLanes)!==0,_n||O){if(h=Lt,h!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|I))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,ci(s,m),_r(h,s,m,-1))}return Bp(),h=Ep(Error(t(421))),vd(s,o,I,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=lA.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,Ln=Zi(m.nextSibling),On=o,ct=!0,mr=null,s!==null&&(Hn[qn++]=li,Hn[qn++]=ui,Hn[qn++]=ao,li=s.id,ui=s.overflow,ao=o),o=Rp(o,h.children),o.flags|=4096,o)}function r0(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),ip(s.return,o,u)}function Ap(s,o,u,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=m)}function i0(s,o,u){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(cn(s,o,h.children,u),h=ht.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&r0(s,u,o);else if(s.tag===19)r0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(nt(ht,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&cd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Ap(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&cd(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Ap(o,!0,u,null,y);break;case"together":Ap(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function yd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function hi(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),fo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=cs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=cs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function YR(s,o,u){switch(o.tag){case 3:e0(o),wa();break;case 5:y_(o);break;case 1:yn(o.type)&&ed(o);break;case 4:ap(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;nt(od,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(nt(ht,ht.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?n0(s,o,u):(nt(ht,ht.current&1),s=hi(s,o,u),s!==null?s.sibling:null);nt(ht,ht.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return i0(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(ht,ht.current),h)break;return null;case 22:case 23:return o.lanes=0,X_(s,o,u)}return hi(s,o,u)}var s0,Pp,o0,a0;s0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Pp=function(){},o0=function(s,o,u,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,co(Vr.current);var y=null;switch(u){case"input":m=Jr(s,m),h=Jr(s,h),y=[];break;case"select":m=se({},m,{value:void 0}),h=se({},h,{value:void 0}),y=[];break;case"textarea":m=Ui(s,m),h=Ui(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Xc)}Cl(u,h);var I;u=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var O=m[K];for(I in O)O.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in h){var j=h[K];if(O=m!=null?m[K]:void 0,h.hasOwnProperty(K)&&j!==O&&(j!=null||O!=null))if(K==="style")if(O){for(I in O)!O.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in j)j.hasOwnProperty(I)&&O[I]!==j[I]&&(u||(u={}),u[I]=j[I])}else u||(y||(y=[]),y.push(K,u)),u=j;else K==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,O=O?O.__html:void 0,j!=null&&O!==j&&(y=y||[]).push(K,j)):K==="children"?typeof j!="string"&&typeof j!="number"||(y=y||[]).push(K,""+j):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(j!=null&&K==="onScroll"&&rt("scroll",s),y||O===j||(y=[])):(y=y||[]).push(K,j))}u&&(y=y||[]).push("style",u);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},a0=function(s,o,u,h){u!==h&&(o.flags|=4)};function iu(s,o){if(!ct)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function XR(s,o,u){var h=o.pendingProps;switch(Xf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return yn(o.type)&&Zc(),Jt(o),null;case 3:return h=o.stateNode,Ca(),it(vn),it(Yt),cp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(id(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,mr!==null&&(Up(mr),mr=null))),Pp(s,o),Jt(o),null;case 5:lp(o);var m=co(Zl.current);if(u=o.type,s!==null&&o.stateNode!=null)o0(s,o,u,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Jt(o),null}if(s=co(Vr.current),id(o)){h=o.stateNode,u=o.type;var y=o.memoizedProps;switch(h[Mr]=o,h[Gl]=y,s=(o.mode&1)!==0,u){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(m=0;m<Hl.length;m++)rt(Hl[m],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":Mi(h,y),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},rt("invalid",h);break;case"textarea":Zr(h,y),rt("invalid",h)}Cl(u,y),m=null;for(var I in y)if(y.hasOwnProperty(I)){var O=y[I];I==="children"?typeof O=="string"?h.textContent!==O&&(y.suppressHydrationWarning!==!0&&Yc(h.textContent,O,s),m=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Yc(h.textContent,O,s),m=["children",""+O]):i.hasOwnProperty(I)&&O!=null&&I==="onScroll"&&rt("scroll",h)}switch(u){case"input":Pn(h),zo(h,y,!0);break;case"textarea":Pn(h),$i(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Xc)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=pt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=I.createElement(u,{is:h.is}):(s=I.createElement(u),u==="select"&&(I=s,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):s=I.createElementNS(s,u),s[Mr]=o,s[Gl]=h,s0(s,o,!1,!1),o.stateNode=s;e:{switch(I=Sl(u,h),u){case"dialog":rt("cancel",s),rt("close",s),m=h;break;case"iframe":case"object":case"embed":rt("load",s),m=h;break;case"video":case"audio":for(m=0;m<Hl.length;m++)rt(Hl[m],s);m=h;break;case"source":rt("error",s),m=h;break;case"img":case"image":case"link":rt("error",s),rt("load",s),m=h;break;case"details":rt("toggle",s),m=h;break;case"input":Mi(s,h),m=Jr(s,h),rt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=se({},h,{value:void 0}),rt("invalid",s);break;case"textarea":Zr(s,h),m=Ui(s,h),rt("invalid",s);break;default:m=h}Cl(u,m),O=m;for(y in O)if(O.hasOwnProperty(y)){var j=O[y];y==="style"?Tl(s,j):y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&wl(s,j)):y==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&zi(s,j):typeof j=="number"&&zi(s,""+j):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?j!=null&&y==="onScroll"&&rt("scroll",s):j!=null&&B(s,y,j,I))}switch(u){case"input":Pn(s),zo(s,h,!1);break;case"textarea":Pn(s),$i(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Oe(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?pn(s,!!h.multiple,y,!1):h.defaultValue!=null&&pn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Xc)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(s&&o.stateNode!=null)a0(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=co(Zl.current),co(Vr.current),id(o)){if(h=o.stateNode,u=o.memoizedProps,h[Mr]=o,(y=h.nodeValue!==u)&&(s=On,s!==null))switch(s.tag){case 3:Yc(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Yc(h.nodeValue,u,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Mr]=o,o.stateNode=h}return Jt(o),null;case 13:if(it(ht),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&Ln!==null&&(o.mode&1)!==0&&(o.flags&128)===0)c_(),wa(),o.flags|=98560,y=!1;else if(y=id(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Mr]=o}else wa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),y=!1}else mr!==null&&(Up(mr),mr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ht.current&1)!==0?At===0&&(At=3):Bp())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return Ca(),Pp(s,o),s===null&&ql(o.stateNode.containerInfo),Jt(o),null;case 10:return rp(o.type._context),Jt(o),null;case 17:return yn(o.type)&&Zc(),Jt(o),null;case 19:if(it(ht),y=o.memoizedState,y===null)return Jt(o),null;if(h=(o.flags&128)!==0,I=y.rendering,I===null)if(h)iu(y,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=cd(s),I!==null){for(o.flags|=128,iu(y,!1),h=I.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)y=u,s=h,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,s=I.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return nt(ht,ht.current&1|2),o.child}s=s.sibling}y.tail!==null&&tt()>Aa&&(o.flags|=128,h=!0,iu(y,!1),o.lanes=4194304)}else{if(!h)if(s=cd(I),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),iu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!ct)return Jt(o),null}else 2*tt()-y.renderingStartTime>Aa&&u!==1073741824&&(o.flags|=128,h=!0,iu(y,!1),o.lanes=4194304);y.isBackwards?(I.sibling=o.child,o.child=I):(u=y.last,u!==null?u.sibling=I:o.child=I,y.last=I)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=tt(),o.sibling=null,u=ht.current,nt(ht,h?u&1|2:u&1),o):(Jt(o),null);case 22:case 23:return zp(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Mn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function JR(s,o){switch(Xf(o),o.tag){case 1:return yn(o.type)&&Zc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ca(),it(vn),it(Yt),cp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return lp(o),null;case 13:if(it(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));wa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return it(ht),null;case 4:return Ca(),null;case 10:return rp(o.type._context),null;case 22:case 23:return zp(),null;case 24:return null;default:return null}}var _d=!1,Zt=!1,ZR=typeof WeakSet=="function"?WeakSet:Set,pe=null;function xa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){gt(s,o,h)}else u.current=null}function kp(s,o,u){try{u()}catch(h){gt(s,o,h)}}var l0=!1;function eA(s,o){if(zf=Yi,s=Uy(),Of(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var I=0,O=-1,j=-1,K=0,te=0,ne=s,ee=null;t:for(;;){for(var de;ne!==u||m!==0&&ne.nodeType!==3||(O=I+m),ne!==y||h!==0&&ne.nodeType!==3||(j=I+h),ne.nodeType===3&&(I+=ne.nodeValue.length),(de=ne.firstChild)!==null;)ee=ne,ne=de;for(;;){if(ne===s)break t;if(ee===u&&++K===m&&(O=I),ee===y&&++te===h&&(j=I),(de=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=de}u=O===-1||j===-1?null:{start:O,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Bf={focusedElem:s,selectionRange:u},Yi=!1,pe=o;pe!==null;)if(o=pe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,pe=s;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,_t=me.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?ge:gr(o.type,ge),_t);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){gt(o,o.return,oe)}if(s=o.sibling,s!==null){s.return=o.return,pe=s;break}pe=o.return}return me=l0,l0=!1,me}function su(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&kp(o,u,y)}m=m.next}while(m!==h)}}function wd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function bp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function u0(s){var o=s.alternate;o!==null&&(s.alternate=null,u0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Mr],delete o[Gl],delete o[Kf],delete o[MR],delete o[VR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function c0(s){return s.tag===5||s.tag===3||s.tag===4}function d0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||c0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Np(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Xc));else if(h!==4&&(s=s.child,s!==null))for(Np(s,o,u),s=s.sibling;s!==null;)Np(s,o,u),s=s.sibling}function Dp(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Dp(s,o,u),s=s.sibling;s!==null;)Dp(s,o,u),s=s.sibling}var Ht=null,vr=!1;function ss(s,o,u){for(u=u.child;u!==null;)h0(s,o,u),u=u.sibling}function h0(s,o,u){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Js,u)}catch{}switch(u.tag){case 5:Zt||xa(u,o);case 6:var h=Ht,m=vr;Ht=null,ss(s,o,u),Ht=h,vr=m,Ht!==null&&(vr?(s=Ht,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Ht.removeChild(u.stateNode));break;case 18:Ht!==null&&(vr?(s=Ht,u=u.stateNode,s.nodeType===8?qf(s.parentNode,u):s.nodeType===1&&qf(s,u),hr(s)):qf(Ht,u.stateNode));break;case 4:h=Ht,m=vr,Ht=u.stateNode.containerInfo,vr=!0,ss(s,o,u),Ht=h,vr=m;break;case 0:case 11:case 14:case 15:if(!Zt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,I=y.destroy;y=y.tag,I!==void 0&&((y&2)!==0||(y&4)!==0)&&kp(u,o,I),m=m.next}while(m!==h)}ss(s,o,u);break;case 1:if(!Zt&&(xa(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){gt(u,o,O)}ss(s,o,u);break;case 21:ss(s,o,u);break;case 22:u.mode&1?(Zt=(h=Zt)||u.memoizedState!==null,ss(s,o,u),Zt=h):ss(s,o,u);break;default:ss(s,o,u)}}function f0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new ZR),o.forEach(function(h){var m=uA.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}}function yr(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var y=s,I=o,O=I;e:for(;O!==null;){switch(O.tag){case 5:Ht=O.stateNode,vr=!1;break e;case 3:Ht=O.stateNode.containerInfo,vr=!0;break e;case 4:Ht=O.stateNode.containerInfo,vr=!0;break e}O=O.return}if(Ht===null)throw Error(t(160));h0(y,I,m),Ht=null,vr=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(K){gt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)p0(o,s),o=o.sibling}function p0(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(yr(o,s),jr(s),h&4){try{su(3,s,s.return),wd(3,s)}catch(ge){gt(s,s.return,ge)}try{su(5,s,s.return)}catch(ge){gt(s,s.return,ge)}}break;case 1:yr(o,s),jr(s),h&512&&u!==null&&xa(u,u.return);break;case 5:if(yr(o,s),jr(s),h&512&&u!==null&&xa(u,u.return),s.flags&32){var m=s.stateNode;try{zi(m,"")}catch(ge){gt(s,s.return,ge)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,I=u!==null?u.memoizedProps:y,O=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&Vi(m,y),Sl(O,I);var K=Sl(O,y);for(I=0;I<j.length;I+=2){var te=j[I],ne=j[I+1];te==="style"?Tl(m,ne):te==="dangerouslySetInnerHTML"?wl(m,ne):te==="children"?zi(m,ne):B(m,te,ne,K)}switch(O){case"input":Fi(m,y);break;case"textarea":Ar(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?pn(m,!!y.multiple,de,!1):ee!==!!y.multiple&&(y.defaultValue!=null?pn(m,!!y.multiple,y.defaultValue,!0):pn(m,!!y.multiple,y.multiple?[]:"",!1))}m[Gl]=y}catch(ge){gt(s,s.return,ge)}}break;case 6:if(yr(o,s),jr(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(ge){gt(s,s.return,ge)}}break;case 3:if(yr(o,s),jr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{hr(o.containerInfo)}catch(ge){gt(s,s.return,ge)}break;case 4:yr(o,s),jr(s);break;case 13:yr(o,s),jr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Mp=tt())),h&4&&f0(s);break;case 22:if(te=u!==null&&u.memoizedState!==null,s.mode&1?(Zt=(K=Zt)||te,yr(o,s),Zt=K):yr(o,s),jr(s),h&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!te&&(s.mode&1)!==0)for(pe=s,te=s.child;te!==null;){for(ne=pe=te;pe!==null;){switch(ee=pe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:su(4,ee,ee.return);break;case 1:xa(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){h=ee,u=ee.return;try{o=h,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){gt(h,u,ge)}}break;case 5:xa(ee,ee.return);break;case 22:if(ee.memoizedState!==null){v0(ne);continue}}de!==null?(de.return=ee,pe=de):v0(ne)}te=te.sibling}e:for(te=null,ne=s;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=ne.stateNode,j=ne.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,O.style.display=El("display",I))}catch(ge){gt(s,s.return,ge)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(ge){gt(s,s.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:yr(o,s),jr(s),h&4&&f0(s);break;case 21:break;default:yr(o,s),jr(s)}}function jr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(c0(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(zi(m,""),h.flags&=-33);var y=d0(s);Dp(s,y,m);break;case 3:case 4:var I=h.stateNode.containerInfo,O=d0(s);Np(s,O,I);break;default:throw Error(t(161))}}catch(j){gt(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function tA(s,o,u){pe=s,m0(s)}function m0(s,o,u){for(var h=(s.mode&1)!==0;pe!==null;){var m=pe,y=m.child;if(m.tag===22&&h){var I=m.memoizedState!==null||_d;if(!I){var O=m.alternate,j=O!==null&&O.memoizedState!==null||Zt;O=_d;var K=Zt;if(_d=I,(Zt=j)&&!K)for(pe=m;pe!==null;)I=pe,j=I.child,I.tag===22&&I.memoizedState!==null?y0(m):j!==null?(j.return=I,pe=j):y0(m);for(;y!==null;)pe=y,m0(y),y=y.sibling;pe=m,_d=O,Zt=K}g0(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,pe=y):g0(s)}}function g0(s){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Zt||wd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Zt)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:gr(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&v_(o,y,h);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}v_(o,I,u)}break;case 5:var O=o.stateNode;if(u===null&&o.flags&4){u=O;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&hr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||o.flags&512&&bp(o)}catch(ee){gt(o,o.return,ee)}}if(o===s){pe=null;break}if(u=o.sibling,u!==null){u.return=o.return,pe=u;break}pe=o.return}}function v0(s){for(;pe!==null;){var o=pe;if(o===s){pe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,pe=u;break}pe=o.return}}function y0(s){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{wd(4,o)}catch(j){gt(o,u,j)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(j){gt(o,m,j)}}var y=o.return;try{bp(o)}catch(j){gt(o,y,j)}break;case 5:var I=o.return;try{bp(o)}catch(j){gt(o,I,j)}}}catch(j){gt(o,o.return,j)}if(o===s){pe=null;break}var O=o.sibling;if(O!==null){O.return=o.return,pe=O;break}pe=o.return}}var nA=Math.ceil,Ed=G.ReactCurrentDispatcher,Op=G.ReactCurrentOwner,Qn=G.ReactCurrentBatchConfig,Ke=0,Lt=null,It=null,qt=0,Mn=0,Ra=es(0),At=0,ou=null,fo=0,Td=0,Lp=0,au=null,wn=null,Mp=0,Aa=1/0,fi=null,Id=!1,Vp=null,os=null,Cd=!1,as=null,Sd=0,lu=0,Fp=null,xd=-1,Rd=0;function dn(){return(Ke&6)!==0?tt():xd!==-1?xd:xd=tt()}function ls(s){return(s.mode&1)===0?1:(Ke&2)!==0&&qt!==0?qt&-qt:jR.transition!==null?(Rd===0&&(Rd=eo()),Rd):(s=je,s!==0||(s=window.event,s=s===void 0?16:Ml(s.type)),s)}function _r(s,o,u,h){if(50<lu)throw lu=0,Fp=null,Error(t(185));qi(s,u,h),((Ke&2)===0||s!==Lt)&&(s===Lt&&((Ke&2)===0&&(Td|=u),At===4&&us(s,qt)),En(s,h),u===1&&Ke===0&&(o.mode&1)===0&&(Aa=tt()+500,td&&ns()))}function En(s,o){var u=s.callbackNode;ti(s,o);var h=Zs(s,s===Lt?qt:0);if(h===0)u!==null&&bl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&bl(u),o===1)s.tag===0?FR(w0.bind(null,s)):s_(w0.bind(null,s)),OR(function(){(Ke&6)===0&&ns()}),u=null;else{switch(Gi(h)){case 1:u=Xs;break;case 4:u=Bi;break;case 16:u=zn;break;case 536870912:u=Rc;break;default:u=zn}u=A0(u,_0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function _0(s,o){if(xd=-1,Rd=0,(Ke&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Pa()&&s.callbackNode!==u)return null;var h=Zs(s,s===Lt?qt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Ad(s,h);else{o=h;var m=Ke;Ke|=2;var y=T0();(Lt!==s||qt!==o)&&(fi=null,Aa=tt()+500,mo(s,o));do try{sA();break}catch(O){E0(s,O)}while(!0);np(),Ed.current=y,Ke=m,It!==null?o=0:(Lt=null,qt=0,o=At)}if(o!==0){if(o===2&&(m=bn(s),m!==0&&(h=m,o=jp(s,m))),o===1)throw u=ou,mo(s,0),us(s,h),En(s,tt()),u;if(o===6)us(s,h);else{if(m=s.current.alternate,(h&30)===0&&!rA(m)&&(o=Ad(s,h),o===2&&(y=bn(s),y!==0&&(h=y,o=jp(s,y))),o===1))throw u=ou,mo(s,0),us(s,h),En(s,tt()),u;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:go(s,wn,fi);break;case 3:if(us(s,h),(h&130023424)===h&&(o=Mp+500-tt(),10<o)){if(Zs(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){dn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Hf(go.bind(null,s,wn,fi),o);break}go(s,wn,fi);break;case 4:if(us(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var I=31-ln(h);y=1<<I,I=o[I],I>m&&(m=I),h&=~y}if(h=m,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*nA(h/1960))-h,10<h){s.timeoutHandle=Hf(go.bind(null,s,wn,fi),h);break}go(s,wn,fi);break;case 5:go(s,wn,fi);break;default:throw Error(t(329))}}}return En(s,tt()),s.callbackNode===u?_0.bind(null,s):null}function jp(s,o){var u=au;return s.current.memoizedState.isDehydrated&&(mo(s,o).flags|=256),s=Ad(s,o),s!==2&&(o=wn,wn=u,o!==null&&Up(o)),s}function Up(s){wn===null?wn=s:wn.push.apply(wn,s)}function rA(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],y=m.getSnapshot;m=m.value;try{if(!pr(y(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function us(s,o){for(o&=~Lp,o&=~Td,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ln(o),h=1<<u;s[u]=-1,o&=~h}}function w0(s){if((Ke&6)!==0)throw Error(t(327));Pa();var o=Zs(s,0);if((o&1)===0)return En(s,tt()),null;var u=Ad(s,o);if(s.tag!==0&&u===2){var h=bn(s);h!==0&&(o=h,u=jp(s,h))}if(u===1)throw u=ou,mo(s,0),us(s,o),En(s,tt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,go(s,wn,fi),En(s,tt()),null}function $p(s,o){var u=Ke;Ke|=1;try{return s(o)}finally{Ke=u,Ke===0&&(Aa=tt()+500,td&&ns())}}function po(s){as!==null&&as.tag===0&&(Ke&6)===0&&Pa();var o=Ke;Ke|=1;var u=Qn.transition,h=je;try{if(Qn.transition=null,je=1,s)return s()}finally{je=h,Qn.transition=u,Ke=o,(Ke&6)===0&&ns()}}function zp(){Mn=Ra.current,it(Ra)}function mo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,DR(u)),It!==null)for(u=It.return;u!==null;){var h=u;switch(Xf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zc();break;case 3:Ca(),it(vn),it(Yt),cp();break;case 5:lp(h);break;case 4:Ca();break;case 13:it(ht);break;case 19:it(ht);break;case 10:rp(h.type._context);break;case 22:case 23:zp()}u=u.return}if(Lt=s,It=s=cs(s.current,null),qt=Mn=o,At=0,ou=null,Lp=Td=fo=0,wn=au=null,uo!==null){for(o=0;o<uo.length;o++)if(u=uo[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,y=u.pending;if(y!==null){var I=y.next;y.next=m,h.next=I}u.pending=h}uo=null}return s}function E0(s,o){do{var u=It;try{if(np(),dd.current=md,hd){for(var h=ft.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}hd=!1}if(ho=0,Ot=Rt=ft=null,eu=!1,tu=0,Op.current=null,u===null||u.return===null){At=1,ou=o,It=null;break}e:{var y=s,I=u.return,O=u,j=o;if(o=qt,O.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=j,te=O,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=q_(I);if(de!==null){de.flags&=-257,K_(de,I,O,y,o),de.mode&1&&H_(y,K,o),o=de,j=K;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(j),o.updateQueue=ge}else me.add(j);break e}else{if((o&1)===0){H_(y,K,o),Bp();break e}j=Error(t(426))}}else if(ct&&O.mode&1){var _t=q_(I);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),K_(_t,I,O,y,o),ep(Sa(j,O));break e}}y=j=Sa(j,O),At!==4&&(At=2),au===null?au=[y]:au.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var H=B_(y,j,o);g_(y,H);break e;case 1:O=j;var U=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(os===null||!os.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var oe=W_(y,O,o);g_(y,oe);break e}}y=y.return}while(y!==null)}C0(u)}catch(ve){o=ve,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function T0(){var s=Ed.current;return Ed.current=md,s===null?md:s}function Bp(){(At===0||At===3||At===2)&&(At=4),Lt===null||(fo&268435455)===0&&(Td&268435455)===0||us(Lt,qt)}function Ad(s,o){var u=Ke;Ke|=2;var h=T0();(Lt!==s||qt!==o)&&(fi=null,mo(s,o));do try{iA();break}catch(m){E0(s,m)}while(!0);if(np(),Ke=u,Ed.current=h,It!==null)throw Error(t(261));return Lt=null,qt=0,At}function iA(){for(;It!==null;)I0(It)}function sA(){for(;It!==null&&!Sc();)I0(It)}function I0(s){var o=R0(s.alternate,s,Mn);s.memoizedProps=s.pendingProps,o===null?C0(s):It=o,Op.current=null}function C0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=XR(u,o,Mn),u!==null){It=u;return}}else{if(u=JR(u,o),u!==null){u.flags&=32767,It=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{At=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=s}while(o!==null);At===0&&(At=5)}function go(s,o,u){var h=je,m=Qn.transition;try{Qn.transition=null,je=1,oA(s,o,u,h)}finally{Qn.transition=m,je=h}return null}function oA(s,o,u,h){do Pa();while(as!==null);if((Ke&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(et(s,y),s===Lt&&(It=Lt=null,qt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Cd||(Cd=!0,A0(zn,function(){return Pa(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Qn.transition,Qn.transition=null;var I=je;je=1;var O=Ke;Ke|=4,Op.current=null,eA(s,u),p0(u,s),xR(Bf),Yi=!!zf,Bf=zf=null,s.current=u,tA(u),xf(),Ke=O,je=I,Qn.transition=y}else s.current=u;if(Cd&&(Cd=!1,as=s,Sd=m),y=s.pendingLanes,y===0&&(os=null),Ac(u.stateNode),En(s,tt()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(Id)throw Id=!1,s=Vp,Vp=null,s;return(Sd&1)!==0&&s.tag!==0&&Pa(),y=s.pendingLanes,(y&1)!==0?s===Fp?lu++:(lu=0,Fp=s):lu=0,ns(),null}function Pa(){if(as!==null){var s=Gi(Sd),o=Qn.transition,u=je;try{if(Qn.transition=null,je=16>s?16:s,as===null)var h=!1;else{if(s=as,as=null,Sd=0,(Ke&6)!==0)throw Error(t(331));var m=Ke;for(Ke|=4,pe=s.current;pe!==null;){var y=pe,I=y.child;if((pe.flags&16)!==0){var O=y.deletions;if(O!==null){for(var j=0;j<O.length;j++){var K=O[j];for(pe=K;pe!==null;){var te=pe;switch(te.tag){case 0:case 11:case 15:su(8,te,y)}var ne=te.child;if(ne!==null)ne.return=te,pe=ne;else for(;pe!==null;){te=pe;var ee=te.sibling,de=te.return;if(u0(te),te===K){pe=null;break}if(ee!==null){ee.return=de,pe=ee;break}pe=de}}}var me=y.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var _t=ge.sibling;ge.sibling=null,ge=_t}while(ge!==null)}}pe=y}}if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,pe=I;else e:for(;pe!==null;){if(y=pe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:su(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,pe=H;break e}pe=y.return}}var U=s.current;for(pe=U;pe!==null;){I=pe;var q=I.child;if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,pe=q;else e:for(I=U;pe!==null;){if(O=pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:wd(9,O)}}catch(ve){gt(O,O.return,ve)}if(O===I){pe=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,pe=oe;break e}pe=O.return}}if(Ke=m,ns(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Js,s)}catch{}h=!0}return h}finally{je=u,Qn.transition=o}}return!1}function S0(s,o,u){o=Sa(u,o),o=B_(s,o,1),s=is(s,o,1),o=dn(),s!==null&&(qi(s,1,o),En(s,o))}function gt(s,o,u){if(s.tag===3)S0(s,s,u);else for(;o!==null;){if(o.tag===3){S0(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(os===null||!os.has(h))){s=Sa(u,s),s=W_(o,s,1),o=is(o,s,1),s=dn(),o!==null&&(qi(o,1,s),En(o,s));break}}o=o.return}}function aA(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=dn(),s.pingedLanes|=s.suspendedLanes&u,Lt===s&&(qt&u)===u&&(At===4||At===3&&(qt&130023424)===qt&&500>tt()-Mp?mo(s,0):Lp|=u),En(s,o)}function x0(s,o){o===0&&((s.mode&1)===0?o=1:(o=Jo,Jo<<=1,(Jo&130023424)===0&&(Jo=4194304)));var u=dn();s=ci(s,o),s!==null&&(qi(s,o,u),En(s,u))}function lA(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),x0(s,u)}function uA(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),x0(s,u)}var R0;R0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||vn.current)_n=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return _n=!1,YR(s,o,u);_n=(s.flags&131072)!==0}else _n=!1,ct&&(o.flags&1048576)!==0&&o_(o,rd,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;yd(s,o),s=o.pendingProps;var m=va(o,Yt.current);Ia(o,u),m=fp(null,o,h,s,m,u);var y=pp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,yn(h)?(y=!0,ed(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,op(o),m.updater=gd,o.stateNode=m,m._reactInternals=o,wp(o,h,s,u),o=Cp(null,o,h,!0,y,u)):(o.tag=0,ct&&y&&Yf(o),cn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(yd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=dA(h),s=gr(h,s),m){case 0:o=Ip(null,o,h,s,u);break e;case 1:o=Z_(null,o,h,s,u);break e;case 11:o=G_(null,o,h,s,u);break e;case 14:o=Q_(null,o,h,gr(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:gr(h,m),Ip(s,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:gr(h,m),Z_(s,o,h,m,u);case 3:e:{if(e0(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,m_(s,o),ud(o,h,null,u);var I=o.memoizedState;if(h=I.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Sa(Error(t(423)),o),o=t0(s,o,h,u,m);break e}else if(h!==m){m=Sa(Error(t(424)),o),o=t0(s,o,h,u,m);break e}else for(Ln=Zi(o.stateNode.containerInfo.firstChild),On=o,ct=!0,mr=null,u=f_(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(wa(),h===m){o=hi(s,o,u);break e}cn(s,o,h,u)}o=o.child}return o;case 5:return y_(o),s===null&&Zf(o),h=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,I=m.children,Wf(h,m)?I=null:y!==null&&Wf(h,y)&&(o.flags|=32),J_(s,o),cn(s,o,I,u),o.child;case 6:return s===null&&Zf(o),null;case 13:return n0(s,o,u);case 4:return ap(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Ea(o,null,h,u):cn(s,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:gr(h,m),G_(s,o,h,m,u);case 7:return cn(s,o,o.pendingProps,u),o.child;case 8:return cn(s,o,o.pendingProps.children,u),o.child;case 12:return cn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,I=m.value,nt(od,h._currentValue),h._currentValue=I,y!==null)if(pr(y.value,I)){if(y.children===m.children&&!vn.current){o=hi(s,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var O=y.dependencies;if(O!==null){I=y.child;for(var j=O.firstContext;j!==null;){if(j.context===h){if(y.tag===1){j=di(-1,u&-u),j.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?j.next=j:(j.next=te.next,te.next=j),K.pending=j}}y.lanes|=u,j=y.alternate,j!==null&&(j.lanes|=u),ip(y.return,u,o),O.lanes|=u;break}j=j.next}}else if(y.tag===10)I=y.type===o.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(t(341));I.lanes|=u,O=I.alternate,O!==null&&(O.lanes|=u),ip(I,u,o),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===o){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}cn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Ia(o,u),m=Kn(m),h=h(m),o.flags|=1,cn(s,o,h,u),o.child;case 14:return h=o.type,m=gr(h,o.pendingProps),m=gr(h.type,m),Q_(s,o,h,m,u);case 15:return Y_(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:gr(h,m),yd(s,o),o.tag=1,yn(h)?(s=!0,ed(o)):s=!1,Ia(o,u),$_(o,h,m),wp(o,h,m,u),Cp(null,o,h,!0,s,u);case 19:return i0(s,o,u);case 22:return X_(s,o,u)}throw Error(t(156,o.tag))};function A0(s,o){return Yo(s,o)}function cA(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(s,o,u,h){return new cA(s,o,u,h)}function Wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dA(s){if(typeof s=="function")return Wp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Se)return 14}return 2}function cs(s,o){var u=s.alternate;return u===null?(u=Yn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Pd(s,o,u,h,m,y){var I=2;if(h=s,typeof s=="function")Wp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case D:return vo(u.children,m,y,o);case P:I=8,m|=8;break;case k:return s=Yn(12,u,o,m|2),s.elementType=k,s.lanes=y,s;case N:return s=Yn(13,u,o,m),s.elementType=N,s.lanes=y,s;case le:return s=Yn(19,u,o,m),s.elementType=le,s.lanes=y,s;case we:return kd(u,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case M:I=9;break e;case V:I=11;break e;case Se:I=14;break e;case xe:I=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Yn(I,u,o,m),o.elementType=s,o.type=h,o.lanes=y,o}function vo(s,o,u,h){return s=Yn(7,s,h,o),s.lanes=u,s}function kd(s,o,u,h){return s=Yn(22,s,h,o),s.elementType=we,s.lanes=u,s.stateNode={isHidden:!1},s}function Hp(s,o,u){return s=Yn(6,s,null,o),s.lanes=u,s}function qp(s,o,u){return o=Yn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function hA(s,o,u,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Kp(s,o,u,h,m,y,I,O,j){return s=new hA(s,o,u,O,j),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Yn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},op(y),s}function fA(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function P0(s){if(!s)return ts;s=s._reactInternals;e:{if(ar(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(yn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(yn(u))return r_(s,u,o)}return o}function k0(s,o,u,h,m,y,I,O,j){return s=Kp(u,h,!0,s,m,y,I,O,j),s.context=P0(null),u=s.current,h=dn(),m=ls(u),y=di(h,m),y.callback=o??null,is(u,y,m),s.current.lanes=m,qi(s,m,h),En(s,h),s}function bd(s,o,u,h){var m=o.current,y=dn(),I=ls(m);return u=P0(u),o.context===null?o.context=u:o.pendingContext=u,o=di(y,I),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=is(m,o,I),s!==null&&(_r(s,m,I,y),ld(s,m,I)),I}function Nd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function b0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Gp(s,o){b0(s,o),(s=s.alternate)&&b0(s,o)}function pA(){return null}var N0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Qp(s){this._internalRoot=s}Dd.prototype.render=Qp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));bd(s,o,null,null)},Dd.prototype.unmount=Qp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;po(function(){bd(null,s,null,null)}),o[oi]=null}};function Dd(s){this._internalRoot=s}Dd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Dc();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Nr.length&&o!==0&&o<Nr[u].priority;u++);Nr.splice(u,0,s),u===0&&Mc(s)}};function Yp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Od(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function D0(){}function mA(s,o,u,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var K=Nd(I);y.call(K)}}var I=k0(o,h,s,0,null,!1,!1,"",D0);return s._reactRootContainer=I,s[oi]=I.current,ql(s.nodeType===8?s.parentNode:s),po(),I}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var O=h;h=function(){var K=Nd(j);O.call(K)}}var j=Kp(s,0,!1,null,null,!1,!1,"",D0);return s._reactRootContainer=j,s[oi]=j.current,ql(s.nodeType===8?s.parentNode:s),po(function(){bd(o,j,u,h)}),j}function Ld(s,o,u,h,m){var y=u._reactRootContainer;if(y){var I=y;if(typeof m=="function"){var O=m;m=function(){var j=Nd(I);O.call(j)}}bd(o,I,s,m)}else I=mA(u,o,s,m,h);return Nd(I)}bc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Wi(o.pendingLanes);u!==0&&(Ki(o,u|1),En(o,tt()),(Ke&6)===0&&(Aa=tt()+500,ns()))}break;case 13:po(function(){var h=ci(s,1);if(h!==null){var m=dn();_r(h,s,1,m)}}),Gp(s,1)}},Zo=function(s){if(s.tag===13){var o=ci(s,134217728);if(o!==null){var u=dn();_r(o,s,134217728,u)}Gp(s,134217728)}},Nc=function(s){if(s.tag===13){var o=ls(s),u=ci(s,o);if(u!==null){var h=dn();_r(u,s,o,h)}Gp(s,o)}},Dc=function(){return je},Oc=function(s,o){var u=je;try{return je=s,o()}finally{je=u}},Wo=function(s,o,u){switch(o){case"input":if(Fi(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var m=Jc(h);if(!m)throw Error(t(90));Li(h),Fi(h,m)}}}break;case"textarea":Ar(s,u);break;case"select":o=u.value,o!=null&&pn(s,!!u.multiple,o,!1)}},Ks=$p,Rl=po;var gA={usingClientEntryPoint:!1,Events:[Ql,ma,Jc,kr,xl,$p]},uu={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vA={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kl(s),s===null?null:s.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||pA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Js=Md.inject(vA),kn=Md}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gA,Tn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yp(o))throw Error(t(200));return fA(s,o,null,u)},Tn.createRoot=function(s,o){if(!Yp(s))throw Error(t(299));var u=!1,h="",m=N0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Kp(s,1,!1,null,null,u,!1,h,m),s[oi]=o.current,ql(s.nodeType===8?s.parentNode:s),new Qp(o)},Tn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=kl(o),s=s===null?null:s.stateNode,s},Tn.flushSync=function(s){return po(s)},Tn.hydrate=function(s,o,u){if(!Od(o))throw Error(t(200));return Ld(null,s,o,!0,u)},Tn.hydrateRoot=function(s,o,u){if(!Yp(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,y="",I=N0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=k0(o,null,s,1,u??null,m,!1,y,I),s[oi]=o.current,ql(s),h)for(s=0;s<h.length;s++)u=h[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Dd(o)},Tn.render=function(s,o,u){if(!Od(o))throw Error(t(200));return Ld(null,s,o,!1,u)},Tn.unmountComponentAtNode=function(s){if(!Od(s))throw Error(t(40));return s._reactRootContainer?(po(function(){Ld(null,null,s,!1,function(){s._reactRootContainer=null,s[oi]=null})}),!0):!1},Tn.unstable_batchedUpdates=$p,Tn.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!Od(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ld(s,o,u,!1,h)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var $0;function OT(){if($0)return Zp.exports;$0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zp.exports=CA(),Zp.exports}var z0;function SA(){if(z0)return Vd;z0=1;var n=OT();return Vd.createRoot=n.createRoot,Vd.hydrateRoot=n.hydrateRoot,Vd}var xA=SA(),du={},B0;function RA(){if(B0)return du;B0=1,Object.defineProperty(du,"__esModule",{value:!0}),du.parse=l,du.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function l(T,S){const A=new a,b=T.length;if(b<2)return A;const x=(S==null?void 0:S.decode)||g;let F=0;do{const z=T.indexOf("=",F);if(z===-1)break;const B=T.indexOf(";",F),G=B===-1?b:B;if(z>G){F=T.lastIndexOf(";",z-1)+1;continue}const X=c(T,F,z),Z=f(T,z,X),D=T.slice(X,Z);if(A[D]===void 0){let P=c(T,z+1,G),k=f(T,G,P);const L=x(T.slice(P,k));A[D]=L}F=G+1}while(F<b);return A}function c(T,S,A){do{const b=T.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<A);return A}function f(T,S,A){for(;S>A;){const b=T.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return A}function p(T,S,A){const b=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const x=b(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let F=T+"="+x;if(!A)return F;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);F+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);F+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);F+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);F+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(F+="; HttpOnly"),A.secure&&(F+="; Secure"),A.partitioned&&(F+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return F}function g(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return i.call(T)==="[object Date]"}return du}RA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W0="popstate";function AA(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Nm("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Fu(i)}return kA(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PA(){return Math.random().toString(36).substring(2,10)}function H0(n,e){return{usr:n.state,key:n.key,idx:e}}function Nm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:t,key:e&&e.key||r||PA()}}function Fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ol(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function kA(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let x=g(),F=x==null?null:x-p;p=x,f&&f({action:c,location:b.location,delta:F})}function T(x,F){c="PUSH";let z=Nm(b.location,x,F);p=g()+1;let B=H0(z,p),G=b.createHref(z);try{l.pushState(B,"",G)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(G)}a&&f&&f({action:c,location:b.location,delta:1})}function S(x,F){c="REPLACE";let z=Nm(b.location,x,F);p=g();let B=H0(z,p),G=b.createHref(z);l.replaceState(B,"",G),a&&f&&f({action:c,location:b.location,delta:0})}function A(x){let F=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof x=="string"?x:Fu(x);return z=z.replace(/ $/,"%20"),dt(F,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,F)}let b={get action(){return c},get location(){return n(i,l)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(W0,_),f=x,()=>{i.removeEventListener(W0,_),f=null}},createHref(x){return e(i,x)},createURL:A,encodeLocation(x){let F=A(x);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:S,go(x){return l.go(x)}};return b}function LT(n,e,t="/"){return bA(n,e,t,!1)}function bA(n,e,t,r){let i=typeof e=="string"?ol(e):e,a=Ci(i.pathname||"/",t);if(a==null)return null;let l=MT(n);NA(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=BA(a);c=$A(l[f],p,r)}return c}function MT(n,e=[],t=[],r=""){let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(dt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=wi([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),MT(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:jA(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of VT(a.path))i(a,l,f)}),e}function VT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=VT(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function NA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var DA=/^:[\w-]+$/,OA=3,LA=2,MA=1,VA=10,FA=-2,q0=n=>n==="*";function jA(n,e){let t=n.split("/"),r=t.length;return t.some(q0)&&(r+=FA),e&&(r+=LA),t.filter(i=>!q0(i)).reduce((i,a)=>i+(DA.test(a)?OA:a===""?MA:VA),r)}function UA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function $A(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),T=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:wi([a,_.pathname]),pathnameBase:KA(wi([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=wi([a,_.pathnameBase]))}return l}function hh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=zA(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},T)=>{if(g==="*"){let A=c[T]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const S=c[T];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function zA(n,e=!1,t=!0){Sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function WA(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ol(n):n;return{pathname:t?t.startsWith("/")?t:HA(t,e):e,search:GA(r),hash:QA(i)}}function HA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function nm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ng(n){let e=qA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Dg(n,e,t,r=!1){let i;typeof n=="string"?i=ol(n):(i={...n},dt(!i.pathname||!i.pathname.includes("?"),nm("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),nm("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),nm("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;i.pathname=T.join("/")}c=_>=0?e[_]:"/"}let f=WA(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var wi=n=>n.join("/").replace(/\/\/+/g,"/"),KA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var FT=["POST","PUT","PATCH","DELETE"];new Set(FT);var XA=["GET",...FT];new Set(XA);var al=C.createContext(null);al.displayName="DataRouter";var qh=C.createContext(null);qh.displayName="DataRouterState";var jT=C.createContext({isTransitioning:!1});jT.displayName="ViewTransition";var JA=C.createContext(new Map);JA.displayName="Fetchers";var ZA=C.createContext(null);ZA.displayName="Await";var xr=C.createContext(null);xr.displayName="Navigation";var tc=C.createContext(null);tc.displayName="Location";var Rr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Og=C.createContext(null);Og.displayName="RouteError";function e2(n,{relative:e}={}){dt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(xr),{hash:i,pathname:a,search:l}=nc(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:wi([t,a])),r.createHref({pathname:c,search:l,hash:i})}function ll(){return C.useContext(tc)!=null}function Fs(){return dt(ll(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(tc).location}var UT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(n){C.useContext(xr).static||C.useLayoutEffect(n)}function js(){let{isDataRoute:n}=C.useContext(Rr);return n?p2():t2()}function t2(){dt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(al),{basename:e,navigator:t}=C.useContext(xr),{matches:r}=C.useContext(Rr),{pathname:i}=Fs(),a=JSON.stringify(Ng(r)),l=C.useRef(!1);return $T(()=>{l.current=!0}),C.useCallback((f,p={})=>{if(Sr(l.current,UT),!l.current)return;if(typeof f=="number"){t.go(f);return}let g=Dg(f,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:wi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,i,n])}C.createContext(null);function n2(){let{matches:n}=C.useContext(Rr),e=n[n.length-1];return e?e.params:{}}function nc(n,{relative:e}={}){let{matches:t}=C.useContext(Rr),{pathname:r}=Fs(),i=JSON.stringify(Ng(t));return C.useMemo(()=>Dg(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function r2(n,e){return zT(n,e)}function zT(n,e,t,r){var z;dt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=C.useContext(xr),{matches:l}=C.useContext(Rr),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let B=_&&_.path||"";BT(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Fs(),S;if(e){let B=typeof e=="string"?ol(e):e;dt(g==="/"||((z=B.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=T;let A=S.pathname||"/",b=A;if(g!=="/"){let B=g.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:LT(n,{pathname:b});Sr(_||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Sr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=l2(x&&x.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:wi([g,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:wi([g,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,r);return e&&F?C.createElement(tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function i2(){let n=f2(),e=YA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,l)}var s2=C.createElement(i2,null),o2=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Rr.Provider,{value:this.props.routeContext},C.createElement(Og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a2({routeContext:n,match:e,children:t}){let r=C.useContext(al);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Rr.Provider,{value:n},t)}function l2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:_}=t,T=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||T){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let _,T=!1,S=null,A=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||s2,l&&(c<0&&g===0?(BT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):c===g&&(T=!0,A=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),x=()=>{let F;return _?F=S:T?F=A:p.route.Component?F=C.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,C.createElement(a2,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:t!=null},children:F})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(o2,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}function Lg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u2(n){let e=C.useContext(al);return dt(e,Lg(n)),e}function c2(n){let e=C.useContext(qh);return dt(e,Lg(n)),e}function d2(n){let e=C.useContext(Rr);return dt(e,Lg(n)),e}function Mg(n){let e=d2(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function h2(){return Mg("useRouteId")}function f2(){var r;let n=C.useContext(Og),e=c2("useRouteError"),t=Mg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function p2(){let{router:n}=u2("useNavigate"),e=Mg("useNavigate"),t=C.useRef(!1);return $T(()=>{t.current=!0}),C.useCallback(async(i,a={})=>{Sr(t.current,UT),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var K0={};function BT(n,e,t){!e&&!K0[n]&&(K0[n]=!0,Sr(!1,t))}C.memo(m2);function m2({routes:n,future:e,state:t}){return zT(n,void 0,t,e)}function g2({to:n,replace:e,state:t,relative:r}){dt(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(xr);Sr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(Rr),{pathname:l}=Fs(),c=js(),f=Dg(n,Ng(a),l,r==="path"),p=JSON.stringify(f);return C.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function ms(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){dt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=ol(t));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:T="default"}=t,S=C.useMemo(()=>{let A=Ci(f,l);return A==null?null:{location:{pathname:A,search:p,hash:g,state:_,key:T},navigationType:r}},[l,f,p,g,_,T,r]);return Sr(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:C.createElement(xr.Provider,{value:c},C.createElement(tc.Provider,{children:e,value:S}))}function y2({children:n,location:e}){return r2(Dm(n),e)}function Dm(n,e=[]){let t=[];return C.Children.forEach(n,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){t.push.apply(t,Dm(r.props.children,a));return}dt(r.type===ms,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Dm(r.props.children,a)),t.push(l)}),t}var Xd="get",Jd="application/x-www-form-urlencoded";function Kh(n){return n!=null&&typeof n.tagName=="string"}function _2(n){return Kh(n)&&n.tagName.toLowerCase()==="button"}function w2(n){return Kh(n)&&n.tagName.toLowerCase()==="form"}function E2(n){return Kh(n)&&n.tagName.toLowerCase()==="input"}function T2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function I2(n,e){return n.button===0&&(!e||e==="_self")&&!T2(n)}var Fd=null;function C2(){if(Fd===null)try{new FormData(document.createElement("form"),0),Fd=!1}catch{Fd=!0}return Fd}var S2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(n){return n!=null&&!S2.has(n)?(Sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jd}"`),null):n}function x2(n,e){let t,r,i,a,l;if(w2(n)){let c=n.getAttribute("action");r=c?Ci(c,e):null,t=n.getAttribute("method")||Xd,i=rm(n.getAttribute("enctype"))||Jd,a=new FormData(n)}else if(_2(n)||E2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Ci(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Xd,i=rm(n.getAttribute("formenctype"))||rm(c.getAttribute("enctype"))||Jd,a=new FormData(c,n),!C2()){let{name:p,type:g,value:_}=n;if(g==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,_)}}else{if(Kh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xd,r=null,i=Jd,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function Vg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function R2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function P2(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await R2(a,t);return l.links?l.links():[]}return[]}));return D2(r.flat(1).filter(A2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function G0(n,e,t,r,i,a){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function k2(n,e,{includeHydrateFallback:t}={}){return b2(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function b2(n){return[...new Set(n)]}function N2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function D2(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(N2(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function O2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ci(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function WT(){let n=C.useContext(al);return Vg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function L2(){let n=C.useContext(qh);return Vg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fg=C.createContext(void 0);Fg.displayName="FrameworkContext";function HT(){let n=C.useContext(Fg);return Vg(n,"You must render this element inside a <HydratedRouter> element"),n}function M2(n,e){let t=C.useContext(Fg),[r,i]=C.useState(!1),[a,l]=C.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,T=C.useRef(null);C.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=F=>{F.forEach(z=>{l(z.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[n]),C.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{i(!0)},A=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:hu(c,S),onBlur:hu(f,A),onMouseEnter:hu(p,S),onMouseLeave:hu(g,A),onTouchStart:hu(_,S)}]:[!1,T,{}]}function hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function V2({page:n,...e}){let{router:t}=WT(),r=C.useMemo(()=>LT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(j2,{page:n,matches:r,...e}):null}function F2(n){let{manifest:e,routeModules:t}=HT(),[r,i]=C.useState([]);return C.useEffect(()=>{let a=!1;return P2(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function j2({page:n,matches:e,...t}){let r=Fs(),{manifest:i,routeModules:a}=HT(),{basename:l}=WT(),{loaderData:c,matches:f}=L2(),p=C.useMemo(()=>G0(n,e,f,i,r,"data"),[n,e,f,i,r]),g=C.useMemo(()=>G0(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,b=!1;if(e.forEach(F=>{var B;let z=i.routes[F.route.id];!z||!z.hasLoader||(!p.some(G=>G.route.id===F.route.id)&&F.route.id in c&&((B=a[F.route.id])!=null&&B.shouldRevalidate)||z.hasClientLoader?b=!0:A.add(F.route.id))}),A.size===0)return[];let x=O2(n,l);return b&&A.size>0&&x.searchParams.set("_routes",e.filter(F=>A.has(F.route.id)).map(F=>F.route.id).join(",")),[x.pathname+x.search]},[l,c,r,i,p,e,n,a]),T=C.useMemo(()=>k2(g,i),[g,i]),S=F2(g);return C.createElement(C.Fragment,null,_.map(A=>C.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),T.map(A=>C.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),S.map(({key:A,link:b})=>C.createElement("link",{key:A,...b})))}function U2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qT&&(window.__reactRouterVersion="7.3.0")}catch{}function $2({basename:n,children:e,window:t}){let r=C.useRef();r.current==null&&(r.current=AA({window:t,v5Compat:!0}));let i=r.current,[a,l]=C.useState({action:i.action,location:i.location}),c=C.useCallback(f=>{C.startTransition(()=>l(f))},[l]);return C.useLayoutEffect(()=>i.listen(c),[i,c]),C.createElement(v2,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var KT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sn=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_,...T},S){let{basename:A}=C.useContext(xr),b=typeof p=="string"&&KT.test(p),x,F=!1;if(typeof p=="string"&&b&&(x=p,qT))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),M=Ci(L.pathname,A);L.origin===k.origin&&M!=null?p=M+L.search+L.hash:F=!0}catch{Sr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=e2(p,{relative:i}),[B,G,X]=M2(r,T),Z=H2(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:_});function D(k){e&&e(k),k.defaultPrevented||Z(k)}let P=C.createElement("a",{...T,...X,href:x||z,onClick:F||a?e:D,ref:U2(S,G),target:f,"data-discover":!b&&t==="render"?"true":void 0});return B&&!b?C.createElement(C.Fragment,null,P,C.createElement(V2,{page:z})):P});Sn.displayName="Link";var z2=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:f,...p},g){let _=nc(l,{relative:p.relative}),T=Fs(),S=C.useContext(qh),{navigator:A,basename:b}=C.useContext(xr),x=S!=null&&Y2(_)&&c===!0,F=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,z=T.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),B=B?B.toLowerCase():null,F=F.toLowerCase()),B&&b&&(B=Ci(B,b)||B);const G=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let X=z===F||!i&&z.startsWith(F)&&z.charAt(G)==="/",Z=B!=null&&(B===F||!i&&B.startsWith(F)&&B.charAt(F.length)==="/"),D={isActive:X,isPending:Z,isTransitioning:x},P=X?e:void 0,k;typeof r=="function"?k=r(D):k=[r,X?"active":null,Z?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return C.createElement(Sn,{...p,"aria-current":P,className:k,ref:g,style:L,to:l,viewTransition:c},typeof f=="function"?f(D):f)});z2.displayName="NavLink";var B2=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Xd,action:c,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...T},S)=>{let A=G2(),b=Q2(c,{relative:p}),x=l.toLowerCase()==="get"?"get":"post",F=typeof c=="string"&&KT.test(c),z=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let G=B.nativeEvent.submitter,X=(G==null?void 0:G.getAttribute("formmethod"))||l;A(G||B.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return C.createElement("form",{ref:S,method:x,action:b,onSubmit:r?f:z,...T,"data-discover":!F&&n==="render"?"true":void 0})});B2.displayName="Form";function W2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(n){let e=C.useContext(al);return dt(e,W2(n)),e}function H2(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=js(),f=Fs(),p=nc(n,{relative:a});return C.useCallback(g=>{if(I2(g,e)){g.preventDefault();let _=t!==void 0?t:Fu(f)===Fu(p);c(n,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,c,p,t,r,e,n,i,a,l])}var q2=0,K2=()=>`__${String(++q2)}__`;function G2(){let{router:n}=GT("useSubmit"),{basename:e}=C.useContext(xr),t=h2();return C.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=x2(r,e);if(i.navigate===!1){let g=i.fetcherKey||K2();await n.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function Q2(n,{relative:e}={}){let{basename:t}=C.useContext(xr),r=C.useContext(Rr);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...nc(n||".",{relative:e})},l=Fs();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:wi([t,a.pathname])),Fu(a)}function Y2(n,e={}){let t=C.useContext(jT);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GT("useViewTransitionState"),i=nc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ci(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ci(t.nextLocation.pathname,r)||t.nextLocation.pathname;return hh(i.pathname,l)!=null||hh(i.pathname,a)!=null}new TextEncoder;var jg=OT();const X2=Hh(jg),J2="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",Z2="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",Q0="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",Y0="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",X0="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",J0="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",rc=()=>E.jsxs("div",{className:"footer",children:[E.jsxs("div",{className:"left",children:[E.jsx("div",{className:"logo",children:"URENO"}),E.jsxs("div",{className:"social-sites",children:[E.jsx("object",{data:Q0,type:"image/svg+xml",children:E.jsx("img",{src:Q0})}),E.jsx("object",{data:Y0,type:"image/svg+xml",children:E.jsx("img",{src:Y0})}),E.jsx("object",{data:X0,type:"image/svg+xml",children:E.jsx("img",{src:X0})}),E.jsx("object",{data:J0,type:"image/svg+xml",children:E.jsx("img",{src:J0})})]})]}),E.jsxs("div",{className:"right",children:[E.jsxs("menu",{children:[E.jsx("li",{children:"Topic"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"})]}),E.jsxs("menu",{children:[E.jsx("li",{children:"Topic"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"})]}),E.jsxs("menu",{children:[E.jsx("li",{children:"Topic"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"})]})]})]}),Om="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",eP=()=>{};var Z0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(n,e){if(!n)throw ul(e)},ul=function(n){return new Error("Firebase Database ("+QT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Ug={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,S=p&63;f||(S=64,l||(T=64)),r.push(t[g],t[_],t[T],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new nP;const T=a<<2|c>>4;if(r.push(T),p!==64){const S=c<<4&240|p>>2;if(r.push(S),_!==64){const A=p<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XT=function(n){const e=YT(n);return Ug.encodeByteArray(e,!0)},fh=function(n){return XT(n).replace(/\./g,"")},ph=function(n){try{return Ug.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){return JT(void 0,n)}function JT(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!iP(t)||(n[t]=JT(n[t],e[t]));return n}function iP(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=()=>sP().__FIREBASE_DEFAULTS__,aP=()=>{if(typeof process>"u"||typeof Z0>"u")return;const n=Z0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ph(n[1]);return e&&JSON.parse(e)},Gh=()=>{try{return eP()||oP()||aP()||lP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZT=n=>{var e,t;return(t=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},eI=n=>{const e=ZT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tI=()=>{var n;return(n=Gh())===null||n===void 0?void 0:n.config},nI=n=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fh(JSON.stringify(t)),fh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function uP(){var n;const e=(n=Gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hP(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fP(){return QT.NODE_ADMIN===!0}function pP(){return!uP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mP(){try{return typeof indexedDB=="object"}catch{return!1}}function gP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="FirebaseError";class Ni extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vP,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?yP(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ni(i,c,r)}}function yP(n,e){return n.replace(_P,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _P=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){return JSON.parse(n)}function Kt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=function(n){let e={},t={},r={},i="";try{const a=n.split(".");e=ju(ph(a[0])||""),t=ju(ph(a[1])||""),i=a[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},wP=function(n){const e=sI(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},EP=function(n){const e=sI(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ha(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Lm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mh(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Rs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(ew(a)&&ew(l)){if(!Rs(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function ew(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Eu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)r[_]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let _=0;_<16;_++)r[_]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let _=16;_<80;_++){const T=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(T<<1|T>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4],p,g;for(let _=0;_<80;_++){_<40?_<20?(p=c^a&(l^c),g=1518500249):(p=a^l^c,g=1859775393):_<60?(p=a&l|c&(a|l),g=2400959708):(p=a^l^c,g=3395469782);const T=(i<<5|i>>>27)+p+f+g+r[_]&4294967295;f=c,c=l,l=(a<<30|a>>>2)&4294967295,a=i,i=T}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const a=this.buf_;let l=this.inbuf_;for(;i<t;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(a[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}else for(;i<t;)if(a[l]=e[i],++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}function IP(n,e){const t=new CP(n,e);return t.subscribe.bind(t)}class CP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");SP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=im),i.error===void 0&&(i.error=im),i.complete===void 0&&(i.complete=im);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function im(){}function xP(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const a=i-55296;r++,ce(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;i=65536+(a<<10)+l}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Qh=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class As{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AP=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $g;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kP(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PP(n){return n===_o?void 0:n}function kP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const NP={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},DP=Me.INFO,OP={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},LP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=OP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=DP,this._logHandler=LP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const MP=(n,e)=>e.some(t=>n instanceof t);let tw,nw;function VP(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FP(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oI=new WeakMap,Mm=new WeakMap,aI=new WeakMap,sm=new WeakMap,Bg=new WeakMap;function jP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ws(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&oI.set(t,n)}).catch(()=>{}),Bg.set(e,n),e}function UP(n){if(Mm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Mm.set(n,e)}let Vm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $P(n){Vm=n(Vm)}function zP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(om(this),e,...t);return aI.set(r,e.sort?e.sort():[e]),ws(r)}:FP().includes(n)?function(...e){return n.apply(om(this),e),ws(oI.get(this))}:function(...e){return ws(n.apply(om(this),e))}}function BP(n){return typeof n=="function"?zP(n):(n instanceof IDBTransaction&&UP(n),MP(n,VP())?new Proxy(n,Vm):n)}function ws(n){if(n instanceof IDBRequest)return jP(n);if(sm.has(n))return sm.get(n);const e=BP(n);return e!==n&&(sm.set(n,e),Bg.set(e,n)),e}const om=n=>Bg.get(n);function WP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=ws(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ws(l.result),f.oldVersion,f.newVersion,ws(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const HP=["get","getKey","getAll","getAllKeys","count"],qP=["put","add","delete","clear"],am=new Map;function rw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=qP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HP.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return am.set(e,a),a}$P(n=>({...n,get:(e,t,r)=>rw(e,t)||n.get(e,t,r),has:(e,t)=>!!rw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",iw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Yh("@firebase/app"),QP="@firebase/app-compat",YP="@firebase/analytics-compat",XP="@firebase/analytics",JP="@firebase/app-check-compat",ZP="@firebase/app-check",ek="@firebase/auth",tk="@firebase/auth-compat",nk="@firebase/database",rk="@firebase/data-connect",ik="@firebase/database-compat",sk="@firebase/functions",ok="@firebase/functions-compat",ak="@firebase/installations",lk="@firebase/installations-compat",uk="@firebase/messaging",ck="@firebase/messaging-compat",dk="@firebase/performance",hk="@firebase/performance-compat",fk="@firebase/remote-config",pk="@firebase/remote-config-compat",mk="@firebase/storage",gk="@firebase/storage-compat",vk="@firebase/firestore",yk="@firebase/vertexai",_k="@firebase/firestore-compat",wk="firebase",Ek="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",Tk={[Fm]:"fire-core",[QP]:"fire-core-compat",[XP]:"fire-analytics",[YP]:"fire-analytics-compat",[ZP]:"fire-app-check",[JP]:"fire-app-check-compat",[ek]:"fire-auth",[tk]:"fire-auth-compat",[nk]:"fire-rtdb",[rk]:"fire-data-connect",[ik]:"fire-rtdb-compat",[sk]:"fire-fn",[ok]:"fire-fn-compat",[ak]:"fire-iid",[lk]:"fire-iid-compat",[uk]:"fire-fcm",[ck]:"fire-fcm-compat",[dk]:"fire-perf",[hk]:"fire-perf-compat",[fk]:"fire-rc",[pk]:"fire-rc-compat",[mk]:"fire-gcs",[gk]:"fire-gcs-compat",[vk]:"fire-fst",[_k]:"fire-fst-compat",[yk]:"fire-vertex","fire-js":"fire-js",[wk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,Ik=new Map,Um=new Map;function sw(n,e){try{n.container.addComponent(e)}catch(t){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xo(n){const e=n.name;if(Um.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,n);for(const t of gh.values())sw(t,n);for(const t of Ik.values())sw(t,n);return!0}function Xh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new ic("app","Firebase",Ck);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=Ek;function lI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(t||(t=tI()),!t)throw Es.create("no-options");const a=gh.get(i);if(a){if(Rs(t,a.options)&&Rs(r,a.config))return a;throw Es.create("duplicate-app",{appName:i})}const l=new bP(i);for(const f of Um.values())l.addComponent(f);const c=new Sk(t,r,l);return gh.set(i,c),c}function Wg(n=jm){const e=gh.get(n);if(!e&&n===jm&&tI())return lI();if(!e)throw Es.create("no-app",{appName:n});return e}function Br(n,e,t){var r;let i=(r=Tk[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(c.join(" "));return}xo(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="firebase-heartbeat-database",Rk=1,Uu="firebase-heartbeat-store";let lm=null;function uI(){return lm||(lm=WP(xk,Rk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),lm}async function Ak(n){try{const t=(await uI()).transaction(Uu),r=await t.objectStore(Uu).get(cI(n));return await t.done,r}catch(e){if(e instanceof Ni)Si.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(t.message)}}}async function ow(n,e){try{const r=(await uI()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(e,cI(n)),await r.done}catch(t){if(t instanceof Ni)Si.warn(t.message);else{const r=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Si.warn(r.message)}}}function cI(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1024,kk=30;class bk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=aw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kk){const l=Ok(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aw(),{heartbeatsToSend:r,unsentEntries:i}=Nk(this._heartbeatsCache.heartbeats),a=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Si.warn(t),""}}}function aw(){return new Date().toISOString().substring(0,10)}function Nk(n,e=Pk){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),lw(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Dk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mP()?gP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ak(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lw(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function Ok(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n){xo(new As("platform-logger",e=>new KP(e),"PRIVATE")),xo(new As("heartbeat",e=>new bk(e),"PRIVATE")),Br(Fm,iw,n),Br(Fm,iw,"esm2017"),Br("fire-js","")}Lk("");function Hg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mk=dI,hI=new ic("auth","Firebase",dI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Yh("@firebase/auth");function Vk(n,...e){vh.logLevel<=Me.WARN&&vh.warn(`Auth (${Lo}): ${n}`,...e)}function Zd(n,...e){vh.logLevel<=Me.ERROR&&vh.error(`Auth (${Lo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw Kg(n,...e)}function Ir(n,...e){return Kg(n,...e)}function qg(n,e,t){const r=Object.assign(Object.assign({},Mk()),{[e]:t});return new ic("auth","Firebase",r).create(e,{appName:n.name})}function Ei(n){return qg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fk(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(n,"argument-error"),qg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hI.create(n,...e)}function Ce(n,e,...t){if(!n)throw Kg(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zd(e),new Error(e)}function xi(n,e){n||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jk(){return uw()==="http:"||uw()==="https:"}function uw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jk()||dP()||"connection"in navigator)?navigator.onLine:!0}function $k(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=zg()||iI()}get(){return Uk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new sc(3e4,6e4);function Us(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Oi(n,e,t,r,i={}){return pI(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=cl(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return cP()||(p.referrerPolicy="no-referrer"),fI.fetch()(mI(n,n.config.apiHost,t,c),p)})}async function pI(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zk),e);try{const i=new Hk(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw jd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw jd(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw jd(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qg(n,g,p);er(n,g)}}catch(i){if(i instanceof Ni)throw i;er(n,"network-request-failed",{message:String(i)})}}async function oc(n,e,t,r,i={}){const a=await Oi(n,e,t,r,i);return"mfaPendingCredential"in a&&er(n,"multi-factor-auth-required",{_serverResponse:a}),a}function mI(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Gg(n.config,i):`${n.config.apiScheme}://${i}`}function Wk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),Bk.get())})}}function jd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ir(n,e,r);return i.customData._tokenResponse=t,i}function cw(n){return n!==void 0&&n.enterprise!==void 0}class qk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kk(n,e){return Oi(n,"GET","/v2/recaptchaConfig",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,e){return Oi(n,"POST","/v1/accounts:delete",e)}async function gI(n,e){return Oi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qk(n,e=!1){const t=fn(n),r=await t.getIdToken(e),i=Qg(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Su(um(i.auth_time)),issuedAtTime:Su(um(i.iat)),expirationTime:Su(um(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function um(n){return Number(n)*1e3}function Qg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=ph(t);return i?JSON.parse(i):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dw(n){const e=Qg(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ni&&Yk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Yk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await qa(n,gI(t,{idToken:r}));Ce(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?vI(a.providerUserInfo):[],c=Zk(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new zm(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function Jk(n){const e=fn(n);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vI(n){return n.map(e=>{var{providerId:t}=e,r=Hg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(n,e){const t=await pI(n,{},async()=>{const r=cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=mI(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",fI.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tb(n,e){return Oi(n,"POST","/v2/accounts:revokeToken",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=dw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await eb(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Fa;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await qa(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Qk(this,e)}reload(){return Jk(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await qa(this,Gk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,f,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=t.photoURL)!==null&&l!==void 0?l:void 0,b=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,z=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:G,isAnonymous:X,providerData:Z,stsTokenManager:D}=t;Ce(B&&D,e,"internal-error");const P=Fa.fromJSON(this.name,D);Ce(typeof B=="string",e,"internal-error"),hs(_,e.name),hs(T,e.name),Ce(typeof G=="boolean",e,"internal-error"),Ce(typeof X=="boolean",e,"internal-error"),hs(S,e.name),hs(A,e.name),hs(b,e.name),hs(x,e.name),hs(F,e.name),hs(z,e.name);const k=new vi({uid:B,auth:e,email:T,emailVerified:G,displayName:_,isAnonymous:X,photoURL:A,phoneNumber:S,tenantId:b,stsTokenManager:P,createdAt:F,lastLoginAt:z});return Z&&Array.isArray(Z)&&(k.providerData=Z.map(L=>Object.assign({},L))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Fa;i.updateFromServerResponse(t);const a=new vi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ce(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?vI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Fa;c.updateFromIdToken(r);const f=new vi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;function yi(n){xi(n instanceof Function,"Expected a class definition");let e=hw.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yI.type="NONE";const fw=yI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n,e,t){return`firebase:${n}:${e}:${t}`}class ja{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=eh(this.userKey,i.apiKey,a),this.fullPersistenceKey=eh("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ja(yi(fw),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||yi(fw);const l=eh(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=vi._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ja(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ja(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_I(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CI(e))return"Blackberry";if(SI(e))return"Webos";if(wI(e))return"Safari";if((e.includes("chrome/")||EI(e))&&!e.includes("edge/"))return"Chrome";if(II(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _I(n=an()){return/firefox\//i.test(n)}function wI(n=an()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EI(n=an()){return/crios\//i.test(n)}function TI(n=an()){return/iemobile/i.test(n)}function II(n=an()){return/android/i.test(n)}function CI(n=an()){return/blackberry/i.test(n)}function SI(n=an()){return/webos/i.test(n)}function Yg(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nb(n=an()){var e;return Yg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rb(){return hP()&&document.documentMode===10}function xI(n=an()){return Yg(n)||II(n)||SI(n)||CI(n)||/windows phone/i.test(n)||TI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n,e=[]){let t;switch(n){case"Browser":t=pw(an());break;case"Worker":t=`${pw(an())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(n,e={}){return Oi(n,"GET","/v2/passwordPolicy",Us(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=6;class ab{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:ob,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new ib(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yi(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gI(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$k()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Ei(this));const t=e?fn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sb(this),t=new ab(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Vk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $s(n){return fn(n)}class mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=IP(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ub(n){Jh=n}function AI(n){return Jh.loadJS(n)}function cb(){return Jh.recaptchaEnterpriseScript}function db(){return Jh.gapiScript}function hb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fb{constructor(){this.enterprise=new pb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pb{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mb="recaptcha-enterprise",PI="NO_RECAPTCHA";class gb{constructor(e){this.type=mb,this.auth=$s(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{Kk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new qk(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function i(a,l,c){const f=window.grecaptcha;cw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(PI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fb().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&cw(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=cb();f.length!==0&&(f+=c),AI(f).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function gw(n,e,t,r=!1,i=!1){const a=new gb(n);let l;if(i)l=PI;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Bm(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await gw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await gw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n,e){const t=Xh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Rs(a,e??{}))return i;er(i,"already-initialized")}return t.initialize({options:e})}function yb(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(yi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _b(n,e,t){const r=$s(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=kI(e),{host:l,port:c}=wb(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Rs(p,r.config.emulator)&&Rs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Eb()}function kI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wb(n){const e=kI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:vw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:vw(l)}}}function vw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Eb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function Tb(n,e){return Oi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(n,e){return oc(n,"POST","/v1/accounts:signInWithPassword",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(n,e){return oc(n,"POST","/v1/accounts:signInWithEmailLink",Us(n,e))}async function Sb(n,e){return oc(n,"POST","/v1/accounts:signInWithEmailLink",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Xg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new $u(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $u(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,t,"signInWithPassword",Ib);case"emailLink":return Cb(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,r,"signUpPassword",Tb);case"emailLink":return Sb(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n,e){return oc(n,"POST","/v1/accounts:signInWithIdp",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="http://localhost";class Ro extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Hg(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ro(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ua(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ua(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ua(e,t)}buildRequest(){const e={requestUri:xb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ab(n){const e=wu(Eu(n)).link,t=e?wu(Eu(e)).deep_link_id:null,r=wu(Eu(n)).deep_link_id;return(r?wu(Eu(r)).link:null)||r||t||e||n}class Jg{constructor(e){var t,r,i,a,l,c;const f=wu(Eu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=Rb((i=f.mode)!==null&&i!==void 0?i:null);Ce(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=Ab(e);try{return new Jg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,t){return $u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Jg.parseLink(t);return Ce(r,"argument-error"),$u._fromEmailAndCode(e,r.code,r.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends ac{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ro._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $r.credential(t,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends ac{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends ac{constructor(){super("twitter.com")}static credential(e,t){return Ro._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ys.credential(t,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(n,e){return oc(n,"POST","/v1/accounts:signUp",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await vi._fromIdTokenResponse(e,r,i),l=yw(r);return new Ao({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=yw(r);return new Ao({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function yw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Ni{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new _h(e,t,r,i)}}function bI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(n,a,e,r):a})}async function kb(n,e,t=!1){const r=await qa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ao._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(n,e,t=!1){const{auth:r}=n;if(Cn(r.app))return Promise.reject(Ei(r));const i="reauthenticate";try{const a=await qa(n,bI(r,i,e,n),t);Ce(a.idToken,r,"internal-error");const l=Qg(a.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),Ao._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(n,e,t=!1){if(Cn(n.app))return Promise.reject(Ei(n));const r="signIn",i=await bI(n,r,e),a=await Ao._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function Nb(n,e){return NI($s(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(n){const e=$s(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Db(n,e,t){if(Cn(n.app))return Promise.reject(Ei(n));const r=$s(n),l=await Bm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pb).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&DI(n),f}),c=await Ao._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function Ob(n,e,t){return Cn(n.app)?Promise.reject(Ei(n)):Nb(fn(n),dl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(n,e){return Oi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=fn(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await qa(r,Lb(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Vb(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function Fb(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function ev(n,e,t,r){return fn(n).onAuthStateChanged(e,t,r)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1e3,Ub=10;class LI extends OI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);rb()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ub):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LI.type="LOCAL";const $b=LI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI extends OI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MI.type="SESSION";const VI=MI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await zb(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=tv("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function Wb(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function Hb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qb(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Kb(){return FI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebaseLocalStorageDb",Gb=1,Eh="firebaseLocalStorage",UI="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ef(n,e){return n.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function Qb(){const n=indexedDB.deleteDatabase(jI);return new lc(n).toPromise()}function Wm(){const n=indexedDB.open(jI,Gb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Eh,{keyPath:UI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await Qb(),e(await Wm()))})})}async function _w(n,e,t){const r=ef(n,!0).put({[UI]:e,value:t});return new lc(r).toPromise()}async function Yb(n,e){const t=ef(n,!1).get(e),r=await new lc(t).toPromise();return r===void 0?null:r.value}function ww(n,e){const t=ef(n,!0).delete(e);return new lc(t).toPromise()}const Xb=800,Jb=3;class $I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Jb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(Kb()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Hb(),!this.activeServiceWorker)return;this.sender=new Bb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await _w(e,wh,"1"),await ww(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>_w(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Yb(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ww(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ef(i,!1).getAll();return new lc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$I.type="LOCAL";const Zb=$I;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n,e){return e?yi(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ua(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ua(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eN(n){return NI(n.auth,new nv(n),n.bypassAuthState)}function tN(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),bb(t,new nv(n),n.bypassAuthState)}async function nN(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),kb(t,new nv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:er(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new sc(2e3,1e4);async function iN(n,e,t){if(Cn(n.app))return Promise.reject(Ir(n,"operation-not-supported-in-this-environment"));const r=$s(n);Fk(n,e,Zg);const i=zI(r,t);return new To(r,"signInViaPopup",e,i).executeNotNull()}class To extends BI{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rN.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="pendingRedirect",th=new Map;class oN extends BI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(n,e){const t=cN(e),r=uN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function lN(n,e){th.set(n._key(),e)}function uN(n){return yi(n._redirectPersistence)}function cN(n){return eh(sN,n.config.apiKey,n.name)}async function dN(n,e,t=!1){if(Cn(n.app))return Promise.reject(Ei(n));const r=$s(n),i=zI(r,e),l=await new oN(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=10*60*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!WI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ew(e))}saveEventToCache(e){this.cachedEventUids.add(Ew(e)),this.lastProcessedEventTime=Date.now()}}function Ew(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n,e={}){return Oi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vN=/^https?/;async function yN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mN(n);for(const t of e)try{if(_N(t))return}catch{}er(n,"unauthorized-domain")}function _N(n){const e=$m(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!vN.test(t))return!1;if(gN.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new sc(3e4,6e4);function Tw(){const n=Wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EN(n){return new Promise((e,t)=>{var r,i,a;function l(){Tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tw(),t(Ir(n,"network-request-failed"))},timeout:wN.get()})}if(!((i=(r=Wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Wr().gapi)===null||a===void 0)&&a.load)l();else{const c=hb("iframefcb");return Wr()[c]=()=>{gapi.load?l():t(Ir(n,"network-request-failed"))},AI(`${db()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw nh=null,e})}let nh=null;function TN(n){return nh=nh||EN(n),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new sc(5e3,15e3),CN="__/auth/iframe",SN="emulator/auth/iframe",xN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AN(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gg(e,SN):`https://${n.config.authDomain}/${CN}`,r={apiKey:e.apiKey,appName:n.name,v:Lo},i=RN.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${cl(r).slice(1)}`}async function PN(n){const e=await TN(n),t=Wr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:AN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ir(n,"network-request-failed"),c=Wr().setTimeout(()=>{a(l)},IN.get());function f(){Wr().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bN=500,NN=600,DN="_blank",ON="http://localhost";class Iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LN(n,e,t,r=bN,i=NN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},kN),{width:r.toString(),height:i.toString(),top:a,left:l}),p=an().toLowerCase();t&&(c=EI(p)?DN:t),_I(p)&&(e=e||ON,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[S,A])=>`${T}${S}=${A},`,"");if(nb(p)&&c!=="_self")return MN(e||"",c),new Iw(null);const _=window.open(e||"",c,g);Ce(_,n,"popup-blocked");try{_.focus()}catch{}return new Iw(_)}function MN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="__/auth/handler",FN="emulator/auth/handler",jN=encodeURIComponent("fac");async function Cw(n,e,t,r,i,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Lo,eventId:i};if(e instanceof Zg){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Lm(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof ac){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${jN}=${encodeURIComponent(f)}`:"";return`${UN(n)}?${cl(c).slice(1)}${p}`}function UN({config:n}){return n.emulator?Gg(n,FN):`https://${n.authDomain}/${VN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class $N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VI,this._completeRedirectFn=dN,this._overrideRedirectResult=lN}async _openPopup(e,t,r,i){var a;xi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Cw(e,t,r,$m(),i);return LN(e,l,tv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Cw(e,t,r,$m(),i);return Wb(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await PN(e),r=new fN(e);return t.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cm,{type:cm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[cm];l!==void 0&&t(!!l),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xI()||wI()||Yg()}}const zN=$N;var Sw="@firebase/auth",xw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HN(n){xo(new As("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RI(n)},p=new lb(r,i,a,f);return yb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xo(new As("auth-internal",e=>{const t=$s(e.getProvider("auth").getImmediate());return(r=>new BN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(Sw,xw,WN(n)),Br(Sw,xw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=5*60,KN=nI("authIdTokenMaxAge")||qN;let Rw=null;const GN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KN)return;const i=t==null?void 0:t.token;Rw!==i&&(Rw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rv(n=Wg()){const e=Xh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vb(n,{popupRedirectResolver:zN,persistence:[Zb,$b,VI]}),r=nI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=GN(a.toString());Fb(t,l,()=>l(t.currentUser)),Vb(t,c=>l(c))}}const i=ZT("auth");return i&&_b(t,`http://${i}`),t}function QN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ub({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Ir("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",QN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HN("Browser");var YN="firebase",XN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(YN,XN,"app");var Aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,HI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function k(){}k.prototype=P.prototype,D.D=P.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(L,M,V){for(var N=Array(arguments.length-2),le=2;le<arguments.length;le++)N[le-2]=arguments[le];return P.prototype[M].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,P,k){k||(k=0);var L=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)L[M]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(M=0;16>M;++M)L[M]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=D.g[0],k=D.g[1],M=D.g[2];var V=D.g[3],N=P+(V^k&(M^V))+L[0]+3614090360&4294967295;P=k+(N<<7&4294967295|N>>>25),N=V+(M^P&(k^M))+L[1]+3905402710&4294967295,V=P+(N<<12&4294967295|N>>>20),N=M+(k^V&(P^k))+L[2]+606105819&4294967295,M=V+(N<<17&4294967295|N>>>15),N=k+(P^M&(V^P))+L[3]+3250441966&4294967295,k=M+(N<<22&4294967295|N>>>10),N=P+(V^k&(M^V))+L[4]+4118548399&4294967295,P=k+(N<<7&4294967295|N>>>25),N=V+(M^P&(k^M))+L[5]+1200080426&4294967295,V=P+(N<<12&4294967295|N>>>20),N=M+(k^V&(P^k))+L[6]+2821735955&4294967295,M=V+(N<<17&4294967295|N>>>15),N=k+(P^M&(V^P))+L[7]+4249261313&4294967295,k=M+(N<<22&4294967295|N>>>10),N=P+(V^k&(M^V))+L[8]+1770035416&4294967295,P=k+(N<<7&4294967295|N>>>25),N=V+(M^P&(k^M))+L[9]+2336552879&4294967295,V=P+(N<<12&4294967295|N>>>20),N=M+(k^V&(P^k))+L[10]+4294925233&4294967295,M=V+(N<<17&4294967295|N>>>15),N=k+(P^M&(V^P))+L[11]+2304563134&4294967295,k=M+(N<<22&4294967295|N>>>10),N=P+(V^k&(M^V))+L[12]+1804603682&4294967295,P=k+(N<<7&4294967295|N>>>25),N=V+(M^P&(k^M))+L[13]+4254626195&4294967295,V=P+(N<<12&4294967295|N>>>20),N=M+(k^V&(P^k))+L[14]+2792965006&4294967295,M=V+(N<<17&4294967295|N>>>15),N=k+(P^M&(V^P))+L[15]+1236535329&4294967295,k=M+(N<<22&4294967295|N>>>10),N=P+(M^V&(k^M))+L[1]+4129170786&4294967295,P=k+(N<<5&4294967295|N>>>27),N=V+(k^M&(P^k))+L[6]+3225465664&4294967295,V=P+(N<<9&4294967295|N>>>23),N=M+(P^k&(V^P))+L[11]+643717713&4294967295,M=V+(N<<14&4294967295|N>>>18),N=k+(V^P&(M^V))+L[0]+3921069994&4294967295,k=M+(N<<20&4294967295|N>>>12),N=P+(M^V&(k^M))+L[5]+3593408605&4294967295,P=k+(N<<5&4294967295|N>>>27),N=V+(k^M&(P^k))+L[10]+38016083&4294967295,V=P+(N<<9&4294967295|N>>>23),N=M+(P^k&(V^P))+L[15]+3634488961&4294967295,M=V+(N<<14&4294967295|N>>>18),N=k+(V^P&(M^V))+L[4]+3889429448&4294967295,k=M+(N<<20&4294967295|N>>>12),N=P+(M^V&(k^M))+L[9]+568446438&4294967295,P=k+(N<<5&4294967295|N>>>27),N=V+(k^M&(P^k))+L[14]+3275163606&4294967295,V=P+(N<<9&4294967295|N>>>23),N=M+(P^k&(V^P))+L[3]+4107603335&4294967295,M=V+(N<<14&4294967295|N>>>18),N=k+(V^P&(M^V))+L[8]+1163531501&4294967295,k=M+(N<<20&4294967295|N>>>12),N=P+(M^V&(k^M))+L[13]+2850285829&4294967295,P=k+(N<<5&4294967295|N>>>27),N=V+(k^M&(P^k))+L[2]+4243563512&4294967295,V=P+(N<<9&4294967295|N>>>23),N=M+(P^k&(V^P))+L[7]+1735328473&4294967295,M=V+(N<<14&4294967295|N>>>18),N=k+(V^P&(M^V))+L[12]+2368359562&4294967295,k=M+(N<<20&4294967295|N>>>12),N=P+(k^M^V)+L[5]+4294588738&4294967295,P=k+(N<<4&4294967295|N>>>28),N=V+(P^k^M)+L[8]+2272392833&4294967295,V=P+(N<<11&4294967295|N>>>21),N=M+(V^P^k)+L[11]+1839030562&4294967295,M=V+(N<<16&4294967295|N>>>16),N=k+(M^V^P)+L[14]+4259657740&4294967295,k=M+(N<<23&4294967295|N>>>9),N=P+(k^M^V)+L[1]+2763975236&4294967295,P=k+(N<<4&4294967295|N>>>28),N=V+(P^k^M)+L[4]+1272893353&4294967295,V=P+(N<<11&4294967295|N>>>21),N=M+(V^P^k)+L[7]+4139469664&4294967295,M=V+(N<<16&4294967295|N>>>16),N=k+(M^V^P)+L[10]+3200236656&4294967295,k=M+(N<<23&4294967295|N>>>9),N=P+(k^M^V)+L[13]+681279174&4294967295,P=k+(N<<4&4294967295|N>>>28),N=V+(P^k^M)+L[0]+3936430074&4294967295,V=P+(N<<11&4294967295|N>>>21),N=M+(V^P^k)+L[3]+3572445317&4294967295,M=V+(N<<16&4294967295|N>>>16),N=k+(M^V^P)+L[6]+76029189&4294967295,k=M+(N<<23&4294967295|N>>>9),N=P+(k^M^V)+L[9]+3654602809&4294967295,P=k+(N<<4&4294967295|N>>>28),N=V+(P^k^M)+L[12]+3873151461&4294967295,V=P+(N<<11&4294967295|N>>>21),N=M+(V^P^k)+L[15]+530742520&4294967295,M=V+(N<<16&4294967295|N>>>16),N=k+(M^V^P)+L[2]+3299628645&4294967295,k=M+(N<<23&4294967295|N>>>9),N=P+(M^(k|~V))+L[0]+4096336452&4294967295,P=k+(N<<6&4294967295|N>>>26),N=V+(k^(P|~M))+L[7]+1126891415&4294967295,V=P+(N<<10&4294967295|N>>>22),N=M+(P^(V|~k))+L[14]+2878612391&4294967295,M=V+(N<<15&4294967295|N>>>17),N=k+(V^(M|~P))+L[5]+4237533241&4294967295,k=M+(N<<21&4294967295|N>>>11),N=P+(M^(k|~V))+L[12]+1700485571&4294967295,P=k+(N<<6&4294967295|N>>>26),N=V+(k^(P|~M))+L[3]+2399980690&4294967295,V=P+(N<<10&4294967295|N>>>22),N=M+(P^(V|~k))+L[10]+4293915773&4294967295,M=V+(N<<15&4294967295|N>>>17),N=k+(V^(M|~P))+L[1]+2240044497&4294967295,k=M+(N<<21&4294967295|N>>>11),N=P+(M^(k|~V))+L[8]+1873313359&4294967295,P=k+(N<<6&4294967295|N>>>26),N=V+(k^(P|~M))+L[15]+4264355552&4294967295,V=P+(N<<10&4294967295|N>>>22),N=M+(P^(V|~k))+L[6]+2734768916&4294967295,M=V+(N<<15&4294967295|N>>>17),N=k+(V^(M|~P))+L[13]+1309151649&4294967295,k=M+(N<<21&4294967295|N>>>11),N=P+(M^(k|~V))+L[4]+4149444226&4294967295,P=k+(N<<6&4294967295|N>>>26),N=V+(k^(P|~M))+L[11]+3174756917&4294967295,V=P+(N<<10&4294967295|N>>>22),N=M+(P^(V|~k))+L[2]+718787259&4294967295,M=V+(N<<15&4294967295|N>>>17),N=k+(V^(M|~P))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var k=P-this.blockSize,L=this.B,M=this.h,V=0;V<P;){if(M==0)for(;V<=k;)i(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<P;)if(L[M++]=D.charCodeAt(V++),M==this.blockSize){i(this,L),M=0;break}}else for(;V<P;)if(L[M++]=D[V++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var k=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=k&255,k/=256;for(this.u(D),D=Array(16),P=k=0;4>P;++P)for(var L=0;32>L;L+=8)D[k++]=this.g[P]>>>L&255;return D};function a(D,P){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=P(D)}function l(D,P){this.h=P;for(var k=[],L=!0,M=D.length-1;0<=M;M--){var V=D[M]|0;L&&V==P||(k[M]=V,L=!1)}this.g=k}var c={};function f(D){return-128<=D&&128>D?a(D,function(P){return new l([P|0],0>P?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return x(p(-D));for(var P=[],k=1,L=0;D>=k;L++)P[L]=D/k|0,k*=4294967296;return new l(P,0)}function g(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return x(g(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(P,8)),L=_,M=0;M<D.length;M+=8){var V=Math.min(8,D.length-M),N=parseInt(D.substring(M,M+V),P);8>V?(V=p(Math.pow(P,V)),L=L.j(V).add(p(N))):(L=L.j(k),L=L.add(p(N)))}return L}var _=f(0),T=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(b(this))return-x(this).m();for(var D=0,P=1,k=0;k<this.g.length;k++){var L=this.i(k);D+=(0<=L?L:4294967296+L)*P,P*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(b(this))return"-"+x(this).toString(D);for(var P=p(Math.pow(D,6)),k=this,L="";;){var M=G(k,P).g;k=F(k,M.j(P));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=M,A(k))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function b(D){return D.h==-1}n.l=function(D){return D=F(this,D),b(D)?-1:A(D)?0:1};function x(D){for(var P=D.g.length,k=[],L=0;L<P;L++)k[L]=~D.g[L];return new l(k,~D.h).add(T)}n.abs=function(){return b(this)?x(this):this},n.add=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],L=0,M=0;M<=P;M++){var V=L+(this.i(M)&65535)+(D.i(M)&65535),N=(V>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);L=N>>>16,V&=65535,N&=65535,k[M]=N<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function F(D,P){return D.add(x(P))}n.j=function(D){if(A(this)||A(D))return _;if(b(this))return b(D)?x(this).j(x(D)):x(x(this).j(D));if(b(D))return x(this.j(x(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var P=this.g.length+D.g.length,k=[],L=0;L<2*P;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<D.g.length;M++){var V=this.i(L)>>>16,N=this.i(L)&65535,le=D.i(M)>>>16,Se=D.i(M)&65535;k[2*L+2*M]+=N*Se,z(k,2*L+2*M),k[2*L+2*M+1]+=V*Se,z(k,2*L+2*M+1),k[2*L+2*M+1]+=N*le,z(k,2*L+2*M+1),k[2*L+2*M+2]+=V*le,z(k,2*L+2*M+2)}for(L=0;L<P;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=P;L<2*P;L++)k[L]=0;return new l(k,0)};function z(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function B(D,P){this.g=D,this.h=P}function G(D,P){if(A(P))throw Error("division by zero");if(A(D))return new B(_,_);if(b(D))return P=G(x(D),P),new B(x(P.g),x(P.h));if(b(P))return P=G(D,x(P)),new B(x(P.g),P.h);if(30<D.g.length){if(b(D)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var k=T,L=P;0>=L.l(D);)k=X(k),L=X(L);var M=Z(k,1),V=Z(L,1);for(L=Z(L,2),k=Z(k,2);!A(L);){var N=V.add(L);0>=N.l(D)&&(M=M.add(k),V=N),L=Z(L,1),k=Z(k,1)}return P=F(D,M.j(P)),new B(M,P)}for(M=_;0<=D.l(P);){for(k=Math.max(1,Math.floor(D.m()/P.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=p(k),N=V.j(P);b(N)||0<N.l(D);)k-=L,V=p(k),N=V.j(P);A(V)&&(V=T),M=M.add(V),D=F(D,N)}return new B(M,D)}n.A=function(D){return G(this,D).h},n.and=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)&D.i(L);return new l(k,this.h&D.h)},n.or=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)|D.i(L);return new l(k,this.h|D.h)},n.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)^D.i(L);return new l(k,this.h^D.h)};function X(D){for(var P=D.g.length+1,k=[],L=0;L<P;L++)k[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(k,D.h)}function Z(D,P){var k=P>>5;P%=32;for(var L=D.g.length-k,M=[],V=0;V<L;V++)M[V]=0<P?D.i(V+k)>>>P|D.i(V+k+1)<<32-P:D.i(V+k);return new l(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ts=l}).apply(typeof Aw<"u"?Aw:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qI,Tu,KI,rh,Hm,GI,QI,YI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,w){return d==Array.prototype||d==Object.prototype||(d[v]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var v=0;v<d.length;++v){var w=d[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var w=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var W=d[R];if(!(W in w))break e;w=w[W]}d=d[d.length-1],R=w[d],v=v(R),v!=R&&v!=null&&e(w,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var w=0,R=!1,W={next:function(){if(!R&&w<d.length){var Q=w++;return{value:v(Q,d[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(d){return d||function(){return a(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,w){return d.call.apply(d.bind,arguments)}function _(d,v,w){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function T(d,v,w){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function S(d,v){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function A(d,v){function w(){}w.prototype=v.prototype,d.aa=v.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(R,W,Q){for(var ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ae[Je-2]=arguments[Je];return v.prototype[W].apply(R,ae)}}function b(d){const v=d.length;if(0<v){const w=Array(v);for(let R=0;R<v;R++)w[R]=d[R];return w}return[]}function x(d,v){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(f(R)){const W=d.length||0,Q=R.length||0;d.length=W+Q;for(let ae=0;ae<Q;ae++)d[W+ae]=R[ae]}else d.push(R)}}class F{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(d,v,w){for(const R in d)v.call(w,d[R],R,d)}function D(d,v){for(const w in d)v.call(void 0,d[w],w,d)}function P(d){const v={};for(const w in d)v[w]=d[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,v){let w,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(w in R)d[w]=R[w];for(let Q=0;Q<k.length;Q++)w=k[Q],Object.prototype.hasOwnProperty.call(R,w)&&(d[w]=R[w])}}function M(d){var v=1;d=d.split(":");const w=[];for(;0<v&&d.length;)w.push(d.shift()),v--;return d.length&&w.push(d.join(":")),w}function V(d){c.setTimeout(()=>{throw d},0)}function N(){var d=ue;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class le{constructor(){this.h=this.g=null}add(v,w){const R=Se.get();R.set(v,w),this.h?this.h.next=R:this.g=R,this.h=R}}var Se=new F(()=>new xe,d=>d.reset());class xe{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ie=!1,ue=new le,se=()=>{const d=c.Promise.resolve(void 0);we=()=>{d.then($)}};var $=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(w){V(w)}var v=Se;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,v),c.removeEventListener("test",w,v)}catch{}return d}();function Re(d,v){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(X){e:{try{G(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else w=="mouseover"?v=d.fromElement:w=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}A(Re,fe);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Qe(d,v,w,R,W){this.listener=d,this.proxy=null,this.src=v,this.type=w,this.capture=!!R,this.ha=W,this.key=++Oe,this.da=this.fa=!1}function Et(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Pn(d){this.src=d,this.g={},this.h=0}Pn.prototype.add=function(d,v,w,R,W){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ae=ir(d,v,R,W);return-1<ae?(v=d[ae],w||(v.fa=!1)):(v=new Qe(v,this.src,Q,!!R,W),v.fa=w,d.push(v)),v};function Li(d,v){var w=v.type;if(w in d.g){var R=d.g[w],W=Array.prototype.indexOf.call(R,v,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(R,W,1),Q&&(Et(v),d.g[w].length==0&&(delete d.g[w],d.h--))}}function ir(d,v,w,R){for(var W=0;W<d.length;++W){var Q=d[W];if(!Q.da&&Q.listener==v&&Q.capture==!!w&&Q.ha==R)return W}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Mi={};function Vi(d,v,w,R,W){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Vi(d,v[Q],w,R,W);return null}return w=$i(w),d&&d[Ve]?d.K(v,w,p(R)?!!R.capture:!1,W):Fi(d,v,w,!1,R,W)}function Fi(d,v,w,R,W,Q){if(!v)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,Je=Zr(d);if(Je||(d[Jr]=Je=new Pn(d)),w=Je.add(v,w,R,ae,Q),w.proxy)return w;if(R=zo(),w.proxy=R,R.src=d,R.listener=w,d.addEventListener)Ie||(W=ae),W===void 0&&(W=!1),d.addEventListener(v.toString(),R,W);else if(d.attachEvent)d.attachEvent(pn(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function zo(){function d(w){return v.call(d.src,d.listener,w)}const v=Ui;return d}function ji(d,v,w,R,W){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ji(d,v[Q],w,R,W);else R=p(R)?!!R.capture:!!R,w=$i(w),d&&d[Ve]?(d=d.i,v=String(v).toString(),v in d.g&&(Q=d.g[v],w=ir(Q,w,R,W),-1<w&&(Et(Q[w]),Array.prototype.splice.call(Q,w,1),Q.length==0&&(delete d.g[v],d.h--)))):d&&(d=Zr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ir(v,w,R,W)),(w=-1<d?v[d]:null)&&zt(w))}function zt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ve])Li(v.i,d);else{var w=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(w,R,d.capture):v.detachEvent?v.detachEvent(pn(w),R):v.addListener&&v.removeListener&&v.removeListener(R),(w=Zr(v))?(Li(w,d),w.h==0&&(w.src=null,v[Jr]=null)):Et(d)}}}function pn(d){return d in Mi?Mi[d]:Mi[d]="on"+d}function Ui(d,v){if(d.da)d=!0;else{v=new Re(v,this);var w=d.listener,R=d.ha||d.src;d.fa&&zt(d),d=w.call(R,v)}return d}function Zr(d){return d=d[Jr],d instanceof Pn?d:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function $i(d){return typeof d=="function"?d:(d[Ar]||(d[Ar]=function(v){return d.handleEvent(v)}),d[Ar])}function pt(){Y.call(this),this.i=new Pn(this),this.M=this,this.F=null}A(pt,Y),pt.prototype[Ve]=!0,pt.prototype.removeEventListener=function(d,v,w,R){ji(this,d,v,w,R)};function mt(d,v){var w,R=d.F;if(R)for(w=[];R;R=R.F)w.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new fe(v,d);else if(v instanceof fe)v.target=v.target||d;else{var W=v;v=new fe(R,d),L(v,W)}if(W=!0,w)for(var Q=w.length-1;0<=Q;Q--){var ae=v.g=w[Q];W=Un(ae,R,!0,v)&&W}if(ae=v.g=d,W=Un(ae,R,!0,v)&&W,W=Un(ae,R,!1,v)&&W,w)for(Q=0;Q<w.length;Q++)ae=v.g=w[Q],W=Un(ae,R,!1,v)&&W}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var w=d.g[v],R=0;R<w.length;R++)Et(w[R]);delete d.g[v],d.h--}}this.F=null},pt.prototype.K=function(d,v,w,R){return this.i.add(String(d),v,!1,w,R)},pt.prototype.L=function(d,v,w,R){return this.i.add(String(d),v,!0,w,R)};function Un(d,v,w,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Q=0;Q<v.length;++Q){var ae=v[Q];if(ae&&!ae.da&&ae.capture==w){var Je=ae.listener,xt=ae.ha||ae.src;ae.fa&&Li(d.i,ae),W=Je.call(xt,R)!==!1&&W}}return W&&!R.defaultPrevented}function wl(d,v,w){if(typeof d=="function")w&&(d=T(d,w));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function zi(d){d.g=wl(()=>{d.g=null,d.i&&(d.i=!1,zi(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ws extends Y{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:zi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(d){Y.call(this),this.h=d,this.g={}}A(Hs,Y);var El=[];function Tl(d){Z(d.g,function(v,w){this.g.hasOwnProperty(w)&&zt(v)},d),d.g={}}Hs.prototype.N=function(){Hs.aa.N.call(this),Tl(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Il=c.JSON.stringify,Cl=c.JSON.parse,Sl=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function qs(){}qs.prototype.h=null;function Bo(d){return d.h||(d.h=d.i())}function Wo(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){fe.call(this,"d")}A(Pr,fe);function Ho(){fe.call(this,"c")}A(Ho,fe);var kr={},xl=null;function Ks(){return xl=xl||new pt}kr.La="serverreachability";function Rl(d){fe.call(this,kr.La,d)}A(Rl,fe);function ei(d){const v=Ks();mt(v,new Rl(v))}kr.STAT_EVENT="statevent";function Al(d,v){fe.call(this,kr.STAT_EVENT,d),this.stat=v}A(Al,fe);function yt(d){const v=Ks();mt(v,new Al(v,d))}kr.Ma="timingevent";function qo(d,v){fe.call(this,kr.Ma,d),this.size=v}A(qo,fe);function sr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function Gs(){this.g=!0}Gs.prototype.xa=function(){this.g=!1};function Qs(d,v,w,R,W,Q){d.info(function(){if(d.g)if(Q)for(var ae="",Je=Q.split("&"),xt=0;xt<Je.length;xt++){var ze=Je[xt].split("=");if(1<ze.length){var Dt=ze[0];ze=ze[1];var Tt=Dt.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Dt+"="+ze+"&"):ae+(Dt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+v+`
`+w+`
`+ae})}function Ko(d,v,w,R,W,Q,ae){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+v+`
`+w+`
`+Q+" "+ae})}function or(d,v,w,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sf(d,w)+(R?" "+R:"")})}function Pl(d,v){d.info(function(){return"TIMEOUT: "+v})}Gs.prototype.info=function(){};function Sf(d,v){if(!d.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var R=w[d];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return Il(w)}catch{return v}}var Go={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ic={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function Ys(){}A(Ys,qs),Ys.prototype.g=function(){return new XMLHttpRequest},Ys.prototype.i=function(){return{}},ar=new Ys;function lr(d,v,w,R){this.j=d,this.i=v,this.l=w,this.R=R||1,this.U=new Hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cc}function Cc(){this.i=null,this.g="",this.h=!1}var kl={},Qo={};function Yo(d,v,w){d.L=1,d.v=Ki(bn(v)),d.m=w,d.P=!0,bl(d,null)}function bl(d,v){d.F=Date.now(),tt(d),d.A=bn(d.v);var w=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Qi(w.i,"t",R),d.C=0,w=d.j.J,d.h=new Cc,d.g=zc(d.j,w?v:null,!d.m),0<d.O&&(d.M=new Ws(T(d.Y,d,d.g),d.O)),v=d.U,w=d.g,R=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(El[0]=W.toString()),W=El);for(var Q=0;Q<W.length;Q++){var ae=Vi(w,W[Q],R||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),ei(),Qs(d.i,d.u,d.A,d.l,d.R,d.m)}lr.prototype.ca=function(d){d=d.target;const v=this.M;v&&gn(d)==3?v.j():this.Y(d)},lr.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=gn(this.g);var v=this.g.Ba();const Wn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Vl(this.g)))){this.J||Tt!=4||v==7||(v==8||0>=Wn?ei(3):ei(2)),Xs(this);var w=this.g.Z();this.X=w;t:if(Sc(this)){var R=Vl(this.g);d="";var W=R.length,Q=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Bi(this);var ae="";break t}this.h.i=new c.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(Q&&v==W-1)});R.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,Ko(this.i,this.u,this.A,this.l,this.R,Tt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,xt=this.g;if((Je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Je)){var ze=Je;break t}}ze=null}if(w=ze)or(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nl(this,w);else{this.o=!1,this.s=3,yt(12),zn(this),Bi(this);break e}}if(this.P){w=!0;let Dn;for(;!this.J&&this.C<ae.length;)if(Dn=xf(this,ae),Dn==Qo){Tt==4&&(this.s=4,yt(14),w=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==kl){this.s=4,yt(15),or(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else or(this.i,this.l,Dn,null),Nl(this,Dn);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),w=!1),this.o=this.o&&w,!w)or(this.i,this.l,ae,"[Invalid Chunked Response]"),zn(this),Bi(this);else if(0<ae.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),jl(Dt),Dt.M=!0,yt(11))}}else or(this.i,this.l,ae,null),Nl(this,ae);Tt==4&&zn(this),this.o&&!this.J&&(Tt==4?aa(this.j,this):(this.o=!1,tt(this)))}else na(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),zn(this),Bi(this)}}}catch{}finally{}};function Sc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function xf(d,v){var w=d.C,R=v.indexOf(`
`,w);return R==-1?Qo:(w=Number(v.substring(w,R)),isNaN(w)?kl:(R+=1,R+w>v.length?Qo:(v=v.slice(R,R+w),d.C=R+w,v)))}lr.prototype.cancel=function(){this.J=!0,zn(this)};function tt(d){d.S=Date.now()+d.I,xc(d,d.I)}function xc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=sr(T(d.ba,d),v)}function Xs(d){d.B&&(c.clearTimeout(d.B),d.B=null)}lr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Pl(this.i,this.A),this.L!=2&&(ei(),yt(17)),zn(this),this.s=2,Bi(this)):xc(this,this.S-d)};function Bi(d){d.j.G==0||d.J||aa(d.j,d)}function zn(d){Xs(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Tl(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Nl(d,v){try{var w=d.j;if(w.G!=0&&(w.g==d||ln(w.h,d))){if(!d.K&&ln(w.h,d)&&w.G==3){try{var R=w.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)oa(w),fr(w);else break e;sa(w),yt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=sr(T(w.Za,w),6e3));if(1>=Ac(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else si(w,11)}else if((d.K||w.g==d)&&oa(w),!z(v))for(W=w.Da.g.parse(v),v=0;v<W.length;v++){let ze=W[v];if(w.T=ze[0],ze=ze[1],w.G==2)if(ze[0]=="c"){w.K=ze[1],w.ia=ze[2];const Dt=ze[3];Dt!=null&&(w.la=Dt,w.j.info("VER="+w.la));const Tt=ze[4];Tt!=null&&(w.Aa=Tt,w.j.info("SVER="+w.Aa));const Wn=ze[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(R=1.5*Wn,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Dn=d.g;if(Dn){const io=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var Q=R.h;Q.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Dl(Q,Q.h),Q.h=null))}if(R.D){const ua=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(R.ya=ua,et(R.I,R.D,ua))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var ae=d;if(R.qa=$c(R,R.J?R.ia:null,R.W),ae.K){Pc(R.h,ae);var Je=ae,xt=R.L;xt&&(Je.I=xt),Je.B&&(Xs(Je),tt(Je)),R.g=ae}else ro(R);0<w.i.length&&Or(w)}else ze[0]!="stop"&&ze[0]!="close"||si(w,7);else w.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?si(w,7):Wt(w):ze[0]!="noop"&&w.l&&w.l.ta(ze),w.v=0)}}ei(4)}catch{}}var Rc=class{constructor(d,v){this.g=d,this.map=v}};function Js(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ac(d){return d.h?1:d.g?d.g.size:0}function ln(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Dl(d,v){d.g?d.g.add(v):d.h=v}function Pc(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Js.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function kc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const w of d.g.values())v=v.concat(w.D);return v}return b(d.i)}function Xo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],w=d.length,R=0;R<w;R++)v.push(d[R]);return v}v=[],w=0;for(R in d)v[w++]=d[R];return v}function Jo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var w=0;w<d;w++)v.push(w);return v}v=[],w=0;for(const R in d)v[w++]=R;return v}}}function Wi(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var w=Jo(d),R=Xo(d),W=R.length,Q=0;Q<W;Q++)v.call(void 0,R[Q],w&&w[Q],d)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(d,v){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var R=d[w].indexOf("="),W=null;if(0<=R){var Q=d[w].substring(0,R);W=d[w].substring(R+1)}else Q=d[w];v(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ti(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ti){this.h=d.h,eo(this,d.j),this.o=d.o,this.g=d.g,Hi(this,d.s),this.l=d.l;var v=d.i,w=new br;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),qi(this,w),this.m=d.m}else d&&(v=String(d).match(Zs))?(this.h=!1,eo(this,v[1]||"",!0),this.o=je(v[2]||""),this.g=je(v[3]||"",!0),Hi(this,v[4]),this.l=je(v[5]||"",!0),qi(this,v[6]||"",!0),this.m=je(v[7]||"")):(this.h=!1,this.i=new br(null,this.h))}ti.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Gi(v,Zo,!0),":");var w=this.g;return(w||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Gi(v,Zo,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Gi(w,w.charAt(0)=="/"?Dc:Nc,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Gi(w,Ol)),d.join("")};function bn(d){return new ti(d)}function eo(d,v,w){d.j=w?je(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Hi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function qi(d,v,w){v instanceof br?(d.i=v,Nr(d.i,d.h)):(w||(v=Gi(v,Oc)),d.i=new br(v,d.h))}function et(d,v,w){d.i.set(v,w)}function Ki(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function je(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gi(d,v,w){return typeof d=="string"?(d=encodeURI(d).replace(v,bc),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function bc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zo=/[#\/\?@]/g,Nc=/[#\?:]/g,Dc=/[#\?]/g,Oc=/[#\?@]/g,Ol=/#/g;function br(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Bt(d){d.g||(d.g=new Map,d.h=0,d.i&&Rf(d.i,function(v,w){d.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=br.prototype,n.add=function(d,v){Bt(this),this.i=null,d=Bn(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(v),this.h+=1,this};function ur(d,v){Bt(d),v=Bn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function cr(d,v){return Bt(d),v=Bn(d,v),d.g.has(v)}n.forEach=function(d,v){Bt(this),this.g.forEach(function(w,R){w.forEach(function(W){d.call(v,W,R,this)},this)},this)},n.na=function(){Bt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let R=0;R<v.length;R++){const W=d[R];for(let Q=0;Q<W.length;Q++)w.push(v[R])}return w},n.V=function(d){Bt(this);let v=[];if(typeof d=="string")cr(this,d)&&(v=v.concat(this.g.get(Bn(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)v=v.concat(d[w])}return v},n.set=function(d,v){return Bt(this),this.i=null,d=Bn(this,d),cr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Qi(d,v,w){ur(d,v),0<w.length&&(d.i=null,d.g.set(Bn(d,v),b(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var R=v[w];const Q=encodeURIComponent(String(R)),ae=this.V(R);for(R=0;R<ae.length;R++){var W=Q;ae[R]!==""&&(W+="="+encodeURIComponent(String(ae[R]))),d.push(W)}}return this.i=d.join("&")};function Bn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Nr(d,v){v&&!d.j&&(Bt(d),d.i=null,d.g.forEach(function(w,R){var W=R.toLowerCase();R!=W&&(ur(this,R),Qi(this,W,w))},d)),d.j=v}function Af(d,v){const w=new Gs;if(c.Image){const R=new Image;R.onload=S(mn,w,"TestLoadImage: loaded",!0,v,R),R.onerror=S(mn,w,"TestLoadImage: error",!1,v,R),R.onabort=S(mn,w,"TestLoadImage: abort",!1,v,R),R.ontimeout=S(mn,w,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Lc(d,v){const w=new Gs,R=new AbortController,W=setTimeout(()=>{R.abort(),mn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(Q=>{clearTimeout(W),Q.ok?mn(w,"TestPingServer: ok",!0,v):mn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),mn(w,"TestPingServer: error",!1,v)})}function mn(d,v,w,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(w)}catch{}}function Pf(){this.g=new Sl}function Mc(d,v,w){const R=w||"";try{Wi(d,function(W,Q){let ae=W;p(W)&&(ae=Il(W)),v.push(R+Q+"="+encodeURIComponent(ae))})}catch(W){throw v.push(R+"type="+encodeURIComponent("_badmap")),W}}function ni(d){this.l=d.Ub||null,this.j=d.eb||!1}A(ni,qs),ni.prototype.g=function(){return new to(this.l,this.j)},ni.prototype.i=function(d){return function(){return d}}({});function to(d,v){pt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(to,pt),n=to.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,hr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?dr(this):hr(this),this.readyState==3&&Vc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,dr(this))},n.Qa=function(d){this.g&&(this.response=d,dr(this))},n.ga=function(){this.g&&dr(this)};function dr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=v.next();return d.join(`\r
`)};function hr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ri(d){let v="";return Z(d,function(w,R){v+=R,v+=":",v+=w,v+=`\r
`}),v}function Yi(d,v,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=ri(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):et(d,v,w))}function ut(d){pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ut,pt);var kf=/^https?$/i,Ll=["POST","PUT"];n=ut.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Bo(this.o):Bo(ar),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){no(this,Q);return}if(d=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)w.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())w.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ll,v,void 0))||R||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of w)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ta(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){no(this,Q)}};function no(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ea(d),Nn(d)}function ea(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Nn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},n.bb=function(){Ml(this)};function Ml(d){if(d.h&&typeof l<"u"&&(!d.v[1]||gn(d)!=4||d.Z()!=2)){if(d.u&&gn(d)==4)wl(d.Ea,0,d);else if(mt(d,"readystatechange"),gn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var R;if(R=ae===0){var W=String(d.D).match(Zs)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),R=!kf.test(W?W.toLowerCase():"")}w=R}if(w)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var Q=2<gn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",ea(d)}}finally{Nn(d)}}}}function Nn(d,v){if(d.g){ta(d);const w=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||mt(d,"ready");try{w.onreadystatechange=R}catch{}}}function ta(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function gn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Cl(v)}};function Vl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function na(d){const v={};d=(d.g&&2<=gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(z(d[R]))continue;var w=M(d[R]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=v[W]||[];v[W]=Q,Q.push(w)}D(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(d,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||v}function Fl(d){this.Aa=0,this.i=[],this.j=new Gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,d),this.cb=Dr("retryDelaySeedMs",1e4,d),this.Wa=Dr("forwardChannelMaxRetries",2,d),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Js(d&&d.concurrentRequestLimit),this.Da=new Pf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fl.prototype,n.la=8,n.G=1,n.connect=function(d,v,w,R){yt(0),this.W=d,this.H=v||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=$c(this,null,this.W),Or(this)};function Wt(d){if(ra(d),d.G==3){var v=d.U++,w=bn(d.I);if(et(w,"SID",d.K),et(w,"RID",v),et(w,"TYPE","terminate"),ii(d,w),v=new lr(d,d.j,v),v.L=2,v.v=Ki(bn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=v.v,w=!0),w||(v.g=zc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),tt(v)}Uc(d)}function fr(d){d.g&&(jl(d),d.g.cancel(),d.g=null)}function ra(d){fr(d),d.u&&(c.clearTimeout(d.u),d.u=null),oa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Or(d){if(!kn(d.h)&&!d.s){d.s=!0;var v=d.Ga;we||se(),ie||(we(),ie=!0),ue.add(v,d),d.B=0}}function bf(d,v){return Ac(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=sr(T(d.Ga,d,v),jc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new lr(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=P(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Xi(this,W,v),w=bn(this.I),et(w,"RID",d),et(w,"CVER",22),this.D&&et(w,"X-HTTP-Session-Id",this.D),ii(this,w),Q&&(this.O?v="headers="+encodeURIComponent(String(ri(Q)))+"&"+v:this.m&&Yi(w,this.m,Q)),Dl(this.h,W),this.Ua&&et(w,"TYPE","init"),this.P?(et(w,"$req",v),et(w,"SID","null"),W.T=!0,Yo(W,w,null)):Yo(W,w,v),this.G=2}}else this.G==3&&(d?ia(this,d):this.i.length==0||kn(this.h)||ia(this))};function ia(d,v){var w;v?w=v.l:w=d.U++;const R=bn(d.I);et(R,"SID",d.K),et(R,"RID",w),et(R,"AID",d.T),ii(d,R),d.m&&d.o&&Yi(R,d.m,d.o),w=new lr(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Xi(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Dl(d.h,w),Yo(w,R,v)}function ii(d,v){d.H&&Z(d.H,function(w,R){et(v,R,w)}),d.l&&Wi({},function(w,R){et(v,R,w)})}function Xi(d,v,w){w=Math.min(d.i.length,w);var R=d.l?T(d.l.Na,d.l,d):null;e:{var W=d.i;let Q=-1;for(;;){const ae=["count="+w];Q==-1?0<w?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Je=!0;for(let xt=0;xt<w;xt++){let ze=W[xt].g;const Dt=W[xt].map;if(ze-=Q,0>ze)Q=Math.max(0,W[xt].g-100),Je=!1;else try{Mc(Dt,ae,"req"+ze+"_")}catch{R&&R(Dt)}}if(Je){R=ae.join("&");break e}}}return d=d.i.splice(0,w),v.D=d,R}function ro(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;we||se(),ie||(we(),ie=!0),ue.add(v,d),d.v=0}}function sa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=sr(T(d.Fa,d),jc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=sr(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),fr(this),Fc(this))};function jl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Fc(d){d.g=new lr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=bn(d.qa);et(v,"RID","rpc"),et(v,"SID",d.K),et(v,"AID",d.T),et(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(v,"TO",d.ja),et(v,"TYPE","xmlhttp"),ii(d,v),d.m&&d.o&&Yi(v,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Ki(bn(v)),w.m=null,w.P=!0,bl(w,d)}n.Za=function(){this.C!=null&&(this.C=null,fr(this),sa(this),yt(19))};function oa(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function aa(d,v){var w=null;if(d.g==v){oa(d),jl(d),d.g=null;var R=2}else if(ln(d.h,v))w=v.D,Pc(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;R=Ks(),mt(R,new qo(R,w)),Or(d)}else ro(d);else if(W=v.s,W==3||W==0&&0<v.X||!(R==1&&bf(d,v)||R==2&&sa(d)))switch(w&&0<w.length&&(v=d.h,v.i=v.i.concat(w)),W){case 1:si(d,5);break;case 4:si(d,10);break;case 3:si(d,6);break;default:si(d,2)}}}function jc(d,v){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*v}function si(d,v){if(d.j.info("Error code "+v),v==2){var w=T(d.fb,d),R=d.Xa;const W=!R;R=new ti(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||eo(R,"https"),Ki(R),W?Af(R.toString(),w):Lc(R.toString(),w)}else yt(2);d.G=0,d.l&&d.l.sa(v),Uc(d),ra(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Uc(d){if(d.G=0,d.ka=[],d.l){const v=kc(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ka,v),x(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function $c(d,v,w){var R=w instanceof ti?bn(w):new ti(w);if(R.g!="")v&&(R.g=v+"."+R.g),Hi(R,R.s);else{var W=c.location;R=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Q=new ti(null);R&&eo(Q,R),v&&(Q.g=v),W&&Hi(Q,W),w&&(Q.l=w),R=Q}return w=d.D,v=d.ya,w&&v&&et(R,w,v),et(R,"VER",d.la),ii(d,R),R}function zc(d,v,w){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ut(new ni({eb:w})):new ut(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ul(){}n=Ul.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function la(){}la.prototype.g=function(d,v){return new un(d,v)};function un(d,v){pt.call(this),this.g=new Fl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!z(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Lr(this)}A(un,pt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Wt(this.g)},un.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Il(d),d=w);v.i.push(new Rc(v.Ya++,d)),v.G==3&&Or(v)},un.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,un.aa.N.call(this)};function Bc(d){Pr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const w in v){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}A(Bc,Pr);function Wc(){Ho.call(this),this.status=1}A(Wc,Ho);function Lr(d){this.g=d}A(Lr,Ul),Lr.prototype.ua=function(){mt(this.g,"a")},Lr.prototype.ta=function(d){mt(this.g,new Bc(d))},Lr.prototype.sa=function(d){mt(this.g,new Wc)},Lr.prototype.ra=function(){mt(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,YI=function(){return new la},QI=function(){return Ks()},GI=kr,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Go.NO_ERROR=0,Go.TIMEOUT=8,Go.HTTP_ERROR=6,rh=Go,Ic.COMPLETE="complete",KI=Ic,Wo.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Tu=Wo,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,qI=ut}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore",kw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Yh("@firebase/firestore");function ba(){return Ps.logLevel}function JN(n){Ps.setLogLevel(n)}function he(n,...e){if(Ps.logLevel<=Me.DEBUG){const t=e.map(iv);Ps.debug(`Firestore (${hl}): ${n}`,...t)}}function Ri(n,...e){if(Ps.logLevel<=Me.ERROR){const t=e.map(iv);Ps.error(`Firestore (${hl}): ${n}`,...t)}}function Ka(n,...e){if(Ps.logLevel<=Me.WARN){const t=e.map(iv);Ps.warn(`Firestore (${hl}): ${n}`,...t)}}function iv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function Xe(n,e){n||Pe()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class eD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tD{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Is,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Is)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new XI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new tn(e)}}class nD{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rD{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new nD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Cn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new bw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=sD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function Ga(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=-62135596800,Dw=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Dw);return new kt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nw)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dw}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new kt(0,0))}static max(){return new ke(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__name__";class Ur{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pe(),r===void 0?r=e.length-t:r>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Ur.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ur.isNumericId(e),i=Ur.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class vt extends Ur{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const oD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Ur{construct(e,t,r){return new Gt(e,t,r)}static isValidIdentifier(e){return oD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ow}static keyField(){return new Gt([Ow])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ee(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ee(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Ee(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(vt.fromString(e))}static fromName(e){return new Te(vt.fromString(e).popFirst(5))}static empty(){return new Te(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function aD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new ks(i,Te.empty(),e)}function lD(n){return new ks(n.readTime,n.key,zu)}class ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ks(ke.min(),Te.empty(),zu)}static max(){return new ks(ke.max(),Te.empty(),zu)}}function uD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==cD)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,r)=>{t(e)})}static reject(e){return new J((t,r)=>{r(e)})}static waitFor(e){return new J((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next(i=>i?J.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new J((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new J((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function hD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}tf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-1;function nf(n){return n==null}function Th(n){return n===0&&1/n==-1/0}function fD(n){return typeof n=="number"&&Number.isInteger(n)&&!Th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="";function pD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Lw(e)),e=mD(n.get(t),e);return Lw(e)}function mD(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case ZI:t+="";break;default:t+=a}}return t}function Lw(n){return n+ZI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let St=class qm{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new qm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new qm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}},$d=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cs=class mi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??mi.RED,this.left=i??mi.EMPTY,this.right=a??mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new mi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return mi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}};Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1;Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Cs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vw(this.data.getIterator())}getIteratorFrom(e){return new Vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class Vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Er([])}unionWith(e){let t=new bt(Gt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tC("Invalid base64 string: "+a):a}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=gD.exec(n);if(Xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="server_timestamp",rC="__type__",iC="__previous_value__",sC="__local_write_time__";function ov(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rC])===null||t===void 0?void 0:t.stringValue)===nC}function rf(n){const e=n.mapValue.fields[iC];return ov(e)?rf(e):e}function Bu(n){const e=bs(n.mapValue.fields[sC].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,r,i,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const Ih="(default)";class Wu{constructor(e,t){this.projectId=e,this.database=t||Ih}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="__type__",yD="__max__",zd={mapValue:{}},aC="__vector__",Ch="value";function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ov(n)?4:wD(n)?9007199254740991:_D(n)?10:11:Pe()}function Qr(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bu(n).isEqual(Bu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=bs(i.timestampValue),c=bs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Ns(i.bytesValue).isEqual(Ns(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return wt(i.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return wt(i.integerValue)===wt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=wt(i.doubleValue),c=wt(a.doubleValue);return l===c?Th(l)===Th(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Ga(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Mw(l)!==Mw(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Qr(l[f],c[f])))return!1;return!0}(n,e);default:return Pe()}}function Hu(n,e){return(n.values||[]).find(t=>Qr(t,e))!==void 0}function Qa(n,e){if(n===e)return 0;const t=Ds(n),r=Ds(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=wt(a.integerValue||a.doubleValue),f=wt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Fw(n.timestampValue,e.timestampValue);case 4:return Fw(Bu(n),Bu(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Ns(a),f=Ns(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=Ue(c[p],f[p]);if(g!==0)return g}return Ue(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ue(wt(a.latitude),wt(l.latitude));return c!==0?c:Ue(wt(a.longitude),wt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},T=l.fields||{},S=(c=_[Ch])===null||c===void 0?void 0:c.arrayValue,A=(f=T[Ch])===null||f===void 0?void 0:f.arrayValue,b=Ue(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:jw(S,A)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===zd.mapValue&&l===zd.mapValue)return 0;if(a===zd.mapValue)return 1;if(l===zd.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const T=Ue(f[_],g[_]);if(T!==0)return T;const S=Qa(c[f[_]],p[g[_]]);if(S!==0)return S}return Ue(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Pe()}}function Fw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=bs(n),r=bs(e),i=Ue(t.seconds,r.seconds);return i!==0?i:Ue(t.nanos,r.nanos)}function jw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Qa(t[i],r[i]);if(a)return a}return Ue(t.length,r.length)}function Ya(n){return Km(n)}function Km(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Km(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Km(t.fields[l])}`;return i+"}"}(n.mapValue):Pe()}function ih(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(n);return e?16+ih(e):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ih(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Mo(r.fields,(a,l)=>{i+=a.length+ih(l)}),i}(n.mapValue);default:throw Pe()}}function Gm(n){return!!n&&"integerValue"in n}function av(n){return!!n&&"arrayValue"in n}function Uw(n){return!!n&&"nullValue"in n}function $w(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sh(n){return!!n&&"mapValue"in n}function _D(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[oC])===null||t===void 0?void 0:t.stringValue)===aC}function xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(t)}setAll(e){let t=Gt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=xu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Mo(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Xn(xu(this.value))}}function lC(n){const e=[];return Mo(n.fields,(t,r)=>{const i=new Gt([t]);if(sh(r)){const a=lC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new nn(e,0,ke.min(),ke.min(),ke.min(),Xn.empty(),0)}static newFoundDocument(e,t,r,i){return new nn(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new nn(e,2,t,ke.min(),ke.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,ke.min(),ke.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function zw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(l.referenceValue),t.key):r=Qa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function ED(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{}class Pt extends uC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ID(e,t,r):t==="array-contains"?new xD(e,r):t==="in"?new RD(e,r):t==="not-in"?new AD(e,r):t==="array-contains-any"?new PD(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CD(e,r):new SD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qa(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Qa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends uC{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Yr(e,t)}matches(e){return cC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cC(n){return n.op==="and"}function dC(n){return TD(n)&&cC(n)}function TD(n){for(const e of n.filters)if(e instanceof Yr)return!1;return!0}function Qm(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+Ya(n.value);if(dC(n))return n.filters.map(e=>Qm(e)).join(",");{const e=n.filters.map(t=>Qm(t)).join(",");return`${n.op}(${e})`}}function hC(n,e){return n instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(n,e):n instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&hC(l,i.filters[c]),!0):!1}(n,e):void Pe()}function fC(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ya(t.value)}`}(n):n instanceof Yr?function(t){return t.op.toString()+" {"+t.getFilters().map(fC).join(" ,")+"}"}(n):"Filter"}class ID extends Pt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class CD extends Pt{constructor(e,t){super(e,"in",t),this.keys=pC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SD extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=pC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Te.fromName(r.referenceValue))}class xD extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return av(t)&&Hu(t.arrayValue,this.value)}}class RD extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hu(this.value.arrayValue,t)}}class AD extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Hu(this.value.arrayValue,t)}}class PD extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!av(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function Ww(n,e=null,t=[],r=[],i=null,a=null,l=null){return new kD(n,e,t,r,i,a,l)}function lv(n){const e=be(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Qm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ya(r)).join(",")),e.le=t}return e.le}function uv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ED(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bw(n.startAt,e.startAt)&&Bw(n.endAt,e.endAt)}function Ym(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function bD(n,e,t,r,i,a,l,c){return new sf(n,e,t,r,i,a,l,c)}function cv(n){return new sf(n)}function Hw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ND(n){return n.collectionGroup!==null}function Ru(n){const e=be(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new bt(Gt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new xh(a,r))}),t.has(Gt.keyField().canonicalString())||e.he.push(new xh(Gt.keyField(),r))}return e.he}function Hr(n){const e=be(n);return e.Pe||(e.Pe=DD(e,Ru(n))),e.Pe}function DD(n,e){if(n.limitType==="F")return Ww(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new xh(i.field,a)});const t=n.endAt?new Sh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sh(n.startAt.position,n.startAt.inclusive):null;return Ww(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Xm(n,e,t){return new sf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function of(n,e){return uv(Hr(n),Hr(e))&&n.limitType===e.limitType}function mC(n){return`${lv(Hr(n))}|lt:${n.limitType}`}function Na(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fC(i)).join(", ")}]`),nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ya(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(Hr(n))}; limitType=${n.limitType})`}function af(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Ru(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=zw(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,Ru(r),i)||r.endAt&&!function(l,c,f){const p=zw(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,Ru(r),i))}(n,e)}function OD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gC(n){return(e,t)=>{let r=!1;for(const i of Ru(n)){const a=LD(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function LD(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Qa(f,p):Pe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return eC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new St(Te.comparator);function Ai(){return MD}const vC=new St(Te.comparator);function Iu(...n){let e=vC;for(const t of n)e=e.insert(t.key,t);return e}function yC(n){let e=vC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Io(){return Au()}function _C(){return Au()}function Au(){return new Vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const VD=new St(Te.comparator),FD=new bt(Te.comparator);function Fe(...n){let e=FD;for(const t of n)e=e.add(t);return e}const jD=new bt(Ue);function UD(){return jD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function wC(n){return{integerValue:""+n}}function $D(n,e){return fD(e)?wC(e):dv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function zD(n,e,t){return n instanceof qu?function(i,a){const l={fields:{[rC]:{stringValue:nC},[sC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ov(a)&&(a=rf(a)),a&&(l.fields[iC]=a),{mapValue:l}}(t,e):n instanceof Ku?TC(n,e):n instanceof Gu?IC(n,e):function(i,a){const l=EC(i,a),c=qw(l)+qw(i.Ie);return Gm(l)&&Gm(i.Ie)?wC(c):dv(i.serializer,c)}(n,e)}function BD(n,e,t){return n instanceof Ku?TC(n,e):n instanceof Gu?IC(n,e):t}function EC(n,e){return n instanceof Rh?function(r){return Gm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class qu extends lf{}class Ku extends lf{constructor(e){super(),this.elements=e}}function TC(n,e){const t=CC(e);for(const r of n.elements)t.some(i=>Qr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gu extends lf{constructor(e){super(),this.elements=e}}function IC(n,e){let t=CC(e);for(const r of n.elements)t=t.filter(i=>!Qr(i,r));return{arrayValue:{values:t}}}class Rh extends lf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function qw(n){return wt(n.integerValue||n.doubleValue)}function CC(n){return av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.field=e,this.transform=t}}function HD(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Gu&&i instanceof Gu?Ga(r.elements,i.elements,Qr):r instanceof Rh&&i instanceof Rh?Qr(r.Ie,i.Ie):r instanceof qu&&i instanceof qu}(n.transform,e.transform)}class qD{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class uf{}function SC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new RC(n.key,Ti.none()):new uc(n.key,n.data,Ti.none());{const t=n.data,r=Xn.empty();let i=new bt(Gt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Fo(n.key,r,new Er(i.toArray()),Ti.none())}}function KD(n,e,t){n instanceof uc?function(i,a,l){const c=i.value.clone(),f=Gw(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Fo?function(i,a,l){if(!oh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=Gw(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(xC(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Pu(n,e,t,r){return n instanceof uc?function(a,l,c,f){if(!oh(a.precondition,l))return c;const p=a.value.clone(),g=Qw(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fo?function(a,l,c,f){if(!oh(a.precondition,l))return c;const p=Qw(a.fieldTransforms,f,l),g=l.data;return g.setAll(xC(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,c){return oh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function GD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=EC(r.transform,i||null);a!=null&&(t===null&&(t=Xn.empty()),t.set(r.field,a))}return t||null}function Kw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ga(r,i,(a,l)=>HD(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uc extends uf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends uf{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Gw(n,e,t){const r=new Map;Xe(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,BD(l,c,t[i]))}return r}function Qw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,zD(a,l,e))}return r}class RC extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QD extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&KD(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_C();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=SC(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(t,r)=>Kw(t,r))&&Ga(this.baseMutations,e.baseMutations,(t,r)=>Kw(t,r))}}class hv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Xe(e.mutations.length===r.length);let i=function(){return VD}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new hv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Be;function ZD(n){switch(n){case re.OK:return Pe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Pe()}}function AC(n){if(n===void 0)return Ri("GRPC error has no .code"),re.UNKNOWN;switch(n){case Ct.OK:return re.OK;case Ct.CANCELLED:return re.CANCELLED;case Ct.UNKNOWN:return re.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return re.INTERNAL;case Ct.UNAVAILABLE:return re.UNAVAILABLE;case Ct.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ct.NOT_FOUND:return re.NOT_FOUND;case Ct.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ct.ABORTED:return re.ABORTED;case Ct.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ct.DATA_LOSS:return re.DATA_LOSS;default:return Pe()}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Ts([4294967295,4294967295],0);function Yw(n){const e=eO().encode(n),t=new HI;return t.update(e),new Uint8Array(t.digest())}function Xw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ts([t,r],0),new Ts([i,a],0)]}class fv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ts.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ts.fromNumber(r)));return i.compare(tO)===1&&(i=new Ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Yw(e),[r,i]=Xw(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new fv(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=Yw(e),[r,i]=Xw(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cf(ke.min(),i,new St(Ue),Ai(),Fe())}}class cc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new cc(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class PC{constructor(e,t){this.targetId=e,this.ge=t}}class kC{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Jw{constructor(){this.pe=0,this.ye=Zw(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),r=Fe();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Pe()}}),new cc(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=Zw()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class nO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ai(),this.$e=Bd(),this.Ke=Bd(),this.Ue=new St(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(Ym(a))if(r===0){const l=new Te(a.path);this.ze(t,l,nn.newNoDocument(l,ke.min()))}else Xe(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Ns(r).toUint8Array()}catch(f){if(f instanceof tC)return Ka("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new fv(l,i,a)}catch(f){return Ka(f instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&Ym(c.target)){const f=new Te(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,nn.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=Fe();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new cf(e,t,this.Ue,this.Qe,r);return this.Qe=Ai(),this.$e=Bd(),this.Ke=Bd(),this.Ue=new St(Ue),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Jw,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new bt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new bt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Jw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Bd(){return new St(Te.comparator)}function Zw(){return new St(Te.comparator)}const rO={asc:"ASCENDING",desc:"DESCENDING"},iO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sO={and:"AND",or:"OR"};class oO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jm(n,e){return n.useProto3Json||nf(e)?e:{value:e}}function Ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aO(n,e){return Ah(n,e.toTimestamp())}function qr(n){return Xe(!!n),ke.fromTimestamp(function(t){const r=bs(t);return new kt(r.seconds,r.nanos)}(n))}function pv(n,e){return Zm(n,e).canonicalString()}function Zm(n,e){const t=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function NC(n){const e=vt.fromString(n);return Xe(VC(e)),e}function eg(n,e){return pv(n.databaseId,e.path)}function dm(n,e){const t=NC(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(OC(t))}function DC(n,e){return pv(n.databaseId,e)}function lO(n){const e=NC(n);return e.length===4?vt.emptyPath():OC(e)}function tg(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OC(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function eE(n,e,t){return{name:eg(n,e),fields:t.value.mapValue.fields}}function uO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Xe(g===void 0||typeof g=="string"),Qt.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Qt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?re.UNKNOWN:AC(p.code);return new Ee(g,p.message||"")}(l);t=new kC(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dm(n,r.document.name),a=qr(r.document.updateTime),l=r.document.createTime?qr(r.document.createTime):ke.min(),c=new Xn({mapValue:{fields:r.document.fields}}),f=nn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new ah(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dm(n,r.document),a=r.readTime?qr(r.readTime):ke.min(),l=nn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new ah([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dm(n,r.document),a=r.removedTargetIds||[];t=new ah([],a,i,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new JD(i,a),c=r.targetId;t=new PC(c,l)}}return t}function cO(n,e){let t;if(e instanceof uc)t={update:eE(n,e.key,e.value)};else if(e instanceof RC)t={delete:eg(n,e.key)};else if(e instanceof Fo)t={update:eE(n,e.key,e.data),updateMask:_O(e.fieldMask)};else{if(!(e instanceof QD))return Pe();t={verify:eg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ku)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Rh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Pe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:aO(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(n,e.precondition)),t}function dO(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?qr(i.updateTime):qr(a);return l.isEqual(ke.min())&&(l=qr(a)),new qD(l,i.transformResults||[])}(t,e))):[]}function hO(n,e){return{documents:[DC(n,e.path)]}}function fO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=DC(n,i);const a=function(p){if(p.length!==0)return MC(Yr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:Da(T.field),direction:gO(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Jm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function pO(n){let e=lO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Xe(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=LC(_);return T instanceof Yr&&dC(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(A){return new xh(Oa(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(_){let T;return T=typeof _=="object"?_.value:_,nf(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(_){const T=!!_.before,S=_.values||[];return new Sh(S,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,S=_.values||[];return new Sh(S,T)}(t.endAt)),bD(e,i,l,a,c,"F",f,p)}function mO(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function LC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Oa(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oa(t.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Oa(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Oa(t.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Oa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yr.create(t.compositeFilter.filters.map(r=>LC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(n):Pe()}function gO(n){return rO[n]}function vO(n){return iO[n]}function yO(n){return sO[n]}function Da(n){return{fieldPath:n.canonicalString()}}function Oa(n){return Gt.fromServerFormat(n.fieldPath)}function MC(n){return n instanceof Pt?function(t){if(t.op==="=="){if($w(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NAN"}};if(Uw(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($w(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NOT_NAN"}};if(Uw(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(t.field),op:vO(t.op),value:t.value}}}(n):n instanceof Yr?function(t){const r=t.getFilters().map(i=>MC(i));return r.length===1?r[0]:{compositeFilter:{op:yO(t.op),filters:r}}}(n):Pe()}function _O(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,r,i,a=ke.min(),l=ke.min(),c=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.Tt=e}}function EO(n){const e=pO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.Tn=new IO}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(ks.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class IO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bt(vt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FC=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(FC,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Xa(0)}static Un(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="LruGarbageCollector",CO=1048576;function rE([n,e],[t,r]){const i=Ue(n,t);return i===0?Ue(e,r):i}class SO{constructor(e){this.Hn=e,this.buffer=new bt(rE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(nE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pl(t)?he(nE,"Ignoring IndexedDB error during garbage collection: ",t):await fl(t)}await this.er(3e5)})}}class RO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return J.resolve(tf.ae);const r=new SO(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(tE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),ba()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function AO(n,e){return new RO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pu(r.mutation,i,Er.empty(),kt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=Io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Iu();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Io();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=Ai();const l=Au(),c=function(){return Au()}();return t.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Fo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Pu(g.mutation,p,g.mutation.getFieldMask(),kt.now())):l.set(p.key,Er.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new kO(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Au();let i=new St((l,c)=>l-c),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Er.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||Fe()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=_C();g.forEach(T=>{if(!a.has(T)){const S=SC(t.get(T),r.get(T));S!==null&&_.set(T,S),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ND(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):J.resolve(Io());let c=zu,f=a;return l.next(p=>J.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{f=f.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Fe())).next(g=>({batchId:c,changes:yC(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Iu();return this.indexManager.getCollectionParents(e,a).next(c=>J.forEach(c,f=>{const p=function(_,T){return new sf(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,nn.newInvalidDocument(g)))});let c=Iu();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Pu(g.mutation,p,Er.empty(),kt.now()),af(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:EO(i.bundledQuery),readTime:qr(i.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.overlays=new St(Te.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Io();return J.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=Io(),a=t.length+1,l=new Te(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new St((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Io(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Io(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return J.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new XD(t,r));let a=this.Rr.get(t);a===void 0&&(a=Fe(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.Vr=new bt(Ft.mr),this.gr=new bt(Ft.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ft(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ft(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Te(new vt([])),r=new Ft(t,e),i=new Ft(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Te(new vt([])),r=new Ft(t,e),i=new Ft(t,e+1);let a=Fe();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ft(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Te.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new bt(Ft.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new YD(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Ft(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sv:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ft(t,0),i=new Ft(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(Ue);return t.forEach(i=>{const a=new Ft(i,0),l=new Ft(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const l=new Ft(new Te(a),0);let c=new bt(Ue);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Cr)),!0)},l),J.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(t.mutations,i=>{const a=new Ft(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ft(t,0),i=this.Mr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.kr=e,this.docs=function(){return new St(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let r=Ai();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():nn.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ai();const l=t.path,c=new Te(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||uD(lD(g),r)<=0||(i.has(g.key)||af(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Pe()}qr(e,t){return J.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new VO(this)}getSize(e){return J.resolve(this.size)}}class VO extends PO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.persistence=e,this.Qr=new Vo(t=>lv(t),uv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new mv,this.targetCount=0,this.Ur=Xa.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Xa(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),J.waitFor(a).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new tf(0),this.zr=!1,this.zr=!0,this.jr=new OO,this.referenceDelegate=e(this),this.Hr=new FO(this),this.indexManager=new TO,this.remoteDocumentCache=function(i){return new MO(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new wO(t),this.Yr=new NO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new LO(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new jO(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class jO extends dD{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.ti=new mv,this.ni=null}static ri(e){return new gv(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const i=Te.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ph{constructor(e,t){this.persistence=e,this.oi=new Vo(r=>pD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=AO(this,t)}static ri(e,t){return new Ph(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?J.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ih(e.data.value)),t}ar(e,t,r){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Fe(),i=Fe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new vv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pP()?8:hD(an())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new UO;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ba()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(ba()<=Me.DEBUG&&he("QueryEngine","Query:",Na(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ba()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):J.resolve())}rs(e,t){if(Hw(t))return J.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Xm(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Fe(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,c);return this.ls(t,p,l,f.readTime)?this.rs(e,Xm(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return Hw(t)||i.isEqual(ke.min())?J.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?J.resolve(null):(ba()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Na(t)),this.hs(e,l,t,aD(i,zu)).next(c=>c))})}cs(e,t){let r=new bt(gC(e));return t.forEach((i,a)=>{af(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return ba()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Na(t)),this.ns.getDocumentsMatchingQuery(e,t,ks.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LocalStore",zO=3e8;class BO{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new St(Ue),this.Is=new Vo(a=>lv(a),uv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function WO(n,e,t,r){return new BO(n,e,t,r)}async function UC(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=Fe();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function HO(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,T=_.keys();let S=J.resolve();return T.forEach(A=>{S=S.next(()=>g.getEntry(f,A)).next(b=>{const x=p.docVersions.get(A);Xe(x!==null),b.version.compareTo(x)<0&&(_.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Fe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function $C(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function qO(n,e){const t=be(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const T=i.get(_);if(!T)return;c.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Qt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(_,S),function(b,x,F){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=zO?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,S,g)&&c.push(t.Hr.updateTargetData(a,S))});let f=Ai(),p=Fe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(KO(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(ke.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return J.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=i,a))}function KO(n,e,t){let r=Fe(),i=Fe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Ai();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):he(yv,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function GO(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QO(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,J.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new _s(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function ng(n,e,t){const r=be(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!pl(l))throw l;he(yv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function iE(n,e,t){const r=be(n);let i=ke.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=be(f),T=_.Is.get(g);return T!==void 0?J.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Hr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?a:Fe())).next(c=>(YO(r,OD(e),c),{documents:c,gs:a})))}function YO(n,e,t){let r=n.Es.get(e)||ke.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class sE{constructor(){this.activeTargetIds=UD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XO{constructor(){this.ho=new sE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class aE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(oE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function rg(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eL{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Ih?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,a){const l=rg(),c=this.So(e,t.toUriEncodedString());he(hm,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,c,f,r).then(p=>(he(hm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Ka(hm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,a,l){return this.bo(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}So(e,t){const r=ZO[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class nL extends eL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=rg();return new Promise((l,c)=>{const f=new qI;f.setWithCredentials(!0),f.listenOnce(KI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case rh.NO_ERROR:const g=f.getResponseJson();he(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case rh.TIMEOUT:he(en,`RPC '${e}' ${a} timed out`),c(new Ee(re.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const _=f.getStatus();if(he(en,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const A=function(x){const F=x.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(F)>=0?F:re.UNKNOWN}(S.status);c(new Ee(A,S.message))}else c(new Ee(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ee(re.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{he(en,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);he(en,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=rg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=YI(),c=QI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");he(en,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let T=!1,S=!1;const A=new tL({Fo:x=>{S?he(en,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(T||(he(en,`Opening RPC '${e}' stream ${i} transport.`),_.open(),T=!0),he(en,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Mo:()=>_.close()}),b=(x,F,z)=>{x.listen(F,B=>{try{z(B)}catch(G){setTimeout(()=>{throw G},0)}})};return b(_,Tu.EventType.OPEN,()=>{S||(he(en,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),b(_,Tu.EventType.CLOSE,()=>{S||(S=!0,he(en,`RPC '${e}' stream ${i} transport closed`),A.Ko())}),b(_,Tu.EventType.ERROR,x=>{S||(S=!0,Ka(en,`RPC '${e}' stream ${i} transport errored:`,x),A.Ko(new Ee(re.UNAVAILABLE,"The operation could not be completed")))}),b(_,Tu.EventType.MESSAGE,x=>{var F;if(!S){const z=x.data[0];Xe(!!z);const B=z,G=(B==null?void 0:B.error)||((F=B[0])===null||F===void 0?void 0:F.error);if(G){he(en,`RPC '${e}' stream ${i} received error:`,G);const X=G.status;let Z=function(k){const L=Ct[k];if(L!==void 0)return AC(L)}(X),D=G.message;Z===void 0&&(Z=re.INTERNAL,D="Unknown error status: "+X+" with message "+G.message),S=!0,A.Ko(new Ee(Z,D)),_.close()}else he(en,`RPC '${e}' stream ${i} received:`,z),A.Uo(z)}}),b(c,GI.STAT_EVENT,x=>{x.stat===Hm.PROXY?he(en,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Hm.NOPROXY&&he(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(n){return new oO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="PersistentStream";class BC{constructor(e,t,r,i,a,l,c,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zC(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Ee(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(lE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rL extends BC{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=uO(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?qr(l.readTime):ke.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=tg(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=Ym(f)?{documents:hO(a,f)}:{query:fO(a,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=bC(a,l.resumeToken);const p=Jm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Ah(a,l.snapshotVersion.toTimestamp());const p=Jm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=mO(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=tg(this.serializer),t.removeTarget=e,this.I_(t)}}class iL extends BC{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=dO(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=tg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cO(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{}class oL extends sL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.bo(e,Zm(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(re.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Zm(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ri(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="RemoteStore";class lL{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{jo(this)&&(he(Po,"Restarting streams for network reachability change."),await async function(f){const p=be(f);p.W_.add(4),await dc(p),p.j_.set("Unknown"),p.W_.delete(4),await hf(p)}(this))})}),this.j_=new aL(r,i)}}async function hf(n){if(jo(n))for(const e of n.G_)await e(!0)}async function dc(n){for(const e of n.G_)await e(!1)}function WC(n,e){const t=be(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Tv(t)?Ev(t):ml(t).c_()&&wv(t,e))}function _v(n,e){const t=be(n),r=ml(t);t.U_.delete(e),r.c_()&&HC(t,e),t.U_.size===0&&(r.c_()?r.P_():jo(t)&&t.j_.set("Unknown"))}function wv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ml(n).y_(e)}function HC(n,e){n.H_.Ne(e),ml(n).w_(e)}function Ev(n){n.H_=new nO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ml(n).start(),n.j_.B_()}function Tv(n){return jo(n)&&!ml(n).u_()&&n.U_.size>0}function jo(n){return be(n).W_.size===0}function qC(n){n.H_=void 0}async function uL(n){n.j_.set("Online")}async function cL(n){n.U_.forEach((e,t)=>{wv(n,e)})}async function dL(n,e){qC(n),Tv(n)?(n.j_.q_(e),Ev(n)):n.j_.set("Unknown")}async function hL(n,e,t){if(n.j_.set("Online"),e instanceof kC&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){he(Po,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(n,r)}else if(e instanceof ah?n.H_.We(e):e instanceof PC?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ke.min()))try{const r=await $C(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.U_.get(f);if(!g)return;a.U_.set(f,g.withResumeToken(Qt.EMPTY_BYTE_STRING,g.snapshotVersion)),HC(a,f);const _=new _s(g.target,f,p,g.sequenceNumber);wv(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){he(Po,"Failed to raise snapshot:",r),await kh(n,r)}}async function kh(n,e,t){if(!pl(e))throw e;n.W_.add(1),await dc(n),n.j_.set("Offline"),t||(t=()=>$C(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(Po,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await hf(n)})}function KC(n,e){return e().catch(t=>kh(n,t,e))}async function ff(n){const e=be(n),t=Os(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:sv;for(;fL(e);)try{const i=await GO(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,pL(e,i)}catch(i){await kh(e,i)}GC(e)&&QC(e)}function fL(n){return jo(n)&&n.K_.length<10}function pL(n,e){n.K_.push(e);const t=Os(n);t.c_()&&t.b_&&t.S_(e.mutations)}function GC(n){return jo(n)&&!Os(n).u_()&&n.K_.length>0}function QC(n){Os(n).start()}async function mL(n){Os(n).C_()}async function gL(n){const e=Os(n);for(const t of n.K_)e.S_(t.mutations)}async function vL(n,e,t){const r=n.K_.shift(),i=hv.from(r,e,t);await KC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ff(n)}async function yL(n,e){e&&Os(n).b_&&await async function(r,i){if(function(l){return ZD(l)&&l!==re.ABORTED}(i.code)){const a=r.K_.shift();Os(r).h_(),await KC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ff(r)}}(n,e),GC(n)&&QC(n)}async function uE(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),he(Po,"RemoteStore received new credentials");const r=jo(t);t.W_.add(3),await dc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await hf(t)}async function _L(n,e){const t=be(n);e?(t.W_.delete(2),await hf(t)):e||(t.W_.add(2),await dc(t),t.j_.set("Unknown"))}function ml(n){return n.J_||(n.J_=function(t,r,i){const a=be(t);return a.M_(),new rL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:uL.bind(null,n),No:cL.bind(null,n),Lo:dL.bind(null,n),p_:hL.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Tv(n)?Ev(n):n.j_.set("Unknown")):(await n.J_.stop(),qC(n))})),n.J_}function Os(n){return n.Y_||(n.Y_=function(t,r,i){const a=be(t);return a.M_(),new iL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:mL.bind(null,n),Lo:yL.bind(null,n),D_:gL.bind(null,n),v_:vL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ff(n)):(await n.Y_.stop(),n.K_.length>0&&(he(Po,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Iv(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),pl(n))return new Ee(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Iu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new $a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.Z_=new St(Te.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ja{constructor(e,t,r,i,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Ja(e,t,$a.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class EL{constructor(){this.queries=dE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=be(t),a=i.queries;i.queries=dE(),a.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new Ee(re.ABORTED,"Firestore shutting down"))}}function dE(){return new Vo(n=>mC(n),of)}async function TL(n,e){const t=be(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new wL,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Cv(l,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Sv(t)}async function IL(n,e){const t=be(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function CL(n,e){const t=be(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Sv(t)}function SL(n,e,t){const r=be(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function Sv(n){n.ia.forEach(e=>{e.next()})}var ig,hE;(hE=ig||(ig={}))._a="default",hE.Cache="cache";class xL{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.key=e}}class XC{constructor(e){this.key=e}}class RL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=gC(e),this.wa=new $a(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new cE,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const T=i.get(g),S=af(this.query,_)?_:null,A=!!T&&this.mutatedKeys.has(T.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;T&&S?T.data.isEqual(S.data)?A!==b&&(r.track({type:3,doc:S}),x=!0):this.va(T,S)||(r.track({type:2,doc:S}),x=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(c=!0)):!T&&S?(r.track({type:0,doc:S}),x=!0):T&&!S&&(r.track({type:1,doc:T}),x=!0,(f||p)&&(c=!0)),x&&(S?(l=l.add(S),a=b?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(S,A){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return b(S)-b(A)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Ja(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new XC(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new YC(r))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Ja.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xv="SyncEngine";class AL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class PL{constructor(e){this.key=e,this.Ba=!1}}class kL{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Vo(c=>mC(c),of),this.qa=new Map,this.Qa=new Set,this.$a=new St(Te.comparator),this.Ka=new Map,this.Ua=new mv,this.Wa={},this.Ga=new Map,this.za=Xa.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bL(n,e,t=!0){const r=rS(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await JC(r,e,t,!0),i}async function NL(n,e){const t=rS(n);await JC(t,e,!0,!1)}async function JC(n,e,t,r){const i=await QO(n.localStore,Hr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await DL(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&WC(n.remoteStore,i),c}async function DL(n,e,t,r,i){n.Ha=(_,T,S)=>async function(b,x,F,z){let B=x.view.Sa(F);B.ls&&(B=await iE(b.localStore,x.query,!1).then(({documents:D})=>x.view.Sa(D,B)));const G=z&&z.targetChanges.get(x.targetId),X=z&&z.targetMismatches.get(x.targetId)!=null,Z=x.view.applyChanges(B,b.isPrimaryClient,G,X);return pE(b,x.targetId,Z.Ma),Z.snapshot}(n,_,T,S);const a=await iE(n.localStore,e,!0),l=new RL(e,a.gs),c=l.Sa(a.documents),f=cc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);pE(n,t,p.Ma);const g=new AL(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function OL(n,e,t){const r=be(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!of(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ng(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_v(r.remoteStore,i.targetId),sg(r,i.targetId)}).catch(fl)):(sg(r,i.targetId),await ng(r.localStore,i.targetId,!0))}async function LL(n,e){const t=be(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_v(t.remoteStore,r.targetId))}async function ML(n,e,t){const r=BL(n);try{const i=await function(l,c){const f=be(l),p=kt.now(),g=c.reduce((S,A)=>S.add(A.key),Fe());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=Ai(),b=Fe();return f.ds.getEntries(S,g).next(x=>{A=x,A.forEach((F,z)=>{z.isValidDocument()||(b=b.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,A)).next(x=>{_=x;const F=[];for(const z of c){const B=GD(z,_.get(z.key).overlayedDocument);B!=null&&F.push(new Fo(z.key,B,lC(B.value.mapValue),Ti.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,F,c)}).next(x=>{T=x;const F=x.applyToLocalDocumentSet(_,b);return f.documentOverlayCache.saveOverlays(S,x.batchId,F)})}).then(()=>({batchId:T.batchId,changes:yC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new St(Ue)),p=p.insert(c,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await hc(r,i.changes),await ff(r.remoteStore)}catch(i){const a=Cv(i,"Failed to persist write");t.reject(a)}}async function ZC(n,e){const t=be(n);try{const r=await qO(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Xe(l.Ba):i.removedDocuments.size>0&&(Xe(l.Ba),l.Ba=!1))}),await hc(t,r,e)}catch(r){await fl(r)}}function fE(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=be(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(c)&&(p=!0)}),p&&Sv(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VL(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new St(Te.comparator);l=l.insert(a,nn.newNoDocument(a,ke.min()));const c=Fe().add(a),f=new cf(ke.min(),new Map,new St(Ue),l,c);await ZC(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),Rv(r)}else await ng(r.localStore,e,!1).then(()=>sg(r,e,t)).catch(fl)}async function FL(n,e){const t=be(n),r=e.batch.batchId;try{const i=await HO(t.localStore,e);tS(t,r,null),eS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hc(t,i)}catch(i){await fl(i)}}async function jL(n,e,t){const r=be(n);try{const i=await function(l,c){const f=be(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(Xe(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);tS(r,e,t),eS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hc(r,i)}catch(i){await fl(i)}}function eS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function tS(n,e,t){const r=be(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function sg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||nS(n,r)})}function nS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(_v(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Rv(n))}function pE(n,e,t){for(const r of t)r instanceof YC?(n.Ua.addReference(r.key,e),UL(n,r)):r instanceof XC?(he(xv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||nS(n,r.key)):Pe()}function UL(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(he(xv,"New document in limbo: "+t),n.Qa.add(r),Rv(n))}function Rv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Te(vt.fromString(e)),r=n.za.next();n.Ka.set(r,new PL(t)),n.$a=n.$a.insert(t,r),WC(n.remoteStore,new _s(Hr(cv(t.path)),r,"TargetPurposeLimboResolution",tf.ae))}}async function hc(n,e,t){const r=be(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=vv.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const g=be(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>J.forEach(p,T=>J.forEach(T.Hi,S=>g.persistence.referenceDelegate.addReference(_,T.targetId,S)).next(()=>J.forEach(T.Ji,S=>g.persistence.referenceDelegate.removeReference(_,T.targetId,S)))))}catch(_){if(!pl(_))throw _;he(yv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const S=g.Ts.get(T),A=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(T,b)}}}(r.localStore,a))}async function $L(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){he(xv,"User change. New user:",e.toKey());const r=await UC(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(f=>{f.reject(new Ee(re.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(t,r.Rs)}}function zL(n,e){const t=be(n),r=t.Ka.get(e);if(r&&r.Ba)return Fe().add(r.key);{let i=Fe();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.ba)}return i}}function rS(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VL.bind(null,e),e.La.p_=CL.bind(null,e.eventManager),e.La.Ja=SL.bind(null,e.eventManager),e}function BL(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jL.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return WO(this.persistence,new $O,e.initialUser,this.serializer)}Xa(e){return new jC(gv.ri,this.serializer)}Za(e){return new XO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class WL extends bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof Ph);const r=this.persistence.referenceDelegate.garbageCollector;return new xO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new jC(r=>Ph.ri(r,t),this.serializer)}}class og{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$L.bind(null,this.syncEngine),await _L(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EL}()}createDatastore(e){const t=df(e.databaseInfo.databaseId),r=function(a){return new nL(a)}(e.databaseInfo);return function(a,l,c,f){return new oL(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new lL(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>fE(this.syncEngine,t,0),function(){return aE.D()?new aE:new JO}())}createSyncEngine(e,t){return function(i,a,l,c,f,p,g){const _=new kL(i,a,l,c,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=be(i);he(Po,"RemoteStore shutting down."),a.W_.add(5),await dc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}og.provider={build:()=>new og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class qL{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=JI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(Ls,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Ls,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pm(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ls,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await KL(n);he(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>uE(e.remoteStore,i)),n._onlineComponents=e}async function KL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ls,"Using user provided OfflineComponentProvider");try{await pm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ka("Error using user provided cache. Falling back to memory cache: "+t),await pm(n,new bh)}}else he(Ls,"Using default OfflineComponentProvider"),await pm(n,new WL(void 0));return n._offlineComponents}async function iS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ls,"Using user provided OnlineComponentProvider"),await mE(n,n._uninitializedComponentsProvider._online)):(he(Ls,"Using default OnlineComponentProvider"),await mE(n,new og))),n._onlineComponents}function GL(n){return iS(n).then(e=>e.syncEngine)}async function QL(n){const e=await iS(n),t=e.eventManager;return t.onListen=bL.bind(null,e.syncEngine),t.onUnlisten=OL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LL.bind(null,e.syncEngine),t}function YL(n,e,t={}){const r=new Is;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new HL({next:T=>{g.su(),l.enqueueAndForget(()=>IL(a,_));const S=T.docs.has(c);!S&&T.fromCache?p.reject(new Ee(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&f&&f.source==="server"?p.reject(new Ee(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new xL(cv(c.path),g,{includeMetadataChanges:!0,Ta:!0});return TL(a,_)}(await QL(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n,e,t){if(!t)throw new Ee(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JL(n,e,t,r){if(e===!0&&r===!0)throw new Ee(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vE(n){if(!Te.isDocumentKey(n))throw new Ee(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Av(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe()}function Qu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Av(n);throw new Ee(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firestore.googleapis.com",yE=!0;class _E{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oS,this.ssl=yE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:yE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CO)throw new Ee(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZN;switch(r.type){case"firstParty":return new rD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=gE.get(t);r&&(he("ComponentProvider","Removing Datastore"),gE.delete(t),r.terminate())}(this),Promise.resolve()}}function ZL(n,e,t,r={}){var i;const a=(n=Qu(n,Pv))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a.host!==oS&&a.host!==c&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!Rs(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=tn.MOCK_USER;else{p=rI(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ee(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new tn(_)}n._authCredentials=new eD(new XI(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kv(this.firestore,e,this._query)}}class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Yu extends kv{constructor(e,t,r){super(e,t,cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Te(e))}withConverter(e){return new Yu(this.firestore,e,this._path)}}function bv(n,e,...t){if(n=fn(n),arguments.length===1&&(e=JI.newId()),XL("doc","path",e),n instanceof Pv){const r=vt.fromString(e,...t);return vE(r),new Zn(n,null,new Te(r))}{if(!(n instanceof Zn||n instanceof Yu))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return vE(r),new Zn(n.firestore,n instanceof Yu?n.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class EE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zC(this,"async_queue_retry"),this.bu=()=>{const r=fm();r&&he(wE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=fm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=fm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Is;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!pl(e))throw e;he(wE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Iv.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Nv extends Pv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new EE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,await e}}}function Dv(n,e){const t=typeof n=="object"?n:Wg(),r=typeof n=="string"?n:Ih,i=Xh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=eI("firestore");a&&ZL(i,...a)}return i}function aS(n){if(n._terminated)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eM(n),n._firestoreClient}function eM(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,p,g){return new vD(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,sS(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new qL(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(Qt.fromBase64String(e))}catch(t){throw new Ee(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Za(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=/^__.*__$/;class nM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new uc(e,this.data,t,this.fieldTransforms)}}function lS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Fv{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Fv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(lS(this.Lu)&&tM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class rM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||df(e)}ju(e,t,r,i=!1){return new Fv({Lu:e,methodName:t,zu:r,path:Gt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iM(n){const e=n._freezeSettings(),t=df(n._databaseId);return new rM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sM(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);hS("Data must be an object, but it was:",l,r);const c=cS(r,l);let f,p;if(a.merge)f=new Er(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=oM(e,_,t);if(!l.contains(T))throw new Ee(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);lM(g,T)||g.push(T)}f=new Er(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new nM(new Xn(c),f,p)}class jv extends Lv{_toFieldTransform(e){return new WD(e.path,new qu)}isEqual(e){return e instanceof jv}}function uS(n,e){if(dS(n=fn(n)))return hS("Unsupported field value:",e,n),cS(n,e);if(n instanceof Lv)return function(r,i){if(!lS(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=uS(c,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $D(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kt.fromDate(r);return{timestampValue:Ah(i.serializer,a)}}if(r instanceof kt){const a=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(i.serializer,a)}}if(r instanceof Mv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Za)return{bytesValue:bC(i.serializer,r._byteString)};if(r instanceof Zn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vv)return function(l,c){return{mapValue:{fields:{[oC]:{stringValue:aC},[Ch]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return dv(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Av(r)}`)}(n,e)}function cS(n,e){const t={};return eC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(n,(r,i)=>{const a=uS(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function dS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof Mv||n instanceof Za||n instanceof Zn||n instanceof Lv||n instanceof Vv)}function hS(n,e,t){if(!dS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Av(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function oM(n,e,t){if((e=fn(e))instanceof Ov)return e._internalPath;if(typeof e=="string")return fS(n,e);throw Nh("Field path arguments must be of type string or ",n,!1,void 0,t)}const aM=new RegExp("[~\\*/\\[\\]]");function fS(n,e,t){if(e.search(aM)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ov(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ee(re.INVALID_ARGUMENT,c+n+f)}function lM(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uM extends pS{data(){return super.data()}}function mS(n,e){return typeof e=="string"?fS(n,e):e instanceof Ov?e._internalPath:e._delegate._internalPath}class cM{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Mo(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ch].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>wt(l.doubleValue));return new Vv(a)}convertGeoPoint(e){return new Mv(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const t=bs(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);Xe(VC(r));const i=new Wu(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return i.isEqual(t)||Ri(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gS extends pS{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fM extends gS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(n){n=Qu(n,Zn);const e=Qu(n.firestore,Nv);return YL(aS(e),n._key).then(t=>vM(e,n,t))}class mM extends cM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function vS(n,e,t){n=Qu(n,Zn);const r=Qu(n.firestore,Nv),i=dM(n.converter,e,t);return gM(r,[sM(iM(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ti.none())])}function gM(n,e){return function(r,i){const a=new Is;return r.asyncQueue.enqueueAndForget(async()=>ML(await GL(r),i,a)),a.promise}(aS(n),e)}function vM(n,e,t){const r=t.docs.get(e._key),i=new mM(n);return new gS(n,i,e._key,r,new hM(t.hasPendingWrites,t.fromCache),e.converter)}function yM(){return new jv("serverTimestamp")}(function(e,t=!0){(function(i){hl=i})(Lo),xo(new As("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Nv(new tD(r.getProvider("auth-internal")),new iD(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Br(Pw,kw,e),Br(Pw,kw,"esm2017")})();var TE={};const IE="@firebase/database",CE="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yS="";function _M(n){yS=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Kt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ju(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Di(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wM(e)}}catch{}return new EM},Co=_S("localStorage"),TM=_S("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Yh("@firebase/database"),IM=function(){let n=1;return function(){return n++}}(),wS=function(n){const e=RP(n),t=new TP;t.update(e);const r=t.digest();return Ug.encodeByteArray(r)},fc=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fc.apply(null,r):typeof r=="object"?e+=Kt(r):e+=r,e+=" "}return e};let ku=null,SE=!0;const CM=function(n,e){ce(!0,"Can't turn on custom loggers persistently."),za.logLevel=Me.VERBOSE,ku=za.log.bind(za)},rn=function(...n){if(SE===!0&&(SE=!1,ku===null&&TM.get("logging_enabled")===!0&&CM()),ku){const e=fc.apply(null,n);ku(e)}},pc=function(n){return function(...e){rn(n,...e)}},ag=function(...n){const e="FIREBASE INTERNAL ERROR: "+fc(...n);za.error(e)},Pi=function(...n){const e=`FIREBASE FATAL ERROR: ${fc(...n)}`;throw za.error(e),new Error(e)},Fn=function(...n){const e="FIREBASE WARNING: "+fc(...n);za.warn(e)},SM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ES=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xM=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},el="[MIN_NAME]",ko="[MAX_NAME]",gl=function(n,e){if(n===e)return 0;if(n===el||e===ko)return-1;if(e===el||n===ko)return 1;{const t=xE(n),r=xE(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},RM=function(n,e){return n===e?0:n<e?-1:1},fu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Kt(e))},Uv=function(n){if(typeof n!="object"||n===null)return Kt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Kt(e[r]),t+=":",t+=Uv(n[e[r]]);return t+="}",t},TS=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function tr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const IS=function(n){ce(!ES(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,a,l,c,f;n===0?(a=0,l=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=c+r,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(a=0,l=Math.round(n/Math.pow(2,1-r-t))));const p=[];for(f=t;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(f=e;f;f-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(i?1:0),p.reverse();const g=p.join("");let _="";for(f=0;f<64;f+=8){let T=parseInt(g.substr(f,8),2).toString(16);T.length===1&&(T="0"+T),_=_+T}return _.toLowerCase()},AM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},PM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},kM=new RegExp("^-?(0*)\\d{1,10}$"),bM=-2147483648,NM=2147483647,xE=function(n){if(kM.test(n)){const e=Number(n);if(e>=bM&&e<=NM)return e}return null},mc=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Fn("Exception was thrown by user callback.",t),e},Math.floor(0))}},DM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bu=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Cn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Fn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(rn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fn(e)}}class lh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}lh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="5",CS="v",SS="s",xS="r",RS="f",AS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,PS="ls",kS="p",lg="ac",bS="websocket",NS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,r,i,a=!1,l="",c=!1,f=!1,p=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Co.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Co.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function MM(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function OS(n,e,t){ce(typeof e=="string","typeof type must == string"),ce(typeof t=="object","typeof params must == object");let r;if(e===bS)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===NS)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);MM(n)&&(t.ns=n.namespace);const i=[];return tr(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.counters_={}}incrementCounter(e,t=1){Di(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return rP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm={},gm={};function zv(n){const e=n.toString();return mm[e]||(mm[e]=new VM),mm[e]}function FM(n,e){const t=n.toString();return gm[t]||(gm[t]=e()),gm[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&mc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="start",UM="close",$M="pLPCommand",zM="pRTLPCB",LS="id",MS="pw",VS="ser",BM="cb",WM="seg",HM="ts",qM="d",KM="dframe",FS=1870,jS=30,GM=FS-jS,QM=25e3,YM=3e4;class La{constructor(e,t,r,i,a,l,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pc(e),this.stats_=zv(t),this.urlFn=f=>(this.appCheckToken&&(f[lg]=this.appCheckToken),OS(t,NS,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new jM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YM)),xM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bv((...a)=>{const[l,c,f,p,g]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===RE)this.id=c,this.password=f;else if(l===UM)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,c]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[RE]="t",r[VS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[BM]=this.scriptTagHolder.uniqueCallbackIdentifier),r[CS]=$v,this.transportSessionId&&(r[SS]=this.transportSessionId),this.lastSessionId&&(r[PS]=this.lastSessionId),this.applicationId&&(r[kS]=this.applicationId),this.appCheckToken&&(r[lg]=this.appCheckToken),typeof location<"u"&&location.hostname&&AS.test(location.hostname)&&(r[xS]=RS);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){La.forceAllow_=!0}static forceDisallow(){La.forceDisallow_=!0}static isAvailable(){return La.forceAllow_?!0:!La.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!AM()&&!PM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Kt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=XT(t),i=TS(r,GM);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[KM]="t",r[LS]=e,r[MS]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Kt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Bv{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=IM(),window[$M+this.uniqueCallbackIdentifier]=e,window[zM+this.uniqueCallbackIdentifier]=t,this.myIFrame=Bv.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){rn("frame writing exception"),c.stack&&rn(c.stack),rn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||rn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[LS]=this.myID,e[MS]=this.myPW,e[VS]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jS+r.length<=FS;){const l=this.pendingSegs.shift();r=r+"&"+WM+i+"="+l.seg+"&"+HM+i+"="+l.ts+"&"+qM+i+"="+l.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(QM)),a=()=>{clearTimeout(i),r()};this.addTag(e,a)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{rn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=16384,JM=45e3;let Dh=null;typeof MozWebSocket<"u"?Dh=MozWebSocket:typeof WebSocket<"u"&&(Dh=WebSocket);class wr{constructor(e,t,r,i,a,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pc(this.connId),this.stats_=zv(t),this.connURL=wr.connectionURL_(t,l,c,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,a){const l={};return l[CS]=$v,typeof location<"u"&&location.hostname&&AS.test(location.hostname)&&(l[xS]=RS),t&&(l[SS]=t),r&&(l[PS]=r),i&&(l[lg]=i),a&&(l[kS]=a),OS(e,bS,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Co.set("previous_websocket_failure",!0);try{let r;fP(),this.mySock=new Dh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){wr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Dh!==null&&!wr.forceDisallow_}static previouslyFailed(){return Co.isInMemoryStorage||Co.get("previous_websocket_failure")===!0}markConnectionHealthy(){Co.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=ju(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Kt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=TS(t,XM);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JM))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wr.responsesRequiredToBeHealthy=2;wr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{static get ALL_TRANSPORTS(){return[La,wr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=wr&&wr.isAvailable();let r=t&&!wr.previouslyFailed();if(e.webSocketOnly&&(t||Fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wr];else{const i=this.transports_=[];for(const a of Xu.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Xu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=6e4,e4=5e3,t4=10*1024,n4=100*1024,vm="t",AE="d",r4="s",PE="r",i4="e",kE="o",bE="a",NE="n",DE="p",s4="h";class o4{constructor(e,t,r,i,a,l,c,f,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pc("c:"+this.id+":"),this.transportManager_=new Xu(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=bu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>n4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>t4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(vm in e){const t=e[vm];t===bE?this.upgradeIfSecondaryHealthy_():t===PE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===kE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=fu("t",e),r=fu("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:bE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:NE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=fu("t",e),r=fu("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=fu(vm,e);if(AE in e){const r=e[AE];if(t===s4){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===NE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===r4?this.onConnectionShutdown_(r):t===PE?this.onReset_(r):t===i4?ag("Server Error: "+r):t===kE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ag("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),$v!==r&&Fn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),bu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ZM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(e4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Co.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends $S{static getInstance(){return new Oh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=32,LE=768;class lt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ze(){return new lt("")}function He(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ms(n){return n.pieces_.length-n.pieceNum_}function at(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new lt(n.pieces_,e)}function zS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function a4(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function BS(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function WS(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new lt(e,0)}function Ut(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof lt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new lt(t,0)}function $e(n){return n.pieceNum_>=n.pieces_.length}function Jn(n,e){const t=He(n),r=He(e);if(t===null)return e;if(t===r)return Jn(at(n),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function HS(n,e){if(Ms(n)!==Ms(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Tr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ms(n)>Ms(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class l4{constructor(e,t){this.errorPrefix_=t,this.parts_=BS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qh(this.parts_[r]);qS(this)}}function u4(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Qh(e),qS(n)}function c4(n){const e=n.parts_.pop();n.byteLength_-=Qh(e),n.parts_.length>0&&(n.byteLength_-=1)}function qS(n){if(n.byteLength_>LE)throw new Error(n.errorPrefix_+"has a key path longer than "+LE+" bytes ("+n.byteLength_+").");if(n.parts_.length>OE)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+OE+") or object contains a cycle "+wo(n))}function wo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends $S{static getInstance(){return new Wv}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=1e3,d4=60*5*1e3,ME=30*1e3,h4=1.3,f4=3e4,p4="server_kill",VE=3;class Ii extends US{constructor(e,t,r,i,a,l,c,f){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=f,this.id=Ii.nextPersistentConnectionId_++,this.log_=pc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pu,this.maxReconnectDelay_=d4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Oh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,a={r:i,a:e,b:t};this.log_(Kt(a)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new $g,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),t.promise}listen(e,t,r,i){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},l="q";e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(l,a,c=>{const f=c.d,p=c.s;Ii.warnOnListenWarnings_(f,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),p!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Di(e,"w")){const r=Ha(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();Fn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||EP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ME)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=wP(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const a=i.s,l=i.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const a={p:e},l="n";i&&(a.q=r,a.t=i),this.sendRequest(l,a)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const a={p:t,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,a){this.initConnection_();const l={p:t,d:r};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Kt(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):ag("Unrecognized action received from server: "+Kt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>f4&&(this.reconnectDelay_=pu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*h4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ii.nextConnectionId_++,a=this.lastSessionId;let l=!1,c=null;const f=function(){c?c.close():(l=!0,r())},p=function(_){ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)};this.realtime_={close:f,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,T]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?rn("getToken() completed but was canceled"):(rn("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=T&&T.token,c=new o4(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,S=>{Fn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(p4)},a))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&Fn(_),f())}}}interrupt(e){rn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){rn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lm(this.interruptReasons_)&&(this.reconnectDelay_=pu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(a=>Uv(a)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new lt(e).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(t),a.delete(t),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){rn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=VE&&(this.reconnectDelay_=ME,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){rn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=VE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+yS.replace(/\./g,"-")]=1,zg()?e["framework.cordova"]=1:iI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oh.getInstance().currentlyOnline();return Lm(this.interruptReasons_)&&e}}Ii.nextPersistentConnectionId_=0;Ii.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new qe(el,e),i=new qe(el,t);return this.compare(r,i)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd;class KS extends pf{static get __EMPTY_NODE(){return Hd}static set __EMPTY_NODE(e){Hd=e}compare(e,t){return gl(e.name,t.name)}isDefinedOn(e){throw ul("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(ko,Hd)}makePost(e,t){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,Hd)}toString(){return".key"}}const Ba=new KS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??jt.RED,this.left=i??xn.EMPTY_NODE,this.right=a??xn.EMPTY_NODE}copy(e,t,r,i,a){return new jt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return xn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jt.RED=!0;jt.BLACK=!1;class m4{copy(e,t,r,i,a){return this}insert(e,t,r){return new jt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xn{constructor(e,t=xn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new xn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,jt.BLACK,null,null))}remove(e){return new xn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jt.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new qd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new qd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new qd(this.root_,null,this.comparator_,!0,e)}}xn.EMPTY_NODE=new m4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n,e){return gl(n.name,e.name)}function Hv(n,e){return gl(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug;function v4(n){ug=n}const GS=function(n){return typeof n=="number"?"number:"+IS(n):"string:"+n},QS=function(n){if(n.isLeafNode()){const e=n.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Di(e,".sv"),"Priority must be a string or number.")}else ce(n===ug||n.isEmpty(),"priority of unexpected type.");ce(n===ug||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE;class Vt{static set __childrenNodeConstructor(e){FE=e}static get __childrenNodeConstructor(){return FE}constructor(e,t=Vt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Vt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Vt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:He(e)===".priority"?this.priorityNode_:Vt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Vt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=He(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||Ms(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Vt.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+GS(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=IS(this.value_):e+=this.value_,this.lazyHash_=wS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Vt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Vt.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Vt.VALUE_TYPE_ORDER.indexOf(t),a=Vt.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+t),ce(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Vt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YS,XS;function y4(n){YS=n}function _4(n){XS=n}class w4 extends pf{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return a===0?gl(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(ko,new Vt("[PRIORITY-POST]",XS))}makePost(e,t){const r=YS(e);return new qe(t,new Vt("[PRIORITY-POST]",r))}toString(){return".priority"}}const on=new w4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=Math.log(2);class T4{constructor(e){const t=a=>parseInt(Math.log(a)/E4,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lh=function(n,e,t,r){n.sort(e);const i=function(f,p){const g=p-f;let _,T;if(g===0)return null;if(g===1)return _=n[f],T=t?t(_):_,new jt(T,_.node,jt.BLACK,null,null);{const S=parseInt(g/2,10)+f,A=i(f,S),b=i(S+1,p);return _=n[S],T=t?t(_):_,new jt(T,_.node,jt.BLACK,A,b)}},a=function(f){let p=null,g=null,_=n.length;const T=function(A,b){const x=_-A,F=_;_-=A;const z=i(x+1,F),B=n[x],G=t?t(B):B;S(new jt(G,B.node,b,null,z))},S=function(A){p?(p.left=A,p=A):(g=A,p=A)};for(let A=0;A<f.count;++A){const b=f.nextBitIsOne(),x=Math.pow(2,f.count-(A+1));b?T(x,jt.BLACK):(T(x,jt.BLACK),T(x,jt.RED))}return g},l=new T4(n.length),c=a(l);return new xn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym;const ka={};class _i{static get Default(){return ce(ka&&on,"ChildrenNode.ts has not been loaded"),ym=ym||new _i({".priority":ka},{".priority":on}),ym}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Ha(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof xn?t:null}hasIndex(e){return Di(this.indexSet_,e.toString())}addIndex(e,t){ce(e!==Ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(qe.Wrap);let l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();let c;i?c=Lh(r,e.getCompare()):c=ka;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const g=Object.assign({},this.indexes_);return g[f]=c,new _i(g,p)}addToIndexes(e,t){const r=mh(this.indexes_,(i,a)=>{const l=Ha(this.indexSet_,a);if(ce(l,"Missing index implementation for "+a),i===ka)if(l.isDefinedOn(e.node)){const c=[],f=t.getIterator(qe.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&c.push(p),p=f.getNext();return c.push(e),Lh(c,l.getCompare())}else return ka;else{const c=t.get(e.name);let f=i;return c&&(f=f.remove(new qe(e.name,c))),f.insert(e,e.node)}});return new _i(r,this.indexSet_)}removeFromIndexes(e,t){const r=mh(this.indexes_,i=>{if(i===ka)return i;{const a=t.get(e.name);return a?i.remove(new qe(e.name,a)):i}});return new _i(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;class Ye{static get EMPTY_NODE(){return mu||(mu=new Ye(new xn(Hv),null,_i.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QS(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mu}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?mu:t}}getChild(e){const t=He(e);return t===null?this:this.getImmediateChild(t).getChild(at(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ce(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new qe(e,t);let i,a;t.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?mu:this.priorityNode_;return new Ye(i,l,a)}}updateChild(e,t){const r=He(e);if(r===null)return t;{ce(He(e)!==".priority"||Ms(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(at(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,a=!0;if(this.forEachChild(on,(l,c)=>{t[l]=c.val(e),r++,a&&Ye.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):a=!1}),!e&&a&&i<2*r){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+GS(this.getPriority().val())+":"),this.forEachChild(on,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":wS(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new qe(e,t));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,qe.Wrap);let a=i.peek();for(;a!=null&&t.compare(a,e)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let a=i.peek();for(;a!=null&&t.compare(a,e)>0;)i.getNext(),a=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gc?-1:0}withIndex(e){if(e===Ba||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ba||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(on),i=t.getIterator(on);let a=r.getNext(),l=i.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=r.getNext(),l=i.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Ba?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class I4 extends Ye{constructor(){super(new xn(Hv),Ye.EMPTY_NODE,_i.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const gc=new I4;Object.defineProperties(qe,{MIN:{value:new qe(el,Ye.EMPTY_NODE)},MAX:{value:new qe(ko,gc)}});KS.__EMPTY_NODE=Ye.EMPTY_NODE;Vt.__childrenNodeConstructor=Ye;v4(gc);_4(gc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=!0;function sn(n,e=null){if(n===null)return Ye.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Vt(t,sn(e))}if(!(n instanceof Array)&&C4){const t=[];let r=!1;if(tr(n,(l,c)=>{if(l.substring(0,1)!=="."){const f=sn(c);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),t.push(new qe(l,f)))}}),t.length===0)return Ye.EMPTY_NODE;const a=Lh(t,g4,l=>l.name,Hv);if(r){const l=Lh(t,on.getCompare());return new Ye(a,sn(e),new _i({".priority":l},{".priority":on}))}else return new Ye(a,sn(e),_i.Default)}else{let t=Ye.EMPTY_NODE;return tr(n,(r,i)=>{if(Di(n,r)&&r.substring(0,1)!=="."){const a=sn(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(sn(e))}}y4(sn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4 extends pf{constructor(e){super(),this.indexPath_=e,ce(!$e(e)&&He(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return a===0?gl(e.name,t.name):a}makePost(e,t){const r=sn(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new qe(t,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,gc);return new qe(ko,e)}toString(){return BS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4 extends pf{compare(e,t){const r=e.node.compareTo(t.node);return r===0?gl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const r=sn(e);return new qe(t,r)}toString(){return".value"}}const R4=new x4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(n){return{type:"value",snapshotNode:n}}function P4(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function k4(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function jE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function b4(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=on}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:el}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ko}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===on}copy(){const e=new qv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UE(n){const e={};if(n.isDefault())return e;let t;if(n.index_===on?t="$priority":n.index_===R4?t="$value":n.index_===Ba?t="$key":(ce(n.index_ instanceof S4,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Kt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Kt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Kt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Kt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Kt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function $E(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==on&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends US{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=pc("p:rest:"),this.listens_={}}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=Mh.getListenId_(e,r),c={};this.listens_[l]=c;const f=UE(e._queryParams);this.restRequest_(a+".json",f,(p,g)=>{let _=g;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(a,_,!1,r),Ha(this.listens_,l)===c){let T;p?p===401?T="permission_denied":T="rest_error:"+p:T="ok",i(T,null)}})}unlisten(e,t){const r=Mh.getListenId_(e,t);delete this.listens_[r]}get(e){const t=UE(e._queryParams),r=e._path.toString(),i=new $g;return this.restRequest_(r+".json",t,(a,l)=>{let c=l;a===404&&(c=null,a=null),a===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cl(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let f=null;if(c.status>=200&&c.status<300){try{f=ju(c.responseText)}catch{Fn("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,f)}else c.status!==401&&c.status!==404&&Fn("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){return{value:null,children:new Map}}function JS(n,e,t){if($e(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=He(e);n.children.has(r)||n.children.set(r,Vh());const i=n.children.get(r);e=at(e),JS(i,e,t)}}function cg(n,e,t){n.value!==null?t(e,n.value):D4(n,(r,i)=>{const a=new lt(e.toString()+"/"+r);cg(i,a,t)})}function D4(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&tr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=10*1e3,L4=30*1e3,M4=5*60*1e3;class V4{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new O4(e);const r=zE+(L4-zE)*Math.random();bu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;tr(e,(i,a)=>{a>0&&Di(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),bu(this.reportStats_.bind(this),Math.floor(Math.random()*2*M4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zr||(zr={}));function ZS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function e1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function t1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=zr.ACK_USER_WRITE,this.source=ZS()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new lt(e));return new Fh(Ze(),t,this.revert)}}else return ce(He(this.path)===e,"operationForChild called for unrelated child."),new Fh(at(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=zr.OVERWRITE}operationForChild(e){return $e(this.path)?new bo(this.source,Ze(),this.snap.getImmediateChild(e)):new bo(this.source,at(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=zr.MERGE}operationForChild(e){if($e(this.path)){const t=this.children.subtree(new lt(e));return t.isEmpty()?null:t.value?new bo(this.source,Ze(),t.value):new Ju(this.source,Ze(),t)}else return ce(He(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ju(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const t=He(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function F4(n,e,t,r){const i=[],a=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(b4(l.childName,l.snapshotNode))}),gu(n,i,"child_removed",e,r,t),gu(n,i,"child_added",e,r,t),gu(n,i,"child_moved",a,r,t),gu(n,i,"child_changed",e,r,t),gu(n,i,"value",e,r,t),i}function gu(n,e,t,r,i,a){const l=r.filter(c=>c.type===t);l.sort((c,f)=>U4(n,c,f)),l.forEach(c=>{const f=j4(n,c,a);i.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(f,n.query_))})})}function j4(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function U4(n,e,t){if(e.childName==null||t.childName==null)throw ul("Should only compare child_ events.");const r=new qe(e.childName,e.snapshotNode),i=new qe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n,e){return{eventCache:n,serverCache:e}}function Nu(n,e,t,r){return n1(new Kv(e,t,r),n.serverCache)}function r1(n,e,t,r){return n1(n.eventCache,new Kv(e,t,r))}function dg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function No(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m;const $4=()=>(_m||(_m=new xn(RM)),_m);class ot{static fromObject(e){let t=new ot(null);return tr(e,(r,i)=>{t=t.set(new lt(r),i)}),t}constructor(e,t=$4()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ze(),value:this.value};if($e(e))return null;{const r=He(e),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(at(e),t);return a!=null?{path:Ut(new lt(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const t=He(e),r=this.children.get(t);return r!==null?r.subtree(at(e)):new ot(null)}}set(e,t){if($e(e))return new ot(t,this.children);{const r=He(e),a=(this.children.get(r)||new ot(null)).set(at(e),t),l=this.children.insert(r,a);return new ot(this.value,l)}}remove(e){if($e(e))return this.children.isEmpty()?new ot(null):new ot(null,this.children);{const t=He(e),r=this.children.get(t);if(r){const i=r.remove(at(e));let a;return i.isEmpty()?a=this.children.remove(t):a=this.children.insert(t,i),this.value===null&&a.isEmpty()?new ot(null):new ot(this.value,a)}else return this}}get(e){if($e(e))return this.value;{const t=He(e),r=this.children.get(t);return r?r.get(at(e)):null}}setTree(e,t){if($e(e))return t;{const r=He(e),a=(this.children.get(r)||new ot(null)).setTree(at(e),t);let l;return a.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,a),new ot(this.value,l)}}fold(e){return this.fold_(Ze(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Ut(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ze(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if($e(e))return null;{const a=He(e),l=this.children.get(a);return l?l.findOnPath_(at(e),Ut(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ze(),t)}foreachOnPath_(e,t,r){if($e(e))return this;{this.value&&r(t,this.value);const i=He(e),a=this.children.get(i);return a?a.foreachOnPath_(at(e),Ut(t,i),r):new ot(null)}}foreach(e){this.foreach_(Ze(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ut(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.writeTree_=e}static empty(){return new Cr(new ot(null))}}function Du(n,e,t){if($e(e))return new Cr(new ot(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let a=r.value;const l=Jn(i,e);return a=a.updateChild(l,t),new Cr(n.writeTree_.set(i,a))}else{const i=new ot(t),a=n.writeTree_.setTree(e,i);return new Cr(a)}}}function BE(n,e,t){let r=n;return tr(t,(i,a)=>{r=Du(r,Ut(e,i),a)}),r}function WE(n,e){if($e(e))return Cr.empty();{const t=n.writeTree_.setTree(e,new ot(null));return new Cr(t)}}function hg(n,e){return Uo(n,e)!=null}function Uo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Jn(t.path,e)):null}function HE(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(on,(r,i)=>{e.push(new qe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new qe(r,i.value))}),e}function Ss(n,e){if($e(e))return n;{const t=Uo(n,e);return t!=null?new Cr(new ot(t)):new Cr(n.writeTree_.subtree(e))}}function fg(n){return n.writeTree_.isEmpty()}function tl(n,e){return i1(Ze(),n.writeTree_,e)}function i1(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{i===".priority"?(ce(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):t=i1(Ut(n,i),a,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Ut(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e){return c1(e,n)}function z4(n,e,t,r,i){ce(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Du(n.visibleWrites,e,t)),n.lastWriteId=r}function B4(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function W4(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ce(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&H4(c,r.path)?i=!1:Tr(r.path,c.path)&&(a=!0)),l--}if(i){if(a)return q4(n),!0;if(r.snap)n.visibleWrites=WE(n.visibleWrites,r.path);else{const c=r.children;tr(c,f=>{n.visibleWrites=WE(n.visibleWrites,Ut(r.path,f))})}return!0}else return!1}function H4(n,e){if(n.snap)return Tr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Tr(Ut(n.path,t),e))return!0;return!1}function q4(n){n.visibleWrites=o1(n.allWrites,K4,Ze()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function K4(n){return n.visible}function o1(n,e,t){let r=Cr.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let c;if(a.snap)Tr(t,l)?(c=Jn(t,l),r=Du(r,c,a.snap)):Tr(l,t)&&(c=Jn(l,t),r=Du(r,Ze(),a.snap.getChild(c)));else if(a.children){if(Tr(t,l))c=Jn(t,l),r=BE(r,c,a.children);else if(Tr(l,t))if(c=Jn(l,t),$e(c))r=BE(r,Ze(),a.children);else{const f=Ha(a.children,He(c));if(f){const p=f.getChild(at(c));r=Du(r,Ze(),p)}}}else throw ul("WriteRecord should have .snap or .children")}}return r}function a1(n,e,t,r,i){if(!r&&!i){const a=Uo(n.visibleWrites,e);if(a!=null)return a;{const l=Ss(n.visibleWrites,e);if(fg(l))return t;if(t==null&&!hg(l,Ze()))return null;{const c=t||Ye.EMPTY_NODE;return tl(l,c)}}}else{const a=Ss(n.visibleWrites,e);if(!i&&fg(a))return t;if(!i&&t==null&&!hg(a,Ze()))return null;{const l=function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(Tr(p.path,e)||Tr(e,p.path))},c=o1(n.allWrites,l,e),f=t||Ye.EMPTY_NODE;return tl(c,f)}}}function G4(n,e,t){let r=Ye.EMPTY_NODE;const i=Uo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(on,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=Ss(n.visibleWrites,e);return t.forEachChild(on,(l,c)=>{const f=tl(Ss(a,new lt(l)),c);r=r.updateImmediateChild(l,f)}),HE(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const a=Ss(n.visibleWrites,e);return HE(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function Q4(n,e,t,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Ut(e,t);if(hg(n.visibleWrites,a))return null;{const l=Ss(n.visibleWrites,a);return fg(l)?i.getChild(t):tl(l,i.getChild(t))}}function Y4(n,e,t,r){const i=Ut(e,t),a=Uo(n.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(t)){const l=Ss(n.visibleWrites,i);return tl(l,r.getNode().getImmediateChild(t))}else return null}function X4(n,e){return Uo(n.visibleWrites,e)}function J4(n,e,t,r,i,a,l){let c;const f=Ss(n.visibleWrites,e),p=Uo(f,Ze());if(p!=null)c=p;else if(t!=null)c=tl(f,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],_=l.getCompare(),T=a?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let S=T.getNext();for(;S&&g.length<i;)_(S,r)!==0&&g.push(S),S=T.getNext();return g}else return[]}function Z4(){return{visibleWrites:Cr.empty(),allWrites:[],lastWriteId:-1}}function pg(n,e,t,r){return a1(n.writeTree,n.treePath,e,t,r)}function l1(n,e){return G4(n.writeTree,n.treePath,e)}function qE(n,e,t,r){return Q4(n.writeTree,n.treePath,e,t,r)}function jh(n,e){return X4(n.writeTree,Ut(n.treePath,e))}function eV(n,e,t,r,i,a){return J4(n.writeTree,n.treePath,e,t,r,i,a)}function Gv(n,e,t){return Y4(n.writeTree,n.treePath,e,t)}function u1(n,e){return c1(Ut(n.treePath,e),n.writeTree)}function c1(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ce(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(t==="child_added"&&a==="child_removed")this.changeMap.set(r,jE(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&a==="child_changed")this.changeMap.set(r,k4(r,i.oldSnap));else if(t==="child_changed"&&a==="child_added")this.changeMap.set(r,P4(r,e.snapshotNode));else if(t==="child_changed"&&a==="child_changed")this.changeMap.set(r,jE(r,e.snapshotNode,i.oldSnap));else throw ul("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const d1=new nV;class Qv{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Kv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gv(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:No(this.viewCache_),a=eV(this.writes_,i,t,1,r,e);return a.length===0?null:a[0]}}function rV(n,e){ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function iV(n,e,t,r,i){const a=new tV;let l,c;if(t.type===zr.OVERWRITE){const p=t;p.source.fromUser?l=mg(n,e,p.path,p.snap,r,i,a):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!$e(p.path),l=Uh(n,e,p.path,p.snap,r,i,c,a))}else if(t.type===zr.MERGE){const p=t;p.source.fromUser?l=oV(n,e,p.path,p.children,r,i,a):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),l=gg(n,e,p.path,p.children,r,i,c,a))}else if(t.type===zr.ACK_USER_WRITE){const p=t;p.revert?l=uV(n,e,p.path,r,i,a):l=aV(n,e,p.path,p.affectedTree,r,i,a)}else if(t.type===zr.LISTEN_COMPLETE)l=lV(n,e,t.path,r,a);else throw ul("Unknown operation type: "+t.type);const f=a.getChanges();return sV(e,l,f),{viewCache:l,changes:f}}function sV(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=dg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(A4(dg(e)))}}function h1(n,e,t,r,i,a){const l=e.eventCache;if(jh(r,t)!=null)return e;{let c,f;if($e(t))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=No(e),g=p instanceof Ye?p:Ye.EMPTY_NODE,_=l1(r,g);c=n.filter.updateFullNode(e.eventCache.getNode(),_,a)}else{const p=pg(r,No(e));c=n.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=He(t);if(p===".priority"){ce(Ms(t)===1,"Can't have a priority with additional path components");const g=l.getNode();f=e.serverCache.getNode();const _=qE(r,t,g,f);_!=null?c=n.filter.updatePriority(g,_):c=l.getNode()}else{const g=at(t);let _;if(l.isCompleteForChild(p)){f=e.serverCache.getNode();const T=qE(r,t,l.getNode(),f);T!=null?_=l.getNode().getImmediateChild(p).updateChild(g,T):_=l.getNode().getImmediateChild(p)}else _=Gv(r,p,e.serverCache);_!=null?c=n.filter.updateChild(l.getNode(),p,_,g,i,a):c=l.getNode()}}return Nu(e,c,l.isFullyInitialized()||$e(t),n.filter.filtersNodes())}}function Uh(n,e,t,r,i,a,l,c){const f=e.serverCache;let p;const g=l?n.filter:n.filter.getIndexedFilter();if($e(t))p=g.updateFullNode(f.getNode(),r,null);else if(g.filtersNodes()&&!f.isFiltered()){const S=f.getNode().updateChild(t,r);p=g.updateFullNode(f.getNode(),S,null)}else{const S=He(t);if(!f.isCompleteForPath(t)&&Ms(t)>1)return e;const A=at(t),x=f.getNode().getImmediateChild(S).updateChild(A,r);S===".priority"?p=g.updatePriority(f.getNode(),x):p=g.updateChild(f.getNode(),S,x,A,d1,null)}const _=r1(e,p,f.isFullyInitialized()||$e(t),g.filtersNodes()),T=new Qv(i,_,a);return h1(n,_,t,i,T,c)}function mg(n,e,t,r,i,a,l){const c=e.eventCache;let f,p;const g=new Qv(i,e,a);if($e(t))p=n.filter.updateFullNode(e.eventCache.getNode(),r,l),f=Nu(e,p,!0,n.filter.filtersNodes());else{const _=He(t);if(_===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),r),f=Nu(e,p,c.isFullyInitialized(),c.isFiltered());else{const T=at(t),S=c.getNode().getImmediateChild(_);let A;if($e(T))A=r;else{const b=g.getCompleteChild(_);b!=null?zS(T)===".priority"&&b.getChild(WS(T)).isEmpty()?A=b:A=b.updateChild(T,r):A=Ye.EMPTY_NODE}if(S.equals(A))f=e;else{const b=n.filter.updateChild(c.getNode(),_,A,T,g,l);f=Nu(e,b,c.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function KE(n,e){return n.eventCache.isCompleteForChild(e)}function oV(n,e,t,r,i,a,l){let c=e;return r.foreach((f,p)=>{const g=Ut(t,f);KE(e,He(g))&&(c=mg(n,c,g,p,i,a,l))}),r.foreach((f,p)=>{const g=Ut(t,f);KE(e,He(g))||(c=mg(n,c,g,p,i,a,l))}),c}function GE(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function gg(n,e,t,r,i,a,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;$e(t)?p=r:p=new ot(null).setTree(t,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((_,T)=>{if(g.hasChild(_)){const S=e.serverCache.getNode().getImmediateChild(_),A=GE(n,S,T);f=Uh(n,f,new lt(_),A,i,a,l,c)}}),p.children.inorderTraversal((_,T)=>{const S=!e.serverCache.isCompleteForChild(_)&&T.value===null;if(!g.hasChild(_)&&!S){const A=e.serverCache.getNode().getImmediateChild(_),b=GE(n,A,T);f=Uh(n,f,new lt(_),b,i,a,l,c)}}),f}function aV(n,e,t,r,i,a,l){if(jh(i,t)!=null)return e;const c=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if($e(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return Uh(n,e,t,f.getNode().getChild(t),i,a,c,l);if($e(t)){let p=new ot(null);return f.getNode().forEachChild(Ba,(g,_)=>{p=p.set(new lt(g),_)}),gg(n,e,t,p,i,a,c,l)}else return e}else{let p=new ot(null);return r.foreach((g,_)=>{const T=Ut(t,g);f.isCompleteForPath(T)&&(p=p.set(g,f.getNode().getChild(T)))}),gg(n,e,t,p,i,a,c,l)}}function lV(n,e,t,r,i){const a=e.serverCache,l=r1(e,a.getNode(),a.isFullyInitialized()||$e(t),a.isFiltered());return h1(n,l,t,r,d1,i)}function uV(n,e,t,r,i,a){let l;if(jh(r,t)!=null)return e;{const c=new Qv(r,e,i),f=e.eventCache.getNode();let p;if($e(t)||He(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=pg(r,No(e));else{const _=e.serverCache.getNode();ce(_ instanceof Ye,"serverChildren would be complete if leaf node"),g=l1(r,_)}g=g,p=n.filter.updateFullNode(f,g,a)}else{const g=He(t);let _=Gv(r,g,e.serverCache);_==null&&e.serverCache.isCompleteForChild(g)&&(_=f.getImmediateChild(g)),_!=null?p=n.filter.updateChild(f,g,_,at(t),c,a):e.eventCache.getNode().hasChild(g)?p=n.filter.updateChild(f,g,Ye.EMPTY_NODE,at(t),c,a):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=pg(r,No(e)),l.isLeafNode()&&(p=n.filter.updateFullNode(p,l,a)))}return l=e.serverCache.isFullyInitialized()||jh(r,Ze())!=null,Nu(e,p,l,n.filter.filtersNodes())}}function cV(n,e){const t=No(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!$e(e)&&!t.getImmediateChild(He(e)).isEmpty())?t.getChild(e):null}function QE(n,e,t,r){e.type===zr.MERGE&&e.source.queryId!==null&&(ce(No(n.viewCache_),"We should always have a full cache before handling merges"),ce(dg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=iV(n.processor_,i,e,t,r);return rV(n.processor_,a.viewCache),ce(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,dV(n,a.changes,a.viewCache.eventCache.getNode())}function dV(n,e,t,r){const i=n.eventRegistrations_;return F4(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YE;function hV(n){ce(!YE,"__referenceConstructor has already been defined"),YE=n}function Yv(n,e,t,r){const i=e.source.queryId;if(i!==null){const a=n.views.get(i);return ce(a!=null,"SyncTree gave us an op for an invalid query."),QE(a,e,t,r)}else{let a=[];for(const l of n.views.values())a=a.concat(QE(l,e,t,r));return a}}function Xv(n,e){let t=null;for(const r of n.views.values())t=t||cV(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE;function fV(n){ce(!XE,"__referenceConstructor has already been defined"),XE=n}class JE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ot(null),this.pendingWriteTree_=Z4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pV(n,e,t,r,i){return z4(n.pendingWriteTree_,e,t,r,i),i?gf(n,new bo(ZS(),e,t)):[]}function Ma(n,e,t=!1){const r=B4(n.pendingWriteTree_,e);if(W4(n.pendingWriteTree_,e)){let a=new ot(null);return r.snap!=null?a=a.set(Ze(),!0):tr(r.children,l=>{a=a.set(new lt(l),!0)}),gf(n,new Fh(r.path,a,t))}else return[]}function mf(n,e,t){return gf(n,new bo(e1(),e,t))}function mV(n,e,t){const r=ot.fromObject(t);return gf(n,new Ju(e1(),e,r))}function gV(n,e,t,r){const i=g1(n,r);if(i!=null){const a=v1(i),l=a.path,c=a.queryId,f=Jn(l,e),p=new bo(t1(c),f,t);return y1(n,l,p)}else return[]}function vV(n,e,t,r){const i=g1(n,r);if(i){const a=v1(i),l=a.path,c=a.queryId,f=Jn(l,e),p=ot.fromObject(t),g=new Ju(t1(c),f,p);return y1(n,l,g)}else return[]}function f1(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,c)=>{const f=Jn(l,e),p=Xv(c,f);if(p)return p});return a1(i,e,a,t,!0)}function gf(n,e){return p1(e,n.syncPointTree_,null,s1(n.pendingWriteTree_,Ze()))}function p1(n,e,t,r){if($e(n.path))return m1(n,e,t,r);{const i=e.get(Ze());t==null&&i!=null&&(t=Xv(i,Ze()));let a=[];const l=He(n.path),c=n.operationForChild(l),f=e.children.get(l);if(f&&c){const p=t?t.getImmediateChild(l):null,g=u1(r,l);a=a.concat(p1(c,f,p,g))}return i&&(a=a.concat(Yv(i,n,r,t))),a}}function m1(n,e,t,r){const i=e.get(Ze());t==null&&i!=null&&(t=Xv(i,Ze()));let a=[];return e.children.inorderTraversal((l,c)=>{const f=t?t.getImmediateChild(l):null,p=u1(r,l),g=n.operationForChild(l);g&&(a=a.concat(m1(g,c,f,p)))}),i&&(a=a.concat(Yv(i,n,r,t))),a}function g1(n,e){return n.tagToQueryMap.get(e)}function v1(n){const e=n.indexOf("$");return ce(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new lt(n.substr(0,e))}}function y1(n,e,t){const r=n.syncPointTree_.get(e);ce(r,"Missing sync point for query tag that we're tracking");const i=s1(n.pendingWriteTree_,e);return Yv(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Jv(t)}node(){return this.node_}}class Zv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ut(this.path_,e);return new Zv(this.syncTree_,t)}node(){return f1(this.syncTree_,this.path_)}}const yV=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},ZE=function(n,e,t){if(!n||typeof n!="object")return n;if(ce(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return _V(n[".sv"],e,t);if(typeof n[".sv"]=="object")return wV(n[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},_V=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ce(!1,"Unexpected server value: "+n)}},wV=function(n,e,t){n.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},EV=function(n,e,t,r){return ey(e,new Zv(t,n),r)},TV=function(n,e,t){return ey(n,new Jv(e),t)};function ey(n,e,t){const r=n.getPriority().val(),i=ZE(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,c=ZE(l.getValue(),e,t);return c!==l.getValue()||i!==l.getPriority().val()?new Vt(c,sn(i)):n}else{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new Vt(i))),l.forEachChild(on,(c,f)=>{const p=ey(f,e.getImmediateChild(c),t);p!==f&&(a=a.updateImmediateChild(c,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function ny(n,e){let t=e instanceof lt?e:new lt(e),r=n,i=He(t);for(;i!==null;){const a=Ha(r.node.children,i)||{children:{},childCount:0};r=new ty(i,r,a),t=at(t),i=He(t)}return r}function vl(n){return n.node.value}function _1(n,e){n.node.value=e,vg(n)}function w1(n){return n.node.childCount>0}function IV(n){return vl(n)===void 0&&!w1(n)}function vf(n,e){tr(n.node.children,(t,r)=>{e(new ty(t,n,r))})}function E1(n,e,t,r){t&&e(n),vf(n,i=>{E1(i,e,!0)})}function CV(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vc(n){return new lt(n.parent===null?n.name:vc(n.parent)+"/"+n.name)}function vg(n){n.parent!==null&&SV(n.parent,n.name,n)}function SV(n,e,t){const r=IV(t),i=Di(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,vg(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,vg(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/[\[\].#$\/\u0000-\u001F\u007F]/,RV=/[\[\].#$\u0000-\u001F\u007F]/,wm=10*1024*1024,T1=function(n){return typeof n=="string"&&n.length!==0&&!xV.test(n)},AV=function(n){return typeof n=="string"&&n.length!==0&&!RV.test(n)},PV=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),AV(n)},I1=function(n,e,t){const r=t instanceof lt?new l4(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+wo(r));if(typeof e=="function")throw new Error(n+"contains a function "+wo(r)+" with contents = "+e.toString());if(ES(e))throw new Error(n+"contains "+e.toString()+" "+wo(r));if(typeof e=="string"&&e.length>wm/3&&Qh(e)>wm)throw new Error(n+"contains a string greater than "+wm+" utf8 bytes "+wo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,a=!1;if(tr(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!T1(l)))throw new Error(n+" contains an invalid key ("+l+") "+wo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);u4(r,l),I1(n,c,r),c4(r)}),i&&a)throw new Error(n+' contains ".value" child '+wo(r)+" in addition to actual children.")}},kV=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!T1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!PV(t))throw new Error(xP(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function NV(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();t!==null&&!HS(a,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)}function $o(n,e,t){NV(n,t),DV(n,r=>Tr(r,e)||Tr(e,r))}function DV(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const a=i.path;e(a)?(OV(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function OV(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();ku&&rn("event: "+t.toString()),mc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="repo_interrupt",MV=25;class VV{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vh(),this.transactionQueueTree_=new ty,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FV(n,e,t){if(n.stats_=zv(n.repoInfo_),n.forceRestClient_||DM())n.server_=new Mh(n.repoInfo_,(r,i,a,l)=>{eT(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>tT(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ii(n.repoInfo_,e,(r,i,a,l)=>{eT(n,r,i,a,l)},r=>{tT(n,r)},r=>{UV(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=FM(n.repoInfo_,()=>new V4(n.stats_,n.server_)),n.infoData_=new N4,n.infoSyncTree_=new JE({startListening:(r,i,a,l)=>{let c=[];const f=n.infoData_.getNode(r._path);return f.isEmpty()||(c=mf(n.infoSyncTree_,r._path,f),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),ry(n,"connected",!1),n.serverSyncTree_=new JE({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(c,f)=>{const p=l(c,f);$o(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function jV(n){const t=n.infoData_.getNode(new lt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function C1(n){return yV({timestamp:jV(n)})}function eT(n,e,t,r,i){n.dataUpdateCount++;const a=new lt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const f=mh(t,p=>sn(p));l=vV(n.serverSyncTree_,a,f,i)}else{const f=sn(t);l=gV(n.serverSyncTree_,a,f,i)}else if(r){const f=mh(t,p=>sn(p));l=mV(n.serverSyncTree_,a,f)}else{const f=sn(t);l=mf(n.serverSyncTree_,a,f)}let c=a;l.length>0&&(c=sy(n,a)),$o(n.eventQueue_,c,l)}function tT(n,e){ry(n,"connected",e),e===!1&&zV(n)}function UV(n,e){tr(e,(t,r)=>{ry(n,t,r)})}function ry(n,e,t){const r=new lt("/.info/"+e),i=sn(t);n.infoData_.updateSnapshot(r,i);const a=mf(n.infoSyncTree_,r,i);$o(n.eventQueue_,r,a)}function $V(n){return n.nextWriteId_++}function zV(n){S1(n,"onDisconnectEvents");const e=C1(n),t=Vh();cg(n.onDisconnect_,Ze(),(i,a)=>{const l=EV(i,a,n.serverSyncTree_,e);JS(t,i,l)});let r=[];cg(t,Ze(),(i,a)=>{r=r.concat(mf(n.serverSyncTree_,i,a));const l=qV(n,i);sy(n,l)}),n.onDisconnect_=Vh(),$o(n.eventQueue_,Ze(),r)}function BV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(LV)}function S1(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),rn(t,...e)}function x1(n,e,t){return f1(n.serverSyncTree_,e,t)||Ye.EMPTY_NODE}function iy(n,e=n.transactionQueueTree_){if(e||yf(n,e),vl(e)){const t=A1(n,e);ce(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&WV(n,vc(e),t)}else w1(e)&&vf(e,t=>{iy(n,t)})}function WV(n,e,t){const r=t.map(p=>p.currentWriteId),i=x1(n,e,r);let a=i;const l=i.hash();for(let p=0;p<t.length;p++){const g=t[p];ce(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=Jn(e,g.path);a=a.updateChild(_,g.currentOutputSnapshotRaw)}const c=a.val(!0),f=e;n.server_.put(f.toString(),c,p=>{S1(n,"transaction put response",{path:f.toString(),status:p});let g=[];if(p==="ok"){const _=[];for(let T=0;T<t.length;T++)t[T].status=2,g=g.concat(Ma(n.serverSyncTree_,t[T].currentWriteId)),t[T].onComplete&&_.push(()=>t[T].onComplete(null,!0,t[T].currentOutputSnapshotResolved)),t[T].unwatcher();yf(n,ny(n.transactionQueueTree_,e)),iy(n,n.transactionQueueTree_),$o(n.eventQueue_,e,g);for(let T=0;T<_.length;T++)mc(_[T])}else{if(p==="datastale")for(let _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{Fn("transaction at "+f.toString()+" failed: "+p);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=p}sy(n,e)}},l)}function sy(n,e){const t=R1(n,e),r=vc(t),i=A1(n,t);return HV(n,i,r),r}function HV(n,e,t){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const f=e[c],p=Jn(t,f.path);let g=!1,_;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,_=f.abortReason,i=i.concat(Ma(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=MV)g=!0,_="maxretry",i=i.concat(Ma(n.serverSyncTree_,f.currentWriteId,!0));else{const T=x1(n,f.path,l);f.currentInputSnapshot=T;const S=e[c].update(T.val());if(S!==void 0){I1("transaction failed: Data returned ",S,f.path);let A=sn(S);typeof S=="object"&&S!=null&&Di(S,".priority")||(A=A.updatePriority(T.getPriority()));const x=f.currentWriteId,F=C1(n),z=TV(A,T,F);f.currentOutputSnapshotRaw=A,f.currentOutputSnapshotResolved=z,f.currentWriteId=$V(n),l.splice(l.indexOf(x),1),i=i.concat(pV(n.serverSyncTree_,f.path,z,f.currentWriteId,f.applyLocally)),i=i.concat(Ma(n.serverSyncTree_,x,!0))}else g=!0,_="nodata",i=i.concat(Ma(n.serverSyncTree_,f.currentWriteId,!0))}$o(n.eventQueue_,t,i),i=[],g&&(e[c].status=2,function(T){setTimeout(T,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(_==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(_),!1,null))))}yf(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)mc(r[c]);iy(n,n.transactionQueueTree_)}function R1(n,e){let t,r=n.transactionQueueTree_;for(t=He(e);t!==null&&vl(r)===void 0;)r=ny(r,t),e=at(e),t=He(e);return r}function A1(n,e){const t=[];return P1(n,e,t),t.sort((r,i)=>r.order-i.order),t}function P1(n,e,t){const r=vl(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);vf(e,i=>{P1(n,i,t)})}function yf(n,e){const t=vl(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,_1(e,t.length>0?t:void 0)}vf(e,r=>{yf(n,r)})}function qV(n,e){const t=vc(R1(n,e)),r=ny(n.transactionQueueTree_,e);return CV(r,i=>{Em(n,i)}),Em(n,r),E1(r,i=>{Em(n,i)}),t}function Em(n,e){const t=vl(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ce(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):(ce(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(Ma(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?_1(e,void 0):t.length=a+1,$o(n.eventQueue_,vc(e),i);for(let l=0;l<r.length;l++)mc(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function GV(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Fn(`Invalid query segment '${t}' in query '${n}'`)}return e}const nT=function(n,e){const t=QV(n),r=t.namespace;t.domain==="firebase.com"&&Pi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||SM();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new DS(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new lt(t.pathString)}},QV=function(n){let e="",t="",r="",i="",a="",l=!0,c="https",f=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");g===-1&&(g=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(g,_)),g<_&&(i=KV(n.substring(g,_)));const T=GV(n.substring(Math.min(n.length,_)));p=e.indexOf(":"),p>=0?(l=c==="https"||c==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")t="localhost";else if(S.split(".").length<=2)t=S;else{const A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),t=e.substring(A+1),a=r}"ns"in T&&(a=T.ns)}return{host:e,port:f,domain:t,subdomain:r,secure:l,scheme:c,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:zS(this._path)}get ref(){return new yl(this._repo,this._path)}get _queryIdentifier(){const e=$E(this._queryParams),t=Uv(e);return t==="{}"?"default":t}get _queryObject(){return $E(this._queryParams)}isEqual(e){if(e=fn(e),!(e instanceof oy))return!1;const t=this._repo===e._repo,r=HS(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+a4(this._path)}}class yl extends oy{constructor(e,t){super(e,t,new qv,!1)}get parent(){const e=WS(this._path);return e===null?null:new yl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}hV(yl);fV(yl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="FIREBASE_DATABASE_EMULATOR_HOST",yg={};let XV=!1;function JV(n,e,t,r){n.repoInfo_=new DS(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function ZV(n,e,t,r,i){let a=r||n.options.databaseURL;a===void 0&&(n.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rn("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=nT(a,i),c=l.repoInfo,f;typeof process<"u"&&TE&&(f=TE[YV]),f?(a=`http://${f}?ns=${c.namespace}`,l=nT(a,i),c=l.repoInfo):l.repoInfo.secure;const p=new LM(n.name,n.options,e);kV("Invalid Firebase Database URL",l),$e(l.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=t3(c,n,p,new OM(n,t));return new n3(g,n)}function e3(n,e){const t=yg[e];(!t||t[n.key]!==n)&&Pi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),BV(n),delete t[n.key]}function t3(n,e,t,r){let i=yg[e.name];i||(i={},yg[e.name]=i);let a=i[n.toURLString()];return a&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new VV(n,XV,t,r),i[n.toURLString()]=a,a}class n3{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(FV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yl(this._repo,Ze())),this._rootInternal}_delete(){return this._rootInternal!==null&&(e3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pi("Cannot call "+e+" on a deleted database.")}}function r3(n=Wg(),e){const t=Xh(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=eI("database");r&&i3(t,...r)}return t}function i3(n,e,t,r={}){n=fn(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,a=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&Rs(r,a.repoInfo_.emulatorOptions))return;Pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new lh(lh.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:rI(r.mockUserToken,n.app.options.projectId);l=new lh(c)}JV(a,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(n){_M(Lo),xo(new As("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return ZV(r,i,a,t)},"PUBLIC").setMultipleInstances(!0)),Br(IE,CE,n),Br(IE,CE,"esm2017")}Ii.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Ii.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};s3();const k1=async(n,e,t,r,i)=>{const a=Dv();await vS(bv(a,"users",n),{displayName:`${e} ${t}`,firstName:e,lastName:t,email:r,phoneNumber:i,createdAt:new Date})},b1={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-userdb.firebaseio.com"};console.log("FIREBASE CONFIG:",b1);const ay=lI(b1),yc=rv(ay);new $r;const o3=Dv(ay);JN("debug");async function a3(n,e={}){const t=bv(o3,"users",n.uid),r={email:n.email,displayName:n.displayName||e.displayName||"New User",photoURL:n.photoURL||"",firstName:e.firstName||"",lastName:e.lastName||"",createdAt:e.createdAt||yM()};try{console.log("Attempting to write user profile for:",n.uid),await vS(t,r,{merge:!0}),console.log("User document created/updated succesfully")}catch(i){console.error(`Error creating/updating user document ${n.uid}`,i)}}ev(yc,async n=>{n!=null?(console.log("logged in!"),await a3(n)):console.log("No user")});const N1=hn.createContext();function _f(){return C.useContext(N1)}function l3({children:n}){const[e,t]=C.useState(null),[r,i]=C.useState(!1),[a,l]=C.useState(!0),[c,f]=C.useState(!1),[p,g]=C.useState(!1),[_,T]=C.useState(!1),S={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:p,loading:a,redirectAfterAuth:_,setRedirectAfterAuth:T};return C.useEffect(()=>{const A=rv(),b=ev(A,x=>{var F;if(t(x),i(!!x),x){const z=(F=x.providerData[0])==null?void 0:F.providerId;f(z==="password"),g(z==="google.com")}else f(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLogggedIn =",r)});return()=>b}),E.jsx(N1.Provider,{value:S,children:!a&&n})}const u3=async(n,e)=>Db(yc,n,e),c3=(n,e)=>Ob(yc,n,e),d3=async()=>{var t;const n=rv(),e=new $r;try{const r=await iN(n,e),i=(t=r==null?void 0:r.additionalUserInfo)==null?void 0:t.isNewUser,a=r.user;return i?(console.log("New user signed up with Google:",r.user),await k1(a.uid,a.displayname||"Google User",a.email,a.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},ly=()=>yc.signOut();var Tm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rT;function h3(){return rT||(rT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Tm)),Tm.exports}var f3=h3();const Nt=Hh(f3);var p3=Function.prototype.bind.call(Function.prototype.call,[].slice);function iT(n,e){return p3(n.querySelectorAll(e))}const D1=!!(typeof window<"u"&&window.document&&window.document.createElement);var _g=!1,wg=!1;try{var Im={get passive(){return _g=!0},get once(){return wg=_g=!0}};D1&&(window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,!0))}catch{}function O1(n,e,t,r){if(r&&typeof r!="boolean"&&!wg){var i=r.once,a=r.capture,l=t;!wg&&i&&(l=t.__once||function c(f){this.removeEventListener(e,c,a),t.call(this,f)},t.__once=l),n.addEventListener(e,l,_g?r:a)}n.addEventListener(e,t,r)}function m3(n,e,t){const r=C.useRef(n!==void 0),[i,a]=C.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,C.useCallback((...f)=>{const[p,...g]=f;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function g3(n){const e=C.useRef(null);return C.useEffect(()=>{e.current=n}),e.current}function v3(){const[,n]=C.useReducer(e=>e+1,0);return n}function y3(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function xs(n){const e=y3(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function _3(n,e,t,r=!1){const i=xs(t);C.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}const wf=C.createContext(null);function w3(){return C.useState(null)}var sT=Object.prototype.hasOwnProperty;function oT(n,e,t){for(t of n.keys())if(Ou(t,e))return t}function Ou(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Ou(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=oT(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=oT(e,i),!i)||!Ou(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(sT.call(n,t)&&++r&&!sT.call(e,t)||!(t in e)||!Ou(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function E3(){const n=C.useRef(!0),e=C.useRef(()=>n.current);return C.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function T3(n){const e=E3();return[n[0],C.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Rn="top",nr="bottom",rr="right",An="left",uy="auto",_c=[Rn,nr,rr,An],nl="start",Zu="end",I3="clippingParents",L1="viewport",vu="popper",C3="reference",aT=_c.reduce(function(n,e){return n.concat([e+"-"+nl,e+"-"+Zu])},[]),M1=[].concat(_c,[uy]).reduce(function(n,e){return n.concat([e,e+"-"+nl,e+"-"+Zu])},[]),S3="beforeRead",x3="read",R3="afterRead",A3="beforeMain",P3="main",k3="afterMain",b3="beforeWrite",N3="write",D3="afterWrite",O3=[S3,x3,R3,A3,P3,k3,b3,N3,D3];function Kr(n){return n.split("-")[0]}function jn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Do(n){var e=jn(n).Element;return n instanceof e||n instanceof Element}function Gr(n){var e=jn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function cy(n){if(typeof ShadowRoot>"u")return!1;var e=jn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var So=Math.max,$h=Math.min,rl=Math.round;function Eg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function V1(){return!/^((?!chrome|android).)*safari/i.test(Eg())}function il(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&Gr(n)&&(i=n.offsetWidth>0&&rl(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&rl(r.height)/n.offsetHeight||1);var l=Do(n)?jn(n):window,c=l.visualViewport,f=!V1()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/i,g=(r.top+(f&&c?c.offsetTop:0))/a,_=r.width/i,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function dy(n){var e=il(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function F1(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&cy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vs(n){return n?(n.nodeName||"").toLowerCase():null}function ki(n){return jn(n).getComputedStyle(n)}function L3(n){return["table","td","th"].indexOf(Vs(n))>=0}function zs(n){return((Do(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ef(n){return Vs(n)==="html"?n:n.assignedSlot||n.parentNode||(cy(n)?n.host:null)||zs(n)}function lT(n){return!Gr(n)||ki(n).position==="fixed"?null:n.offsetParent}function M3(n){var e=/firefox/i.test(Eg()),t=/Trident/i.test(Eg());if(t&&Gr(n)){var r=ki(n);if(r.position==="fixed")return null}var i=Ef(n);for(cy(i)&&(i=i.host);Gr(i)&&["html","body"].indexOf(Vs(i))<0;){var a=ki(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function wc(n){for(var e=jn(n),t=lT(n);t&&L3(t)&&ki(t).position==="static";)t=lT(t);return t&&(Vs(t)==="html"||Vs(t)==="body"&&ki(t).position==="static")?e:t||M3(n)||e}function hy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Lu(n,e,t){return So(n,$h(e,t))}function V3(n,e,t){var r=Lu(n,e,t);return r>t?t:r}function j1(){return{top:0,right:0,bottom:0,left:0}}function U1(n){return Object.assign({},j1(),n)}function $1(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var F3=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,U1(typeof e!="number"?e:$1(e,_c))};function j3(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,c=Kr(t.placement),f=hy(c),p=[An,rr].indexOf(c)>=0,g=p?"height":"width";if(!(!a||!l)){var _=F3(i.padding,t),T=dy(a),S=f==="y"?Rn:An,A=f==="y"?nr:rr,b=t.rects.reference[g]+t.rects.reference[f]-l[f]-t.rects.popper[g],x=l[f]-t.rects.reference[f],F=wc(a),z=F?f==="y"?F.clientHeight||0:F.clientWidth||0:0,B=b/2-x/2,G=_[S],X=z-T[g]-_[A],Z=z/2-T[g]/2+B,D=Lu(G,Z,X),P=f;t.modifiersData[r]=(e={},e[P]=D,e.centerOffset=D-Z,e)}}function U3(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||F1(e.elements.popper,i)&&(e.elements.arrow=i))}const $3={name:"arrow",enabled:!0,phase:"main",fn:j3,effect:U3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sl(n){return n.split("-")[1]}var z3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function B3(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:rl(t*i)/i||0,y:rl(r*i)/i||0}}function uT(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,S=T===void 0?0:T,A=l.y,b=A===void 0?0:A,x=typeof g=="function"?g({x:S,y:b}):{x:S,y:b};S=x.x,b=x.y;var F=l.hasOwnProperty("x"),z=l.hasOwnProperty("y"),B=An,G=Rn,X=window;if(p){var Z=wc(t),D="clientHeight",P="clientWidth";if(Z===jn(t)&&(Z=zs(t),ki(Z).position!=="static"&&c==="absolute"&&(D="scrollHeight",P="scrollWidth")),Z=Z,i===Rn||(i===An||i===rr)&&a===Zu){G=nr;var k=_&&Z===X&&X.visualViewport?X.visualViewport.height:Z[D];b-=k-r.height,b*=f?1:-1}if(i===An||(i===Rn||i===nr)&&a===Zu){B=rr;var L=_&&Z===X&&X.visualViewport?X.visualViewport.width:Z[P];S-=L-r.width,S*=f?1:-1}}var M=Object.assign({position:c},p&&z3),V=g===!0?B3({x:S,y:b},jn(t)):{x:S,y:b};if(S=V.x,b=V.y,f){var N;return Object.assign({},M,(N={},N[G]=z?"0":"",N[B]=F?"0":"",N.transform=(X.devicePixelRatio||1)<=1?"translate("+S+"px, "+b+"px)":"translate3d("+S+"px, "+b+"px, 0)",N))}return Object.assign({},M,(e={},e[G]=z?b+"px":"",e[B]=F?S+"px":"",e.transform="",e))}function W3(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:Kr(e.placement),variation:sl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,uT(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,uT(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const H3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:W3,data:{}};var Kd={passive:!0};function q3(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,f=jn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,Kd)}),c&&f.addEventListener("resize",t.update,Kd),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,Kd)}),c&&f.removeEventListener("resize",t.update,Kd)}}const K3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:q3,data:{}};var G3={left:"right",right:"left",bottom:"top",top:"bottom"};function uh(n){return n.replace(/left|right|bottom|top/g,function(e){return G3[e]})}var Q3={start:"end",end:"start"};function cT(n){return n.replace(/start|end/g,function(e){return Q3[e]})}function fy(n){var e=jn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function py(n){return il(zs(n)).left+fy(n).scrollLeft}function Y3(n,e){var t=jn(n),r=zs(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;var p=V1();(p||!p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c+py(n),y:f}}function X3(n){var e,t=zs(n),r=fy(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=So(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=So(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+py(n),f=-r.scrollTop;return ki(i||t).direction==="rtl"&&(c+=So(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:f}}function my(n){var e=ki(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function z1(n){return["html","body","#document"].indexOf(Vs(n))>=0?n.ownerDocument.body:Gr(n)&&my(n)?n:z1(Ef(n))}function Mu(n,e){var t;e===void 0&&(e=[]);var r=z1(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=jn(r),l=i?[a].concat(a.visualViewport||[],my(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(Mu(Ef(l)))}function Tg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function J3(n,e){var t=il(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function dT(n,e,t){return e===L1?Tg(Y3(n,t)):Do(e)?J3(e,t):Tg(X3(zs(n)))}function Z3(n){var e=Mu(Ef(n)),t=["absolute","fixed"].indexOf(ki(n).position)>=0,r=t&&Gr(n)?wc(n):n;return Do(r)?e.filter(function(i){return Do(i)&&F1(i,r)&&Vs(i)!=="body"}):[]}function eF(n,e,t,r){var i=e==="clippingParents"?Z3(n):[].concat(e),a=[].concat(i,[t]),l=a[0],c=a.reduce(function(f,p){var g=dT(n,p,r);return f.top=So(g.top,f.top),f.right=$h(g.right,f.right),f.bottom=$h(g.bottom,f.bottom),f.left=So(g.left,f.left),f},dT(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function B1(n){var e=n.reference,t=n.element,r=n.placement,i=r?Kr(r):null,a=r?sl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case Rn:f={x:l,y:e.y-t.height};break;case nr:f={x:l,y:e.y+e.height};break;case rr:f={x:e.x+e.width,y:c};break;case An:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=i?hy(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case nl:f[p]=f[p]-(e[g]/2-t[g]/2);break;case Zu:f[p]=f[p]+(e[g]/2-t[g]/2);break}}return f}function ec(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,c=t.boundary,f=c===void 0?I3:c,p=t.rootBoundary,g=p===void 0?L1:p,_=t.elementContext,T=_===void 0?vu:_,S=t.altBoundary,A=S===void 0?!1:S,b=t.padding,x=b===void 0?0:b,F=U1(typeof x!="number"?x:$1(x,_c)),z=T===vu?C3:vu,B=n.rects.popper,G=n.elements[A?z:T],X=eF(Do(G)?G:G.contextElement||zs(n.elements.popper),f,g,l),Z=il(n.elements.reference),D=B1({reference:Z,element:B,placement:i}),P=Tg(Object.assign({},B,D)),k=T===vu?P:Z,L={top:X.top-k.top+F.top,bottom:k.bottom-X.bottom+F.bottom,left:X.left-k.left+F.left,right:k.right-X.right+F.right},M=n.modifiersData.offset;if(T===vu&&M){var V=M[i];Object.keys(L).forEach(function(N){var le=[rr,nr].indexOf(N)>=0?1:-1,Se=[Rn,nr].indexOf(N)>=0?"y":"x";L[N]+=V[Se]*le})}return L}function tF(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?M1:f,g=sl(r),_=g?c?aT:aT.filter(function(A){return sl(A)===g}):_c,T=_.filter(function(A){return p.indexOf(A)>=0});T.length===0&&(T=_);var S=T.reduce(function(A,b){return A[b]=ec(n,{placement:b,boundary:i,rootBoundary:a,padding:l})[Kr(b)],A},{});return Object.keys(S).sort(function(A,b){return S[A]-S[b]})}function nF(n){if(Kr(n)===uy)return[];var e=uh(n);return[cT(n),e,cT(e)]}function rF(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,S=t.flipVariations,A=S===void 0?!0:S,b=t.allowedAutoPlacements,x=e.options.placement,F=Kr(x),z=F===x,B=f||(z||!A?[uh(x)]:nF(x)),G=[x].concat(B).reduce(function(Ie,Re){return Ie.concat(Kr(Re)===uy?tF(e,{placement:Re,boundary:g,rootBoundary:_,padding:p,flipVariations:A,allowedAutoPlacements:b}):Re)},[]),X=e.rects.reference,Z=e.rects.popper,D=new Map,P=!0,k=G[0],L=0;L<G.length;L++){var M=G[L],V=Kr(M),N=sl(M)===nl,le=[Rn,nr].indexOf(V)>=0,Se=le?"width":"height",xe=ec(e,{placement:M,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),we=le?N?rr:An:N?nr:Rn;X[Se]>Z[Se]&&(we=uh(we));var ie=uh(we),ue=[];if(a&&ue.push(xe[V]<=0),c&&ue.push(xe[we]<=0,xe[ie]<=0),ue.every(function(Ie){return Ie})){k=M,P=!1;break}D.set(M,ue)}if(P)for(var se=A?3:1,$=function(Re){var De=G.find(function(Ve){var Oe=D.get(Ve);if(Oe)return Oe.slice(0,Re).every(function(Qe){return Qe})});if(De)return k=De,"break"},Y=se;Y>0;Y--){var fe=$(Y);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const iF={name:"flip",enabled:!0,phase:"main",fn:rF,requiresIfExists:["offset"],data:{_skip:!1}};function hT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function fT(n){return[Rn,rr,nr,An].some(function(e){return n[e]>=0})}function sF(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=ec(e,{elementContext:"reference"}),c=ec(e,{altBoundary:!0}),f=hT(l,r),p=hT(c,i,a),g=fT(f),_=fT(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const oF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sF};function aF(n,e,t){var r=Kr(n),i=[An,Rn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[An,rr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function lF(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=M1.reduce(function(g,_){return g[_]=aF(_,e.rects,a),g},{}),c=l[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const uF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lF};function cF(n){var e=n.state,t=n.name;e.modifiersData[t]=B1({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const dF={name:"popperOffsets",enabled:!0,phase:"read",fn:cF,data:{}};function hF(n){return n==="x"?"y":"x"}function fF(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,S=T===void 0?!0:T,A=t.tetherOffset,b=A===void 0?0:A,x=ec(e,{boundary:f,rootBoundary:p,padding:_,altBoundary:g}),F=Kr(e.placement),z=sl(e.placement),B=!z,G=hy(F),X=hF(G),Z=e.modifiersData.popperOffsets,D=e.rects.reference,P=e.rects.popper,k=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,L=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Z){if(a){var N,le=G==="y"?Rn:An,Se=G==="y"?nr:rr,xe=G==="y"?"height":"width",we=Z[G],ie=we+x[le],ue=we-x[Se],se=S?-P[xe]/2:0,$=z===nl?D[xe]:P[xe],Y=z===nl?-P[xe]:-D[xe],fe=e.elements.arrow,Ie=S&&fe?dy(fe):{width:0,height:0},Re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:j1(),De=Re[le],Ve=Re[Se],Oe=Lu(0,D[xe],Ie[xe]),Qe=B?D[xe]/2-se-Oe-De-L.mainAxis:$-Oe-De-L.mainAxis,Et=B?-D[xe]/2+se+Oe+Ve+L.mainAxis:Y+Oe+Ve+L.mainAxis,Pn=e.elements.arrow&&wc(e.elements.arrow),Li=Pn?G==="y"?Pn.clientTop||0:Pn.clientLeft||0:0,ir=(N=M==null?void 0:M[G])!=null?N:0,Jr=we+Qe-ir-Li,Mi=we+Et-ir,Vi=Lu(S?$h(ie,Jr):ie,we,S?So(ue,Mi):ue);Z[G]=Vi,V[G]=Vi-we}if(c){var Fi,zo=G==="x"?Rn:An,ji=G==="x"?nr:rr,zt=Z[X],pn=X==="y"?"height":"width",Ui=zt+x[zo],Zr=zt-x[ji],Ar=[Rn,An].indexOf(F)!==-1,$i=(Fi=M==null?void 0:M[X])!=null?Fi:0,pt=Ar?Ui:zt-D[pn]-P[pn]-$i+L.altAxis,mt=Ar?zt+D[pn]+P[pn]-$i-L.altAxis:Zr,Un=S&&Ar?V3(pt,zt,mt):Lu(S?pt:Ui,zt,S?mt:Zr);Z[X]=Un,V[X]=Un-zt}e.modifiersData[r]=V}}const pF={name:"preventOverflow",enabled:!0,phase:"main",fn:fF,requiresIfExists:["offset"]};function mF(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function gF(n){return n===jn(n)||!Gr(n)?fy(n):mF(n)}function vF(n){var e=n.getBoundingClientRect(),t=rl(e.width)/n.offsetWidth||1,r=rl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function yF(n,e,t){t===void 0&&(t=!1);var r=Gr(e),i=Gr(e)&&vF(e),a=zs(e),l=il(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Vs(e)!=="body"||my(a))&&(c=gF(e)),Gr(e)?(f=il(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=py(a))),{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}function _F(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function wF(n){var e=_F(n);return O3.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function EF(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function TF(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var pT={placement:"bottom",modifiers:[],strategy:"absolute"};function mT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function IF(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?pT:i;return function(c,f,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},pT,a),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},_=[],T=!1,S={state:g,setOptions:function(F){var z=typeof F=="function"?F(g.options):F;b(),g.options=Object.assign({},a,g.options,z),g.scrollParents={reference:Do(c)?Mu(c):c.contextElement?Mu(c.contextElement):[],popper:Mu(f)};var B=wF(TF([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(G){return G.enabled}),A(),S.update()},forceUpdate:function(){if(!T){var F=g.elements,z=F.reference,B=F.popper;if(mT(z,B)){g.rects={reference:yF(z,wc(B),g.options.strategy==="fixed"),popper:dy(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(L){return g.modifiersData[L.name]=Object.assign({},L.data)});for(var G=0;G<g.orderedModifiers.length;G++){if(g.reset===!0){g.reset=!1,G=-1;continue}var X=g.orderedModifiers[G],Z=X.fn,D=X.options,P=D===void 0?{}:D,k=X.name;typeof Z=="function"&&(g=Z({state:g,options:P,name:k,instance:S})||g)}}}},update:EF(function(){return new Promise(function(x){S.forceUpdate(),x(g)})}),destroy:function(){b(),T=!0}};if(!mT(c,f))return S;S.setOptions(p).then(function(x){!T&&p.onFirstUpdate&&p.onFirstUpdate(x)});function A(){g.orderedModifiers.forEach(function(x){var F=x.name,z=x.options,B=z===void 0?{}:z,G=x.effect;if(typeof G=="function"){var X=G({state:g,name:F,instance:S,options:B}),Z=function(){};_.push(X||Z)}})}function b(){_.forEach(function(x){return x()}),_=[]}return S}}const CF=IF({defaultModifiers:[oF,dF,H3,K3,uF,iF,pF,$3]}),SF=["enabled","placement","strategy","modifiers"];function xF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const RF={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},AF={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},PF=[];function kF(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=PF}=t,c=xF(t,SF);const f=C.useRef(l),p=C.useRef(),g=C.useCallback(()=>{var x;(x=p.current)==null||x.update()},[]),_=C.useCallback(()=>{var x;(x=p.current)==null||x.forceUpdate()},[]),[T,S]=T3(C.useState({placement:i,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),A=C.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const F={},z={};Object.keys(x.elements).forEach(B=>{F[B]=x.styles[B],z[B]=x.attributes[B]}),S({state:x,styles:F,attributes:z,update:g,forceUpdate:_,placement:x.placement})}}),[g,_,S]),b=C.useMemo(()=>(Ou(f.current,l)||(f.current=l),f.current),[l]);return C.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...b,A,RF]})},[a,i,A,r,b]),C.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=CF(n,e,Object.assign({},c,{placement:i,strategy:a,modifiers:[...b,AF,A]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function gT(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function bF(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function Gd(n,e,t,r){return O1(n,e,t,r),function(){bF(n,e,t,r)}}function NF(n){return n&&n.ownerDocument||document}var Cm,vT;function DF(){if(vT)return Cm;vT=1;var n=function(){};return Cm=n,Cm}var OF=DF();const LF=Hh(OF),yT=()=>{};function MF(n){return n.button===0}function VF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Sm=n=>n&&("current"in n?n.current:n),_T={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function FF(n,e=yT,{disabled:t,clickTrigger:r="click"}={}){const i=C.useRef(!1),a=C.useRef(!1),l=C.useCallback(p=>{const g=Sm(n);LF(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||VF(p)||!MF(p)||!!gT(g,p.target)||a.current,a.current=!1},[n]),c=xs(p=>{const g=Sm(n);g&&gT(g,p.target)?a.current=!0:a.current=!1}),f=xs(p=>{i.current||e(p)});C.useEffect(()=>{var p,g;if(t||n==null)return;const _=NF(Sm(n)),T=_.defaultView||window;let S=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,A=null;_T[r]&&(A=Gd(_,_T[r],c,!0));const b=Gd(_,r,l,!0),x=Gd(_,r,z=>{if(z===S){S=void 0;return}f(z)});let F=[];return"ontouchstart"in _.documentElement&&(F=[].slice.call(_.body.children).map(z=>Gd(z,"mousemove",yT))),()=>{A==null||A(),b(),x(),F.forEach(z=>z())}},[n,t,r,l,c,f])}function jF(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function UF(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function $F({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:c,popperConfig:f={}}){var p,g,_,T,S;const A=jF(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:UF(Object.assign({},A,{eventListeners:{enabled:e,options:(p=A.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},A.preventOverflow,{options:l?Object.assign({padding:l},(g=A.preventOverflow)==null?void 0:g.options):(_=A.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:i},(T=A.offset)==null?void 0:T.options)},arrow:Object.assign({},A.arrow,{enabled:!!c,options:Object.assign({},(S=A.arrow)==null?void 0:S.options,{element:c})}),flip:Object.assign({enabled:!!r},A.flip)}))})}const zF=["children","usePopper"];function BF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const WF=()=>{};function W1(n={}){const e=C.useContext(wf),[t,r]=w3(),i=C.useRef(!1),{flip:a,offset:l,rootCloseEvent:c,fixed:f=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const A=Z=>{e==null||e.toggle(!1,Z)},{placement:b,setMenu:x,menuElement:F,toggleElement:z}=e||{},B=kF(z,F,$F({placement:p||b||"bottom-start",enabled:T,enableEvents:_??S,offset:l,flip:a,fixed:f,arrowElement:t,popperConfig:g})),G=Object.assign({ref:x||WF,"aria-labelledby":z==null?void 0:z.id},B.attributes.popper,{style:B.styles.popper}),X={show:S,placement:b,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?B:null,arrowProps:T?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return FF(F,A,{clickTrigger:c,disabled:!S}),[G,X]}function H1(n){let{children:e,usePopper:t=!0}=n,r=BF(n,zF);const[i,a]=W1(Object.assign({},r,{usePopper:t}));return E.jsx(E.Fragment,{children:e(i,a)})}H1.displayName="DropdownMenu";const gy={prefix:String(Math.round(Math.random()*1e10)),current:0},q1=hn.createContext(gy),HF=hn.createContext(!1);let qF=!!(typeof window<"u"&&window.document&&window.document.createElement),xm=new WeakMap;function KF(n=!1){let e=C.useContext(q1),t=C.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=xm.get(a);l==null?xm.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,xm.delete(a))}t.current=++e.current}return t.current}function GF(n){let e=C.useContext(q1);e===gy&&!qF&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=KF(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function QF(n){let e=hn.useId(),[t]=C.useState(e9()),r=t?"react-aria":`react-aria${gy.prefix}`;return n||`${r}-${e}`}const YF=typeof hn.useId=="function"?QF:GF;function XF(){return!1}function JF(){return!0}function ZF(n){return()=>{}}function e9(){return typeof hn.useSyncExternalStore=="function"?hn.useSyncExternalStore(ZF,XF,JF):C.useContext(HF)}const K1=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},wT=()=>{};function G1(){const n=YF(),{show:e=!1,toggle:t=wT,setToggle:r,menuElement:i}=C.useContext(wf)||{},a=C.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||wT,onClick:a,"aria-expanded":!!e};return i&&K1(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function Q1({children:n}){const[e,t]=G1();return E.jsx(E.Fragment,{children:n(e,t)})}Q1.displayName="DropdownToggle";const Ig=C.createContext(null),ET=(n,e=null)=>n!=null?String(n):e||null,Y1=C.createContext(null);Y1.displayName="NavContext";const t9=["as","disabled"];function n9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function r9(n){return!n||n.trim()==="#"}function vy({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&r9(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:_},p]}const X1=C.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=n9(n,t9);const[a,{tagName:l}]=vy(Object.assign({tagName:t,disabled:r},i));return E.jsx(l,Object.assign({},i,a,{ref:e}))});X1.displayName="Button";const i9="data-rr-ui-";function J1(n){return`${i9}${n}`}const s9=["eventKey","disabled","onClick","active","as"];function o9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Z1({key:n,href:e,active:t,disabled:r,onClick:i}){const a=C.useContext(Ig),l=C.useContext(Y1),{activeKey:c}=l||{},f=ET(n,e),p=t==null&&n!=null?ET(c)===f:t;return[{onClick:xs(_=>{r||(i==null||i(_),a&&!_.isPropagationStopped()&&a(f,_))}),"aria-disabled":r||void 0,"aria-selected":p,[J1("dropdown-item")]:""},{isActive:p}]}const ex=C.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=X1}=n,c=o9(n,s9);const[f]=Z1({key:t,href:c.href,disabled:r,onClick:i,active:a});return E.jsx(l,Object.assign({},c,{ref:e},f))});ex.displayName="DropdownItem";const tx=C.createContext(D1?window:void 0);tx.Provider;function a9(){return C.useContext(tx)}function TT(){const n=v3(),e=C.useRef(null),t=C.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Ec({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${J1("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}){const f=a9(),[p,g]=m3(e,n,r),[_,T]=TT(),S=_.current,[A,b]=TT(),x=A.current,F=g3(p),z=C.useRef(null),B=C.useRef(!1),G=C.useContext(Ig),X=C.useCallback((M,V,N=V==null?void 0:V.type)=>{g(M,{originalEvent:V,source:N})},[g]),Z=xs((M,V)=>{t==null||t(M,V),X(!1,V,"select"),V.isPropagationStopped()||G==null||G(M,V)}),D=C.useMemo(()=>({toggle:X,placement:l,show:p,menuElement:S,toggleElement:x,setMenu:T,setToggle:b}),[X,l,p,S,x,T,b]);S&&F&&!p&&(B.current=S.contains(S.ownerDocument.activeElement));const P=xs(()=>{x&&x.focus&&x.focus()}),k=xs(()=>{const M=z.current;let V=a;if(V==null&&(V=_.current&&K1(_.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(M))return;const N=iT(_.current,i)[0];N&&N.focus&&N.focus()});C.useEffect(()=>{p?k():B.current&&(B.current=!1,P())},[p,B,P,k]),C.useEffect(()=>{z.current=null});const L=(M,V)=>{if(!_.current)return null;const N=iT(_.current,i);let le=N.indexOf(M)+V;return le=Math.max(0,Math.min(le,N.length)),N[le]};return _3(C.useCallback(()=>f.document,[f]),"keydown",M=>{var V,N;const{key:le}=M,Se=M.target,xe=(V=_.current)==null?void 0:V.contains(Se),we=(N=A.current)==null?void 0:N.contains(Se);if(/input|textarea/i.test(Se.tagName)&&(le===" "||le!=="Escape"&&xe||le==="Escape"&&Se.type==="search")||!xe&&!we||le==="Tab"&&(!_.current||!p))return;z.current=M.type;const ue={originalEvent:M,source:M.type};switch(le){case"ArrowUp":{const se=L(Se,-1);se&&se.focus&&se.focus(),M.preventDefault();return}case"ArrowDown":if(M.preventDefault(),!p)g(!0,ue);else{const se=L(Se,1);se&&se.focus&&se.focus()}return;case"Tab":O1(Se.ownerDocument,"keyup",se=>{var $;(se.key==="Tab"&&!se.target||!(($=_.current)!=null&&$.contains(se.target)))&&g(!1,ue)},{once:!0});break;case"Escape":le==="Escape"&&(M.preventDefault(),M.stopPropagation()),g(!1,ue);break}}),E.jsx(Ig.Provider,{value:Z,children:E.jsx(wf.Provider,{value:D,children:c})})}Ec.displayName="Dropdown";Ec.Menu=H1;Ec.Toggle=Q1;Ec.Item=ex;function Cg(){return Cg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cg.apply(null,arguments)}function l9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function IT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function u9(n){var e=c9(n,"string");return typeof e=="symbol"?e:String(e)}function c9(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function d9(n,e,t){var r=C.useRef(n!==void 0),i=C.useState(e),a=i[0],l=i[1],c=n!==void 0,f=r.current;return r.current=c,!c&&f&&a!==e&&l(e),[c?n:a,C.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function h9(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[IT(r)],c=a[r],f=l9(a,[IT(r),r].map(u9)),p=e[r],g=d9(c,l,n[p]),_=g[0],T=g[1];return Cg({},f,(i={},i[r]=_,i[p]=T,i))},n)}function f9(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function p9(n){const e=f9(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const yy=C.createContext({});yy.displayName="DropdownContext";const m9=["xxl","xl","lg","md","sm","xs"],g9="xs",_y=C.createContext({prefixes:{},breakpoints:m9,minBreakpoint:g9}),{Consumer:U5,Provider:$5}=_y;function $t(n,e){const{prefixes:t}=C.useContext(_y);return n||t[e]||e}function v9(){const{dir:n}=C.useContext(_y);return n==="rtl"}const nx=C.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=$t(e,"dropdown-divider"),E.jsx(t,{ref:a,className:Nt(n,e),role:r,...i})));nx.displayName="DropdownDivider";const rx=C.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=$t(e,"dropdown-header"),E.jsx(t,{ref:a,className:Nt(n,e),role:r,...i})));rx.displayName="DropdownHeader";const y9=["onKeyDown"];function _9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function w9(n){return!n||n.trim()==="#"}const ix=C.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=_9(n,y9);const[i]=vy(Object.assign({tagName:"a"},r)),a=xs(l=>{i.onKeyDown(l),t==null||t(l)});return w9(r.href)||r.role==="button"?E.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:a})):E.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});ix.displayName="Anchor";const sx=C.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=ix,...c},f)=>{const p=$t(n,"dropdown-item"),[g,_]=Z1({key:t,href:c.href,disabled:r,onClick:i,active:a});return E.jsx(l,{...c,...g,ref:f,className:Nt(e,p,_.isActive&&"active",r&&"disabled")})});sx.displayName="DropdownItem";const ox=C.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=$t(e,"dropdown-item-text"),E.jsx(t,{ref:i,className:Nt(n,e),...r})));ox.displayName="DropdownItemText";const E9=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",T9=typeof document<"u",I9=T9||E9?C.useLayoutEffect:C.useEffect,CT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function C9(n,e){const t=CT(n),r=CT(e);return i=>{t&&t(i),r&&r(i)}}function ax(n,e){return C.useMemo(()=>C9(n,e),[n,e])}const wy=C.createContext(null);wy.displayName="InputGroupContext";const lx=C.createContext(null);lx.displayName="NavbarContext";function ux(n,e){return n}function cx(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?i:r:e==="end"?_=n?g:p:e==="start"?_=n?f:c:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const dx=C.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:c="div",popperConfig:f,variant:p,...g},_)=>{let T=!1;const S=C.useContext(lx),A=$t(n,"dropdown-menu"),{align:b,drop:x,isRTL:F}=C.useContext(yy);t=t||b;const z=C.useContext(wy),B=[];if(t)if(typeof t=="object"){const M=Object.keys(t);if(M.length){const V=M[0],N=t[V];T=N==="start",B.push(`${A}-${V}-${N}`)}}else t==="end"&&(T=!0);const G=cx(T,x,F),[X,{hasShown:Z,popper:D,show:P,toggle:k}]=W1({flip:i,rootCloseEvent:r,show:a,usePopper:!S&&B.length===0,offset:[0,2],popperConfig:f,placement:G});if(X.ref=ax(ux(_),X.ref),I9(()=>{P&&(D==null||D.update())},[P]),!Z&&!l&&!z)return null;typeof c!="string"&&(X.show=P,X.close=()=>k==null?void 0:k(!1),X.align=t);let L=g.style;return D!=null&&D.placement&&(L={...g.style,...X.style},g["x-placement"]=D.placement),E.jsx(c,{...g,...X,style:L,...(B.length||S)&&{"data-bs-popper":"static"},className:Nt(e,A,P&&"show",T&&`${A}-end`,p&&`${A}-${p}`,...B)})});dx.displayName="DropdownMenu";const Va=C.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},f)=>{const p=$t(e,"btn"),[g,{tagName:_}]=vy({tagName:n,disabled:a,...c}),T=_;return E.jsx(T,{...g,...c,ref:f,disabled:a,className:Nt(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});Va.displayName="Button";const hx=C.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Va,...a},l)=>{const c=$t(n,"dropdown-toggle"),f=C.useContext(wf);r!==void 0&&(a.bsPrefix=r);const[p]=G1();return p.ref=ax(p.ref,ux(l)),E.jsx(i,{className:Nt(t,c,e&&`${c}-split`,(f==null?void 0:f.show)&&"show"),...p,...a})});hx.displayName="DropdownToggle";const fx=C.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:c,onToggle:f,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...S}=h9(n,{show:"onToggle"}),A=C.useContext(wy),b=$t(t,"dropdown"),x=v9(),F=D=>T===!1?D==="click":T==="inside"?D!=="rootClose":T==="outside"?D!=="select":!0,z=p9((D,P)=>{var k;!((k=P.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&P.source==="mousedown"||(P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),F(P.source)&&(f==null||f(D,P)))}),G=cx(l==="end",r,x),X=C.useMemo(()=>({align:l,drop:r,isRTL:x}),[l,r,x]),Z={down:b,"down-centered":`${b}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(yy.Provider,{value:X,children:E.jsx(Ec,{placement:G,show:i,onSelect:c,onToggle:z,focusFirstItemOnShow:p,itemSelector:`.${b}-item:not(.disabled):not(:disabled)`,children:A?S.children:E.jsx(g,{...S,ref:e,className:Nt(a,i&&"show",Z[r])})})})});fx.displayName="Dropdown";const yo=Object.assign(fx,{Toggle:hx,Menu:dx,Item:sx,ItemText:ox,Divider:nx,Header:rx}),S9=()=>{const n=js(),e=async()=>{await ly(),n("/")};return E.jsxs(yo,{children:[E.jsx(yo.Toggle,{variant:"success",id:"dropdown-basic",children:E.jsx("img",{src:Om})}),E.jsxs(yo.Menu,{children:[E.jsx(yo.Item,{as:Sn,to:"/ProfileDashboard",children:"Profile"}),E.jsx(yo.Item,{as:Sn,to:"/designerPage",children:"Designs"}),E.jsx(yo.Item,{href:"#/action-3",children:"Action"}),E.jsx(yo.Item,{onClick:e,children:"Log Out"})]})]})},Tf=()=>{const{userLoggedIn:n}=_f()||{userLoggedIn:!1},e=js(),t=async()=>{await ly(),e("/")};return E.jsxs("div",{className:"nav",children:[E.jsx(Sn,{to:"/",children:E.jsx("div",{className:"logo",children:"URENO"})}),E.jsxs("div",{className:"Right",children:[E.jsxs("menu",{children:[E.jsx("li",{children:"AI Design"}),E.jsx("li",{children:"Projects"}),E.jsx("li",{children:"Messages"})]}),n?E.jsx("button",{className:"btn login-btn",onClick:t,children:"Log Out"}):E.jsx(Sn,{to:"/sign-in",children:E.jsx("button",{className:"btn login-btn",children:"Log In"})}),n?E.jsx(S9,{}):E.jsx("button",{className:"btn profile-btn",children:E.jsx("object",{data:Om,type:"image/svg+xml",children:E.jsx("img",{src:Om})})})]})]})};function x9(){return E.jsxs(E.Fragment,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"Ureno"}),E.jsx(Tf,{}),E.jsx("div",{className:"center-logo",children:E.jsxs("div",{className:"container",children:[E.jsx("h1",{children:"URENO"}),E.jsx("p",{children:"Renovation Made Simple"}),E.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),E.jsxs("div",{className:"services",children:[E.jsx("div",{className:"our-services",children:E.jsx("p",{children:"Our Services"})}),E.jsxs("div",{className:"floor-content",children:[E.jsx("div",{className:"flooring fadeInRight",children:E.jsx("p",{children:E.jsx(Sn,{to:"/product-page",children:E.jsx("img",{src:J2,alt:"light oak wooden floor"})})})}),E.jsxs("div",{className:"floor-txt fadeInRight",children:[E.jsx("h3",{children:"flooring"}),E.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),E.jsxs("div",{className:"paint-content",children:[E.jsx("div",{className:"painting fadeInLeft",children:E.jsx("img",{src:Z2,alt:"blue painted walls"})}),E.jsxs("div",{className:"paint-txt fadeInLeft",children:[E.jsx("h3",{children:"paint"}),E.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),E.jsx(rc,{})]})}const R9="/Ureno_webdesign/assets/Harvest-grove-rigid-CaKY0j96.png",A9="/Ureno_webdesign/assets/tavertine-BlkzyBiO.png",P9="/Ureno_webdesign/assets/champagne-CGv65cDQ.png",k9="/Ureno_webdesign/assets/luxury-Bc3h0gdC.png",b9="/Ureno_webdesign/assets/champage2-Bc477UNo.png",N9="/Ureno_webdesign/assets/harvest-DFqPW_CI.png",Eo=({productId:n,image:e,title:t,description:r,price:i,link:a})=>E.jsx("div",{className:"products",children:E.jsxs(Sn,{to:`/productDetail/${n}`,className:"container",children:[E.jsx("img",{src:e,alt:t}),E.jsx("div",{className:"prod-title",children:t}),E.jsx("p",{children:r}),E.jsx("p",{children:i})]})});Eo.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function D9(){const[n,e]=C.useState(0),{userLoggedIn:t}=_f()||{userLoggedIn:!1};return C.useEffect(()=>{const r=()=>{const i=document.querySelector(".nav");i&&e(i.offsetHeight)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),E.jsxs(E.Fragment,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"URENO"}),E.jsx(Tf,{}),E.jsxs("div",{className:"body",children:[E.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[E.jsx("h1",{children:"Flooring"}),E.jsxs("div",{className:"search",children:[E.jsx("div",{className:"input",children:E.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),E.jsx("div",{className:"filter",children:"Filter"})]}),E.jsx("p",{children:"Popular"}),E.jsxs("div",{className:"products",children:[E.jsx(Eo,{productId:"HarvestGrove",image:R9,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft",link:"/productDetail"}),E.jsx(Eo,{productId:"tavertine",image:A9,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}),E.jsx(Eo,{productId:"Champagne",image:P9,title:"Champagne Limestone Rigid Core Luxury Vinyl",description:"Floor and Decor",price:"2.19/sqft"}),E.jsx(Eo,{productId:"Luxury",image:k9,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}),E.jsx(Eo,{productId:"Harvest",image:N9,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"2.19/sqft"}),E.jsx(Eo,{productId:"Champagne2",image:b9,title:"Champagne Limestone Rigid Core Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"})]})]}),E.jsx(rc,{})]})]})}function px(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=px(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function mx(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=px(n))&&(r&&(r+=" "),r+=e);return r}const Ey="-",O9=n=>{const e=M9(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(Ey);return c[0]===""&&c.length!==1&&c.shift(),gx(c,e)||L9(l)},getConflictingClassGroupIds:(l,c)=>{const f=t[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},gx=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?gx(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Ey);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},ST=/^\[(.+)\]$/,L9=n=>{if(ST.test(n)){const e=ST.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},M9=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return F9(Object.entries(n.classGroups),t).forEach(([a,l])=>{Sg(l,r,a,e)}),r},Sg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:xT(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(V9(i)){Sg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{Sg(l,xT(e,a),t,r)})})},xT=(n,e)=>{let t=n;return e.split(Ey).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},V9=n=>n.isThemeGetter,F9=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[t,i]}):n,j9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},vx="!",U9=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,l=c=>{const f=[];let p=0,g=0,_;for(let x=0;x<c.length;x++){let F=c[x];if(p===0){if(F===i&&(r||c.slice(x,x+a)===e)){f.push(c.slice(g,x)),g=x+a;continue}if(F==="/"){_=x;continue}}F==="["?p++:F==="]"&&p--}const T=f.length===0?c:c.substring(g),S=T.startsWith(vx),A=S?T.substring(1):T,b=_&&_>g?_-g:void 0;return{modifiers:f,hasImportantModifier:S,baseClassName:A,maybePostfixModifierPosition:b}};return t?c=>t({className:c,parseClassName:l}):l},$9=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},z9=n=>({cache:j9(n.cacheSize),parseClassName:U9(n),...O9(n)}),B9=/\s+/,W9=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=n.trim().split(B9);let c="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{modifiers:g,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:S}=t(p);let A=!!S,b=r(A?T.substring(0,S):T);if(!b){if(!A){c=p+(c.length>0?" "+c:c);continue}if(b=r(T),!b){c=p+(c.length>0?" "+c:c);continue}A=!1}const x=$9(g).join(":"),F=_?x+vx:x,z=F+b;if(a.includes(z))continue;a.push(z);const B=i(b,A);for(let G=0;G<B.length;++G){const X=B[G];a.push(F+X)}c=p+(c.length>0?" "+c:c)}return c};function H9(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=yx(e))&&(r&&(r+=" "),r+=t);return r}const yx=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=yx(n[r]))&&(t&&(t+=" "),t+=e);return t};function q9(n,...e){let t,r,i,a=l;function l(f){const p=e.reduce((g,_)=>_(g),n());return t=z9(p),r=t.cache.get,i=t.cache.set,a=c,c(f)}function c(f){const p=r(f);if(p)return p;const g=W9(f,t);return i(f,g),g}return function(){return a(H9.apply(null,arguments))}}const st=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},_x=/^\[(?:([a-z-]+):)?(.+)\]$/i,K9=/^\d+\/\d+$/,G9=new Set(["px","full","screen"]),Q9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,J9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pi=n=>Wa(n)||G9.has(n)||K9.test(n),fs=n=>_l(n,"length",aj),Wa=n=>!!n&&!Number.isNaN(Number(n)),Rm=n=>_l(n,"number",Wa),yu=n=>!!n&&Number.isInteger(Number(n)),ej=n=>n.endsWith("%")&&Wa(n.slice(0,-1)),Ne=n=>_x.test(n),ps=n=>Q9.test(n),tj=new Set(["length","size","percentage"]),nj=n=>_l(n,tj,wx),rj=n=>_l(n,"position",wx),ij=new Set(["image","url"]),sj=n=>_l(n,ij,uj),oj=n=>_l(n,"",lj),_u=()=>!0,_l=(n,e,t)=>{const r=_x.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},aj=n=>Y9.test(n)&&!X9.test(n),wx=()=>!1,lj=n=>J9.test(n),uj=n=>Z9.test(n),cj=()=>{const n=st("colors"),e=st("spacing"),t=st("blur"),r=st("brightness"),i=st("borderColor"),a=st("borderRadius"),l=st("borderSpacing"),c=st("borderWidth"),f=st("contrast"),p=st("grayscale"),g=st("hueRotate"),_=st("invert"),T=st("gap"),S=st("gradientColorStops"),A=st("gradientColorStopPositions"),b=st("inset"),x=st("margin"),F=st("opacity"),z=st("padding"),B=st("saturate"),G=st("scale"),X=st("sepia"),Z=st("skew"),D=st("space"),P=st("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ne,e],V=()=>[Ne,e],N=()=>["",pi,fs],le=()=>["auto",Wa,Ne],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",Ne],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Wa,Ne];return{cacheSize:500,separator:":",theme:{colors:[_u],spacing:[pi,fs],blur:["none","",ps,Ne],brightness:$(),borderColor:[n],borderRadius:["none","","full",ps,Ne],borderSpacing:V(),borderWidth:N(),contrast:$(),grayscale:ue(),hueRotate:$(),invert:ue(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[ej,fs],inset:M(),margin:M(),opacity:$(),padding:V(),saturate:$(),scale:$(),sepia:ue(),skew:$(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[ps]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),Ne]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yu,Ne]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",yu,Ne]}],"grid-cols":[{"grid-cols":[_u]}],"col-start-end":[{col:["auto",{span:["full",yu,Ne]},Ne]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[_u]}],"row-start-end":[{row:["auto",{span:[yu,Ne]},Ne]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[ps]},ps]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ps,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rm]}],"font-family":[{font:[_u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Wa,Rm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pi,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[F]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pi,fs]}],"underline-offset":[{"underline-offset":["auto",pi,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[F]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),rj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sj]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[F]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[F]}],"divide-style":[{divide:xe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[pi,Ne]}],"outline-w":[{outline:[pi,fs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[F]}],"ring-offset-w":[{"ring-offset":[pi,fs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ps,oj]}],"shadow-color":[{shadow:[_u]}],opacity:[{opacity:[F]}],"mix-blend":[{"mix-blend":[...we(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",ps,Ne]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[_]}],saturate:[{saturate:[B]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[F]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[G]}],"scale-x":[{"scale-x":[G]}],"scale-y":[{"scale-y":[G]}],rotate:[{rotate:[yu,Ne]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[pi,fs,Rm]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dj=q9(cj);function Bs(...n){return dj(mx(n))}const RT=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,AT=mx,Ex=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return AT(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const g=t==null?void 0:t[p],_=a==null?void 0:a[p];if(g===null)return null;const T=RT(g)||RT(_);return i[p][T]}),c=t&&Object.entries(t).reduce((p,g)=>{let[_,T]=g;return T===void 0||(p[_]=T),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:_,className:T,...S}=g;return Object.entries(S).every(A=>{let[b,x]=A;return Array.isArray(x)?x.includes({...a,...c}[b]):{...a,...c}[b]===x})?[...p,_,T]:p},[]);return AT(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tx=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},f)=>C.createElement("svg",{ref:f,...fj,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Tx("lucide",i),...c},[...l.map(([p,g])=>C.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=(n,e)=>{const t=C.forwardRef(({className:r,...i},a)=>C.createElement(pj,{ref:a,iconNode:e,className:Tx(`lucide-${hj(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gj=Tc("Bell",mj);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yj=Tc("LoaderCircle",vj);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],wj=Tc("LogOut",_j);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tj=Tc("Settings",Ej);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cj=Tc("X",Ij),Sj=Ex("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-zinc-900 text-zinc-100 hover:bg-zinc-800",destructive:"text-white hover:bg-red-600 dark:hover:bg-red-600",outline:"bg-zinc-100 text-zinc-900 hover:bg-zinc-200 outline outline-1 outline-zinc-300",subtle:"hover:bg-zinc-200 bg-zinc-100 text-zinc-900",ghost:"bg-transparent hover:bg-zinc-100 text-zinc-800 data-[state=open]:bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent dark:bg-transparent underline-offset-4 hover:underline text-slate-900 dark:text-slate-100 hover:bg-transparent dark:hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",xs:"h-8 px-1.5 rounded-sm",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),zh=C.forwardRef(({className:n,children:e,variant:t,isLoading:r,size:i,...a},l)=>E.jsxs("button",{className:Bs(Sj({variant:t,size:i,className:n})),ref:l,disabled:r,...a,children:[r?E.jsx(yj,{className:"mr-2 h-4 w-4 animate-spin"}):null,e]}));zh.displayName="Button";const Ty={logo:n=>E.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:E.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>E.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),E.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),E.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),E.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),E.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},xj=1,Rj=1e6;let Am=0;function Aj(){return Am=(Am+1)%Number.MAX_SAFE_INTEGER,Am.toString()}const Pm=new Map,PT=n=>{if(Pm.has(n))return;const e=setTimeout(()=>{Pm.delete(n),Vu({type:"REMOVE_TOAST",toastId:n})},Rj);Pm.set(n,e)},Pj=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,xj)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?PT(t):n.toasts.forEach(r=>{PT(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ch=[];let dh={toasts:[]};function Vu(n){dh=Pj(dh,n),ch.forEach(e=>{e(dh)})}function kj({...n}){const e=Aj(),t=i=>Vu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Vu({type:"DISMISS_TOAST",toastId:e});return Vu({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function Ix(){const[n,e]=C.useState(dh);return C.useEffect(()=>(ch.push(e),()=>{const t=ch.indexOf(e);t>-1&&ch.splice(t,1)}),[n]),{...n,toast:kj,dismiss:t=>Vu({type:"DISMISS_TOAST",toastId:t})}}function Vn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function kT(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Cx(...n){return e=>{let t=!1;const r=n.map(i=>{const a=kT(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():kT(n[i],null)}}}}function Oo(...n){return C.useCallback(Cx(...n),n)}function Sx(n,e=[]){let t=[];function r(a,l){const c=C.createContext(l),f=t.length;t=[...t,l];const p=_=>{var F;const{scope:T,children:S,...A}=_,b=((F=T==null?void 0:T[n])==null?void 0:F[f])||c,x=C.useMemo(()=>A,Object.values(A));return E.jsx(b.Provider,{value:x,children:S})};p.displayName=a+"Provider";function g(_,T){var b;const S=((b=T==null?void 0:T[n])==null?void 0:b[f])||c,A=C.useContext(S);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=t.map(l=>C.createContext(l));return function(c){const f=(c==null?void 0:c[n])||a;return C.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return i.scopeName=n,[r,bj(i,...e)]}function bj(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:f,scopeName:p})=>{const _=f(a)[`__scope${p}`];return{...c,..._}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Bh=C.forwardRef((n,e)=>{const{children:t,...r}=n,i=C.Children.toArray(t),a=i.find(Dj);if(a){const l=a.props.children,c=i.map(f=>f===a?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:f);return E.jsx(xg,{...r,ref:e,children:C.isValidElement(l)?C.cloneElement(l,void 0,c):null})}return E.jsx(xg,{...r,ref:e,children:t})});Bh.displayName="Slot";var xg=C.forwardRef((n,e)=>{const{children:t,...r}=n;if(C.isValidElement(t)){const i=Lj(t),a=Oj(r,t.props);return t.type!==C.Fragment&&(a.ref=e?Cx(e,i):i),C.cloneElement(t,a)}return C.Children.count(t)>1?C.Children.only(null):null});xg.displayName="SlotClone";var Nj=({children:n})=>E.jsx(E.Fragment,{children:n});function Dj(n){return C.isValidElement(n)&&n.type===Nj}function Oj(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{a(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function Lj(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Mj(n){const e=n+"CollectionProvider",[t,r]=Sx(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:A,children:b}=S,x=hn.useRef(null),F=hn.useRef(new Map).current;return E.jsx(i,{scope:A,itemMap:F,collectionRef:x,children:b})};l.displayName=e;const c=n+"CollectionSlot",f=hn.forwardRef((S,A)=>{const{scope:b,children:x}=S,F=a(c,b),z=Oo(A,F.collectionRef);return E.jsx(Bh,{ref:z,children:x})});f.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",_=hn.forwardRef((S,A)=>{const{scope:b,children:x,...F}=S,z=hn.useRef(null),B=Oo(A,z),G=a(p,b);return hn.useEffect(()=>(G.itemMap.set(z,{ref:z,...F}),()=>void G.itemMap.delete(z))),E.jsx(Bh,{[g]:"",ref:B,children:x})});_.displayName=p;function T(S){const A=a(n+"CollectionConsumer",S);return hn.useCallback(()=>{const x=A.collectionRef.current;if(!x)return[];const F=Array.from(x.querySelectorAll(`[${g}]`));return Array.from(A.itemMap.values()).sort((G,X)=>F.indexOf(G.ref.current)-F.indexOf(X.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:f,ItemSlot:_},T,r]}var Vj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xr=Vj.reduce((n,e)=>{const t=C.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?Bh:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(c,{...l,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function xx(n,e){n&&jg.flushSync(()=>n.dispatchEvent(e))}function bi(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Fj(n,e=globalThis==null?void 0:globalThis.document){const t=bi(n);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var jj="DismissableLayer",Rg="dismissableLayer.update",Uj="dismissableLayer.pointerDownOutside",$j="dismissableLayer.focusOutside",bT,Rx=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ax=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...f}=n,p=C.useContext(Rx),[g,_]=C.useState(null),T=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=C.useState({}),A=Oo(e,D=>_(D)),b=Array.from(p.layers),[x]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),F=b.indexOf(x),z=g?b.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,G=z>=F,X=Bj(D=>{const P=D.target,k=[...p.branches].some(L=>L.contains(P));!G||k||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},T),Z=Wj(D=>{const P=D.target;[...p.branches].some(L=>L.contains(P))||(a==null||a(D),l==null||l(D),D.defaultPrevented||c==null||c())},T);return Fj(D=>{z===p.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},T),C.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(bT=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),NT(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=bT)}},[g,T,t,p]),C.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),NT())},[g,p]),C.useEffect(()=>{const D=()=>S({});return document.addEventListener(Rg,D),()=>document.removeEventListener(Rg,D)},[]),E.jsx(Xr.div,{...f,ref:A,style:{pointerEvents:B?G?"auto":"none":void 0,...n.style},onFocusCapture:Vn(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:Vn(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Vn(n.onPointerDownCapture,X.onPointerDownCapture)})});Ax.displayName=jj;var zj="DismissableLayerBranch",Px=C.forwardRef((n,e)=>{const t=C.useContext(Rx),r=C.useRef(null),i=Oo(e,r);return C.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),E.jsx(Xr.div,{...n,ref:i})});Px.displayName=zj;function Bj(n,e=globalThis==null?void 0:globalThis.document){const t=bi(n),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){kx(Uj,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Wj(n,e=globalThis==null?void 0:globalThis.document){const t=bi(n),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&kx($j,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function NT(){const n=new CustomEvent(Rg);document.dispatchEvent(n)}function kx(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?xx(i,a):i.dispatchEvent(a)}var Hj=Ax,qj=Px,Wh=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},Kj="Portal",bx=C.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,a]=C.useState(!1);Wh(()=>a(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?X2.createPortal(E.jsx(Xr.div,{...r,ref:e}),l):null});bx.displayName=Kj;function Gj(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var Nx=n=>{const{present:e,children:t}=n,r=Qj(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),a=Oo(r.ref,Yj(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};Nx.displayName="Presence";function Qj(n){const[e,t]=C.useState(),r=C.useRef({}),i=C.useRef(n),a=C.useRef("none"),l=n?"mounted":"unmounted",[c,f]=Gj(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=Qd(r.current);a.current=c==="mounted"?p:"none"},[c]),Wh(()=>{const p=r.current,g=i.current;if(g!==n){const T=a.current,S=Qd(p);n?f("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&T!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),Wh(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,_=S=>{const b=Qd(r.current).includes(S.animationName);if(S.target===e&&b&&(f("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},T=S=>{S.target===e&&(a.current=Qd(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Qd(n){return(n==null?void 0:n.animationName)||"none"}function Yj(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Xj({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=Jj({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:r,c=bi(t),f=C.useCallback(p=>{if(a){const _=typeof p=="function"?p(n):p;_!==n&&c(_)}else i(p)},[a,n,i,c]);return[l,f]}function Jj({defaultProp:n,onChange:e}){const t=C.useState(n),[r]=t,i=C.useRef(r),a=bi(e);return C.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),t}var Zj="VisuallyHidden",Iy=C.forwardRef((n,e)=>E.jsx(Xr.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Iy.displayName=Zj;var Cy="ToastProvider",[Sy,e5,t5]=Mj("Toast"),[Dx,z5]=Sx("Toast",[t5]),[n5,If]=Dx(Cy),Ox=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=n,[c,f]=C.useState(null),[p,g]=C.useState(0),_=C.useRef(!1),T=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cy}\`. Expected non-empty \`string\`.`),E.jsx(Sy.Provider,{scope:e,children:E.jsx(n5,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:c,onViewportChange:f,onToastAdd:C.useCallback(()=>g(S=>S+1),[]),onToastRemove:C.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:T,children:l})})};Ox.displayName=Cy;var Lx="ToastViewport",r5=["F8"],Ag="toast.viewportPause",Pg="toast.viewportResume",Mx=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=r5,label:i="Notifications ({hotkey})",...a}=n,l=If(Lx,t),c=e5(t),f=C.useRef(null),p=C.useRef(null),g=C.useRef(null),_=C.useRef(null),T=Oo(e,_,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=l.toastCount>0;C.useEffect(()=>{const x=F=>{var B;r.length!==0&&r.every(G=>F[G]||F.code===G)&&((B=_.current)==null||B.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),C.useEffect(()=>{const x=f.current,F=_.current;if(A&&x&&F){const z=()=>{if(!l.isClosePausedRef.current){const Z=new CustomEvent(Ag);F.dispatchEvent(Z),l.isClosePausedRef.current=!0}},B=()=>{if(l.isClosePausedRef.current){const Z=new CustomEvent(Pg);F.dispatchEvent(Z),l.isClosePausedRef.current=!1}},G=Z=>{!x.contains(Z.relatedTarget)&&B()},X=()=>{x.contains(document.activeElement)||B()};return x.addEventListener("focusin",z),x.addEventListener("focusout",G),x.addEventListener("pointermove",z),x.addEventListener("pointerleave",X),window.addEventListener("blur",z),window.addEventListener("focus",B),()=>{x.removeEventListener("focusin",z),x.removeEventListener("focusout",G),x.removeEventListener("pointermove",z),x.removeEventListener("pointerleave",X),window.removeEventListener("blur",z),window.removeEventListener("focus",B)}}},[A,l.isClosePausedRef]);const b=C.useCallback(({tabbingDirection:x})=>{const z=c().map(B=>{const G=B.ref.current,X=[G,...g5(G)];return x==="forwards"?X:X.reverse()});return(x==="forwards"?z.reverse():z).flat()},[c]);return C.useEffect(()=>{const x=_.current;if(x){const F=z=>{var X,Z,D;const B=z.altKey||z.ctrlKey||z.metaKey;if(z.key==="Tab"&&!B){const P=document.activeElement,k=z.shiftKey;if(z.target===x&&k){(X=p.current)==null||X.focus();return}const V=b({tabbingDirection:k?"backwards":"forwards"}),N=V.findIndex(le=>le===P);km(V.slice(N+1))?z.preventDefault():k?(Z=p.current)==null||Z.focus():(D=g.current)==null||D.focus()}};return x.addEventListener("keydown",F),()=>x.removeEventListener("keydown",F)}},[c,b]),E.jsxs(qj,{ref:f,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&E.jsx(kg,{ref:p,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});km(x)}}),E.jsx(Sy.Slot,{scope:t,children:E.jsx(Xr.ol,{tabIndex:-1,...a,ref:T})}),A&&E.jsx(kg,{ref:g,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});km(x)}})]})});Mx.displayName=Lx;var Vx="ToastFocusProxy",kg=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=If(Vx,t);return E.jsx(Iy,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var p;const c=l.relatedTarget;!((p=a.viewport)!=null&&p.contains(c))&&r()}})});kg.displayName=Vx;var Cf="Toast",i5="toast.swipeStart",s5="toast.swipeMove",o5="toast.swipeCancel",a5="toast.swipeEnd",Fx=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...l}=n,[c=!0,f]=Xj({prop:r,defaultProp:i,onChange:a});return E.jsx(Nx,{present:t||c,children:E.jsx(c5,{open:c,...l,ref:e,onClose:()=>f(!1),onPause:bi(n.onPause),onResume:bi(n.onResume),onSwipeStart:Vn(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Vn(n.onSwipeMove,p=>{const{x:g,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:Vn(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Vn(n.onSwipeEnd,p=>{const{x:g,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),f(!1)})})})});Fx.displayName=Cf;var[l5,u5]=Dx(Cf,{onClose(){}}),c5=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:c,onPause:f,onResume:p,onSwipeStart:g,onSwipeMove:_,onSwipeCancel:T,onSwipeEnd:S,...A}=n,b=If(Cf,t),[x,F]=C.useState(null),z=Oo(e,le=>F(le)),B=C.useRef(null),G=C.useRef(null),X=i||b.duration,Z=C.useRef(0),D=C.useRef(X),P=C.useRef(0),{onToastAdd:k,onToastRemove:L}=b,M=bi(()=>{var Se;(x==null?void 0:x.contains(document.activeElement))&&((Se=b.viewport)==null||Se.focus()),l()}),V=C.useCallback(le=>{!le||le===1/0||(window.clearTimeout(P.current),Z.current=new Date().getTime(),P.current=window.setTimeout(M,le))},[M]);C.useEffect(()=>{const le=b.viewport;if(le){const Se=()=>{V(D.current),p==null||p()},xe=()=>{const we=new Date().getTime()-Z.current;D.current=D.current-we,window.clearTimeout(P.current),f==null||f()};return le.addEventListener(Ag,xe),le.addEventListener(Pg,Se),()=>{le.removeEventListener(Ag,xe),le.removeEventListener(Pg,Se)}}},[b.viewport,X,f,p,V]),C.useEffect(()=>{a&&!b.isClosePausedRef.current&&V(X)},[a,X,b.isClosePausedRef,V]),C.useEffect(()=>(k(),()=>L()),[k,L]);const N=C.useMemo(()=>x?Hx(x):null,[x]);return b.viewport?E.jsxs(E.Fragment,{children:[N&&E.jsx(d5,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),E.jsx(l5,{scope:t,onClose:M,children:jg.createPortal(E.jsx(Sy.ItemSlot,{scope:t,children:E.jsx(Hj,{asChild:!0,onEscapeKeyDown:Vn(c,()=>{b.isFocusedToastEscapeKeyDownRef.current||M(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Xr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...A,ref:z,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Vn(n.onKeyDown,le=>{le.key==="Escape"&&(c==null||c(le.nativeEvent),le.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Vn(n.onPointerDown,le=>{le.button===0&&(B.current={x:le.clientX,y:le.clientY})}),onPointerMove:Vn(n.onPointerMove,le=>{if(!B.current)return;const Se=le.clientX-B.current.x,xe=le.clientY-B.current.y,we=!!G.current,ie=["left","right"].includes(b.swipeDirection),ue=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,se=ie?ue(0,Se):0,$=ie?0:ue(0,xe),Y=le.pointerType==="touch"?10:2,fe={x:se,y:$},Ie={originalEvent:le,delta:fe};we?(G.current=fe,Yd(s5,_,Ie,{discrete:!1})):DT(fe,b.swipeDirection,Y)?(G.current=fe,Yd(i5,g,Ie,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(Se)>Y||Math.abs(xe)>Y)&&(B.current=null)}),onPointerUp:Vn(n.onPointerUp,le=>{const Se=G.current,xe=le.target;if(xe.hasPointerCapture(le.pointerId)&&xe.releasePointerCapture(le.pointerId),G.current=null,B.current=null,Se){const we=le.currentTarget,ie={originalEvent:le,delta:Se};DT(Se,b.swipeDirection,b.swipeThreshold)?Yd(a5,S,ie,{discrete:!0}):Yd(o5,T,ie,{discrete:!0}),we.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),d5=n=>{const{__scopeToast:e,children:t,...r}=n,i=If(Cf,e),[a,l]=C.useState(!1),[c,f]=C.useState(!1);return p5(()=>l(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:E.jsx(bx,{asChild:!0,children:E.jsx(Iy,{...r,children:a&&E.jsxs(E.Fragment,{children:[i.label," ",t]})})})},h5="ToastTitle",jx=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return E.jsx(Xr.div,{...r,ref:e})});jx.displayName=h5;var f5="ToastDescription",Ux=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return E.jsx(Xr.div,{...r,ref:e})});Ux.displayName=f5;var $x="ToastAction",zx=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?E.jsx(Wx,{altText:t,asChild:!0,children:E.jsx(xy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$x}\`. Expected non-empty \`string\`.`),null)});zx.displayName=$x;var Bx="ToastClose",xy=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=u5(Bx,t);return E.jsx(Wx,{asChild:!0,children:E.jsx(Xr.button,{type:"button",...r,ref:e,onClick:Vn(n.onClick,i.onClose)})})});xy.displayName=Bx;var Wx=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return E.jsx(Xr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Hx(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),m5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...Hx(r))}}),e}function Yd(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?xx(i,a):i.dispatchEvent(a)}var DT=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function p5(n=()=>{}){const e=bi(n);Wh(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function m5(n){return n.nodeType===n.ELEMENT_NODE}function g5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function km(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var v5=Ox,qx=Mx,Kx=Fx,Gx=jx,Qx=Ux,Yx=zx,Xx=xy;const y5=v5,Jx=C.forwardRef(({className:n,...e},t)=>E.jsx(qx,{ref:t,className:Bs("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Jx.displayName=qx.displayName;const _5=Ex("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zx=C.forwardRef(({className:n,variant:e,...t},r)=>E.jsx(Kx,{ref:r,className:Bs(_5({variant:e}),n),...t}));Zx.displayName=Kx.displayName;const w5=C.forwardRef(({className:n,...e},t)=>E.jsx(Yx,{ref:t,className:Bs("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));w5.displayName=Yx.displayName;const eR=C.forwardRef(({className:n,...e},t)=>E.jsx(Xx,{ref:t,className:Bs("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:E.jsx(Cj,{className:"h-4 w-4"})}));eR.displayName=Xx.displayName;const tR=C.forwardRef(({className:n,...e},t)=>E.jsx(Gx,{ref:t,className:Bs("text-sm font-semibold [&+div]:text-xs",n),...e}));tR.displayName=Gx.displayName;const nR=C.forwardRef(({className:n,...e},t)=>E.jsx(Qx,{ref:t,className:Bs("text-sm opacity-90",n),...e}));nR.displayName=Qx.displayName;function E5(){const{toasts:n}=Ix();return E.jsxs(y5,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return E.jsxs(Zx,{...a,children:[E.jsxs("div",{className:"grid gap-1",children:[t&&E.jsx(tR,{children:t}),r&&E.jsx(nR,{children:r})]}),i,E.jsx(eR,{})]},e)}),E.jsx(Jx,{})]})}const T5=({className:n,...e})=>{const{userLoggedIn:t}=_f()||{userLoggedIn:!1},r=js(),[i,a]=C.useState(""),[l,c]=C.useState(""),[f,p]=C.useState(!1),{toast:g}=Ix();C.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const _=async()=>{p(!0);try{const S=await d3();r("/")}catch(S){console.error("Google sign-in error:",S),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}},T=async(S,A)=>{p(!0);try{const b=await c3(S,A);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(b){let x="Error logging in with email and password";console.log(b.code),b.code==="auth/invalid-credential"?x="Incorrect email or password. Please try again.":b.code==="auth/user-not-found"?x="No account found with this email.":b.code==="auth/invalid-email"?x="Invalid email format":b.code==="auth/too-many-requests"&&(x="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:x,variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}};return E.jsxs(E.Fragment,{children:[E.jsx(E5,{}),E.jsx("div",{className:Bs("flex flex-col items-center space-y-4 justify-center",n),...e,children:E.jsxs("div",{className:"flex flex-col space-y-4",children:[E.jsx("input",{type:"email",value:i,onChange:S=>a(S.currentTarget.value),placeholder:"Email",className:"input"}),E.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"Password",className:"input"}),E.jsx(zh,{onClick:()=>T(i,l),isLoading:f,size:"sm",className:"w-full",children:"Login with Email"}),E.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[E.jsx("span",{className:"flex-grow border-t border-gray-300"}),E.jsx("span",{className:"px-3",children:" Or Login with Google "}),E.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),E.jsxs(zh,{onClick:_,isLoading:f,size:"sm",className:"w-full",children:[f?null:E.jsx(Ty.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},I5=()=>{const n=js();return E.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:E.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:E.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[E.jsx("div",{className:"w-full flex justify-center",children:E.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:E.jsx(Ty.logo,{className:"h-12 w-auto"})})}),E.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),E.jsx(T5,{}),E.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",E.jsx(Sn,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),E.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",E.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",E.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},C5=()=>{const n=js();r3();const{userLoggedIn:e,loading:t}=_f(),[r,i]=C.useState(""),[a,l]=C.useState(""),[c,f]=C.useState(""),[p,g]=C.useState(!1),[_,T]=C.useState(!1),[S,A]=C.useState(""),[b,x]=C.useState(""),[F,z]=C.useState(""),[B,G]=C.useState(!1),[X,Z]=C.useState(""),D=async k=>{if(k.preventDefault(),!B){if(Z(""),G(!0),b!==F){Z("Passwords don't match"),G(!1);return}try{const M=(await u3(S,b)).user;await Mb(M,{displayName:`${r} ${a}`}),await k1(M.uid,r,a,S,c),n("/"),console.log(e)}catch{Z("There was a problem creating your account"),G(!1)}}},P=async()=>{T(!0);try{const k=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{T(!1),console.log("Logged in: ",e)}};return C.useEffect(()=>{p&&(n("/"),g(!1))},[p,n,g]),t?E.jsx("div",{children:"Loading..."}):E.jsxs(E.Fragment,{children:[e&&E.jsx(g2,{to:"/",replace:!0}),E.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:E.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[E.jsx("div",{className:"text-center mb-6",children:E.jsxs("div",{className:"mt-2",children:[E.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),E.jsx("p",{children:"Enter your information to sign up"})]})}),E.jsxs("form",{onSubmit:D,className:"space-y-4",children:[X&&E.jsx("span",{className:"text-red-600 font-bold",children:X}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:k=>{i(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:a,onChange:k=>{l(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:k=>{f(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:S,onChange:k=>{A(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:b,onChange:k=>{x(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{disabled:B,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:F,onChange:k=>{z(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),X&&E.jsx("span",{className:"text-red-600 font-bold",children:X}),E.jsx("button",{type:"submit",disabled:B,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${B?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:B?"Signing Up...":"Create Account"})]}),E.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[E.jsx("span",{className:"flex-grow border-t border-gray-300"}),E.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),E.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),E.jsxs(zh,{onClick:P,isLoading:_,size:"sm",className:"w-full",children:[_?null:E.jsx(Ty.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),E.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",E.jsx(Sn,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),E.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",E.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",E.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},S5=()=>E.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:E.jsx("div",{className:"flex flex-col space-y-2 text-center",children:E.jsx(C5,{})})}),We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",rR=()=>{const{productId:n}=n2(),t=[{id:"HarvestGrove",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"tavertine",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne",productTitle:"Champagne Limestone Rigid Core Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Luxury",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Harvest",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne2",productTitle:"Champagne Limestone Rigid Core luxiry Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}}].find(r=>r.id===n);return t?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"main-content",children:[E.jsxs("div",{id:"left",children:[E.jsx("div",{className:"main-image",children:E.jsx("img",{src:t.mainIm,alt:""})}),E.jsxs("div",{className:"thumbnails",children:[E.jsx("img",{src:t.mainIm,alt:""}),E.jsx("img",{src:t.alternate1,alt:""}),E.jsx("img",{src:t.alternate2,alt:""})]})]}),E.jsxs("div",{id:"right",children:[E.jsxs("div",{className:"title-section",children:[E.jsxs("div",{className:"title",children:[E.jsx("p",{id:"main",children:t.productTitle}),E.jsx("p",{id:"sub",children:t.productCategory})]}),E.jsxs("div",{className:"price-link",children:[E.jsx("div",{className:"title-left",children:E.jsx("p",{children:"$"})}),E.jsx("div",{className:"title-right",children:E.jsx("a",{href:"",children:"See in my room"})})]}),E.jsx("a",{href:"",children:"View specifications"})]}),E.jsxs("div",{className:"description",children:[E.jsx("p",{children:t.description}),E.jsxs("ul",{children:[E.jsx("li",{children:"Install up to 6,400 square feetNo need for transition molding."}),E.jsx("li",{children:"You can install it right awayPre-installation acclimation is unnecessary."}),E.jsx("li",{children:"Attached foam underlayment makes for a quieter, warmer floor."}),E.jsx("li",{children:"Can be installed on, above, and below grade-level (perfect for basements!) and over most existing hard-surface flooring, including slightly irregular subfloors."}),E.jsx("li",{children:"This DuraLux Performance product is backed by a lifetime res./ 15 yr comm. warranty."}),E.jsx("li",{children:"It is recommended to use Sentinel Protect Plus Underlayment for optimal sound absorption and moisture resistance or a standard vapor barrier like 6mil PE Film."})]}),E.jsx("a",{href:"",children:"Product Details"}),E.jsx("a",{href:"",children:"Reviews"})]})]})]}),E.jsxs("div",{className:"secondary-content",children:[E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:We,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})}),E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:We,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})}),E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:We,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"main-content",children:[E.jsxs("div",{id:"left",children:[E.jsx("div",{className:"main-image",children:E.jsx("img",{src:We,alt:""})}),E.jsxs("div",{className:"thumbnails",children:[E.jsx("img",{src:We,alt:""}),E.jsx("img",{src:We,alt:""}),E.jsx("img",{src:We,alt:""})]})]}),E.jsxs("div",{id:"right",children:[E.jsxs("div",{className:"title-section",children:[E.jsxs("div",{className:"title",children:[E.jsx("p",{id:"main",children:"Deafult Title"}),E.jsx("p",{id:"sub",children:"Default Category"})]}),E.jsxs("div",{className:"price-link",children:[E.jsx("div",{className:"title-left",children:E.jsx("p",{children:"$"})}),E.jsx("div",{className:"title-right",children:E.jsx("a",{href:"",children:"See in my room"})})]}),E.jsx("a",{href:"",children:"View specifications"})]}),E.jsxs("div",{className:"description",children:[E.jsx("p",{children:"Default Description"}),E.jsx("a",{href:"",children:"Product Details"}),E.jsx("a",{href:"",children:"Reviews"})]})]})]}),E.jsxs("div",{className:"secondary-content",children:[E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:We,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})}),E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:We,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})}),E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:We,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})})]})]})};rR.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We},suggested1:{defaultImage:We},suggested2:{defaultImage:We},suggested3:{defaultImage:We}};function x5(){return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"product-detail-page",children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"product detail"}),E.jsx(Tf,{}),E.jsx(rR,{}),E.jsx(rc,{})]})})}function R5(){return E.jsxs(E.Fragment,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"Designer"}),E.jsx(Tf,{}),E.jsx(rc,{})]})}const A5=()=>{const n=js(),e=async()=>{await ly(),n("/")};return E.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[E.jsx(Sn,{to:"/",className:"text-2xl font-bold",children:E.jsx("div",{className:"logo",children:"URENO"})}),E.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[E.jsxs(Sn,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[E.jsx(Tj,{className:"w-5 h-5"})," Settings"]}),E.jsxs(Sn,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[E.jsx(gj,{className:"w-5 h-5"})," Notifications"]}),E.jsxs(Sn,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[E.jsx(wj,{className:"w-5 h-5"})," Log Out"]})]})]})},iR=n=>C.forwardRef((e,t)=>E.jsx("div",{...e,ref:t,className:Nt(e.className,n)})),Ry=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=$t(e,"card-body"),E.jsx(t,{ref:i,className:Nt(n,e),...r})));Ry.displayName="CardBody";const sR=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=$t(e,"card-footer"),E.jsx(t,{ref:i,className:Nt(n,e),...r})));sR.displayName="CardFooter";const oR=C.createContext(null);oR.displayName="CardHeaderContext";const aR=C.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=$t(n,"card-header"),l=C.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return E.jsx(oR.Provider,{value:l,children:E.jsx(t,{ref:i,...r,className:Nt(e,a)})})});aR.displayName="CardHeader";const lR=C.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=$t(n,"card-img");return E.jsx(r,{ref:a,className:Nt(t?`${l}-${t}`:l,e),...i})});lR.displayName="CardImg";const uR=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=$t(e,"card-img-overlay"),E.jsx(t,{ref:i,className:Nt(n,e),...r})));uR.displayName="CardImgOverlay";const cR=C.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=$t(e,"card-link"),E.jsx(t,{ref:i,className:Nt(n,e),...r})));cR.displayName="CardLink";const P5=iR("h6"),dR=C.forwardRef(({className:n,bsPrefix:e,as:t=P5,...r},i)=>(e=$t(e,"card-subtitle"),E.jsx(t,{ref:i,className:Nt(n,e),...r})));dR.displayName="CardSubtitle";const hR=C.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=$t(e,"card-text"),E.jsx(t,{ref:i,className:Nt(n,e),...r})));hR.displayName="CardText";const k5=iR("h5"),fR=C.forwardRef(({className:n,bsPrefix:e,as:t=k5,...r},i)=>(e=$t(e,"card-title"),E.jsx(t,{ref:i,className:Nt(n,e),...r})));fR.displayName="CardTitle";const pR=C.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:c="div",...f},p)=>{const g=$t(n,"card");return E.jsx(c,{ref:p,...f,className:Nt(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?E.jsx(Ry,{children:l}):l})});pR.displayName="Card";const bm=Object.assign(pR,{Img:lR,Title:fR,Subtitle:dR,Body:Ry,Link:cR,Text:hR,Header:aR,Footer:sR,ImgOverlay:uR}),b5="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png",N5=Dv(ay),D5=async n=>{const e=bv(N5,"users",n),t=await pM(e);return t.exists()?t.data():null},mR=C.createContext(),O5=()=>C.useContext(mR),L5=({children:n})=>{const[e,t]=C.useState(null),[r,i]=C.useState(null),[a,l]=C.useState(!0);return C.useEffect(()=>{const c=ev(yc,async f=>{if(t(f),f)try{const p=await D5(f.uid),g={displayName:f.displayName||"",email:f.email||"",photoURL:f.photoURL||""};i(p||g)}catch(p){console.error("Failed to fetch user profile:",p.message)}else i(null);l(!1)});return()=>c()},[]),E.jsx(mR.Provider,{value:{user:e,profile:r,loading:a},children:n})};function M5(){var r,i;const{user:n,profile:e,loading:t}=O5();return t?E.jsx("p",{children:"Loading..."}):!n||!e?E.jsx("p",{children:"User not found nor not logged in."}):E.jsxs(E.Fragment,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"Profile"}),E.jsx(A5,{}),E.jsx("div",{className:"main-content max-w-6xl mx-auto p-6",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6 ",children:[E.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsx(bm,{children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),E.jsxs("p",{classname:"text-gray-500",children:[((r=e.homeProjects)==null?void 0:r.filter(a=>a.status==="in progress").length)||0," Ongoing, "," ",((i=e.homeProjects)==null?void 0:i.filter(a=>a.status==="in progress").length)||0," Completed"]}),E.jsx(Va,{variant:"link",className:"mt-2",children:"View projects"})]})}),E.jsx(bm,{children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Saved Items"}),E.jsx("p",{className:"text-gray-500",children:"12 Materials Favorited"}),E.jsx(Va,{variant:"link",className:"mt-2",children:"View Favorites"})]})}),E.jsx(bm,{children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Messages & Notifications"}),E.jsx("p",{className:"text-gray-500",children:"2 Unread Messages"}),E.jsx(Va,{variant:"link",className:"mt-2",children:"Go to Messages"})]})})]}),E.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center ",children:[E.jsx("h2",{className:"text-2xl font-bold mt-4",children:e.username||n.displayName}),E.jsx("img",{src:b5}),E.jsx("p",{className:"text-gray-500",children:n.email}),E.jsx(Va,{className:"mt-2",children:"Edit Profile"})]})]})}),E.jsx(rc,{})]})}xA.createRoot(document.getElementById("root")).render(E.jsx(C.StrictMode,{children:E.jsx(l3,{children:E.jsx(L5,{children:E.jsx($2,{basename:"/Ureno_webdesign/",children:E.jsxs(y2,{children:[E.jsx(ms,{path:"/",element:E.jsx(x9,{})}),E.jsx(ms,{path:"/product-page",element:E.jsx(D9,{})}),E.jsx(ms,{path:"/productDetail/:productId",element:E.jsx(x5,{})}),E.jsx(ms,{path:"/designerPage",element:E.jsx(R5,{})}),E.jsx(ms,{path:"/ProfileDashboard",element:E.jsx(M5,{})}),E.jsx(ms,{path:"/sign-in",element:E.jsx(I5,{})}),E.jsx(ms,{path:"/sign-up",element:E.jsx(S5,{})})]})})})})}));
