(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Hh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zp={exports:{}},cu={},em={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function xA(){if(V0)return Le;V0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function x($,Y,fe){this.props=$,this.context=Y,this.refs=b,this.updater=fe||S}x.prototype.isReactComponent={},x.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},x.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=x.prototype;function z($,Y,fe){this.props=$,this.context=Y,this.refs=b,this.updater=fe||S}var B=z.prototype=new F;B.constructor=z,A(B,x.prototype),B.isPureReactComponent=!0;var G=Array.isArray,X=Object.prototype.hasOwnProperty,Z={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function P($,Y,fe){var Ie,Re={},De=null,Ve=null;if(Y!=null)for(Ie in Y.ref!==void 0&&(Ve=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)X.call(Y,Ie)&&!D.hasOwnProperty(Ie)&&(Re[Ie]=Y[Ie]);var Oe=arguments.length-2;if(Oe===1)Re.children=fe;else if(1<Oe){for(var Qe=Array(Oe),Et=0;Et<Oe;Et++)Qe[Et]=arguments[Et+2];Re.children=Qe}if($&&$.defaultProps)for(Ie in Oe=$.defaultProps,Oe)Re[Ie]===void 0&&(Re[Ie]=Oe[Ie]);return{$$typeof:n,type:$,key:De,ref:Ve,props:Re,_owner:Z.current}}function k($,Y){return{$$typeof:n,type:$.type,key:Y,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function M($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return Y[fe]})}var V=/\/+/g;function N($,Y){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):Y.toString(36)}function le($,Y,fe,Ie,Re){var De=typeof $;(De==="undefined"||De==="boolean")&&($=null);var Ve=!1;if($===null)Ve=!0;else switch(De){case"string":case"number":Ve=!0;break;case"object":switch($.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=$,Re=Re(Ve),$=Ie===""?"."+N(Ve,0):Ie,G(Re)?(fe="",$!=null&&(fe=$.replace(V,"$&/")+"/"),le(Re,Y,fe,"",function(Et){return Et})):Re!=null&&(L(Re)&&(Re=k(Re,fe+(!Re.key||Ve&&Ve.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+$)),Y.push(Re)),1;if(Ve=0,Ie=Ie===""?".":Ie+":",G($))for(var Oe=0;Oe<$.length;Oe++){De=$[Oe];var Qe=Ie+N(De,Oe);Ve+=le(De,Y,fe,Qe,Re)}else if(Qe=T($),typeof Qe=="function")for($=Qe.call($),Oe=0;!(De=$.next()).done;)De=De.value,Qe=Ie+N(De,Oe++),Ve+=le(De,Y,fe,Qe,Re);else if(De==="object")throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Se($,Y,fe){if($==null)return $;var Ie=[],Re=0;return le($,Ie,"","",function(De){return Y.call(fe,De,Re++)}),Ie}function xe($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var we={current:null},ie={transition:null},ue={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Z};function se(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Se,forEach:function($,Y,fe){Se($,function(){Y.apply(this,arguments)},fe)},count:function($){var Y=0;return Se($,function(){Y++}),Y},toArray:function($){return Se($,function(Y){return Y})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=z,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Le.act=se,Le.cloneElement=function($,Y,fe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ie=A({},$.props),Re=$.key,De=$.ref,Ve=$._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Ve=Z.current),Y.key!==void 0&&(Re=""+Y.key),$.type&&$.type.defaultProps)var Oe=$.type.defaultProps;for(Qe in Y)X.call(Y,Qe)&&!D.hasOwnProperty(Qe)&&(Ie[Qe]=Y[Qe]===void 0&&Oe!==void 0?Oe[Qe]:Y[Qe])}var Qe=arguments.length-2;if(Qe===1)Ie.children=fe;else if(1<Qe){Oe=Array(Qe);for(var Et=0;Et<Qe;Et++)Oe[Et]=arguments[Et+2];Ie.children=Oe}return{$$typeof:n,type:$.type,key:Re,ref:De,props:Ie,_owner:Ve}},Le.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Le.createElement=P,Le.createFactory=function($){var Y=P.bind(null,$);return Y.type=$,Y},Le.createRef=function(){return{current:null}},Le.forwardRef=function($){return{$$typeof:c,render:$}},Le.isValidElement=L,Le.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:xe}},Le.memo=function($,Y){return{$$typeof:p,type:$,compare:Y===void 0?null:Y}},Le.startTransition=function($){var Y=ie.transition;ie.transition={};try{$()}finally{ie.transition=Y}},Le.unstable_act=se,Le.useCallback=function($,Y){return we.current.useCallback($,Y)},Le.useContext=function($){return we.current.useContext($)},Le.useDebugValue=function(){},Le.useDeferredValue=function($){return we.current.useDeferredValue($)},Le.useEffect=function($,Y){return we.current.useEffect($,Y)},Le.useId=function(){return we.current.useId()},Le.useImperativeHandle=function($,Y,fe){return we.current.useImperativeHandle($,Y,fe)},Le.useInsertionEffect=function($,Y){return we.current.useInsertionEffect($,Y)},Le.useLayoutEffect=function($,Y){return we.current.useLayoutEffect($,Y)},Le.useMemo=function($,Y){return we.current.useMemo($,Y)},Le.useReducer=function($,Y,fe){return we.current.useReducer($,Y,fe)},Le.useRef=function($){return we.current.useRef($)},Le.useState=function($){return we.current.useState($)},Le.useSyncExternalStore=function($,Y,fe){return we.current.useSyncExternalStore($,Y,fe)},Le.useTransition=function(){return we.current.useTransition()},Le.version="18.3.1",Le}var F0;function Dg(){return F0||(F0=1,em.exports=xA()),em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function RA(){if(j0)return cu;j0=1;var n=Dg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},T=null,S=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:T,ref:S,props:_,_owner:i.current}}return cu.Fragment=t,cu.jsx=l,cu.jsxs=l,cu}var U0;function AA(){return U0||(U0=1,Zp.exports=RA()),Zp.exports}var E=AA(),C=Dg();const fn=Hh(C);var Vd={},tm={exports:{}},Tn={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function PA(){return $0||($0=1,function(n){function e(ie,ue){var se=ie.length;ie.push(ue);e:for(;0<se;){var $=se-1>>>1,Y=ie[$];if(0<i(Y,ue))ie[$]=ue,ie[se]=Y,se=$;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ue=ie[0],se=ie.pop();if(se!==ue){ie[0]=se;e:for(var $=0,Y=ie.length,fe=Y>>>1;$<fe;){var Ie=2*($+1)-1,Re=ie[Ie],De=Ie+1,Ve=ie[De];if(0>i(Re,se))De<Y&&0>i(Ve,Re)?(ie[$]=Ve,ie[De]=se,$=De):(ie[$]=Re,ie[Ie]=se,$=Ie);else if(De<Y&&0>i(Ve,se))ie[$]=Ve,ie[De]=se,$=De;else break e}}return ue}function i(ie,ue){var se=ie.sortIndex-ue.sortIndex;return se!==0?se:ie.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,T=3,S=!1,A=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var ue=t(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=ie)r(p),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(p)}}function G(ie){if(b=!1,B(ie),!A)if(t(f)!==null)A=!0,xe(X);else{var ue=t(p);ue!==null&&we(G,ue.startTime-ie)}}function X(ie,ue){A=!1,b&&(b=!1,F(P),P=-1),S=!0;var se=T;try{for(B(ue),_=t(f);_!==null&&(!(_.expirationTime>ue)||ie&&!M());){var $=_.callback;if(typeof $=="function"){_.callback=null,T=_.priorityLevel;var Y=$(_.expirationTime<=ue);ue=n.unstable_now(),typeof Y=="function"?_.callback=Y:_===t(f)&&r(f),B(ue)}else r(f);_=t(f)}if(_!==null)var fe=!0;else{var Ie=t(p);Ie!==null&&we(G,Ie.startTime-ue),fe=!1}return fe}finally{_=null,T=se,S=!1}}var Z=!1,D=null,P=-1,k=5,L=-1;function M(){return!(n.unstable_now()-L<k)}function V(){if(D!==null){var ie=n.unstable_now();L=ie;var ue=!0;try{ue=D(!0,ie)}finally{ue?N():(Z=!1,D=null)}}else Z=!1}var N;if(typeof z=="function")N=function(){z(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=V,N=function(){Se.postMessage(null)}}else N=function(){x(V,0)};function xe(ie){D=ie,Z||(Z=!0,N())}function we(ie,ue){P=x(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){A||S||(A=!0,xe(X))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var se=T;T=ue;try{return ie()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=T;T=ie;try{return ue()}finally{T=se}},n.unstable_scheduleCallback=function(ie,ue,se){var $=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$+se:$):se=$,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,ie={id:g++,callback:ue,priorityLevel:ie,startTime:se,expirationTime:Y,sortIndex:-1},se>$?(ie.sortIndex=se,e(p,ie),t(f)===null&&ie===t(p)&&(b?(F(P),P=-1):b=!0,we(G,se-$))):(ie.sortIndex=Y,e(f,ie),A||S||(A=!0,xe(X))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var ue=T;return function(){var se=T;T=ue;try{return ie.apply(this,arguments)}finally{T=se}}}}(rm)),rm}var z0;function kA(){return z0||(z0=1,nm.exports=PA()),nm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function bA(){if(B0)return Tn;B0=1;var n=Dg(),e=kA();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function S(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,u,h){if(o===null||typeof o>"u"||S(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,u,h,m,y,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=I}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];x[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,z);x[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,z);x[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,z);x[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,o,u,h){var m=x.hasOwnProperty(o)?x[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,m,h)&&(u=null),h||m===null?T(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Z=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,$;function Y(s){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var fe=!1;function Ie(s,o){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var h=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){h=K}s.call(o.prototype)}else{try{throw Error()}catch(K){h=K}s()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=h.stack.split(`
`),I=m.length-1,O=y.length-1;1<=I&&0<=O&&m[I]!==y[O];)O--;for(;1<=I&&0<=O;I--,O--)if(m[I]!==y[O]){if(I!==1||O!==1)do if(I--,O--,0>O||m[I]!==y[O]){var j=`
`+m[I].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=I&&0<=O);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Y(s):""}function Re(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ie(s.type,!1),s;case 11:return s=Ie(s.type.render,!1),s;case 1:return s=Ie(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Z:return"Portal";case k:return"Profiler";case P:return"StrictMode";case N:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return o=s.displayName||null,o!==null?o:De(s.type)||"Memo";case xe:o=s._payload,s=s._init;try{return De(s(o))}catch{}}return null}function Ve(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=Qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){h=""+I,y.call(this,I)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function kn(s){s._valueTracker||(s._valueTracker=Et(s))}function Li(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=Qe(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function ir(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Jr(s,o){var u=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Mi(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Vi(s,o){o=o.checked,o!=null&&B(s,"checked",o,!1)}function Fi(s,o){Vi(s,o);var u=Oe(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ji(s,o.type,u):o.hasOwnProperty("defaultValue")&&ji(s,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Wo(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ji(s,o,u){(o!=="number"||ir(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var zt=Array.isArray;function pn(s,o,u,h){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ui(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Zr(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(zt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Oe(u)}}function Ar(s,o){var u=Oe(o.value),h=Oe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function $i(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?pt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Un,wl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Un=Un||document.createElement("div"),Un.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Un.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function zi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qs=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(s){qs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Hs[o]=Hs[s]})});function El(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Hs.hasOwnProperty(s)&&Hs[s]?(""+o).trim():o+"px"}function Tl(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=El(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,m):s[u]=m}}var Il=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(s,o){if(o){if(Il[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Sl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ks=null;function Ho(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qo=null,$n=null,Pr=null;function Ko(s){if(s=Ql(s)){if(typeof qo!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Jc(o),qo(s.stateNode,s.type,o))}}function kr(s){$n?Pr?Pr.push(s):Pr=[s]:$n=s}function xl(){if($n){var s=$n,o=Pr;if(Pr=$n=null,Ko(s),o)for(s=0;s<o.length;s++)Ko(o[s])}}function Gs(s,o){return s(o)}function Rl(){}var ei=!1;function Al(s,o,u){if(ei)return s(o,u);ei=!0;try{return Gs(s,o,u)}finally{ei=!1,($n!==null||Pr!==null)&&(Rl(),xl())}}function yt(s,o){var u=s.stateNode;if(u===null)return null;var h=Jc(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Go=!1;if(c)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Go=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Go=!1}function Qs(s,o,u,h,m,y,I,O,j){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(te){this.onError(te)}}var Ys=!1,Qo=null,or=!1,Pl=null,Rf={onError:function(s){Ys=!0,Qo=s}};function Yo(s,o,u,h,m,y,I,O,j){Ys=!1,Qo=null,Qs.apply(Rf,arguments)}function Ic(s,o,u,h,m,y,I,O,j){if(Yo.apply(this,arguments),Ys){if(Ys){var K=Qo;Ys=!1,Qo=null}else throw Error(t(198));or||(or=!0,Pl=K)}}function ar(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Xs(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function lr(s){if(ar(s)!==s)throw Error(t(188))}function Cc(s){var o=s.alternate;if(!o){if(o=ar(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return lr(m),s;if(y===h)return lr(m),o;y=y.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=y;else{for(var I=!1,O=m.child;O;){if(O===u){I=!0,u=m,h=y;break}if(O===h){I=!0,h=m,u=y;break}O=O.sibling}if(!I){for(O=y.child;O;){if(O===u){I=!0,u=y,h=m;break}if(O===h){I=!0,h=y,u=m;break}O=O.sibling}if(!I)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function kl(s){return s=Cc(s),s!==null?Xo(s):null}function Xo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Xo(s);if(o!==null)return o;s=s.sibling}return null}var Jo=e.unstable_scheduleCallback,bl=e.unstable_cancelCallback,Sc=e.unstable_shouldYield,Af=e.unstable_requestPaint,tt=e.unstable_now,xc=e.unstable_getCurrentPriorityLevel,Js=e.unstable_ImmediatePriority,Bi=e.unstable_UserBlockingPriority,zn=e.unstable_NormalPriority,Nl=e.unstable_LowPriority,Rc=e.unstable_IdlePriority,Zs=null,bn=null;function Ac(s){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:kc,Dl=Math.log,Pc=Math.LN2;function kc(s){return s>>>=0,s===0?32:31-(Dl(s)/Pc|0)|0}var Zo=64,ea=4194304;function Wi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function eo(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,I=u&268435455;if(I!==0){var O=I&~m;O!==0?h=Wi(O):(y&=I,y!==0&&(h=Wi(y)))}else I=u&~m,I!==0?h=Wi(I):y!==0&&(h=Wi(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-un(o),m=1<<u,h|=s[u],o&=~m;return h}function Pf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var I=31-un(y),O=1<<I,j=m[I];j===-1?((O&u)===0||(O&h)!==0)&&(m[I]=Pf(O,o)):j<=o&&(s.expiredLanes|=O),y&=~O}}function Nn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function to(){var s=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),s}function Hi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function qi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-un(o),s[o]=u}function et(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-un(u),y=1<<m;o[m]=0,h[m]=-1,s[m]=-1,u&=~y}}function Ki(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-un(u),m=1<<h;m&o|s[h]&o&&(s[h]|=o),u&=~m}}var Ue=0;function Gi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var bc,ta,Nc,Dc,Oc,Ol=!1,br=[],Bt=null,ur=null,cr=null,Qi=new Map,Bn=new Map,Nr=[],kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(s,o){switch(s){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Qi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(o.pointerId)}}function mn(s,o,u,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Ql(o),o!==null&&ta(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function bf(s,o,u,h,m){switch(o){case"focusin":return Bt=mn(Bt,s,o,u,h,m),!0;case"dragenter":return ur=mn(ur,s,o,u,h,m),!0;case"mouseover":return cr=mn(cr,s,o,u,h,m),!0;case"pointerover":var y=m.pointerId;return Qi.set(y,mn(Qi.get(y)||null,s,o,u,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Bn.set(y,mn(Bn.get(y)||null,s,o,u,h,m)),!0}return!1}function Mc(s){var o=oo(s.target);if(o!==null){var u=ar(o);if(u!==null){if(o=u.tag,o===13){if(o=Xs(u),o!==null){s.blockedOn=o,Oc(s.priority,function(){Nc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ni(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=na(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Ks=h,u.target.dispatchEvent(h),Ks=null}else return o=Ql(u),o!==null&&ta(o),s.blockedOn=u,!1;o.shift()}return!0}function no(s,o,u){ni(s)&&u.delete(o)}function Vc(){Ol=!1,Bt!==null&&ni(Bt)&&(Bt=null),ur!==null&&ni(ur)&&(ur=null),cr!==null&&ni(cr)&&(cr=null),Qi.forEach(no),Bn.forEach(no)}function dr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vc)))}function hr(s){function o(m){return dr(m,s)}if(0<br.length){dr(br[0],s);for(var u=1;u<br.length;u++){var h=br[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Bt!==null&&dr(Bt,s),ur!==null&&dr(ur,s),cr!==null&&dr(cr,s),Qi.forEach(o),Bn.forEach(o),u=0;u<Nr.length;u++)h=Nr[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Nr.length&&(u=Nr[0],u.blockedOn===null);)Mc(u),u.blockedOn===null&&Nr.shift()}var ri=G.ReactCurrentBatchConfig,Yi=!0;function ut(s,o,u,h){var m=Ue,y=ri.transition;ri.transition=null;try{Ue=1,Ll(s,o,u,h)}finally{Ue=m,ri.transition=y}}function Nf(s,o,u,h){var m=Ue,y=ri.transition;ri.transition=null;try{Ue=4,Ll(s,o,u,h)}finally{Ue=m,ri.transition=y}}function Ll(s,o,u,h){if(Yi){var m=na(s,o,u,h);if(m===null)Bf(s,o,h,ro,u),Lc(s,h);else if(bf(m,s,o,u,h))h.stopPropagation();else if(Lc(s,h),o&4&&-1<kf.indexOf(s)){for(;m!==null;){var y=Ql(m);if(y!==null&&bc(y),y=na(s,o,u,h),y===null&&Bf(s,o,h,ro,u),y===m)break;m=y}m!==null&&h.stopPropagation()}else Bf(s,o,h,null,u)}}var ro=null;function na(s,o,u,h){if(ro=null,s=Ho(h),s=oo(s),s!==null)if(o=ar(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Xs(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return ro=s,null}function Ml(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xc()){case Js:return 1;case Bi:return 4;case zn:case Nl:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Dn=null,ra=null,gn=null;function Vl(){if(gn)return gn;var s,o=ra,u=o.length,h,m="value"in Dn?Dn.value:Dn.textContent,y=m.length;for(s=0;s<u&&o[s]===m[s];s++);var I=u-s;for(h=1;h<=I&&o[u-h]===m[y-h];h++);return gn=m.slice(s,1<h?1-h:void 0)}function ia(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Dr(){return!0}function Fl(){return!1}function Wt(s){function o(u,h,m,y,I){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Dr:Fl,this.isPropagationStopped=Fl,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),o}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Wt(fr),Or=se({},fr,{view:0,detail:0}),Df=Wt(Or),oa,ii,Xi,io=se({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xi&&(Xi&&s.type==="mousemove"?(oa=s.screenX-Xi.screenX,ii=s.screenY-Xi.screenY):ii=oa=0,Xi=s),oa)},movementY:function(s){return"movementY"in s?s.movementY:ii}}),aa=Wt(io),jl=se({},io,{dataTransfer:0}),Fc=Wt(jl),la=se({},Or,{relatedTarget:0}),ua=Wt(la),jc=se({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),si=Wt(jc),Uc=se({},fr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$c=Wt(Uc),zc=se({},fr,{data:0}),Ul=Wt(zc),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Bc[s])?!!o[s]:!1}function Lr(){return Wc}var d=se({},Or,{key:function(s){if(s.key){var o=ca[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(s){return s.type==="keypress"?ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Wt(d),w=se({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Wt(w),W=se({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),Q=Wt(W),ae=se({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Wt(ae),xt=se({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Wt(xt),Ot=[9,13,27,32],Tt=c&&"CompositionEvent"in window,Wn=null;c&&"documentMode"in document&&(Wn=document.documentMode);var On=c&&"TextEvent"in window&&!Wn,so=c&&(!Tt||Wn&&8<Wn&&11>=Wn),da=" ",by=!1;function Ny(s,o){switch(s){case"keyup":return Ot.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ha=!1;function IR(s,o){switch(s){case"compositionend":return Dy(o);case"keypress":return o.which!==32?null:(by=!0,da);case"textInput":return s=o.data,s===da&&by?null:s;default:return null}}function CR(s,o){if(ha)return s==="compositionend"||!Tt&&Ny(s,o)?(s=Vl(),gn=ra=Dn=null,ha=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return so&&o.locale!=="ko"?null:o.data;default:return null}}var SR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!SR[s.type]:o==="textarea"}function Ly(s,o,u,h){kr(h),o=Qc(o,"onChange"),0<o.length&&(u=new sa("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var $l=null,zl=null;function xR(s){Zy(s,0)}function Hc(s){var o=va(s);if(Li(o))return s}function RR(s,o){if(s==="change")return o}var My=!1;if(c){var Of;if(c){var Lf="oninput"in document;if(!Lf){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),Lf=typeof Vy.oninput=="function"}Of=Lf}else Of=!1;My=Of&&(!document.documentMode||9<document.documentMode)}function Fy(){$l&&($l.detachEvent("onpropertychange",jy),zl=$l=null)}function jy(s){if(s.propertyName==="value"&&Hc(zl)){var o=[];Ly(o,zl,s,Ho(s)),Al(xR,o)}}function AR(s,o,u){s==="focusin"?(Fy(),$l=o,zl=u,$l.attachEvent("onpropertychange",jy)):s==="focusout"&&Fy()}function PR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hc(zl)}function kR(s,o){if(s==="click")return Hc(o)}function bR(s,o){if(s==="input"||s==="change")return Hc(o)}function NR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var pr=typeof Object.is=="function"?Object.is:NR;function Bl(s,o){if(pr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!pr(s[m],o[m]))return!1}return!0}function Uy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $y(s,o){var u=Uy(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Uy(u)}}function zy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?zy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function By(){for(var s=window,o=ir();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ir(s.document)}return o}function Mf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function DR(s){var o=By(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&zy(u.ownerDocument.documentElement,u)){if(h!==null&&Mf(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=$y(u,y);var I=$y(u,h);m&&I&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var OR=c&&"documentMode"in document&&11>=document.documentMode,fa=null,Vf=null,Wl=null,Ff=!1;function Wy(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ff||fa==null||fa!==ir(h)||(h=fa,"selectionStart"in h&&Mf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wl&&Bl(Wl,h)||(Wl=h,h=Qc(Vf,"onSelect"),0<h.length&&(o=new sa("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=fa)))}function qc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var pa={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},jf={},Hy={};c&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Kc(s){if(jf[s])return jf[s];if(!pa[s])return s;var o=pa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Hy)return jf[s]=o[u];return s}var qy=Kc("animationend"),Ky=Kc("animationiteration"),Gy=Kc("animationstart"),Qy=Kc("transitionend"),Yy=new Map,Xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(s,o){Yy.set(s,o),a(o,[s])}for(var Uf=0;Uf<Xy.length;Uf++){var $f=Xy[Uf],LR=$f.toLowerCase(),MR=$f[0].toUpperCase()+$f.slice(1);Ji(LR,"on"+MR)}Ji(qy,"onAnimationEnd"),Ji(Ky,"onAnimationIteration"),Ji(Gy,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(Qy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function Jy(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Ic(h,o,void 0,s),s.currentTarget=null}function Zy(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var I=h.length-1;0<=I;I--){var O=h[I],j=O.instance,K=O.currentTarget;if(O=O.listener,j!==y&&m.isPropagationStopped())break e;Jy(m,O,K),y=j}else for(I=0;I<h.length;I++){if(O=h[I],j=O.instance,K=O.currentTarget,O=O.listener,j!==y&&m.isPropagationStopped())break e;Jy(m,O,K),y=j}}}if(or)throw s=Pl,or=!1,Pl=null,s}function rt(s,o){var u=o[Qf];u===void 0&&(u=o[Qf]=new Set);var h=s+"__bubble";u.has(h)||(e_(o,s,2,!1),u.add(h))}function zf(s,o,u){var h=0;o&&(h|=4),e_(u,s,h,o)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function ql(s){if(!s[Gc]){s[Gc]=!0,r.forEach(function(u){u!=="selectionchange"&&(VR.has(u)||zf(u,!1,s),zf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Gc]||(o[Gc]=!0,zf("selectionchange",!1,o))}}function e_(s,o,u,h){switch(Ml(o)){case 1:var m=ut;break;case 4:m=Nf;break;default:m=Ll}u=m.bind(null,o,u,s),m=void 0,!Go||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Bf(s,o,u,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var O=h.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(I===4)for(I=h.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;I=I.return}for(;O!==null;){if(I=oo(O),I===null)return;if(j=I.tag,j===5||j===6){h=y=I;continue e}O=O.parentNode}}h=h.return}Al(function(){var K=y,te=Ho(u),ne=[];e:{var ee=Yy.get(s);if(ee!==void 0){var de=sa,me=s;switch(s){case"keypress":if(ia(u)===0)break e;case"keydown":case"keyup":de=v;break;case"focusin":me="focus",de=ua;break;case"focusout":me="blur",de=ua;break;case"beforeblur":case"afterblur":de=ua;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case qy:case Ky:case Gy:de=si;break;case Qy:de=Je;break;case"scroll":de=Df;break;case"wheel":de=Be;break;case"copy":case"cut":case"paste":de=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=R}var ge=(o&4)!==0,_t=!ge&&s==="scroll",H=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var U=K,q;U!==null;){q=U;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,H!==null&&(oe=yt(U,H),oe!=null&&ge.push(Kl(U,oe,q)))),_t)break;U=U.return}0<ge.length&&(ee=new de(ee,me,null,u,te),ne.push({event:ee,listeners:ge}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ee&&u!==Ks&&(me=u.relatedTarget||u.fromElement)&&(oo(me)||me[oi]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(me=u.relatedTarget||u.toElement,de=K,me=me?oo(me):null,me!==null&&(_t=ar(me),me!==_t||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=K),de!==me)){if(ge=aa,oe="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(ge=R,oe="onPointerLeave",H="onPointerEnter",U="pointer"),_t=de==null?ee:va(de),q=me==null?ee:va(me),ee=new ge(oe,U+"leave",de,u,te),ee.target=_t,ee.relatedTarget=q,oe=null,oo(te)===K&&(ge=new ge(H,U+"enter",me,u,te),ge.target=q,ge.relatedTarget=_t,oe=ge),_t=oe,de&&me)t:{for(ge=de,H=me,U=0,q=ge;q;q=ma(q))U++;for(q=0,oe=H;oe;oe=ma(oe))q++;for(;0<U-q;)ge=ma(ge),U--;for(;0<q-U;)H=ma(H),q--;for(;U--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=ma(ge),H=ma(H)}ge=null}else ge=null;de!==null&&t_(ne,ee,de,ge,!1),me!==null&&_t!==null&&t_(ne,_t,me,ge,!0)}}e:{if(ee=K?va(K):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ve=RR;else if(Oy(ee))if(My)ve=bR;else{ve=PR;var ye=AR}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ve=kR);if(ve&&(ve=ve(s,K))){Ly(ne,ve,u,te);break e}ye&&ye(s,ee,K),s==="focusout"&&(ye=ee._wrapperState)&&ye.controlled&&ee.type==="number"&&ji(ee,"number",ee.value)}switch(ye=K?va(K):window,s){case"focusin":(Oy(ye)||ye.contentEditable==="true")&&(fa=ye,Vf=K,Wl=null);break;case"focusout":Wl=Vf=fa=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Wy(ne,u,te);break;case"selectionchange":if(OR)break;case"keydown":case"keyup":Wy(ne,u,te)}var _e;if(Tt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ha?Ny(s,u)&&(Ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(so&&u.locale!=="ko"&&(ha||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ha&&(_e=Vl()):(Dn=te,ra="value"in Dn?Dn.value:Dn.textContent,ha=!0)),ye=Qc(K,Ae),0<ye.length&&(Ae=new Ul(Ae,s,null,u,te),ne.push({event:Ae,listeners:ye}),_e?Ae.data=_e:(_e=Dy(u),_e!==null&&(Ae.data=_e)))),(_e=On?IR(s,u):CR(s,u))&&(K=Qc(K,"onBeforeInput"),0<K.length&&(te=new Ul("onBeforeInput","beforeinput",null,u,te),ne.push({event:te,listeners:K}),te.data=_e))}Zy(ne,o)})}function Kl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Qc(s,o){for(var u=o+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=yt(s,u),y!=null&&h.unshift(Kl(s,y,m)),y=yt(s,o),y!=null&&h.push(Kl(s,y,m))),s=s.return}return h}function ma(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function t_(s,o,u,h,m){for(var y=o._reactName,I=[];u!==null&&u!==h;){var O=u,j=O.alternate,K=O.stateNode;if(j!==null&&j===h)break;O.tag===5&&K!==null&&(O=K,m?(j=yt(u,y),j!=null&&I.unshift(Kl(u,j,O))):m||(j=yt(u,y),j!=null&&I.push(Kl(u,j,O)))),u=u.return}I.length!==0&&s.push({event:o,listeners:I})}var FR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function n_(s){return(typeof s=="string"?s:""+s).replace(FR,`
`).replace(jR,"")}function Yc(s,o,u){if(o=n_(o),n_(s)!==o&&u)throw Error(t(425))}function Xc(){}var Wf=null,Hf=null;function qf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,UR=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,$R=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(s){return r_.resolve(null).then(s).catch(zR)}:Kf;function zR(s){setTimeout(function(){throw s})}function Gf(s,o){var u=o,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),hr(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);hr(o)}function Zi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function i_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Mr="__reactFiber$"+ga,Gl="__reactProps$"+ga,oi="__reactContainer$"+ga,Qf="__reactEvents$"+ga,BR="__reactListeners$"+ga,WR="__reactHandles$"+ga;function oo(s){var o=s[Mr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[oi]||u[Mr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=i_(s);s!==null;){if(u=s[Mr])return u;s=i_(s)}return o}s=u,u=s.parentNode}return null}function Ql(s){return s=s[Mr]||s[oi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function va(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Jc(s){return s[Gl]||null}var Yf=[],ya=-1;function es(s){return{current:s}}function it(s){0>ya||(s.current=Yf[ya],Yf[ya]=null,ya--)}function nt(s,o){ya++,Yf[ya]=s.current,s.current=o}var ts={},Jt=es(ts),vn=es(!1),ao=ts;function _a(s,o){var u=s.type.contextTypes;if(!u)return ts;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function yn(s){return s=s.childContextTypes,s!=null}function Zc(){it(vn),it(Jt)}function s_(s,o,u){if(Jt.current!==ts)throw Error(t(168));nt(Jt,o),nt(vn,u)}function o_(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ve(s)||"Unknown",m));return se({},u,h)}function ed(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ts,ao=Jt.current,nt(Jt,s),nt(vn,vn.current),!0}function a_(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=o_(s,o,ao),h.__reactInternalMemoizedMergedChildContext=s,it(vn),it(Jt),nt(Jt,s)):it(vn),nt(vn,u)}var ai=null,td=!1,Xf=!1;function l_(s){ai===null?ai=[s]:ai.push(s)}function HR(s){td=!0,l_(s)}function ns(){if(!Xf&&ai!==null){Xf=!0;var s=0,o=Ue;try{var u=ai;for(Ue=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}ai=null,td=!1}catch(m){throw ai!==null&&(ai=ai.slice(s+1)),Jo(Js,ns),m}finally{Ue=o,Xf=!1}}return null}var wa=[],Ea=0,nd=null,rd=0,Hn=[],qn=0,lo=null,li=1,ui="";function uo(s,o){wa[Ea++]=rd,wa[Ea++]=nd,nd=s,rd=o}function u_(s,o,u){Hn[qn++]=li,Hn[qn++]=ui,Hn[qn++]=lo,lo=s;var h=li;s=ui;var m=32-un(h)-1;h&=~(1<<m),u+=1;var y=32-un(o)+m;if(30<y){var I=m-m%5;y=(h&(1<<I)-1).toString(32),h>>=I,m-=I,li=1<<32-un(o)+m|u<<m|h,ui=y+s}else li=1<<y|u<<m|h,ui=s}function Jf(s){s.return!==null&&(uo(s,1),u_(s,1,0))}function Zf(s){for(;s===nd;)nd=wa[--Ea],wa[Ea]=null,rd=wa[--Ea],wa[Ea]=null;for(;s===lo;)lo=Hn[--qn],Hn[qn]=null,ui=Hn[--qn],Hn[qn]=null,li=Hn[--qn],Hn[qn]=null}var Ln=null,Mn=null,ct=!1,mr=null;function c_(s,o){var u=Yn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function d_(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Ln=s,Mn=Zi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Ln=s,Mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=lo!==null?{id:li,overflow:ui}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Yn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Ln=s,Mn=null,!0):!1;default:return!1}}function ep(s){return(s.mode&1)!==0&&(s.flags&128)===0}function tp(s){if(ct){var o=Mn;if(o){var u=o;if(!d_(s,o)){if(ep(s))throw Error(t(418));o=Zi(u.nextSibling);var h=Ln;o&&d_(s,o)?c_(h,u):(s.flags=s.flags&-4097|2,ct=!1,Ln=s)}}else{if(ep(s))throw Error(t(418));s.flags=s.flags&-4097|2,ct=!1,Ln=s}}}function h_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ln=s}function id(s){if(s!==Ln)return!1;if(!ct)return h_(s),ct=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!qf(s.type,s.memoizedProps)),o&&(o=Mn)){if(ep(s))throw f_(),Error(t(418));for(;o;)c_(s,o),o=Zi(o.nextSibling)}if(h_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Mn=Zi(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Mn=null}}else Mn=Ln?Zi(s.stateNode.nextSibling):null;return!0}function f_(){for(var s=Mn;s;)s=Zi(s.nextSibling)}function Ta(){Mn=Ln=null,ct=!1}function np(s){mr===null?mr=[s]:mr.push(s)}var qR=G.ReactCurrentBatchConfig;function Yl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(I){var O=m.refs;I===null?delete O[y]:O[y]=I},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function sd(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function p_(s){var o=s._init;return o(s._payload)}function m_(s){function o(H,U){if(s){var q=H.deletions;q===null?(H.deletions=[U],H.flags|=16):q.push(U)}}function u(H,U){if(!s)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function h(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=cs(H,U),H.index=0,H.sibling=null,H}function y(H,U,q){return H.index=q,s?(q=H.alternate,q!==null?(q=q.index,q<U?(H.flags|=2,U):q):(H.flags|=2,U)):(H.flags|=1048576,U)}function I(H){return s&&H.alternate===null&&(H.flags|=2),H}function O(H,U,q,oe){return U===null||U.tag!==6?(U=Kp(q,H.mode,oe),U.return=H,U):(U=m(U,q),U.return=H,U)}function j(H,U,q,oe){var ve=q.type;return ve===D?te(H,U,q.props.children,oe,q.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===xe&&p_(ve)===U.type)?(oe=m(U,q.props),oe.ref=Yl(H,U,q),oe.return=H,oe):(oe=Pd(q.type,q.key,q.props,null,H.mode,oe),oe.ref=Yl(H,U,q),oe.return=H,oe)}function K(H,U,q,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Gp(q,H.mode,oe),U.return=H,U):(U=m(U,q.children||[]),U.return=H,U)}function te(H,U,q,oe,ve){return U===null||U.tag!==7?(U=yo(q,H.mode,oe,ve),U.return=H,U):(U=m(U,q),U.return=H,U)}function ne(H,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Kp(""+U,H.mode,q),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case X:return q=Pd(U.type,U.key,U.props,null,H.mode,q),q.ref=Yl(H,null,U),q.return=H,q;case Z:return U=Gp(U,H.mode,q),U.return=H,U;case xe:var oe=U._init;return ne(H,oe(U._payload),q)}if(zt(U)||ue(U))return U=yo(U,H.mode,q,null),U.return=H,U;sd(H,U)}return null}function ee(H,U,q,oe){var ve=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:O(H,U,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case X:return q.key===ve?j(H,U,q,oe):null;case Z:return q.key===ve?K(H,U,q,oe):null;case xe:return ve=q._init,ee(H,U,ve(q._payload),oe)}if(zt(q)||ue(q))return ve!==null?null:te(H,U,q,oe,null);sd(H,q)}return null}function de(H,U,q,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(q)||null,O(U,H,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return H=H.get(oe.key===null?q:oe.key)||null,j(U,H,oe,ve);case Z:return H=H.get(oe.key===null?q:oe.key)||null,K(U,H,oe,ve);case xe:var ye=oe._init;return de(H,U,q,ye(oe._payload),ve)}if(zt(oe)||ue(oe))return H=H.get(q)||null,te(U,H,oe,ve,null);sd(U,oe)}return null}function me(H,U,q,oe){for(var ve=null,ye=null,_e=U,Ae=U=0,Vt=null;_e!==null&&Ae<q.length;Ae++){_e.index>Ae?(Vt=_e,_e=null):Vt=_e.sibling;var Ge=ee(H,_e,q[Ae],oe);if(Ge===null){_e===null&&(_e=Vt);break}s&&_e&&Ge.alternate===null&&o(H,_e),U=y(Ge,U,Ae),ye===null?ve=Ge:ye.sibling=Ge,ye=Ge,_e=Vt}if(Ae===q.length)return u(H,_e),ct&&uo(H,Ae),ve;if(_e===null){for(;Ae<q.length;Ae++)_e=ne(H,q[Ae],oe),_e!==null&&(U=y(_e,U,Ae),ye===null?ve=_e:ye.sibling=_e,ye=_e);return ct&&uo(H,Ae),ve}for(_e=h(H,_e);Ae<q.length;Ae++)Vt=de(_e,H,Ae,q[Ae],oe),Vt!==null&&(s&&Vt.alternate!==null&&_e.delete(Vt.key===null?Ae:Vt.key),U=y(Vt,U,Ae),ye===null?ve=Vt:ye.sibling=Vt,ye=Vt);return s&&_e.forEach(function(ds){return o(H,ds)}),ct&&uo(H,Ae),ve}function ge(H,U,q,oe){var ve=ue(q);if(typeof ve!="function")throw Error(t(150));if(q=ve.call(q),q==null)throw Error(t(151));for(var ye=ve=null,_e=U,Ae=U=0,Vt=null,Ge=q.next();_e!==null&&!Ge.done;Ae++,Ge=q.next()){_e.index>Ae?(Vt=_e,_e=null):Vt=_e.sibling;var ds=ee(H,_e,Ge.value,oe);if(ds===null){_e===null&&(_e=Vt);break}s&&_e&&ds.alternate===null&&o(H,_e),U=y(ds,U,Ae),ye===null?ve=ds:ye.sibling=ds,ye=ds,_e=Vt}if(Ge.done)return u(H,_e),ct&&uo(H,Ae),ve;if(_e===null){for(;!Ge.done;Ae++,Ge=q.next())Ge=ne(H,Ge.value,oe),Ge!==null&&(U=y(Ge,U,Ae),ye===null?ve=Ge:ye.sibling=Ge,ye=Ge);return ct&&uo(H,Ae),ve}for(_e=h(H,_e);!Ge.done;Ae++,Ge=q.next())Ge=de(_e,H,Ae,Ge.value,oe),Ge!==null&&(s&&Ge.alternate!==null&&_e.delete(Ge.key===null?Ae:Ge.key),U=y(Ge,U,Ae),ye===null?ve=Ge:ye.sibling=Ge,ye=Ge);return s&&_e.forEach(function(SA){return o(H,SA)}),ct&&uo(H,Ae),ve}function _t(H,U,q,oe){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case X:e:{for(var ve=q.key,ye=U;ye!==null;){if(ye.key===ve){if(ve=q.type,ve===D){if(ye.tag===7){u(H,ye.sibling),U=m(ye,q.props.children),U.return=H,H=U;break e}}else if(ye.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===xe&&p_(ve)===ye.type){u(H,ye.sibling),U=m(ye,q.props),U.ref=Yl(H,ye,q),U.return=H,H=U;break e}u(H,ye);break}else o(H,ye);ye=ye.sibling}q.type===D?(U=yo(q.props.children,H.mode,oe,q.key),U.return=H,H=U):(oe=Pd(q.type,q.key,q.props,null,H.mode,oe),oe.ref=Yl(H,U,q),oe.return=H,H=oe)}return I(H);case Z:e:{for(ye=q.key;U!==null;){if(U.key===ye)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){u(H,U.sibling),U=m(U,q.children||[]),U.return=H,H=U;break e}else{u(H,U);break}else o(H,U);U=U.sibling}U=Gp(q,H.mode,oe),U.return=H,H=U}return I(H);case xe:return ye=q._init,_t(H,U,ye(q._payload),oe)}if(zt(q))return me(H,U,q,oe);if(ue(q))return ge(H,U,q,oe);sd(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(u(H,U.sibling),U=m(U,q),U.return=H,H=U):(u(H,U),U=Kp(q,H.mode,oe),U.return=H,H=U),I(H)):u(H,U)}return _t}var Ia=m_(!0),g_=m_(!1),od=es(null),ad=null,Ca=null,rp=null;function ip(){rp=Ca=ad=null}function sp(s){var o=od.current;it(od),s._currentValue=o}function op(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function Sa(s,o){ad=s,rp=Ca=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(_n=!0),s.firstContext=null)}function Kn(s){var o=s._currentValue;if(rp!==s)if(s={context:s,memoizedValue:o,next:null},Ca===null){if(ad===null)throw Error(t(308));Ca=s,ad.dependencies={lanes:0,firstContext:s}}else Ca=Ca.next=s;return o}var co=null;function ap(s){co===null?co=[s]:co.push(s)}function v_(s,o,u,h){var m=o.interleaved;return m===null?(u.next=u,ap(o)):(u.next=m.next,m.next=u),o.interleaved=u,ci(s,h)}function ci(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var rs=!1;function lp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y_(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function di(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function is(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ke&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,ci(s,u)}return m=h.interleaved,m===null?(o.next=o,ap(h)):(o.next=m.next,m.next=o),h.interleaved=o,ci(s,u)}function ld(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ki(s,u)}}function __(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=I:y=y.next=I,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function ud(s,o,u,h){var m=s.updateQueue;rs=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var j=O,K=j.next;j.next=null,I===null?y=K:I.next=K,I=j;var te=s.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==I&&(O===null?te.firstBaseUpdate=K:O.next=K,te.lastBaseUpdate=j))}if(y!==null){var ne=m.baseState;I=0,te=K=j=null,O=y;do{var ee=O.lane,de=O.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var me=s,ge=O;switch(ee=o,de=u,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ne=me.call(de,ne,ee);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ee=typeof me=="function"?me.call(de,ne,ee):me,ee==null)break e;ne=se({},ne,ee);break e;case 2:rs=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[O]:ee.push(O))}else de={eventTime:de,lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(K=te=de,j=ne):te=te.next=de,I|=ee;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(j=ne),m.baseState=j,m.firstBaseUpdate=K,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);po|=I,s.lanes=I,s.memoizedState=ne}}function w_(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Xl={},Vr=es(Xl),Jl=es(Xl),Zl=es(Xl);function ho(s){if(s===Xl)throw Error(t(174));return s}function up(s,o){switch(nt(Zl,o),nt(Jl,s),nt(Vr,Xl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=mt(o,s)}it(Vr),nt(Vr,o)}function xa(){it(Vr),it(Jl),it(Zl)}function E_(s){ho(Zl.current);var o=ho(Vr.current),u=mt(o,s.type);o!==u&&(nt(Jl,s),nt(Vr,u))}function cp(s){Jl.current===s&&(it(Vr),it(Jl))}var ht=es(0);function cd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var dp=[];function hp(){for(var s=0;s<dp.length;s++)dp[s]._workInProgressVersionPrimary=null;dp.length=0}var dd=G.ReactCurrentDispatcher,fp=G.ReactCurrentBatchConfig,fo=0,ft=null,Rt=null,Lt=null,hd=!1,eu=!1,tu=0,KR=0;function Zt(){throw Error(t(321))}function pp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!pr(s[u],o[u]))return!1;return!0}function mp(s,o,u,h,m,y){if(fo=y,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,dd.current=s===null||s.memoizedState===null?XR:JR,s=u(h,m),eu){y=0;do{if(eu=!1,tu=0,25<=y)throw Error(t(301));y+=1,Lt=Rt=null,o.updateQueue=null,dd.current=ZR,s=u(h,m)}while(eu)}if(dd.current=md,o=Rt!==null&&Rt.next!==null,fo=0,Lt=Rt=ft=null,hd=!1,o)throw Error(t(300));return s}function gp(){var s=tu!==0;return tu=0,s}function Fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ft.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Gn(){if(Rt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var o=Lt===null?ft.memoizedState:Lt.next;if(o!==null)Lt=o,Rt=s;else{if(s===null)throw Error(t(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Lt===null?ft.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function nu(s,o){return typeof o=="function"?o(s):o}function vp(s){var o=Gn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=Rt,m=h.baseQueue,y=u.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}h.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,h=h.baseState;var O=I=null,j=null,K=y;do{var te=K.lane;if((fo&te)===te)j!==null&&(j=j.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:s(h,K.action);else{var ne={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};j===null?(O=j=ne,I=h):j=j.next=ne,ft.lanes|=te,po|=te}K=K.next}while(K!==null&&K!==y);j===null?I=h:j.next=O,pr(h,o.memoizedState)||(_n=!0),o.memoizedState=h,o.baseState=I,o.baseQueue=j,u.lastRenderedState=h}if(s=u.interleaved,s!==null){m=s;do y=m.lane,ft.lanes|=y,po|=y,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function yp(s){var o=Gn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);pr(y,o.memoizedState)||(_n=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,h]}function T_(){}function I_(s,o){var u=ft,h=Gn(),m=o(),y=!pr(h.memoizedState,m);if(y&&(h.memoizedState=m,_n=!0),h=h.queue,_p(x_.bind(null,u,h,s),[s]),h.getSnapshot!==o||y||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,ru(9,S_.bind(null,u,h,m,o),void 0,null),Mt===null)throw Error(t(349));(fo&30)!==0||C_(u,o,m)}return m}function C_(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function S_(s,o,u,h){o.value=u,o.getSnapshot=h,R_(o)&&A_(s)}function x_(s,o,u){return u(function(){R_(o)&&A_(s)})}function R_(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!pr(s,u)}catch{return!0}}function A_(s){var o=ci(s,1);o!==null&&_r(o,s,1,-1)}function P_(s){var o=Fr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:s},o.queue=s,s=s.dispatch=YR.bind(null,ft,s),[o.memoizedState,s]}function ru(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function k_(){return Gn().memoizedState}function fd(s,o,u,h){var m=Fr();ft.flags|=s,m.memoizedState=ru(1|o,u,void 0,h===void 0?null:h)}function pd(s,o,u,h){var m=Gn();h=h===void 0?null:h;var y=void 0;if(Rt!==null){var I=Rt.memoizedState;if(y=I.destroy,h!==null&&pp(h,I.deps)){m.memoizedState=ru(o,u,y,h);return}}ft.flags|=s,m.memoizedState=ru(1|o,u,y,h)}function b_(s,o){return fd(8390656,8,s,o)}function _p(s,o){return pd(2048,8,s,o)}function N_(s,o){return pd(4,2,s,o)}function D_(s,o){return pd(4,4,s,o)}function O_(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function L_(s,o,u){return u=u!=null?u.concat([s]):null,pd(4,4,O_.bind(null,o,s),u)}function wp(){}function M_(s,o){var u=Gn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&pp(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function V_(s,o){var u=Gn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&pp(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function F_(s,o,u){return(fo&21)===0?(s.baseState&&(s.baseState=!1,_n=!0),s.memoizedState=u):(pr(u,o)||(u=to(),ft.lanes|=u,po|=u,s.baseState=!0),o)}function GR(s,o){var u=Ue;Ue=u!==0&&4>u?u:4,s(!0);var h=fp.transition;fp.transition={};try{s(!1),o()}finally{Ue=u,fp.transition=h}}function j_(){return Gn().memoizedState}function QR(s,o,u){var h=ls(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},U_(s))$_(o,u);else if(u=v_(s,o,u,h),u!==null){var m=hn();_r(u,s,h,m),z_(u,o,h)}}function YR(s,o,u){var h=ls(s),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(U_(s))$_(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var I=o.lastRenderedState,O=y(I,u);if(m.hasEagerState=!0,m.eagerState=O,pr(O,I)){var j=o.interleaved;j===null?(m.next=m,ap(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=v_(s,o,m,h),u!==null&&(m=hn(),_r(u,s,h,m),z_(u,o,h))}}function U_(s){var o=s.alternate;return s===ft||o!==null&&o===ft}function $_(s,o){eu=hd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function z_(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ki(s,u)}}var md={readContext:Kn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},XR={readContext:Kn,useCallback:function(s,o){return Fr().memoizedState=[s,o===void 0?null:o],s},useContext:Kn,useEffect:b_,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,fd(4194308,4,O_.bind(null,o,s),u)},useLayoutEffect:function(s,o){return fd(4194308,4,s,o)},useInsertionEffect:function(s,o){return fd(4,2,s,o)},useMemo:function(s,o){var u=Fr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Fr();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=QR.bind(null,ft,s),[h.memoizedState,s]},useRef:function(s){var o=Fr();return s={current:s},o.memoizedState=s},useState:P_,useDebugValue:wp,useDeferredValue:function(s){return Fr().memoizedState=s},useTransition:function(){var s=P_(!1),o=s[0];return s=GR.bind(null,s[1]),Fr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=ft,m=Fr();if(ct){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Mt===null)throw Error(t(349));(fo&30)!==0||C_(h,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,b_(x_.bind(null,h,y,s),[s]),h.flags|=2048,ru(9,S_.bind(null,h,y,u,o),void 0,null),u},useId:function(){var s=Fr(),o=Mt.identifierPrefix;if(ct){var u=ui,h=li;u=(h&~(1<<32-un(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=tu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=KR++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},JR={readContext:Kn,useCallback:M_,useContext:Kn,useEffect:_p,useImperativeHandle:L_,useInsertionEffect:N_,useLayoutEffect:D_,useMemo:V_,useReducer:vp,useRef:k_,useState:function(){return vp(nu)},useDebugValue:wp,useDeferredValue:function(s){var o=Gn();return F_(o,Rt.memoizedState,s)},useTransition:function(){var s=vp(nu)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:T_,useSyncExternalStore:I_,useId:j_,unstable_isNewReconciler:!1},ZR={readContext:Kn,useCallback:M_,useContext:Kn,useEffect:_p,useImperativeHandle:L_,useInsertionEffect:N_,useLayoutEffect:D_,useMemo:V_,useReducer:yp,useRef:k_,useState:function(){return yp(nu)},useDebugValue:wp,useDeferredValue:function(s){var o=Gn();return Rt===null?o.memoizedState=s:F_(o,Rt.memoizedState,s)},useTransition:function(){var s=yp(nu)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:T_,useSyncExternalStore:I_,useId:j_,unstable_isNewReconciler:!1};function gr(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Ep(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:se({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var gd={isMounted:function(s){return(s=s._reactInternals)?ar(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=hn(),m=ls(s),y=di(h,m);y.payload=o,u!=null&&(y.callback=u),o=is(s,y,m),o!==null&&(_r(o,s,m,h),ld(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=hn(),m=ls(s),y=di(h,m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=is(s,y,m),o!==null&&(_r(o,s,m,h),ld(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=hn(),h=ls(s),m=di(u,h);m.tag=2,o!=null&&(m.callback=o),o=is(s,m,h),o!==null&&(_r(o,s,h,u),ld(o,s,h))}};function B_(s,o,u,h,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,I):o.prototype&&o.prototype.isPureReactComponent?!Bl(u,h)||!Bl(m,y):!0}function W_(s,o,u){var h=!1,m=ts,y=o.contextType;return typeof y=="object"&&y!==null?y=Kn(y):(m=yn(o)?ao:Jt.current,h=o.contextTypes,y=(h=h!=null)?_a(s,m):ts),o=new o(u,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=gd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function H_(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&gd.enqueueReplaceState(o,o.state,null)}function Tp(s,o,u,h){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},lp(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Kn(y):(y=yn(o)?ao:Jt.current,m.context=_a(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Ep(s,o,y,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&gd.enqueueReplaceState(m,m.state,null),ud(s,u,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Ra(s,o){try{var u="",h=o;do u+=Re(h),h=h.return;while(h);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function Ip(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Cp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var eA=typeof WeakMap=="function"?WeakMap:Map;function q_(s,o,u){u=di(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Id||(Id=!0,jp=h),Cp(s,o)},u}function K_(s,o,u){u=di(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){Cp(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Cp(s,o),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function G_(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new eA;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),s=pA.bind(null,s,o,u),o.then(s,s))}function Q_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Y_(s,o,u,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=di(-1,1),o.tag=2,is(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var tA=G.ReactCurrentOwner,_n=!1;function dn(s,o,u,h){o.child=s===null?g_(o,null,u,h):Ia(o,s.child,u,h)}function X_(s,o,u,h,m){u=u.render;var y=o.ref;return Sa(o,m),h=mp(s,o,u,h,y,m),u=gp(),s!==null&&!_n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,hi(s,o,m)):(ct&&u&&Jf(o),o.flags|=1,dn(s,o,h,m),o.child)}function J_(s,o,u,h,m){if(s===null){var y=u.type;return typeof y=="function"&&!qp(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Z_(s,o,y,h,m)):(s=Pd(u.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var I=y.memoizedProps;if(u=u.compare,u=u!==null?u:Bl,u(I,h)&&s.ref===o.ref)return hi(s,o,m)}return o.flags|=1,s=cs(y,h),s.ref=o.ref,s.return=o,o.child=s}function Z_(s,o,u,h,m){if(s!==null){var y=s.memoizedProps;if(Bl(y,h)&&s.ref===o.ref)if(_n=!1,o.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(_n=!0);else return o.lanes=s.lanes,hi(s,o,m)}return Sp(s,o,u,h,m)}function e0(s,o,u){var h=o.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Pa,Vn),Vn|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,nt(Pa,Vn),Vn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,nt(Pa,Vn),Vn|=h}else y!==null?(h=y.baseLanes|u,o.memoizedState=null):h=u,nt(Pa,Vn),Vn|=h;return dn(s,o,m,u),o.child}function t0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Sp(s,o,u,h,m){var y=yn(u)?ao:Jt.current;return y=_a(o,y),Sa(o,m),u=mp(s,o,u,h,y,m),h=gp(),s!==null&&!_n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,hi(s,o,m)):(ct&&h&&Jf(o),o.flags|=1,dn(s,o,u,m),o.child)}function n0(s,o,u,h,m){if(yn(u)){var y=!0;ed(o)}else y=!1;if(Sa(o,m),o.stateNode===null)yd(s,o),W_(o,u,h),Tp(o,u,h,m),h=!0;else if(s===null){var I=o.stateNode,O=o.memoizedProps;I.props=O;var j=I.context,K=u.contextType;typeof K=="object"&&K!==null?K=Kn(K):(K=yn(u)?ao:Jt.current,K=_a(o,K));var te=u.getDerivedStateFromProps,ne=typeof te=="function"||typeof I.getSnapshotBeforeUpdate=="function";ne||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==h||j!==K)&&H_(o,I,h,K),rs=!1;var ee=o.memoizedState;I.state=ee,ud(o,h,I,m),j=o.memoizedState,O!==h||ee!==j||vn.current||rs?(typeof te=="function"&&(Ep(o,u,te,h),j=o.memoizedState),(O=rs||B_(o,u,O,h,ee,j,K))?(ne||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=j),I.props=h,I.state=j,I.context=K,h=O):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{I=o.stateNode,y_(s,o),O=o.memoizedProps,K=o.type===o.elementType?O:gr(o.type,O),I.props=K,ne=o.pendingProps,ee=I.context,j=u.contextType,typeof j=="object"&&j!==null?j=Kn(j):(j=yn(u)?ao:Jt.current,j=_a(o,j));var de=u.getDerivedStateFromProps;(te=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==ne||ee!==j)&&H_(o,I,h,j),rs=!1,ee=o.memoizedState,I.state=ee,ud(o,h,I,m);var me=o.memoizedState;O!==ne||ee!==me||vn.current||rs?(typeof de=="function"&&(Ep(o,u,de,h),me=o.memoizedState),(K=rs||B_(o,u,K,h,ee,me,j)||!1)?(te||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,me,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,me,j)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),I.props=h,I.state=me,I.context=j,h=K):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return xp(s,o,u,h,y,m)}function xp(s,o,u,h,m,y){t0(s,o);var I=(o.flags&128)!==0;if(!h&&!I)return m&&a_(o,u,!1),hi(s,o,y);h=o.stateNode,tA.current=o;var O=I&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&I?(o.child=Ia(o,s.child,null,y),o.child=Ia(o,null,O,y)):dn(s,o,O,y),o.memoizedState=h.state,m&&a_(o,u,!0),o.child}function r0(s){var o=s.stateNode;o.pendingContext?s_(s,o.pendingContext,o.pendingContext!==o.context):o.context&&s_(s,o.context,!1),up(s,o.containerInfo)}function i0(s,o,u,h,m){return Ta(),np(m),o.flags|=256,dn(s,o,u,h),o.child}var Rp={dehydrated:null,treeContext:null,retryLane:0};function Ap(s){return{baseLanes:s,cachePool:null,transitions:null}}function s0(s,o,u){var h=o.pendingProps,m=ht.current,y=!1,I=(o.flags&128)!==0,O;if((O=I)||(O=s!==null&&s.memoizedState===null?!1:(m&2)!==0),O?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),nt(ht,m&1),s===null)return tp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=h.children,s=h.fallback,y?(h=o.mode,y=o.child,I={mode:"hidden",children:I},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=I):y=kd(I,h,0,null),s=yo(s,h,u,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=Ap(u),o.memoizedState=Rp,s):Pp(o,I));if(m=s.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return nA(s,o,I,h,O,m,u);if(y){y=h.fallback,I=o.mode,m=s.child,O=m.sibling;var j={mode:"hidden",children:h.children};return(I&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=j,o.deletions=null):(h=cs(m,j),h.subtreeFlags=m.subtreeFlags&14680064),O!==null?y=cs(O,y):(y=yo(y,I,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,I=s.child.memoizedState,I=I===null?Ap(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=s.childLanes&~u,o.memoizedState=Rp,h}return y=s.child,s=y.sibling,h=cs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function Pp(s,o){return o=kd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function vd(s,o,u,h){return h!==null&&np(h),Ia(o,s.child,null,u),s=Pp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function nA(s,o,u,h,m,y,I){if(u)return o.flags&256?(o.flags&=-257,h=Ip(Error(t(422))),vd(s,o,I,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=kd({mode:"visible",children:h.children},m,0,null),y=yo(y,m,I,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Ia(o,s.child,null,I),o.child.memoizedState=Ap(I),o.memoizedState=Rp,y);if((o.mode&1)===0)return vd(s,o,I,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var O=h.dgst;return h=O,y=Error(t(419)),h=Ip(y,h,void 0),vd(s,o,I,h)}if(O=(I&s.childLanes)!==0,_n||O){if(h=Mt,h!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|I))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,ci(s,m),_r(h,s,m,-1))}return Hp(),h=Ip(Error(t(421))),vd(s,o,I,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=mA.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,Mn=Zi(m.nextSibling),Ln=o,ct=!0,mr=null,s!==null&&(Hn[qn++]=li,Hn[qn++]=ui,Hn[qn++]=lo,li=s.id,ui=s.overflow,lo=o),o=Pp(o,h.children),o.flags|=4096,o)}function o0(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),op(s.return,o,u)}function kp(s,o,u,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=m)}function a0(s,o,u){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(dn(s,o,h.children,u),h=ht.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&o0(s,u,o);else if(s.tag===19)o0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(nt(ht,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&cd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),kp(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&cd(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}kp(o,!0,u,null,y);break;case"together":kp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function yd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function hi(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),po|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=cs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=cs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function rA(s,o,u){switch(o.tag){case 3:r0(o),Ta();break;case 5:E_(o);break;case 1:yn(o.type)&&ed(o);break;case 4:up(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;nt(od,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(nt(ht,ht.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?s0(s,o,u):(nt(ht,ht.current&1),s=hi(s,o,u),s!==null?s.sibling:null);nt(ht,ht.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return a0(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(ht,ht.current),h)break;return null;case 22:case 23:return o.lanes=0,e0(s,o,u)}return hi(s,o,u)}var l0,bp,u0,c0;l0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},bp=function(){},u0=function(s,o,u,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,ho(Vr.current);var y=null;switch(u){case"input":m=Jr(s,m),h=Jr(s,h),y=[];break;case"select":m=se({},m,{value:void 0}),h=se({},h,{value:void 0}),y=[];break;case"textarea":m=Ui(s,m),h=Ui(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Xc)}Cl(u,h);var I;u=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var O=m[K];for(I in O)O.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in h){var j=h[K];if(O=m!=null?m[K]:void 0,h.hasOwnProperty(K)&&j!==O&&(j!=null||O!=null))if(K==="style")if(O){for(I in O)!O.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in j)j.hasOwnProperty(I)&&O[I]!==j[I]&&(u||(u={}),u[I]=j[I])}else u||(y||(y=[]),y.push(K,u)),u=j;else K==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,O=O?O.__html:void 0,j!=null&&O!==j&&(y=y||[]).push(K,j)):K==="children"?typeof j!="string"&&typeof j!="number"||(y=y||[]).push(K,""+j):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(j!=null&&K==="onScroll"&&rt("scroll",s),y||O===j||(y=[])):(y=y||[]).push(K,j))}u&&(y=y||[]).push("style",u);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},c0=function(s,o,u,h){u!==h&&(o.flags|=4)};function iu(s,o){if(!ct)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function en(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function iA(s,o,u){var h=o.pendingProps;switch(Zf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return yn(o.type)&&Zc(),en(o),null;case 3:return h=o.stateNode,xa(),it(vn),it(Jt),hp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(id(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,mr!==null&&(zp(mr),mr=null))),bp(s,o),en(o),null;case 5:cp(o);var m=ho(Zl.current);if(u=o.type,s!==null&&o.stateNode!=null)u0(s,o,u,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return en(o),null}if(s=ho(Vr.current),id(o)){h=o.stateNode,u=o.type;var y=o.memoizedProps;switch(h[Mr]=o,h[Gl]=y,s=(o.mode&1)!==0,u){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(m=0;m<Hl.length;m++)rt(Hl[m],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":Mi(h,y),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},rt("invalid",h);break;case"textarea":Zr(h,y),rt("invalid",h)}Cl(u,y),m=null;for(var I in y)if(y.hasOwnProperty(I)){var O=y[I];I==="children"?typeof O=="string"?h.textContent!==O&&(y.suppressHydrationWarning!==!0&&Yc(h.textContent,O,s),m=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Yc(h.textContent,O,s),m=["children",""+O]):i.hasOwnProperty(I)&&O!=null&&I==="onScroll"&&rt("scroll",h)}switch(u){case"input":kn(h),Wo(h,y,!0);break;case"textarea":kn(h),$i(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Xc)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=pt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=I.createElement(u,{is:h.is}):(s=I.createElement(u),u==="select"&&(I=s,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):s=I.createElementNS(s,u),s[Mr]=o,s[Gl]=h,l0(s,o,!1,!1),o.stateNode=s;e:{switch(I=Sl(u,h),u){case"dialog":rt("cancel",s),rt("close",s),m=h;break;case"iframe":case"object":case"embed":rt("load",s),m=h;break;case"video":case"audio":for(m=0;m<Hl.length;m++)rt(Hl[m],s);m=h;break;case"source":rt("error",s),m=h;break;case"img":case"image":case"link":rt("error",s),rt("load",s),m=h;break;case"details":rt("toggle",s),m=h;break;case"input":Mi(s,h),m=Jr(s,h),rt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=se({},h,{value:void 0}),rt("invalid",s);break;case"textarea":Zr(s,h),m=Ui(s,h),rt("invalid",s);break;default:m=h}Cl(u,m),O=m;for(y in O)if(O.hasOwnProperty(y)){var j=O[y];y==="style"?Tl(s,j):y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&wl(s,j)):y==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&zi(s,j):typeof j=="number"&&zi(s,""+j):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?j!=null&&y==="onScroll"&&rt("scroll",s):j!=null&&B(s,y,j,I))}switch(u){case"input":kn(s),Wo(s,h,!1);break;case"textarea":kn(s),$i(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Oe(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?pn(s,!!h.multiple,y,!1):h.defaultValue!=null&&pn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Xc)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return en(o),null;case 6:if(s&&o.stateNode!=null)c0(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=ho(Zl.current),ho(Vr.current),id(o)){if(h=o.stateNode,u=o.memoizedProps,h[Mr]=o,(y=h.nodeValue!==u)&&(s=Ln,s!==null))switch(s.tag){case 3:Yc(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Yc(h.nodeValue,u,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Mr]=o,o.stateNode=h}return en(o),null;case 13:if(it(ht),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&Mn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)f_(),Ta(),o.flags|=98560,y=!1;else if(y=id(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Mr]=o}else Ta(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),y=!1}else mr!==null&&(zp(mr),mr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ht.current&1)!==0?At===0&&(At=3):Hp())),o.updateQueue!==null&&(o.flags|=4),en(o),null);case 4:return xa(),bp(s,o),s===null&&ql(o.stateNode.containerInfo),en(o),null;case 10:return sp(o.type._context),en(o),null;case 17:return yn(o.type)&&Zc(),en(o),null;case 19:if(it(ht),y=o.memoizedState,y===null)return en(o),null;if(h=(o.flags&128)!==0,I=y.rendering,I===null)if(h)iu(y,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=cd(s),I!==null){for(o.flags|=128,iu(y,!1),h=I.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)y=u,s=h,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,s=I.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return nt(ht,ht.current&1|2),o.child}s=s.sibling}y.tail!==null&&tt()>ka&&(o.flags|=128,h=!0,iu(y,!1),o.lanes=4194304)}else{if(!h)if(s=cd(I),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),iu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!ct)return en(o),null}else 2*tt()-y.renderingStartTime>ka&&u!==1073741824&&(o.flags|=128,h=!0,iu(y,!1),o.lanes=4194304);y.isBackwards?(I.sibling=o.child,o.child=I):(u=y.last,u!==null?u.sibling=I:o.child=I,y.last=I)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=tt(),o.sibling=null,u=ht.current,nt(ht,h?u&1|2:u&1),o):(en(o),null);case 22:case 23:return Wp(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Vn&1073741824)!==0&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function sA(s,o){switch(Zf(o),o.tag){case 1:return yn(o.type)&&Zc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return xa(),it(vn),it(Jt),hp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return cp(o),null;case 13:if(it(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ta()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return it(ht),null;case 4:return xa(),null;case 10:return sp(o.type._context),null;case 22:case 23:return Wp(),null;case 24:return null;default:return null}}var _d=!1,tn=!1,oA=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Aa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){gt(s,o,h)}else u.current=null}function Np(s,o,u){try{u()}catch(h){gt(s,o,h)}}var d0=!1;function aA(s,o){if(Wf=Yi,s=By(),Mf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var I=0,O=-1,j=-1,K=0,te=0,ne=s,ee=null;t:for(;;){for(var de;ne!==u||m!==0&&ne.nodeType!==3||(O=I+m),ne!==y||h!==0&&ne.nodeType!==3||(j=I+h),ne.nodeType===3&&(I+=ne.nodeValue.length),(de=ne.firstChild)!==null;)ee=ne,ne=de;for(;;){if(ne===s)break t;if(ee===u&&++K===m&&(O=I),ee===y&&++te===h&&(j=I),(de=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=de}u=O===-1||j===-1?null:{start:O,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hf={focusedElem:s,selectionRange:u},Yi=!1,pe=o;pe!==null;)if(o=pe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,pe=s;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,_t=me.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?ge:gr(o.type,ge),_t);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){gt(o,o.return,oe)}if(s=o.sibling,s!==null){s.return=o.return,pe=s;break}pe=o.return}return me=d0,d0=!1,me}function su(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&Np(o,u,y)}m=m.next}while(m!==h)}}function wd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Dp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function h0(s){var o=s.alternate;o!==null&&(s.alternate=null,h0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Mr],delete o[Gl],delete o[Qf],delete o[BR],delete o[WR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function f0(s){return s.tag===5||s.tag===3||s.tag===4}function p0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||f0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Op(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Xc));else if(h!==4&&(s=s.child,s!==null))for(Op(s,o,u),s=s.sibling;s!==null;)Op(s,o,u),s=s.sibling}function Lp(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Lp(s,o,u),s=s.sibling;s!==null;)Lp(s,o,u),s=s.sibling}var Ht=null,vr=!1;function ss(s,o,u){for(u=u.child;u!==null;)m0(s,o,u),u=u.sibling}function m0(s,o,u){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Zs,u)}catch{}switch(u.tag){case 5:tn||Aa(u,o);case 6:var h=Ht,m=vr;Ht=null,ss(s,o,u),Ht=h,vr=m,Ht!==null&&(vr?(s=Ht,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Ht.removeChild(u.stateNode));break;case 18:Ht!==null&&(vr?(s=Ht,u=u.stateNode,s.nodeType===8?Gf(s.parentNode,u):s.nodeType===1&&Gf(s,u),hr(s)):Gf(Ht,u.stateNode));break;case 4:h=Ht,m=vr,Ht=u.stateNode.containerInfo,vr=!0,ss(s,o,u),Ht=h,vr=m;break;case 0:case 11:case 14:case 15:if(!tn&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,I=y.destroy;y=y.tag,I!==void 0&&((y&2)!==0||(y&4)!==0)&&Np(u,o,I),m=m.next}while(m!==h)}ss(s,o,u);break;case 1:if(!tn&&(Aa(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){gt(u,o,O)}ss(s,o,u);break;case 21:ss(s,o,u);break;case 22:u.mode&1?(tn=(h=tn)||u.memoizedState!==null,ss(s,o,u),tn=h):ss(s,o,u);break;default:ss(s,o,u)}}function g0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new oA),o.forEach(function(h){var m=gA.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}}function yr(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var y=s,I=o,O=I;e:for(;O!==null;){switch(O.tag){case 5:Ht=O.stateNode,vr=!1;break e;case 3:Ht=O.stateNode.containerInfo,vr=!0;break e;case 4:Ht=O.stateNode.containerInfo,vr=!0;break e}O=O.return}if(Ht===null)throw Error(t(160));m0(y,I,m),Ht=null,vr=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(K){gt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)v0(o,s),o=o.sibling}function v0(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(yr(o,s),jr(s),h&4){try{su(3,s,s.return),wd(3,s)}catch(ge){gt(s,s.return,ge)}try{su(5,s,s.return)}catch(ge){gt(s,s.return,ge)}}break;case 1:yr(o,s),jr(s),h&512&&u!==null&&Aa(u,u.return);break;case 5:if(yr(o,s),jr(s),h&512&&u!==null&&Aa(u,u.return),s.flags&32){var m=s.stateNode;try{zi(m,"")}catch(ge){gt(s,s.return,ge)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,I=u!==null?u.memoizedProps:y,O=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&Vi(m,y),Sl(O,I);var K=Sl(O,y);for(I=0;I<j.length;I+=2){var te=j[I],ne=j[I+1];te==="style"?Tl(m,ne):te==="dangerouslySetInnerHTML"?wl(m,ne):te==="children"?zi(m,ne):B(m,te,ne,K)}switch(O){case"input":Fi(m,y);break;case"textarea":Ar(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?pn(m,!!y.multiple,de,!1):ee!==!!y.multiple&&(y.defaultValue!=null?pn(m,!!y.multiple,y.defaultValue,!0):pn(m,!!y.multiple,y.multiple?[]:"",!1))}m[Gl]=y}catch(ge){gt(s,s.return,ge)}}break;case 6:if(yr(o,s),jr(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(ge){gt(s,s.return,ge)}}break;case 3:if(yr(o,s),jr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{hr(o.containerInfo)}catch(ge){gt(s,s.return,ge)}break;case 4:yr(o,s),jr(s);break;case 13:yr(o,s),jr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Fp=tt())),h&4&&g0(s);break;case 22:if(te=u!==null&&u.memoizedState!==null,s.mode&1?(tn=(K=tn)||te,yr(o,s),tn=K):yr(o,s),jr(s),h&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!te&&(s.mode&1)!==0)for(pe=s,te=s.child;te!==null;){for(ne=pe=te;pe!==null;){switch(ee=pe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:su(4,ee,ee.return);break;case 1:Aa(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){h=ee,u=ee.return;try{o=h,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){gt(h,u,ge)}}break;case 5:Aa(ee,ee.return);break;case 22:if(ee.memoizedState!==null){w0(ne);continue}}de!==null?(de.return=ee,pe=de):w0(ne)}te=te.sibling}e:for(te=null,ne=s;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=ne.stateNode,j=ne.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,O.style.display=El("display",I))}catch(ge){gt(s,s.return,ge)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(ge){gt(s,s.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:yr(o,s),jr(s),h&4&&g0(s);break;case 21:break;default:yr(o,s),jr(s)}}function jr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(f0(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(zi(m,""),h.flags&=-33);var y=p0(s);Lp(s,y,m);break;case 3:case 4:var I=h.stateNode.containerInfo,O=p0(s);Op(s,O,I);break;default:throw Error(t(161))}}catch(j){gt(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function lA(s,o,u){pe=s,y0(s)}function y0(s,o,u){for(var h=(s.mode&1)!==0;pe!==null;){var m=pe,y=m.child;if(m.tag===22&&h){var I=m.memoizedState!==null||_d;if(!I){var O=m.alternate,j=O!==null&&O.memoizedState!==null||tn;O=_d;var K=tn;if(_d=I,(tn=j)&&!K)for(pe=m;pe!==null;)I=pe,j=I.child,I.tag===22&&I.memoizedState!==null?E0(m):j!==null?(j.return=I,pe=j):E0(m);for(;y!==null;)pe=y,y0(y),y=y.sibling;pe=m,_d=O,tn=K}_0(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,pe=y):_0(s)}}function _0(s){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:tn||wd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!tn)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:gr(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&w_(o,y,h);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}w_(o,I,u)}break;case 5:var O=o.stateNode;if(u===null&&o.flags&4){u=O;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&hr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||o.flags&512&&Dp(o)}catch(ee){gt(o,o.return,ee)}}if(o===s){pe=null;break}if(u=o.sibling,u!==null){u.return=o.return,pe=u;break}pe=o.return}}function w0(s){for(;pe!==null;){var o=pe;if(o===s){pe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,pe=u;break}pe=o.return}}function E0(s){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{wd(4,o)}catch(j){gt(o,u,j)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(j){gt(o,m,j)}}var y=o.return;try{Dp(o)}catch(j){gt(o,y,j)}break;case 5:var I=o.return;try{Dp(o)}catch(j){gt(o,I,j)}}}catch(j){gt(o,o.return,j)}if(o===s){pe=null;break}var O=o.sibling;if(O!==null){O.return=o.return,pe=O;break}pe=o.return}}var uA=Math.ceil,Ed=G.ReactCurrentDispatcher,Mp=G.ReactCurrentOwner,Qn=G.ReactCurrentBatchConfig,Ke=0,Mt=null,It=null,qt=0,Vn=0,Pa=es(0),At=0,ou=null,po=0,Td=0,Vp=0,au=null,wn=null,Fp=0,ka=1/0,fi=null,Id=!1,jp=null,os=null,Cd=!1,as=null,Sd=0,lu=0,Up=null,xd=-1,Rd=0;function hn(){return(Ke&6)!==0?tt():xd!==-1?xd:xd=tt()}function ls(s){return(s.mode&1)===0?1:(Ke&2)!==0&&qt!==0?qt&-qt:qR.transition!==null?(Rd===0&&(Rd=to()),Rd):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:Ml(s.type)),s)}function _r(s,o,u,h){if(50<lu)throw lu=0,Up=null,Error(t(185));qi(s,u,h),((Ke&2)===0||s!==Mt)&&(s===Mt&&((Ke&2)===0&&(Td|=u),At===4&&us(s,qt)),En(s,h),u===1&&Ke===0&&(o.mode&1)===0&&(ka=tt()+500,td&&ns()))}function En(s,o){var u=s.callbackNode;ti(s,o);var h=eo(s,s===Mt?qt:0);if(h===0)u!==null&&bl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&bl(u),o===1)s.tag===0?HR(I0.bind(null,s)):l_(I0.bind(null,s)),$R(function(){(Ke&6)===0&&ns()}),u=null;else{switch(Gi(h)){case 1:u=Js;break;case 4:u=Bi;break;case 16:u=zn;break;case 536870912:u=Rc;break;default:u=zn}u=b0(u,T0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function T0(s,o){if(xd=-1,Rd=0,(Ke&6)!==0)throw Error(t(327));var u=s.callbackNode;if(ba()&&s.callbackNode!==u)return null;var h=eo(s,s===Mt?qt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Ad(s,h);else{o=h;var m=Ke;Ke|=2;var y=S0();(Mt!==s||qt!==o)&&(fi=null,ka=tt()+500,go(s,o));do try{hA();break}catch(O){C0(s,O)}while(!0);ip(),Ed.current=y,Ke=m,It!==null?o=0:(Mt=null,qt=0,o=At)}if(o!==0){if(o===2&&(m=Nn(s),m!==0&&(h=m,o=$p(s,m))),o===1)throw u=ou,go(s,0),us(s,h),En(s,tt()),u;if(o===6)us(s,h);else{if(m=s.current.alternate,(h&30)===0&&!cA(m)&&(o=Ad(s,h),o===2&&(y=Nn(s),y!==0&&(h=y,o=$p(s,y))),o===1))throw u=ou,go(s,0),us(s,h),En(s,tt()),u;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:vo(s,wn,fi);break;case 3:if(us(s,h),(h&130023424)===h&&(o=Fp+500-tt(),10<o)){if(eo(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){hn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Kf(vo.bind(null,s,wn,fi),o);break}vo(s,wn,fi);break;case 4:if(us(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var I=31-un(h);y=1<<I,I=o[I],I>m&&(m=I),h&=~y}if(h=m,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*uA(h/1960))-h,10<h){s.timeoutHandle=Kf(vo.bind(null,s,wn,fi),h);break}vo(s,wn,fi);break;case 5:vo(s,wn,fi);break;default:throw Error(t(329))}}}return En(s,tt()),s.callbackNode===u?T0.bind(null,s):null}function $p(s,o){var u=au;return s.current.memoizedState.isDehydrated&&(go(s,o).flags|=256),s=Ad(s,o),s!==2&&(o=wn,wn=u,o!==null&&zp(o)),s}function zp(s){wn===null?wn=s:wn.push.apply(wn,s)}function cA(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],y=m.getSnapshot;m=m.value;try{if(!pr(y(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function us(s,o){for(o&=~Vp,o&=~Td,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-un(o),h=1<<u;s[u]=-1,o&=~h}}function I0(s){if((Ke&6)!==0)throw Error(t(327));ba();var o=eo(s,0);if((o&1)===0)return En(s,tt()),null;var u=Ad(s,o);if(s.tag!==0&&u===2){var h=Nn(s);h!==0&&(o=h,u=$p(s,h))}if(u===1)throw u=ou,go(s,0),us(s,o),En(s,tt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,vo(s,wn,fi),En(s,tt()),null}function Bp(s,o){var u=Ke;Ke|=1;try{return s(o)}finally{Ke=u,Ke===0&&(ka=tt()+500,td&&ns())}}function mo(s){as!==null&&as.tag===0&&(Ke&6)===0&&ba();var o=Ke;Ke|=1;var u=Qn.transition,h=Ue;try{if(Qn.transition=null,Ue=1,s)return s()}finally{Ue=h,Qn.transition=u,Ke=o,(Ke&6)===0&&ns()}}function Wp(){Vn=Pa.current,it(Pa)}function go(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,UR(u)),It!==null)for(u=It.return;u!==null;){var h=u;switch(Zf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zc();break;case 3:xa(),it(vn),it(Jt),hp();break;case 5:cp(h);break;case 4:xa();break;case 13:it(ht);break;case 19:it(ht);break;case 10:sp(h.type._context);break;case 22:case 23:Wp()}u=u.return}if(Mt=s,It=s=cs(s.current,null),qt=Vn=o,At=0,ou=null,Vp=Td=po=0,wn=au=null,co!==null){for(o=0;o<co.length;o++)if(u=co[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,y=u.pending;if(y!==null){var I=y.next;y.next=m,h.next=I}u.pending=h}co=null}return s}function C0(s,o){do{var u=It;try{if(ip(),dd.current=md,hd){for(var h=ft.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}hd=!1}if(fo=0,Lt=Rt=ft=null,eu=!1,tu=0,Mp.current=null,u===null||u.return===null){At=1,ou=o,It=null;break}e:{var y=s,I=u.return,O=u,j=o;if(o=qt,O.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=j,te=O,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=Q_(I);if(de!==null){de.flags&=-257,Y_(de,I,O,y,o),de.mode&1&&G_(y,K,o),o=de,j=K;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(j),o.updateQueue=ge}else me.add(j);break e}else{if((o&1)===0){G_(y,K,o),Hp();break e}j=Error(t(426))}}else if(ct&&O.mode&1){var _t=Q_(I);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Y_(_t,I,O,y,o),np(Ra(j,O));break e}}y=j=Ra(j,O),At!==4&&(At=2),au===null?au=[y]:au.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var H=q_(y,j,o);__(y,H);break e;case 1:O=j;var U=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(os===null||!os.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var oe=K_(y,O,o);__(y,oe);break e}}y=y.return}while(y!==null)}R0(u)}catch(ve){o=ve,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function S0(){var s=Ed.current;return Ed.current=md,s===null?md:s}function Hp(){(At===0||At===3||At===2)&&(At=4),Mt===null||(po&268435455)===0&&(Td&268435455)===0||us(Mt,qt)}function Ad(s,o){var u=Ke;Ke|=2;var h=S0();(Mt!==s||qt!==o)&&(fi=null,go(s,o));do try{dA();break}catch(m){C0(s,m)}while(!0);if(ip(),Ke=u,Ed.current=h,It!==null)throw Error(t(261));return Mt=null,qt=0,At}function dA(){for(;It!==null;)x0(It)}function hA(){for(;It!==null&&!Sc();)x0(It)}function x0(s){var o=k0(s.alternate,s,Vn);s.memoizedProps=s.pendingProps,o===null?R0(s):It=o,Mp.current=null}function R0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=iA(u,o,Vn),u!==null){It=u;return}}else{if(u=sA(u,o),u!==null){u.flags&=32767,It=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{At=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=s}while(o!==null);At===0&&(At=5)}function vo(s,o,u){var h=Ue,m=Qn.transition;try{Qn.transition=null,Ue=1,fA(s,o,u,h)}finally{Qn.transition=m,Ue=h}return null}function fA(s,o,u,h){do ba();while(as!==null);if((Ke&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(et(s,y),s===Mt&&(It=Mt=null,qt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Cd||(Cd=!0,b0(zn,function(){return ba(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Qn.transition,Qn.transition=null;var I=Ue;Ue=1;var O=Ke;Ke|=4,Mp.current=null,aA(s,u),v0(u,s),DR(Hf),Yi=!!Wf,Hf=Wf=null,s.current=u,lA(u),Af(),Ke=O,Ue=I,Qn.transition=y}else s.current=u;if(Cd&&(Cd=!1,as=s,Sd=m),y=s.pendingLanes,y===0&&(os=null),Ac(u.stateNode),En(s,tt()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(Id)throw Id=!1,s=jp,jp=null,s;return(Sd&1)!==0&&s.tag!==0&&ba(),y=s.pendingLanes,(y&1)!==0?s===Up?lu++:(lu=0,Up=s):lu=0,ns(),null}function ba(){if(as!==null){var s=Gi(Sd),o=Qn.transition,u=Ue;try{if(Qn.transition=null,Ue=16>s?16:s,as===null)var h=!1;else{if(s=as,as=null,Sd=0,(Ke&6)!==0)throw Error(t(331));var m=Ke;for(Ke|=4,pe=s.current;pe!==null;){var y=pe,I=y.child;if((pe.flags&16)!==0){var O=y.deletions;if(O!==null){for(var j=0;j<O.length;j++){var K=O[j];for(pe=K;pe!==null;){var te=pe;switch(te.tag){case 0:case 11:case 15:su(8,te,y)}var ne=te.child;if(ne!==null)ne.return=te,pe=ne;else for(;pe!==null;){te=pe;var ee=te.sibling,de=te.return;if(h0(te),te===K){pe=null;break}if(ee!==null){ee.return=de,pe=ee;break}pe=de}}}var me=y.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var _t=ge.sibling;ge.sibling=null,ge=_t}while(ge!==null)}}pe=y}}if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,pe=I;else e:for(;pe!==null;){if(y=pe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:su(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,pe=H;break e}pe=y.return}}var U=s.current;for(pe=U;pe!==null;){I=pe;var q=I.child;if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,pe=q;else e:for(I=U;pe!==null;){if(O=pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:wd(9,O)}}catch(ve){gt(O,O.return,ve)}if(O===I){pe=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,pe=oe;break e}pe=O.return}}if(Ke=m,ns(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Zs,s)}catch{}h=!0}return h}finally{Ue=u,Qn.transition=o}}return!1}function A0(s,o,u){o=Ra(u,o),o=q_(s,o,1),s=is(s,o,1),o=hn(),s!==null&&(qi(s,1,o),En(s,o))}function gt(s,o,u){if(s.tag===3)A0(s,s,u);else for(;o!==null;){if(o.tag===3){A0(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(os===null||!os.has(h))){s=Ra(u,s),s=K_(o,s,1),o=is(o,s,1),s=hn(),o!==null&&(qi(o,1,s),En(o,s));break}}o=o.return}}function pA(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=hn(),s.pingedLanes|=s.suspendedLanes&u,Mt===s&&(qt&u)===u&&(At===4||At===3&&(qt&130023424)===qt&&500>tt()-Fp?go(s,0):Vp|=u),En(s,o)}function P0(s,o){o===0&&((s.mode&1)===0?o=1:(o=ea,ea<<=1,(ea&130023424)===0&&(ea=4194304)));var u=hn();s=ci(s,o),s!==null&&(qi(s,o,u),En(s,u))}function mA(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),P0(s,u)}function gA(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),P0(s,u)}var k0;k0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||vn.current)_n=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return _n=!1,rA(s,o,u);_n=(s.flags&131072)!==0}else _n=!1,ct&&(o.flags&1048576)!==0&&u_(o,rd,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;yd(s,o),s=o.pendingProps;var m=_a(o,Jt.current);Sa(o,u),m=mp(null,o,h,s,m,u);var y=gp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,yn(h)?(y=!0,ed(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,lp(o),m.updater=gd,o.stateNode=m,m._reactInternals=o,Tp(o,h,s,u),o=xp(null,o,h,!0,y,u)):(o.tag=0,ct&&y&&Jf(o),dn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(yd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=yA(h),s=gr(h,s),m){case 0:o=Sp(null,o,h,s,u);break e;case 1:o=n0(null,o,h,s,u);break e;case 11:o=X_(null,o,h,s,u);break e;case 14:o=J_(null,o,h,gr(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:gr(h,m),Sp(s,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:gr(h,m),n0(s,o,h,m,u);case 3:e:{if(r0(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,y_(s,o),ud(o,h,null,u);var I=o.memoizedState;if(h=I.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Ra(Error(t(423)),o),o=i0(s,o,h,u,m);break e}else if(h!==m){m=Ra(Error(t(424)),o),o=i0(s,o,h,u,m);break e}else for(Mn=Zi(o.stateNode.containerInfo.firstChild),Ln=o,ct=!0,mr=null,u=g_(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ta(),h===m){o=hi(s,o,u);break e}dn(s,o,h,u)}o=o.child}return o;case 5:return E_(o),s===null&&tp(o),h=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,I=m.children,qf(h,m)?I=null:y!==null&&qf(h,y)&&(o.flags|=32),t0(s,o),dn(s,o,I,u),o.child;case 6:return s===null&&tp(o),null;case 13:return s0(s,o,u);case 4:return up(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Ia(o,null,h,u):dn(s,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:gr(h,m),X_(s,o,h,m,u);case 7:return dn(s,o,o.pendingProps,u),o.child;case 8:return dn(s,o,o.pendingProps.children,u),o.child;case 12:return dn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,I=m.value,nt(od,h._currentValue),h._currentValue=I,y!==null)if(pr(y.value,I)){if(y.children===m.children&&!vn.current){o=hi(s,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var O=y.dependencies;if(O!==null){I=y.child;for(var j=O.firstContext;j!==null;){if(j.context===h){if(y.tag===1){j=di(-1,u&-u),j.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?j.next=j:(j.next=te.next,te.next=j),K.pending=j}}y.lanes|=u,j=y.alternate,j!==null&&(j.lanes|=u),op(y.return,u,o),O.lanes|=u;break}j=j.next}}else if(y.tag===10)I=y.type===o.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(t(341));I.lanes|=u,O=I.alternate,O!==null&&(O.lanes|=u),op(I,u,o),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===o){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}dn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Sa(o,u),m=Kn(m),h=h(m),o.flags|=1,dn(s,o,h,u),o.child;case 14:return h=o.type,m=gr(h,o.pendingProps),m=gr(h.type,m),J_(s,o,h,m,u);case 15:return Z_(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:gr(h,m),yd(s,o),o.tag=1,yn(h)?(s=!0,ed(o)):s=!1,Sa(o,u),W_(o,h,m),Tp(o,h,m,u),xp(null,o,h,!0,s,u);case 19:return a0(s,o,u);case 22:return e0(s,o,u)}throw Error(t(156,o.tag))};function b0(s,o){return Jo(s,o)}function vA(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(s,o,u,h){return new vA(s,o,u,h)}function qp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function yA(s){if(typeof s=="function")return qp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Se)return 14}return 2}function cs(s,o){var u=s.alternate;return u===null?(u=Yn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Pd(s,o,u,h,m,y){var I=2;if(h=s,typeof s=="function")qp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case D:return yo(u.children,m,y,o);case P:I=8,m|=8;break;case k:return s=Yn(12,u,o,m|2),s.elementType=k,s.lanes=y,s;case N:return s=Yn(13,u,o,m),s.elementType=N,s.lanes=y,s;case le:return s=Yn(19,u,o,m),s.elementType=le,s.lanes=y,s;case we:return kd(u,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case M:I=9;break e;case V:I=11;break e;case Se:I=14;break e;case xe:I=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Yn(I,u,o,m),o.elementType=s,o.type=h,o.lanes=y,o}function yo(s,o,u,h){return s=Yn(7,s,h,o),s.lanes=u,s}function kd(s,o,u,h){return s=Yn(22,s,h,o),s.elementType=we,s.lanes=u,s.stateNode={isHidden:!1},s}function Kp(s,o,u){return s=Yn(6,s,null,o),s.lanes=u,s}function Gp(s,o,u){return o=Yn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function _A(s,o,u,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Qp(s,o,u,h,m,y,I,O,j){return s=new _A(s,o,u,O,j),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Yn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},lp(y),s}function wA(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function N0(s){if(!s)return ts;s=s._reactInternals;e:{if(ar(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(yn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(yn(u))return o_(s,u,o)}return o}function D0(s,o,u,h,m,y,I,O,j){return s=Qp(u,h,!0,s,m,y,I,O,j),s.context=N0(null),u=s.current,h=hn(),m=ls(u),y=di(h,m),y.callback=o??null,is(u,y,m),s.current.lanes=m,qi(s,m,h),En(s,h),s}function bd(s,o,u,h){var m=o.current,y=hn(),I=ls(m);return u=N0(u),o.context===null?o.context=u:o.pendingContext=u,o=di(y,I),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=is(m,o,I),s!==null&&(_r(s,m,I,y),ld(s,m,I)),I}function Nd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function O0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Yp(s,o){O0(s,o),(s=s.alternate)&&O0(s,o)}function EA(){return null}var L0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xp(s){this._internalRoot=s}Dd.prototype.render=Xp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));bd(s,o,null,null)},Dd.prototype.unmount=Xp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;mo(function(){bd(null,s,null,null)}),o[oi]=null}};function Dd(s){this._internalRoot=s}Dd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Dc();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Nr.length&&o!==0&&o<Nr[u].priority;u++);Nr.splice(u,0,s),u===0&&Mc(s)}};function Jp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Od(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function M0(){}function TA(s,o,u,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var K=Nd(I);y.call(K)}}var I=D0(o,h,s,0,null,!1,!1,"",M0);return s._reactRootContainer=I,s[oi]=I.current,ql(s.nodeType===8?s.parentNode:s),mo(),I}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var O=h;h=function(){var K=Nd(j);O.call(K)}}var j=Qp(s,0,!1,null,null,!1,!1,"",M0);return s._reactRootContainer=j,s[oi]=j.current,ql(s.nodeType===8?s.parentNode:s),mo(function(){bd(o,j,u,h)}),j}function Ld(s,o,u,h,m){var y=u._reactRootContainer;if(y){var I=y;if(typeof m=="function"){var O=m;m=function(){var j=Nd(I);O.call(j)}}bd(o,I,s,m)}else I=TA(u,o,s,m,h);return Nd(I)}bc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Wi(o.pendingLanes);u!==0&&(Ki(o,u|1),En(o,tt()),(Ke&6)===0&&(ka=tt()+500,ns()))}break;case 13:mo(function(){var h=ci(s,1);if(h!==null){var m=hn();_r(h,s,1,m)}}),Yp(s,1)}},ta=function(s){if(s.tag===13){var o=ci(s,134217728);if(o!==null){var u=hn();_r(o,s,134217728,u)}Yp(s,134217728)}},Nc=function(s){if(s.tag===13){var o=ls(s),u=ci(s,o);if(u!==null){var h=hn();_r(u,s,o,h)}Yp(s,o)}},Dc=function(){return Ue},Oc=function(s,o){var u=Ue;try{return Ue=s,o()}finally{Ue=u}},qo=function(s,o,u){switch(o){case"input":if(Fi(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var m=Jc(h);if(!m)throw Error(t(90));Li(h),Fi(h,m)}}}break;case"textarea":Ar(s,u);break;case"select":o=u.value,o!=null&&pn(s,!!u.multiple,o,!1)}},Gs=Bp,Rl=mo;var IA={usingClientEntryPoint:!1,Events:[Ql,va,Jc,kr,xl,Bp]},uu={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CA={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kl(s),s===null?null:s.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||EA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Zs=Md.inject(CA),bn=Md}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IA,Tn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(o))throw Error(t(200));return wA(s,o,null,u)},Tn.createRoot=function(s,o){if(!Jp(s))throw Error(t(299));var u=!1,h="",m=L0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Qp(s,1,!1,null,null,u,!1,h,m),s[oi]=o.current,ql(s.nodeType===8?s.parentNode:s),new Xp(o)},Tn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=kl(o),s=s===null?null:s.stateNode,s},Tn.flushSync=function(s){return mo(s)},Tn.hydrate=function(s,o,u){if(!Od(o))throw Error(t(200));return Ld(null,s,o,!0,u)},Tn.hydrateRoot=function(s,o,u){if(!Jp(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,y="",I=L0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=D0(o,null,s,1,u??null,m,!1,y,I),s[oi]=o.current,ql(s),h)for(s=0;s<h.length;s++)u=h[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Dd(o)},Tn.render=function(s,o,u){if(!Od(o))throw Error(t(200));return Ld(null,s,o,!1,u)},Tn.unmountComponentAtNode=function(s){if(!Od(s))throw Error(t(40));return s._reactRootContainer?(mo(function(){Ld(null,null,s,!1,function(){s._reactRootContainer=null,s[oi]=null})}),!0):!1},Tn.unstable_batchedUpdates=Bp,Tn.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!Od(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ld(s,o,u,!1,h)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var W0;function VT(){if(W0)return tm.exports;W0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tm.exports=bA(),tm.exports}var H0;function NA(){if(H0)return Vd;H0=1;var n=VT();return Vd.createRoot=n.createRoot,Vd.hydrateRoot=n.hydrateRoot,Vd}var DA=NA(),du={},q0;function OA(){if(q0)return du;q0=1,Object.defineProperty(du,"__esModule",{value:!0}),du.parse=l,du.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function l(T,S){const A=new a,b=T.length;if(b<2)return A;const x=(S==null?void 0:S.decode)||g;let F=0;do{const z=T.indexOf("=",F);if(z===-1)break;const B=T.indexOf(";",F),G=B===-1?b:B;if(z>G){F=T.lastIndexOf(";",z-1)+1;continue}const X=c(T,F,z),Z=f(T,z,X),D=T.slice(X,Z);if(A[D]===void 0){let P=c(T,z+1,G),k=f(T,G,P);const L=x(T.slice(P,k));A[D]=L}F=G+1}while(F<b);return A}function c(T,S,A){do{const b=T.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<A);return A}function f(T,S,A){for(;S>A;){const b=T.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return A}function p(T,S,A){const b=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const x=b(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let F=T+"="+x;if(!A)return F;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);F+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);F+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);F+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);F+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(F+="; HttpOnly"),A.secure&&(F+="; Secure"),A.partitioned&&(F+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return F}function g(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return i.call(T)==="[object Date]"}return du}OA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K0="popstate";function LA(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Om("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Fu(i)}return VA(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function G0(n,e){return{usr:n.state,key:n.key,idx:e}}function Om(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:t,key:e&&e.key||r||MA()}}function Fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ol(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function VA(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let x=g(),F=x==null?null:x-p;p=x,f&&f({action:c,location:b.location,delta:F})}function T(x,F){c="PUSH";let z=Om(b.location,x,F);p=g()+1;let B=G0(z,p),G=b.createHref(z);try{l.pushState(B,"",G)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(G)}a&&f&&f({action:c,location:b.location,delta:1})}function S(x,F){c="REPLACE";let z=Om(b.location,x,F);p=g();let B=G0(z,p),G=b.createHref(z);l.replaceState(B,"",G),a&&f&&f({action:c,location:b.location,delta:0})}function A(x){let F=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof x=="string"?x:Fu(x);return z=z.replace(/ $/,"%20"),dt(F,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,F)}let b={get action(){return c},get location(){return n(i,l)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(K0,_),f=x,()=>{i.removeEventListener(K0,_),f=null}},createHref(x){return e(i,x)},createURL:A,encodeLocation(x){let F=A(x);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:S,go(x){return l.go(x)}};return b}function FT(n,e,t="/"){return FA(n,e,t,!1)}function FA(n,e,t,r){let i=typeof e=="string"?ol(e):e,a=Ci(i.pathname||"/",t);if(a==null)return null;let l=jT(n);jA(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=YA(a);c=GA(l[f],p,r)}return c}function jT(n,e=[],t=[],r=""){let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(dt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=wi([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),jT(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:qA(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of UT(a.path))i(a,l,f)}),e}function UT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=UT(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function jA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var UA=/^:[\w-]+$/,$A=3,zA=2,BA=1,WA=10,HA=-2,Q0=n=>n==="*";function qA(n,e){let t=n.split("/"),r=t.length;return t.some(Q0)&&(r+=HA),e&&(r+=zA),t.filter(i=>!Q0(i)).reduce((i,a)=>i+(UA.test(a)?$A:a===""?BA:WA),r)}function KA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function GA(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),T=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:wi([a,_.pathname]),pathnameBase:e2(wi([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=wi([a,_.pathnameBase]))}return l}function hh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=QA(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},T)=>{if(g==="*"){let A=c[T]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const S=c[T];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function QA(n,e=!1,t=!0){Sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function XA(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ol(n):n;return{pathname:t?t.startsWith("/")?t:JA(t,e):e,search:t2(r),hash:n2(i)}}function JA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function im(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Og(n){let e=ZA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Lg(n,e,t,r=!1){let i;typeof n=="string"?i=ol(n):(i={...n},dt(!i.pathname||!i.pathname.includes("?"),im("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),im("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),im("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;i.pathname=T.join("/")}c=_>=0?e[_]:"/"}let f=XA(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var wi=n=>n.join("/").replace(/\/\/+/g,"/"),e2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),t2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,n2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function r2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $T=["POST","PUT","PATCH","DELETE"];new Set($T);var i2=["GET",...$T];new Set(i2);var al=C.createContext(null);al.displayName="DataRouter";var qh=C.createContext(null);qh.displayName="DataRouterState";var zT=C.createContext({isTransitioning:!1});zT.displayName="ViewTransition";var s2=C.createContext(new Map);s2.displayName="Fetchers";var o2=C.createContext(null);o2.displayName="Await";var xr=C.createContext(null);xr.displayName="Navigation";var nc=C.createContext(null);nc.displayName="Location";var Rr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Mg=C.createContext(null);Mg.displayName="RouteError";function a2(n,{relative:e}={}){dt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(xr),{hash:i,pathname:a,search:l}=rc(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:wi([t,a])),r.createHref({pathname:c,search:l,hash:i})}function ll(){return C.useContext(nc)!=null}function Fs(){return dt(ll(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(nc).location}var BT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WT(n){C.useContext(xr).static||C.useLayoutEffect(n)}function js(){let{isDataRoute:n}=C.useContext(Rr);return n?E2():l2()}function l2(){dt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(al),{basename:e,navigator:t}=C.useContext(xr),{matches:r}=C.useContext(Rr),{pathname:i}=Fs(),a=JSON.stringify(Og(r)),l=C.useRef(!1);return WT(()=>{l.current=!0}),C.useCallback((f,p={})=>{if(Sr(l.current,BT),!l.current)return;if(typeof f=="number"){t.go(f);return}let g=Lg(f,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:wi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,i,n])}C.createContext(null);function u2(){let{matches:n}=C.useContext(Rr),e=n[n.length-1];return e?e.params:{}}function rc(n,{relative:e}={}){let{matches:t}=C.useContext(Rr),{pathname:r}=Fs(),i=JSON.stringify(Og(t));return C.useMemo(()=>Lg(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function c2(n,e){return HT(n,e)}function HT(n,e,t,r){var z;dt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=C.useContext(xr),{matches:l}=C.useContext(Rr),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let B=_&&_.path||"";qT(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Fs(),S;if(e){let B=typeof e=="string"?ol(e):e;dt(g==="/"||((z=B.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=T;let A=S.pathname||"/",b=A;if(g!=="/"){let B=g.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:FT(n,{pathname:b});Sr(_||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Sr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=m2(x&&x.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:wi([g,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:wi([g,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,r);return e&&F?C.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function d2(){let n=w2(),e=r2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,l)}var h2=C.createElement(d2,null),f2=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Rr.Provider,{value:this.props.routeContext},C.createElement(Mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p2({routeContext:n,match:e,children:t}){let r=C.useContext(al);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Rr.Provider,{value:n},t)}function m2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:_}=t,T=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||T){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let _,T=!1,S=null,A=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||h2,l&&(c<0&&g===0?(qT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):c===g&&(T=!0,A=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),x=()=>{let F;return _?F=S:T?F=A:p.route.Component?F=C.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,C.createElement(p2,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:t!=null},children:F})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(f2,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}function Vg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(n){let e=C.useContext(al);return dt(e,Vg(n)),e}function v2(n){let e=C.useContext(qh);return dt(e,Vg(n)),e}function y2(n){let e=C.useContext(Rr);return dt(e,Vg(n)),e}function Fg(n){let e=y2(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _2(){return Fg("useRouteId")}function w2(){var r;let n=C.useContext(Mg),e=v2("useRouteError"),t=Fg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function E2(){let{router:n}=g2("useNavigate"),e=Fg("useNavigate"),t=C.useRef(!1);return WT(()=>{t.current=!0}),C.useCallback(async(i,a={})=>{Sr(t.current,BT),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var Y0={};function qT(n,e,t){!e&&!Y0[n]&&(Y0[n]=!0,Sr(!1,t))}C.memo(T2);function T2({routes:n,future:e,state:t}){return HT(n,void 0,t,e)}function I2({to:n,replace:e,state:t,relative:r}){dt(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(xr);Sr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(Rr),{pathname:l}=Fs(),c=js(),f=Lg(n,Og(a),l,r==="path"),p=JSON.stringify(f);return C.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function ms(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){dt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=ol(t));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:T="default"}=t,S=C.useMemo(()=>{let A=Ci(f,l);return A==null?null:{location:{pathname:A,search:p,hash:g,state:_,key:T},navigationType:r}},[l,f,p,g,_,T,r]);return Sr(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:C.createElement(xr.Provider,{value:c},C.createElement(nc.Provider,{children:e,value:S}))}function S2({children:n,location:e}){return c2(Lm(n),e)}function Lm(n,e=[]){let t=[];return C.Children.forEach(n,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){t.push.apply(t,Lm(r.props.children,a));return}dt(r.type===ms,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Lm(r.props.children,a)),t.push(l)}),t}var Xd="get",Jd="application/x-www-form-urlencoded";function Kh(n){return n!=null&&typeof n.tagName=="string"}function x2(n){return Kh(n)&&n.tagName.toLowerCase()==="button"}function R2(n){return Kh(n)&&n.tagName.toLowerCase()==="form"}function A2(n){return Kh(n)&&n.tagName.toLowerCase()==="input"}function P2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function k2(n,e){return n.button===0&&(!e||e==="_self")&&!P2(n)}var Fd=null;function b2(){if(Fd===null)try{new FormData(document.createElement("form"),0),Fd=!1}catch{Fd=!0}return Fd}var N2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(n){return n!=null&&!N2.has(n)?(Sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jd}"`),null):n}function D2(n,e){let t,r,i,a,l;if(R2(n)){let c=n.getAttribute("action");r=c?Ci(c,e):null,t=n.getAttribute("method")||Xd,i=sm(n.getAttribute("enctype"))||Jd,a=new FormData(n)}else if(x2(n)||A2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Ci(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Xd,i=sm(n.getAttribute("formenctype"))||sm(c.getAttribute("enctype"))||Jd,a=new FormData(c,n),!b2()){let{name:p,type:g,value:_}=n;if(g==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,_)}}else{if(Kh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xd,r=null,i=Jd,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function jg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function O2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function M2(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await O2(a,t);return l.links?l.links():[]}return[]}));return U2(r.flat(1).filter(L2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function X0(n,e,t,r,i,a){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function V2(n,e,{includeHydrateFallback:t}={}){return F2(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function F2(n){return[...new Set(n)]}function j2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function U2(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(j2(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function $2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ci(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function KT(){let n=C.useContext(al);return jg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function z2(){let n=C.useContext(qh);return jg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ug=C.createContext(void 0);Ug.displayName="FrameworkContext";function GT(){let n=C.useContext(Ug);return jg(n,"You must render this element inside a <HydratedRouter> element"),n}function B2(n,e){let t=C.useContext(Ug),[r,i]=C.useState(!1),[a,l]=C.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,T=C.useRef(null);C.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=F=>{F.forEach(z=>{l(z.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[n]),C.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{i(!0)},A=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:hu(c,S),onBlur:hu(f,A),onMouseEnter:hu(p,S),onMouseLeave:hu(g,A),onTouchStart:hu(_,S)}]:[!1,T,{}]}function hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function W2({page:n,...e}){let{router:t}=KT(),r=C.useMemo(()=>FT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(q2,{page:n,matches:r,...e}):null}function H2(n){let{manifest:e,routeModules:t}=GT(),[r,i]=C.useState([]);return C.useEffect(()=>{let a=!1;return M2(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function q2({page:n,matches:e,...t}){let r=Fs(),{manifest:i,routeModules:a}=GT(),{basename:l}=KT(),{loaderData:c,matches:f}=z2(),p=C.useMemo(()=>X0(n,e,f,i,r,"data"),[n,e,f,i,r]),g=C.useMemo(()=>X0(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,b=!1;if(e.forEach(F=>{var B;let z=i.routes[F.route.id];!z||!z.hasLoader||(!p.some(G=>G.route.id===F.route.id)&&F.route.id in c&&((B=a[F.route.id])!=null&&B.shouldRevalidate)||z.hasClientLoader?b=!0:A.add(F.route.id))}),A.size===0)return[];let x=$2(n,l);return b&&A.size>0&&x.searchParams.set("_routes",e.filter(F=>A.has(F.route.id)).map(F=>F.route.id).join(",")),[x.pathname+x.search]},[l,c,r,i,p,e,n,a]),T=C.useMemo(()=>V2(g,i),[g,i]),S=H2(g);return C.createElement(C.Fragment,null,_.map(A=>C.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),T.map(A=>C.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),S.map(({key:A,link:b})=>C.createElement("link",{key:A,...b})))}function K2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QT&&(window.__reactRouterVersion="7.3.0")}catch{}function G2({basename:n,children:e,window:t}){let r=C.useRef();r.current==null&&(r.current=LA({window:t,v5Compat:!0}));let i=r.current,[a,l]=C.useState({action:i.action,location:i.location}),c=C.useCallback(f=>{C.startTransition(()=>l(f))},[l]);return C.useLayoutEffect(()=>i.listen(c),[i,c]),C.createElement(C2,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sn=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_,...T},S){let{basename:A}=C.useContext(xr),b=typeof p=="string"&&YT.test(p),x,F=!1;if(typeof p=="string"&&b&&(x=p,QT))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),M=Ci(L.pathname,A);L.origin===k.origin&&M!=null?p=M+L.search+L.hash:F=!0}catch{Sr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=a2(p,{relative:i}),[B,G,X]=B2(r,T),Z=J2(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:_});function D(k){e&&e(k),k.defaultPrevented||Z(k)}let P=C.createElement("a",{...T,...X,href:x||z,onClick:F||a?e:D,ref:K2(S,G),target:f,"data-discover":!b&&t==="render"?"true":void 0});return B&&!b?C.createElement(C.Fragment,null,P,C.createElement(W2,{page:z})):P});Sn.displayName="Link";var Q2=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:f,...p},g){let _=rc(l,{relative:p.relative}),T=Fs(),S=C.useContext(qh),{navigator:A,basename:b}=C.useContext(xr),x=S!=null&&rP(_)&&c===!0,F=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,z=T.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),B=B?B.toLowerCase():null,F=F.toLowerCase()),B&&b&&(B=Ci(B,b)||B);const G=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let X=z===F||!i&&z.startsWith(F)&&z.charAt(G)==="/",Z=B!=null&&(B===F||!i&&B.startsWith(F)&&B.charAt(F.length)==="/"),D={isActive:X,isPending:Z,isTransitioning:x},P=X?e:void 0,k;typeof r=="function"?k=r(D):k=[r,X?"active":null,Z?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return C.createElement(Sn,{...p,"aria-current":P,className:k,ref:g,style:L,to:l,viewTransition:c},typeof f=="function"?f(D):f)});Q2.displayName="NavLink";var Y2=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Xd,action:c,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...T},S)=>{let A=tP(),b=nP(c,{relative:p}),x=l.toLowerCase()==="get"?"get":"post",F=typeof c=="string"&&YT.test(c),z=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let G=B.nativeEvent.submitter,X=(G==null?void 0:G.getAttribute("formmethod"))||l;A(G||B.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return C.createElement("form",{ref:S,method:x,action:b,onSubmit:r?f:z,...T,"data-discover":!F&&n==="render"?"true":void 0})});Y2.displayName="Form";function X2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(n){let e=C.useContext(al);return dt(e,X2(n)),e}function J2(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=js(),f=Fs(),p=rc(n,{relative:a});return C.useCallback(g=>{if(k2(g,e)){g.preventDefault();let _=t!==void 0?t:Fu(f)===Fu(p);c(n,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,c,p,t,r,e,n,i,a,l])}var Z2=0,eP=()=>`__${String(++Z2)}__`;function tP(){let{router:n}=XT("useSubmit"),{basename:e}=C.useContext(xr),t=_2();return C.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=D2(r,e);if(i.navigate===!1){let g=i.fetcherKey||eP();await n.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function nP(n,{relative:e}={}){let{basename:t}=C.useContext(xr),r=C.useContext(Rr);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...rc(n||".",{relative:e})},l=Fs();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:wi([t,a.pathname])),Fu(a)}function rP(n,e={}){let t=C.useContext(zT);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XT("useViewTransitionState"),i=rc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ci(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ci(t.nextLocation.pathname,r)||t.nextLocation.pathname;return hh(i.pathname,l)!=null||hh(i.pathname,a)!=null}new TextEncoder;var $g=VT();const iP=Hh($g),sP="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",oP="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",J0="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",Z0="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",ew="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",tw="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",ic=()=>E.jsxs("div",{className:"footer",children:[E.jsxs("div",{className:"left",children:[E.jsx("div",{className:"logo",children:"URENO"}),E.jsxs("div",{className:"social-sites",children:[E.jsx("object",{data:J0,type:"image/svg+xml",children:E.jsx("img",{src:J0})}),E.jsx("object",{data:Z0,type:"image/svg+xml",children:E.jsx("img",{src:Z0})}),E.jsx("object",{data:ew,type:"image/svg+xml",children:E.jsx("img",{src:ew})}),E.jsx("object",{data:tw,type:"image/svg+xml",children:E.jsx("img",{src:tw})})]})]}),E.jsxs("div",{className:"right",children:[E.jsxs("menu",{children:[E.jsx("li",{children:"Topic"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"})]}),E.jsxs("menu",{children:[E.jsx("li",{children:"Topic"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"})]}),E.jsxs("menu",{children:[E.jsx("li",{children:"Topic"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"}),E.jsx("li",{children:"Page"})]})]})]}),Mm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",aP=()=>{};var nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(n,e){if(!n)throw ul(e)},ul=function(n){return new Error("Firebase Database ("+JT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,S=p&63;f||(S=64,l||(T=64)),r.push(t[g],t[_],t[T],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new uP;const T=a<<2|c>>4;if(r.push(T),p!==64){const S=c<<4&240|p>>2;if(r.push(S),_!==64){const A=p<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eI=function(n){const e=ZT(n);return zg.encodeByteArray(e,!0)},fh=function(n){return eI(n).replace(/\./g,"")},ph=function(n){try{return zg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){return tI(void 0,n)}function tI(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!dP(t)||(n[t]=tI(n[t],e[t]));return n}function dP(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=()=>hP().__FIREBASE_DEFAULTS__,pP=()=>{if(typeof process>"u"||typeof nw>"u")return;const n=nw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ph(n[1]);return e&&JSON.parse(e)},Gh=()=>{try{return aP()||fP()||pP()||mP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nI=n=>{var e,t;return(t=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rI=n=>{const e=nI(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},iI=()=>{var n;return(n=Gh())===null||n===void 0?void 0:n.config},sI=n=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fh(JSON.stringify(t)),fh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function gP(){var n;const e=(n=Gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _P(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wP(){return JT.NODE_ADMIN===!0}function EP(){return!gP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TP(){try{return typeof indexedDB=="object"}catch{return!1}}function IP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="FirebaseError";class Di extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CP,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?SP(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Di(i,c,r)}}function SP(n,e){return n.replace(xP,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){return JSON.parse(n)}function Gt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=function(n){let e={},t={},r={},i="";try{const a=n.split(".");e=ju(ph(a[0])||""),t=ju(ph(a[1])||""),i=a[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},RP=function(n){const e=lI(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},AP=function(n){const e=lI(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function qa(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Vm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mh(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Rs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(rw(a)&&rw(l)){if(!Rs(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function rw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Eu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)r[_]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let _=0;_<16;_++)r[_]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let _=16;_<80;_++){const T=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(T<<1|T>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4],p,g;for(let _=0;_<80;_++){_<40?_<20?(p=c^a&(l^c),g=1518500249):(p=a^l^c,g=1859775393):_<60?(p=a&l|c&(a|l),g=2400959708):(p=a^l^c,g=3395469782);const T=(i<<5|i>>>27)+p+f+g+r[_]&4294967295;f=c,c=l,l=(a<<30|a>>>2)&4294967295,a=i,i=T}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const a=this.buf_;let l=this.inbuf_;for(;i<t;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(a[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}else for(;i<t;)if(a[l]=e[i],++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}function kP(n,e){const t=new bP(n,e);return t.subscribe.bind(t)}class bP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");NP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=om),i.error===void 0&&(i.error=om),i.complete===void 0&&(i.complete=om);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function om(){}function Wg(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const a=i-55296;r++,ce(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;i=65536+(a<<10)+l}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Yh=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class As{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OP=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Qh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MP(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LP(n){return n===wo?void 0:n}function MP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const FP={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},jP=Me.INFO,UP={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},$P=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=UP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xh{constructor(e){this.name=e,this._logLevel=jP,this._logHandler=$P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const zP=(n,e)=>e.some(t=>n instanceof t);let iw,sw;function BP(){return iw||(iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WP(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uI=new WeakMap,Fm=new WeakMap,cI=new WeakMap,am=new WeakMap,Hg=new WeakMap;function HP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ws(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&uI.set(t,n)}).catch(()=>{}),Hg.set(e,n),e}function qP(n){if(Fm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Fm.set(n,e)}let jm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KP(n){jm=n(jm)}function GP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lm(this),e,...t);return cI.set(r,e.sort?e.sort():[e]),ws(r)}:WP().includes(n)?function(...e){return n.apply(lm(this),e),ws(uI.get(this))}:function(...e){return ws(n.apply(lm(this),e))}}function QP(n){return typeof n=="function"?GP(n):(n instanceof IDBTransaction&&qP(n),zP(n,BP())?new Proxy(n,jm):n)}function ws(n){if(n instanceof IDBRequest)return HP(n);if(am.has(n))return am.get(n);const e=QP(n);return e!==n&&(am.set(n,e),Hg.set(e,n)),e}const lm=n=>Hg.get(n);function YP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=ws(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ws(l.result),f.oldVersion,f.newVersion,ws(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const XP=["get","getKey","getAll","getAllKeys","count"],JP=["put","add","delete","clear"],um=new Map;function ow(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=JP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XP.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return um.set(e,a),a}KP(n=>({...n,get:(e,t,r)=>ow(e,t)||n.get(e,t,r),has:(e,t)=>!!ow(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ek(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ek(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",aw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Xh("@firebase/app"),tk="@firebase/app-compat",nk="@firebase/analytics-compat",rk="@firebase/analytics",ik="@firebase/app-check-compat",sk="@firebase/app-check",ok="@firebase/auth",ak="@firebase/auth-compat",lk="@firebase/database",uk="@firebase/data-connect",ck="@firebase/database-compat",dk="@firebase/functions",hk="@firebase/functions-compat",fk="@firebase/installations",pk="@firebase/installations-compat",mk="@firebase/messaging",gk="@firebase/messaging-compat",vk="@firebase/performance",yk="@firebase/performance-compat",_k="@firebase/remote-config",wk="@firebase/remote-config-compat",Ek="@firebase/storage",Tk="@firebase/storage-compat",Ik="@firebase/firestore",Ck="@firebase/vertexai",Sk="@firebase/firestore-compat",xk="firebase",Rk="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",Ak={[Um]:"fire-core",[tk]:"fire-core-compat",[rk]:"fire-analytics",[nk]:"fire-analytics-compat",[sk]:"fire-app-check",[ik]:"fire-app-check-compat",[ok]:"fire-auth",[ak]:"fire-auth-compat",[lk]:"fire-rtdb",[uk]:"fire-data-connect",[ck]:"fire-rtdb-compat",[dk]:"fire-fn",[hk]:"fire-fn-compat",[fk]:"fire-iid",[pk]:"fire-iid-compat",[mk]:"fire-fcm",[gk]:"fire-fcm-compat",[vk]:"fire-perf",[yk]:"fire-perf-compat",[_k]:"fire-rc",[wk]:"fire-rc-compat",[Ek]:"fire-gcs",[Tk]:"fire-gcs-compat",[Ik]:"fire-fst",[Sk]:"fire-fst-compat",[Ck]:"fire-vertex","fire-js":"fire-js",[xk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,Pk=new Map,zm=new Map;function lw(n,e){try{n.container.addComponent(e)}catch(t){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ao(n){const e=n.name;if(zm.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,n);for(const t of gh.values())lw(t,n);for(const t of Pk.values())lw(t,n);return!0}function Jh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new sc("app","Firebase",kk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=Rk;function dI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$m,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(t||(t=iI()),!t)throw Es.create("no-options");const a=gh.get(i);if(a){if(Rs(t,a.options)&&Rs(r,a.config))return a;throw Es.create("duplicate-app",{appName:i})}const l=new VP(i);for(const f of zm.values())l.addComponent(f);const c=new bk(t,r,l);return gh.set(i,c),c}function qg(n=$m){const e=gh.get(n);if(!e&&n===$m&&iI())return dI();if(!e)throw Es.create("no-app",{appName:n});return e}function Br(n,e,t){var r;let i=(r=Ak[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(c.join(" "));return}Ao(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebase-heartbeat-database",Dk=1,Uu="firebase-heartbeat-store";let cm=null;function hI(){return cm||(cm=YP(Nk,Dk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),cm}async function Ok(n){try{const t=(await hI()).transaction(Uu),r=await t.objectStore(Uu).get(fI(n));return await t.done,r}catch(e){if(e instanceof Di)Si.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(t.message)}}}async function uw(n,e){try{const r=(await hI()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(e,fI(n)),await r.done}catch(t){if(t instanceof Di)Si.warn(t.message);else{const r=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Si.warn(r.message)}}}function fI(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=1024,Mk=30;class Vk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Mk){const l=Uk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cw(),{heartbeatsToSend:r,unsentEntries:i}=Fk(this._heartbeatsCache.heartbeats),a=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Si.warn(t),""}}}function cw(){return new Date().toISOString().substring(0,10)}function Fk(n,e=Lk){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),dw(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),dw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TP()?IP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ok(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dw(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function Uk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){Ao(new As("platform-logger",e=>new ZP(e),"PRIVATE")),Ao(new As("heartbeat",e=>new Vk(e),"PRIVATE")),Br(Um,aw,n),Br(Um,aw,"esm2017"),Br("fire-js","")}$k("");function Kg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function pI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zk=pI,mI=new sc("auth","Firebase",pI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Xh("@firebase/auth");function Bk(n,...e){vh.logLevel<=Me.WARN&&vh.warn(`Auth (${Vo}): ${n}`,...e)}function Zd(n,...e){vh.logLevel<=Me.ERROR&&vh.error(`Auth (${Vo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw Qg(n,...e)}function Ir(n,...e){return Qg(n,...e)}function Gg(n,e,t){const r=Object.assign(Object.assign({},zk()),{[e]:t});return new sc("auth","Firebase",r).create(e,{appName:n.name})}function Ei(n){return Gg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wk(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(n,"argument-error"),Gg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mI.create(n,...e)}function Ce(n,e,...t){if(!n)throw Qg(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zd(e),new Error(e)}function xi(n,e){n||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Hk(){return hw()==="http:"||hw()==="https:"}function hw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hk()||yP()||"connection"in navigator)?navigator.onLine:!0}function Kk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=Bg()||aI()}get(){return qk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new oc(3e4,6e4);function Us(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $s(n,e,t,r,i={}){return vI(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=cl(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return vP()||(p.referrerPolicy="no-referrer"),gI.fetch()(yI(n,n.config.apiHost,t,c),p)})}async function vI(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Gk),e);try{const i=new Xk(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw jd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw jd(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw jd(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gg(n,g,p);er(n,g)}}catch(i){if(i instanceof Di)throw i;er(n,"network-request-failed",{message:String(i)})}}async function ac(n,e,t,r,i={}){const a=await $s(n,e,t,r,i);return"mfaPendingCredential"in a&&er(n,"multi-factor-auth-required",{_serverResponse:a}),a}function yI(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Yg(n.config,i):`${n.config.apiScheme}://${i}`}function Yk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),Qk.get())})}}function jd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ir(n,e,r);return i.customData._tokenResponse=t,i}function fw(n){return n!==void 0&&n.enterprise!==void 0}class Jk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Zk(n,e){return $s(n,"GET","/v2/recaptchaConfig",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(n,e){return $s(n,"POST","/v1/accounts:delete",e)}async function _I(n,e){return $s(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tb(n,e=!1){const t=Yt(n),r=await t.getIdToken(e),i=Xg(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Su(dm(i.auth_time)),issuedAtTime:Su(dm(i.iat)),expirationTime:Su(dm(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function dm(n){return Number(n)*1e3}function Xg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=ph(t);return i?JSON.parse(i):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pw(n){const e=Xg(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Di&&nb(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function nb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await $u(n,_I(t,{idToken:r}));Ce(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?wI(a.providerUserInfo):[],c=sb(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Wm(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function ib(n){const e=Yt(n);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sb(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wI(n){return n.map(e=>{var{providerId:t}=e,r=Kg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(n,e){const t=await vI(n,{},async()=>{const r=cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=yI(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",gI.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ab(n,e){return $s(n,"POST","/v2/accounts:revokeToken",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=pw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await ob(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new ja;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tb(this,e)}reload(){return ib(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await $u(this,eb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,f,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=t.photoURL)!==null&&l!==void 0?l:void 0,b=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,z=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:G,isAnonymous:X,providerData:Z,stsTokenManager:D}=t;Ce(B&&D,e,"internal-error");const P=ja.fromJSON(this.name,D);Ce(typeof B=="string",e,"internal-error"),hs(_,e.name),hs(T,e.name),Ce(typeof G=="boolean",e,"internal-error"),Ce(typeof X=="boolean",e,"internal-error"),hs(S,e.name),hs(A,e.name),hs(b,e.name),hs(x,e.name),hs(F,e.name),hs(z,e.name);const k=new vi({uid:B,auth:e,email:T,emailVerified:G,displayName:_,isAnonymous:X,photoURL:A,phoneNumber:S,tenantId:b,stsTokenManager:P,createdAt:F,lastLoginAt:z});return Z&&Array.isArray(Z)&&(k.providerData=Z.map(L=>Object.assign({},L))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new ja;i.updateFromServerResponse(t);const a=new vi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ce(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?wI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new ja;c.updateFromIdToken(r);const f=new vi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Wm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Map;function yi(n){xi(n instanceof Function,"Expected a class definition");let e=mw.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EI.type="NONE";const gw=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ua{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=eh(this.userKey,i.apiKey,a),this.fullPersistenceKey=eh("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ua(yi(gw),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||yi(gw);const l=eh(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=vi._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ua(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ua(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RI(e))return"Blackberry";if(AI(e))return"Webos";if(II(e))return"Safari";if((e.includes("chrome/")||CI(e))&&!e.includes("edge/"))return"Chrome";if(xI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TI(n=ln()){return/firefox\//i.test(n)}function II(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CI(n=ln()){return/crios\//i.test(n)}function SI(n=ln()){return/iemobile/i.test(n)}function xI(n=ln()){return/android/i.test(n)}function RI(n=ln()){return/blackberry/i.test(n)}function AI(n=ln()){return/webos/i.test(n)}function Jg(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lb(n=ln()){var e;return Jg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ub(){return _P()&&document.documentMode===10}function PI(n=ln()){return Jg(n)||xI(n)||AI(n)||RI(n)||/windows phone/i.test(n)||SI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n,e=[]){let t;switch(n){case"Browser":t=vw(ln());break;case"Worker":t=`${vw(ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(n,e={}){return $s(n,"GET","/v2/passwordPolicy",Us(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=6;class fb{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:hb,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yi(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _I(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Ei(this));const t=e?Yt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await db(this),t=new fb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ab(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Bk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function zs(n){return Yt(n)}class yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=kP(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mb(n){Zh=n}function bI(n){return Zh.loadJS(n)}function gb(){return Zh.recaptchaEnterpriseScript}function vb(){return Zh.gapiScript}function yb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _b{constructor(){this.enterprise=new wb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wb{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Eb="recaptcha-enterprise",NI="NO_RECAPTCHA";class Tb{constructor(e){this.type=Eb,this.auth=zs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{Zk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new Jk(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function i(a,l,c){const f=window.grecaptcha;fw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(NI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _b().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&fw(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=gb();f.length!==0&&(f+=c),bI(f).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function _w(n,e,t,r=!1,i=!1){const a=new Tb(n);let l;if(i)l=NI;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Hm(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await _w(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await _w(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(n,e){const t=Jh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Rs(a,e??{}))return i;er(i,"already-initialized")}return t.initialize({options:e})}function Cb(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(yi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Sb(n,e,t){const r=zs(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=DI(e),{host:l,port:c}=xb(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Rs(p,r.config.emulator)&&Rs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Rb()}function DI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xb(n){const e=DI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:ww(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:ww(l)}}}function ww(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Rb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function Ab(n,e){return $s(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(n,e){return ac(n,"POST","/v1/accounts:signInWithPassword",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(n,e){return ac(n,"POST","/v1/accounts:signInWithEmailLink",Us(n,e))}async function bb(n,e){return ac(n,"POST","/v1/accounts:signInWithEmailLink",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Zg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,t,"signInWithPassword",Pb);case"emailLink":return kb(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,r,"signUpPassword",Ab);case"emailLink":return bb(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(n,e){return ac(n,"POST","/v1/accounts:signInWithIdp",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="http://localhost";class Po extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Kg(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Po(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return $a(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$a(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$a(e,t)}buildRequest(){const e={requestUri:Nb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ob(n){const e=wu(Eu(n)).link,t=e?wu(Eu(e)).deep_link_id:null,r=wu(Eu(n)).deep_link_id;return(r?wu(Eu(r)).link:null)||r||t||e||n}class ev{constructor(e){var t,r,i,a,l,c;const f=wu(Eu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=Db((i=f.mode)!==null&&i!==void 0?i:null);Ce(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=Ob(e);try{return new ev(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,t){return zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ev.parseLink(t);return Ce(r,"argument-error"),zu._fromEmailAndCode(e,r.code,r.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends tv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends lc{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Po._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $r.credential(t,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends lc{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends lc{constructor(){super("twitter.com")}static credential(e,t){return Po._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ys.credential(t,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(n,e){return ac(n,"POST","/v1/accounts:signUp",Us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await vi._fromIdTokenResponse(e,r,i),l=Ew(r);return new ko({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Ew(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Ew(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Di{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new _h(e,t,r,i)}}function OI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(n,a,e,r):a})}async function Mb(n,e,t=!1){const r=await $u(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ko._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(n,e,t=!1){const{auth:r}=n;if(Cn(r.app))return Promise.reject(Ei(r));const i="reauthenticate";try{const a=await $u(n,OI(r,i,e,n),t);Ce(a.idToken,r,"internal-error");const l=Xg(a.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),ko._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(n,e,t=!1){if(Cn(n.app))return Promise.reject(Ei(n));const r="signIn",i=await OI(n,r,e),a=await ko._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function Fb(n,e){return LI(zs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(n){const e=zs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jb(n,e,t){if(Cn(n.app))return Promise.reject(Ei(n));const r=zs(n),l=await Hm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lb).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&MI(n),f}),c=await ko._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function Ub(n,e,t){return Cn(n.app)?Promise.reject(Ei(n)):Fb(Yt(n),dl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MI(n),r})}function $b(n,e,t,r){return Yt(n).onIdTokenChanged(e,t,r)}function zb(n,e,t){return Yt(n).beforeAuthStateChanged(e,t)}function nv(n,e,t,r){return Yt(n).onAuthStateChanged(e,t,r)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1e3,Wb=10;class FI extends VI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);ub()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Wb):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Bb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}FI.type="LOCAL";const Hb=FI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends VI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jI.type="SESSION";const UI=jI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await qb(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=rv("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function Gb(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function Qb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yb(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Xb(){return $I()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebaseLocalStorageDb",Jb=1,Eh="firebaseLocalStorage",BI="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tf(n,e){return n.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function Zb(){const n=indexedDB.deleteDatabase(zI);return new uc(n).toPromise()}function qm(){const n=indexedDB.open(zI,Jb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Eh,{keyPath:BI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await Zb(),e(await qm()))})})}async function Tw(n,e,t){const r=tf(n,!0).put({[BI]:e,value:t});return new uc(r).toPromise()}async function eN(n,e){const t=tf(n,!1).get(e),r=await new uc(t).toPromise();return r===void 0?null:r.value}function Iw(n,e){const t=tf(n,!0).delete(e);return new uc(t).toPromise()}const tN=800,nN=3;class WI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>nN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $I()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(Xb()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Qb(),!this.activeServiceWorker)return;this.sender=new Kb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await Tw(e,wh,"1"),await Iw(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>eN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=tf(i,!1).getAll();return new uc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WI.type="LOCAL";const rN=WI;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(n,e){return e?yi(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $a(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iN(n){return LI(n.auth,new iv(n),n.bypassAuthState)}function sN(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),Vb(t,new iv(n),n.bypassAuthState)}async function oN(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),Mb(t,new iv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iN;case"linkViaPopup":case"linkViaRedirect":return oN;case"reauthViaPopup":case"reauthViaRedirect":return sN;default:er(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new oc(2e3,1e4);async function lN(n,e,t){if(Cn(n.app))return Promise.reject(Ir(n,"operation-not-supported-in-this-environment"));const r=zs(n);Wk(n,e,tv);const i=HI(r,t);return new Io(r,"signInViaPopup",e,i).executeNotNull()}class Io extends qI{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aN.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="pendingRedirect",th=new Map;class cN extends qI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await dN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dN(n,e){const t=pN(e),r=fN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function hN(n,e){th.set(n._key(),e)}function fN(n){return yi(n._redirectPersistence)}function pN(n){return eh(uN,n.config.apiKey,n.name)}async function mN(n,e,t=!1){if(Cn(n.app))return Promise.reject(Ei(n));const r=zs(n),i=HI(r,e),l=await new cN(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=10*60*1e3;class vN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!KI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e={}){return $s(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EN=/^https?/;async function TN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _N(n);for(const t of e)try{if(IN(t))return}catch{}er(n,"unauthorized-domain")}function IN(n){const e=Bm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!EN.test(t))return!1;if(wN.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new oc(3e4,6e4);function Sw(){const n=Wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SN(n){return new Promise((e,t)=>{var r,i,a;function l(){Sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sw(),t(Ir(n,"network-request-failed"))},timeout:CN.get()})}if(!((i=(r=Wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Wr().gapi)===null||a===void 0)&&a.load)l();else{const c=yb("iframefcb");return Wr()[c]=()=>{gapi.load?l():t(Ir(n,"network-request-failed"))},bI(`${vb()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw nh=null,e})}let nh=null;function xN(n){return nh=nh||SN(n),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new oc(5e3,15e3),AN="__/auth/iframe",PN="emulator/auth/iframe",kN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NN(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yg(e,PN):`https://${n.config.authDomain}/${AN}`,r={apiKey:e.apiKey,appName:n.name,v:Vo},i=bN.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${cl(r).slice(1)}`}async function DN(n){const e=await xN(n),t=Wr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:NN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ir(n,"network-request-failed"),c=Wr().setTimeout(()=>{a(l)},RN.get());function f(){Wr().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,MN=600,VN="_blank",FN="http://localhost";class xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jN(n,e,t,r=LN,i=MN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},ON),{width:r.toString(),height:i.toString(),top:a,left:l}),p=ln().toLowerCase();t&&(c=CI(p)?VN:t),TI(p)&&(e=e||FN,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[S,A])=>`${T}${S}=${A},`,"");if(lb(p)&&c!=="_self")return UN(e||"",c),new xw(null);const _=window.open(e||"",c,g);Ce(_,n,"popup-blocked");try{_.focus()}catch{}return new xw(_)}function UN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="__/auth/handler",zN="emulator/auth/handler",BN=encodeURIComponent("fac");async function Rw(n,e,t,r,i,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vo,eventId:i};if(e instanceof tv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Vm(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof lc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${BN}=${encodeURIComponent(f)}`:"";return`${WN(n)}?${cl(c).slice(1)}${p}`}function WN({config:n}){return n.emulator?Yg(n,zN):`https://${n.authDomain}/${$N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class HN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UI,this._completeRedirectFn=mN,this._overrideRedirectResult=hN}async _openPopup(e,t,r,i){var a;xi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Rw(e,t,r,Bm(),i);return jN(e,l,rv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Rw(e,t,r,Bm(),i);return Gb(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await DN(e),r=new vN(e);return t.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hm,{type:hm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[hm];l!==void 0&&t(!!l),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PI()||II()||Jg()}}const qN=HN;var Aw="@firebase/auth",Pw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QN(n){Ao(new As("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kI(n)},p=new pb(r,i,a,f);return Cb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ao(new As("auth-internal",e=>{const t=zs(e.getProvider("auth").getImmediate());return(r=>new KN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(Aw,Pw,GN(n)),Br(Aw,Pw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=5*60,XN=sI("authIdTokenMaxAge")||YN;let kw=null;const JN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>XN)return;const i=t==null?void 0:t.token;kw!==i&&(kw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sv(n=qg()){const e=Jh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ib(n,{popupRedirectResolver:qN,persistence:[rN,Hb,UI]}),r=sI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=JN(a.toString());zb(t,l,()=>l(t.currentUser)),$b(t,c=>l(c))}}const i=nI("auth");return i&&Sb(t,`http://${i}`),t}function ZN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}mb({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Ir("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",ZN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QN("Browser");var eD="firebase",tD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(eD,tD,"app");var bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,GI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function k(){}k.prototype=P.prototype,D.D=P.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(L,M,V){for(var N=Array(arguments.length-2),le=2;le<arguments.length;le++)N[le-2]=arguments[le];return P.prototype[M].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,P,k){k||(k=0);var L=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)L[M]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(M=0;16>M;++M)L[M]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=D.g[0],k=D.g[1],M=D.g[2];var V=D.g[3],N=P+(V^k&(M^V))+L[0]+3614090360&4294967295;P=k+(N<<7&4294967295|N>>>25),N=V+(M^P&(k^M))+L[1]+3905402710&4294967295,V=P+(N<<12&4294967295|N>>>20),N=M+(k^V&(P^k))+L[2]+606105819&4294967295,M=V+(N<<17&4294967295|N>>>15),N=k+(P^M&(V^P))+L[3]+3250441966&4294967295,k=M+(N<<22&4294967295|N>>>10),N=P+(V^k&(M^V))+L[4]+4118548399&4294967295,P=k+(N<<7&4294967295|N>>>25),N=V+(M^P&(k^M))+L[5]+1200080426&4294967295,V=P+(N<<12&4294967295|N>>>20),N=M+(k^V&(P^k))+L[6]+2821735955&4294967295,M=V+(N<<17&4294967295|N>>>15),N=k+(P^M&(V^P))+L[7]+4249261313&4294967295,k=M+(N<<22&4294967295|N>>>10),N=P+(V^k&(M^V))+L[8]+1770035416&4294967295,P=k+(N<<7&4294967295|N>>>25),N=V+(M^P&(k^M))+L[9]+2336552879&4294967295,V=P+(N<<12&4294967295|N>>>20),N=M+(k^V&(P^k))+L[10]+4294925233&4294967295,M=V+(N<<17&4294967295|N>>>15),N=k+(P^M&(V^P))+L[11]+2304563134&4294967295,k=M+(N<<22&4294967295|N>>>10),N=P+(V^k&(M^V))+L[12]+1804603682&4294967295,P=k+(N<<7&4294967295|N>>>25),N=V+(M^P&(k^M))+L[13]+4254626195&4294967295,V=P+(N<<12&4294967295|N>>>20),N=M+(k^V&(P^k))+L[14]+2792965006&4294967295,M=V+(N<<17&4294967295|N>>>15),N=k+(P^M&(V^P))+L[15]+1236535329&4294967295,k=M+(N<<22&4294967295|N>>>10),N=P+(M^V&(k^M))+L[1]+4129170786&4294967295,P=k+(N<<5&4294967295|N>>>27),N=V+(k^M&(P^k))+L[6]+3225465664&4294967295,V=P+(N<<9&4294967295|N>>>23),N=M+(P^k&(V^P))+L[11]+643717713&4294967295,M=V+(N<<14&4294967295|N>>>18),N=k+(V^P&(M^V))+L[0]+3921069994&4294967295,k=M+(N<<20&4294967295|N>>>12),N=P+(M^V&(k^M))+L[5]+3593408605&4294967295,P=k+(N<<5&4294967295|N>>>27),N=V+(k^M&(P^k))+L[10]+38016083&4294967295,V=P+(N<<9&4294967295|N>>>23),N=M+(P^k&(V^P))+L[15]+3634488961&4294967295,M=V+(N<<14&4294967295|N>>>18),N=k+(V^P&(M^V))+L[4]+3889429448&4294967295,k=M+(N<<20&4294967295|N>>>12),N=P+(M^V&(k^M))+L[9]+568446438&4294967295,P=k+(N<<5&4294967295|N>>>27),N=V+(k^M&(P^k))+L[14]+3275163606&4294967295,V=P+(N<<9&4294967295|N>>>23),N=M+(P^k&(V^P))+L[3]+4107603335&4294967295,M=V+(N<<14&4294967295|N>>>18),N=k+(V^P&(M^V))+L[8]+1163531501&4294967295,k=M+(N<<20&4294967295|N>>>12),N=P+(M^V&(k^M))+L[13]+2850285829&4294967295,P=k+(N<<5&4294967295|N>>>27),N=V+(k^M&(P^k))+L[2]+4243563512&4294967295,V=P+(N<<9&4294967295|N>>>23),N=M+(P^k&(V^P))+L[7]+1735328473&4294967295,M=V+(N<<14&4294967295|N>>>18),N=k+(V^P&(M^V))+L[12]+2368359562&4294967295,k=M+(N<<20&4294967295|N>>>12),N=P+(k^M^V)+L[5]+4294588738&4294967295,P=k+(N<<4&4294967295|N>>>28),N=V+(P^k^M)+L[8]+2272392833&4294967295,V=P+(N<<11&4294967295|N>>>21),N=M+(V^P^k)+L[11]+1839030562&4294967295,M=V+(N<<16&4294967295|N>>>16),N=k+(M^V^P)+L[14]+4259657740&4294967295,k=M+(N<<23&4294967295|N>>>9),N=P+(k^M^V)+L[1]+2763975236&4294967295,P=k+(N<<4&4294967295|N>>>28),N=V+(P^k^M)+L[4]+1272893353&4294967295,V=P+(N<<11&4294967295|N>>>21),N=M+(V^P^k)+L[7]+4139469664&4294967295,M=V+(N<<16&4294967295|N>>>16),N=k+(M^V^P)+L[10]+3200236656&4294967295,k=M+(N<<23&4294967295|N>>>9),N=P+(k^M^V)+L[13]+681279174&4294967295,P=k+(N<<4&4294967295|N>>>28),N=V+(P^k^M)+L[0]+3936430074&4294967295,V=P+(N<<11&4294967295|N>>>21),N=M+(V^P^k)+L[3]+3572445317&4294967295,M=V+(N<<16&4294967295|N>>>16),N=k+(M^V^P)+L[6]+76029189&4294967295,k=M+(N<<23&4294967295|N>>>9),N=P+(k^M^V)+L[9]+3654602809&4294967295,P=k+(N<<4&4294967295|N>>>28),N=V+(P^k^M)+L[12]+3873151461&4294967295,V=P+(N<<11&4294967295|N>>>21),N=M+(V^P^k)+L[15]+530742520&4294967295,M=V+(N<<16&4294967295|N>>>16),N=k+(M^V^P)+L[2]+3299628645&4294967295,k=M+(N<<23&4294967295|N>>>9),N=P+(M^(k|~V))+L[0]+4096336452&4294967295,P=k+(N<<6&4294967295|N>>>26),N=V+(k^(P|~M))+L[7]+1126891415&4294967295,V=P+(N<<10&4294967295|N>>>22),N=M+(P^(V|~k))+L[14]+2878612391&4294967295,M=V+(N<<15&4294967295|N>>>17),N=k+(V^(M|~P))+L[5]+4237533241&4294967295,k=M+(N<<21&4294967295|N>>>11),N=P+(M^(k|~V))+L[12]+1700485571&4294967295,P=k+(N<<6&4294967295|N>>>26),N=V+(k^(P|~M))+L[3]+2399980690&4294967295,V=P+(N<<10&4294967295|N>>>22),N=M+(P^(V|~k))+L[10]+4293915773&4294967295,M=V+(N<<15&4294967295|N>>>17),N=k+(V^(M|~P))+L[1]+2240044497&4294967295,k=M+(N<<21&4294967295|N>>>11),N=P+(M^(k|~V))+L[8]+1873313359&4294967295,P=k+(N<<6&4294967295|N>>>26),N=V+(k^(P|~M))+L[15]+4264355552&4294967295,V=P+(N<<10&4294967295|N>>>22),N=M+(P^(V|~k))+L[6]+2734768916&4294967295,M=V+(N<<15&4294967295|N>>>17),N=k+(V^(M|~P))+L[13]+1309151649&4294967295,k=M+(N<<21&4294967295|N>>>11),N=P+(M^(k|~V))+L[4]+4149444226&4294967295,P=k+(N<<6&4294967295|N>>>26),N=V+(k^(P|~M))+L[11]+3174756917&4294967295,V=P+(N<<10&4294967295|N>>>22),N=M+(P^(V|~k))+L[2]+718787259&4294967295,M=V+(N<<15&4294967295|N>>>17),N=k+(V^(M|~P))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var k=P-this.blockSize,L=this.B,M=this.h,V=0;V<P;){if(M==0)for(;V<=k;)i(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<P;)if(L[M++]=D.charCodeAt(V++),M==this.blockSize){i(this,L),M=0;break}}else for(;V<P;)if(L[M++]=D[V++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var k=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=k&255,k/=256;for(this.u(D),D=Array(16),P=k=0;4>P;++P)for(var L=0;32>L;L+=8)D[k++]=this.g[P]>>>L&255;return D};function a(D,P){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=P(D)}function l(D,P){this.h=P;for(var k=[],L=!0,M=D.length-1;0<=M;M--){var V=D[M]|0;L&&V==P||(k[M]=V,L=!1)}this.g=k}var c={};function f(D){return-128<=D&&128>D?a(D,function(P){return new l([P|0],0>P?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return x(p(-D));for(var P=[],k=1,L=0;D>=k;L++)P[L]=D/k|0,k*=4294967296;return new l(P,0)}function g(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return x(g(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(P,8)),L=_,M=0;M<D.length;M+=8){var V=Math.min(8,D.length-M),N=parseInt(D.substring(M,M+V),P);8>V?(V=p(Math.pow(P,V)),L=L.j(V).add(p(N))):(L=L.j(k),L=L.add(p(N)))}return L}var _=f(0),T=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(b(this))return-x(this).m();for(var D=0,P=1,k=0;k<this.g.length;k++){var L=this.i(k);D+=(0<=L?L:4294967296+L)*P,P*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(b(this))return"-"+x(this).toString(D);for(var P=p(Math.pow(D,6)),k=this,L="";;){var M=G(k,P).g;k=F(k,M.j(P));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=M,A(k))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function b(D){return D.h==-1}n.l=function(D){return D=F(this,D),b(D)?-1:A(D)?0:1};function x(D){for(var P=D.g.length,k=[],L=0;L<P;L++)k[L]=~D.g[L];return new l(k,~D.h).add(T)}n.abs=function(){return b(this)?x(this):this},n.add=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],L=0,M=0;M<=P;M++){var V=L+(this.i(M)&65535)+(D.i(M)&65535),N=(V>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);L=N>>>16,V&=65535,N&=65535,k[M]=N<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function F(D,P){return D.add(x(P))}n.j=function(D){if(A(this)||A(D))return _;if(b(this))return b(D)?x(this).j(x(D)):x(x(this).j(D));if(b(D))return x(this.j(x(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var P=this.g.length+D.g.length,k=[],L=0;L<2*P;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<D.g.length;M++){var V=this.i(L)>>>16,N=this.i(L)&65535,le=D.i(M)>>>16,Se=D.i(M)&65535;k[2*L+2*M]+=N*Se,z(k,2*L+2*M),k[2*L+2*M+1]+=V*Se,z(k,2*L+2*M+1),k[2*L+2*M+1]+=N*le,z(k,2*L+2*M+1),k[2*L+2*M+2]+=V*le,z(k,2*L+2*M+2)}for(L=0;L<P;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=P;L<2*P;L++)k[L]=0;return new l(k,0)};function z(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function B(D,P){this.g=D,this.h=P}function G(D,P){if(A(P))throw Error("division by zero");if(A(D))return new B(_,_);if(b(D))return P=G(x(D),P),new B(x(P.g),x(P.h));if(b(P))return P=G(D,x(P)),new B(x(P.g),P.h);if(30<D.g.length){if(b(D)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var k=T,L=P;0>=L.l(D);)k=X(k),L=X(L);var M=Z(k,1),V=Z(L,1);for(L=Z(L,2),k=Z(k,2);!A(L);){var N=V.add(L);0>=N.l(D)&&(M=M.add(k),V=N),L=Z(L,1),k=Z(k,1)}return P=F(D,M.j(P)),new B(M,P)}for(M=_;0<=D.l(P);){for(k=Math.max(1,Math.floor(D.m()/P.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=p(k),N=V.j(P);b(N)||0<N.l(D);)k-=L,V=p(k),N=V.j(P);A(V)&&(V=T),M=M.add(V),D=F(D,N)}return new B(M,D)}n.A=function(D){return G(this,D).h},n.and=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)&D.i(L);return new l(k,this.h&D.h)},n.or=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)|D.i(L);return new l(k,this.h|D.h)},n.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)^D.i(L);return new l(k,this.h^D.h)};function X(D){for(var P=D.g.length+1,k=[],L=0;L<P;L++)k[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(k,D.h)}function Z(D,P){var k=P>>5;P%=32;for(var L=D.g.length-k,M=[],V=0;V<L;V++)M[V]=0<P?D.i(V+k)>>>P|D.i(V+k+1)<<32-P:D.i(V+k);return new l(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ts=l}).apply(typeof bw<"u"?bw:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QI,Tu,YI,rh,Km,XI,JI,ZI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,w){return d==Array.prototype||d==Object.prototype||(d[v]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var v=0;v<d.length;++v){var w=d[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var w=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var W=d[R];if(!(W in w))break e;w=w[W]}d=d[d.length-1],R=w[d],v=v(R),v!=R&&v!=null&&e(w,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var w=0,R=!1,W={next:function(){if(!R&&w<d.length){var Q=w++;return{value:v(Q,d[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(d){return d||function(){return a(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,w){return d.call.apply(d.bind,arguments)}function _(d,v,w){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function T(d,v,w){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function S(d,v){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function A(d,v){function w(){}w.prototype=v.prototype,d.aa=v.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(R,W,Q){for(var ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ae[Je-2]=arguments[Je];return v.prototype[W].apply(R,ae)}}function b(d){const v=d.length;if(0<v){const w=Array(v);for(let R=0;R<v;R++)w[R]=d[R];return w}return[]}function x(d,v){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(f(R)){const W=d.length||0,Q=R.length||0;d.length=W+Q;for(let ae=0;ae<Q;ae++)d[W+ae]=R[ae]}else d.push(R)}}class F{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(d,v,w){for(const R in d)v.call(w,d[R],R,d)}function D(d,v){for(const w in d)v.call(void 0,d[w],w,d)}function P(d){const v={};for(const w in d)v[w]=d[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,v){let w,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(w in R)d[w]=R[w];for(let Q=0;Q<k.length;Q++)w=k[Q],Object.prototype.hasOwnProperty.call(R,w)&&(d[w]=R[w])}}function M(d){var v=1;d=d.split(":");const w=[];for(;0<v&&d.length;)w.push(d.shift()),v--;return d.length&&w.push(d.join(":")),w}function V(d){c.setTimeout(()=>{throw d},0)}function N(){var d=ue;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class le{constructor(){this.h=this.g=null}add(v,w){const R=Se.get();R.set(v,w),this.h?this.h.next=R:this.g=R,this.h=R}}var Se=new F(()=>new xe,d=>d.reset());class xe{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ie=!1,ue=new le,se=()=>{const d=c.Promise.resolve(void 0);we=()=>{d.then($)}};var $=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(w){V(w)}var v=Se;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,v),c.removeEventListener("test",w,v)}catch{}return d}();function Re(d,v){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(X){e:{try{G(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else w=="mouseover"?v=d.fromElement:w=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}A(Re,fe);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Qe(d,v,w,R,W){this.listener=d,this.proxy=null,this.src=v,this.type=w,this.capture=!!R,this.ha=W,this.key=++Oe,this.da=this.fa=!1}function Et(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function kn(d){this.src=d,this.g={},this.h=0}kn.prototype.add=function(d,v,w,R,W){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ae=ir(d,v,R,W);return-1<ae?(v=d[ae],w||(v.fa=!1)):(v=new Qe(v,this.src,Q,!!R,W),v.fa=w,d.push(v)),v};function Li(d,v){var w=v.type;if(w in d.g){var R=d.g[w],W=Array.prototype.indexOf.call(R,v,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(R,W,1),Q&&(Et(v),d.g[w].length==0&&(delete d.g[w],d.h--))}}function ir(d,v,w,R){for(var W=0;W<d.length;++W){var Q=d[W];if(!Q.da&&Q.listener==v&&Q.capture==!!w&&Q.ha==R)return W}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Mi={};function Vi(d,v,w,R,W){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Vi(d,v[Q],w,R,W);return null}return w=$i(w),d&&d[Ve]?d.K(v,w,p(R)?!!R.capture:!1,W):Fi(d,v,w,!1,R,W)}function Fi(d,v,w,R,W,Q){if(!v)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,Je=Zr(d);if(Je||(d[Jr]=Je=new kn(d)),w=Je.add(v,w,R,ae,Q),w.proxy)return w;if(R=Wo(),w.proxy=R,R.src=d,R.listener=w,d.addEventListener)Ie||(W=ae),W===void 0&&(W=!1),d.addEventListener(v.toString(),R,W);else if(d.attachEvent)d.attachEvent(pn(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Wo(){function d(w){return v.call(d.src,d.listener,w)}const v=Ui;return d}function ji(d,v,w,R,W){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ji(d,v[Q],w,R,W);else R=p(R)?!!R.capture:!!R,w=$i(w),d&&d[Ve]?(d=d.i,v=String(v).toString(),v in d.g&&(Q=d.g[v],w=ir(Q,w,R,W),-1<w&&(Et(Q[w]),Array.prototype.splice.call(Q,w,1),Q.length==0&&(delete d.g[v],d.h--)))):d&&(d=Zr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ir(v,w,R,W)),(w=-1<d?v[d]:null)&&zt(w))}function zt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ve])Li(v.i,d);else{var w=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(w,R,d.capture):v.detachEvent?v.detachEvent(pn(w),R):v.addListener&&v.removeListener&&v.removeListener(R),(w=Zr(v))?(Li(w,d),w.h==0&&(w.src=null,v[Jr]=null)):Et(d)}}}function pn(d){return d in Mi?Mi[d]:Mi[d]="on"+d}function Ui(d,v){if(d.da)d=!0;else{v=new Re(v,this);var w=d.listener,R=d.ha||d.src;d.fa&&zt(d),d=w.call(R,v)}return d}function Zr(d){return d=d[Jr],d instanceof kn?d:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function $i(d){return typeof d=="function"?d:(d[Ar]||(d[Ar]=function(v){return d.handleEvent(v)}),d[Ar])}function pt(){Y.call(this),this.i=new kn(this),this.M=this,this.F=null}A(pt,Y),pt.prototype[Ve]=!0,pt.prototype.removeEventListener=function(d,v,w,R){ji(this,d,v,w,R)};function mt(d,v){var w,R=d.F;if(R)for(w=[];R;R=R.F)w.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new fe(v,d);else if(v instanceof fe)v.target=v.target||d;else{var W=v;v=new fe(R,d),L(v,W)}if(W=!0,w)for(var Q=w.length-1;0<=Q;Q--){var ae=v.g=w[Q];W=Un(ae,R,!0,v)&&W}if(ae=v.g=d,W=Un(ae,R,!0,v)&&W,W=Un(ae,R,!1,v)&&W,w)for(Q=0;Q<w.length;Q++)ae=v.g=w[Q],W=Un(ae,R,!1,v)&&W}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var w=d.g[v],R=0;R<w.length;R++)Et(w[R]);delete d.g[v],d.h--}}this.F=null},pt.prototype.K=function(d,v,w,R){return this.i.add(String(d),v,!1,w,R)},pt.prototype.L=function(d,v,w,R){return this.i.add(String(d),v,!0,w,R)};function Un(d,v,w,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Q=0;Q<v.length;++Q){var ae=v[Q];if(ae&&!ae.da&&ae.capture==w){var Je=ae.listener,xt=ae.ha||ae.src;ae.fa&&Li(d.i,ae),W=Je.call(xt,R)!==!1&&W}}return W&&!R.defaultPrevented}function wl(d,v,w){if(typeof d=="function")w&&(d=T(d,w));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function zi(d){d.g=wl(()=>{d.g=null,d.i&&(d.i=!1,zi(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Hs extends Y{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:zi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(d){Y.call(this),this.h=d,this.g={}}A(qs,Y);var El=[];function Tl(d){Z(d.g,function(v,w){this.g.hasOwnProperty(w)&&zt(v)},d),d.g={}}qs.prototype.N=function(){qs.aa.N.call(this),Tl(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Il=c.JSON.stringify,Cl=c.JSON.parse,Sl=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Ks(){}Ks.prototype.h=null;function Ho(d){return d.h||(d.h=d.i())}function qo(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){fe.call(this,"d")}A(Pr,fe);function Ko(){fe.call(this,"c")}A(Ko,fe);var kr={},xl=null;function Gs(){return xl=xl||new pt}kr.La="serverreachability";function Rl(d){fe.call(this,kr.La,d)}A(Rl,fe);function ei(d){const v=Gs();mt(v,new Rl(v))}kr.STAT_EVENT="statevent";function Al(d,v){fe.call(this,kr.STAT_EVENT,d),this.stat=v}A(Al,fe);function yt(d){const v=Gs();mt(v,new Al(v,d))}kr.Ma="timingevent";function Go(d,v){fe.call(this,kr.Ma,d),this.size=v}A(Go,fe);function sr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function Qs(){this.g=!0}Qs.prototype.xa=function(){this.g=!1};function Ys(d,v,w,R,W,Q){d.info(function(){if(d.g)if(Q)for(var ae="",Je=Q.split("&"),xt=0;xt<Je.length;xt++){var Be=Je[xt].split("=");if(1<Be.length){var Ot=Be[0];Be=Be[1];var Tt=Ot.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Ot+"="+Be+"&"):ae+(Ot+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+v+`
`+w+`
`+ae})}function Qo(d,v,w,R,W,Q,ae){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+v+`
`+w+`
`+Q+" "+ae})}function or(d,v,w,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Rf(d,w)+(R?" "+R:"")})}function Pl(d,v){d.info(function(){return"TIMEOUT: "+v})}Qs.prototype.info=function(){};function Rf(d,v){if(!d.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var R=w[d];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return Il(w)}catch{return v}}var Yo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ic={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function Xs(){}A(Xs,Ks),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},ar=new Xs;function lr(d,v,w,R){this.j=d,this.i=v,this.l=w,this.R=R||1,this.U=new qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cc}function Cc(){this.i=null,this.g="",this.h=!1}var kl={},Xo={};function Jo(d,v,w){d.L=1,d.v=Ki(Nn(v)),d.m=w,d.P=!0,bl(d,null)}function bl(d,v){d.F=Date.now(),tt(d),d.A=Nn(d.v);var w=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Qi(w.i,"t",R),d.C=0,w=d.j.J,d.h=new Cc,d.g=zc(d.j,w?v:null,!d.m),0<d.O&&(d.M=new Hs(T(d.Y,d,d.g),d.O)),v=d.U,w=d.g,R=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(El[0]=W.toString()),W=El);for(var Q=0;Q<W.length;Q++){var ae=Vi(w,W[Q],R||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),ei(),Ys(d.i,d.u,d.A,d.l,d.R,d.m)}lr.prototype.ca=function(d){d=d.target;const v=this.M;v&&gn(d)==3?v.j():this.Y(d)},lr.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=gn(this.g);var v=this.g.Ba();const Wn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Vl(this.g)))){this.J||Tt!=4||v==7||(v==8||0>=Wn?ei(3):ei(2)),Js(this);var w=this.g.Z();this.X=w;t:if(Sc(this)){var R=Vl(this.g);d="";var W=R.length,Q=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Bi(this);var ae="";break t}this.h.i=new c.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(Q&&v==W-1)});R.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,Qo(this.i,this.u,this.A,this.l,this.R,Tt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,xt=this.g;if((Je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Je)){var Be=Je;break t}}Be=null}if(w=Be)or(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nl(this,w);else{this.o=!1,this.s=3,yt(12),zn(this),Bi(this);break e}}if(this.P){w=!0;let On;for(;!this.J&&this.C<ae.length;)if(On=Af(this,ae),On==Xo){Tt==4&&(this.s=4,yt(14),w=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(On==kl){this.s=4,yt(15),or(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else or(this.i,this.l,On,null),Nl(this,On);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),w=!1),this.o=this.o&&w,!w)or(this.i,this.l,ae,"[Invalid Chunked Response]"),zn(this),Bi(this);else if(0<ae.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),jl(Ot),Ot.M=!0,yt(11))}}else or(this.i,this.l,ae,null),Nl(this,ae);Tt==4&&zn(this),this.o&&!this.J&&(Tt==4?ua(this.j,this):(this.o=!1,tt(this)))}else ia(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),zn(this),Bi(this)}}}catch{}finally{}};function Sc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Af(d,v){var w=d.C,R=v.indexOf(`
`,w);return R==-1?Xo:(w=Number(v.substring(w,R)),isNaN(w)?kl:(R+=1,R+w>v.length?Xo:(v=v.slice(R,R+w),d.C=R+w,v)))}lr.prototype.cancel=function(){this.J=!0,zn(this)};function tt(d){d.S=Date.now()+d.I,xc(d,d.I)}function xc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=sr(T(d.ba,d),v)}function Js(d){d.B&&(c.clearTimeout(d.B),d.B=null)}lr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Pl(this.i,this.A),this.L!=2&&(ei(),yt(17)),zn(this),this.s=2,Bi(this)):xc(this,this.S-d)};function Bi(d){d.j.G==0||d.J||ua(d.j,d)}function zn(d){Js(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Tl(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Nl(d,v){try{var w=d.j;if(w.G!=0&&(w.g==d||un(w.h,d))){if(!d.K&&un(w.h,d)&&w.G==3){try{var R=w.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)la(w),fr(w);else break e;aa(w),yt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=sr(T(w.Za,w),6e3));if(1>=Ac(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else si(w,11)}else if((d.K||w.g==d)&&la(w),!z(v))for(W=w.Da.g.parse(v),v=0;v<W.length;v++){let Be=W[v];if(w.T=Be[0],Be=Be[1],w.G==2)if(Be[0]=="c"){w.K=Be[1],w.ia=Be[2];const Ot=Be[3];Ot!=null&&(w.la=Ot,w.j.info("VER="+w.la));const Tt=Be[4];Tt!=null&&(w.Aa=Tt,w.j.info("SVER="+w.Aa));const Wn=Be[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(R=1.5*Wn,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const On=d.g;if(On){const so=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var Q=R.h;Q.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Dl(Q,Q.h),Q.h=null))}if(R.D){const da=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(R.ya=da,et(R.I,R.D,da))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var ae=d;if(R.qa=$c(R,R.J?R.ia:null,R.W),ae.K){Pc(R.h,ae);var Je=ae,xt=R.L;xt&&(Je.I=xt),Je.B&&(Js(Je),tt(Je)),R.g=ae}else io(R);0<w.i.length&&Or(w)}else Be[0]!="stop"&&Be[0]!="close"||si(w,7);else w.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?si(w,7):Wt(w):Be[0]!="noop"&&w.l&&w.l.ta(Be),w.v=0)}}ei(4)}catch{}}var Rc=class{constructor(d,v){this.g=d,this.map=v}};function Zs(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ac(d){return d.h?1:d.g?d.g.size:0}function un(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Dl(d,v){d.g?d.g.add(v):d.h=v}function Pc(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Zs.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function kc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const w of d.g.values())v=v.concat(w.D);return v}return b(d.i)}function Zo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],w=d.length,R=0;R<w;R++)v.push(d[R]);return v}v=[],w=0;for(R in d)v[w++]=d[R];return v}function ea(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var w=0;w<d;w++)v.push(w);return v}v=[],w=0;for(const R in d)v[w++]=R;return v}}}function Wi(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var w=ea(d),R=Zo(d),W=R.length,Q=0;Q<W;Q++)v.call(void 0,R[Q],w&&w[Q],d)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pf(d,v){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var R=d[w].indexOf("="),W=null;if(0<=R){var Q=d[w].substring(0,R);W=d[w].substring(R+1)}else Q=d[w];v(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ti(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ti){this.h=d.h,to(this,d.j),this.o=d.o,this.g=d.g,Hi(this,d.s),this.l=d.l;var v=d.i,w=new br;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),qi(this,w),this.m=d.m}else d&&(v=String(d).match(eo))?(this.h=!1,to(this,v[1]||"",!0),this.o=Ue(v[2]||""),this.g=Ue(v[3]||"",!0),Hi(this,v[4]),this.l=Ue(v[5]||"",!0),qi(this,v[6]||"",!0),this.m=Ue(v[7]||"")):(this.h=!1,this.i=new br(null,this.h))}ti.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Gi(v,ta,!0),":");var w=this.g;return(w||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Gi(v,ta,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Gi(w,w.charAt(0)=="/"?Dc:Nc,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Gi(w,Ol)),d.join("")};function Nn(d){return new ti(d)}function to(d,v,w){d.j=w?Ue(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Hi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function qi(d,v,w){v instanceof br?(d.i=v,Nr(d.i,d.h)):(w||(v=Gi(v,Oc)),d.i=new br(v,d.h))}function et(d,v,w){d.i.set(v,w)}function Ki(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ue(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gi(d,v,w){return typeof d=="string"?(d=encodeURI(d).replace(v,bc),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function bc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ta=/[#\/\?@]/g,Nc=/[#\?:]/g,Dc=/[#\?]/g,Oc=/[#\?@]/g,Ol=/#/g;function br(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Bt(d){d.g||(d.g=new Map,d.h=0,d.i&&Pf(d.i,function(v,w){d.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=br.prototype,n.add=function(d,v){Bt(this),this.i=null,d=Bn(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(v),this.h+=1,this};function ur(d,v){Bt(d),v=Bn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function cr(d,v){return Bt(d),v=Bn(d,v),d.g.has(v)}n.forEach=function(d,v){Bt(this),this.g.forEach(function(w,R){w.forEach(function(W){d.call(v,W,R,this)},this)},this)},n.na=function(){Bt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let R=0;R<v.length;R++){const W=d[R];for(let Q=0;Q<W.length;Q++)w.push(v[R])}return w},n.V=function(d){Bt(this);let v=[];if(typeof d=="string")cr(this,d)&&(v=v.concat(this.g.get(Bn(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)v=v.concat(d[w])}return v},n.set=function(d,v){return Bt(this),this.i=null,d=Bn(this,d),cr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Qi(d,v,w){ur(d,v),0<w.length&&(d.i=null,d.g.set(Bn(d,v),b(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var R=v[w];const Q=encodeURIComponent(String(R)),ae=this.V(R);for(R=0;R<ae.length;R++){var W=Q;ae[R]!==""&&(W+="="+encodeURIComponent(String(ae[R]))),d.push(W)}}return this.i=d.join("&")};function Bn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Nr(d,v){v&&!d.j&&(Bt(d),d.i=null,d.g.forEach(function(w,R){var W=R.toLowerCase();R!=W&&(ur(this,R),Qi(this,W,w))},d)),d.j=v}function kf(d,v){const w=new Qs;if(c.Image){const R=new Image;R.onload=S(mn,w,"TestLoadImage: loaded",!0,v,R),R.onerror=S(mn,w,"TestLoadImage: error",!1,v,R),R.onabort=S(mn,w,"TestLoadImage: abort",!1,v,R),R.ontimeout=S(mn,w,"TestLoadImage: timeout",!1,v,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Lc(d,v){const w=new Qs,R=new AbortController,W=setTimeout(()=>{R.abort(),mn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(Q=>{clearTimeout(W),Q.ok?mn(w,"TestPingServer: ok",!0,v):mn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),mn(w,"TestPingServer: error",!1,v)})}function mn(d,v,w,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(w)}catch{}}function bf(){this.g=new Sl}function Mc(d,v,w){const R=w||"";try{Wi(d,function(W,Q){let ae=W;p(W)&&(ae=Il(W)),v.push(R+Q+"="+encodeURIComponent(ae))})}catch(W){throw v.push(R+"type="+encodeURIComponent("_badmap")),W}}function ni(d){this.l=d.Ub||null,this.j=d.eb||!1}A(ni,Ks),ni.prototype.g=function(){return new no(this.l,this.j)},ni.prototype.i=function(d){return function(){return d}}({});function no(d,v){pt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(no,pt),n=no.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,hr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?dr(this):hr(this),this.readyState==3&&Vc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,dr(this))},n.Qa=function(d){this.g&&(this.response=d,dr(this))},n.ga=function(){this.g&&dr(this)};function dr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=v.next();return d.join(`\r
`)};function hr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ri(d){let v="";return Z(d,function(w,R){v+=R,v+=":",v+=w,v+=`\r
`}),v}function Yi(d,v,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=ri(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):et(d,v,w))}function ut(d){pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ut,pt);var Nf=/^https?$/i,Ll=["POST","PUT"];n=ut.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Ho(this.o):Ho(ar),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){ro(this,Q);return}if(d=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)w.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())w.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ll,v,void 0))||R||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of w)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){ro(this,Q)}};function ro(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,na(d),Dn(d)}function na(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},n.bb=function(){Ml(this)};function Ml(d){if(d.h&&typeof l<"u"&&(!d.v[1]||gn(d)!=4||d.Z()!=2)){if(d.u&&gn(d)==4)wl(d.Ea,0,d);else if(mt(d,"readystatechange"),gn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var R;if(R=ae===0){var W=String(d.D).match(eo)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),R=!Nf.test(W?W.toLowerCase():"")}w=R}if(w)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var Q=2<gn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",na(d)}}finally{Dn(d)}}}}function Dn(d,v){if(d.g){ra(d);const w=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||mt(d,"ready");try{w.onreadystatechange=R}catch{}}}function ra(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function gn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Cl(v)}};function Vl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ia(d){const v={};d=(d.g&&2<=gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(z(d[R]))continue;var w=M(d[R]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=v[W]||[];v[W]=Q,Q.push(w)}D(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(d,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||v}function Fl(d){this.Aa=0,this.i=[],this.j=new Qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,d),this.cb=Dr("retryDelaySeedMs",1e4,d),this.Wa=Dr("forwardChannelMaxRetries",2,d),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Zs(d&&d.concurrentRequestLimit),this.Da=new bf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fl.prototype,n.la=8,n.G=1,n.connect=function(d,v,w,R){yt(0),this.W=d,this.H=v||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=$c(this,null,this.W),Or(this)};function Wt(d){if(sa(d),d.G==3){var v=d.U++,w=Nn(d.I);if(et(w,"SID",d.K),et(w,"RID",v),et(w,"TYPE","terminate"),ii(d,w),v=new lr(d,d.j,v),v.L=2,v.v=Ki(Nn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=v.v,w=!0),w||(v.g=zc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),tt(v)}Uc(d)}function fr(d){d.g&&(jl(d),d.g.cancel(),d.g=null)}function sa(d){fr(d),d.u&&(c.clearTimeout(d.u),d.u=null),la(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Or(d){if(!bn(d.h)&&!d.s){d.s=!0;var v=d.Ga;we||se(),ie||(we(),ie=!0),ue.add(v,d),d.B=0}}function Df(d,v){return Ac(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=sr(T(d.Ga,d,v),jc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new lr(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=P(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Xi(this,W,v),w=Nn(this.I),et(w,"RID",d),et(w,"CVER",22),this.D&&et(w,"X-HTTP-Session-Id",this.D),ii(this,w),Q&&(this.O?v="headers="+encodeURIComponent(String(ri(Q)))+"&"+v:this.m&&Yi(w,this.m,Q)),Dl(this.h,W),this.Ua&&et(w,"TYPE","init"),this.P?(et(w,"$req",v),et(w,"SID","null"),W.T=!0,Jo(W,w,null)):Jo(W,w,v),this.G=2}}else this.G==3&&(d?oa(this,d):this.i.length==0||bn(this.h)||oa(this))};function oa(d,v){var w;v?w=v.l:w=d.U++;const R=Nn(d.I);et(R,"SID",d.K),et(R,"RID",w),et(R,"AID",d.T),ii(d,R),d.m&&d.o&&Yi(R,d.m,d.o),w=new lr(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Xi(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Dl(d.h,w),Jo(w,R,v)}function ii(d,v){d.H&&Z(d.H,function(w,R){et(v,R,w)}),d.l&&Wi({},function(w,R){et(v,R,w)})}function Xi(d,v,w){w=Math.min(d.i.length,w);var R=d.l?T(d.l.Na,d.l,d):null;e:{var W=d.i;let Q=-1;for(;;){const ae=["count="+w];Q==-1?0<w?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Je=!0;for(let xt=0;xt<w;xt++){let Be=W[xt].g;const Ot=W[xt].map;if(Be-=Q,0>Be)Q=Math.max(0,W[xt].g-100),Je=!1;else try{Mc(Ot,ae,"req"+Be+"_")}catch{R&&R(Ot)}}if(Je){R=ae.join("&");break e}}}return d=d.i.splice(0,w),v.D=d,R}function io(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;we||se(),ie||(we(),ie=!0),ue.add(v,d),d.v=0}}function aa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=sr(T(d.Fa,d),jc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=sr(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),fr(this),Fc(this))};function jl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Fc(d){d.g=new lr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Nn(d.qa);et(v,"RID","rpc"),et(v,"SID",d.K),et(v,"AID",d.T),et(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(v,"TO",d.ja),et(v,"TYPE","xmlhttp"),ii(d,v),d.m&&d.o&&Yi(v,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Ki(Nn(v)),w.m=null,w.P=!0,bl(w,d)}n.Za=function(){this.C!=null&&(this.C=null,fr(this),aa(this),yt(19))};function la(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ua(d,v){var w=null;if(d.g==v){la(d),jl(d),d.g=null;var R=2}else if(un(d.h,v))w=v.D,Pc(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;R=Gs(),mt(R,new Go(R,w)),Or(d)}else io(d);else if(W=v.s,W==3||W==0&&0<v.X||!(R==1&&Df(d,v)||R==2&&aa(d)))switch(w&&0<w.length&&(v=d.h,v.i=v.i.concat(w)),W){case 1:si(d,5);break;case 4:si(d,10);break;case 3:si(d,6);break;default:si(d,2)}}}function jc(d,v){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*v}function si(d,v){if(d.j.info("Error code "+v),v==2){var w=T(d.fb,d),R=d.Xa;const W=!R;R=new ti(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||to(R,"https"),Ki(R),W?kf(R.toString(),w):Lc(R.toString(),w)}else yt(2);d.G=0,d.l&&d.l.sa(v),Uc(d),sa(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Uc(d){if(d.G=0,d.ka=[],d.l){const v=kc(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ka,v),x(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function $c(d,v,w){var R=w instanceof ti?Nn(w):new ti(w);if(R.g!="")v&&(R.g=v+"."+R.g),Hi(R,R.s);else{var W=c.location;R=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Q=new ti(null);R&&to(Q,R),v&&(Q.g=v),W&&Hi(Q,W),w&&(Q.l=w),R=Q}return w=d.D,v=d.ya,w&&v&&et(R,w,v),et(R,"VER",d.la),ii(d,R),R}function zc(d,v,w){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ut(new ni({eb:w})):new ut(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ul(){}n=Ul.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ca(){}ca.prototype.g=function(d,v){return new cn(d,v)};function cn(d,v){pt.call(this),this.g=new Fl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!z(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Lr(this)}A(cn,pt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Wt(this.g)},cn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Il(d),d=w);v.i.push(new Rc(v.Ya++,d)),v.G==3&&Or(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,cn.aa.N.call(this)};function Bc(d){Pr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const w in v){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}A(Bc,Pr);function Wc(){Ko.call(this),this.status=1}A(Wc,Ko);function Lr(d){this.g=d}A(Lr,Ul),Lr.prototype.ua=function(){mt(this.g,"a")},Lr.prototype.ta=function(d){mt(this.g,new Bc(d))},Lr.prototype.sa=function(d){mt(this.g,new Wc)},Lr.prototype.ra=function(){mt(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,ZI=function(){return new ca},JI=function(){return Gs()},XI=kr,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,rh=Yo,Ic.COMPLETE="complete",YI=Ic,qo.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Tu=qo,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,QI=ut}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const Nw="@firebase/firestore",Dw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Xh("@firebase/firestore");function Da(){return Ps.logLevel}function nD(n){Ps.setLogLevel(n)}function he(n,...e){if(Ps.logLevel<=Me.DEBUG){const t=e.map(ov);Ps.debug(`Firestore (${hl}): ${n}`,...t)}}function Ri(n,...e){if(Ps.logLevel<=Me.ERROR){const t=e.map(ov);Ps.error(`Firestore (${hl}): ${n}`,...t)}}function Ka(n,...e){if(Ps.logLevel<=Me.WARN){const t=e.map(ov);Ps.warn(`Firestore (${hl}): ${n}`,...t)}}function ov(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function Xe(n,e){n||Pe()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class iD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sD{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Is,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Is)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new eC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new rn(e)}}class oD{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class aD{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new oD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Cn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ow(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new Ow(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=uD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function $e(n,e){return n<e?-1:n>e?1:0}function Ga(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=-62135596800,Mw=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Mw);return new bt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Lw)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mw}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Lw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new bt(0,0))}static max(){return new ke(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__name__";class Ur{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pe(),r===void 0?r=e.length-t:r>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Ur.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ur.isNumericId(e),i=Ur.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class vt extends Ur{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const cD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ur{construct(e,t,r){return new Qt(e,t,r)}static isValidIdentifier(e){return cD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vw}static keyField(){return new Qt([Vw])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ee(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ee(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new Ee(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(vt.fromString(e))}static fromName(e){return new Te(vt.fromString(e).popFirst(5))}static empty(){return new Te(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;function dD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new ks(i,Te.empty(),e)}function hD(n){return new ks(n.readTime,n.key,Bu)}class ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ks(ke.min(),Te.empty(),Bu)}static max(){return new ks(ke.max(),Te.empty(),Bu)}}function fD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==pD)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,r)=>{t(e)})}static reject(e){return new J((t,r)=>{r(e)})}static waitFor(e){return new J((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next(i=>i?J.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new J((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new J((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function gD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-1;function rf(n){return n==null}function Th(n){return n===0&&1/n==-1/0}function vD(n){return typeof n=="number"&&Number.isInteger(n)&&!Th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="";function yD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fw(e)),e=_D(n.get(t),e);return Fw(e)}function _D(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case nC:t+="";break;default:t+=a}}return t}function Fw(n){return n+nC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let St=class Gm{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new Gm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Gm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}},$d=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cs=class mi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??mi.RED,this.left=i??mi.EMPTY,this.right=a??mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new mi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return mi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}};Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1;Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Cs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uw(this.data.getIterator())}getIteratorFrom(e){return new Uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class Uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Er([])}unionWith(e){let t=new Nt(Qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new iC("Invalid base64 string: "+a):a}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const wD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=wD.exec(n);if(Xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="server_timestamp",oC="__type__",aC="__previous_value__",lC="__local_write_time__";function lv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[oC])===null||t===void 0?void 0:t.stringValue)===sC}function sf(n){const e=n.mapValue.fields[aC];return lv(e)?sf(e):e}function Wu(n){const e=bs(n.mapValue.fields[lC].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,r,i,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const Ih="(default)";class Hu{constructor(e,t){this.projectId=e,this.database=t||Ih}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="__type__",TD="__max__",zd={mapValue:{}},cC="__vector__",Ch="value";function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lv(n)?4:CD(n)?9007199254740991:ID(n)?10:11:Pe()}function Qr(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wu(n).isEqual(Wu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=bs(i.timestampValue),c=bs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Ns(i.bytesValue).isEqual(Ns(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return wt(i.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return wt(i.integerValue)===wt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=wt(i.doubleValue),c=wt(a.doubleValue);return l===c?Th(l)===Th(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Ga(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(jw(l)!==jw(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Qr(l[f],c[f])))return!1;return!0}(n,e);default:return Pe()}}function qu(n,e){return(n.values||[]).find(t=>Qr(t,e))!==void 0}function Qa(n,e){if(n===e)return 0;const t=Ds(n),r=Ds(e);if(t!==r)return $e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=wt(a.integerValue||a.doubleValue),f=wt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return $w(n.timestampValue,e.timestampValue);case 4:return $w(Wu(n),Wu(e));case 5:return $e(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Ns(a),f=Ns(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=$e(c[p],f[p]);if(g!==0)return g}return $e(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=$e(wt(a.latitude),wt(l.latitude));return c!==0?c:$e(wt(a.longitude),wt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return zw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},T=l.fields||{},S=(c=_[Ch])===null||c===void 0?void 0:c.arrayValue,A=(f=T[Ch])===null||f===void 0?void 0:f.arrayValue,b=$e(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:zw(S,A)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===zd.mapValue&&l===zd.mapValue)return 0;if(a===zd.mapValue)return 1;if(l===zd.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const T=$e(f[_],g[_]);if(T!==0)return T;const S=Qa(c[f[_]],p[g[_]]);if(S!==0)return S}return $e(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Pe()}}function $w(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=bs(n),r=bs(e),i=$e(t.seconds,r.seconds);return i!==0?i:$e(t.nanos,r.nanos)}function zw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Qa(t[i],r[i]);if(a)return a}return $e(t.length,r.length)}function Ya(n){return Qm(n)}function Qm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Qm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Qm(t.fields[l])}`;return i+"}"}(n.mapValue):Pe()}function ih(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(n);return e?16+ih(e):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ih(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Fo(r.fields,(a,l)=>{i+=a.length+ih(l)}),i}(n.mapValue);default:throw Pe()}}function Ym(n){return!!n&&"integerValue"in n}function uv(n){return!!n&&"arrayValue"in n}function Bw(n){return!!n&&"nullValue"in n}function Ww(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sh(n){return!!n&&"mapValue"in n}function ID(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uC])===null||t===void 0?void 0:t.stringValue)===cC}function xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===TD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=xu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fo(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Xn(xu(this.value))}}function dC(n){const e=[];return Fo(n.fields,(t,r)=>{const i=new Qt([t]);if(sh(r)){const a=dC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new sn(e,0,ke.min(),ke.min(),ke.min(),Xn.empty(),0)}static newFoundDocument(e,t,r,i){return new sn(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new sn(e,2,t,ke.min(),ke.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,ke.min(),ke.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function Hw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(l.referenceValue),t.key):r=Qa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function qw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function SD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{}class Pt extends hC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RD(e,t,r):t==="array-contains"?new kD(e,r):t==="in"?new bD(e,r):t==="not-in"?new ND(e,r):t==="array-contains-any"?new DD(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new AD(e,r):new PD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qa(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Qa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends hC{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Yr(e,t)}matches(e){return fC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fC(n){return n.op==="and"}function pC(n){return xD(n)&&fC(n)}function xD(n){for(const e of n.filters)if(e instanceof Yr)return!1;return!0}function Xm(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+Ya(n.value);if(pC(n))return n.filters.map(e=>Xm(e)).join(",");{const e=n.filters.map(t=>Xm(t)).join(",");return`${n.op}(${e})`}}function mC(n,e){return n instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(n,e):n instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&mC(l,i.filters[c]),!0):!1}(n,e):void Pe()}function gC(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ya(t.value)}`}(n):n instanceof Yr?function(t){return t.op.toString()+" {"+t.getFilters().map(gC).join(" ,")+"}"}(n):"Filter"}class RD extends Pt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class AD extends Pt{constructor(e,t){super(e,"in",t),this.keys=vC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PD extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=vC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Te.fromName(r.referenceValue))}class kD extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uv(t)&&qu(t.arrayValue,this.value)}}class bD extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qu(this.value.arrayValue,t)}}class ND extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!qu(this.value.arrayValue,t)}}class DD extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function Kw(n,e=null,t=[],r=[],i=null,a=null,l=null){return new OD(n,e,t,r,i,a,l)}function cv(n){const e=be(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Xm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ya(r)).join(",")),e.le=t}return e.le}function dv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!SD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qw(n.startAt,e.startAt)&&qw(n.endAt,e.endAt)}function Jm(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function LD(n,e,t,r,i,a,l,c){return new of(n,e,t,r,i,a,l,c)}function hv(n){return new of(n)}function Gw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MD(n){return n.collectionGroup!==null}function Ru(n){const e=be(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Nt(Qt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new xh(a,r))}),t.has(Qt.keyField().canonicalString())||e.he.push(new xh(Qt.keyField(),r))}return e.he}function Hr(n){const e=be(n);return e.Pe||(e.Pe=VD(e,Ru(n))),e.Pe}function VD(n,e){if(n.limitType==="F")return Kw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new xh(i.field,a)});const t=n.endAt?new Sh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sh(n.startAt.position,n.startAt.inclusive):null;return Kw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Zm(n,e,t){return new of(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function af(n,e){return dv(Hr(n),Hr(e))&&n.limitType===e.limitType}function yC(n){return`${cv(Hr(n))}|lt:${n.limitType}`}function Oa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>gC(i)).join(", ")}]`),rf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ya(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(Hr(n))}; limitType=${n.limitType})`}function lf(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Ru(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=Hw(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,Ru(r),i)||r.endAt&&!function(l,c,f){const p=Hw(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,Ru(r),i))}(n,e)}function FD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _C(n){return(e,t)=>{let r=!1;for(const i of Ru(n)){const a=jD(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function jD(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Qa(f,p):Pe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return rC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new St(Te.comparator);function Ai(){return UD}const wC=new St(Te.comparator);function Iu(...n){let e=wC;for(const t of n)e=e.insert(t.key,t);return e}function EC(n){let e=wC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Co(){return Au()}function TC(){return Au()}function Au(){return new jo(n=>n.toString(),(n,e)=>n.isEqual(e))}const $D=new St(Te.comparator),zD=new Nt(Te.comparator);function je(...n){let e=zD;for(const t of n)e=e.add(t);return e}const BD=new Nt($e);function WD(){return BD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function IC(n){return{integerValue:""+n}}function HD(n,e){return vD(e)?IC(e):fv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function qD(n,e,t){return n instanceof Ku?function(i,a){const l={fields:{[oC]:{stringValue:sC},[lC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&lv(a)&&(a=sf(a)),a&&(l.fields[aC]=a),{mapValue:l}}(t,e):n instanceof Gu?SC(n,e):n instanceof Qu?xC(n,e):function(i,a){const l=CC(i,a),c=Qw(l)+Qw(i.Ie);return Ym(l)&&Ym(i.Ie)?IC(c):fv(i.serializer,c)}(n,e)}function KD(n,e,t){return n instanceof Gu?SC(n,e):n instanceof Qu?xC(n,e):t}function CC(n,e){return n instanceof Rh?function(r){return Ym(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ku extends uf{}class Gu extends uf{constructor(e){super(),this.elements=e}}function SC(n,e){const t=RC(e);for(const r of n.elements)t.some(i=>Qr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qu extends uf{constructor(e){super(),this.elements=e}}function xC(n,e){let t=RC(e);for(const r of n.elements)t=t.filter(i=>!Qr(i,r));return{arrayValue:{values:t}}}class Rh extends uf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Qw(n){return wt(n.integerValue||n.doubleValue)}function RC(n){return uv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t){this.field=e,this.transform=t}}function QD(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Gu&&i instanceof Gu||r instanceof Qu&&i instanceof Qu?Ga(r.elements,i.elements,Qr):r instanceof Rh&&i instanceof Rh?Qr(r.Ie,i.Ie):r instanceof Ku&&i instanceof Ku}(n.transform,e.transform)}class YD{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cf{}function AC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kC(n.key,Ti.none()):new cc(n.key,n.data,Ti.none());{const t=n.data,r=Xn.empty();let i=new Nt(Qt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Uo(n.key,r,new Er(i.toArray()),Ti.none())}}function XD(n,e,t){n instanceof cc?function(i,a,l){const c=i.value.clone(),f=Xw(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Uo?function(i,a,l){if(!oh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=Xw(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(PC(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Pu(n,e,t,r){return n instanceof cc?function(a,l,c,f){if(!oh(a.precondition,l))return c;const p=a.value.clone(),g=Jw(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Uo?function(a,l,c,f){if(!oh(a.precondition,l))return c;const p=Jw(a.fieldTransforms,f,l),g=l.data;return g.setAll(PC(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,c){return oh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function JD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=CC(r.transform,i||null);a!=null&&(t===null&&(t=Xn.empty()),t.set(r.field,a))}return t||null}function Yw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ga(r,i,(a,l)=>QD(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cc extends cf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends cf{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Xw(n,e,t){const r=new Map;Xe(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,KD(l,c,t[i]))}return r}function Jw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,qD(a,l,e))}return r}class kC extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZD extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&XD(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TC();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=AC(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(t,r)=>Yw(t,r))&&Ga(this.baseMutations,e.baseMutations,(t,r)=>Yw(t,r))}}class pv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Xe(e.mutations.length===r.length);let i=function(){return $D}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new pv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,We;function rO(n){switch(n){case re.OK:return Pe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Pe()}}function bC(n){if(n===void 0)return Ri("GRPC error has no .code"),re.UNKNOWN;switch(n){case Ct.OK:return re.OK;case Ct.CANCELLED:return re.CANCELLED;case Ct.UNKNOWN:return re.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return re.INTERNAL;case Ct.UNAVAILABLE:return re.UNAVAILABLE;case Ct.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ct.NOT_FOUND:return re.NOT_FOUND;case Ct.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ct.ABORTED:return re.ABORTED;case Ct.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ct.DATA_LOSS:return re.DATA_LOSS;default:return Pe()}}(We=Ct||(Ct={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new Ts([4294967295,4294967295],0);function Zw(n){const e=iO().encode(n),t=new GI;return t.update(e),new Uint8Array(t.digest())}function eE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ts([t,r],0),new Ts([i,a],0)]}class mv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ts.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ts.fromNumber(r)));return i.compare(sO)===1&&(i=new Ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Zw(e),[r,i]=eE(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new mv(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=Zw(e),[r,i]=eE(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new df(ke.min(),i,new St($e),Ai(),je())}}class dc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dc(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class NC{constructor(e,t){this.targetId=e,this.ge=t}}class DC{constructor(e,t,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class tE{constructor(){this.pe=0,this.ye=nE(),this.we=Xt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=je(),t=je(),r=je();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Pe()}}),new dc(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=nE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class oO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ai(),this.$e=Bd(),this.Ke=Bd(),this.Ue=new St($e)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(Jm(a))if(r===0){const l=new Te(a.path);this.ze(t,l,sn.newNoDocument(l,ke.min()))}else Xe(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Ns(r).toUint8Array()}catch(f){if(f instanceof iC)return Ka("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new mv(l,i,a)}catch(f){return Ka(f instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&Jm(c.target)){const f=new Te(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,sn.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=je();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new df(e,t,this.Ue,this.Qe,r);return this.Qe=Ai(),this.$e=Bd(),this.Ke=Bd(),this.Ue=new St($e),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new tE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Nt($e),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Nt($e),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new tE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Bd(){return new St(Te.comparator)}function nE(){return new St(Te.comparator)}const aO={asc:"ASCENDING",desc:"DESCENDING"},lO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uO={and:"AND",or:"OR"};class cO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function eg(n,e){return n.useProto3Json||rf(e)?e:{value:e}}function Ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dO(n,e){return Ah(n,e.toTimestamp())}function qr(n){return Xe(!!n),ke.fromTimestamp(function(t){const r=bs(t);return new bt(r.seconds,r.nanos)}(n))}function gv(n,e){return tg(n,e).canonicalString()}function tg(n,e){const t=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function LC(n){const e=vt.fromString(n);return Xe(UC(e)),e}function ng(n,e){return gv(n.databaseId,e.path)}function fm(n,e){const t=LC(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(VC(t))}function MC(n,e){return gv(n.databaseId,e)}function hO(n){const e=LC(n);return e.length===4?vt.emptyPath():VC(e)}function rg(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VC(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function rE(n,e,t){return{name:ng(n,e),fields:t.value.mapValue.fields}}function fO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Xe(g===void 0||typeof g=="string"),Xt.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Xt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?re.UNKNOWN:bC(p.code);return new Ee(g,p.message||"")}(l);t=new DC(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fm(n,r.document.name),a=qr(r.document.updateTime),l=r.document.createTime?qr(r.document.createTime):ke.min(),c=new Xn({mapValue:{fields:r.document.fields}}),f=sn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new ah(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fm(n,r.document),a=r.readTime?qr(r.readTime):ke.min(),l=sn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new ah([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fm(n,r.document),a=r.removedTargetIds||[];t=new ah([],a,i,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new nO(i,a),c=r.targetId;t=new NC(c,l)}}return t}function pO(n,e){let t;if(e instanceof cc)t={update:rE(n,e.key,e.value)};else if(e instanceof kC)t={delete:ng(n,e.key)};else if(e instanceof Uo)t={update:rE(n,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof ZD))return Pe();t={verify:ng(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Ku)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Rh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Pe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:dO(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(n,e.precondition)),t}function mO(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?qr(i.updateTime):qr(a);return l.isEqual(ke.min())&&(l=qr(a)),new YD(l,i.transformResults||[])}(t,e))):[]}function gO(n,e){return{documents:[MC(n,e.path)]}}function vO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=MC(n,i);const a=function(p){if(p.length!==0)return jC(Yr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:La(T.field),direction:wO(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=eg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function yO(n){let e=hO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Xe(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=FC(_);return T instanceof Yr&&pC(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(A){return new xh(Ma(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(_){let T;return T=typeof _=="object"?_.value:_,rf(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(_){const T=!!_.before,S=_.values||[];return new Sh(S,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,S=_.values||[];return new Sh(S,T)}(t.endAt)),LD(e,i,l,a,c,"F",f,p)}function _O(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ma(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ma(t.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ma(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ma(t.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Ma(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yr.create(t.compositeFilter.filters.map(r=>FC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(n):Pe()}function wO(n){return aO[n]}function EO(n){return lO[n]}function TO(n){return uO[n]}function La(n){return{fieldPath:n.canonicalString()}}function Ma(n){return Qt.fromServerFormat(n.fieldPath)}function jC(n){return n instanceof Pt?function(t){if(t.op==="=="){if(Ww(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NAN"}};if(Bw(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ww(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NAN"}};if(Bw(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(t.field),op:EO(t.op),value:t.value}}}(n):n instanceof Yr?function(t){const r=t.getFilters().map(i=>jC(i));return r.length===1?r[0]:{compositeFilter:{op:TO(t.op),filters:r}}}(n):Pe()}function IO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,r,i,a=ke.min(),l=ke.min(),c=Xt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.Tt=e}}function SO(n){const e=yO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Tn=new RO}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(ks.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class RO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nt(vt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$C=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In($C,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Xa(0)}static Un(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",AO=1048576;function oE([n,e],[t,r]){const i=$e(n,t);return i===0?$e(e,r):i}class PO{constructor(e){this.Hn=e,this.buffer=new Nt(oE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(sE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pl(t)?he(sE,"Ignoring IndexedDB error during garbage collection: ",t):await fl(t)}await this.er(3e5)})}}class bO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return J.resolve(nf.ae);const r=new PO(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(iE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Da()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function NO(n,e){return new bO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.changes=new jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pu(r.mutation,i,Er.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){const i=Co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Iu();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=Ai();const l=Au(),c=function(){return Au()}();return t.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Uo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Pu(g.mutation,p,g.mutation.getFieldMask(),bt.now())):l.set(p.key,Er.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new OO(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Au();let i=new St((l,c)=>l-c),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Er.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||je()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=TC();g.forEach(T=>{if(!a.has(T)){const S=AC(t.get(T),r.get(T));S!==null&&_.set(T,S),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):J.resolve(Co());let c=Bu,f=a;return l.next(p=>J.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{f=f.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,je())).next(g=>({batchId:c,changes:EC(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Iu();return this.indexManager.getCollectionParents(e,a).next(c=>J.forEach(c,f=>{const p=function(_,T){return new of(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,sn.newInvalidDocument(g)))});let c=Iu();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Pu(g.mutation,p,Er.empty(),bt.now()),lf(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:SO(i.bundledQuery),readTime:qr(i.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.overlays=new St(Te.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Co();return J.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=Co(),a=t.length+1,l=new Te(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new St((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Co(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Co(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return J.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new tO(t,r));let a=this.Rr.get(t);a===void 0&&(a=je(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.Vr=new Nt(jt.mr),this.gr=new Nt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new jt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new jt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Te(new vt([])),r=new jt(t,e),i=new jt(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Te(new vt([])),r=new jt(t,e),i=new jt(t,e+1);let a=je();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new jt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Te.comparator(e.key,t.key)||$e(e.Cr,t.Cr)}static pr(e,t){return $e(e.Cr,t.Cr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(jt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new eO(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new jt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?av:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),i=new jt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt($e);return t.forEach(i=>{const a=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const l=new jt(new Te(a),0);let c=new Nt($e);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Cr)),!0)},l),J.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(t.mutations,i=>{const a=new jt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new jt(t,0),i=this.Mr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.kr=e,this.docs=function(){return new St(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let r=Ai();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():sn.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ai();const l=t.path,c=new Te(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||fD(hD(g),r)<=0||(i.has(g.key)||lf(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Pe()}qr(e,t){return J.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $O(this)}getSize(e){return J.resolve(this.size)}}class $O extends DO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.persistence=e,this.Qr=new jo(t=>cv(t),dv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new vv,this.targetCount=0,this.Ur=Xa.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Xa(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),J.waitFor(a).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new nf(0),this.zr=!1,this.zr=!0,this.jr=new FO,this.referenceDelegate=e(this),this.Hr=new zO(this),this.indexManager=new xO,this.remoteDocumentCache=function(i){return new UO(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new CO(t),this.Yr=new MO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new jO(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new BO(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class BO extends mD{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.ti=new vv,this.ni=null}static ri(e){return new yv(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const i=Te.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ph{constructor(e,t){this.persistence=e,this.oi=new jo(r=>yD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=NO(this,t)}static ri(e,t){return new Ph(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?J.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ih(e.data.value)),t}ar(e,t,r){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=je(),i=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new _v(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return EP()?8:gD(ln())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new WO;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Da()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Da()<=Me.DEBUG&&he("QueryEngine","Query:",Oa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Da()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):J.resolve())}rs(e,t){if(Gw(t))return J.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Zm(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=je(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,c);return this.ls(t,p,l,f.readTime)?this.rs(e,Zm(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return Gw(t)||i.isEqual(ke.min())?J.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?J.resolve(null):(Da()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oa(t)),this.hs(e,l,t,dD(i,Bu)).next(c=>c))})}cs(e,t){let r=new Nt(_C(e));return t.forEach((i,a)=>{lf(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return Da()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Oa(t)),this.ns.getDocumentsMatchingQuery(e,t,ks.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="LocalStore",qO=3e8;class KO{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new St($e),this.Is=new jo(a=>cv(a),dv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function GO(n,e,t,r){return new KO(n,e,t,r)}async function BC(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=je();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function QO(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,T=_.keys();let S=J.resolve();return T.forEach(A=>{S=S.next(()=>g.getEntry(f,A)).next(b=>{const x=p.docVersions.get(A);Xe(x!==null),b.version.compareTo(x)<0&&(_.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function WC(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function YO(n,e){const t=be(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const T=i.get(_);if(!T)return;c.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Xt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(_,S),function(b,x,F){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=qO?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,S,g)&&c.push(t.Hr.updateTargetData(a,S))});let f=Ai(),p=je();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(XO(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(ke.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return J.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=i,a))}function XO(n,e,t){let r=je(),i=je();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Ai();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):he(wv,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function JO(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=av),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZO(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,J.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new _s(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function ig(n,e,t){const r=be(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!pl(l))throw l;he(wv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function aE(n,e,t){const r=be(n);let i=ke.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=be(f),T=_.Is.get(g);return T!==void 0?J.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Hr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?a:je())).next(c=>(eL(r,FD(e),c),{documents:c,gs:a})))}function eL(n,e,t){let r=n.Es.get(e)||ke.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class lE{constructor(){this.activeTargetIds=WD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tL{constructor(){this.ho=new lE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new lE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class cE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(uE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(uE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function sg(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="RestConnection",rL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iL{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Ih?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,a){const l=sg(),c=this.So(e,t.toUriEncodedString());he(pm,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,c,f,r).then(p=>(he(pm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Ka(pm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,a,l){return this.bo(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}So(e,t){const r=rL[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class oL extends iL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=sg();return new Promise((l,c)=>{const f=new QI;f.setWithCredentials(!0),f.listenOnce(YI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case rh.NO_ERROR:const g=f.getResponseJson();he(nn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case rh.TIMEOUT:he(nn,`RPC '${e}' ${a} timed out`),c(new Ee(re.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const _=f.getStatus();if(he(nn,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const A=function(x){const F=x.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(F)>=0?F:re.UNKNOWN}(S.status);c(new Ee(A,S.message))}else c(new Ee(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ee(re.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{he(nn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);he(nn,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=sg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ZI(),c=JI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");he(nn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let T=!1,S=!1;const A=new sL({Fo:x=>{S?he(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(T||(he(nn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),T=!0),he(nn,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Mo:()=>_.close()}),b=(x,F,z)=>{x.listen(F,B=>{try{z(B)}catch(G){setTimeout(()=>{throw G},0)}})};return b(_,Tu.EventType.OPEN,()=>{S||(he(nn,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),b(_,Tu.EventType.CLOSE,()=>{S||(S=!0,he(nn,`RPC '${e}' stream ${i} transport closed`),A.Ko())}),b(_,Tu.EventType.ERROR,x=>{S||(S=!0,Ka(nn,`RPC '${e}' stream ${i} transport errored:`,x),A.Ko(new Ee(re.UNAVAILABLE,"The operation could not be completed")))}),b(_,Tu.EventType.MESSAGE,x=>{var F;if(!S){const z=x.data[0];Xe(!!z);const B=z,G=(B==null?void 0:B.error)||((F=B[0])===null||F===void 0?void 0:F.error);if(G){he(nn,`RPC '${e}' stream ${i} received error:`,G);const X=G.status;let Z=function(k){const L=Ct[k];if(L!==void 0)return bC(L)}(X),D=G.message;Z===void 0&&(Z=re.INTERNAL,D="Unknown error status: "+X+" with message "+G.message),S=!0,A.Ko(new Ee(Z,D)),_.close()}else he(nn,`RPC '${e}' stream ${i} received:`,z),A.Uo(z)}}),b(c,XI.STAT_EVENT,x=>{x.stat===Km.PROXY?he(nn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Km.NOPROXY&&he(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){return new cO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class qC{constructor(e,t,r,i,a,l,c,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new HC(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Ee(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(dE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aL extends qC{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=fO(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?qr(l.readTime):ke.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=rg(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=Jm(f)?{documents:gO(a,f)}:{query:vO(a,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=OC(a,l.resumeToken);const p=eg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Ah(a,l.snapshotVersion.toTimestamp());const p=eg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=_O(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=rg(this.serializer),t.removeTarget=e,this.I_(t)}}class lL extends qC{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=mO(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=rg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>pO(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{}class cL extends uL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.bo(e,tg(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(re.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,tg(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class dL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ri(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class hL{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{$o(this)&&(he(bo,"Restarting streams for network reachability change."),await async function(f){const p=be(f);p.W_.add(4),await hc(p),p.j_.set("Unknown"),p.W_.delete(4),await ff(p)}(this))})}),this.j_=new dL(r,i)}}async function ff(n){if($o(n))for(const e of n.G_)await e(!0)}async function hc(n){for(const e of n.G_)await e(!1)}function KC(n,e){const t=be(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Cv(t)?Iv(t):ml(t).c_()&&Tv(t,e))}function Ev(n,e){const t=be(n),r=ml(t);t.U_.delete(e),r.c_()&&GC(t,e),t.U_.size===0&&(r.c_()?r.P_():$o(t)&&t.j_.set("Unknown"))}function Tv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ml(n).y_(e)}function GC(n,e){n.H_.Ne(e),ml(n).w_(e)}function Iv(n){n.H_=new oO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ml(n).start(),n.j_.B_()}function Cv(n){return $o(n)&&!ml(n).u_()&&n.U_.size>0}function $o(n){return be(n).W_.size===0}function QC(n){n.H_=void 0}async function fL(n){n.j_.set("Online")}async function pL(n){n.U_.forEach((e,t)=>{Tv(n,e)})}async function mL(n,e){QC(n),Cv(n)?(n.j_.q_(e),Iv(n)):n.j_.set("Unknown")}async function gL(n,e,t){if(n.j_.set("Online"),e instanceof DC&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){he(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(n,r)}else if(e instanceof ah?n.H_.We(e):e instanceof NC?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ke.min()))try{const r=await WC(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.U_.get(f);if(!g)return;a.U_.set(f,g.withResumeToken(Xt.EMPTY_BYTE_STRING,g.snapshotVersion)),GC(a,f);const _=new _s(g.target,f,p,g.sequenceNumber);Tv(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){he(bo,"Failed to raise snapshot:",r),await kh(n,r)}}async function kh(n,e,t){if(!pl(e))throw e;n.W_.add(1),await hc(n),n.j_.set("Offline"),t||(t=()=>WC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(bo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ff(n)})}function YC(n,e){return e().catch(t=>kh(n,t,e))}async function pf(n){const e=be(n),t=Os(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:av;for(;vL(e);)try{const i=await JO(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,yL(e,i)}catch(i){await kh(e,i)}XC(e)&&JC(e)}function vL(n){return $o(n)&&n.K_.length<10}function yL(n,e){n.K_.push(e);const t=Os(n);t.c_()&&t.b_&&t.S_(e.mutations)}function XC(n){return $o(n)&&!Os(n).u_()&&n.K_.length>0}function JC(n){Os(n).start()}async function _L(n){Os(n).C_()}async function wL(n){const e=Os(n);for(const t of n.K_)e.S_(t.mutations)}async function EL(n,e,t){const r=n.K_.shift(),i=pv.from(r,e,t);await YC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await pf(n)}async function TL(n,e){e&&Os(n).b_&&await async function(r,i){if(function(l){return rO(l)&&l!==re.ABORTED}(i.code)){const a=r.K_.shift();Os(r).h_(),await YC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await pf(r)}}(n,e),XC(n)&&JC(n)}async function hE(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),he(bo,"RemoteStore received new credentials");const r=$o(t);t.W_.add(3),await hc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ff(t)}async function IL(n,e){const t=be(n);e?(t.W_.delete(2),await ff(t)):e||(t.W_.add(2),await hc(t),t.j_.set("Unknown"))}function ml(n){return n.J_||(n.J_=function(t,r,i){const a=be(t);return a.M_(),new aL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:fL.bind(null,n),No:pL.bind(null,n),Lo:mL.bind(null,n),p_:gL.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Cv(n)?Iv(n):n.j_.set("Unknown")):(await n.J_.stop(),QC(n))})),n.J_}function Os(n){return n.Y_||(n.Y_=function(t,r,i){const a=be(t);return a.M_(),new lL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:_L.bind(null,n),Lo:TL.bind(null,n),D_:wL.bind(null,n),v_:EL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await pf(n)):(await n.Y_.stop(),n.K_.length>0&&(he(bo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Sv(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xv(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),pl(n))return new Ee(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static emptySet(e){return new za(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Iu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.Z_=new St(Te.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ja{constructor(e,t,r,i,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Ja(e,t,za.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class SL{constructor(){this.queries=pE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=be(t),a=i.queries;i.queries=pE(),a.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new Ee(re.ABORTED,"Firestore shutting down"))}}function pE(){return new jo(n=>yC(n),af)}async function xL(n,e){const t=be(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new CL,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=xv(l,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Rv(t)}async function RL(n,e){const t=be(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function AL(n,e){const t=be(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Rv(t)}function PL(n,e,t){const r=be(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function Rv(n){n.ia.forEach(e=>{e.next()})}var og,mE;(mE=og||(og={}))._a="default",mE.Cache="cache";class kL{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.key=e}}class eS{constructor(e){this.key=e}}class bL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=je(),this.mutatedKeys=je(),this.ya=_C(e),this.wa=new za(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new fE,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const T=i.get(g),S=lf(this.query,_)?_:null,A=!!T&&this.mutatedKeys.has(T.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;T&&S?T.data.isEqual(S.data)?A!==b&&(r.track({type:3,doc:S}),x=!0):this.va(T,S)||(r.track({type:2,doc:S}),x=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(c=!0)):!T&&S?(r.track({type:0,doc:S}),x=!0):T&&!S&&(r.track({type:1,doc:T}),x=!0,(f||p)&&(c=!0)),x&&(S?(l=l.add(S),a=b?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(S,A){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return b(S)-b(A)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Ja(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=je(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new eS(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new ZC(r))}),t}Oa(e){this.fa=e.gs,this.pa=je();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Ja.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Av="SyncEngine";class NL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class DL{constructor(e){this.key=e,this.Ba=!1}}class OL{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new jo(c=>yC(c),af),this.qa=new Map,this.Qa=new Set,this.$a=new St(Te.comparator),this.Ka=new Map,this.Ua=new vv,this.Wa={},this.Ga=new Map,this.za=Xa.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function LL(n,e,t=!0){const r=oS(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await tS(r,e,t,!0),i}async function ML(n,e){const t=oS(n);await tS(t,e,!0,!1)}async function tS(n,e,t,r){const i=await ZO(n.localStore,Hr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await VL(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&KC(n.remoteStore,i),c}async function VL(n,e,t,r,i){n.Ha=(_,T,S)=>async function(b,x,F,z){let B=x.view.Sa(F);B.ls&&(B=await aE(b.localStore,x.query,!1).then(({documents:D})=>x.view.Sa(D,B)));const G=z&&z.targetChanges.get(x.targetId),X=z&&z.targetMismatches.get(x.targetId)!=null,Z=x.view.applyChanges(B,b.isPrimaryClient,G,X);return vE(b,x.targetId,Z.Ma),Z.snapshot}(n,_,T,S);const a=await aE(n.localStore,e,!0),l=new bL(e,a.gs),c=l.Sa(a.documents),f=dc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);vE(n,t,p.Ma);const g=new NL(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function FL(n,e,t){const r=be(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!af(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ig(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ev(r.remoteStore,i.targetId),ag(r,i.targetId)}).catch(fl)):(ag(r,i.targetId),await ig(r.localStore,i.targetId,!0))}async function jL(n,e){const t=be(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(t.remoteStore,r.targetId))}async function UL(n,e,t){const r=KL(n);try{const i=await function(l,c){const f=be(l),p=bt.now(),g=c.reduce((S,A)=>S.add(A.key),je());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=Ai(),b=je();return f.ds.getEntries(S,g).next(x=>{A=x,A.forEach((F,z)=>{z.isValidDocument()||(b=b.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,A)).next(x=>{_=x;const F=[];for(const z of c){const B=JD(z,_.get(z.key).overlayedDocument);B!=null&&F.push(new Uo(z.key,B,dC(B.value.mapValue),Ti.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,F,c)}).next(x=>{T=x;const F=x.applyToLocalDocumentSet(_,b);return f.documentOverlayCache.saveOverlays(S,x.batchId,F)})}).then(()=>({batchId:T.batchId,changes:EC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new St($e)),p=p.insert(c,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await fc(r,i.changes),await pf(r.remoteStore)}catch(i){const a=xv(i,"Failed to persist write");t.reject(a)}}async function nS(n,e){const t=be(n);try{const r=await YO(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Xe(l.Ba):i.removedDocuments.size>0&&(Xe(l.Ba),l.Ba=!1))}),await fc(t,r,e)}catch(r){await fl(r)}}function gE(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=be(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(c)&&(p=!0)}),p&&Rv(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $L(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new St(Te.comparator);l=l.insert(a,sn.newNoDocument(a,ke.min()));const c=je().add(a),f=new df(ke.min(),new Map,new St($e),l,c);await nS(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),Pv(r)}else await ig(r.localStore,e,!1).then(()=>ag(r,e,t)).catch(fl)}async function zL(n,e){const t=be(n),r=e.batch.batchId;try{const i=await QO(t.localStore,e);iS(t,r,null),rS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await fc(t,i)}catch(i){await fl(i)}}async function BL(n,e,t){const r=be(n);try{const i=await function(l,c){const f=be(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(Xe(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);iS(r,e,t),rS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await fc(r,i)}catch(i){await fl(i)}}function rS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function iS(n,e,t){const r=be(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function ag(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||sS(n,r)})}function sS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ev(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Pv(n))}function vE(n,e,t){for(const r of t)r instanceof ZC?(n.Ua.addReference(r.key,e),WL(n,r)):r instanceof eS?(he(Av,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||sS(n,r.key)):Pe()}function WL(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(he(Av,"New document in limbo: "+t),n.Qa.add(r),Pv(n))}function Pv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Te(vt.fromString(e)),r=n.za.next();n.Ka.set(r,new DL(t)),n.$a=n.$a.insert(t,r),KC(n.remoteStore,new _s(Hr(hv(t.path)),r,"TargetPurposeLimboResolution",nf.ae))}}async function fc(n,e,t){const r=be(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=_v.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const g=be(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>J.forEach(p,T=>J.forEach(T.Hi,S=>g.persistence.referenceDelegate.addReference(_,T.targetId,S)).next(()=>J.forEach(T.Ji,S=>g.persistence.referenceDelegate.removeReference(_,T.targetId,S)))))}catch(_){if(!pl(_))throw _;he(wv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const S=g.Ts.get(T),A=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(T,b)}}}(r.localStore,a))}async function HL(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){he(Av,"User change. New user:",e.toKey());const r=await BC(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(f=>{f.reject(new Ee(re.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fc(t,r.Rs)}}function qL(n,e){const t=be(n),r=t.Ka.get(e);if(r&&r.Ba)return je().add(r.key);{let i=je();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.ba)}return i}}function oS(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$L.bind(null,e),e.La.p_=AL.bind(null,e.eventManager),e.La.Ja=PL.bind(null,e.eventManager),e}function KL(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BL.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return GO(this.persistence,new HO,e.initialUser,this.serializer)}Xa(e){return new zC(yv.ri,this.serializer)}Za(e){return new tL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class GL extends bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof Ph);const r=this.persistence.referenceDelegate.garbageCollector;return new kO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new zC(r=>Ph.ri(r,t),this.serializer)}}class lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HL.bind(null,this.syncEngine),await IL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SL}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),r=function(a){return new oL(a)}(e.databaseInfo);return function(a,l,c,f){return new cL(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new hL(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>gE(this.syncEngine,t,0),function(){return cE.D()?new cE:new nL}())}createSyncEngine(e,t){return function(i,a,l,c,f,p,g){const _=new OL(i,a,l,c,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=be(i);he(bo,"RemoteStore shutting down."),a.W_.add(5),await hc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class YL{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=tC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(Ls,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Ls,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=xv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gm(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ls,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function yE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await XL(n);he(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>hE(e.remoteStore,i)),n._onlineComponents=e}async function XL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ls,"Using user provided OfflineComponentProvider");try{await gm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ka("Error using user provided cache. Falling back to memory cache: "+t),await gm(n,new bh)}}else he(Ls,"Using default OfflineComponentProvider"),await gm(n,new GL(void 0));return n._offlineComponents}async function aS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ls,"Using user provided OnlineComponentProvider"),await yE(n,n._uninitializedComponentsProvider._online)):(he(Ls,"Using default OnlineComponentProvider"),await yE(n,new lg))),n._onlineComponents}function JL(n){return aS(n).then(e=>e.syncEngine)}async function ZL(n){const e=await aS(n),t=e.eventManager;return t.onListen=LL.bind(null,e.syncEngine),t.onUnlisten=FL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ML.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jL.bind(null,e.syncEngine),t}function eM(n,e,t={}){const r=new Is;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new QL({next:T=>{g.su(),l.enqueueAndForget(()=>RL(a,_));const S=T.docs.has(c);!S&&T.fromCache?p.reject(new Ee(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&f&&f.source==="server"?p.reject(new Ee(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new kL(hv(c.path),g,{includeMetadataChanges:!0,Ta:!0});return xL(a,_)}(await ZL(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n,e,t){if(!t)throw new Ee(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nM(n,e,t,r){if(e===!0&&r===!0)throw new Ee(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wE(n){if(!Te.isDocumentKey(n))throw new Ee(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe()}function Yu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kv(n);throw new Ee(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firestore.googleapis.com",EE=!0;class TE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uS,this.ssl=EE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:EE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$C;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AO)throw new Ee(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rD;switch(r.type){case"firstParty":return new aD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=_E.get(t);r&&(he("ComponentProvider","Removing Datastore"),_E.delete(t),r.terminate())}(this),Promise.resolve()}}function rM(n,e,t,r={}){var i;const a=(n=Yu(n,bv))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a.host!==uS&&a.host!==c&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!Rs(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=rn.MOCK_USER;else{p=oI(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ee(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new rn(_)}n._authCredentials=new iD(new eC(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nv(this.firestore,e,this._query)}}class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Xu extends Nv{constructor(e,t,r){super(e,t,hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Te(e))}withConverter(e){return new Xu(this.firestore,e,this._path)}}function cS(n,e,...t){if(n=Yt(n),arguments.length===1&&(e=tC.newId()),tM("doc","path",e),n instanceof bv){const r=vt.fromString(e,...t);return wE(r),new Zn(n,null,new Te(r))}{if(!(n instanceof Zn||n instanceof Xu))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return wE(r),new Zn(n.firestore,n instanceof Xu?n.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="AsyncQueue";class CE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new HC(this,"async_queue_retry"),this.bu=()=>{const r=mm();r&&he(IE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=mm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=mm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Is;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!pl(e))throw e;he(IE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Sv.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Dv extends bv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new CE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CE(e),this._firestoreClient=void 0,await e}}}function dS(n,e){const t=typeof n=="object"?n:qg(),r=typeof n=="string"?n:Ih,i=Jh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=rI("firestore");a&&rM(i,...a)}return i}function hS(n){if(n._terminated)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||iM(n),n._firestoreClient}function iM(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,p,g){return new ED(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,lS(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new YL(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(Xt.fromBase64String(e))}catch(t){throw new Ee(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Za(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=/^__.*__$/;class oM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new cc(e,this.data,t,this.fieldTransforms)}}function fS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Fv{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Fv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fS(this.Lu)&&sM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class aM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hf(e)}ju(e,t,r,i=!1){return new Fv({Lu:e,methodName:t,zu:r,path:Qt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lM(n){const e=n._freezeSettings(),t=hf(n._databaseId);return new aM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uM(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);vS("Data must be an object, but it was:",l,r);const c=mS(r,l);let f,p;if(a.merge)f=new Er(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=cM(e,_,t);if(!l.contains(T))throw new Ee(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hM(g,T)||g.push(T)}f=new Er(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new oM(new Xn(c),f,p)}class jv extends Lv{_toFieldTransform(e){return new GD(e.path,new Ku)}isEqual(e){return e instanceof jv}}function pS(n,e){if(gS(n=Yt(n)))return vS("Unsupported field value:",e,n),mS(n,e);if(n instanceof Lv)return function(r,i){if(!fS(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=pS(c,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=bt.fromDate(r);return{timestampValue:Ah(i.serializer,a)}}if(r instanceof bt){const a=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(i.serializer,a)}}if(r instanceof Mv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Za)return{bytesValue:OC(i.serializer,r._byteString)};if(r instanceof Zn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vv)return function(l,c){return{mapValue:{fields:{[uC]:{stringValue:cC},[Ch]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return fv(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${kv(r)}`)}(n,e)}function mS(n,e){const t={};return rC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(n,(r,i)=>{const a=pS(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function gS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof Mv||n instanceof Za||n instanceof Zn||n instanceof Lv||n instanceof Vv)}function vS(n,e,t){if(!gS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=kv(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function cM(n,e,t){if((e=Yt(e))instanceof Ov)return e._internalPath;if(typeof e=="string")return yS(n,e);throw Nh("Field path arguments must be of type string or ",n,!1,void 0,t)}const dM=new RegExp("[~\\*/\\[\\]]");function yS(n,e,t){if(e.search(dM)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ov(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ee(re.INVALID_ARGUMENT,c+n+f)}function hM(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fM extends _S{data(){return super.data()}}function wS(n,e){return typeof e=="string"?yS(n,e):e instanceof Ov?e._internalPath:e._delegate._internalPath}class pM{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Fo(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ch].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>wt(l.doubleValue));return new Vv(a)}convertGeoPoint(e){return new Mv(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=bs(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);Xe(UC(r));const i=new Hu(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return i.isEqual(t)||Ri(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ES extends _S{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vM extends ES{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n){n=Yu(n,Zn);const e=Yu(n.firestore,Dv);return eM(hS(e),n._key).then(t=>TM(e,n,t))}class _M extends pM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function wM(n,e,t){n=Yu(n,Zn);const r=Yu(n.firestore,Dv),i=mM(n.converter,e,t);return EM(r,[uM(lM(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ti.none())])}function EM(n,e){return function(r,i){const a=new Is;return r.asyncQueue.enqueueAndForget(async()=>UL(await JL(r),i,a)),a.promise}(hS(n),e)}function TM(n,e,t){const r=t.docs.get(e._key),i=new _M(n);return new ES(n,i,e._key,r,new gM(t.hasPendingWrites,t.fromCache),e.converter)}function IM(){return new jv("serverTimestamp")}(function(e,t=!0){(function(i){hl=i})(Vo),Ao(new As("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Dv(new sD(r.getProvider("auth-internal")),new lD(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Br(Nw,Dw,e),Br(Nw,Dw,"esm2017")})();var SE={};const xE="@firebase/database",RE="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TS="";function CM(n){TS=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ju(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Oi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new SM(e)}}catch{}return new xM},So=IS("localStorage"),RM=IS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Xh("@firebase/database"),AM=function(){let n=1;return function(){return n++}}(),CS=function(n){const e=DP(n),t=new PP;t.update(e);const r=t.digest();return zg.encodeByteArray(r)},pc=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pc.apply(null,r):typeof r=="object"?e+=Gt(r):e+=r,e+=" "}return e};let ku=null,AE=!0;const PM=function(n,e){ce(!0,"Can't turn on custom loggers persistently."),Ba.logLevel=Me.VERBOSE,ku=Ba.log.bind(Ba)},on=function(...n){if(AE===!0&&(AE=!1,ku===null&&RM.get("logging_enabled")===!0&&PM()),ku){const e=pc.apply(null,n);ku(e)}},mc=function(n){return function(...e){on(n,...e)}},ug=function(...n){const e="FIREBASE INTERNAL ERROR: "+pc(...n);Ba.error(e)},Pi=function(...n){const e=`FIREBASE FATAL ERROR: ${pc(...n)}`;throw Ba.error(e),new Error(e)},Rn=function(...n){const e="FIREBASE WARNING: "+pc(...n);Ba.warn(e)},kM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},SS=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},bM=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},el="[MIN_NAME]",No="[MAX_NAME]",gl=function(n,e){if(n===e)return 0;if(n===el||e===No)return-1;if(e===el||n===No)return 1;{const t=PE(n),r=PE(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},NM=function(n,e){return n===e?0:n<e?-1:1},fu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Gt(e))},Uv=function(n){if(typeof n!="object"||n===null)return Gt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Gt(e[r]),t+=":",t+=Uv(n[e[r]]);return t+="}",t},xS=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function tr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const RS=function(n){ce(!SS(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,a,l,c,f;n===0?(a=0,l=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=c+r,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(a=0,l=Math.round(n/Math.pow(2,1-r-t))));const p=[];for(f=t;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(f=e;f;f-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(i?1:0),p.reverse();const g=p.join("");let _="";for(f=0;f<64;f+=8){let T=parseInt(g.substr(f,8),2).toString(16);T.length===1&&(T="0"+T),_=_+T}return _.toLowerCase()},DM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},OM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},LM=new RegExp("^-?(0*)\\d{1,10}$"),MM=-2147483648,VM=2147483647,PE=function(n){if(LM.test(n)){const e=Number(n);if(e>=MM&&e<=VM)return e}return null},vl=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Rn("Exception was thrown by user callback.",t),e},Math.floor(0))}},FM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bu=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Cn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rn(e)}}class lh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}lh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="5",AS="v",PS="s",kS="r",bS="f",NS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DS="ls",OS="p",cg="ac",LS="websocket",MS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t,r,i,a=!1,l="",c=!1,f=!1,p=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=So.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&So.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function $M(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function FS(n,e,t){ce(typeof e=="string","typeof type must == string"),ce(typeof t=="object","typeof params must == object");let r;if(e===LS)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===MS)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$M(n)&&(t.ns=n.namespace);const i=[];return tr(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.counters_={}}incrementCounter(e,t=1){Oi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return cP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm={},ym={};function zv(n){const e=n.toString();return vm[e]||(vm[e]=new zM),vm[e]}function BM(n,e){const t=n.toString();return ym[t]||(ym[t]=e()),ym[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="start",HM="close",qM="pLPCommand",KM="pRTLPCB",jS="id",US="pw",$S="ser",GM="cb",QM="seg",YM="ts",XM="d",JM="dframe",zS=1870,BS=30,ZM=zS-BS,e4=25e3,t4=3e4;class Va{constructor(e,t,r,i,a,l,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mc(e),this.stats_=zv(t),this.urlFn=f=>(this.appCheckToken&&(f[cg]=this.appCheckToken),FS(t,MS,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new WM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(t4)),bM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bv((...a)=>{const[l,c,f,p,g]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===kE)this.id=c,this.password=f;else if(l===HM)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,c]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[kE]="t",r[$S]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[GM]=this.scriptTagHolder.uniqueCallbackIdentifier),r[AS]=$v,this.transportSessionId&&(r[PS]=this.transportSessionId),this.lastSessionId&&(r[DS]=this.lastSessionId),this.applicationId&&(r[OS]=this.applicationId),this.appCheckToken&&(r[cg]=this.appCheckToken),typeof location<"u"&&location.hostname&&NS.test(location.hostname)&&(r[kS]=bS);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Va.forceAllow_=!0}static forceDisallow(){Va.forceDisallow_=!0}static isAvailable(){return Va.forceAllow_?!0:!Va.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!DM()&&!OM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Gt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=eI(t),i=xS(r,ZM);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[JM]="t",r[jS]=e,r[US]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Gt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Bv{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AM(),window[qM+this.uniqueCallbackIdentifier]=e,window[KM+this.uniqueCallbackIdentifier]=t,this.myIFrame=Bv.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){on("frame writing exception"),c.stack&&on(c.stack),on(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||on("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jS]=this.myID,e[US]=this.myPW,e[$S]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BS+r.length<=zS;){const l=this.pendingSegs.shift();r=r+"&"+QM+i+"="+l.seg+"&"+YM+i+"="+l.ts+"&"+XM+i+"="+l.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(e4)),a=()=>{clearTimeout(i),r()};this.addTag(e,a)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{on("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=16384,r4=45e3;let Dh=null;typeof MozWebSocket<"u"?Dh=MozWebSocket:typeof WebSocket<"u"&&(Dh=WebSocket);class wr{constructor(e,t,r,i,a,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mc(this.connId),this.stats_=zv(t),this.connURL=wr.connectionURL_(t,l,c,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,a){const l={};return l[AS]=$v,typeof location<"u"&&location.hostname&&NS.test(location.hostname)&&(l[kS]=bS),t&&(l[PS]=t),r&&(l[DS]=r),i&&(l[cg]=i),a&&(l[OS]=a),FS(e,LS,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,So.set("previous_websocket_failure",!0);try{let r;wP(),this.mySock=new Dh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){wr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Dh!==null&&!wr.forceDisallow_}static previouslyFailed(){return So.isInMemoryStorage||So.get("previous_websocket_failure")===!0}markConnectionHealthy(){So.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=ju(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Gt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=xS(t,n4);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(r4))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wr.responsesRequiredToBeHealthy=2;wr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{static get ALL_TRANSPORTS(){return[Va,wr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=wr&&wr.isAvailable();let r=t&&!wr.previouslyFailed();if(e.webSocketOnly&&(t||Rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wr];else{const i=this.transports_=[];for(const a of Ju.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Ju.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ju.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=6e4,s4=5e3,o4=10*1024,a4=100*1024,_m="t",bE="d",l4="s",NE="r",u4="e",DE="o",OE="a",LE="n",ME="p",c4="h";class d4{constructor(e,t,r,i,a,l,c,f,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mc("c:"+this.id+":"),this.transportManager_=new Ju(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=bu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>a4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>o4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_m in e){const t=e[_m];t===OE?this.upgradeIfSecondaryHealthy_():t===NE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===DE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=fu("t",e),r=fu("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ME,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=fu("t",e),r=fu("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=fu(_m,e);if(bE in e){const r=e[bE];if(t===c4){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===LE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===l4?this.onConnectionShutdown_(r):t===NE?this.onReset_(r):t===u4?ug("Server Error: "+r):t===DE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ug("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),$v!==r&&Rn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),bu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(i4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(s4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ME,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(So.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends HS{static getInstance(){return new Oh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Bg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=32,FE=768;class lt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ze(){return new lt("")}function Fe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ms(n){return n.pieces_.length-n.pieceNum_}function at(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new lt(n.pieces_,e)}function qS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function h4(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function KS(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function GS(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new lt(e,0)}function kt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof lt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new lt(t,0)}function ze(n){return n.pieceNum_>=n.pieces_.length}function Jn(n,e){const t=Fe(n),r=Fe(e);if(t===null)return e;if(t===r)return Jn(at(n),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function QS(n,e){if(Ms(n)!==Ms(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Tr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ms(n)>Ms(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class f4{constructor(e,t){this.errorPrefix_=t,this.parts_=KS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yh(this.parts_[r]);YS(this)}}function p4(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Yh(e),YS(n)}function m4(n){const e=n.parts_.pop();n.byteLength_-=Yh(e),n.parts_.length>0&&(n.byteLength_-=1)}function YS(n){if(n.byteLength_>FE)throw new Error(n.errorPrefix_+"has a key path longer than "+FE+" bytes ("+n.byteLength_+").");if(n.parts_.length>VE)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VE+") or object contains a cycle "+Eo(n))}function Eo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends HS{static getInstance(){return new Wv}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=1e3,g4=60*5*1e3,jE=30*1e3,v4=1.3,y4=3e4,_4="server_kill",UE=3;class Ii extends WS{constructor(e,t,r,i,a,l,c,f){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=f,this.id=Ii.nextPersistentConnectionId_++,this.log_=mc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pu,this.maxReconnectDelay_=g4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Oh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,a={r:i,a:e,b:t};this.log_(Gt(a)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new Qh,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),t.promise}listen(e,t,r,i){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},l="q";e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(l,a,c=>{const f=c.d,p=c.s;Ii.warnOnListenWarnings_(f,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),p!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Oi(e,"w")){const r=qa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();Rn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||AP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=RP(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const a=i.s,l=i.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const a={p:e},l="n";i&&(a.q=r,a.t=i),this.sendRequest(l,a)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const a={p:t,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,a){this.initConnection_();const l={p:t,d:r};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gt(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):ug("Unrecognized action received from server: "+Gt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>y4&&(this.reconnectDelay_=pu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*v4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ii.nextConnectionId_++,a=this.lastSessionId;let l=!1,c=null;const f=function(){c?c.close():(l=!0,r())},p=function(_){ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)};this.realtime_={close:f,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,T]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=T&&T.token,c=new d4(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,S=>{Rn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(_4)},a))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&Rn(_),f())}}}interrupt(e){on("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){on("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vm(this.interruptReasons_)&&(this.reconnectDelay_=pu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(a=>Uv(a)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new lt(e).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(t),a.delete(t),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){on("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UE&&(this.reconnectDelay_=jE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){on("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+TS.replace(/\./g,"-")]=1,Bg()?e["framework.cordova"]=1:aI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oh.getInstance().currentlyOnline();return Vm(this.interruptReasons_)&&e}}Ii.nextPersistentConnectionId_=0;Ii.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new qe(el,e),i=new qe(el,t);return this.compare(r,i)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd;class XS extends mf{static get __EMPTY_NODE(){return Hd}static set __EMPTY_NODE(e){Hd=e}compare(e,t){return gl(e.name,t.name)}isDefinedOn(e){throw ul("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(No,Hd)}makePost(e,t){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,Hd)}toString(){return".key"}}const Wa=new XS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ut.RED,this.left=i??xn.EMPTY_NODE,this.right=a??xn.EMPTY_NODE}copy(e,t,r,i,a){return new Ut(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return xn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ut.RED=!0;Ut.BLACK=!1;class w4{copy(e,t,r,i,a){return this}insert(e,t,r){return new Ut(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xn{constructor(e,t=xn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new xn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ut.BLACK,null,null))}remove(e){return new xn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new qd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new qd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new qd(this.root_,null,this.comparator_,!0,e)}}xn.EMPTY_NODE=new w4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n,e){return gl(n.name,e.name)}function Hv(n,e){return gl(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg;function T4(n){dg=n}const JS=function(n){return typeof n=="number"?"number:"+RS(n):"string:"+n},ZS=function(n){if(n.isLeafNode()){const e=n.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Oi(e,".sv"),"Priority must be a string or number.")}else ce(n===dg||n.isEmpty(),"priority of unexpected type.");ce(n===dg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E;class Ft{static set __childrenNodeConstructor(e){$E=e}static get __childrenNodeConstructor(){return $E}constructor(e,t=Ft.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ZS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ft(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ft.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ze(e)?this:Fe(e)===".priority"?this.priorityNode_:Ft.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Ft.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Fe(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||Ms(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ft.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+JS(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=RS(this.value_):e+=this.value_,this.lazyHash_=CS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ft.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ft.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Ft.VALUE_TYPE_ORDER.indexOf(t),a=Ft.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+t),ce(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Ft.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1,t1;function I4(n){e1=n}function C4(n){t1=n}class S4 extends mf{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return a===0?gl(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(No,new Ft("[PRIORITY-POST]",t1))}makePost(e,t){const r=e1(e);return new qe(t,new Ft("[PRIORITY-POST]",r))}toString(){return".priority"}}const an=new S4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=Math.log(2);class R4{constructor(e){const t=a=>parseInt(Math.log(a)/x4,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lh=function(n,e,t,r){n.sort(e);const i=function(f,p){const g=p-f;let _,T;if(g===0)return null;if(g===1)return _=n[f],T=t?t(_):_,new Ut(T,_.node,Ut.BLACK,null,null);{const S=parseInt(g/2,10)+f,A=i(f,S),b=i(S+1,p);return _=n[S],T=t?t(_):_,new Ut(T,_.node,Ut.BLACK,A,b)}},a=function(f){let p=null,g=null,_=n.length;const T=function(A,b){const x=_-A,F=_;_-=A;const z=i(x+1,F),B=n[x],G=t?t(B):B;S(new Ut(G,B.node,b,null,z))},S=function(A){p?(p.left=A,p=A):(g=A,p=A)};for(let A=0;A<f.count;++A){const b=f.nextBitIsOne(),x=Math.pow(2,f.count-(A+1));b?T(x,Ut.BLACK):(T(x,Ut.BLACK),T(x,Ut.RED))}return g},l=new R4(n.length),c=a(l);return new xn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm;const Na={};class _i{static get Default(){return ce(Na&&an,"ChildrenNode.ts has not been loaded"),wm=wm||new _i({".priority":Na},{".priority":an}),wm}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=qa(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof xn?t:null}hasIndex(e){return Oi(this.indexSet_,e.toString())}addIndex(e,t){ce(e!==Wa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(qe.Wrap);let l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();let c;i?c=Lh(r,e.getCompare()):c=Na;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const g=Object.assign({},this.indexes_);return g[f]=c,new _i(g,p)}addToIndexes(e,t){const r=mh(this.indexes_,(i,a)=>{const l=qa(this.indexSet_,a);if(ce(l,"Missing index implementation for "+a),i===Na)if(l.isDefinedOn(e.node)){const c=[],f=t.getIterator(qe.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&c.push(p),p=f.getNext();return c.push(e),Lh(c,l.getCompare())}else return Na;else{const c=t.get(e.name);let f=i;return c&&(f=f.remove(new qe(e.name,c))),f.insert(e,e.node)}});return new _i(r,this.indexSet_)}removeFromIndexes(e,t){const r=mh(this.indexes_,i=>{if(i===Na)return i;{const a=t.get(e.name);return a?i.remove(new qe(e.name,a)):i}});return new _i(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;class Ye{static get EMPTY_NODE(){return mu||(mu=new Ye(new xn(Hv),null,_i.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ZS(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mu}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?mu:t}}getChild(e){const t=Fe(e);return t===null?this:this.getImmediateChild(t).getChild(at(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ce(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new qe(e,t);let i,a;t.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?mu:this.priorityNode_;return new Ye(i,l,a)}}updateChild(e,t){const r=Fe(e);if(r===null)return t;{ce(Fe(e)!==".priority"||Ms(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(at(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,a=!0;if(this.forEachChild(an,(l,c)=>{t[l]=c.val(e),r++,a&&Ye.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):a=!1}),!e&&a&&i<2*r){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+JS(this.getPriority().val())+":"),this.forEachChild(an,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":CS(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new qe(e,t));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,qe.Wrap);let a=i.peek();for(;a!=null&&t.compare(a,e)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let a=i.peek();for(;a!=null&&t.compare(a,e)>0;)i.getNext(),a=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gc?-1:0}withIndex(e){if(e===Wa||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Wa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(an),i=t.getIterator(an);let a=r.getNext(),l=i.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=r.getNext(),l=i.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Wa?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class A4 extends Ye{constructor(){super(new xn(Hv),Ye.EMPTY_NODE,_i.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const gc=new A4;Object.defineProperties(qe,{MIN:{value:new qe(el,Ye.EMPTY_NODE)},MAX:{value:new qe(No,gc)}});XS.__EMPTY_NODE=Ye.EMPTY_NODE;Ft.__childrenNodeConstructor=Ye;T4(gc);C4(gc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=!0;function Kt(n,e=null){if(n===null)return Ye.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Ft(t,Kt(e))}if(!(n instanceof Array)&&P4){const t=[];let r=!1;if(tr(n,(l,c)=>{if(l.substring(0,1)!=="."){const f=Kt(c);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),t.push(new qe(l,f)))}}),t.length===0)return Ye.EMPTY_NODE;const a=Lh(t,E4,l=>l.name,Hv);if(r){const l=Lh(t,an.getCompare());return new Ye(a,Kt(e),new _i({".priority":l},{".priority":an}))}else return new Ye(a,Kt(e),_i.Default)}else{let t=Ye.EMPTY_NODE;return tr(n,(r,i)=>{if(Oi(n,r)&&r.substring(0,1)!=="."){const a=Kt(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(Kt(e))}}I4(Kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4 extends mf{constructor(e){super(),this.indexPath_=e,ce(!ze(e)&&Fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return a===0?gl(e.name,t.name):a}makePost(e,t){const r=Kt(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new qe(t,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,gc);return new qe(No,e)}toString(){return KS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4 extends mf{compare(e,t){const r=e.node.compareTo(t.node);return r===0?gl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const r=Kt(e);return new qe(t,r)}toString(){return".value"}}const N4=new b4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(n){return{type:"value",snapshotNode:n}}function O4(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function L4(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function zE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function M4(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:el}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:No}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const e=new qv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BE(n){const e={};if(n.isDefault())return e;let t;if(n.index_===an?t="$priority":n.index_===N4?t="$value":n.index_===Wa?t="$key":(ce(n.index_ instanceof k4,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Gt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Gt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Gt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Gt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Gt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function WE(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==an&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends WS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=mc("p:rest:"),this.listens_={}}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=Mh.getListenId_(e,r),c={};this.listens_[l]=c;const f=BE(e._queryParams);this.restRequest_(a+".json",f,(p,g)=>{let _=g;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(a,_,!1,r),qa(this.listens_,l)===c){let T;p?p===401?T="permission_denied":T="rest_error:"+p:T="ok",i(T,null)}})}unlisten(e,t){const r=Mh.getListenId_(e,t);delete this.listens_[r]}get(e){const t=BE(e._queryParams),r=e._path.toString(),i=new Qh;return this.restRequest_(r+".json",t,(a,l)=>{let c=l;a===404&&(c=null,a=null),a===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cl(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let f=null;if(c.status>=200&&c.status<300){try{f=ju(c.responseText)}catch{Rn("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,f)}else c.status!==401&&c.status!==404&&Rn("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){return{value:null,children:new Map}}function n1(n,e,t){if(ze(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=Fe(e);n.children.has(r)||n.children.set(r,Vh());const i=n.children.get(r);e=at(e),n1(i,e,t)}}function hg(n,e,t){n.value!==null?t(e,n.value):F4(n,(r,i)=>{const a=new lt(e.toString()+"/"+r);hg(i,a,t)})}function F4(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&tr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=10*1e3,U4=30*1e3,$4=5*60*1e3;class z4{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new j4(e);const r=HE+(U4-HE)*Math.random();bu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;tr(e,(i,a)=>{a>0&&Oi(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),bu(this.reportStats_.bind(this),Math.floor(Math.random()*2*$4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zr||(zr={}));function r1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function i1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function s1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=zr.ACK_USER_WRITE,this.source=r1()}operationForChild(e){if(ze(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new lt(e));return new Fh(Ze(),t,this.revert)}}else return ce(Fe(this.path)===e,"operationForChild called for unrelated child."),new Fh(at(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=zr.OVERWRITE}operationForChild(e){return ze(this.path)?new Do(this.source,Ze(),this.snap.getImmediateChild(e)):new Do(this.source,at(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=zr.MERGE}operationForChild(e){if(ze(this.path)){const t=this.children.subtree(new lt(e));return t.isEmpty()?null:t.value?new Do(this.source,Ze(),t.value):new Zu(this.source,Ze(),t)}else return ce(Fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zu(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ze(e))return this.isFullyInitialized()&&!this.filtered_;const t=Fe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function B4(n,e,t,r){const i=[],a=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(M4(l.childName,l.snapshotNode))}),gu(n,i,"child_removed",e,r,t),gu(n,i,"child_added",e,r,t),gu(n,i,"child_moved",a,r,t),gu(n,i,"child_changed",e,r,t),gu(n,i,"value",e,r,t),i}function gu(n,e,t,r,i,a){const l=r.filter(c=>c.type===t);l.sort((c,f)=>H4(n,c,f)),l.forEach(c=>{const f=W4(n,c,a);i.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(f,n.query_))})})}function W4(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function H4(n,e,t){if(e.childName==null||t.childName==null)throw ul("Should only compare child_ events.");const r=new qe(e.childName,e.snapshotNode),i=new qe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n,e){return{eventCache:n,serverCache:e}}function Nu(n,e,t,r){return o1(new Kv(e,t,r),n.serverCache)}function a1(n,e,t,r){return o1(n.eventCache,new Kv(e,t,r))}function fg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Oo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em;const q4=()=>(Em||(Em=new xn(NM)),Em);class ot{static fromObject(e){let t=new ot(null);return tr(e,(r,i)=>{t=t.set(new lt(r),i)}),t}constructor(e,t=q4()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ze(),value:this.value};if(ze(e))return null;{const r=Fe(e),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(at(e),t);return a!=null?{path:kt(new lt(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ze(e))return this;{const t=Fe(e),r=this.children.get(t);return r!==null?r.subtree(at(e)):new ot(null)}}set(e,t){if(ze(e))return new ot(t,this.children);{const r=Fe(e),a=(this.children.get(r)||new ot(null)).set(at(e),t),l=this.children.insert(r,a);return new ot(this.value,l)}}remove(e){if(ze(e))return this.children.isEmpty()?new ot(null):new ot(null,this.children);{const t=Fe(e),r=this.children.get(t);if(r){const i=r.remove(at(e));let a;return i.isEmpty()?a=this.children.remove(t):a=this.children.insert(t,i),this.value===null&&a.isEmpty()?new ot(null):new ot(this.value,a)}else return this}}get(e){if(ze(e))return this.value;{const t=Fe(e),r=this.children.get(t);return r?r.get(at(e)):null}}setTree(e,t){if(ze(e))return t;{const r=Fe(e),a=(this.children.get(r)||new ot(null)).setTree(at(e),t);let l;return a.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,a),new ot(this.value,l)}}fold(e){return this.fold_(Ze(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(kt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ze(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(ze(e))return null;{const a=Fe(e),l=this.children.get(a);return l?l.findOnPath_(at(e),kt(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ze(),t)}foreachOnPath_(e,t,r){if(ze(e))return this;{this.value&&r(t,this.value);const i=Fe(e),a=this.children.get(i);return a?a.foreachOnPath_(at(e),kt(t,i),r):new ot(null)}}foreach(e){this.foreach_(Ze(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(kt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.writeTree_=e}static empty(){return new Cr(new ot(null))}}function Du(n,e,t){if(ze(e))return new Cr(new ot(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let a=r.value;const l=Jn(i,e);return a=a.updateChild(l,t),new Cr(n.writeTree_.set(i,a))}else{const i=new ot(t),a=n.writeTree_.setTree(e,i);return new Cr(a)}}}function qE(n,e,t){let r=n;return tr(t,(i,a)=>{r=Du(r,kt(e,i),a)}),r}function KE(n,e){if(ze(e))return Cr.empty();{const t=n.writeTree_.setTree(e,new ot(null));return new Cr(t)}}function pg(n,e){return zo(n,e)!=null}function zo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Jn(t.path,e)):null}function GE(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(an,(r,i)=>{e.push(new qe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new qe(r,i.value))}),e}function Ss(n,e){if(ze(e))return n;{const t=zo(n,e);return t!=null?new Cr(new ot(t)):new Cr(n.writeTree_.subtree(e))}}function mg(n){return n.writeTree_.isEmpty()}function tl(n,e){return l1(Ze(),n.writeTree_,e)}function l1(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{i===".priority"?(ce(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):t=l1(kt(n,i),a,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(kt(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n,e){return p1(e,n)}function K4(n,e,t,r,i){ce(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Du(n.visibleWrites,e,t)),n.lastWriteId=r}function G4(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function Q4(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ce(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&Y4(c,r.path)?i=!1:Tr(r.path,c.path)&&(a=!0)),l--}if(i){if(a)return X4(n),!0;if(r.snap)n.visibleWrites=KE(n.visibleWrites,r.path);else{const c=r.children;tr(c,f=>{n.visibleWrites=KE(n.visibleWrites,kt(r.path,f))})}return!0}else return!1}function Y4(n,e){if(n.snap)return Tr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Tr(kt(n.path,t),e))return!0;return!1}function X4(n){n.visibleWrites=c1(n.allWrites,J4,Ze()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function J4(n){return n.visible}function c1(n,e,t){let r=Cr.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let c;if(a.snap)Tr(t,l)?(c=Jn(t,l),r=Du(r,c,a.snap)):Tr(l,t)&&(c=Jn(l,t),r=Du(r,Ze(),a.snap.getChild(c)));else if(a.children){if(Tr(t,l))c=Jn(t,l),r=qE(r,c,a.children);else if(Tr(l,t))if(c=Jn(l,t),ze(c))r=qE(r,Ze(),a.children);else{const f=qa(a.children,Fe(c));if(f){const p=f.getChild(at(c));r=Du(r,Ze(),p)}}}else throw ul("WriteRecord should have .snap or .children")}}return r}function d1(n,e,t,r,i){if(!r&&!i){const a=zo(n.visibleWrites,e);if(a!=null)return a;{const l=Ss(n.visibleWrites,e);if(mg(l))return t;if(t==null&&!pg(l,Ze()))return null;{const c=t||Ye.EMPTY_NODE;return tl(l,c)}}}else{const a=Ss(n.visibleWrites,e);if(!i&&mg(a))return t;if(!i&&t==null&&!pg(a,Ze()))return null;{const l=function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(Tr(p.path,e)||Tr(e,p.path))},c=c1(n.allWrites,l,e),f=t||Ye.EMPTY_NODE;return tl(c,f)}}}function Z4(n,e,t){let r=Ye.EMPTY_NODE;const i=zo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(an,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=Ss(n.visibleWrites,e);return t.forEachChild(an,(l,c)=>{const f=tl(Ss(a,new lt(l)),c);r=r.updateImmediateChild(l,f)}),GE(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const a=Ss(n.visibleWrites,e);return GE(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function eV(n,e,t,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=kt(e,t);if(pg(n.visibleWrites,a))return null;{const l=Ss(n.visibleWrites,a);return mg(l)?i.getChild(t):tl(l,i.getChild(t))}}function tV(n,e,t,r){const i=kt(e,t),a=zo(n.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(t)){const l=Ss(n.visibleWrites,i);return tl(l,r.getNode().getImmediateChild(t))}else return null}function nV(n,e){return zo(n.visibleWrites,e)}function rV(n,e,t,r,i,a,l){let c;const f=Ss(n.visibleWrites,e),p=zo(f,Ze());if(p!=null)c=p;else if(t!=null)c=tl(f,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],_=l.getCompare(),T=a?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let S=T.getNext();for(;S&&g.length<i;)_(S,r)!==0&&g.push(S),S=T.getNext();return g}else return[]}function iV(){return{visibleWrites:Cr.empty(),allWrites:[],lastWriteId:-1}}function gg(n,e,t,r){return d1(n.writeTree,n.treePath,e,t,r)}function h1(n,e){return Z4(n.writeTree,n.treePath,e)}function QE(n,e,t,r){return eV(n.writeTree,n.treePath,e,t,r)}function jh(n,e){return nV(n.writeTree,kt(n.treePath,e))}function sV(n,e,t,r,i,a){return rV(n.writeTree,n.treePath,e,t,r,i,a)}function Gv(n,e,t){return tV(n.writeTree,n.treePath,e,t)}function f1(n,e){return p1(kt(n.treePath,e),n.writeTree)}function p1(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ce(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(t==="child_added"&&a==="child_removed")this.changeMap.set(r,zE(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&a==="child_changed")this.changeMap.set(r,L4(r,i.oldSnap));else if(t==="child_changed"&&a==="child_added")this.changeMap.set(r,O4(r,e.snapshotNode));else if(t==="child_changed"&&a==="child_changed")this.changeMap.set(r,zE(r,e.snapshotNode,i.oldSnap));else throw ul("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const m1=new aV;class Qv{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Kv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gv(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Oo(this.viewCache_),a=sV(this.writes_,i,t,1,r,e);return a.length===0?null:a[0]}}function lV(n,e){ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function uV(n,e,t,r,i){const a=new oV;let l,c;if(t.type===zr.OVERWRITE){const p=t;p.source.fromUser?l=vg(n,e,p.path,p.snap,r,i,a):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!ze(p.path),l=Uh(n,e,p.path,p.snap,r,i,c,a))}else if(t.type===zr.MERGE){const p=t;p.source.fromUser?l=dV(n,e,p.path,p.children,r,i,a):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),l=yg(n,e,p.path,p.children,r,i,c,a))}else if(t.type===zr.ACK_USER_WRITE){const p=t;p.revert?l=pV(n,e,p.path,r,i,a):l=hV(n,e,p.path,p.affectedTree,r,i,a)}else if(t.type===zr.LISTEN_COMPLETE)l=fV(n,e,t.path,r,a);else throw ul("Unknown operation type: "+t.type);const f=a.getChanges();return cV(e,l,f),{viewCache:l,changes:f}}function cV(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=fg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(D4(fg(e)))}}function g1(n,e,t,r,i,a){const l=e.eventCache;if(jh(r,t)!=null)return e;{let c,f;if(ze(t))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Oo(e),g=p instanceof Ye?p:Ye.EMPTY_NODE,_=h1(r,g);c=n.filter.updateFullNode(e.eventCache.getNode(),_,a)}else{const p=gg(r,Oo(e));c=n.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=Fe(t);if(p===".priority"){ce(Ms(t)===1,"Can't have a priority with additional path components");const g=l.getNode();f=e.serverCache.getNode();const _=QE(r,t,g,f);_!=null?c=n.filter.updatePriority(g,_):c=l.getNode()}else{const g=at(t);let _;if(l.isCompleteForChild(p)){f=e.serverCache.getNode();const T=QE(r,t,l.getNode(),f);T!=null?_=l.getNode().getImmediateChild(p).updateChild(g,T):_=l.getNode().getImmediateChild(p)}else _=Gv(r,p,e.serverCache);_!=null?c=n.filter.updateChild(l.getNode(),p,_,g,i,a):c=l.getNode()}}return Nu(e,c,l.isFullyInitialized()||ze(t),n.filter.filtersNodes())}}function Uh(n,e,t,r,i,a,l,c){const f=e.serverCache;let p;const g=l?n.filter:n.filter.getIndexedFilter();if(ze(t))p=g.updateFullNode(f.getNode(),r,null);else if(g.filtersNodes()&&!f.isFiltered()){const S=f.getNode().updateChild(t,r);p=g.updateFullNode(f.getNode(),S,null)}else{const S=Fe(t);if(!f.isCompleteForPath(t)&&Ms(t)>1)return e;const A=at(t),x=f.getNode().getImmediateChild(S).updateChild(A,r);S===".priority"?p=g.updatePriority(f.getNode(),x):p=g.updateChild(f.getNode(),S,x,A,m1,null)}const _=a1(e,p,f.isFullyInitialized()||ze(t),g.filtersNodes()),T=new Qv(i,_,a);return g1(n,_,t,i,T,c)}function vg(n,e,t,r,i,a,l){const c=e.eventCache;let f,p;const g=new Qv(i,e,a);if(ze(t))p=n.filter.updateFullNode(e.eventCache.getNode(),r,l),f=Nu(e,p,!0,n.filter.filtersNodes());else{const _=Fe(t);if(_===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),r),f=Nu(e,p,c.isFullyInitialized(),c.isFiltered());else{const T=at(t),S=c.getNode().getImmediateChild(_);let A;if(ze(T))A=r;else{const b=g.getCompleteChild(_);b!=null?qS(T)===".priority"&&b.getChild(GS(T)).isEmpty()?A=b:A=b.updateChild(T,r):A=Ye.EMPTY_NODE}if(S.equals(A))f=e;else{const b=n.filter.updateChild(c.getNode(),_,A,T,g,l);f=Nu(e,b,c.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function YE(n,e){return n.eventCache.isCompleteForChild(e)}function dV(n,e,t,r,i,a,l){let c=e;return r.foreach((f,p)=>{const g=kt(t,f);YE(e,Fe(g))&&(c=vg(n,c,g,p,i,a,l))}),r.foreach((f,p)=>{const g=kt(t,f);YE(e,Fe(g))||(c=vg(n,c,g,p,i,a,l))}),c}function XE(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function yg(n,e,t,r,i,a,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;ze(t)?p=r:p=new ot(null).setTree(t,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((_,T)=>{if(g.hasChild(_)){const S=e.serverCache.getNode().getImmediateChild(_),A=XE(n,S,T);f=Uh(n,f,new lt(_),A,i,a,l,c)}}),p.children.inorderTraversal((_,T)=>{const S=!e.serverCache.isCompleteForChild(_)&&T.value===null;if(!g.hasChild(_)&&!S){const A=e.serverCache.getNode().getImmediateChild(_),b=XE(n,A,T);f=Uh(n,f,new lt(_),b,i,a,l,c)}}),f}function hV(n,e,t,r,i,a,l){if(jh(i,t)!=null)return e;const c=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(ze(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return Uh(n,e,t,f.getNode().getChild(t),i,a,c,l);if(ze(t)){let p=new ot(null);return f.getNode().forEachChild(Wa,(g,_)=>{p=p.set(new lt(g),_)}),yg(n,e,t,p,i,a,c,l)}else return e}else{let p=new ot(null);return r.foreach((g,_)=>{const T=kt(t,g);f.isCompleteForPath(T)&&(p=p.set(g,f.getNode().getChild(T)))}),yg(n,e,t,p,i,a,c,l)}}function fV(n,e,t,r,i){const a=e.serverCache,l=a1(e,a.getNode(),a.isFullyInitialized()||ze(t),a.isFiltered());return g1(n,l,t,r,m1,i)}function pV(n,e,t,r,i,a){let l;if(jh(r,t)!=null)return e;{const c=new Qv(r,e,i),f=e.eventCache.getNode();let p;if(ze(t)||Fe(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=gg(r,Oo(e));else{const _=e.serverCache.getNode();ce(_ instanceof Ye,"serverChildren would be complete if leaf node"),g=h1(r,_)}g=g,p=n.filter.updateFullNode(f,g,a)}else{const g=Fe(t);let _=Gv(r,g,e.serverCache);_==null&&e.serverCache.isCompleteForChild(g)&&(_=f.getImmediateChild(g)),_!=null?p=n.filter.updateChild(f,g,_,at(t),c,a):e.eventCache.getNode().hasChild(g)?p=n.filter.updateChild(f,g,Ye.EMPTY_NODE,at(t),c,a):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=gg(r,Oo(e)),l.isLeafNode()&&(p=n.filter.updateFullNode(p,l,a)))}return l=e.serverCache.isFullyInitialized()||jh(r,Ze())!=null,Nu(e,p,l,n.filter.filtersNodes())}}function mV(n,e){const t=Oo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ze(e)&&!t.getImmediateChild(Fe(e)).isEmpty())?t.getChild(e):null}function JE(n,e,t,r){e.type===zr.MERGE&&e.source.queryId!==null&&(ce(Oo(n.viewCache_),"We should always have a full cache before handling merges"),ce(fg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=uV(n.processor_,i,e,t,r);return lV(n.processor_,a.viewCache),ce(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,gV(n,a.changes,a.viewCache.eventCache.getNode())}function gV(n,e,t,r){const i=n.eventRegistrations_;return B4(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE;function vV(n){ce(!ZE,"__referenceConstructor has already been defined"),ZE=n}function Yv(n,e,t,r){const i=e.source.queryId;if(i!==null){const a=n.views.get(i);return ce(a!=null,"SyncTree gave us an op for an invalid query."),JE(a,e,t,r)}else{let a=[];for(const l of n.views.values())a=a.concat(JE(l,e,t,r));return a}}function Xv(n,e){let t=null;for(const r of n.views.values())t=t||mV(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT;function yV(n){ce(!eT,"__referenceConstructor has already been defined"),eT=n}class tT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ot(null),this.pendingWriteTree_=iV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function v1(n,e,t,r,i){return K4(n.pendingWriteTree_,e,t,r,i),i?vf(n,new Do(r1(),e,t)):[]}function xo(n,e,t=!1){const r=G4(n.pendingWriteTree_,e);if(Q4(n.pendingWriteTree_,e)){let a=new ot(null);return r.snap!=null?a=a.set(Ze(),!0):tr(r.children,l=>{a=a.set(new lt(l),!0)}),vf(n,new Fh(r.path,a,t))}else return[]}function gf(n,e,t){return vf(n,new Do(i1(),e,t))}function _V(n,e,t){const r=ot.fromObject(t);return vf(n,new Zu(i1(),e,r))}function wV(n,e,t,r){const i=w1(n,r);if(i!=null){const a=E1(i),l=a.path,c=a.queryId,f=Jn(l,e),p=new Do(s1(c),f,t);return T1(n,l,p)}else return[]}function EV(n,e,t,r){const i=w1(n,r);if(i){const a=E1(i),l=a.path,c=a.queryId,f=Jn(l,e),p=ot.fromObject(t),g=new Zu(s1(c),f,p);return T1(n,l,g)}else return[]}function Jv(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,c)=>{const f=Jn(l,e),p=Xv(c,f);if(p)return p});return d1(i,e,a,t,!0)}function vf(n,e){return y1(e,n.syncPointTree_,null,u1(n.pendingWriteTree_,Ze()))}function y1(n,e,t,r){if(ze(n.path))return _1(n,e,t,r);{const i=e.get(Ze());t==null&&i!=null&&(t=Xv(i,Ze()));let a=[];const l=Fe(n.path),c=n.operationForChild(l),f=e.children.get(l);if(f&&c){const p=t?t.getImmediateChild(l):null,g=f1(r,l);a=a.concat(y1(c,f,p,g))}return i&&(a=a.concat(Yv(i,n,r,t))),a}}function _1(n,e,t,r){const i=e.get(Ze());t==null&&i!=null&&(t=Xv(i,Ze()));let a=[];return e.children.inorderTraversal((l,c)=>{const f=t?t.getImmediateChild(l):null,p=f1(r,l),g=n.operationForChild(l);g&&(a=a.concat(_1(g,c,f,p)))}),i&&(a=a.concat(Yv(i,n,r,t))),a}function w1(n,e){return n.tagToQueryMap.get(e)}function E1(n){const e=n.indexOf("$");return ce(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new lt(n.substr(0,e))}}function T1(n,e,t){const r=n.syncPointTree_.get(e);ce(r,"Missing sync point for query tag that we're tracking");const i=u1(n.pendingWriteTree_,e);return Yv(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Zv(t)}node(){return this.node_}}class ey{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=kt(this.path_,e);return new ey(this.syncTree_,t)}node(){return Jv(this.syncTree_,this.path_)}}const TV=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},nT=function(n,e,t){if(!n||typeof n!="object")return n;if(ce(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return IV(n[".sv"],e,t);if(typeof n[".sv"]=="object")return CV(n[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},IV=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ce(!1,"Unexpected server value: "+n)}},CV=function(n,e,t){n.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},SV=function(n,e,t,r){return ty(e,new ey(t,n),r)},I1=function(n,e,t){return ty(n,new Zv(e),t)};function ty(n,e,t){const r=n.getPriority().val(),i=nT(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,c=nT(l.getValue(),e,t);return c!==l.getValue()||i!==l.getPriority().val()?new Ft(c,Kt(i)):n}else{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new Ft(i))),l.forEachChild(an,(c,f)=>{const p=ty(f,e.getImmediateChild(c),t);p!==f&&(a=a.updateImmediateChild(c,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function ry(n,e){let t=e instanceof lt?e:new lt(e),r=n,i=Fe(t);for(;i!==null;){const a=qa(r.node.children,i)||{children:{},childCount:0};r=new ny(i,r,a),t=at(t),i=Fe(t)}return r}function yl(n){return n.node.value}function C1(n,e){n.node.value=e,_g(n)}function S1(n){return n.node.childCount>0}function xV(n){return yl(n)===void 0&&!S1(n)}function yf(n,e){tr(n.node.children,(t,r)=>{e(new ny(t,n,r))})}function x1(n,e,t,r){t&&e(n),yf(n,i=>{x1(i,e,!0)})}function RV(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vc(n){return new lt(n.parent===null?n.name:vc(n.parent)+"/"+n.name)}function _g(n){n.parent!==null&&AV(n.parent,n.name,n)}function AV(n,e,t){const r=xV(t),i=Oi(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,_g(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,_g(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=/[\[\].#$\/\u0000-\u001F\u007F]/,kV=/[\[\].#$\u0000-\u001F\u007F]/,Tm=10*1024*1024,R1=function(n){return typeof n=="string"&&n.length!==0&&!PV.test(n)},A1=function(n){return typeof n=="string"&&n.length!==0&&!kV.test(n)},bV=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),A1(n)},NV=function(n,e,t,r){iy(Wg(n,"value"),e,t)},iy=function(n,e,t){const r=t instanceof lt?new f4(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Eo(r));if(typeof e=="function")throw new Error(n+"contains a function "+Eo(r)+" with contents = "+e.toString());if(SS(e))throw new Error(n+"contains "+e.toString()+" "+Eo(r));if(typeof e=="string"&&e.length>Tm/3&&Yh(e)>Tm)throw new Error(n+"contains a string greater than "+Tm+" utf8 bytes "+Eo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,a=!1;if(tr(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!R1(l)))throw new Error(n+" contains an invalid key ("+l+") "+Eo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);p4(r,l),iy(n,c,r),m4(r)}),i&&a)throw new Error(n+' contains ".value" child '+Eo(r)+" in addition to actual children.")}},P1=function(n,e,t,r){if(!A1(t))throw new Error(Wg(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DV=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),P1(n,e,t)},OV=function(n,e){if(Fe(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},LV=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!R1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!bV(t))throw new Error(Wg(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function k1(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();t!==null&&!QS(a,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)}function ki(n,e,t){k1(n,t),VV(n,r=>Tr(r,e)||Tr(e,r))}function VV(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const a=i.path;e(a)?(FV(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function FV(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();ku&&on("event: "+t.toString()),vl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="repo_interrupt",UV=25;class $V{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vh(),this.transactionQueueTree_=new ny,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zV(n,e,t){if(n.stats_=zv(n.repoInfo_),n.forceRestClient_||FM())n.server_=new Mh(n.repoInfo_,(r,i,a,l)=>{rT(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>iT(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ii(n.repoInfo_,e,(r,i,a,l)=>{rT(n,r,i,a,l)},r=>{iT(n,r)},r=>{WV(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=BM(n.repoInfo_,()=>new z4(n.stats_,n.server_)),n.infoData_=new V4,n.infoSyncTree_=new tT({startListening:(r,i,a,l)=>{let c=[];const f=n.infoData_.getNode(r._path);return f.isEmpty()||(c=gf(n.infoSyncTree_,r._path,f),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),oy(n,"connected",!1),n.serverSyncTree_=new tT({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(c,f)=>{const p=l(c,f);ki(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function BV(n){const t=n.infoData_.getNode(new lt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function sy(n){return TV({timestamp:BV(n)})}function rT(n,e,t,r,i){n.dataUpdateCount++;const a=new lt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const f=mh(t,p=>Kt(p));l=EV(n.serverSyncTree_,a,f,i)}else{const f=Kt(t);l=wV(n.serverSyncTree_,a,f,i)}else if(r){const f=mh(t,p=>Kt(p));l=_V(n.serverSyncTree_,a,f)}else{const f=Kt(t);l=gf(n.serverSyncTree_,a,f)}let c=a;l.length>0&&(c=_f(n,a)),ki(n.eventQueue_,c,l)}function iT(n,e){oy(n,"connected",e),e===!1&&qV(n)}function WV(n,e){tr(e,(t,r)=>{oy(n,t,r)})}function oy(n,e,t){const r=new lt("/.info/"+e),i=Kt(t);n.infoData_.updateSnapshot(r,i);const a=gf(n.infoSyncTree_,r,i);ki(n.eventQueue_,r,a)}function b1(n){return n.nextWriteId_++}function HV(n,e,t,r,i){ay(n,"set",{path:e.toString(),value:t,priority:r});const a=sy(n),l=Kt(t,r),c=Jv(n.serverSyncTree_,e),f=I1(l,c,a),p=b1(n),g=v1(n.serverSyncTree_,e,f,p,!0);k1(n.eventQueue_,g),n.server_.put(e.toString(),l.val(!0),(T,S)=>{const A=T==="ok";A||Rn("set at "+e+" failed: "+T);const b=xo(n.serverSyncTree_,p,!A);ki(n.eventQueue_,e,b),GV(n,i,T,S)});const _=M1(n,e);_f(n,_),ki(n.eventQueue_,_,[])}function qV(n){ay(n,"onDisconnectEvents");const e=sy(n),t=Vh();hg(n.onDisconnect_,Ze(),(i,a)=>{const l=SV(i,a,n.serverSyncTree_,e);n1(t,i,l)});let r=[];hg(t,Ze(),(i,a)=>{r=r.concat(gf(n.serverSyncTree_,i,a));const l=M1(n,i);_f(n,l)}),n.onDisconnect_=Vh(),ki(n.eventQueue_,Ze(),r)}function KV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(jV)}function ay(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),on(t,...e)}function GV(n,e,t,r){e&&vl(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let a=i;r&&(a+=": "+r);const l=new Error(a);l.code=i,e(l)}})}function N1(n,e,t){return Jv(n.serverSyncTree_,e,t)||Ye.EMPTY_NODE}function ly(n,e=n.transactionQueueTree_){if(e||wf(n,e),yl(e)){const t=O1(n,e);ce(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&QV(n,vc(e),t)}else S1(e)&&yf(e,t=>{ly(n,t)})}function QV(n,e,t){const r=t.map(p=>p.currentWriteId),i=N1(n,e,r);let a=i;const l=i.hash();for(let p=0;p<t.length;p++){const g=t[p];ce(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=Jn(e,g.path);a=a.updateChild(_,g.currentOutputSnapshotRaw)}const c=a.val(!0),f=e;n.server_.put(f.toString(),c,p=>{ay(n,"transaction put response",{path:f.toString(),status:p});let g=[];if(p==="ok"){const _=[];for(let T=0;T<t.length;T++)t[T].status=2,g=g.concat(xo(n.serverSyncTree_,t[T].currentWriteId)),t[T].onComplete&&_.push(()=>t[T].onComplete(null,!0,t[T].currentOutputSnapshotResolved)),t[T].unwatcher();wf(n,ry(n.transactionQueueTree_,e)),ly(n,n.transactionQueueTree_),ki(n.eventQueue_,e,g);for(let T=0;T<_.length;T++)vl(_[T])}else{if(p==="datastale")for(let _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{Rn("transaction at "+f.toString()+" failed: "+p);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=p}_f(n,e)}},l)}function _f(n,e){const t=D1(n,e),r=vc(t),i=O1(n,t);return YV(n,i,r),r}function YV(n,e,t){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const f=e[c],p=Jn(t,f.path);let g=!1,_;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,_=f.abortReason,i=i.concat(xo(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=UV)g=!0,_="maxretry",i=i.concat(xo(n.serverSyncTree_,f.currentWriteId,!0));else{const T=N1(n,f.path,l);f.currentInputSnapshot=T;const S=e[c].update(T.val());if(S!==void 0){iy("transaction failed: Data returned ",S,f.path);let A=Kt(S);typeof S=="object"&&S!=null&&Oi(S,".priority")||(A=A.updatePriority(T.getPriority()));const x=f.currentWriteId,F=sy(n),z=I1(A,T,F);f.currentOutputSnapshotRaw=A,f.currentOutputSnapshotResolved=z,f.currentWriteId=b1(n),l.splice(l.indexOf(x),1),i=i.concat(v1(n.serverSyncTree_,f.path,z,f.currentWriteId,f.applyLocally)),i=i.concat(xo(n.serverSyncTree_,x,!0))}else g=!0,_="nodata",i=i.concat(xo(n.serverSyncTree_,f.currentWriteId,!0))}ki(n.eventQueue_,t,i),i=[],g&&(e[c].status=2,function(T){setTimeout(T,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(_==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(_),!1,null))))}wf(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)vl(r[c]);ly(n,n.transactionQueueTree_)}function D1(n,e){let t,r=n.transactionQueueTree_;for(t=Fe(e);t!==null&&yl(r)===void 0;)r=ry(r,t),e=at(e),t=Fe(e);return r}function O1(n,e){const t=[];return L1(n,e,t),t.sort((r,i)=>r.order-i.order),t}function L1(n,e,t){const r=yl(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);yf(e,i=>{L1(n,i,t)})}function wf(n,e){const t=yl(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,C1(e,t.length>0?t:void 0)}yf(e,r=>{wf(n,r)})}function M1(n,e){const t=vc(D1(n,e)),r=ry(n.transactionQueueTree_,e);return RV(r,i=>{Im(n,i)}),Im(n,r),x1(r,i=>{Im(n,i)}),t}function Im(n,e){const t=yl(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ce(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):(ce(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(xo(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?C1(e,void 0):t.length=a+1,ki(n.eventQueue_,vc(e),i);for(let l=0;l<r.length;l++)vl(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function JV(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rn(`Invalid query segment '${t}' in query '${n}'`)}return e}const sT=function(n,e){const t=ZV(n),r=t.namespace;t.domain==="firebase.com"&&Pi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||kM();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new VS(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new lt(t.pathString)}},ZV=function(n){let e="",t="",r="",i="",a="",l=!0,c="https",f=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");g===-1&&(g=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(g,_)),g<_&&(i=XV(n.substring(g,_)));const T=JV(n.substring(Math.min(n.length,_)));p=e.indexOf(":"),p>=0?(l=c==="https"||c==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")t="localhost";else if(S.split(".").length<=2)t=S;else{const A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),t=e.substring(A+1),a=r}"ns"in T&&(a=T.ns)}return{host:e,port:f,domain:t,subdomain:r,secure:l,scheme:c,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ze(this._path)?null:qS(this._path)}get ref(){return new Bo(this._repo,this._path)}get _queryIdentifier(){const e=WE(this._queryParams),t=Uv(e);return t==="{}"?"default":t}get _queryObject(){return WE(this._queryParams)}isEqual(e){if(e=Yt(e),!(e instanceof uy))return!1;const t=this._repo===e._repo,r=QS(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+h4(this._path)}}class Bo extends uy{constructor(e,t){super(e,t,new qv,!1)}get parent(){const e=GS(this._path);return e===null?null:new Bo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function e3(n,e){return n=Yt(n),n._checkNotDeleted("ref"),e!==void 0?t3(n._root,e):n._root}function t3(n,e){return n=Yt(n),Fe(n._path)===null?DV("child","path",e):P1("child","path",e),new Bo(n._repo,kt(n._path,e))}function n3(n,e){n=Yt(n),OV("set",n._path),NV("set",e,n._path);const t=new Qh;return HV(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}vV(Bo);yV(Bo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="FIREBASE_DATABASE_EMULATOR_HOST",wg={};let i3=!1;function s3(n,e,t,r){n.repoInfo_=new VS(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function o3(n,e,t,r,i){let a=r||n.options.databaseURL;a===void 0&&(n.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=sT(a,i),c=l.repoInfo,f;typeof process<"u"&&SE&&(f=SE[r3]),f?(a=`http://${f}?ns=${c.namespace}`,l=sT(a,i),c=l.repoInfo):l.repoInfo.secure;const p=new UM(n.name,n.options,e);LV("Invalid Firebase Database URL",l),ze(l.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=l3(c,n,p,new jM(n,t));return new u3(g,n)}function a3(n,e){const t=wg[e];(!t||t[n.key]!==n)&&Pi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),KV(n),delete t[n.key]}function l3(n,e,t,r){let i=wg[e.name];i||(i={},wg[e.name]=i);let a=i[n.toURLString()];return a&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new $V(n,i3,t,r),i[n.toURLString()]=a,a}class u3{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bo(this._repo,Ze())),this._rootInternal}_delete(){return this._rootInternal!==null&&(a3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pi("Cannot call "+e+" on a deleted database.")}}function c3(n=qg(),e){const t=Jh(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=rI("database");r&&d3(t,...r)}return t}function d3(n,e,t,r={}){n=Yt(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,a=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&Rs(r,a.repoInfo_.emulatorOptions))return;Pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new lh(lh.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:oI(r.mockUserToken,n.app.options.projectId);l=new lh(c)}s3(a,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(n){CM(Vo),Ao(new As("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return o3(r,i,a,t)},"PUBLIC").setMultipleInstances(!0)),Br(xE,RE,n),Br(xE,RE,"esm2017")}Ii.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Ii.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};h3();function V1(n,e,t,r){const i=c3();n3(e3(i,"users/"+n),{username:e,email:t,profile_picture:r})}const F1={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-userdb.firebaseio.com"};console.log("FIREBASE CONFIG:",F1);const cy=dI(F1),yc=sv(cy);new $r;const f3=dS(cy);nD("debug");async function p3(n,e={}){const t=cS(f3,"users",n.uid),r={email:n.email,displayName:n.displayName||e.displayName||"New User",photoURL:n.photoURL||"",firstName:e.firstName||"",lastName:e.lastName||"",createdAt:e.createdAt||IM()};try{console.log("Attempting to write user profile for:",n.uid),await wM(t,r,{merge:!0}),console.log("User document created/updated succesfully")}catch(i){console.error(`Error creating/updating user document ${n.uid}`,i)}}nv(yc,async n=>{n!=null?(console.log("logged in!"),await p3(n)):console.log("No user")});const j1=fn.createContext();function Ef(){return C.useContext(j1)}function m3({children:n}){const[e,t]=C.useState(null),[r,i]=C.useState(!1),[a,l]=C.useState(!0),[c,f]=C.useState(!1),[p,g]=C.useState(!1),[_,T]=C.useState(!1),S={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:p,loading:a,redirectAfterAuth:_,setRedirectAfterAuth:T};return C.useEffect(()=>{const A=sv(),b=nv(A,x=>{var F;if(t(x),i(!!x),x){const z=(F=x.providerData[0])==null?void 0:F.providerId;f(z==="password"),g(z==="google.com")}else f(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLogggedIn =",r)});return()=>b}),E.jsx(j1.Provider,{value:S,children:!a&&n})}const g3=async(n,e)=>jb(yc,n,e),v3=(n,e)=>Ub(yc,n,e),y3=async()=>{var t;const n=sv(),e=new $r;try{const r=await lN(n,e),i=(t=r==null?void 0:r.additionalUserInfo)==null?void 0:t.isNewUser,a=r.user;return i?(console.log("New user signed up with Google:",r.user),await V1(a.uid,a.displayname||"Google User",a.email,a.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},dy=()=>yc.signOut();var Cm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var oT;function _3(){return oT||(oT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Cm)),Cm.exports}var w3=_3();const Dt=Hh(w3);var E3=Function.prototype.bind.call(Function.prototype.call,[].slice);function aT(n,e){return E3(n.querySelectorAll(e))}const U1=!!(typeof window<"u"&&window.document&&window.document.createElement);var Eg=!1,Tg=!1;try{var Sm={get passive(){return Eg=!0},get once(){return Tg=Eg=!0}};U1&&(window.addEventListener("test",Sm,Sm),window.removeEventListener("test",Sm,!0))}catch{}function $1(n,e,t,r){if(r&&typeof r!="boolean"&&!Tg){var i=r.once,a=r.capture,l=t;!Tg&&i&&(l=t.__once||function c(f){this.removeEventListener(e,c,a),t.call(this,f)},t.__once=l),n.addEventListener(e,l,Eg?r:a)}n.addEventListener(e,t,r)}function T3(n,e,t){const r=C.useRef(n!==void 0),[i,a]=C.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,C.useCallback((...f)=>{const[p,...g]=f;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function I3(n){const e=C.useRef(null);return C.useEffect(()=>{e.current=n}),e.current}function C3(){const[,n]=C.useReducer(e=>e+1,0);return n}function S3(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function xs(n){const e=S3(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function x3(n,e,t,r=!1){const i=xs(t);C.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}const Tf=C.createContext(null);function R3(){return C.useState(null)}var lT=Object.prototype.hasOwnProperty;function uT(n,e,t){for(t of n.keys())if(Ou(t,e))return t}function Ou(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Ou(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=uT(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=uT(e,i),!i)||!Ou(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(lT.call(n,t)&&++r&&!lT.call(e,t)||!(t in e)||!Ou(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function A3(){const n=C.useRef(!0),e=C.useRef(()=>n.current);return C.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function P3(n){const e=A3();return[n[0],C.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var An="top",nr="bottom",rr="right",Pn="left",hy="auto",_c=[An,nr,rr,Pn],nl="start",ec="end",k3="clippingParents",z1="viewport",vu="popper",b3="reference",cT=_c.reduce(function(n,e){return n.concat([e+"-"+nl,e+"-"+ec])},[]),B1=[].concat(_c,[hy]).reduce(function(n,e){return n.concat([e,e+"-"+nl,e+"-"+ec])},[]),N3="beforeRead",D3="read",O3="afterRead",L3="beforeMain",M3="main",V3="afterMain",F3="beforeWrite",j3="write",U3="afterWrite",$3=[N3,D3,O3,L3,M3,V3,F3,j3,U3];function Kr(n){return n.split("-")[0]}function jn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Lo(n){var e=jn(n).Element;return n instanceof e||n instanceof Element}function Gr(n){var e=jn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function fy(n){if(typeof ShadowRoot>"u")return!1;var e=jn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Ro=Math.max,$h=Math.min,rl=Math.round;function Ig(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function W1(){return!/^((?!chrome|android).)*safari/i.test(Ig())}function il(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&Gr(n)&&(i=n.offsetWidth>0&&rl(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&rl(r.height)/n.offsetHeight||1);var l=Lo(n)?jn(n):window,c=l.visualViewport,f=!W1()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/i,g=(r.top+(f&&c?c.offsetTop:0))/a,_=r.width/i,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function py(n){var e=il(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function H1(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&fy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vs(n){return n?(n.nodeName||"").toLowerCase():null}function bi(n){return jn(n).getComputedStyle(n)}function z3(n){return["table","td","th"].indexOf(Vs(n))>=0}function Bs(n){return((Lo(n)?n.ownerDocument:n.document)||window.document).documentElement}function If(n){return Vs(n)==="html"?n:n.assignedSlot||n.parentNode||(fy(n)?n.host:null)||Bs(n)}function dT(n){return!Gr(n)||bi(n).position==="fixed"?null:n.offsetParent}function B3(n){var e=/firefox/i.test(Ig()),t=/Trident/i.test(Ig());if(t&&Gr(n)){var r=bi(n);if(r.position==="fixed")return null}var i=If(n);for(fy(i)&&(i=i.host);Gr(i)&&["html","body"].indexOf(Vs(i))<0;){var a=bi(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function wc(n){for(var e=jn(n),t=dT(n);t&&z3(t)&&bi(t).position==="static";)t=dT(t);return t&&(Vs(t)==="html"||Vs(t)==="body"&&bi(t).position==="static")?e:t||B3(n)||e}function my(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Lu(n,e,t){return Ro(n,$h(e,t))}function W3(n,e,t){var r=Lu(n,e,t);return r>t?t:r}function q1(){return{top:0,right:0,bottom:0,left:0}}function K1(n){return Object.assign({},q1(),n)}function G1(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var H3=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,K1(typeof e!="number"?e:G1(e,_c))};function q3(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,c=Kr(t.placement),f=my(c),p=[Pn,rr].indexOf(c)>=0,g=p?"height":"width";if(!(!a||!l)){var _=H3(i.padding,t),T=py(a),S=f==="y"?An:Pn,A=f==="y"?nr:rr,b=t.rects.reference[g]+t.rects.reference[f]-l[f]-t.rects.popper[g],x=l[f]-t.rects.reference[f],F=wc(a),z=F?f==="y"?F.clientHeight||0:F.clientWidth||0:0,B=b/2-x/2,G=_[S],X=z-T[g]-_[A],Z=z/2-T[g]/2+B,D=Lu(G,Z,X),P=f;t.modifiersData[r]=(e={},e[P]=D,e.centerOffset=D-Z,e)}}function K3(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||H1(e.elements.popper,i)&&(e.elements.arrow=i))}const G3={name:"arrow",enabled:!0,phase:"main",fn:q3,effect:K3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sl(n){return n.split("-")[1]}var Q3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Y3(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:rl(t*i)/i||0,y:rl(r*i)/i||0}}function hT(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,S=T===void 0?0:T,A=l.y,b=A===void 0?0:A,x=typeof g=="function"?g({x:S,y:b}):{x:S,y:b};S=x.x,b=x.y;var F=l.hasOwnProperty("x"),z=l.hasOwnProperty("y"),B=Pn,G=An,X=window;if(p){var Z=wc(t),D="clientHeight",P="clientWidth";if(Z===jn(t)&&(Z=Bs(t),bi(Z).position!=="static"&&c==="absolute"&&(D="scrollHeight",P="scrollWidth")),Z=Z,i===An||(i===Pn||i===rr)&&a===ec){G=nr;var k=_&&Z===X&&X.visualViewport?X.visualViewport.height:Z[D];b-=k-r.height,b*=f?1:-1}if(i===Pn||(i===An||i===nr)&&a===ec){B=rr;var L=_&&Z===X&&X.visualViewport?X.visualViewport.width:Z[P];S-=L-r.width,S*=f?1:-1}}var M=Object.assign({position:c},p&&Q3),V=g===!0?Y3({x:S,y:b},jn(t)):{x:S,y:b};if(S=V.x,b=V.y,f){var N;return Object.assign({},M,(N={},N[G]=z?"0":"",N[B]=F?"0":"",N.transform=(X.devicePixelRatio||1)<=1?"translate("+S+"px, "+b+"px)":"translate3d("+S+"px, "+b+"px, 0)",N))}return Object.assign({},M,(e={},e[G]=z?b+"px":"",e[B]=F?S+"px":"",e.transform="",e))}function X3(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:Kr(e.placement),variation:sl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hT(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hT(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const J3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:X3,data:{}};var Kd={passive:!0};function Z3(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,f=jn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,Kd)}),c&&f.addEventListener("resize",t.update,Kd),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,Kd)}),c&&f.removeEventListener("resize",t.update,Kd)}}const eF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Z3,data:{}};var tF={left:"right",right:"left",bottom:"top",top:"bottom"};function uh(n){return n.replace(/left|right|bottom|top/g,function(e){return tF[e]})}var nF={start:"end",end:"start"};function fT(n){return n.replace(/start|end/g,function(e){return nF[e]})}function gy(n){var e=jn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function vy(n){return il(Bs(n)).left+gy(n).scrollLeft}function rF(n,e){var t=jn(n),r=Bs(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;var p=W1();(p||!p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c+vy(n),y:f}}function iF(n){var e,t=Bs(n),r=gy(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=Ro(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Ro(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+vy(n),f=-r.scrollTop;return bi(i||t).direction==="rtl"&&(c+=Ro(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:f}}function yy(n){var e=bi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function Q1(n){return["html","body","#document"].indexOf(Vs(n))>=0?n.ownerDocument.body:Gr(n)&&yy(n)?n:Q1(If(n))}function Mu(n,e){var t;e===void 0&&(e=[]);var r=Q1(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=jn(r),l=i?[a].concat(a.visualViewport||[],yy(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(Mu(If(l)))}function Cg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function sF(n,e){var t=il(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function pT(n,e,t){return e===z1?Cg(rF(n,t)):Lo(e)?sF(e,t):Cg(iF(Bs(n)))}function oF(n){var e=Mu(If(n)),t=["absolute","fixed"].indexOf(bi(n).position)>=0,r=t&&Gr(n)?wc(n):n;return Lo(r)?e.filter(function(i){return Lo(i)&&H1(i,r)&&Vs(i)!=="body"}):[]}function aF(n,e,t,r){var i=e==="clippingParents"?oF(n):[].concat(e),a=[].concat(i,[t]),l=a[0],c=a.reduce(function(f,p){var g=pT(n,p,r);return f.top=Ro(g.top,f.top),f.right=$h(g.right,f.right),f.bottom=$h(g.bottom,f.bottom),f.left=Ro(g.left,f.left),f},pT(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Y1(n){var e=n.reference,t=n.element,r=n.placement,i=r?Kr(r):null,a=r?sl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case An:f={x:l,y:e.y-t.height};break;case nr:f={x:l,y:e.y+e.height};break;case rr:f={x:e.x+e.width,y:c};break;case Pn:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=i?my(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case nl:f[p]=f[p]-(e[g]/2-t[g]/2);break;case ec:f[p]=f[p]+(e[g]/2-t[g]/2);break}}return f}function tc(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,c=t.boundary,f=c===void 0?k3:c,p=t.rootBoundary,g=p===void 0?z1:p,_=t.elementContext,T=_===void 0?vu:_,S=t.altBoundary,A=S===void 0?!1:S,b=t.padding,x=b===void 0?0:b,F=K1(typeof x!="number"?x:G1(x,_c)),z=T===vu?b3:vu,B=n.rects.popper,G=n.elements[A?z:T],X=aF(Lo(G)?G:G.contextElement||Bs(n.elements.popper),f,g,l),Z=il(n.elements.reference),D=Y1({reference:Z,element:B,placement:i}),P=Cg(Object.assign({},B,D)),k=T===vu?P:Z,L={top:X.top-k.top+F.top,bottom:k.bottom-X.bottom+F.bottom,left:X.left-k.left+F.left,right:k.right-X.right+F.right},M=n.modifiersData.offset;if(T===vu&&M){var V=M[i];Object.keys(L).forEach(function(N){var le=[rr,nr].indexOf(N)>=0?1:-1,Se=[An,nr].indexOf(N)>=0?"y":"x";L[N]+=V[Se]*le})}return L}function lF(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?B1:f,g=sl(r),_=g?c?cT:cT.filter(function(A){return sl(A)===g}):_c,T=_.filter(function(A){return p.indexOf(A)>=0});T.length===0&&(T=_);var S=T.reduce(function(A,b){return A[b]=tc(n,{placement:b,boundary:i,rootBoundary:a,padding:l})[Kr(b)],A},{});return Object.keys(S).sort(function(A,b){return S[A]-S[b]})}function uF(n){if(Kr(n)===hy)return[];var e=uh(n);return[fT(n),e,fT(e)]}function cF(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,S=t.flipVariations,A=S===void 0?!0:S,b=t.allowedAutoPlacements,x=e.options.placement,F=Kr(x),z=F===x,B=f||(z||!A?[uh(x)]:uF(x)),G=[x].concat(B).reduce(function(Ie,Re){return Ie.concat(Kr(Re)===hy?lF(e,{placement:Re,boundary:g,rootBoundary:_,padding:p,flipVariations:A,allowedAutoPlacements:b}):Re)},[]),X=e.rects.reference,Z=e.rects.popper,D=new Map,P=!0,k=G[0],L=0;L<G.length;L++){var M=G[L],V=Kr(M),N=sl(M)===nl,le=[An,nr].indexOf(V)>=0,Se=le?"width":"height",xe=tc(e,{placement:M,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),we=le?N?rr:Pn:N?nr:An;X[Se]>Z[Se]&&(we=uh(we));var ie=uh(we),ue=[];if(a&&ue.push(xe[V]<=0),c&&ue.push(xe[we]<=0,xe[ie]<=0),ue.every(function(Ie){return Ie})){k=M,P=!1;break}D.set(M,ue)}if(P)for(var se=A?3:1,$=function(Re){var De=G.find(function(Ve){var Oe=D.get(Ve);if(Oe)return Oe.slice(0,Re).every(function(Qe){return Qe})});if(De)return k=De,"break"},Y=se;Y>0;Y--){var fe=$(Y);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const dF={name:"flip",enabled:!0,phase:"main",fn:cF,requiresIfExists:["offset"],data:{_skip:!1}};function mT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function gT(n){return[An,rr,nr,Pn].some(function(e){return n[e]>=0})}function hF(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=tc(e,{elementContext:"reference"}),c=tc(e,{altBoundary:!0}),f=mT(l,r),p=mT(c,i,a),g=gT(f),_=gT(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const fF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hF};function pF(n,e,t){var r=Kr(n),i=[Pn,An].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[Pn,rr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function mF(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=B1.reduce(function(g,_){return g[_]=pF(_,e.rects,a),g},{}),c=l[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const gF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mF};function vF(n){var e=n.state,t=n.name;e.modifiersData[t]=Y1({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const yF={name:"popperOffsets",enabled:!0,phase:"read",fn:vF,data:{}};function _F(n){return n==="x"?"y":"x"}function wF(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,S=T===void 0?!0:T,A=t.tetherOffset,b=A===void 0?0:A,x=tc(e,{boundary:f,rootBoundary:p,padding:_,altBoundary:g}),F=Kr(e.placement),z=sl(e.placement),B=!z,G=my(F),X=_F(G),Z=e.modifiersData.popperOffsets,D=e.rects.reference,P=e.rects.popper,k=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,L=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Z){if(a){var N,le=G==="y"?An:Pn,Se=G==="y"?nr:rr,xe=G==="y"?"height":"width",we=Z[G],ie=we+x[le],ue=we-x[Se],se=S?-P[xe]/2:0,$=z===nl?D[xe]:P[xe],Y=z===nl?-P[xe]:-D[xe],fe=e.elements.arrow,Ie=S&&fe?py(fe):{width:0,height:0},Re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:q1(),De=Re[le],Ve=Re[Se],Oe=Lu(0,D[xe],Ie[xe]),Qe=B?D[xe]/2-se-Oe-De-L.mainAxis:$-Oe-De-L.mainAxis,Et=B?-D[xe]/2+se+Oe+Ve+L.mainAxis:Y+Oe+Ve+L.mainAxis,kn=e.elements.arrow&&wc(e.elements.arrow),Li=kn?G==="y"?kn.clientTop||0:kn.clientLeft||0:0,ir=(N=M==null?void 0:M[G])!=null?N:0,Jr=we+Qe-ir-Li,Mi=we+Et-ir,Vi=Lu(S?$h(ie,Jr):ie,we,S?Ro(ue,Mi):ue);Z[G]=Vi,V[G]=Vi-we}if(c){var Fi,Wo=G==="x"?An:Pn,ji=G==="x"?nr:rr,zt=Z[X],pn=X==="y"?"height":"width",Ui=zt+x[Wo],Zr=zt-x[ji],Ar=[An,Pn].indexOf(F)!==-1,$i=(Fi=M==null?void 0:M[X])!=null?Fi:0,pt=Ar?Ui:zt-D[pn]-P[pn]-$i+L.altAxis,mt=Ar?zt+D[pn]+P[pn]-$i-L.altAxis:Zr,Un=S&&Ar?W3(pt,zt,mt):Lu(S?pt:Ui,zt,S?mt:Zr);Z[X]=Un,V[X]=Un-zt}e.modifiersData[r]=V}}const EF={name:"preventOverflow",enabled:!0,phase:"main",fn:wF,requiresIfExists:["offset"]};function TF(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function IF(n){return n===jn(n)||!Gr(n)?gy(n):TF(n)}function CF(n){var e=n.getBoundingClientRect(),t=rl(e.width)/n.offsetWidth||1,r=rl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function SF(n,e,t){t===void 0&&(t=!1);var r=Gr(e),i=Gr(e)&&CF(e),a=Bs(e),l=il(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Vs(e)!=="body"||yy(a))&&(c=IF(e)),Gr(e)?(f=il(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=vy(a))),{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}function xF(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function RF(n){var e=xF(n);return $3.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function AF(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function PF(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var vT={placement:"bottom",modifiers:[],strategy:"absolute"};function yT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function kF(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?vT:i;return function(c,f,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},vT,a),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},_=[],T=!1,S={state:g,setOptions:function(F){var z=typeof F=="function"?F(g.options):F;b(),g.options=Object.assign({},a,g.options,z),g.scrollParents={reference:Lo(c)?Mu(c):c.contextElement?Mu(c.contextElement):[],popper:Mu(f)};var B=RF(PF([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(G){return G.enabled}),A(),S.update()},forceUpdate:function(){if(!T){var F=g.elements,z=F.reference,B=F.popper;if(yT(z,B)){g.rects={reference:SF(z,wc(B),g.options.strategy==="fixed"),popper:py(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(L){return g.modifiersData[L.name]=Object.assign({},L.data)});for(var G=0;G<g.orderedModifiers.length;G++){if(g.reset===!0){g.reset=!1,G=-1;continue}var X=g.orderedModifiers[G],Z=X.fn,D=X.options,P=D===void 0?{}:D,k=X.name;typeof Z=="function"&&(g=Z({state:g,options:P,name:k,instance:S})||g)}}}},update:AF(function(){return new Promise(function(x){S.forceUpdate(),x(g)})}),destroy:function(){b(),T=!0}};if(!yT(c,f))return S;S.setOptions(p).then(function(x){!T&&p.onFirstUpdate&&p.onFirstUpdate(x)});function A(){g.orderedModifiers.forEach(function(x){var F=x.name,z=x.options,B=z===void 0?{}:z,G=x.effect;if(typeof G=="function"){var X=G({state:g,name:F,instance:S,options:B}),Z=function(){};_.push(X||Z)}})}function b(){_.forEach(function(x){return x()}),_=[]}return S}}const bF=kF({defaultModifiers:[fF,yF,J3,eF,gF,dF,EF,G3]}),NF=["enabled","placement","strategy","modifiers"];function DF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const OF={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},LF={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},MF=[];function VF(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=MF}=t,c=DF(t,NF);const f=C.useRef(l),p=C.useRef(),g=C.useCallback(()=>{var x;(x=p.current)==null||x.update()},[]),_=C.useCallback(()=>{var x;(x=p.current)==null||x.forceUpdate()},[]),[T,S]=P3(C.useState({placement:i,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),A=C.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const F={},z={};Object.keys(x.elements).forEach(B=>{F[B]=x.styles[B],z[B]=x.attributes[B]}),S({state:x,styles:F,attributes:z,update:g,forceUpdate:_,placement:x.placement})}}),[g,_,S]),b=C.useMemo(()=>(Ou(f.current,l)||(f.current=l),f.current),[l]);return C.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...b,A,OF]})},[a,i,A,r,b]),C.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=bF(n,e,Object.assign({},c,{placement:i,strategy:a,modifiers:[...b,LF,A]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function _T(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function FF(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function Gd(n,e,t,r){return $1(n,e,t,r),function(){FF(n,e,t,r)}}function jF(n){return n&&n.ownerDocument||document}var xm,wT;function UF(){if(wT)return xm;wT=1;var n=function(){};return xm=n,xm}var $F=UF();const zF=Hh($F),ET=()=>{};function BF(n){return n.button===0}function WF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Rm=n=>n&&("current"in n?n.current:n),TT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function HF(n,e=ET,{disabled:t,clickTrigger:r="click"}={}){const i=C.useRef(!1),a=C.useRef(!1),l=C.useCallback(p=>{const g=Rm(n);zF(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||WF(p)||!BF(p)||!!_T(g,p.target)||a.current,a.current=!1},[n]),c=xs(p=>{const g=Rm(n);g&&_T(g,p.target)?a.current=!0:a.current=!1}),f=xs(p=>{i.current||e(p)});C.useEffect(()=>{var p,g;if(t||n==null)return;const _=jF(Rm(n)),T=_.defaultView||window;let S=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,A=null;TT[r]&&(A=Gd(_,TT[r],c,!0));const b=Gd(_,r,l,!0),x=Gd(_,r,z=>{if(z===S){S=void 0;return}f(z)});let F=[];return"ontouchstart"in _.documentElement&&(F=[].slice.call(_.body.children).map(z=>Gd(z,"mousemove",ET))),()=>{A==null||A(),b(),x(),F.forEach(z=>z())}},[n,t,r,l,c,f])}function qF(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function KF(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function GF({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:c,popperConfig:f={}}){var p,g,_,T,S;const A=qF(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:KF(Object.assign({},A,{eventListeners:{enabled:e,options:(p=A.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},A.preventOverflow,{options:l?Object.assign({padding:l},(g=A.preventOverflow)==null?void 0:g.options):(_=A.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:i},(T=A.offset)==null?void 0:T.options)},arrow:Object.assign({},A.arrow,{enabled:!!c,options:Object.assign({},(S=A.arrow)==null?void 0:S.options,{element:c})}),flip:Object.assign({enabled:!!r},A.flip)}))})}const QF=["children","usePopper"];function YF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const XF=()=>{};function X1(n={}){const e=C.useContext(Tf),[t,r]=R3(),i=C.useRef(!1),{flip:a,offset:l,rootCloseEvent:c,fixed:f=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const A=Z=>{e==null||e.toggle(!1,Z)},{placement:b,setMenu:x,menuElement:F,toggleElement:z}=e||{},B=VF(z,F,GF({placement:p||b||"bottom-start",enabled:T,enableEvents:_??S,offset:l,flip:a,fixed:f,arrowElement:t,popperConfig:g})),G=Object.assign({ref:x||XF,"aria-labelledby":z==null?void 0:z.id},B.attributes.popper,{style:B.styles.popper}),X={show:S,placement:b,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?B:null,arrowProps:T?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return HF(F,A,{clickTrigger:c,disabled:!S}),[G,X]}function J1(n){let{children:e,usePopper:t=!0}=n,r=YF(n,QF);const[i,a]=X1(Object.assign({},r,{usePopper:t}));return E.jsx(E.Fragment,{children:e(i,a)})}J1.displayName="DropdownMenu";const _y={prefix:String(Math.round(Math.random()*1e10)),current:0},Z1=fn.createContext(_y),JF=fn.createContext(!1);let ZF=!!(typeof window<"u"&&window.document&&window.document.createElement),Am=new WeakMap;function e9(n=!1){let e=C.useContext(Z1),t=C.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=Am.get(a);l==null?Am.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,Am.delete(a))}t.current=++e.current}return t.current}function t9(n){let e=C.useContext(Z1);e===_y&&!ZF&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=e9(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function n9(n){let e=fn.useId(),[t]=C.useState(a9()),r=t?"react-aria":`react-aria${_y.prefix}`;return n||`${r}-${e}`}const r9=typeof fn.useId=="function"?n9:t9;function i9(){return!1}function s9(){return!0}function o9(n){return()=>{}}function a9(){return typeof fn.useSyncExternalStore=="function"?fn.useSyncExternalStore(o9,i9,s9):C.useContext(JF)}const ex=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},IT=()=>{};function tx(){const n=r9(),{show:e=!1,toggle:t=IT,setToggle:r,menuElement:i}=C.useContext(Tf)||{},a=C.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||IT,onClick:a,"aria-expanded":!!e};return i&&ex(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function nx({children:n}){const[e,t]=tx();return E.jsx(E.Fragment,{children:n(e,t)})}nx.displayName="DropdownToggle";const Sg=C.createContext(null),CT=(n,e=null)=>n!=null?String(n):e||null,rx=C.createContext(null);rx.displayName="NavContext";const l9=["as","disabled"];function u9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function c9(n){return!n||n.trim()==="#"}function wy({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&c9(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:_},p]}const ix=C.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=u9(n,l9);const[a,{tagName:l}]=wy(Object.assign({tagName:t,disabled:r},i));return E.jsx(l,Object.assign({},i,a,{ref:e}))});ix.displayName="Button";const d9="data-rr-ui-";function sx(n){return`${d9}${n}`}const h9=["eventKey","disabled","onClick","active","as"];function f9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ox({key:n,href:e,active:t,disabled:r,onClick:i}){const a=C.useContext(Sg),l=C.useContext(rx),{activeKey:c}=l||{},f=CT(n,e),p=t==null&&n!=null?CT(c)===f:t;return[{onClick:xs(_=>{r||(i==null||i(_),a&&!_.isPropagationStopped()&&a(f,_))}),"aria-disabled":r||void 0,"aria-selected":p,[sx("dropdown-item")]:""},{isActive:p}]}const ax=C.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=ix}=n,c=f9(n,h9);const[f]=ox({key:t,href:c.href,disabled:r,onClick:i,active:a});return E.jsx(l,Object.assign({},c,{ref:e},f))});ax.displayName="DropdownItem";const lx=C.createContext(U1?window:void 0);lx.Provider;function p9(){return C.useContext(lx)}function ST(){const n=C3(),e=C.useRef(null),t=C.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Ec({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${sx("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}){const f=p9(),[p,g]=T3(e,n,r),[_,T]=ST(),S=_.current,[A,b]=ST(),x=A.current,F=I3(p),z=C.useRef(null),B=C.useRef(!1),G=C.useContext(Sg),X=C.useCallback((M,V,N=V==null?void 0:V.type)=>{g(M,{originalEvent:V,source:N})},[g]),Z=xs((M,V)=>{t==null||t(M,V),X(!1,V,"select"),V.isPropagationStopped()||G==null||G(M,V)}),D=C.useMemo(()=>({toggle:X,placement:l,show:p,menuElement:S,toggleElement:x,setMenu:T,setToggle:b}),[X,l,p,S,x,T,b]);S&&F&&!p&&(B.current=S.contains(S.ownerDocument.activeElement));const P=xs(()=>{x&&x.focus&&x.focus()}),k=xs(()=>{const M=z.current;let V=a;if(V==null&&(V=_.current&&ex(_.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(M))return;const N=aT(_.current,i)[0];N&&N.focus&&N.focus()});C.useEffect(()=>{p?k():B.current&&(B.current=!1,P())},[p,B,P,k]),C.useEffect(()=>{z.current=null});const L=(M,V)=>{if(!_.current)return null;const N=aT(_.current,i);let le=N.indexOf(M)+V;return le=Math.max(0,Math.min(le,N.length)),N[le]};return x3(C.useCallback(()=>f.document,[f]),"keydown",M=>{var V,N;const{key:le}=M,Se=M.target,xe=(V=_.current)==null?void 0:V.contains(Se),we=(N=A.current)==null?void 0:N.contains(Se);if(/input|textarea/i.test(Se.tagName)&&(le===" "||le!=="Escape"&&xe||le==="Escape"&&Se.type==="search")||!xe&&!we||le==="Tab"&&(!_.current||!p))return;z.current=M.type;const ue={originalEvent:M,source:M.type};switch(le){case"ArrowUp":{const se=L(Se,-1);se&&se.focus&&se.focus(),M.preventDefault();return}case"ArrowDown":if(M.preventDefault(),!p)g(!0,ue);else{const se=L(Se,1);se&&se.focus&&se.focus()}return;case"Tab":$1(Se.ownerDocument,"keyup",se=>{var $;(se.key==="Tab"&&!se.target||!(($=_.current)!=null&&$.contains(se.target)))&&g(!1,ue)},{once:!0});break;case"Escape":le==="Escape"&&(M.preventDefault(),M.stopPropagation()),g(!1,ue);break}}),E.jsx(Sg.Provider,{value:Z,children:E.jsx(Tf.Provider,{value:D,children:c})})}Ec.displayName="Dropdown";Ec.Menu=J1;Ec.Toggle=nx;Ec.Item=ax;function xg(){return xg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xg.apply(null,arguments)}function m9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function xT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function g9(n){var e=v9(n,"string");return typeof e=="symbol"?e:String(e)}function v9(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function y9(n,e,t){var r=C.useRef(n!==void 0),i=C.useState(e),a=i[0],l=i[1],c=n!==void 0,f=r.current;return r.current=c,!c&&f&&a!==e&&l(e),[c?n:a,C.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function _9(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[xT(r)],c=a[r],f=m9(a,[xT(r),r].map(g9)),p=e[r],g=y9(c,l,n[p]),_=g[0],T=g[1];return xg({},f,(i={},i[r]=_,i[p]=T,i))},n)}function w9(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function E9(n){const e=w9(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Ey=C.createContext({});Ey.displayName="DropdownContext";const T9=["xxl","xl","lg","md","sm","xs"],I9="xs",Ty=C.createContext({prefixes:{},breakpoints:T9,minBreakpoint:I9}),{Consumer:K5,Provider:G5}=Ty;function $t(n,e){const{prefixes:t}=C.useContext(Ty);return n||t[e]||e}function C9(){const{dir:n}=C.useContext(Ty);return n==="rtl"}const ux=C.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=$t(e,"dropdown-divider"),E.jsx(t,{ref:a,className:Dt(n,e),role:r,...i})));ux.displayName="DropdownDivider";const cx=C.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=$t(e,"dropdown-header"),E.jsx(t,{ref:a,className:Dt(n,e),role:r,...i})));cx.displayName="DropdownHeader";const S9=["onKeyDown"];function x9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function R9(n){return!n||n.trim()==="#"}const dx=C.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=x9(n,S9);const[i]=wy(Object.assign({tagName:"a"},r)),a=xs(l=>{i.onKeyDown(l),t==null||t(l)});return R9(r.href)||r.role==="button"?E.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:a})):E.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});dx.displayName="Anchor";const hx=C.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=dx,...c},f)=>{const p=$t(n,"dropdown-item"),[g,_]=ox({key:t,href:c.href,disabled:r,onClick:i,active:a});return E.jsx(l,{...c,...g,ref:f,className:Dt(e,p,_.isActive&&"active",r&&"disabled")})});hx.displayName="DropdownItem";const fx=C.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=$t(e,"dropdown-item-text"),E.jsx(t,{ref:i,className:Dt(n,e),...r})));fx.displayName="DropdownItemText";const A9=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",P9=typeof document<"u",k9=P9||A9?C.useLayoutEffect:C.useEffect,RT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function b9(n,e){const t=RT(n),r=RT(e);return i=>{t&&t(i),r&&r(i)}}function px(n,e){return C.useMemo(()=>b9(n,e),[n,e])}const Iy=C.createContext(null);Iy.displayName="InputGroupContext";const mx=C.createContext(null);mx.displayName="NavbarContext";function gx(n,e){return n}function vx(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?i:r:e==="end"?_=n?g:p:e==="start"?_=n?f:c:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const yx=C.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:c="div",popperConfig:f,variant:p,...g},_)=>{let T=!1;const S=C.useContext(mx),A=$t(n,"dropdown-menu"),{align:b,drop:x,isRTL:F}=C.useContext(Ey);t=t||b;const z=C.useContext(Iy),B=[];if(t)if(typeof t=="object"){const M=Object.keys(t);if(M.length){const V=M[0],N=t[V];T=N==="start",B.push(`${A}-${V}-${N}`)}}else t==="end"&&(T=!0);const G=vx(T,x,F),[X,{hasShown:Z,popper:D,show:P,toggle:k}]=X1({flip:i,rootCloseEvent:r,show:a,usePopper:!S&&B.length===0,offset:[0,2],popperConfig:f,placement:G});if(X.ref=px(gx(_),X.ref),k9(()=>{P&&(D==null||D.update())},[P]),!Z&&!l&&!z)return null;typeof c!="string"&&(X.show=P,X.close=()=>k==null?void 0:k(!1),X.align=t);let L=g.style;return D!=null&&D.placement&&(L={...g.style,...X.style},g["x-placement"]=D.placement),E.jsx(c,{...g,...X,style:L,...(B.length||S)&&{"data-bs-popper":"static"},className:Dt(e,A,P&&"show",T&&`${A}-end`,p&&`${A}-${p}`,...B)})});yx.displayName="DropdownMenu";const Fa=C.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},f)=>{const p=$t(e,"btn"),[g,{tagName:_}]=wy({tagName:n,disabled:a,...c}),T=_;return E.jsx(T,{...g,...c,ref:f,disabled:a,className:Dt(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});Fa.displayName="Button";const _x=C.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Fa,...a},l)=>{const c=$t(n,"dropdown-toggle"),f=C.useContext(Tf);r!==void 0&&(a.bsPrefix=r);const[p]=tx();return p.ref=px(p.ref,gx(l)),E.jsx(i,{className:Dt(t,c,e&&`${c}-split`,(f==null?void 0:f.show)&&"show"),...p,...a})});_x.displayName="DropdownToggle";const wx=C.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:c,onToggle:f,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...S}=_9(n,{show:"onToggle"}),A=C.useContext(Iy),b=$t(t,"dropdown"),x=C9(),F=D=>T===!1?D==="click":T==="inside"?D!=="rootClose":T==="outside"?D!=="select":!0,z=E9((D,P)=>{var k;!((k=P.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&P.source==="mousedown"||(P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),F(P.source)&&(f==null||f(D,P)))}),G=vx(l==="end",r,x),X=C.useMemo(()=>({align:l,drop:r,isRTL:x}),[l,r,x]),Z={down:b,"down-centered":`${b}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(Ey.Provider,{value:X,children:E.jsx(Ec,{placement:G,show:i,onSelect:c,onToggle:z,focusFirstItemOnShow:p,itemSelector:`.${b}-item:not(.disabled):not(:disabled)`,children:A?S.children:E.jsx(g,{...S,ref:e,className:Dt(a,i&&"show",Z[r])})})})});wx.displayName="Dropdown";const _o=Object.assign(wx,{Toggle:_x,Menu:yx,Item:hx,ItemText:fx,Divider:ux,Header:cx}),N9=()=>{const n=js(),e=async()=>{await dy(),n("/")};return E.jsxs(_o,{children:[E.jsx(_o.Toggle,{variant:"success",id:"dropdown-basic",children:E.jsx("img",{src:Mm})}),E.jsxs(_o.Menu,{children:[E.jsx(_o.Item,{as:Sn,to:"/ProfileDashboard",children:"Profile"}),E.jsx(_o.Item,{as:Sn,to:"/designerPage",children:"Designs"}),E.jsx(_o.Item,{href:"#/action-3",children:"Action"}),E.jsx(_o.Item,{onClick:e,children:"Log Out"})]})]})},Cf=()=>{const{userLoggedIn:n}=Ef()||{userLoggedIn:!1},e=js(),t=async()=>{await dy(),e("/")};return E.jsxs("div",{className:"nav",children:[E.jsx(Sn,{to:"/",children:E.jsx("div",{className:"logo",children:"URENO"})}),E.jsxs("div",{className:"Right",children:[E.jsxs("menu",{children:[E.jsx("li",{children:"AI Design"}),E.jsx("li",{children:"Projects"}),E.jsx("li",{children:"Messages"})]}),n?E.jsx("button",{className:"btn login-btn",onClick:t,children:"Log Out"}):E.jsx(Sn,{to:"/sign-in",children:E.jsx("button",{className:"btn login-btn",children:"Log In"})}),n?E.jsx(N9,{}):E.jsx("button",{className:"btn profile-btn",children:E.jsx("object",{data:Mm,type:"image/svg+xml",children:E.jsx("img",{src:Mm})})})]})]})};function D9(){return E.jsxs(E.Fragment,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"Ureno"}),E.jsx(Cf,{}),E.jsx("div",{className:"center-logo",children:E.jsxs("div",{className:"container",children:[E.jsx("h1",{children:"URENO"}),E.jsx("p",{children:"Renovation Made Simple"}),E.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),E.jsxs("div",{className:"services",children:[E.jsx("div",{className:"our-services",children:E.jsx("p",{children:"Our Services"})}),E.jsxs("div",{className:"floor-content",children:[E.jsx("div",{className:"flooring fadeInRight",children:E.jsx("p",{children:E.jsx(Sn,{to:"/product-page",children:E.jsx("img",{src:sP,alt:"light oak wooden floor"})})})}),E.jsxs("div",{className:"floor-txt fadeInRight",children:[E.jsx("h3",{children:"flooring"}),E.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),E.jsxs("div",{className:"paint-content",children:[E.jsx("div",{className:"painting fadeInLeft",children:E.jsx("img",{src:oP,alt:"blue painted walls"})}),E.jsxs("div",{className:"paint-txt fadeInLeft",children:[E.jsx("h3",{children:"paint"}),E.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),E.jsx(ic,{})]})}const O9="/Ureno_webdesign/assets/Harvest-grove-rigid-CaKY0j96.png",L9="/Ureno_webdesign/assets/tavertine-BlkzyBiO.png",M9="/Ureno_webdesign/assets/champagne-CGv65cDQ.png",V9="/Ureno_webdesign/assets/luxury-Bc3h0gdC.png",F9="/Ureno_webdesign/assets/champage2-Bc477UNo.png",j9="/Ureno_webdesign/assets/harvest-DFqPW_CI.png",To=({productId:n,image:e,title:t,description:r,price:i,link:a})=>E.jsx("div",{className:"products",children:E.jsxs(Sn,{to:`/productDetail/${n}`,className:"container",children:[E.jsx("img",{src:e,alt:t}),E.jsx("div",{className:"prod-title",children:t}),E.jsx("p",{children:r}),E.jsx("p",{children:i})]})});To.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function U9(){const[n,e]=C.useState(0),{userLoggedIn:t}=Ef()||{userLoggedIn:!1};return C.useEffect(()=>{const r=()=>{const i=document.querySelector(".nav");i&&e(i.offsetHeight)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),E.jsxs(E.Fragment,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"URENO"}),E.jsx(Cf,{}),E.jsxs("div",{className:"body",children:[E.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[E.jsx("h1",{children:"Flooring"}),E.jsxs("div",{className:"search",children:[E.jsx("div",{className:"input",children:E.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),E.jsx("div",{className:"filter",children:"Filter"})]}),E.jsx("p",{children:"Popular"}),E.jsxs("div",{className:"products",children:[E.jsx(To,{productId:"HarvestGrove",image:O9,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft",link:"/productDetail"}),E.jsx(To,{productId:"tavertine",image:L9,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}),E.jsx(To,{productId:"Champagne",image:M9,title:"Champagne Limestone Rigid Core Luxury Vinyl",description:"Floor and Decor",price:"2.19/sqft"}),E.jsx(To,{productId:"Luxury",image:V9,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}),E.jsx(To,{productId:"Harvest",image:j9,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"2.19/sqft"}),E.jsx(To,{productId:"Champagne2",image:F9,title:"Champagne Limestone Rigid Core Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"})]})]}),E.jsx(ic,{})]})]})}function Ex(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Ex(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Tx(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Ex(n))&&(r&&(r+=" "),r+=e);return r}const Cy="-",$9=n=>{const e=B9(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(Cy);return c[0]===""&&c.length!==1&&c.shift(),Ix(c,e)||z9(l)},getConflictingClassGroupIds:(l,c)=>{const f=t[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},Ix=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?Ix(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Cy);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},AT=/^\[(.+)\]$/,z9=n=>{if(AT.test(n)){const e=AT.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},B9=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return H9(Object.entries(n.classGroups),t).forEach(([a,l])=>{Rg(l,r,a,e)}),r},Rg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:PT(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(W9(i)){Rg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{Rg(l,PT(e,a),t,r)})})},PT=(n,e)=>{let t=n;return e.split(Cy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},W9=n=>n.isThemeGetter,H9=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[t,i]}):n,q9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},Cx="!",K9=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,l=c=>{const f=[];let p=0,g=0,_;for(let x=0;x<c.length;x++){let F=c[x];if(p===0){if(F===i&&(r||c.slice(x,x+a)===e)){f.push(c.slice(g,x)),g=x+a;continue}if(F==="/"){_=x;continue}}F==="["?p++:F==="]"&&p--}const T=f.length===0?c:c.substring(g),S=T.startsWith(Cx),A=S?T.substring(1):T,b=_&&_>g?_-g:void 0;return{modifiers:f,hasImportantModifier:S,baseClassName:A,maybePostfixModifierPosition:b}};return t?c=>t({className:c,parseClassName:l}):l},G9=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Q9=n=>({cache:q9(n.cacheSize),parseClassName:K9(n),...$9(n)}),Y9=/\s+/,X9=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=n.trim().split(Y9);let c="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{modifiers:g,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:S}=t(p);let A=!!S,b=r(A?T.substring(0,S):T);if(!b){if(!A){c=p+(c.length>0?" "+c:c);continue}if(b=r(T),!b){c=p+(c.length>0?" "+c:c);continue}A=!1}const x=G9(g).join(":"),F=_?x+Cx:x,z=F+b;if(a.includes(z))continue;a.push(z);const B=i(b,A);for(let G=0;G<B.length;++G){const X=B[G];a.push(F+X)}c=p+(c.length>0?" "+c:c)}return c};function J9(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Sx(e))&&(r&&(r+=" "),r+=t);return r}const Sx=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Sx(n[r]))&&(t&&(t+=" "),t+=e);return t};function Z9(n,...e){let t,r,i,a=l;function l(f){const p=e.reduce((g,_)=>_(g),n());return t=Q9(p),r=t.cache.get,i=t.cache.set,a=c,c(f)}function c(f){const p=r(f);if(p)return p;const g=X9(f,t);return i(f,g),g}return function(){return a(J9.apply(null,arguments))}}const st=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},xx=/^\[(?:([a-z-]+):)?(.+)\]$/i,ej=/^\d+\/\d+$/,tj=new Set(["px","full","screen"]),nj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ij=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pi=n=>Ha(n)||tj.has(n)||ej.test(n),fs=n=>_l(n,"length",pj),Ha=n=>!!n&&!Number.isNaN(Number(n)),Pm=n=>_l(n,"number",Ha),yu=n=>!!n&&Number.isInteger(Number(n)),aj=n=>n.endsWith("%")&&Ha(n.slice(0,-1)),Ne=n=>xx.test(n),ps=n=>nj.test(n),lj=new Set(["length","size","percentage"]),uj=n=>_l(n,lj,Rx),cj=n=>_l(n,"position",Rx),dj=new Set(["image","url"]),hj=n=>_l(n,dj,gj),fj=n=>_l(n,"",mj),_u=()=>!0,_l=(n,e,t)=>{const r=xx.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},pj=n=>rj.test(n)&&!ij.test(n),Rx=()=>!1,mj=n=>sj.test(n),gj=n=>oj.test(n),vj=()=>{const n=st("colors"),e=st("spacing"),t=st("blur"),r=st("brightness"),i=st("borderColor"),a=st("borderRadius"),l=st("borderSpacing"),c=st("borderWidth"),f=st("contrast"),p=st("grayscale"),g=st("hueRotate"),_=st("invert"),T=st("gap"),S=st("gradientColorStops"),A=st("gradientColorStopPositions"),b=st("inset"),x=st("margin"),F=st("opacity"),z=st("padding"),B=st("saturate"),G=st("scale"),X=st("sepia"),Z=st("skew"),D=st("space"),P=st("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ne,e],V=()=>[Ne,e],N=()=>["",pi,fs],le=()=>["auto",Ha,Ne],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",Ne],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Ha,Ne];return{cacheSize:500,separator:":",theme:{colors:[_u],spacing:[pi,fs],blur:["none","",ps,Ne],brightness:$(),borderColor:[n],borderRadius:["none","","full",ps,Ne],borderSpacing:V(),borderWidth:N(),contrast:$(),grayscale:ue(),hueRotate:$(),invert:ue(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[aj,fs],inset:M(),margin:M(),opacity:$(),padding:V(),saturate:$(),scale:$(),sepia:ue(),skew:$(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[ps]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),Ne]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yu,Ne]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",yu,Ne]}],"grid-cols":[{"grid-cols":[_u]}],"col-start-end":[{col:["auto",{span:["full",yu,Ne]},Ne]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[_u]}],"row-start-end":[{row:["auto",{span:[yu,Ne]},Ne]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[ps]},ps]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ps,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pm]}],"font-family":[{font:[_u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Ha,Pm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pi,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[F]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pi,fs]}],"underline-offset":[{"underline-offset":["auto",pi,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[F]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),cj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hj]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[F]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[F]}],"divide-style":[{divide:xe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[pi,Ne]}],"outline-w":[{outline:[pi,fs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[F]}],"ring-offset-w":[{"ring-offset":[pi,fs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ps,fj]}],"shadow-color":[{shadow:[_u]}],opacity:[{opacity:[F]}],"mix-blend":[{"mix-blend":[...we(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",ps,Ne]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[_]}],saturate:[{saturate:[B]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[F]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[G]}],"scale-x":[{"scale-x":[G]}],"scale-y":[{"scale-y":[G]}],rotate:[{rotate:[yu,Ne]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[pi,fs,Pm]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yj=Z9(vj);function Ws(...n){return yj(Tx(n))}const kT=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,bT=Tx,Ax=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return bT(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const g=t==null?void 0:t[p],_=a==null?void 0:a[p];if(g===null)return null;const T=kT(g)||kT(_);return i[p][T]}),c=t&&Object.entries(t).reduce((p,g)=>{let[_,T]=g;return T===void 0||(p[_]=T),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:_,className:T,...S}=g;return Object.entries(S).every(A=>{let[b,x]=A;return Array.isArray(x)?x.includes({...a,...c}[b]):{...a,...c}[b]===x})?[...p,_,T]:p},[]);return bT(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Px=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},f)=>C.createElement("svg",{ref:f,...wj,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Px("lucide",i),...c},[...l.map(([p,g])=>C.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=(n,e)=>{const t=C.forwardRef(({className:r,...i},a)=>C.createElement(Ej,{ref:a,iconNode:e,className:Px(`lucide-${_j(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ij=Tc("Bell",Tj);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sj=Tc("LoaderCircle",Cj);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Rj=Tc("LogOut",xj);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pj=Tc("Settings",Aj);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bj=Tc("X",kj),Nj=Ax("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-zinc-900 text-zinc-100 hover:bg-zinc-800",destructive:"text-white hover:bg-red-600 dark:hover:bg-red-600",outline:"bg-zinc-100 text-zinc-900 hover:bg-zinc-200 outline outline-1 outline-zinc-300",subtle:"hover:bg-zinc-200 bg-zinc-100 text-zinc-900",ghost:"bg-transparent hover:bg-zinc-100 text-zinc-800 data-[state=open]:bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent dark:bg-transparent underline-offset-4 hover:underline text-slate-900 dark:text-slate-100 hover:bg-transparent dark:hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",xs:"h-8 px-1.5 rounded-sm",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),zh=C.forwardRef(({className:n,children:e,variant:t,isLoading:r,size:i,...a},l)=>E.jsxs("button",{className:Ws(Nj({variant:t,size:i,className:n})),ref:l,disabled:r,...a,children:[r?E.jsx(Sj,{className:"mr-2 h-4 w-4 animate-spin"}):null,e]}));zh.displayName="Button";const Sy={logo:n=>E.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:E.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>E.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),E.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),E.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),E.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),E.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},Dj=1,Oj=1e6;let km=0;function Lj(){return km=(km+1)%Number.MAX_SAFE_INTEGER,km.toString()}const bm=new Map,NT=n=>{if(bm.has(n))return;const e=setTimeout(()=>{bm.delete(n),Vu({type:"REMOVE_TOAST",toastId:n})},Oj);bm.set(n,e)},Mj=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,Dj)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?NT(t):n.toasts.forEach(r=>{NT(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ch=[];let dh={toasts:[]};function Vu(n){dh=Mj(dh,n),ch.forEach(e=>{e(dh)})}function Vj({...n}){const e=Lj(),t=i=>Vu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Vu({type:"DISMISS_TOAST",toastId:e});return Vu({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function kx(){const[n,e]=C.useState(dh);return C.useEffect(()=>(ch.push(e),()=>{const t=ch.indexOf(e);t>-1&&ch.splice(t,1)}),[n]),{...n,toast:Vj,dismiss:t=>Vu({type:"DISMISS_TOAST",toastId:t})}}function Fn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function DT(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function bx(...n){return e=>{let t=!1;const r=n.map(i=>{const a=DT(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():DT(n[i],null)}}}}function Mo(...n){return C.useCallback(bx(...n),n)}function Nx(n,e=[]){let t=[];function r(a,l){const c=C.createContext(l),f=t.length;t=[...t,l];const p=_=>{var F;const{scope:T,children:S,...A}=_,b=((F=T==null?void 0:T[n])==null?void 0:F[f])||c,x=C.useMemo(()=>A,Object.values(A));return E.jsx(b.Provider,{value:x,children:S})};p.displayName=a+"Provider";function g(_,T){var b;const S=((b=T==null?void 0:T[n])==null?void 0:b[f])||c,A=C.useContext(S);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=t.map(l=>C.createContext(l));return function(c){const f=(c==null?void 0:c[n])||a;return C.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return i.scopeName=n,[r,Fj(i,...e)]}function Fj(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:f,scopeName:p})=>{const _=f(a)[`__scope${p}`];return{...c,..._}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Bh=C.forwardRef((n,e)=>{const{children:t,...r}=n,i=C.Children.toArray(t),a=i.find(Uj);if(a){const l=a.props.children,c=i.map(f=>f===a?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:f);return E.jsx(Ag,{...r,ref:e,children:C.isValidElement(l)?C.cloneElement(l,void 0,c):null})}return E.jsx(Ag,{...r,ref:e,children:t})});Bh.displayName="Slot";var Ag=C.forwardRef((n,e)=>{const{children:t,...r}=n;if(C.isValidElement(t)){const i=zj(t),a=$j(r,t.props);return t.type!==C.Fragment&&(a.ref=e?bx(e,i):i),C.cloneElement(t,a)}return C.Children.count(t)>1?C.Children.only(null):null});Ag.displayName="SlotClone";var jj=({children:n})=>E.jsx(E.Fragment,{children:n});function Uj(n){return C.isValidElement(n)&&n.type===jj}function $j(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{a(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function zj(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Bj(n){const e=n+"CollectionProvider",[t,r]=Nx(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:A,children:b}=S,x=fn.useRef(null),F=fn.useRef(new Map).current;return E.jsx(i,{scope:A,itemMap:F,collectionRef:x,children:b})};l.displayName=e;const c=n+"CollectionSlot",f=fn.forwardRef((S,A)=>{const{scope:b,children:x}=S,F=a(c,b),z=Mo(A,F.collectionRef);return E.jsx(Bh,{ref:z,children:x})});f.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",_=fn.forwardRef((S,A)=>{const{scope:b,children:x,...F}=S,z=fn.useRef(null),B=Mo(A,z),G=a(p,b);return fn.useEffect(()=>(G.itemMap.set(z,{ref:z,...F}),()=>void G.itemMap.delete(z))),E.jsx(Bh,{[g]:"",ref:B,children:x})});_.displayName=p;function T(S){const A=a(n+"CollectionConsumer",S);return fn.useCallback(()=>{const x=A.collectionRef.current;if(!x)return[];const F=Array.from(x.querySelectorAll(`[${g}]`));return Array.from(A.itemMap.values()).sort((G,X)=>F.indexOf(G.ref.current)-F.indexOf(X.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:f,ItemSlot:_},T,r]}var Wj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xr=Wj.reduce((n,e)=>{const t=C.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?Bh:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(c,{...l,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Dx(n,e){n&&$g.flushSync(()=>n.dispatchEvent(e))}function Ni(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Hj(n,e=globalThis==null?void 0:globalThis.document){const t=Ni(n);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var qj="DismissableLayer",Pg="dismissableLayer.update",Kj="dismissableLayer.pointerDownOutside",Gj="dismissableLayer.focusOutside",OT,Ox=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lx=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...f}=n,p=C.useContext(Ox),[g,_]=C.useState(null),T=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=C.useState({}),A=Mo(e,D=>_(D)),b=Array.from(p.layers),[x]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),F=b.indexOf(x),z=g?b.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,G=z>=F,X=Yj(D=>{const P=D.target,k=[...p.branches].some(L=>L.contains(P));!G||k||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},T),Z=Xj(D=>{const P=D.target;[...p.branches].some(L=>L.contains(P))||(a==null||a(D),l==null||l(D),D.defaultPrevented||c==null||c())},T);return Hj(D=>{z===p.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},T),C.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(OT=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),LT(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=OT)}},[g,T,t,p]),C.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),LT())},[g,p]),C.useEffect(()=>{const D=()=>S({});return document.addEventListener(Pg,D),()=>document.removeEventListener(Pg,D)},[]),E.jsx(Xr.div,{...f,ref:A,style:{pointerEvents:B?G?"auto":"none":void 0,...n.style},onFocusCapture:Fn(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:Fn(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Fn(n.onPointerDownCapture,X.onPointerDownCapture)})});Lx.displayName=qj;var Qj="DismissableLayerBranch",Mx=C.forwardRef((n,e)=>{const t=C.useContext(Ox),r=C.useRef(null),i=Mo(e,r);return C.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),E.jsx(Xr.div,{...n,ref:i})});Mx.displayName=Qj;function Yj(n,e=globalThis==null?void 0:globalThis.document){const t=Ni(n),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){Vx(Kj,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Xj(n,e=globalThis==null?void 0:globalThis.document){const t=Ni(n),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&Vx(Gj,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LT(){const n=new CustomEvent(Pg);document.dispatchEvent(n)}function Vx(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Dx(i,a):i.dispatchEvent(a)}var Jj=Lx,Zj=Mx,Wh=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},e5="Portal",Fx=C.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,a]=C.useState(!1);Wh(()=>a(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?iP.createPortal(E.jsx(Xr.div,{...r,ref:e}),l):null});Fx.displayName=e5;function t5(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var jx=n=>{const{present:e,children:t}=n,r=n5(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),a=Mo(r.ref,r5(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};jx.displayName="Presence";function n5(n){const[e,t]=C.useState(),r=C.useRef({}),i=C.useRef(n),a=C.useRef("none"),l=n?"mounted":"unmounted",[c,f]=t5(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=Qd(r.current);a.current=c==="mounted"?p:"none"},[c]),Wh(()=>{const p=r.current,g=i.current;if(g!==n){const T=a.current,S=Qd(p);n?f("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&T!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),Wh(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,_=S=>{const b=Qd(r.current).includes(S.animationName);if(S.target===e&&b&&(f("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},T=S=>{S.target===e&&(a.current=Qd(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Qd(n){return(n==null?void 0:n.animationName)||"none"}function r5(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function i5({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=s5({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:r,c=Ni(t),f=C.useCallback(p=>{if(a){const _=typeof p=="function"?p(n):p;_!==n&&c(_)}else i(p)},[a,n,i,c]);return[l,f]}function s5({defaultProp:n,onChange:e}){const t=C.useState(n),[r]=t,i=C.useRef(r),a=Ni(e);return C.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),t}var o5="VisuallyHidden",xy=C.forwardRef((n,e)=>E.jsx(Xr.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));xy.displayName=o5;var Ry="ToastProvider",[Ay,a5,l5]=Bj("Toast"),[Ux,Q5]=Nx("Toast",[l5]),[u5,Sf]=Ux(Ry),$x=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=n,[c,f]=C.useState(null),[p,g]=C.useState(0),_=C.useRef(!1),T=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ry}\`. Expected non-empty \`string\`.`),E.jsx(Ay.Provider,{scope:e,children:E.jsx(u5,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:c,onViewportChange:f,onToastAdd:C.useCallback(()=>g(S=>S+1),[]),onToastRemove:C.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:T,children:l})})};$x.displayName=Ry;var zx="ToastViewport",c5=["F8"],kg="toast.viewportPause",bg="toast.viewportResume",Bx=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=c5,label:i="Notifications ({hotkey})",...a}=n,l=Sf(zx,t),c=a5(t),f=C.useRef(null),p=C.useRef(null),g=C.useRef(null),_=C.useRef(null),T=Mo(e,_,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=l.toastCount>0;C.useEffect(()=>{const x=F=>{var B;r.length!==0&&r.every(G=>F[G]||F.code===G)&&((B=_.current)==null||B.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),C.useEffect(()=>{const x=f.current,F=_.current;if(A&&x&&F){const z=()=>{if(!l.isClosePausedRef.current){const Z=new CustomEvent(kg);F.dispatchEvent(Z),l.isClosePausedRef.current=!0}},B=()=>{if(l.isClosePausedRef.current){const Z=new CustomEvent(bg);F.dispatchEvent(Z),l.isClosePausedRef.current=!1}},G=Z=>{!x.contains(Z.relatedTarget)&&B()},X=()=>{x.contains(document.activeElement)||B()};return x.addEventListener("focusin",z),x.addEventListener("focusout",G),x.addEventListener("pointermove",z),x.addEventListener("pointerleave",X),window.addEventListener("blur",z),window.addEventListener("focus",B),()=>{x.removeEventListener("focusin",z),x.removeEventListener("focusout",G),x.removeEventListener("pointermove",z),x.removeEventListener("pointerleave",X),window.removeEventListener("blur",z),window.removeEventListener("focus",B)}}},[A,l.isClosePausedRef]);const b=C.useCallback(({tabbingDirection:x})=>{const z=c().map(B=>{const G=B.ref.current,X=[G,...I5(G)];return x==="forwards"?X:X.reverse()});return(x==="forwards"?z.reverse():z).flat()},[c]);return C.useEffect(()=>{const x=_.current;if(x){const F=z=>{var X,Z,D;const B=z.altKey||z.ctrlKey||z.metaKey;if(z.key==="Tab"&&!B){const P=document.activeElement,k=z.shiftKey;if(z.target===x&&k){(X=p.current)==null||X.focus();return}const V=b({tabbingDirection:k?"backwards":"forwards"}),N=V.findIndex(le=>le===P);Nm(V.slice(N+1))?z.preventDefault():k?(Z=p.current)==null||Z.focus():(D=g.current)==null||D.focus()}};return x.addEventListener("keydown",F),()=>x.removeEventListener("keydown",F)}},[c,b]),E.jsxs(Zj,{ref:f,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&E.jsx(Ng,{ref:p,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});Nm(x)}}),E.jsx(Ay.Slot,{scope:t,children:E.jsx(Xr.ol,{tabIndex:-1,...a,ref:T})}),A&&E.jsx(Ng,{ref:g,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});Nm(x)}})]})});Bx.displayName=zx;var Wx="ToastFocusProxy",Ng=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=Sf(Wx,t);return E.jsx(xy,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var p;const c=l.relatedTarget;!((p=a.viewport)!=null&&p.contains(c))&&r()}})});Ng.displayName=Wx;var xf="Toast",d5="toast.swipeStart",h5="toast.swipeMove",f5="toast.swipeCancel",p5="toast.swipeEnd",Hx=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...l}=n,[c=!0,f]=i5({prop:r,defaultProp:i,onChange:a});return E.jsx(jx,{present:t||c,children:E.jsx(v5,{open:c,...l,ref:e,onClose:()=>f(!1),onPause:Ni(n.onPause),onResume:Ni(n.onResume),onSwipeStart:Fn(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fn(n.onSwipeMove,p=>{const{x:g,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:Fn(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fn(n.onSwipeEnd,p=>{const{x:g,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),f(!1)})})})});Hx.displayName=xf;var[m5,g5]=Ux(xf,{onClose(){}}),v5=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:c,onPause:f,onResume:p,onSwipeStart:g,onSwipeMove:_,onSwipeCancel:T,onSwipeEnd:S,...A}=n,b=Sf(xf,t),[x,F]=C.useState(null),z=Mo(e,le=>F(le)),B=C.useRef(null),G=C.useRef(null),X=i||b.duration,Z=C.useRef(0),D=C.useRef(X),P=C.useRef(0),{onToastAdd:k,onToastRemove:L}=b,M=Ni(()=>{var Se;(x==null?void 0:x.contains(document.activeElement))&&((Se=b.viewport)==null||Se.focus()),l()}),V=C.useCallback(le=>{!le||le===1/0||(window.clearTimeout(P.current),Z.current=new Date().getTime(),P.current=window.setTimeout(M,le))},[M]);C.useEffect(()=>{const le=b.viewport;if(le){const Se=()=>{V(D.current),p==null||p()},xe=()=>{const we=new Date().getTime()-Z.current;D.current=D.current-we,window.clearTimeout(P.current),f==null||f()};return le.addEventListener(kg,xe),le.addEventListener(bg,Se),()=>{le.removeEventListener(kg,xe),le.removeEventListener(bg,Se)}}},[b.viewport,X,f,p,V]),C.useEffect(()=>{a&&!b.isClosePausedRef.current&&V(X)},[a,X,b.isClosePausedRef,V]),C.useEffect(()=>(k(),()=>L()),[k,L]);const N=C.useMemo(()=>x?Jx(x):null,[x]);return b.viewport?E.jsxs(E.Fragment,{children:[N&&E.jsx(y5,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),E.jsx(m5,{scope:t,onClose:M,children:$g.createPortal(E.jsx(Ay.ItemSlot,{scope:t,children:E.jsx(Jj,{asChild:!0,onEscapeKeyDown:Fn(c,()=>{b.isFocusedToastEscapeKeyDownRef.current||M(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Xr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...A,ref:z,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Fn(n.onKeyDown,le=>{le.key==="Escape"&&(c==null||c(le.nativeEvent),le.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Fn(n.onPointerDown,le=>{le.button===0&&(B.current={x:le.clientX,y:le.clientY})}),onPointerMove:Fn(n.onPointerMove,le=>{if(!B.current)return;const Se=le.clientX-B.current.x,xe=le.clientY-B.current.y,we=!!G.current,ie=["left","right"].includes(b.swipeDirection),ue=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,se=ie?ue(0,Se):0,$=ie?0:ue(0,xe),Y=le.pointerType==="touch"?10:2,fe={x:se,y:$},Ie={originalEvent:le,delta:fe};we?(G.current=fe,Yd(h5,_,Ie,{discrete:!1})):MT(fe,b.swipeDirection,Y)?(G.current=fe,Yd(d5,g,Ie,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(Se)>Y||Math.abs(xe)>Y)&&(B.current=null)}),onPointerUp:Fn(n.onPointerUp,le=>{const Se=G.current,xe=le.target;if(xe.hasPointerCapture(le.pointerId)&&xe.releasePointerCapture(le.pointerId),G.current=null,B.current=null,Se){const we=le.currentTarget,ie={originalEvent:le,delta:Se};MT(Se,b.swipeDirection,b.swipeThreshold)?Yd(p5,S,ie,{discrete:!0}):Yd(f5,T,ie,{discrete:!0}),we.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),y5=n=>{const{__scopeToast:e,children:t,...r}=n,i=Sf(xf,e),[a,l]=C.useState(!1),[c,f]=C.useState(!1);return E5(()=>l(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:E.jsx(Fx,{asChild:!0,children:E.jsx(xy,{...r,children:a&&E.jsxs(E.Fragment,{children:[i.label," ",t]})})})},_5="ToastTitle",qx=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return E.jsx(Xr.div,{...r,ref:e})});qx.displayName=_5;var w5="ToastDescription",Kx=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return E.jsx(Xr.div,{...r,ref:e})});Kx.displayName=w5;var Gx="ToastAction",Qx=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?E.jsx(Xx,{altText:t,asChild:!0,children:E.jsx(Py,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Gx}\`. Expected non-empty \`string\`.`),null)});Qx.displayName=Gx;var Yx="ToastClose",Py=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=g5(Yx,t);return E.jsx(Xx,{asChild:!0,children:E.jsx(Xr.button,{type:"button",...r,ref:e,onClick:Fn(n.onClick,i.onClose)})})});Py.displayName=Yx;var Xx=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return E.jsx(Xr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Jx(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),T5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...Jx(r))}}),e}function Yd(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Dx(i,a):i.dispatchEvent(a)}var MT=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function E5(n=()=>{}){const e=Ni(n);Wh(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function T5(n){return n.nodeType===n.ELEMENT_NODE}function I5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Nm(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var C5=$x,Zx=Bx,eR=Hx,tR=qx,nR=Kx,rR=Qx,iR=Py;const S5=C5,sR=C.forwardRef(({className:n,...e},t)=>E.jsx(Zx,{ref:t,className:Ws("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));sR.displayName=Zx.displayName;const x5=Ax("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oR=C.forwardRef(({className:n,variant:e,...t},r)=>E.jsx(eR,{ref:r,className:Ws(x5({variant:e}),n),...t}));oR.displayName=eR.displayName;const R5=C.forwardRef(({className:n,...e},t)=>E.jsx(rR,{ref:t,className:Ws("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));R5.displayName=rR.displayName;const aR=C.forwardRef(({className:n,...e},t)=>E.jsx(iR,{ref:t,className:Ws("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:E.jsx(bj,{className:"h-4 w-4"})}));aR.displayName=iR.displayName;const lR=C.forwardRef(({className:n,...e},t)=>E.jsx(tR,{ref:t,className:Ws("text-sm font-semibold [&+div]:text-xs",n),...e}));lR.displayName=tR.displayName;const uR=C.forwardRef(({className:n,...e},t)=>E.jsx(nR,{ref:t,className:Ws("text-sm opacity-90",n),...e}));uR.displayName=nR.displayName;function A5(){const{toasts:n}=kx();return E.jsxs(S5,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return E.jsxs(oR,{...a,children:[E.jsxs("div",{className:"grid gap-1",children:[t&&E.jsx(lR,{children:t}),r&&E.jsx(uR,{children:r})]}),i,E.jsx(aR,{})]},e)}),E.jsx(sR,{})]})}const P5=({className:n,...e})=>{const{userLoggedIn:t}=Ef()||{userLoggedIn:!1},r=js(),[i,a]=C.useState(""),[l,c]=C.useState(""),[f,p]=C.useState(!1),{toast:g}=kx();C.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const _=async()=>{p(!0);try{const S=await y3();r("/")}catch(S){console.error("Google sign-in error:",S),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}},T=async(S,A)=>{p(!0);try{const b=await v3(S,A);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(b){let x="Error logging in with email and password";console.log(b.code),b.code==="auth/invalid-credential"?x="Incorrect email or password. Please try again.":b.code==="auth/user-not-found"?x="No account found with this email.":b.code==="auth/invalid-email"?x="Invalid email format":b.code==="auth/too-many-requests"&&(x="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:x,variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}};return E.jsxs(E.Fragment,{children:[E.jsx(A5,{}),E.jsx("div",{className:Ws("flex flex-col items-center space-y-4 justify-center",n),...e,children:E.jsxs("div",{className:"flex flex-col space-y-4",children:[E.jsx("input",{type:"email",value:i,onChange:S=>a(S.currentTarget.value),placeholder:"Email",className:"input"}),E.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"Password",className:"input"}),E.jsx(zh,{onClick:()=>T(i,l),isLoading:f,size:"sm",className:"w-full",children:"Login with Email"}),E.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[E.jsx("span",{className:"flex-grow border-t border-gray-300"}),E.jsx("span",{className:"px-3",children:" Or Login with Google "}),E.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),E.jsxs(zh,{onClick:_,isLoading:f,size:"sm",className:"w-full",children:[f?null:E.jsx(Sy.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},k5=()=>{const n=js();return E.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:E.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:E.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[E.jsx("div",{className:"w-full flex justify-center",children:E.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:E.jsx(Sy.logo,{className:"h-12 w-auto"})})}),E.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),E.jsx(P5,{}),E.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",E.jsx(Sn,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),E.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",E.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",E.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},b5=()=>{const n=js();getDatabase();const{userLoggedIn:e,loading:t}=Ef(),[r,i]=C.useState(""),[a,l]=C.useState(""),[c,f]=C.useState(""),[p,g]=C.useState(!1),[_,T]=C.useState(!1),[S,A]=C.useState(""),[b,x]=C.useState(""),[F,z]=C.useState(""),[B,G]=C.useState(!1),[X,Z]=C.useState(""),D=async k=>{if(k.preventDefault(),!B){if(Z(""),G(!0),b!==F){Z("Passwords don't match"),G(!1);return}try{const M=(await g3(S,b)).user;await V1(M.uid,r+" "+a,S,""),n("/"),console.log(e)}catch{Z("There was a problem creating your account"),G(!1)}}},P=async()=>{T(!0);try{const k=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{T(!1),console.log("Logged in: ",e)}};return C.useEffect(()=>{p&&(n("/"),g(!1))},[p,n,g]),t?E.jsx("div",{children:"Loading..."}):E.jsxs(E.Fragment,{children:[e&&E.jsx(I2,{to:"/",replace:!0}),E.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:E.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[E.jsx("div",{className:"text-center mb-6",children:E.jsxs("div",{className:"mt-2",children:[E.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),E.jsx("p",{children:"Enter your information to sign up"})]})}),E.jsxs("form",{onSubmit:D,className:"space-y-4",children:[X&&E.jsx("span",{className:"text-red-600 font-bold",children:X}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:k=>{i(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:a,onChange:k=>{l(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:k=>{f(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:S,onChange:k=>{A(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:b,onChange:k=>{x(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-sm text-gray-600 font-bold"}),E.jsx("input",{disabled:B,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:F,onChange:k=>{z(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),X&&E.jsx("span",{className:"text-red-600 font-bold",children:X}),E.jsx("button",{type:"submit",disabled:B,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${B?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:B?"Signing Up...":"Create Account"})]}),E.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[E.jsx("span",{className:"flex-grow border-t border-gray-300"}),E.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),E.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),E.jsxs(zh,{onClick:P,isLoading:_,size:"sm",className:"w-full",children:[_?null:E.jsx(Sy.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),E.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",E.jsx(Sn,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),E.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",E.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",E.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},N5=()=>E.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:E.jsx("div",{className:"flex flex-col space-y-2 text-center",children:E.jsx(b5,{})})}),He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",cR=()=>{const{productId:n}=u2(),t=[{id:"HarvestGrove",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:He},alternate1:{defaultImage:He},alternate2:{defaultImage:He}},{id:"tavertine",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:He},alternate1:{defaultImage:He},alternate2:{defaultImage:He}},{id:"Champagne",productTitle:"Champagne Limestone Rigid Core Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:He},alternate1:{defaultImage:He},alternate2:{defaultImage:He}},{id:"Luxury",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:He},alternate1:{defaultImage:He},alternate2:{defaultImage:He}},{id:"Harvest",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:He},alternate1:{defaultImage:He},alternate2:{defaultImage:He}},{id:"Champagne2",productTitle:"Champagne Limestone Rigid Core luxiry Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:He},alternate1:{defaultImage:He},alternate2:{defaultImage:He}}].find(r=>r.id===n);return t?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"main-content",children:[E.jsxs("div",{id:"left",children:[E.jsx("div",{className:"main-image",children:E.jsx("img",{src:t.mainIm,alt:""})}),E.jsxs("div",{className:"thumbnails",children:[E.jsx("img",{src:t.mainIm,alt:""}),E.jsx("img",{src:t.alternate1,alt:""}),E.jsx("img",{src:t.alternate2,alt:""})]})]}),E.jsxs("div",{id:"right",children:[E.jsxs("div",{className:"title-section",children:[E.jsxs("div",{className:"title",children:[E.jsx("p",{id:"main",children:t.productTitle}),E.jsx("p",{id:"sub",children:t.productCategory})]}),E.jsxs("div",{className:"price-link",children:[E.jsx("div",{className:"title-left",children:E.jsx("p",{children:"$"})}),E.jsx("div",{className:"title-right",children:E.jsx("a",{href:"",children:"See in my room"})})]}),E.jsx("a",{href:"",children:"View specifications"})]}),E.jsxs("div",{className:"description",children:[E.jsx("p",{children:t.description}),E.jsxs("ul",{children:[E.jsx("li",{children:"Install up to 6,400 square feetNo need for transition molding."}),E.jsx("li",{children:"You can install it right awayPre-installation acclimation is unnecessary."}),E.jsx("li",{children:"Attached foam underlayment makes for a quieter, warmer floor."}),E.jsx("li",{children:"Can be installed on, above, and below grade-level (perfect for basements!) and over most existing hard-surface flooring, including slightly irregular subfloors."}),E.jsx("li",{children:"This DuraLux Performance product is backed by a lifetime res./ 15 yr comm. warranty."}),E.jsx("li",{children:"It is recommended to use Sentinel Protect Plus Underlayment for optimal sound absorption and moisture resistance or a standard vapor barrier like 6mil PE Film."})]}),E.jsx("a",{href:"",children:"Product Details"}),E.jsx("a",{href:"",children:"Reviews"})]})]})]}),E.jsxs("div",{className:"secondary-content",children:[E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:He,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})}),E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:He,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})}),E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:He,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"main-content",children:[E.jsxs("div",{id:"left",children:[E.jsx("div",{className:"main-image",children:E.jsx("img",{src:He,alt:""})}),E.jsxs("div",{className:"thumbnails",children:[E.jsx("img",{src:He,alt:""}),E.jsx("img",{src:He,alt:""}),E.jsx("img",{src:He,alt:""})]})]}),E.jsxs("div",{id:"right",children:[E.jsxs("div",{className:"title-section",children:[E.jsxs("div",{className:"title",children:[E.jsx("p",{id:"main",children:"Deafult Title"}),E.jsx("p",{id:"sub",children:"Default Category"})]}),E.jsxs("div",{className:"price-link",children:[E.jsx("div",{className:"title-left",children:E.jsx("p",{children:"$"})}),E.jsx("div",{className:"title-right",children:E.jsx("a",{href:"",children:"See in my room"})})]}),E.jsx("a",{href:"",children:"View specifications"})]}),E.jsxs("div",{className:"description",children:[E.jsx("p",{children:"Default Description"}),E.jsx("a",{href:"",children:"Product Details"}),E.jsx("a",{href:"",children:"Reviews"})]})]})]}),E.jsxs("div",{className:"secondary-content",children:[E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:He,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})}),E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:He,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})}),E.jsx("div",{className:"suggestedProduct",children:E.jsxs("div",{className:"container",children:[E.jsx("img",{src:He,alt:"{title}"}),E.jsxs("div",{className:"prod-title",children:["{","title","}"]}),E.jsxs("p",{children:["{","description","}"]}),E.jsxs("p",{children:["{","price","}"]})]})})]})]})};cR.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:He},alternate1:{defaultImage:He},alternate2:{defaultImage:He},suggested1:{defaultImage:He},suggested2:{defaultImage:He},suggested3:{defaultImage:He}};function D5(){return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"product-detail-page",children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"product detail"}),E.jsx(Cf,{}),E.jsx(cR,{}),E.jsx(ic,{})]})})}function O5(){return E.jsxs(E.Fragment,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"Designer"}),E.jsx(Cf,{}),E.jsx(ic,{})]})}const L5=()=>{const n=js(),e=async()=>{await dy(),n("/")};return E.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[E.jsx(Sn,{to:"/",className:"text-2xl font-bold",children:E.jsx("div",{className:"logo",children:"URENO"})}),E.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[E.jsxs(Sn,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[E.jsx(Pj,{className:"w-5 h-5"})," Settings"]}),E.jsxs(Sn,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[E.jsx(Ij,{className:"w-5 h-5"})," Notifications"]}),E.jsxs(Sn,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[E.jsx(Rj,{className:"w-5 h-5"})," Log Out"]})]})]})},dR=n=>C.forwardRef((e,t)=>E.jsx("div",{...e,ref:t,className:Dt(e.className,n)})),ky=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=$t(e,"card-body"),E.jsx(t,{ref:i,className:Dt(n,e),...r})));ky.displayName="CardBody";const hR=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=$t(e,"card-footer"),E.jsx(t,{ref:i,className:Dt(n,e),...r})));hR.displayName="CardFooter";const fR=C.createContext(null);fR.displayName="CardHeaderContext";const pR=C.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=$t(n,"card-header"),l=C.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return E.jsx(fR.Provider,{value:l,children:E.jsx(t,{ref:i,...r,className:Dt(e,a)})})});pR.displayName="CardHeader";const mR=C.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=$t(n,"card-img");return E.jsx(r,{ref:a,className:Dt(t?`${l}-${t}`:l,e),...i})});mR.displayName="CardImg";const gR=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=$t(e,"card-img-overlay"),E.jsx(t,{ref:i,className:Dt(n,e),...r})));gR.displayName="CardImgOverlay";const vR=C.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=$t(e,"card-link"),E.jsx(t,{ref:i,className:Dt(n,e),...r})));vR.displayName="CardLink";const M5=dR("h6"),yR=C.forwardRef(({className:n,bsPrefix:e,as:t=M5,...r},i)=>(e=$t(e,"card-subtitle"),E.jsx(t,{ref:i,className:Dt(n,e),...r})));yR.displayName="CardSubtitle";const _R=C.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=$t(e,"card-text"),E.jsx(t,{ref:i,className:Dt(n,e),...r})));_R.displayName="CardText";const V5=dR("h5"),wR=C.forwardRef(({className:n,bsPrefix:e,as:t=V5,...r},i)=>(e=$t(e,"card-title"),E.jsx(t,{ref:i,className:Dt(n,e),...r})));wR.displayName="CardTitle";const ER=C.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:c="div",...f},p)=>{const g=$t(n,"card");return E.jsx(c,{ref:p,...f,className:Dt(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?E.jsx(ky,{children:l}):l})});ER.displayName="Card";const Dm=Object.assign(ER,{Img:mR,Title:wR,Subtitle:yR,Body:ky,Link:vR,Text:_R,Header:pR,Footer:hR,ImgOverlay:gR}),F5="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png",j5=dS(cy),U5=async n=>{const e=cS(j5,"users",n),t=await yM(e);return t.exists()?t.data():null},TR=C.createContext(),$5=()=>C.useContext(TR),z5=({children:n})=>{const[e,t]=C.useState(null),[r,i]=C.useState(null),[a,l]=C.useState(!0);return C.useEffect(()=>{const c=nv(yc,async f=>{if(t(f),f)try{const p=await U5(f.uid);i(p)}catch(p){console.error("Failed to fetch user profile:",p.message)}else i(null);l(!1)});return()=>c()},[]),E.jsx(TR.Provider,{value:{user:e,profile:r,loading:a},children:n})};function B5(){var r,i;const{user:n,profile:e,loading:t}=$5();return t?E.jsx("p",{children:"Loading..."}):!n||!e?E.jsx("p",{children:"User not found nor not logged in."}):E.jsxs(E.Fragment,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("title",{children:"Profile"}),E.jsx(L5,{}),E.jsx("div",{className:"main-content max-w-6xl mx-auto p-6",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6 ",children:[E.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsx(Dm,{children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),E.jsxs("p",{classname:"text-gray-500",children:[((r=e.homeProjects)==null?void 0:r.filter(a=>a.status==="in progress").length)||0," Ongoing, "," ",((i=e.homeProjects)==null?void 0:i.filter(a=>a.status==="in progress").length)||0," Completed"]}),E.jsx(Fa,{variant:"link",className:"mt-2",children:"View projects"})]})}),E.jsx(Dm,{children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Saved Items"}),E.jsx("p",{className:"text-gray-500",children:"12 Materials Favorited"}),E.jsx(Fa,{variant:"link",className:"mt-2",children:"View Favorites"})]})}),E.jsx(Dm,{children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Messages & Notifications"}),E.jsx("p",{className:"text-gray-500",children:"2 Unread Messages"}),E.jsx(Fa,{variant:"link",className:"mt-2",children:"Go to Messages"})]})})]}),E.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center ",children:[E.jsx("h2",{className:"text-2xl font-bold mt-4",children:e.username||n.displayName}),E.jsx("img",{src:F5}),E.jsx("p",{className:"text-gray-500",children:n.email}),E.jsx(Fa,{className:"mt-2",children:"Edit Profile"})]})]})}),E.jsx(ic,{})]})}DA.createRoot(document.getElementById("root")).render(E.jsx(C.StrictMode,{children:E.jsx(m3,{children:E.jsx(z5,{children:E.jsx(G2,{basename:"/Ureno_webdesign/",children:E.jsxs(S2,{children:[E.jsx(ms,{path:"/",element:E.jsx(D9,{})}),E.jsx(ms,{path:"/product-page",element:E.jsx(U9,{})}),E.jsx(ms,{path:"/productDetail/:productId",element:E.jsx(D5,{})}),E.jsx(ms,{path:"/designerPage",element:E.jsx(O5,{})}),E.jsx(ms,{path:"/ProfileDashboard",element:E.jsx(B5,{})}),E.jsx(ms,{path:"/sign-in",element:E.jsx(k5,{})}),E.jsx(ms,{path:"/sign-up",element:E.jsx(N5,{})})]})})})})}));
