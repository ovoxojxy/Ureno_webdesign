import{k as N,b as y,r as s,j as e,L as S,g as C,h as T,l as P,s as m}from"./index-zGRfcon2.js";function L(){const{currentUser:r}=N(),o=y(),[l,x]=s.useState(""),[n,g]=s.useState(""),[c,j]=s.useState(""),[u,f]=s.useState(""),[i,b]=s.useState(""),[d,p]=s.useState(!1),[v,h]=s.useState(!1),w=async t=>{if(t.preventDefault(),!!r){p(!0);try{const a=C(T,"users",r.uid,"projects");await P(a,{ownerId:r.uid,title:l,description:n,flooringType:c,roomDimensions:{length:Number(u),width:Number(i)},createdAt:m(),updatedAt:m(),status:"in progress"}),h(!0),setTimeout(()=>{h(!1),o("/projects")},1500),o("/projects")}catch(a){console.error("Error creating project: ",a)}finally{p(!1)}}};return e.jsxs("div",{className:"p-4 max-w-2xl mx-auto mt-20 relative",children:[e.jsx("div",{className:"fixed top-0 left-0 w-full bg-white  p-4 flex items-center",children:e.jsx(S,{to:"/projects",children:e.jsx("div",{className:"logo",children:" return "})})}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create New Project"}),v&&e.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow",children:"Project created successfully!"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Project Title",value:l,onChange:t=>x(t.target.value),required:!0,className:"w-full border p-2 rounded"}),e.jsx("textarea",{placeholder:"Project Description",value:n,onChange:t=>g(t.target.value),required:!0,className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"Flooring Type",value:c,onChange:t=>j(t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"number",placeholder:"Length (ft)",value:u,onChange:t=>f(t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"number",placeholder:"Width (ft)",value:i,onChange:t=>b(t.target.value),className:"w-full border p-2 rounded"})]}),e.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-500 text-white rounded",children:d?"Creating...":"Create Project"})]})]})}export{L as default};
