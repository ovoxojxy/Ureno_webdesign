import{h as g,r as a,j as e,L as i,e as w,f as u,q as N,w as v,g as y,i as D,k as P}from"./index-hEPJqI76.js";function q(){const{currentUser:t}=g(),[x,n]=a.useState([]),[h,m]=a.useState(!0),[f,j]=a.useState(null),b=s=>{j(r=>r===s?null:s)},p=async s=>{if(!t||!window.confirm("Are you sure you want to delete this project?"))return;const l=D(u,"users",t.uid,"projects",s);await P(l),n(c=>c.filter(o=>o.id!==s))};return a.useEffect(()=>{(async()=>{if(!t)return;const r=w(u,"projects"),l=N(r,v("ownerId","==",t.uid)),o=(await y(l)).docs.map(d=>({id:d.id,...d.data()}));n(o),m(!1)})()},[t]),h?e.jsx("div",{children:"Loading..."}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-4  relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i,{to:"/ProfileDashboard",className:"text-blue-500 text-3xl font-bold hover:scale-110 hover:text-blue-700 transition-all duration-200 flex items-center justify-center",children:"<"}),e.jsx("h1",{className:"text-2xl font-bold",children:"My Projects"})]}),e.jsx(i,{to:"/projects/new",children:e.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Create New Project"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(s=>e.jsxs("div",{className:"p-4 border rounded shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s.title}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>b(s.id),className:"text-gray-600 hover:text-black",children:"â‹®"}),f===s.id&&e.jsxs("div",{className:"absolute right-0 mt-1 bg-white border rounded shadow-md z-10",children:[e.jsx("button",{onClick:()=>p(s.id),className:"block w-full text-left px-4 py-2 hover:bg-red-100 text-red-600",children:"Delete"}),e.jsx(i,{to:`/projects/edit/${s.id}`,className:"block px-4 py-2 hover:bg-blue-100 text-blue-600",children:"Edit"})]})]})]}),e.jsx("p",{className:"text-gray-600",children:s.description})]},s.id))})]})})}export{q as default};
