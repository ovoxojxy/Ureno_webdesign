(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function vc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Om={exports:{}},Ru={},Dm={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function cP(){if(Dw)return Le;Dw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function R(z,Y,fe){this.props=z,this.context=Y,this.refs=b,this.updater=fe||S}R.prototype.isReactComponent={},R.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=R.prototype;function $(z,Y,fe){this.props=z,this.context=Y,this.refs=b,this.updater=fe||S}var B=$.prototype=new F;B.constructor=$,x(B,R.prototype),B.isPureReactComponent=!0;var q=Array.isArray,X=Object.prototype.hasOwnProperty,J={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function P(z,Y,fe){var Ie,Ae={},Oe=null,Ve=null;if(Y!=null)for(Ie in Y.ref!==void 0&&(Ve=Y.ref),Y.key!==void 0&&(Oe=""+Y.key),Y)X.call(Y,Ie)&&!N.hasOwnProperty(Ie)&&(Ae[Ie]=Y[Ie]);var De=arguments.length-2;if(De===1)Ae.children=fe;else if(1<De){for(var Ye=Array(De),Rt=0;Rt<De;Rt++)Ye[Rt]=arguments[Rt+2];Ae.children=Ye}if(z&&z.defaultProps)for(Ie in De=z.defaultProps,De)Ae[Ie]===void 0&&(Ae[Ie]=De[Ie]);return{$$typeof:n,type:z,key:Oe,ref:Ve,props:Ae,_owner:J.current}}function k(z,Y){return{$$typeof:n,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return Y[fe]})}var V=/\/+/g;function O(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):Y.toString(36)}function le(z,Y,fe,Ie,Ae){var Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var Ve=!1;if(z===null)Ve=!0;else switch(Oe){case"string":case"number":Ve=!0;break;case"object":switch(z.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=z,Ae=Ae(Ve),z=Ie===""?"."+O(Ve,0):Ie,q(Ae)?(fe="",z!=null&&(fe=z.replace(V,"$&/")+"/"),le(Ae,Y,fe,"",function(Rt){return Rt})):Ae!=null&&(L(Ae)&&(Ae=k(Ae,fe+(!Ae.key||Ve&&Ve.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+z)),Y.push(Ae)),1;if(Ve=0,Ie=Ie===""?".":Ie+":",q(z))for(var De=0;De<z.length;De++){Oe=z[De];var Ye=Ie+O(Oe,De);Ve+=le(Oe,Y,fe,Ye,Ae)}else if(Ye=E(z),typeof Ye=="function")for(z=Ye.call(z),De=0;!(Oe=z.next()).done;)Oe=Oe.value,Ye=Ie+O(Oe,De++),Ve+=le(Oe,Y,fe,Ye,Ae);else if(Oe==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Se(z,Y,fe){if(z==null)return z;var Ie=[],Ae=0;return le(z,Ie,"","",function(Oe){return Y.call(fe,Oe,Ae++)}),Ie}function xe(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var Te={current:null},ie={transition:null},ue={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ie,ReactCurrentOwner:J};function se(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Se,forEach:function(z,Y,fe){Se(z,function(){Y.apply(this,arguments)},fe)},count:function(z){var Y=0;return Se(z,function(){Y++}),Y},toArray:function(z){return Se(z,function(Y){return Y})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Le.Component=R,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=$,Le.StrictMode=r,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Le.act=se,Le.cloneElement=function(z,Y,fe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ie=x({},z.props),Ae=z.key,Oe=z.ref,Ve=z._owner;if(Y!=null){if(Y.ref!==void 0&&(Oe=Y.ref,Ve=J.current),Y.key!==void 0&&(Ae=""+Y.key),z.type&&z.type.defaultProps)var De=z.type.defaultProps;for(Ye in Y)X.call(Y,Ye)&&!N.hasOwnProperty(Ye)&&(Ie[Ye]=Y[Ye]===void 0&&De!==void 0?De[Ye]:Y[Ye])}var Ye=arguments.length-2;if(Ye===1)Ie.children=fe;else if(1<Ye){De=Array(Ye);for(var Rt=0;Rt<Ye;Rt++)De[Rt]=arguments[Rt+2];Ie.children=De}return{$$typeof:n,type:z.type,key:Ae,ref:Oe,props:Ie,_owner:Ve}},Le.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Le.createElement=P,Le.createFactory=function(z){var Y=P.bind(null,z);return Y.type=z,Y},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:c,render:z}},Le.isValidElement=L,Le.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:xe}},Le.memo=function(z,Y){return{$$typeof:p,type:z,compare:Y===void 0?null:Y}},Le.startTransition=function(z){var Y=ie.transition;ie.transition={};try{z()}finally{ie.transition=Y}},Le.unstable_act=se,Le.useCallback=function(z,Y){return Te.current.useCallback(z,Y)},Le.useContext=function(z){return Te.current.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z){return Te.current.useDeferredValue(z)},Le.useEffect=function(z,Y){return Te.current.useEffect(z,Y)},Le.useId=function(){return Te.current.useId()},Le.useImperativeHandle=function(z,Y,fe){return Te.current.useImperativeHandle(z,Y,fe)},Le.useInsertionEffect=function(z,Y){return Te.current.useInsertionEffect(z,Y)},Le.useLayoutEffect=function(z,Y){return Te.current.useLayoutEffect(z,Y)},Le.useMemo=function(z,Y){return Te.current.useMemo(z,Y)},Le.useReducer=function(z,Y,fe){return Te.current.useReducer(z,Y,fe)},Le.useRef=function(z){return Te.current.useRef(z)},Le.useState=function(z){return Te.current.useState(z)},Le.useSyncExternalStore=function(z,Y,fe){return Te.current.useSyncExternalStore(z,Y,fe)},Le.useTransition=function(){return Te.current.useTransition()},Le.version="18.3.1",Le}var Lw;function Ey(){return Lw||(Lw=1,Dm.exports=cP()),Dm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function dP(){if(Mw)return Ru;Mw=1;var n=Ey(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,_={},E=null,S=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(_[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:c,key:E,ref:S,props:_,_owner:i.current}}return Ru.Fragment=t,Ru.jsx=l,Ru.jsxs=l,Ru}var Vw;function hP(){return Vw||(Vw=1,Om.exports=dP()),Om.exports}var w=hP(),I=Ey();const vn=vc(I);var ih={},Lm={exports:{}},An={},Mm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function fP(){return Fw||(Fw=1,function(n){function e(ie,ue){var se=ie.length;ie.push(ue);e:for(;0<se;){var z=se-1>>>1,Y=ie[z];if(0<i(Y,ue))ie[z]=ue,ie[se]=Y,se=z;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ue=ie[0],se=ie.pop();if(se!==ue){ie[0]=se;e:for(var z=0,Y=ie.length,fe=Y>>>1;z<fe;){var Ie=2*(z+1)-1,Ae=ie[Ie],Oe=Ie+1,Ve=ie[Oe];if(0>i(Ae,se))Oe<Y&&0>i(Ve,Ae)?(ie[z]=Ve,ie[Oe]=se,z=Oe):(ie[z]=Ae,ie[Ie]=se,z=Ie);else if(Oe<Y&&0>i(Ve,se))ie[z]=Ve,ie[Oe]=se,z=Oe;else break e}}return ue}function i(ie,ue){var se=ie.sortIndex-ue.sortIndex;return se!==0?se:ie.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,_=null,E=3,S=!1,x=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var ue=t(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=ie)r(p),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=t(p)}}function q(ie){if(b=!1,B(ie),!x)if(t(h)!==null)x=!0,xe(X);else{var ue=t(p);ue!==null&&Te(q,ue.startTime-ie)}}function X(ie,ue){x=!1,b&&(b=!1,F(P),P=-1),S=!0;var se=E;try{for(B(ue),_=t(h);_!==null&&(!(_.expirationTime>ue)||ie&&!M());){var z=_.callback;if(typeof z=="function"){_.callback=null,E=_.priorityLevel;var Y=z(_.expirationTime<=ue);ue=n.unstable_now(),typeof Y=="function"?_.callback=Y:_===t(h)&&r(h),B(ue)}else r(h);_=t(h)}if(_!==null)var fe=!0;else{var Ie=t(p);Ie!==null&&Te(q,Ie.startTime-ue),fe=!1}return fe}finally{_=null,E=se,S=!1}}var J=!1,N=null,P=-1,k=5,L=-1;function M(){return!(n.unstable_now()-L<k)}function V(){if(N!==null){var ie=n.unstable_now();L=ie;var ue=!0;try{ue=N(!0,ie)}finally{ue?O():(J=!1,N=null)}}else J=!1}var O;if(typeof $=="function")O=function(){$(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=V,O=function(){Se.postMessage(null)}}else O=function(){R(V,0)};function xe(ie){N=ie,J||(J=!0,O())}function Te(ie,ue){P=R(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){x||S||(x=!0,xe(X))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var se=E;E=ue;try{return ie()}finally{E=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=E;E=ie;try{return ue()}finally{E=se}},n.unstable_scheduleCallback=function(ie,ue,se){var z=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?z+se:z):se=z,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,ie={id:g++,callback:ue,priorityLevel:ie,startTime:se,expirationTime:Y,sortIndex:-1},se>z?(ie.sortIndex=se,e(p,ie),t(h)===null&&ie===t(p)&&(b?(F(P),P=-1):b=!0,Te(q,se-z))):(ie.sortIndex=Y,e(h,ie),x||S||(x=!0,xe(X))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var ue=E;return function(){var se=E;E=ue;try{return ie.apply(this,arguments)}finally{E=se}}}}(Vm)),Vm}var jw;function pP(){return jw||(jw=1,Mm.exports=fP()),Mm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function mP(){if(Uw)return An;Uw=1;var n=Ey(),e=pP();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(s){return h.call(_,s)?!0:h.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function S(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,a,u,f){if(a===null||typeof a>"u"||S(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,u,f,m,v,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=v,this.removeEmptyString=C}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];R[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function $(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(F,$);R[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(F,$);R[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(F,$);R[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,a,u,f){var m=R.hasOwnProperty(a)?R[a]:null;(m!==null?m.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,u,m,f)&&(u=null),f||m===null?E(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(a=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(a):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),J=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,z;function Y(s){if(z===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var fe=!1;function Ie(s,a){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var f=G}Reflect.construct(s,[],a)}else{try{a.call()}catch(G){f=G}s.call(a.prototype)}else{try{throw Error()}catch(G){f=G}s()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),v=f.stack.split(`
`),C=m.length-1,D=v.length-1;1<=C&&0<=D&&m[C]!==v[D];)D--;for(;1<=C&&0<=D;C--,D--)if(m[C]!==v[D]){if(C!==1||D!==1)do if(C--,D--,0>D||m[C]!==v[D]){var j=`
`+m[C].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=C&&0<=D);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Y(s):""}function Ae(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ie(s.type,!1),s;case 11:return s=Ie(s.type.render,!1),s;case 1:return s=Ie(s.type,!0),s;default:return""}}function Oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case J:return"Portal";case k:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return a=s.displayName||null,a!==null?a:Oe(s.type)||"Memo";case xe:a=s._payload,s=s._init;try{return Oe(s(a))}catch{}}return null}function Ve(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function De(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Rt(s){var a=Ye(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(C){f=""+C,v.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ln(s){s._valueTracker||(s._valueTracker=Rt(s))}function Gi(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Ye(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function fr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function di(s,a){var u=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Qi(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=De(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Yi(s,a){a=a.checked,a!=null&&B(s,"checked",a,!1)}function Xi(s,a){Yi(s,a);var u=De(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ji(s,a.type,u):a.hasOwnProperty("defaultValue")&&Ji(s,a.type,De(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ia(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ji(s,a,u){(a!=="number"||fr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Ht=Array.isArray;function wn(s,a,u,f){if(s=s.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=a.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+De(u),a=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Zi(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hi(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Ht(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:De(u)}}function Fr(s,a){var u=De(a.value),f=De(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function es(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?vt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qn,Ml=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,m)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Qn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ts(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uo=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(s){uo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),lo[a]=lo[s]})});function Vl(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||lo.hasOwnProperty(s)&&lo[s]?(""+a).trim():a+"px"}function Fl(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Vl(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var jl=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(s,a){if(a){if(jl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function $l(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function sa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var oa=null,Yn=null,jr=null;function aa(s){if(s=du(s)){if(typeof oa!="function")throw Error(t(280));var a=s.stateNode;a&&(a=_d(a),oa(s.stateNode,s.type,a))}}function Ur(s){Yn?jr?jr.push(s):jr=[s]:Yn=s}function Bl(){if(Yn){var s=Yn,a=jr;if(jr=Yn=null,aa(s),a)for(s=0;s<a.length;s++)aa(a[s])}}function ho(s,a){return s(a)}function zl(){}var fi=!1;function Wl(s,a,u){if(fi)return s(a,u);fi=!0;try{return ho(s,a,u)}finally{fi=!1,(Yn!==null||jr!==null)&&(zl(),Bl())}}function It(s,a){var u=s.stateNode;if(u===null)return null;var f=_d(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var la=!1;if(c)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){la=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{la=!1}function fo(s,a,u,f,m,v,C,D,j){var G=Array.prototype.slice.call(arguments,3);try{a.apply(u,G)}catch(te){this.onError(te)}}var po=!1,ua=null,mr=!1,Hl=null,ap={onError:function(s){po=!0,ua=s}};function ca(s,a,u,f,m,v,C,D,j){po=!1,ua=null,fo.apply(ap,arguments)}function Wc(s,a,u,f,m,v,C,D,j){if(ca.apply(this,arguments),po){if(po){var G=ua;po=!1,ua=null}else throw Error(t(198));mr||(mr=!0,Hl=G)}}function gr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function mo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function yr(s){if(gr(s)!==s)throw Error(t(188))}function Hc(s){var a=s.alternate;if(!a){if(a=gr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,f=a;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return yr(m),s;if(v===f)return yr(m),a;v=v.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=v;else{for(var C=!1,D=m.child;D;){if(D===u){C=!0,u=m,f=v;break}if(D===f){C=!0,f=m,u=v;break}D=D.sibling}if(!C){for(D=v.child;D;){if(D===u){C=!0,u=v,f=m;break}if(D===f){C=!0,f=v,u=m;break}D=D.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function ql(s){return s=Hc(s),s!==null?da(s):null}function da(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=da(s);if(a!==null)return a;s=s.sibling}return null}var ha=e.unstable_scheduleCallback,Kl=e.unstable_cancelCallback,qc=e.unstable_shouldYield,lp=e.unstable_requestPaint,rt=e.unstable_now,Kc=e.unstable_getCurrentPriorityLevel,go=e.unstable_ImmediatePriority,ns=e.unstable_UserBlockingPriority,Xn=e.unstable_NormalPriority,Gl=e.unstable_LowPriority,Gc=e.unstable_IdlePriority,yo=null,Mn=null;function Qc(s){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(yo,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:Xc,Ql=Math.log,Yc=Math.LN2;function Xc(s){return s>>>=0,s===0?32:31-(Ql(s)/Yc|0)|0}var fa=64,pa=4194304;function rs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function vo(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,v=s.pingedLanes,C=u&268435455;if(C!==0){var D=C&~m;D!==0?f=rs(D):(v&=C,v!==0&&(f=rs(v)))}else C=u&~m,C!==0?f=rs(C):v!==0&&(f=rs(v));if(f===0)return 0;if(a!==0&&a!==f&&(a&m)===0&&(m=f&-f,v=a&-a,m>=v||m===16&&(v&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-fn(a),m=1<<u,f|=s[u],a&=~m;return f}function up(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var C=31-fn(v),D=1<<C,j=m[C];j===-1?((D&u)===0||(D&f)!==0)&&(m[C]=up(D,a)):j<=a&&(s.expiredLanes|=D),v&=~D}}function Vn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function _o(){var s=fa;return fa<<=1,(fa&4194240)===0&&(fa=64),s}function is(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function ss(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-fn(a),s[a]=u}function nt(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-fn(u),v=1<<m;a[m]=0,f[m]=-1,s[m]=-1,u&=~v}}function os(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-fn(u),m=1<<f;m&a|s[f]&a&&(s[f]|=a),u&=~m}}var je=0;function as(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Jc,ma,Zc,ed,td,Yl=!1,$r=[],qt=null,vr=null,_r=null,ls=new Map,Jn=new Map,Br=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(s,a){switch(s){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ls.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(a.pointerId)}}function En(s,a,u,f,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},a!==null&&(a=du(a),a!==null&&ma(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function dp(s,a,u,f,m){switch(a){case"focusin":return qt=En(qt,s,a,u,f,m),!0;case"dragenter":return vr=En(vr,s,a,u,f,m),!0;case"mouseover":return _r=En(_r,s,a,u,f,m),!0;case"pointerover":var v=m.pointerId;return ls.set(v,En(ls.get(v)||null,s,a,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Jn.set(v,En(Jn.get(v)||null,s,a,u,f,m)),!0}return!1}function rd(s){var a=Co(s.target);if(a!==null){var u=gr(a);if(u!==null){if(a=u.tag,a===13){if(a=mo(u),a!==null){s.blockedOn=a,td(s.priority,function(){Zc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=ga(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);co=f,u.target.dispatchEvent(f),co=null}else return a=du(u),a!==null&&ma(a),s.blockedOn=u,!1;a.shift()}return!0}function wo(s,a,u){mi(s)&&u.delete(a)}function id(){Yl=!1,qt!==null&&mi(qt)&&(qt=null),vr!==null&&mi(vr)&&(vr=null),_r!==null&&mi(_r)&&(_r=null),ls.forEach(wo),Jn.forEach(wo)}function wr(s,a){s.blockedOn===a&&(s.blockedOn=null,Yl||(Yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,id)))}function Er(s){function a(m){return wr(m,s)}if(0<$r.length){wr($r[0],s);for(var u=1;u<$r.length;u++){var f=$r[u];f.blockedOn===s&&(f.blockedOn=null)}}for(qt!==null&&wr(qt,s),vr!==null&&wr(vr,s),_r!==null&&wr(_r,s),ls.forEach(a),Jn.forEach(a),u=0;u<Br.length;u++)f=Br[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Br.length&&(u=Br[0],u.blockedOn===null);)rd(u),u.blockedOn===null&&Br.shift()}var gi=q.ReactCurrentBatchConfig,us=!0;function ht(s,a,u,f){var m=je,v=gi.transition;gi.transition=null;try{je=1,Xl(s,a,u,f)}finally{je=m,gi.transition=v}}function hp(s,a,u,f){var m=je,v=gi.transition;gi.transition=null;try{je=4,Xl(s,a,u,f)}finally{je=m,gi.transition=v}}function Xl(s,a,u,f){if(us){var m=ga(s,a,u,f);if(m===null)Ip(s,a,f,Eo,u),nd(s,f);else if(dp(m,s,a,u,f))f.stopPropagation();else if(nd(s,f),a&4&&-1<cp.indexOf(s)){for(;m!==null;){var v=du(m);if(v!==null&&Jc(v),v=ga(s,a,u,f),v===null&&Ip(s,a,f,Eo,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Ip(s,a,f,null,u)}}var Eo=null;function ga(s,a,u,f){if(Eo=null,s=sa(f),s=Co(s),s!==null)if(a=gr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=mo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Eo=s,null}function Jl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kc()){case go:return 1;case ns:return 4;case Xn:case Gl:return 16;case Gc:return 536870912;default:return 16}default:return 16}}var Fn=null,ya=null,Tn=null;function Zl(){if(Tn)return Tn;var s,a=ya,u=a.length,f,m="value"in Fn?Fn.value:Fn.textContent,v=m.length;for(s=0;s<u&&a[s]===m[s];s++);var C=u-s;for(f=1;f<=C&&a[u-f]===m[v-f];f++);return Tn=m.slice(s,1<f?1-f:void 0)}function va(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function zr(){return!0}function eu(){return!1}function Kt(s){function a(u,f,m,v,C){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?zr:eu,this.isPropagationStopped=eu,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),a}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=Kt(Tr),Wr=se({},Tr,{view:0,detail:0}),fp=Kt(Wr),wa,yi,cs,To=se({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cs&&(cs&&s.type==="mousemove"?(wa=s.screenX-cs.screenX,yi=s.screenY-cs.screenY):yi=wa=0,cs=s),wa)},movementY:function(s){return"movementY"in s?s.movementY:yi}}),Ea=Kt(To),tu=se({},To,{dataTransfer:0}),sd=Kt(tu),Ta=se({},Wr,{relatedTarget:0}),Ia=Kt(Ta),od=se({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=Kt(od),ad=se({},Tr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ld=Kt(ad),ud=se({},Tr,{data:0}),nu=Kt(ud),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=cd[s])?!!a[s]:!1}function Hr(){return dd}var d=se({},Wr,{key:function(s){if(s.key){var a=Ca[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(s){return s.type==="keypress"?va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Kt(d),T=se({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Kt(T),W=se({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Q=Kt(W),ae=se({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Kt(ae),bt=se({},To,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Kt(bt),Vt=[9,13,27,32],xt=c&&"CompositionEvent"in window,Zn=null;c&&"documentMode"in document&&(Zn=document.documentMode);var jn=c&&"TextEvent"in window&&!Zn,Io=c&&(!xt||Zn&&8<Zn&&11>=Zn),Sa=" ",A_=!1;function P_(s,a){switch(s){case"keyup":return Vt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ra=!1;function a2(s,a){switch(s){case"compositionend":return k_(a);case"keypress":return a.which!==32?null:(A_=!0,Sa);case"textInput":return s=a.data,s===Sa&&A_?null:s;default:return null}}function l2(s,a){if(Ra)return s==="compositionend"||!xt&&P_(s,a)?(s=Zl(),Tn=ya=Fn=null,Ra=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Io&&a.locale!=="ko"?null:a.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!u2[s.type]:a==="textarea"}function N_(s,a,u,f){Ur(f),a=gd(a,"onChange"),0<a.length&&(u=new _a("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var ru=null,iu=null;function c2(s){Y_(s,0)}function hd(s){var a=ba(s);if(Gi(a))return s}function d2(s,a){if(s==="change")return a}var O_=!1;if(c){var pp;if(c){var mp="oninput"in document;if(!mp){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),mp=typeof D_.oninput=="function"}pp=mp}else pp=!1;O_=pp&&(!document.documentMode||9<document.documentMode)}function L_(){ru&&(ru.detachEvent("onpropertychange",M_),iu=ru=null)}function M_(s){if(s.propertyName==="value"&&hd(iu)){var a=[];N_(a,iu,s,sa(s)),Wl(c2,a)}}function h2(s,a,u){s==="focusin"?(L_(),ru=a,iu=u,ru.attachEvent("onpropertychange",M_)):s==="focusout"&&L_()}function f2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hd(iu)}function p2(s,a){if(s==="click")return hd(a)}function m2(s,a){if(s==="input"||s==="change")return hd(a)}function g2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ir=typeof Object.is=="function"?Object.is:g2;function su(s,a){if(Ir(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(a,m)||!Ir(s[m],a[m]))return!1}return!0}function V_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function F_(s,a){var u=V_(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=V_(u)}}function j_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?j_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function U_(){for(var s=window,a=fr();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=fr(s.document)}return a}function gp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function y2(s){var a=U_(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&j_(u.ownerDocument.documentElement,u)){if(f!==null&&gp(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!s.extend&&v>f&&(m=f,f=v,v=m),m=F_(u,v);var C=F_(u,f);m&&C&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),v>f?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var v2=c&&"documentMode"in document&&11>=document.documentMode,xa=null,yp=null,ou=null,vp=!1;function $_(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vp||xa==null||xa!==fr(f)||(f=xa,"selectionStart"in f&&gp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ou&&su(ou,f)||(ou=f,f=gd(yp,"onSelect"),0<f.length&&(a=new _a("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=xa)))}function fd(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Aa={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},_p={},B_={};c&&(B_=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function pd(s){if(_p[s])return _p[s];if(!Aa[s])return s;var a=Aa[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in B_)return _p[s]=a[u];return s}var z_=pd("animationend"),W_=pd("animationiteration"),H_=pd("animationstart"),q_=pd("transitionend"),K_=new Map,G_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(s,a){K_.set(s,a),o(a,[s])}for(var wp=0;wp<G_.length;wp++){var Ep=G_[wp],_2=Ep.toLowerCase(),w2=Ep[0].toUpperCase()+Ep.slice(1);ds(_2,"on"+w2)}ds(z_,"onAnimationEnd"),ds(W_,"onAnimationIteration"),ds(H_,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(q_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function Q_(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,Wc(f,a,void 0,s),s.currentTarget=null}function Y_(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var C=f.length-1;0<=C;C--){var D=f[C],j=D.instance,G=D.currentTarget;if(D=D.listener,j!==v&&m.isPropagationStopped())break e;Q_(m,D,G),v=j}else for(C=0;C<f.length;C++){if(D=f[C],j=D.instance,G=D.currentTarget,D=D.listener,j!==v&&m.isPropagationStopped())break e;Q_(m,D,G),v=j}}}if(mr)throw s=Hl,mr=!1,Hl=null,s}function st(s,a){var u=a[Pp];u===void 0&&(u=a[Pp]=new Set);var f=s+"__bubble";u.has(f)||(X_(a,s,2,!1),u.add(f))}function Tp(s,a,u){var f=0;a&&(f|=4),X_(u,s,f,a)}var md="_reactListening"+Math.random().toString(36).slice(2);function lu(s){if(!s[md]){s[md]=!0,r.forEach(function(u){u!=="selectionchange"&&(E2.has(u)||Tp(u,!1,s),Tp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[md]||(a[md]=!0,Tp("selectionchange",!1,a))}}function X_(s,a,u,f){switch(Jl(a)){case 1:var m=ht;break;case 4:m=hp;break;default:m=Xl}u=m.bind(null,a,u,s),m=void 0,!la||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(a,u,{capture:!0,passive:m}):s.addEventListener(a,u,!0):m!==void 0?s.addEventListener(a,u,{passive:m}):s.addEventListener(a,u,!1)}function Ip(s,a,u,f,m){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var D=f.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(C===4)for(C=f.return;C!==null;){var j=C.tag;if((j===3||j===4)&&(j=C.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;C=C.return}for(;D!==null;){if(C=Co(D),C===null)return;if(j=C.tag,j===5||j===6){f=v=C;continue e}D=D.parentNode}}f=f.return}Wl(function(){var G=v,te=sa(u),re=[];e:{var ee=K_.get(s);if(ee!==void 0){var de=_a,me=s;switch(s){case"keypress":if(va(u)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":me="focus",de=Ia;break;case"focusout":me="blur",de=Ia;break;case"beforeblur":case"afterblur":de=Ia;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case z_:case W_:case H_:de=vi;break;case q_:de=et;break;case"scroll":de=fp;break;case"wheel":de=Be;break;case"copy":case"cut":case"paste":de=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=A}var ge=(a&4)!==0,Ct=!ge&&s==="scroll",H=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var U=G,K;U!==null;){K=U;var oe=K.stateNode;if(K.tag===5&&oe!==null&&(K=oe,H!==null&&(oe=It(U,H),oe!=null&&ge.push(uu(U,oe,K)))),Ct)break;U=U.return}0<ge.length&&(ee=new de(ee,me,null,u,te),re.push({event:ee,listeners:ge}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ee&&u!==co&&(me=u.relatedTarget||u.fromElement)&&(Co(me)||me[_i]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(me=u.relatedTarget||u.toElement,de=G,me=me?Co(me):null,me!==null&&(Ct=gr(me),me!==Ct||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=G),de!==me)){if(ge=Ea,oe="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(ge=A,oe="onPointerLeave",H="onPointerEnter",U="pointer"),Ct=de==null?ee:ba(de),K=me==null?ee:ba(me),ee=new ge(oe,U+"leave",de,u,te),ee.target=Ct,ee.relatedTarget=K,oe=null,Co(te)===G&&(ge=new ge(H,U+"enter",me,u,te),ge.target=K,ge.relatedTarget=Ct,oe=ge),Ct=oe,de&&me)t:{for(ge=de,H=me,U=0,K=ge;K;K=Pa(K))U++;for(K=0,oe=H;oe;oe=Pa(oe))K++;for(;0<U-K;)ge=Pa(ge),U--;for(;0<K-U;)H=Pa(H),K--;for(;U--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=Pa(ge),H=Pa(H)}ge=null}else ge=null;de!==null&&J_(re,ee,de,ge,!1),me!==null&&Ct!==null&&J_(re,Ct,me,ge,!0)}}e:{if(ee=G?ba(G):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ye=d2;else if(b_(ee))if(O_)ye=m2;else{ye=f2;var _e=h2}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=p2);if(ye&&(ye=ye(s,G))){N_(re,ye,u,te);break e}_e&&_e(s,ee,G),s==="focusout"&&(_e=ee._wrapperState)&&_e.controlled&&ee.type==="number"&&Ji(ee,"number",ee.value)}switch(_e=G?ba(G):window,s){case"focusin":(b_(_e)||_e.contentEditable==="true")&&(xa=_e,yp=G,ou=null);break;case"focusout":ou=yp=xa=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,$_(re,u,te);break;case"selectionchange":if(v2)break;case"keydown":case"keyup":$_(re,u,te)}var we;if(xt)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ra?P_(s,u)&&(Pe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(Io&&u.locale!=="ko"&&(Ra||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ra&&(we=Zl()):(Fn=te,ya="value"in Fn?Fn.value:Fn.textContent,Ra=!0)),_e=gd(G,Pe),0<_e.length&&(Pe=new nu(Pe,s,null,u,te),re.push({event:Pe,listeners:_e}),we?Pe.data=we:(we=k_(u),we!==null&&(Pe.data=we)))),(we=jn?a2(s,u):l2(s,u))&&(G=gd(G,"onBeforeInput"),0<G.length&&(te=new nu("onBeforeInput","beforeinput",null,u,te),re.push({event:te,listeners:G}),te.data=we))}Y_(re,a)})}function uu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function gd(s,a){for(var u=a+"Capture",f=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=It(s,u),v!=null&&f.unshift(uu(s,v,m)),v=It(s,a),v!=null&&f.push(uu(s,v,m))),s=s.return}return f}function Pa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function J_(s,a,u,f,m){for(var v=a._reactName,C=[];u!==null&&u!==f;){var D=u,j=D.alternate,G=D.stateNode;if(j!==null&&j===f)break;D.tag===5&&G!==null&&(D=G,m?(j=It(u,v),j!=null&&C.unshift(uu(u,j,D))):m||(j=It(u,v),j!=null&&C.push(uu(u,j,D)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var T2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Z_(s){return(typeof s=="string"?s:""+s).replace(T2,`
`).replace(I2,"")}function yd(s,a,u){if(a=Z_(a),Z_(s)!==a&&u)throw Error(t(425))}function vd(){}var Cp=null,Sp=null;function Rp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(s){return e0.resolve(null).then(s).catch(R2)}:xp;function R2(s){setTimeout(function(){throw s})}function Ap(s,a){var u=a,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),Er(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Er(a)}function hs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function t0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var ka=Math.random().toString(36).slice(2),qr="__reactFiber$"+ka,cu="__reactProps$"+ka,_i="__reactContainer$"+ka,Pp="__reactEvents$"+ka,x2="__reactListeners$"+ka,A2="__reactHandles$"+ka;function Co(s){var a=s[qr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[_i]||u[qr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=t0(s);s!==null;){if(u=s[qr])return u;s=t0(s)}return a}s=u,u=s.parentNode}return null}function du(s){return s=s[qr]||s[_i],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ba(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function _d(s){return s[cu]||null}var kp=[],Na=-1;function fs(s){return{current:s}}function ot(s){0>Na||(s.current=kp[Na],kp[Na]=null,Na--)}function it(s,a){Na++,kp[Na]=s.current,s.current=a}var ps={},Zt=fs(ps),In=fs(!1),So=ps;function Oa(s,a){var u=s.type.contextTypes;if(!u)return ps;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=a[v];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function Cn(s){return s=s.childContextTypes,s!=null}function wd(){ot(In),ot(Zt)}function n0(s,a,u){if(Zt.current!==ps)throw Error(t(168));it(Zt,a),it(In,u)}function r0(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in a))throw Error(t(108,Ve(s)||"Unknown",m));return se({},u,f)}function Ed(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ps,So=Zt.current,it(Zt,s),it(In,In.current),!0}function i0(s,a,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=r0(s,a,So),f.__reactInternalMemoizedMergedChildContext=s,ot(In),ot(Zt),it(Zt,s)):ot(In),it(In,u)}var wi=null,Td=!1,bp=!1;function s0(s){wi===null?wi=[s]:wi.push(s)}function P2(s){Td=!0,s0(s)}function ms(){if(!bp&&wi!==null){bp=!0;var s=0,a=je;try{var u=wi;for(je=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}wi=null,Td=!1}catch(m){throw wi!==null&&(wi=wi.slice(s+1)),ha(go,ms),m}finally{je=a,bp=!1}}return null}var Da=[],La=0,Id=null,Cd=0,er=[],tr=0,Ro=null,Ei=1,Ti="";function xo(s,a){Da[La++]=Cd,Da[La++]=Id,Id=s,Cd=a}function o0(s,a,u){er[tr++]=Ei,er[tr++]=Ti,er[tr++]=Ro,Ro=s;var f=Ei;s=Ti;var m=32-fn(f)-1;f&=~(1<<m),u+=1;var v=32-fn(a)+m;if(30<v){var C=m-m%5;v=(f&(1<<C)-1).toString(32),f>>=C,m-=C,Ei=1<<32-fn(a)+m|u<<m|f,Ti=v+s}else Ei=1<<v|u<<m|f,Ti=s}function Np(s){s.return!==null&&(xo(s,1),o0(s,1,0))}function Op(s){for(;s===Id;)Id=Da[--La],Da[La]=null,Cd=Da[--La],Da[La]=null;for(;s===Ro;)Ro=er[--tr],er[tr]=null,Ti=er[--tr],er[tr]=null,Ei=er[--tr],er[tr]=null}var Un=null,$n=null,ft=!1,Cr=null;function a0(s,a){var u=sr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function l0(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Un=s,$n=hs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Un=s,$n=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Ro!==null?{id:Ei,overflow:Ti}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=sr(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Un=s,$n=null,!0):!1;default:return!1}}function Dp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Lp(s){if(ft){var a=$n;if(a){var u=a;if(!l0(s,a)){if(Dp(s))throw Error(t(418));a=hs(u.nextSibling);var f=Un;a&&l0(s,a)?a0(f,u):(s.flags=s.flags&-4097|2,ft=!1,Un=s)}}else{if(Dp(s))throw Error(t(418));s.flags=s.flags&-4097|2,ft=!1,Un=s}}}function u0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Un=s}function Sd(s){if(s!==Un)return!1;if(!ft)return u0(s),ft=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Rp(s.type,s.memoizedProps)),a&&(a=$n)){if(Dp(s))throw c0(),Error(t(418));for(;a;)a0(s,a),a=hs(a.nextSibling)}if(u0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){$n=hs(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}$n=null}}else $n=Un?hs(s.stateNode.nextSibling):null;return!0}function c0(){for(var s=$n;s;)s=hs(s.nextSibling)}function Ma(){$n=Un=null,ft=!1}function Mp(s){Cr===null?Cr=[s]:Cr.push(s)}var k2=q.ReactCurrentBatchConfig;function hu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,v=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(C){var D=m.refs;C===null?delete D[v]:D[v]=C},a._stringRef=v,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Rd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function d0(s){var a=s._init;return a(s._payload)}function h0(s){function a(H,U){if(s){var K=H.deletions;K===null?(H.deletions=[U],H.flags|=16):K.push(U)}}function u(H,U){if(!s)return null;for(;U!==null;)a(H,U),U=U.sibling;return null}function f(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=Is(H,U),H.index=0,H.sibling=null,H}function v(H,U,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<U?(H.flags|=2,U):K):(H.flags|=2,U)):(H.flags|=1048576,U)}function C(H){return s&&H.alternate===null&&(H.flags|=2),H}function D(H,U,K,oe){return U===null||U.tag!==6?(U=xm(K,H.mode,oe),U.return=H,U):(U=m(U,K),U.return=H,U)}function j(H,U,K,oe){var ye=K.type;return ye===N?te(H,U,K.props.children,oe,K.key):U!==null&&(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===xe&&d0(ye)===U.type)?(oe=m(U,K.props),oe.ref=hu(H,U,K),oe.return=H,oe):(oe=Yd(K.type,K.key,K.props,null,H.mode,oe),oe.ref=hu(H,U,K),oe.return=H,oe)}function G(H,U,K,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=Am(K,H.mode,oe),U.return=H,U):(U=m(U,K.children||[]),U.return=H,U)}function te(H,U,K,oe,ye){return U===null||U.tag!==7?(U=Lo(K,H.mode,oe,ye),U.return=H,U):(U=m(U,K),U.return=H,U)}function re(H,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=xm(""+U,H.mode,K),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case X:return K=Yd(U.type,U.key,U.props,null,H.mode,K),K.ref=hu(H,null,U),K.return=H,K;case J:return U=Am(U,H.mode,K),U.return=H,U;case xe:var oe=U._init;return re(H,oe(U._payload),K)}if(Ht(U)||ue(U))return U=Lo(U,H.mode,K,null),U.return=H,U;Rd(H,U)}return null}function ee(H,U,K,oe){var ye=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ye!==null?null:D(H,U,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X:return K.key===ye?j(H,U,K,oe):null;case J:return K.key===ye?G(H,U,K,oe):null;case xe:return ye=K._init,ee(H,U,ye(K._payload),oe)}if(Ht(K)||ue(K))return ye!==null?null:te(H,U,K,oe,null);Rd(H,K)}return null}function de(H,U,K,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(K)||null,D(U,H,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return H=H.get(oe.key===null?K:oe.key)||null,j(U,H,oe,ye);case J:return H=H.get(oe.key===null?K:oe.key)||null,G(U,H,oe,ye);case xe:var _e=oe._init;return de(H,U,K,_e(oe._payload),ye)}if(Ht(oe)||ue(oe))return H=H.get(K)||null,te(U,H,oe,ye,null);Rd(U,oe)}return null}function me(H,U,K,oe){for(var ye=null,_e=null,we=U,Pe=U=0,Ut=null;we!==null&&Pe<K.length;Pe++){we.index>Pe?(Ut=we,we=null):Ut=we.sibling;var Qe=ee(H,we,K[Pe],oe);if(Qe===null){we===null&&(we=Ut);break}s&&we&&Qe.alternate===null&&a(H,we),U=v(Qe,U,Pe),_e===null?ye=Qe:_e.sibling=Qe,_e=Qe,we=Ut}if(Pe===K.length)return u(H,we),ft&&xo(H,Pe),ye;if(we===null){for(;Pe<K.length;Pe++)we=re(H,K[Pe],oe),we!==null&&(U=v(we,U,Pe),_e===null?ye=we:_e.sibling=we,_e=we);return ft&&xo(H,Pe),ye}for(we=f(H,we);Pe<K.length;Pe++)Ut=de(we,H,Pe,K[Pe],oe),Ut!==null&&(s&&Ut.alternate!==null&&we.delete(Ut.key===null?Pe:Ut.key),U=v(Ut,U,Pe),_e===null?ye=Ut:_e.sibling=Ut,_e=Ut);return s&&we.forEach(function(Cs){return a(H,Cs)}),ft&&xo(H,Pe),ye}function ge(H,U,K,oe){var ye=ue(K);if(typeof ye!="function")throw Error(t(150));if(K=ye.call(K),K==null)throw Error(t(151));for(var _e=ye=null,we=U,Pe=U=0,Ut=null,Qe=K.next();we!==null&&!Qe.done;Pe++,Qe=K.next()){we.index>Pe?(Ut=we,we=null):Ut=we.sibling;var Cs=ee(H,we,Qe.value,oe);if(Cs===null){we===null&&(we=Ut);break}s&&we&&Cs.alternate===null&&a(H,we),U=v(Cs,U,Pe),_e===null?ye=Cs:_e.sibling=Cs,_e=Cs,we=Ut}if(Qe.done)return u(H,we),ft&&xo(H,Pe),ye;if(we===null){for(;!Qe.done;Pe++,Qe=K.next())Qe=re(H,Qe.value,oe),Qe!==null&&(U=v(Qe,U,Pe),_e===null?ye=Qe:_e.sibling=Qe,_e=Qe);return ft&&xo(H,Pe),ye}for(we=f(H,we);!Qe.done;Pe++,Qe=K.next())Qe=de(we,H,Pe,Qe.value,oe),Qe!==null&&(s&&Qe.alternate!==null&&we.delete(Qe.key===null?Pe:Qe.key),U=v(Qe,U,Pe),_e===null?ye=Qe:_e.sibling=Qe,_e=Qe);return s&&we.forEach(function(uP){return a(H,uP)}),ft&&xo(H,Pe),ye}function Ct(H,U,K,oe){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case X:e:{for(var ye=K.key,_e=U;_e!==null;){if(_e.key===ye){if(ye=K.type,ye===N){if(_e.tag===7){u(H,_e.sibling),U=m(_e,K.props.children),U.return=H,H=U;break e}}else if(_e.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===xe&&d0(ye)===_e.type){u(H,_e.sibling),U=m(_e,K.props),U.ref=hu(H,_e,K),U.return=H,H=U;break e}u(H,_e);break}else a(H,_e);_e=_e.sibling}K.type===N?(U=Lo(K.props.children,H.mode,oe,K.key),U.return=H,H=U):(oe=Yd(K.type,K.key,K.props,null,H.mode,oe),oe.ref=hu(H,U,K),oe.return=H,H=oe)}return C(H);case J:e:{for(_e=K.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){u(H,U.sibling),U=m(U,K.children||[]),U.return=H,H=U;break e}else{u(H,U);break}else a(H,U);U=U.sibling}U=Am(K,H.mode,oe),U.return=H,H=U}return C(H);case xe:return _e=K._init,Ct(H,U,_e(K._payload),oe)}if(Ht(K))return me(H,U,K,oe);if(ue(K))return ge(H,U,K,oe);Rd(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(u(H,U.sibling),U=m(U,K),U.return=H,H=U):(u(H,U),U=xm(K,H.mode,oe),U.return=H,H=U),C(H)):u(H,U)}return Ct}var Va=h0(!0),f0=h0(!1),xd=fs(null),Ad=null,Fa=null,Vp=null;function Fp(){Vp=Fa=Ad=null}function jp(s){var a=xd.current;ot(xd),s._currentValue=a}function Up(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function ja(s,a){Ad=s,Vp=Fa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Sn=!0),s.firstContext=null)}function nr(s){var a=s._currentValue;if(Vp!==s)if(s={context:s,memoizedValue:a,next:null},Fa===null){if(Ad===null)throw Error(t(308));Fa=s,Ad.dependencies={lanes:0,firstContext:s}}else Fa=Fa.next=s;return a}var Ao=null;function $p(s){Ao===null?Ao=[s]:Ao.push(s)}function p0(s,a,u,f){var m=a.interleaved;return m===null?(u.next=u,$p(a)):(u.next=m.next,m.next=u),a.interleaved=u,Ii(s,f)}function Ii(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var gs=!1;function Bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ci(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ys(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ke&2)!==0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,Ii(s,u)}return m=f.interleaved,m===null?(a.next=a,$p(f)):(a.next=m.next,m.next=a),f.interleaved=a,Ii(s,u)}function Pd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,os(s,u)}}function g0(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=C:v=v.next=C,u=u.next}while(u!==null);v===null?m=v=a:v=v.next=a}else m=v=a;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function kd(s,a,u,f){var m=s.updateQueue;gs=!1;var v=m.firstBaseUpdate,C=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var j=D,G=j.next;j.next=null,C===null?v=G:C.next=G,C=j;var te=s.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==C&&(D===null?te.firstBaseUpdate=G:D.next=G,te.lastBaseUpdate=j))}if(v!==null){var re=m.baseState;C=0,te=G=j=null,D=v;do{var ee=D.lane,de=D.eventTime;if((f&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var me=s,ge=D;switch(ee=a,de=u,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){re=me.call(de,re,ee);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ee=typeof me=="function"?me.call(de,re,ee):me,ee==null)break e;re=se({},re,ee);break e;case 2:gs=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[D]:ee.push(D))}else de={eventTime:de,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(G=te=de,j=re):te=te.next=de,C|=ee;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(j=re),m.baseState=j,m.firstBaseUpdate=G,m.lastBaseUpdate=te,a=m.shared.interleaved,a!==null){m=a;do C|=m.lane,m=m.next;while(m!==a)}else v===null&&(m.shared.lanes=0);bo|=C,s.lanes=C,s.memoizedState=re}}function y0(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var fu={},Kr=fs(fu),pu=fs(fu),mu=fs(fu);function Po(s){if(s===fu)throw Error(t(174));return s}function zp(s,a){switch(it(mu,a),it(pu,s),it(Kr,fu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:_t(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=_t(a,s)}ot(Kr),it(Kr,a)}function Ua(){ot(Kr),ot(pu),ot(mu)}function v0(s){Po(mu.current);var a=Po(Kr.current),u=_t(a,s.type);a!==u&&(it(pu,s),it(Kr,u))}function Wp(s){pu.current===s&&(ot(Kr),ot(pu))}var gt=fs(0);function bd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hp=[];function qp(){for(var s=0;s<Hp.length;s++)Hp[s]._workInProgressVersionPrimary=null;Hp.length=0}var Nd=q.ReactCurrentDispatcher,Kp=q.ReactCurrentBatchConfig,ko=0,yt=null,Nt=null,Ft=null,Od=!1,gu=!1,yu=0,b2=0;function en(){throw Error(t(321))}function Gp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Ir(s[u],a[u]))return!1;return!0}function Qp(s,a,u,f,m,v){if(ko=v,yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Nd.current=s===null||s.memoizedState===null?L2:M2,s=u(f,m),gu){v=0;do{if(gu=!1,yu=0,25<=v)throw Error(t(301));v+=1,Ft=Nt=null,a.updateQueue=null,Nd.current=V2,s=u(f,m)}while(gu)}if(Nd.current=Md,a=Nt!==null&&Nt.next!==null,ko=0,Ft=Nt=yt=null,Od=!1,a)throw Error(t(300));return s}function Yp(){var s=yu!==0;return yu=0,s}function Gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?yt.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function rr(){if(Nt===null){var s=yt.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var a=Ft===null?yt.memoizedState:Ft.next;if(a!==null)Ft=a,Nt=s;else{if(s===null)throw Error(t(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ft===null?yt.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function vu(s,a){return typeof a=="function"?a(s):a}function Xp(s){var a=rr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=Nt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var C=m.next;m.next=v.next,v.next=C}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var D=C=null,j=null,G=v;do{var te=G.lane;if((ko&te)===te)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:s(f,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(D=j=re,C=f):j=j.next=re,yt.lanes|=te,bo|=te}G=G.next}while(G!==null&&G!==v);j===null?C=f:j.next=D,Ir(f,a.memoizedState)||(Sn=!0),a.memoizedState=f,a.baseState=C,a.baseQueue=j,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do v=m.lane,yt.lanes|=v,bo|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Jp(s){var a=rr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,v=a.memoizedState;if(m!==null){u.pending=null;var C=m=m.next;do v=s(v,C.action),C=C.next;while(C!==m);Ir(v,a.memoizedState)||(Sn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,f]}function _0(){}function w0(s,a){var u=yt,f=rr(),m=a(),v=!Ir(f.memoizedState,m);if(v&&(f.memoizedState=m,Sn=!0),f=f.queue,Zp(I0.bind(null,u,f,s),[s]),f.getSnapshot!==a||v||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,_u(9,T0.bind(null,u,f,m,a),void 0,null),jt===null)throw Error(t(349));(ko&30)!==0||E0(u,a,m)}return m}function E0(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function T0(s,a,u,f){a.value=u,a.getSnapshot=f,C0(a)&&S0(s)}function I0(s,a,u){return u(function(){C0(a)&&S0(s)})}function C0(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Ir(s,u)}catch{return!0}}function S0(s){var a=Ii(s,1);a!==null&&Ar(a,s,1,-1)}function R0(s){var a=Gr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:s},a.queue=s,s=s.dispatch=D2.bind(null,yt,s),[a.memoizedState,s]}function _u(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function x0(){return rr().memoizedState}function Dd(s,a,u,f){var m=Gr();yt.flags|=s,m.memoizedState=_u(1|a,u,void 0,f===void 0?null:f)}function Ld(s,a,u,f){var m=rr();f=f===void 0?null:f;var v=void 0;if(Nt!==null){var C=Nt.memoizedState;if(v=C.destroy,f!==null&&Gp(f,C.deps)){m.memoizedState=_u(a,u,v,f);return}}yt.flags|=s,m.memoizedState=_u(1|a,u,v,f)}function A0(s,a){return Dd(8390656,8,s,a)}function Zp(s,a){return Ld(2048,8,s,a)}function P0(s,a){return Ld(4,2,s,a)}function k0(s,a){return Ld(4,4,s,a)}function b0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function N0(s,a,u){return u=u!=null?u.concat([s]):null,Ld(4,4,b0.bind(null,a,s),u)}function em(){}function O0(s,a){var u=rr();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Gp(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function D0(s,a){var u=rr();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Gp(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function L0(s,a,u){return(ko&21)===0?(s.baseState&&(s.baseState=!1,Sn=!0),s.memoizedState=u):(Ir(u,a)||(u=_o(),yt.lanes|=u,bo|=u,s.baseState=!0),a)}function N2(s,a){var u=je;je=u!==0&&4>u?u:4,s(!0);var f=Kp.transition;Kp.transition={};try{s(!1),a()}finally{je=u,Kp.transition=f}}function M0(){return rr().memoizedState}function O2(s,a,u){var f=Es(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},V0(s))F0(a,u);else if(u=p0(s,a,u,f),u!==null){var m=gn();Ar(u,s,f,m),j0(u,a,f)}}function D2(s,a,u){var f=Es(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(V0(s))F0(a,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var C=a.lastRenderedState,D=v(C,u);if(m.hasEagerState=!0,m.eagerState=D,Ir(D,C)){var j=a.interleaved;j===null?(m.next=m,$p(a)):(m.next=j.next,j.next=m),a.interleaved=m;return}}catch{}finally{}u=p0(s,a,m,f),u!==null&&(m=gn(),Ar(u,s,f,m),j0(u,a,f))}}function V0(s){var a=s.alternate;return s===yt||a!==null&&a===yt}function F0(s,a){gu=Od=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function j0(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,os(s,u)}}var Md={readContext:nr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},L2={readContext:nr,useCallback:function(s,a){return Gr().memoizedState=[s,a===void 0?null:a],s},useContext:nr,useEffect:A0,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Dd(4194308,4,b0.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Dd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Dd(4,2,s,a)},useMemo:function(s,a){var u=Gr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=Gr();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=O2.bind(null,yt,s),[f.memoizedState,s]},useRef:function(s){var a=Gr();return s={current:s},a.memoizedState=s},useState:R0,useDebugValue:em,useDeferredValue:function(s){return Gr().memoizedState=s},useTransition:function(){var s=R0(!1),a=s[0];return s=N2.bind(null,s[1]),Gr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=yt,m=Gr();if(ft){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),jt===null)throw Error(t(349));(ko&30)!==0||E0(f,a,u)}m.memoizedState=u;var v={value:u,getSnapshot:a};return m.queue=v,A0(I0.bind(null,f,v,s),[s]),f.flags|=2048,_u(9,T0.bind(null,f,v,u,a),void 0,null),u},useId:function(){var s=Gr(),a=jt.identifierPrefix;if(ft){var u=Ti,f=Ei;u=(f&~(1<<32-fn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=yu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=b2++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},M2={readContext:nr,useCallback:O0,useContext:nr,useEffect:Zp,useImperativeHandle:N0,useInsertionEffect:P0,useLayoutEffect:k0,useMemo:D0,useReducer:Xp,useRef:x0,useState:function(){return Xp(vu)},useDebugValue:em,useDeferredValue:function(s){var a=rr();return L0(a,Nt.memoizedState,s)},useTransition:function(){var s=Xp(vu)[0],a=rr().memoizedState;return[s,a]},useMutableSource:_0,useSyncExternalStore:w0,useId:M0,unstable_isNewReconciler:!1},V2={readContext:nr,useCallback:O0,useContext:nr,useEffect:Zp,useImperativeHandle:N0,useInsertionEffect:P0,useLayoutEffect:k0,useMemo:D0,useReducer:Jp,useRef:x0,useState:function(){return Jp(vu)},useDebugValue:em,useDeferredValue:function(s){var a=rr();return Nt===null?a.memoizedState=s:L0(a,Nt.memoizedState,s)},useTransition:function(){var s=Jp(vu)[0],a=rr().memoizedState;return[s,a]},useMutableSource:_0,useSyncExternalStore:w0,useId:M0,unstable_isNewReconciler:!1};function Sr(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function tm(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:se({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Vd={isMounted:function(s){return(s=s._reactInternals)?gr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=gn(),m=Es(s),v=Ci(f,m);v.payload=a,u!=null&&(v.callback=u),a=ys(s,v,m),a!==null&&(Ar(a,s,m,f),Pd(a,s,m))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=gn(),m=Es(s),v=Ci(f,m);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=ys(s,v,m),a!==null&&(Ar(a,s,m,f),Pd(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=gn(),f=Es(s),m=Ci(u,f);m.tag=2,a!=null&&(m.callback=a),a=ys(s,m,f),a!==null&&(Ar(a,s,f,u),Pd(a,s,f))}};function U0(s,a,u,f,m,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,C):a.prototype&&a.prototype.isPureReactComponent?!su(u,f)||!su(m,v):!0}function $0(s,a,u){var f=!1,m=ps,v=a.contextType;return typeof v=="object"&&v!==null?v=nr(v):(m=Cn(a)?So:Zt.current,f=a.contextTypes,v=(f=f!=null)?Oa(s,m):ps),a=new a(u,v),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),a}function B0(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Vd.enqueueReplaceState(a,a.state,null)}function nm(s,a,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Bp(s);var v=a.contextType;typeof v=="object"&&v!==null?m.context=nr(v):(v=Cn(a)?So:Zt.current,m.context=Oa(s,v)),m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(tm(s,a,v,u),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Vd.enqueueReplaceState(m,m.state,null),kd(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function $a(s,a){try{var u="",f=a;do u+=Ae(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:a,stack:m,digest:null}}function rm(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function im(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var F2=typeof WeakMap=="function"?WeakMap:Map;function z0(s,a,u){u=Ci(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Wd||(Wd=!0,_m=f),im(s,a)},u}function W0(s,a,u){u=Ci(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;u.payload=function(){return f(m)},u.callback=function(){im(s,a)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){im(s,a),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),u}function H0(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new F2;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(u)||(m.add(u),s=J2.bind(null,s,a,u),a.then(s,s))}function q0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function K0(s,a,u,f,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ci(-1,1),a.tag=2,ys(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var j2=q.ReactCurrentOwner,Sn=!1;function mn(s,a,u,f){a.child=s===null?f0(a,null,u,f):Va(a,s.child,u,f)}function G0(s,a,u,f,m){u=u.render;var v=a.ref;return ja(a,m),f=Qp(s,a,u,f,v,m),u=Yp(),s!==null&&!Sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,Si(s,a,m)):(ft&&u&&Np(a),a.flags|=1,mn(s,a,f,m),a.child)}function Q0(s,a,u,f,m){if(s===null){var v=u.type;return typeof v=="function"&&!Rm(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=v,Y0(s,a,v,f,m)):(s=Yd(u.type,null,f,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,(s.lanes&m)===0){var C=v.memoizedProps;if(u=u.compare,u=u!==null?u:su,u(C,f)&&s.ref===a.ref)return Si(s,a,m)}return a.flags|=1,s=Is(v,f),s.ref=a.ref,s.return=a,a.child=s}function Y0(s,a,u,f,m){if(s!==null){var v=s.memoizedProps;if(su(v,f)&&s.ref===a.ref)if(Sn=!1,a.pendingProps=f=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Sn=!0);else return a.lanes=s.lanes,Si(s,a,m)}return sm(s,a,u,f,m)}function X0(s,a,u){var f=a.pendingProps,m=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(za,Bn),Bn|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,it(za,Bn),Bn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,it(za,Bn),Bn|=f}else v!==null?(f=v.baseLanes|u,a.memoizedState=null):f=u,it(za,Bn),Bn|=f;return mn(s,a,m,u),a.child}function J0(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function sm(s,a,u,f,m){var v=Cn(u)?So:Zt.current;return v=Oa(a,v),ja(a,m),u=Qp(s,a,u,f,v,m),f=Yp(),s!==null&&!Sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,Si(s,a,m)):(ft&&f&&Np(a),a.flags|=1,mn(s,a,u,m),a.child)}function Z0(s,a,u,f,m){if(Cn(u)){var v=!0;Ed(a)}else v=!1;if(ja(a,m),a.stateNode===null)jd(s,a),$0(a,u,f),nm(a,u,f,m),f=!0;else if(s===null){var C=a.stateNode,D=a.memoizedProps;C.props=D;var j=C.context,G=u.contextType;typeof G=="object"&&G!==null?G=nr(G):(G=Cn(u)?So:Zt.current,G=Oa(a,G));var te=u.getDerivedStateFromProps,re=typeof te=="function"||typeof C.getSnapshotBeforeUpdate=="function";re||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==f||j!==G)&&B0(a,C,f,G),gs=!1;var ee=a.memoizedState;C.state=ee,kd(a,f,C,m),j=a.memoizedState,D!==f||ee!==j||In.current||gs?(typeof te=="function"&&(tm(a,u,te,f),j=a.memoizedState),(D=gs||U0(a,u,D,f,ee,j,G))?(re||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=j),C.props=f,C.state=j,C.context=G,f=D):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{C=a.stateNode,m0(s,a),D=a.memoizedProps,G=a.type===a.elementType?D:Sr(a.type,D),C.props=G,re=a.pendingProps,ee=C.context,j=u.contextType,typeof j=="object"&&j!==null?j=nr(j):(j=Cn(u)?So:Zt.current,j=Oa(a,j));var de=u.getDerivedStateFromProps;(te=typeof de=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==re||ee!==j)&&B0(a,C,f,j),gs=!1,ee=a.memoizedState,C.state=ee,kd(a,f,C,m);var me=a.memoizedState;D!==re||ee!==me||In.current||gs?(typeof de=="function"&&(tm(a,u,de,f),me=a.memoizedState),(G=gs||U0(a,u,G,f,ee,me,j)||!1)?(te||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,me,j),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,me,j)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=me),C.props=f,C.state=me,C.context=j,f=G):(typeof C.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),f=!1)}return om(s,a,u,f,v,m)}function om(s,a,u,f,m,v){J0(s,a);var C=(a.flags&128)!==0;if(!f&&!C)return m&&i0(a,u,!1),Si(s,a,v);f=a.stateNode,j2.current=a;var D=C&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&C?(a.child=Va(a,s.child,null,v),a.child=Va(a,null,D,v)):mn(s,a,D,v),a.memoizedState=f.state,m&&i0(a,u,!0),a.child}function ew(s){var a=s.stateNode;a.pendingContext?n0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&n0(s,a.context,!1),zp(s,a.containerInfo)}function tw(s,a,u,f,m){return Ma(),Mp(m),a.flags|=256,mn(s,a,u,f),a.child}var am={dehydrated:null,treeContext:null,retryLane:0};function lm(s){return{baseLanes:s,cachePool:null,transitions:null}}function nw(s,a,u){var f=a.pendingProps,m=gt.current,v=!1,C=(a.flags&128)!==0,D;if((D=C)||(D=s!==null&&s.memoizedState===null?!1:(m&2)!==0),D?(v=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),it(gt,m&1),s===null)return Lp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=f.children,s=f.fallback,v?(f=a.mode,v=a.child,C={mode:"hidden",children:C},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=C):v=Xd(C,f,0,null),s=Lo(s,f,u,null),v.return=a,s.return=a,v.sibling=s,a.child=v,a.child.memoizedState=lm(u),a.memoizedState=am,s):um(a,C));if(m=s.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return U2(s,a,C,f,D,m,u);if(v){v=f.fallback,C=a.mode,m=s.child,D=m.sibling;var j={mode:"hidden",children:f.children};return(C&1)===0&&a.child!==m?(f=a.child,f.childLanes=0,f.pendingProps=j,a.deletions=null):(f=Is(m,j),f.subtreeFlags=m.subtreeFlags&14680064),D!==null?v=Is(D,v):(v=Lo(v,C,u,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,C=s.child.memoizedState,C=C===null?lm(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},v.memoizedState=C,v.childLanes=s.childLanes&~u,a.memoizedState=am,f}return v=s.child,s=v.sibling,f=Is(v,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function um(s,a){return a=Xd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Fd(s,a,u,f){return f!==null&&Mp(f),Va(a,s.child,null,u),s=um(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function U2(s,a,u,f,m,v,C){if(u)return a.flags&256?(a.flags&=-257,f=rm(Error(t(422))),Fd(s,a,C,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(v=f.fallback,m=a.mode,f=Xd({mode:"visible",children:f.children},m,0,null),v=Lo(v,m,C,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,(a.mode&1)!==0&&Va(a,s.child,null,C),a.child.memoizedState=lm(C),a.memoizedState=am,v);if((a.mode&1)===0)return Fd(s,a,C,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var D=f.dgst;return f=D,v=Error(t(419)),f=rm(v,f,void 0),Fd(s,a,C,f)}if(D=(C&s.childLanes)!==0,Sn||D){if(f=jt,f!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|C))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Ii(s,m),Ar(f,s,m,-1))}return Sm(),f=rm(Error(t(421))),Fd(s,a,C,f)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=Z2.bind(null,s),m._reactRetry=a,null):(s=v.treeContext,$n=hs(m.nextSibling),Un=a,ft=!0,Cr=null,s!==null&&(er[tr++]=Ei,er[tr++]=Ti,er[tr++]=Ro,Ei=s.id,Ti=s.overflow,Ro=a),a=um(a,f.children),a.flags|=4096,a)}function rw(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Up(s.return,a,u)}function cm(s,a,u,f,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function iw(s,a,u){var f=a.pendingProps,m=f.revealOrder,v=f.tail;if(mn(s,a,f.children,u),f=gt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rw(s,u,a);else if(s.tag===19)rw(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(it(gt,f),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(u=a.child,m=null;u!==null;)s=u.alternate,s!==null&&bd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),cm(a,!1,m,u,v);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&bd(s)===null){a.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}cm(a,!0,u,null,v);break;case"together":cm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function jd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Si(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),bo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Is(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Is(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function $2(s,a,u){switch(a.tag){case 3:ew(a),Ma();break;case 5:v0(a);break;case 1:Cn(a.type)&&Ed(a);break;case 4:zp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,m=a.memoizedProps.value;it(xd,f._currentValue),f._currentValue=m;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(it(gt,gt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?nw(s,a,u):(it(gt,gt.current&1),s=Si(s,a,u),s!==null?s.sibling:null);it(gt,gt.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return iw(s,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(gt,gt.current),f)break;return null;case 22:case 23:return a.lanes=0,X0(s,a,u)}return Si(s,a,u)}var sw,dm,ow,aw;sw=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},dm=function(){},ow=function(s,a,u,f){var m=s.memoizedProps;if(m!==f){s=a.stateNode,Po(Kr.current);var v=null;switch(u){case"input":m=di(s,m),f=di(s,f),v=[];break;case"select":m=se({},m,{value:void 0}),f=se({},f,{value:void 0}),v=[];break;case"textarea":m=Zi(s,m),f=Zi(s,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=vd)}Ul(u,f);var C;u=null;for(G in m)if(!f.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var D=m[G];for(C in D)D.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in f){var j=f[G];if(D=m!=null?m[G]:void 0,f.hasOwnProperty(G)&&j!==D&&(j!=null||D!=null))if(G==="style")if(D){for(C in D)!D.hasOwnProperty(C)||j&&j.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in j)j.hasOwnProperty(C)&&D[C]!==j[C]&&(u||(u={}),u[C]=j[C])}else u||(v||(v=[]),v.push(G,u)),u=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,D=D?D.__html:void 0,j!=null&&D!==j&&(v=v||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&st("scroll",s),v||D===j||(v=[])):(v=v||[]).push(G,j))}u&&(v=v||[]).push("style",u);var G=v;(a.updateQueue=G)&&(a.flags|=4)}},aw=function(s,a,u,f){u!==f&&(a.flags|=4)};function wu(s,a){if(!ft)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function tn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function B2(s,a,u){var f=a.pendingProps;switch(Op(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(a),null;case 1:return Cn(a.type)&&wd(),tn(a),null;case 3:return f=a.stateNode,Ua(),ot(In),ot(Zt),qp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Sd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cr!==null&&(Tm(Cr),Cr=null))),dm(s,a),tn(a),null;case 5:Wp(a);var m=Po(mu.current);if(u=a.type,s!==null&&a.stateNode!=null)ow(s,a,u,f,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return tn(a),null}if(s=Po(Kr.current),Sd(a)){f=a.stateNode,u=a.type;var v=a.memoizedProps;switch(f[qr]=a,f[cu]=v,s=(a.mode&1)!==0,u){case"dialog":st("cancel",f),st("close",f);break;case"iframe":case"object":case"embed":st("load",f);break;case"video":case"audio":for(m=0;m<au.length;m++)st(au[m],f);break;case"source":st("error",f);break;case"img":case"image":case"link":st("error",f),st("load",f);break;case"details":st("toggle",f);break;case"input":Qi(f,v),st("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},st("invalid",f);break;case"textarea":hi(f,v),st("invalid",f)}Ul(u,v),m=null;for(var C in v)if(v.hasOwnProperty(C)){var D=v[C];C==="children"?typeof D=="string"?f.textContent!==D&&(v.suppressHydrationWarning!==!0&&yd(f.textContent,D,s),m=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(v.suppressHydrationWarning!==!0&&yd(f.textContent,D,s),m=["children",""+D]):i.hasOwnProperty(C)&&D!=null&&C==="onScroll"&&st("scroll",f)}switch(u){case"input":Ln(f),ia(f,v,!0);break;case"textarea":Ln(f),es(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=vd)}f=m,a.updateQueue=f,f!==null&&(a.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=vt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(u,{is:f.is}):(s=C.createElement(u),u==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,u),s[qr]=a,s[cu]=f,sw(s,a,!1,!1),a.stateNode=s;e:{switch(C=$l(u,f),u){case"dialog":st("cancel",s),st("close",s),m=f;break;case"iframe":case"object":case"embed":st("load",s),m=f;break;case"video":case"audio":for(m=0;m<au.length;m++)st(au[m],s);m=f;break;case"source":st("error",s),m=f;break;case"img":case"image":case"link":st("error",s),st("load",s),m=f;break;case"details":st("toggle",s),m=f;break;case"input":Qi(s,f),m=di(s,f),st("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=se({},f,{value:void 0}),st("invalid",s);break;case"textarea":hi(s,f),m=Zi(s,f),st("invalid",s);break;default:m=f}Ul(u,m),D=m;for(v in D)if(D.hasOwnProperty(v)){var j=D[v];v==="style"?Fl(s,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ml(s,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&ts(s,j):typeof j=="number"&&ts(s,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?j!=null&&v==="onScroll"&&st("scroll",s):j!=null&&B(s,v,j,C))}switch(u){case"input":Ln(s),ia(s,f,!1);break;case"textarea":Ln(s),es(s);break;case"option":f.value!=null&&s.setAttribute("value",""+De(f.value));break;case"select":s.multiple=!!f.multiple,v=f.value,v!=null?wn(s,!!f.multiple,v,!1):f.defaultValue!=null&&wn(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=vd)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return tn(a),null;case 6:if(s&&a.stateNode!=null)aw(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(u=Po(mu.current),Po(Kr.current),Sd(a)){if(f=a.stateNode,u=a.memoizedProps,f[qr]=a,(v=f.nodeValue!==u)&&(s=Un,s!==null))switch(s.tag){case 3:yd(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&yd(f.nodeValue,u,(s.mode&1)!==0)}v&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[qr]=a,a.stateNode=f}return tn(a),null;case 13:if(ot(gt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ft&&$n!==null&&(a.mode&1)!==0&&(a.flags&128)===0)c0(),Ma(),a.flags|=98560,v=!1;else if(v=Sd(a),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[qr]=a}else Ma(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),v=!1}else Cr!==null&&(Tm(Cr),Cr=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(gt.current&1)!==0?Ot===0&&(Ot=3):Sm())),a.updateQueue!==null&&(a.flags|=4),tn(a),null);case 4:return Ua(),dm(s,a),s===null&&lu(a.stateNode.containerInfo),tn(a),null;case 10:return jp(a.type._context),tn(a),null;case 17:return Cn(a.type)&&wd(),tn(a),null;case 19:if(ot(gt),v=a.memoizedState,v===null)return tn(a),null;if(f=(a.flags&128)!==0,C=v.rendering,C===null)if(f)wu(v,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=bd(s),C!==null){for(a.flags|=128,wu(v,!1),f=C.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)v=u,s=f,v.flags&=14680066,C=v.alternate,C===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,s=C.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return it(gt,gt.current&1|2),a.child}s=s.sibling}v.tail!==null&&rt()>Wa&&(a.flags|=128,f=!0,wu(v,!1),a.lanes=4194304)}else{if(!f)if(s=bd(C),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),wu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!ft)return tn(a),null}else 2*rt()-v.renderingStartTime>Wa&&u!==1073741824&&(a.flags|=128,f=!0,wu(v,!1),a.lanes=4194304);v.isBackwards?(C.sibling=a.child,a.child=C):(u=v.last,u!==null?u.sibling=C:a.child=C,v.last=C)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=rt(),a.sibling=null,u=gt.current,it(gt,f?u&1|2:u&1),a):(tn(a),null);case 22:case 23:return Cm(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Bn&1073741824)!==0&&(tn(a),a.subtreeFlags&6&&(a.flags|=8192)):tn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function z2(s,a){switch(Op(a),a.tag){case 1:return Cn(a.type)&&wd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ua(),ot(In),ot(Zt),qp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Wp(a),null;case 13:if(ot(gt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ma()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ot(gt),null;case 4:return Ua(),null;case 10:return jp(a.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var Ud=!1,nn=!1,W2=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ba(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){wt(s,a,f)}else u.current=null}function hm(s,a,u){try{u()}catch(f){wt(s,a,f)}}var lw=!1;function H2(s,a){if(Cp=us,s=U_(),gp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var C=0,D=-1,j=-1,G=0,te=0,re=s,ee=null;t:for(;;){for(var de;re!==u||m!==0&&re.nodeType!==3||(D=C+m),re!==v||f!==0&&re.nodeType!==3||(j=C+f),re.nodeType===3&&(C+=re.nodeValue.length),(de=re.firstChild)!==null;)ee=re,re=de;for(;;){if(re===s)break t;if(ee===u&&++G===m&&(D=C),ee===v&&++te===f&&(j=C),(de=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=de}u=D===-1||j===-1?null:{start:D,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Sp={focusedElem:s,selectionRange:u},us=!1,pe=a;pe!==null;)if(a=pe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,pe=s;else for(;pe!==null;){a=pe;try{var me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,Ct=me.memoizedState,H=a.stateNode,U=H.getSnapshotBeforeUpdate(a.elementType===a.type?ge:Sr(a.type,ge),Ct);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){wt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,pe=s;break}pe=a.return}return me=lw,lw=!1,me}function Eu(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&hm(a,u,v)}m=m.next}while(m!==f)}}function $d(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function fm(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function uw(s){var a=s.alternate;a!==null&&(s.alternate=null,uw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[qr],delete a[cu],delete a[Pp],delete a[x2],delete a[A2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function cw(s){return s.tag===5||s.tag===3||s.tag===4}function dw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=vd));else if(f!==4&&(s=s.child,s!==null))for(pm(s,a,u),s=s.sibling;s!==null;)pm(s,a,u),s=s.sibling}function mm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(mm(s,a,u),s=s.sibling;s!==null;)mm(s,a,u),s=s.sibling}var Gt=null,Rr=!1;function vs(s,a,u){for(u=u.child;u!==null;)hw(s,a,u),u=u.sibling}function hw(s,a,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(yo,u)}catch{}switch(u.tag){case 5:nn||Ba(u,a);case 6:var f=Gt,m=Rr;Gt=null,vs(s,a,u),Gt=f,Rr=m,Gt!==null&&(Rr?(s=Gt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Gt.removeChild(u.stateNode));break;case 18:Gt!==null&&(Rr?(s=Gt,u=u.stateNode,s.nodeType===8?Ap(s.parentNode,u):s.nodeType===1&&Ap(s,u),Er(s)):Ap(Gt,u.stateNode));break;case 4:f=Gt,m=Rr,Gt=u.stateNode.containerInfo,Rr=!0,vs(s,a,u),Gt=f,Rr=m;break;case 0:case 11:case 14:case 15:if(!nn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,C=v.destroy;v=v.tag,C!==void 0&&((v&2)!==0||(v&4)!==0)&&hm(u,a,C),m=m.next}while(m!==f)}vs(s,a,u);break;case 1:if(!nn&&(Ba(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(D){wt(u,a,D)}vs(s,a,u);break;case 21:vs(s,a,u);break;case 22:u.mode&1?(nn=(f=nn)||u.memoizedState!==null,vs(s,a,u),nn=f):vs(s,a,u);break;default:vs(s,a,u)}}function fw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new W2),a.forEach(function(f){var m=eP.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function xr(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=s,C=a,D=C;e:for(;D!==null;){switch(D.tag){case 5:Gt=D.stateNode,Rr=!1;break e;case 3:Gt=D.stateNode.containerInfo,Rr=!0;break e;case 4:Gt=D.stateNode.containerInfo,Rr=!0;break e}D=D.return}if(Gt===null)throw Error(t(160));hw(v,C,m),Gt=null,Rr=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(G){wt(m,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)pw(a,s),a=a.sibling}function pw(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(xr(a,s),Qr(s),f&4){try{Eu(3,s,s.return),$d(3,s)}catch(ge){wt(s,s.return,ge)}try{Eu(5,s,s.return)}catch(ge){wt(s,s.return,ge)}}break;case 1:xr(a,s),Qr(s),f&512&&u!==null&&Ba(u,u.return);break;case 5:if(xr(a,s),Qr(s),f&512&&u!==null&&Ba(u,u.return),s.flags&32){var m=s.stateNode;try{ts(m,"")}catch(ge){wt(s,s.return,ge)}}if(f&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,C=u!==null?u.memoizedProps:v,D=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{D==="input"&&v.type==="radio"&&v.name!=null&&Yi(m,v),$l(D,C);var G=$l(D,v);for(C=0;C<j.length;C+=2){var te=j[C],re=j[C+1];te==="style"?Fl(m,re):te==="dangerouslySetInnerHTML"?Ml(m,re):te==="children"?ts(m,re):B(m,te,re,G)}switch(D){case"input":Xi(m,v);break;case"textarea":Fr(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?wn(m,!!v.multiple,de,!1):ee!==!!v.multiple&&(v.defaultValue!=null?wn(m,!!v.multiple,v.defaultValue,!0):wn(m,!!v.multiple,v.multiple?[]:"",!1))}m[cu]=v}catch(ge){wt(s,s.return,ge)}}break;case 6:if(xr(a,s),Qr(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(ge){wt(s,s.return,ge)}}break;case 3:if(xr(a,s),Qr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Er(a.containerInfo)}catch(ge){wt(s,s.return,ge)}break;case 4:xr(a,s),Qr(s);break;case 13:xr(a,s),Qr(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(vm=rt())),f&4&&fw(s);break;case 22:if(te=u!==null&&u.memoizedState!==null,s.mode&1?(nn=(G=nn)||te,xr(a,s),nn=G):xr(a,s),Qr(s),f&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!te&&(s.mode&1)!==0)for(pe=s,te=s.child;te!==null;){for(re=pe=te;pe!==null;){switch(ee=pe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:Eu(4,ee,ee.return);break;case 1:Ba(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){f=ee,u=ee.return;try{a=f,me.props=a.memoizedProps,me.state=a.memoizedState,me.componentWillUnmount()}catch(ge){wt(f,u,ge)}}break;case 5:Ba(ee,ee.return);break;case 22:if(ee.memoizedState!==null){yw(re);continue}}de!==null?(de.return=ee,pe=de):yw(re)}te=te.sibling}e:for(te=null,re=s;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,G?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(D=re.stateNode,j=re.memoizedProps.style,C=j!=null&&j.hasOwnProperty("display")?j.display:null,D.style.display=Vl("display",C))}catch(ge){wt(s,s.return,ge)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(ge){wt(s,s.return,ge)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:xr(a,s),Qr(s),f&4&&fw(s);break;case 21:break;default:xr(a,s),Qr(s)}}function Qr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(cw(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ts(m,""),f.flags&=-33);var v=dw(s);mm(s,v,m);break;case 3:case 4:var C=f.stateNode.containerInfo,D=dw(s);pm(s,D,C);break;default:throw Error(t(161))}}catch(j){wt(s,s.return,j)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function q2(s,a,u){pe=s,mw(s)}function mw(s,a,u){for(var f=(s.mode&1)!==0;pe!==null;){var m=pe,v=m.child;if(m.tag===22&&f){var C=m.memoizedState!==null||Ud;if(!C){var D=m.alternate,j=D!==null&&D.memoizedState!==null||nn;D=Ud;var G=nn;if(Ud=C,(nn=j)&&!G)for(pe=m;pe!==null;)C=pe,j=C.child,C.tag===22&&C.memoizedState!==null?vw(m):j!==null?(j.return=C,pe=j):vw(m);for(;v!==null;)pe=v,mw(v),v=v.sibling;pe=m,Ud=D,nn=G}gw(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,pe=v):gw(s)}}function gw(s){for(;pe!==null;){var a=pe;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:nn||$d(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!nn)if(u===null)f.componentDidMount();else{var m=a.elementType===a.type?u.memoizedProps:Sr(a.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&y0(a,v,f);break;case 3:var C=a.updateQueue;if(C!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}y0(a,C,u)}break;case 5:var D=a.stateNode;if(u===null&&a.flags&4){u=D;var j=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Er(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||a.flags&512&&fm(a)}catch(ee){wt(a,a.return,ee)}}if(a===s){pe=null;break}if(u=a.sibling,u!==null){u.return=a.return,pe=u;break}pe=a.return}}function yw(s){for(;pe!==null;){var a=pe;if(a===s){pe=null;break}var u=a.sibling;if(u!==null){u.return=a.return,pe=u;break}pe=a.return}}function vw(s){for(;pe!==null;){var a=pe;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{$d(4,a)}catch(j){wt(a,u,j)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var m=a.return;try{f.componentDidMount()}catch(j){wt(a,m,j)}}var v=a.return;try{fm(a)}catch(j){wt(a,v,j)}break;case 5:var C=a.return;try{fm(a)}catch(j){wt(a,C,j)}}}catch(j){wt(a,a.return,j)}if(a===s){pe=null;break}var D=a.sibling;if(D!==null){D.return=a.return,pe=D;break}pe=a.return}}var K2=Math.ceil,Bd=q.ReactCurrentDispatcher,gm=q.ReactCurrentOwner,ir=q.ReactCurrentBatchConfig,Ke=0,jt=null,At=null,Qt=0,Bn=0,za=fs(0),Ot=0,Tu=null,bo=0,zd=0,ym=0,Iu=null,Rn=null,vm=0,Wa=1/0,Ri=null,Wd=!1,_m=null,_s=null,Hd=!1,ws=null,qd=0,Cu=0,wm=null,Kd=-1,Gd=0;function gn(){return(Ke&6)!==0?rt():Kd!==-1?Kd:Kd=rt()}function Es(s){return(s.mode&1)===0?1:(Ke&2)!==0&&Qt!==0?Qt&-Qt:k2.transition!==null?(Gd===0&&(Gd=_o()),Gd):(s=je,s!==0||(s=window.event,s=s===void 0?16:Jl(s.type)),s)}function Ar(s,a,u,f){if(50<Cu)throw Cu=0,wm=null,Error(t(185));ss(s,u,f),((Ke&2)===0||s!==jt)&&(s===jt&&((Ke&2)===0&&(zd|=u),Ot===4&&Ts(s,Qt)),xn(s,f),u===1&&Ke===0&&(a.mode&1)===0&&(Wa=rt()+500,Td&&ms()))}function xn(s,a){var u=s.callbackNode;pi(s,a);var f=vo(s,s===jt?Qt:0);if(f===0)u!==null&&Kl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Kl(u),a===1)s.tag===0?P2(ww.bind(null,s)):s0(ww.bind(null,s)),S2(function(){(Ke&6)===0&&ms()}),u=null;else{switch(as(f)){case 1:u=go;break;case 4:u=ns;break;case 16:u=Xn;break;case 536870912:u=Gc;break;default:u=Xn}u=Aw(u,_w.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function _w(s,a){if(Kd=-1,Gd=0,(Ke&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Ha()&&s.callbackNode!==u)return null;var f=vo(s,s===jt?Qt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Qd(s,f);else{a=f;var m=Ke;Ke|=2;var v=Tw();(jt!==s||Qt!==a)&&(Ri=null,Wa=rt()+500,Oo(s,a));do try{Y2();break}catch(D){Ew(s,D)}while(!0);Fp(),Bd.current=v,Ke=m,At!==null?a=0:(jt=null,Qt=0,a=Ot)}if(a!==0){if(a===2&&(m=Vn(s),m!==0&&(f=m,a=Em(s,m))),a===1)throw u=Tu,Oo(s,0),Ts(s,f),xn(s,rt()),u;if(a===6)Ts(s,f);else{if(m=s.current.alternate,(f&30)===0&&!G2(m)&&(a=Qd(s,f),a===2&&(v=Vn(s),v!==0&&(f=v,a=Em(s,v))),a===1))throw u=Tu,Oo(s,0),Ts(s,f),xn(s,rt()),u;switch(s.finishedWork=m,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Do(s,Rn,Ri);break;case 3:if(Ts(s,f),(f&130023424)===f&&(a=vm+500-rt(),10<a)){if(vo(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){gn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=xp(Do.bind(null,s,Rn,Ri),a);break}Do(s,Rn,Ri);break;case 4:if(Ts(s,f),(f&4194240)===f)break;for(a=s.eventTimes,m=-1;0<f;){var C=31-fn(f);v=1<<C,C=a[C],C>m&&(m=C),f&=~v}if(f=m,f=rt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*K2(f/1960))-f,10<f){s.timeoutHandle=xp(Do.bind(null,s,Rn,Ri),f);break}Do(s,Rn,Ri);break;case 5:Do(s,Rn,Ri);break;default:throw Error(t(329))}}}return xn(s,rt()),s.callbackNode===u?_w.bind(null,s):null}function Em(s,a){var u=Iu;return s.current.memoizedState.isDehydrated&&(Oo(s,a).flags|=256),s=Qd(s,a),s!==2&&(a=Rn,Rn=u,a!==null&&Tm(a)),s}function Tm(s){Rn===null?Rn=s:Rn.push.apply(Rn,s)}function G2(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Ir(v(),m))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ts(s,a){for(a&=~ym,a&=~zd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-fn(a),f=1<<u;s[u]=-1,a&=~f}}function ww(s){if((Ke&6)!==0)throw Error(t(327));Ha();var a=vo(s,0);if((a&1)===0)return xn(s,rt()),null;var u=Qd(s,a);if(s.tag!==0&&u===2){var f=Vn(s);f!==0&&(a=f,u=Em(s,f))}if(u===1)throw u=Tu,Oo(s,0),Ts(s,a),xn(s,rt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Do(s,Rn,Ri),xn(s,rt()),null}function Im(s,a){var u=Ke;Ke|=1;try{return s(a)}finally{Ke=u,Ke===0&&(Wa=rt()+500,Td&&ms())}}function No(s){ws!==null&&ws.tag===0&&(Ke&6)===0&&Ha();var a=Ke;Ke|=1;var u=ir.transition,f=je;try{if(ir.transition=null,je=1,s)return s()}finally{je=f,ir.transition=u,Ke=a,(Ke&6)===0&&ms()}}function Cm(){Bn=za.current,ot(za)}function Oo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,C2(u)),At!==null)for(u=At.return;u!==null;){var f=u;switch(Op(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&wd();break;case 3:Ua(),ot(In),ot(Zt),qp();break;case 5:Wp(f);break;case 4:Ua();break;case 13:ot(gt);break;case 19:ot(gt);break;case 10:jp(f.type._context);break;case 22:case 23:Cm()}u=u.return}if(jt=s,At=s=Is(s.current,null),Qt=Bn=a,Ot=0,Tu=null,ym=zd=bo=0,Rn=Iu=null,Ao!==null){for(a=0;a<Ao.length;a++)if(u=Ao[a],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var C=v.next;v.next=m,f.next=C}u.pending=f}Ao=null}return s}function Ew(s,a){do{var u=At;try{if(Fp(),Nd.current=Md,Od){for(var f=yt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Od=!1}if(ko=0,Ft=Nt=yt=null,gu=!1,yu=0,gm.current=null,u===null||u.return===null){Ot=1,Tu=a,At=null;break}e:{var v=s,C=u.return,D=u,j=a;if(a=Qt,D.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,te=D,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=q0(C);if(de!==null){de.flags&=-257,K0(de,C,D,v,a),de.mode&1&&H0(v,G,a),a=de,j=G;var me=a.updateQueue;if(me===null){var ge=new Set;ge.add(j),a.updateQueue=ge}else me.add(j);break e}else{if((a&1)===0){H0(v,G,a),Sm();break e}j=Error(t(426))}}else if(ft&&D.mode&1){var Ct=q0(C);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),K0(Ct,C,D,v,a),Mp($a(j,D));break e}}v=j=$a(j,D),Ot!==4&&(Ot=2),Iu===null?Iu=[v]:Iu.push(v),v=C;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var H=z0(v,j,a);g0(v,H);break e;case 1:D=j;var U=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_s===null||!_s.has(K)))){v.flags|=65536,a&=-a,v.lanes|=a;var oe=W0(v,D,a);g0(v,oe);break e}}v=v.return}while(v!==null)}Cw(u)}catch(ye){a=ye,At===u&&u!==null&&(At=u=u.return);continue}break}while(!0)}function Tw(){var s=Bd.current;return Bd.current=Md,s===null?Md:s}function Sm(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),jt===null||(bo&268435455)===0&&(zd&268435455)===0||Ts(jt,Qt)}function Qd(s,a){var u=Ke;Ke|=2;var f=Tw();(jt!==s||Qt!==a)&&(Ri=null,Oo(s,a));do try{Q2();break}catch(m){Ew(s,m)}while(!0);if(Fp(),Ke=u,Bd.current=f,At!==null)throw Error(t(261));return jt=null,Qt=0,Ot}function Q2(){for(;At!==null;)Iw(At)}function Y2(){for(;At!==null&&!qc();)Iw(At)}function Iw(s){var a=xw(s.alternate,s,Bn);s.memoizedProps=s.pendingProps,a===null?Cw(s):At=a,gm.current=null}function Cw(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=B2(u,a,Bn),u!==null){At=u;return}}else{if(u=z2(u,a),u!==null){u.flags&=32767,At=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ot=6,At=null;return}}if(a=a.sibling,a!==null){At=a;return}At=a=s}while(a!==null);Ot===0&&(Ot=5)}function Do(s,a,u){var f=je,m=ir.transition;try{ir.transition=null,je=1,X2(s,a,u,f)}finally{ir.transition=m,je=f}return null}function X2(s,a,u,f){do Ha();while(ws!==null);if((Ke&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(nt(s,v),s===jt&&(At=jt=null,Qt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Hd||(Hd=!0,Aw(Xn,function(){return Ha(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=ir.transition,ir.transition=null;var C=je;je=1;var D=Ke;Ke|=4,gm.current=null,H2(s,u),pw(u,s),y2(Sp),us=!!Cp,Sp=Cp=null,s.current=u,q2(u),lp(),Ke=D,je=C,ir.transition=v}else s.current=u;if(Hd&&(Hd=!1,ws=s,qd=m),v=s.pendingLanes,v===0&&(_s=null),Qc(u.stateNode),xn(s,rt()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)m=a[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Wd)throw Wd=!1,s=_m,_m=null,s;return(qd&1)!==0&&s.tag!==0&&Ha(),v=s.pendingLanes,(v&1)!==0?s===wm?Cu++:(Cu=0,wm=s):Cu=0,ms(),null}function Ha(){if(ws!==null){var s=as(qd),a=ir.transition,u=je;try{if(ir.transition=null,je=16>s?16:s,ws===null)var f=!1;else{if(s=ws,ws=null,qd=0,(Ke&6)!==0)throw Error(t(331));var m=Ke;for(Ke|=4,pe=s.current;pe!==null;){var v=pe,C=v.child;if((pe.flags&16)!==0){var D=v.deletions;if(D!==null){for(var j=0;j<D.length;j++){var G=D[j];for(pe=G;pe!==null;){var te=pe;switch(te.tag){case 0:case 11:case 15:Eu(8,te,v)}var re=te.child;if(re!==null)re.return=te,pe=re;else for(;pe!==null;){te=pe;var ee=te.sibling,de=te.return;if(uw(te),te===G){pe=null;break}if(ee!==null){ee.return=de,pe=ee;break}pe=de}}}var me=v.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var Ct=ge.sibling;ge.sibling=null,ge=Ct}while(ge!==null)}}pe=v}}if((v.subtreeFlags&2064)!==0&&C!==null)C.return=v,pe=C;else e:for(;pe!==null;){if(v=pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Eu(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,pe=H;break e}pe=v.return}}var U=s.current;for(pe=U;pe!==null;){C=pe;var K=C.child;if((C.subtreeFlags&2064)!==0&&K!==null)K.return=C,pe=K;else e:for(C=U;pe!==null;){if(D=pe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:$d(9,D)}}catch(ye){wt(D,D.return,ye)}if(D===C){pe=null;break e}var oe=D.sibling;if(oe!==null){oe.return=D.return,pe=oe;break e}pe=D.return}}if(Ke=m,ms(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(yo,s)}catch{}f=!0}return f}finally{je=u,ir.transition=a}}return!1}function Sw(s,a,u){a=$a(u,a),a=z0(s,a,1),s=ys(s,a,1),a=gn(),s!==null&&(ss(s,1,a),xn(s,a))}function wt(s,a,u){if(s.tag===3)Sw(s,s,u);else for(;a!==null;){if(a.tag===3){Sw(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_s===null||!_s.has(f))){s=$a(u,s),s=W0(a,s,1),a=ys(a,s,1),s=gn(),a!==null&&(ss(a,1,s),xn(a,s));break}}a=a.return}}function J2(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=gn(),s.pingedLanes|=s.suspendedLanes&u,jt===s&&(Qt&u)===u&&(Ot===4||Ot===3&&(Qt&130023424)===Qt&&500>rt()-vm?Oo(s,0):ym|=u),xn(s,a)}function Rw(s,a){a===0&&((s.mode&1)===0?a=1:(a=pa,pa<<=1,(pa&130023424)===0&&(pa=4194304)));var u=gn();s=Ii(s,a),s!==null&&(ss(s,a,u),xn(s,u))}function Z2(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Rw(s,u)}function eP(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Rw(s,u)}var xw;xw=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||In.current)Sn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Sn=!1,$2(s,a,u);Sn=(s.flags&131072)!==0}else Sn=!1,ft&&(a.flags&1048576)!==0&&o0(a,Cd,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;jd(s,a),s=a.pendingProps;var m=Oa(a,Zt.current);ja(a,u),m=Qp(null,a,f,s,m,u);var v=Yp();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Cn(f)?(v=!0,Ed(a)):v=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Bp(a),m.updater=Vd,a.stateNode=m,m._reactInternals=a,nm(a,f,s,u),a=om(null,a,f,!0,v,u)):(a.tag=0,ft&&v&&Np(a),mn(null,a,m,u),a=a.child),a;case 16:f=a.elementType;e:{switch(jd(s,a),s=a.pendingProps,m=f._init,f=m(f._payload),a.type=f,m=a.tag=nP(f),s=Sr(f,s),m){case 0:a=sm(null,a,f,s,u);break e;case 1:a=Z0(null,a,f,s,u);break e;case 11:a=G0(null,a,f,s,u);break e;case 14:a=Q0(null,a,f,Sr(f.type,s),u);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Sr(f,m),sm(s,a,f,m,u);case 1:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Sr(f,m),Z0(s,a,f,m,u);case 3:e:{if(ew(a),s===null)throw Error(t(387));f=a.pendingProps,v=a.memoizedState,m=v.element,m0(s,a),kd(a,f,null,u);var C=a.memoizedState;if(f=C.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){m=$a(Error(t(423)),a),a=tw(s,a,f,u,m);break e}else if(f!==m){m=$a(Error(t(424)),a),a=tw(s,a,f,u,m);break e}else for($n=hs(a.stateNode.containerInfo.firstChild),Un=a,ft=!0,Cr=null,u=f0(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ma(),f===m){a=Si(s,a,u);break e}mn(s,a,f,u)}a=a.child}return a;case 5:return v0(a),s===null&&Lp(a),f=a.type,m=a.pendingProps,v=s!==null?s.memoizedProps:null,C=m.children,Rp(f,m)?C=null:v!==null&&Rp(f,v)&&(a.flags|=32),J0(s,a),mn(s,a,C,u),a.child;case 6:return s===null&&Lp(a),null;case 13:return nw(s,a,u);case 4:return zp(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Va(a,null,f,u):mn(s,a,f,u),a.child;case 11:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Sr(f,m),G0(s,a,f,m,u);case 7:return mn(s,a,a.pendingProps,u),a.child;case 8:return mn(s,a,a.pendingProps.children,u),a.child;case 12:return mn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,m=a.pendingProps,v=a.memoizedProps,C=m.value,it(xd,f._currentValue),f._currentValue=C,v!==null)if(Ir(v.value,C)){if(v.children===m.children&&!In.current){a=Si(s,a,u);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var D=v.dependencies;if(D!==null){C=v.child;for(var j=D.firstContext;j!==null;){if(j.context===f){if(v.tag===1){j=Ci(-1,u&-u),j.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?j.next=j:(j.next=te.next,te.next=j),G.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Up(v.return,u,a),D.lanes|=u;break}j=j.next}}else if(v.tag===10)C=v.type===a.type?null:v.child;else if(v.tag===18){if(C=v.return,C===null)throw Error(t(341));C.lanes|=u,D=C.alternate,D!==null&&(D.lanes|=u),Up(C,u,a),C=v.sibling}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===a){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}mn(s,a,m.children,u),a=a.child}return a;case 9:return m=a.type,f=a.pendingProps.children,ja(a,u),m=nr(m),f=f(m),a.flags|=1,mn(s,a,f,u),a.child;case 14:return f=a.type,m=Sr(f,a.pendingProps),m=Sr(f.type,m),Q0(s,a,f,m,u);case 15:return Y0(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Sr(f,m),jd(s,a),a.tag=1,Cn(f)?(s=!0,Ed(a)):s=!1,ja(a,u),$0(a,f,m),nm(a,f,m,u),om(null,a,f,!0,s,u);case 19:return iw(s,a,u);case 22:return X0(s,a,u)}throw Error(t(156,a.tag))};function Aw(s,a){return ha(s,a)}function tP(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(s,a,u,f){return new tP(s,a,u,f)}function Rm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function nP(s){if(typeof s=="function")return Rm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Se)return 14}return 2}function Is(s,a){var u=s.alternate;return u===null?(u=sr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Yd(s,a,u,f,m,v){var C=2;if(f=s,typeof s=="function")Rm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case N:return Lo(u.children,m,v,a);case P:C=8,m|=8;break;case k:return s=sr(12,u,a,m|2),s.elementType=k,s.lanes=v,s;case O:return s=sr(13,u,a,m),s.elementType=O,s.lanes=v,s;case le:return s=sr(19,u,a,m),s.elementType=le,s.lanes=v,s;case Te:return Xd(u,m,v,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:C=10;break e;case M:C=9;break e;case V:C=11;break e;case Se:C=14;break e;case xe:C=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=sr(C,u,a,m),a.elementType=s,a.type=f,a.lanes=v,a}function Lo(s,a,u,f){return s=sr(7,s,f,a),s.lanes=u,s}function Xd(s,a,u,f){return s=sr(22,s,f,a),s.elementType=Te,s.lanes=u,s.stateNode={isHidden:!1},s}function xm(s,a,u){return s=sr(6,s,null,a),s.lanes=u,s}function Am(s,a,u){return a=sr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function rP(s,a,u,f,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=is(0),this.expirationTimes=is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Pm(s,a,u,f,m,v,C,D,j){return s=new rP(s,a,u,D,j),a===1?(a=1,v===!0&&(a|=8)):a=0,v=sr(3,null,null,a),s.current=v,v.stateNode=s,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(v),s}function iP(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function Pw(s){if(!s)return ps;s=s._reactInternals;e:{if(gr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Cn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Cn(u))return r0(s,u,a)}return a}function kw(s,a,u,f,m,v,C,D,j){return s=Pm(u,f,!0,s,m,v,C,D,j),s.context=Pw(null),u=s.current,f=gn(),m=Es(u),v=Ci(f,m),v.callback=a??null,ys(u,v,m),s.current.lanes=m,ss(s,m,f),xn(s,f),s}function Jd(s,a,u,f){var m=a.current,v=gn(),C=Es(m);return u=Pw(u),a.context===null?a.context=u:a.pendingContext=u,a=Ci(v,C),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=ys(m,a,C),s!==null&&(Ar(s,m,C,v),Pd(s,m,C)),C}function Zd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function bw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function km(s,a){bw(s,a),(s=s.alternate)&&bw(s,a)}function sP(){return null}var Nw=typeof reportError=="function"?reportError:function(s){console.error(s)};function bm(s){this._internalRoot=s}eh.prototype.render=bm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Jd(s,a,null,null)},eh.prototype.unmount=bm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;No(function(){Jd(null,s,null,null)}),a[_i]=null}};function eh(s){this._internalRoot=s}eh.prototype.unstable_scheduleHydration=function(s){if(s){var a=ed();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Br.length&&a!==0&&a<Br[u].priority;u++);Br.splice(u,0,s),u===0&&rd(s)}};function Nm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function th(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ow(){}function oP(s,a,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var G=Zd(C);v.call(G)}}var C=kw(a,f,s,0,null,!1,!1,"",Ow);return s._reactRootContainer=C,s[_i]=C.current,lu(s.nodeType===8?s.parentNode:s),No(),C}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var D=f;f=function(){var G=Zd(j);D.call(G)}}var j=Pm(s,0,!1,null,null,!1,!1,"",Ow);return s._reactRootContainer=j,s[_i]=j.current,lu(s.nodeType===8?s.parentNode:s),No(function(){Jd(a,j,u,f)}),j}function nh(s,a,u,f,m){var v=u._reactRootContainer;if(v){var C=v;if(typeof m=="function"){var D=m;m=function(){var j=Zd(C);D.call(j)}}Jd(a,C,s,m)}else C=oP(u,a,s,m,f);return Zd(C)}Jc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=rs(a.pendingLanes);u!==0&&(os(a,u|1),xn(a,rt()),(Ke&6)===0&&(Wa=rt()+500,ms()))}break;case 13:No(function(){var f=Ii(s,1);if(f!==null){var m=gn();Ar(f,s,1,m)}}),km(s,1)}},ma=function(s){if(s.tag===13){var a=Ii(s,134217728);if(a!==null){var u=gn();Ar(a,s,134217728,u)}km(s,134217728)}},Zc=function(s){if(s.tag===13){var a=Es(s),u=Ii(s,a);if(u!==null){var f=gn();Ar(u,s,a,f)}km(s,a)}},ed=function(){return je},td=function(s,a){var u=je;try{return je=s,a()}finally{je=u}},oa=function(s,a,u){switch(a){case"input":if(Xi(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var m=_d(f);if(!m)throw Error(t(90));Gi(f),Xi(f,m)}}}break;case"textarea":Fr(s,u);break;case"select":a=u.value,a!=null&&wn(s,!!u.multiple,a,!1)}},ho=Im,zl=No;var aP={usingClientEntryPoint:!1,Events:[du,ba,_d,Ur,Bl,Im]},Su={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lP={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ql(s),s===null?null:s.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||sP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{yo=rh.inject(lP),Mn=rh}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aP,An.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nm(a))throw Error(t(200));return iP(s,a,null,u)},An.createRoot=function(s,a){if(!Nm(s))throw Error(t(299));var u=!1,f="",m=Nw;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Pm(s,1,!1,null,null,u,!1,f,m),s[_i]=a.current,lu(s.nodeType===8?s.parentNode:s),new bm(a)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=ql(a),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return No(s)},An.hydrate=function(s,a,u){if(!th(a))throw Error(t(200));return nh(null,s,a,!0,u)},An.hydrateRoot=function(s,a,u){if(!Nm(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",C=Nw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),a=kw(a,null,s,1,u??null,m,!1,v,C),s[_i]=a.current,lu(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,m]:a.mutableSourceEagerHydrationData.push(u,m);return new eh(a)},An.render=function(s,a,u){if(!th(a))throw Error(t(200));return nh(null,s,a,!1,u)},An.unmountComponentAtNode=function(s){if(!th(s))throw Error(t(40));return s._reactRootContainer?(No(function(){nh(null,null,s,!1,function(){s._reactRootContainer=null,s[_i]=null})}),!0):!1},An.unstable_batchedUpdates=Im,An.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!th(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return nh(s,a,u,!1,f)},An.version="18.3.1-next-f1338f8080-20240426",An}var $w;function HI(){if($w)return Lm.exports;$w=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lm.exports=mP(),Lm.exports}var Bw;function gP(){if(Bw)return ih;Bw=1;var n=HI();return ih.createRoot=n.createRoot,ih.hydrateRoot=n.hydrateRoot,ih}var yP=gP(),xu={},zw;function vP(){if(zw)return xu;zw=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.parse=l,xu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,S){const x=new o,b=E.length;if(b<2)return x;const R=(S==null?void 0:S.decode)||g;let F=0;do{const $=E.indexOf("=",F);if($===-1)break;const B=E.indexOf(";",F),q=B===-1?b:B;if($>q){F=E.lastIndexOf(";",$-1)+1;continue}const X=c(E,F,$),J=h(E,$,X),N=E.slice(X,J);if(x[N]===void 0){let P=c(E,$+1,q),k=h(E,q,P);const L=R(E.slice(P,k));x[N]=L}F=q+1}while(F<b);return x}function c(E,S,x){do{const b=E.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<x);return x}function h(E,S,x){for(;S>x;){const b=E.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return x}function p(E,S,x){const b=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=b(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let F=E+"="+R;if(!x)return F;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);F+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);F+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);F+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);F+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(F+="; HttpOnly"),x.secure&&(F+="; Secure"),x.partitioned&&(F+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return F}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return i.call(E)==="[object Date]"}return xu}vP();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ww="popstate";function _P(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return _g("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:rc(i)}return EP(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wP(){return Math.random().toString(36).substring(2,10)}function Hw(n,e){return{usr:n.state,key:n.key,idx:e}}function _g(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:t,key:e&&e.key||r||wP()}}function rc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function El(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function EP(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let R=g(),F=R==null?null:R-p;p=R,h&&h({action:c,location:b.location,delta:F})}function E(R,F){c="PUSH";let $=_g(b.location,R,F);p=g()+1;let B=Hw($,p),q=b.createHref($);try{l.pushState(B,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(q)}o&&h&&h({action:c,location:b.location,delta:1})}function S(R,F){c="REPLACE";let $=_g(b.location,R,F);p=g();let B=Hw($,p),q=b.createHref($);l.replaceState(B,"",q),o&&h&&h({action:c,location:b.location,delta:0})}function x(R){let F=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof R=="string"?R:rc(R);return $=$.replace(/ $/,"%20"),mt(F,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,F)}let b={get action(){return c},get location(){return n(i,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Ww,_),h=R,()=>{i.removeEventListener(Ww,_),h=null}},createHref(R){return e(i,R)},createURL:x,encodeLocation(R){let F=x(R);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:S,go(R){return l.go(R)}};return b}function qI(n,e,t="/"){return TP(n,e,t,!1)}function TP(n,e,t,r){let i=typeof e=="string"?El(e):e,o=Mi(i.pathname||"/",t);if(o==null)return null;let l=KI(n);IP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=DP(o);c=NP(l[h],p,r)}return c}function KI(n,e=[],t=[],r=""){let i=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(mt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Oi([r,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(mt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),KI(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:kP(p,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let h of GI(o.path))i(o,l,h)}),e}function GI(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=GI(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function IP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var CP=/^:[\w-]+$/,SP=3,RP=2,xP=1,AP=10,PP=-2,qw=n=>n==="*";function kP(n,e){let t=n.split("/"),r=t.length;return t.some(qw)&&(r+=PP),e&&(r+=RP),t.filter(i=>!qw(i)).reduce((i,o)=>i+(CP.test(o)?SP:o===""?xP:AP),r)}function bP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function NP(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Mh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),E=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=Mh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Oi([o,_.pathname]),pathnameBase:FP(Oi([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Oi([o,_.pathnameBase]))}return l}function Mh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=OP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let x=c[E]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const S=c[E];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function OP(n,e=!1,t=!0){Dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Mi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function LP(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?El(n):n;return{pathname:t?t.startsWith("/")?t:MP(t,e):e,search:jP(r),hash:UP(i)}}function MP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Fm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ty(n){let e=VP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Iy(n,e,t,r=!1){let i;typeof n=="string"?i=El(n):(i={...n},mt(!i.pathname||!i.pathname.includes("?"),Fm("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),Fm("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),Fm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}c=_>=0?e[_]:"/"}let h=LP(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),FP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $P(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var QI=["POST","PUT","PATCH","DELETE"];new Set(QI);var BP=["GET",...QI];new Set(BP);var Tl=I.createContext(null);Tl.displayName="DataRouter";var _f=I.createContext(null);_f.displayName="DataRouterState";var YI=I.createContext({isTransitioning:!1});YI.displayName="ViewTransition";var zP=I.createContext(new Map);zP.displayName="Fetchers";var WP=I.createContext(null);WP.displayName="Await";var Lr=I.createContext(null);Lr.displayName="Navigation";var _c=I.createContext(null);_c.displayName="Location";var Mr=I.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var Cy=I.createContext(null);Cy.displayName="RouteError";function HP(n,{relative:e}={}){mt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=I.useContext(Lr),{hash:i,pathname:o,search:l}=wc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Oi([t,o])),r.createHref({pathname:c,search:l,hash:i})}function Il(){return I.useContext(_c)!=null}function eo(){return mt(Il(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(_c).location}var XI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JI(n){I.useContext(Lr).static||I.useLayoutEffect(n)}function Vr(){let{isDataRoute:n}=I.useContext(Mr);return n?sk():qP()}function qP(){mt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Tl),{basename:e,navigator:t}=I.useContext(Lr),{matches:r}=I.useContext(Mr),{pathname:i}=eo(),o=JSON.stringify(Ty(r)),l=I.useRef(!1);return JI(()=>{l.current=!0}),I.useCallback((h,p={})=>{if(Dr(l.current,XI),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Iy(h,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Oi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,i,n])}I.createContext(null);function KP(){let{matches:n}=I.useContext(Mr),e=n[n.length-1];return e?e.params:{}}function wc(n,{relative:e}={}){let{matches:t}=I.useContext(Mr),{pathname:r}=eo(),i=JSON.stringify(Ty(t));return I.useMemo(()=>Iy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function GP(n,e){return ZI(n,e)}function ZI(n,e,t,r){var $;mt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=I.useContext(Lr),{matches:l}=I.useContext(Mr),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let B=_&&_.path||"";eC(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=eo(),S;if(e){let B=typeof e=="string"?El(e):e;mt(g==="/"||(($=B.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=E;let x=S.pathname||"/",b=x;if(g!=="/"){let B=g.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let R=!o&&t&&t.matches&&t.matches.length>0?t.matches:qI(n,{pathname:b});Dr(_||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Dr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=ZP(R&&R.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Oi([g,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Oi([g,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,r);return e&&F?I.createElement(_c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function QP(){let n=ik(),e=$P(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:i},t):null,l)}var YP=I.createElement(QP,null),XP=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(Mr.Provider,{value:this.props.routeContext},I.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JP({routeContext:n,match:e,children:t}){let r=I.useContext(Tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Mr.Provider,{value:n},t)}function ZP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);mt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:_}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let _,E=!1,S=null,x=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||YP,l&&(c<0&&g===0?(eC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,x=null):c===g&&(E=!0,x=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),R=()=>{let F;return _?F=S:E?F=x:p.route.Component?F=I.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=h,I.createElement(JP,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:F})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?I.createElement(XP,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function Sy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ek(n){let e=I.useContext(Tl);return mt(e,Sy(n)),e}function tk(n){let e=I.useContext(_f);return mt(e,Sy(n)),e}function nk(n){let e=I.useContext(Mr);return mt(e,Sy(n)),e}function Ry(n){let e=nk(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rk(){return Ry("useRouteId")}function ik(){var r;let n=I.useContext(Cy),e=tk("useRouteError"),t=Ry("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function sk(){let{router:n}=ek("useNavigate"),e=Ry("useNavigate"),t=I.useRef(!1);return JI(()=>{t.current=!0}),I.useCallback(async(i,o={})=>{Dr(t.current,XI),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var Kw={};function eC(n,e,t){!e&&!Kw[n]&&(Kw[n]=!0,Dr(!1,t))}I.memo(ok);function ok({routes:n,future:e,state:t}){return ZI(n,void 0,t,e)}function ak({to:n,replace:e,state:t,relative:r}){mt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(Lr);Dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=I.useContext(Mr),{pathname:l}=eo(),c=Vr(),h=Iy(n,Ty(o),l,r==="path"),p=JSON.stringify(h);return I.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function Pr(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){mt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=El(t));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:E="default"}=t,S=I.useMemo(()=>{let x=Mi(h,l);return x==null?null:{location:{pathname:x,search:p,hash:g,state:_,key:E},navigationType:r}},[l,h,p,g,_,E,r]);return Dr(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Lr.Provider,{value:c},I.createElement(_c.Provider,{children:e,value:S}))}function uk({children:n,location:e}){return GP(wg(n),e)}function wg(n,e=[]){let t=[];return I.Children.forEach(n,(r,i)=>{if(!I.isValidElement(r))return;let o=[...e,i];if(r.type===I.Fragment){t.push.apply(t,wg(r.props.children,o));return}mt(r.type===Pr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=wg(r.props.children,o)),t.push(l)}),t}var wh="get",Eh="application/x-www-form-urlencoded";function wf(n){return n!=null&&typeof n.tagName=="string"}function ck(n){return wf(n)&&n.tagName.toLowerCase()==="button"}function dk(n){return wf(n)&&n.tagName.toLowerCase()==="form"}function hk(n){return wf(n)&&n.tagName.toLowerCase()==="input"}function fk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pk(n,e){return n.button===0&&(!e||e==="_self")&&!fk(n)}var sh=null;function mk(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var gk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(n){return n!=null&&!gk.has(n)?(Dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):n}function yk(n,e){let t,r,i,o,l;if(dk(n)){let c=n.getAttribute("action");r=c?Mi(c,e):null,t=n.getAttribute("method")||wh,i=jm(n.getAttribute("enctype"))||Eh,o=new FormData(n)}else if(ck(n)||hk(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Mi(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||wh,i=jm(n.getAttribute("formenctype"))||jm(c.getAttribute("enctype"))||Eh,o=new FormData(c,n),!mk()){let{name:p,type:g,value:_}=n;if(g==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,_)}}else{if(wf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wh,r=null,i=Eh,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function xy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function vk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _k(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wk(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await vk(o,t);return l.links?l.links():[]}return[]}));return Ck(r.flat(1).filter(_k).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Gw(n,e,t,r,i,o){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):o==="data"?e.filter((h,p)=>{var _;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Ek(n,e,{includeHydrateFallback:t}={}){return Tk(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Tk(n){return[...new Set(n)]}function Ik(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Ck(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(Ik(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function Sk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function tC(){let n=I.useContext(Tl);return xy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Rk(){let n=I.useContext(_f);return xy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ay=I.createContext(void 0);Ay.displayName="FrameworkContext";function nC(){let n=I.useContext(Ay);return xy(n,"You must render this element inside a <HydratedRouter> element"),n}function xk(n,e){let t=I.useContext(Ay),[r,i]=I.useState(!1),[o,l]=I.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=I.useRef(null);I.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=F=>{F.forEach($=>{l($.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[n]),I.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{i(!0)},x=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Au(c,S),onBlur:Au(h,x),onMouseEnter:Au(p,S),onMouseLeave:Au(g,x),onTouchStart:Au(_,S)}]:[!1,E,{}]}function Au(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Ak({page:n,...e}){let{router:t}=tC(),r=I.useMemo(()=>qI(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?I.createElement(kk,{page:n,matches:r,...e}):null}function Pk(n){let{manifest:e,routeModules:t}=nC(),[r,i]=I.useState([]);return I.useEffect(()=>{let o=!1;return wk(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function kk({page:n,matches:e,...t}){let r=eo(),{manifest:i,routeModules:o}=nC(),{basename:l}=tC(),{loaderData:c,matches:h}=Rk(),p=I.useMemo(()=>Gw(n,e,h,i,r,"data"),[n,e,h,i,r]),g=I.useMemo(()=>Gw(n,e,h,i,r,"assets"),[n,e,h,i,r]),_=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(e.forEach(F=>{var B;let $=i.routes[F.route.id];!$||!$.hasLoader||(!p.some(q=>q.route.id===F.route.id)&&F.route.id in c&&((B=o[F.route.id])!=null&&B.shouldRevalidate)||$.hasClientLoader?b=!0:x.add(F.route.id))}),x.size===0)return[];let R=Sk(n,l);return b&&x.size>0&&R.searchParams.set("_routes",e.filter(F=>x.has(F.route.id)).map(F=>F.route.id).join(",")),[R.pathname+R.search]},[l,c,r,i,p,e,n,o]),E=I.useMemo(()=>Ek(g,i),[g,i]),S=Pk(g);return I.createElement(I.Fragment,null,_.map(x=>I.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),E.map(x=>I.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),S.map(({key:x,link:b})=>I.createElement("link",{key:x,...b})))}function bk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rC&&(window.__reactRouterVersion="7.3.0")}catch{}function Nk({basename:n,children:e,window:t}){let r=I.useRef();r.current==null&&(r.current=_P({window:t,v5Compat:!0}));let i=r.current,[o,l]=I.useState({action:i.action,location:i.location}),c=I.useCallback(h=>{I.startTransition(()=>l(h))},[l]);return I.useLayoutEffect(()=>i.listen(c),[i,c]),I.createElement(lk,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var iC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=I.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:_,...E},S){let{basename:x}=I.useContext(Lr),b=typeof p=="string"&&iC.test(p),R,F=!1;if(typeof p=="string"&&b&&(R=p,rC))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),M=Mi(L.pathname,x);L.origin===k.origin&&M!=null?p=M+L.search+L.hash:F=!0}catch{Dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=HP(p,{relative:i}),[B,q,X]=xk(r,E),J=Mk(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:_});function N(k){e&&e(k),k.defaultPrevented||J(k)}let P=I.createElement("a",{...E,...X,href:R||$,onClick:F||o?e:N,ref:bk(S,q),target:h,"data-discover":!b&&t==="render"?"true":void 0});return B&&!b?I.createElement(I.Fragment,null,P,I.createElement(Ak,{page:$})):P});cn.displayName="Link";var Ok=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...p},g){let _=wc(l,{relative:p.relative}),E=eo(),S=I.useContext(_f),{navigator:x,basename:b}=I.useContext(Lr),R=S!=null&&$k(_)&&c===!0,F=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,$=E.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||($=$.toLowerCase(),B=B?B.toLowerCase():null,F=F.toLowerCase()),B&&b&&(B=Mi(B,b)||B);const q=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let X=$===F||!i&&$.startsWith(F)&&$.charAt(q)==="/",J=B!=null&&(B===F||!i&&B.startsWith(F)&&B.charAt(F.length)==="/"),N={isActive:X,isPending:J,isTransitioning:R},P=X?e:void 0,k;typeof r=="function"?k=r(N):k=[r,X?"active":null,J?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(N):o;return I.createElement(cn,{...p,"aria-current":P,className:k,ref:g,style:L,to:l,viewTransition:c},typeof h=="function"?h(N):h)});Ok.displayName="NavLink";var Dk=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=wh,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...E},S)=>{let x=jk(),b=Uk(c,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",F=typeof c=="string"&&iC.test(c),$=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,X=(q==null?void 0:q.getAttribute("formmethod"))||l;x(q||B.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:o,relative:p,preventScrollReset:g,viewTransition:_})};return I.createElement("form",{ref:S,method:R,action:b,onSubmit:r?h:$,...E,"data-discover":!F&&n==="render"?"true":void 0})});Dk.displayName="Form";function Lk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sC(n){let e=I.useContext(Tl);return mt(e,Lk(n)),e}function Mk(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=Vr(),h=eo(),p=wc(n,{relative:o});return I.useCallback(g=>{if(pk(g,e)){g.preventDefault();let _=t!==void 0?t:rc(h)===rc(p);c(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,p,t,r,e,n,i,o,l])}var Vk=0,Fk=()=>`__${String(++Vk)}__`;function jk(){let{router:n}=sC("useSubmit"),{basename:e}=I.useContext(Lr),t=rk();return I.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:h,body:p}=yk(r,e);if(i.navigate===!1){let g=i.fetcherKey||Fk();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function Uk(n,{relative:e}={}){let{basename:t}=I.useContext(Lr),r=I.useContext(Mr);mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...wc(n||".",{relative:e})},l=eo();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Oi([t,o.pathname])),rc(o)}function $k(n,e={}){let t=I.useContext(YI);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sC("useViewTransitionState"),i=wc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Mi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Mi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Mh(i.pathname,l)!=null||Mh(i.pathname,o)!=null}new TextEncoder;var Py=HI();const Bk=vc(Py),zk="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",Wk="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",Qw="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",Yw="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",Xw="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",Jw="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",Ec=()=>w.jsxs("div",{className:"footer",children:[w.jsxs("div",{className:"left",children:[w.jsx("div",{className:"logo",children:"URENO"}),w.jsxs("div",{className:"social-sites",children:[w.jsx("object",{data:Qw,type:"image/svg+xml",children:w.jsx("img",{src:Qw})}),w.jsx("object",{data:Yw,type:"image/svg+xml",children:w.jsx("img",{src:Yw})}),w.jsx("object",{data:Xw,type:"image/svg+xml",children:w.jsx("img",{src:Xw})}),w.jsx("object",{data:Jw,type:"image/svg+xml",children:w.jsx("img",{src:Jw})})]})]}),w.jsxs("div",{className:"right",children:[w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]}),w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]}),w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]})]})]}),Eg="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Hk=()=>{};var Zw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(n,e){if(!n)throw Cl(e)},Cl=function(n){return new Error("Firebase Database ("+oC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},qk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},ky={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,g=o>>2,_=(o&3)<<4|c>>4;let E=(c&15)<<2|p>>6,S=p&63;h||(S=64,l||(E=64)),r.push(t[g],t[_],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||p==null||_==null)throw new Kk;const E=o<<2|c>>4;if(r.push(E),p!==64){const S=c<<4&240|p>>2;if(r.push(S),_!==64){const x=p<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Kk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(n){const e=aC(n);return ky.encodeByteArray(e,!0)},Vh=function(n){return lC(n).replace(/\./g,"")},Fh=function(n){try{return ky.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n){return uC(void 0,n)}function uC(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Qk(t)||(n[t]=uC(n[t],e[t]));return n}function Qk(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=()=>Yk().__FIREBASE_DEFAULTS__,Jk=()=>{if(typeof process>"u"||typeof Zw>"u")return;const n=Zw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Zk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fh(n[1]);return e&&JSON.parse(e)},Ef=()=>{try{return Hk()||Xk()||Jk()||Zk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cC=n=>{var e,t;return(t=(e=Ef())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},by=n=>{const e=cC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dC=()=>{var n;return(n=Ef())===null||n===void 0?void 0:n.config},hC=n=>{var e;return(e=Ef())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vh(JSON.stringify(t)),Vh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function eb(){var n;const e=(n=Ef())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rb(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ib(){return oC.NODE_ADMIN===!0}function sb(){return!eb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ob(){try{return typeof indexedDB=="object"}catch{return!1}}function ab(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="FirebaseError";class li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lb,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?ub(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new li(i,c,r)}}function ub(n,e){return n.replace(cb,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(n){return JSON.parse(n)}function Yt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=function(n){let e={},t={},r={},i="";try{const o=n.split(".");e=ic(Fh(o[0])||""),t=ic(Fh(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},db=function(n){const e=pC(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},hb=function(n){const e=pC(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function al(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Tg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jh(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Bs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(eE(o)&&eE(l)){if(!Bs(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function eE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)r[_]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let _=0;_<16;_++)r[_]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let _=16;_<80;_++){const E=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(E<<1|E>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],p,g;for(let _=0;_<80;_++){_<40?_<20?(p=c^o&(l^c),g=1518500249):(p=o^l^c,g=1859775393):_<60?(p=o&l|c&(o|l),g=2400959708):(p=o^l^c,g=3395469782);const E=(i<<5|i>>>27)+p+h+g+r[_]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=i,i=E}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const o=this.buf_;let l=this.inbuf_;for(;i<t;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}else for(;i<t;)if(o[l]=e[i],++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function pb(n,e){const t=new mb(n,e);return t.subscribe.bind(t)}class mb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gb(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Um),i.error===void 0&&(i.error=Um),i.complete===void 0&&(i.complete=Um);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Um(){}function yb(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ce(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;i=65536+(o<<10)+l}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Tf=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class Vi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _b=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ny;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Eb(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wb(n){return n===Mo?void 0:n}function Eb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _b(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const Ib={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Cb=Me.INFO,Sb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Rb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Sb[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class If{constructor(e){this.name=e,this._logLevel=Cb,this._logHandler=Rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ib[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const xb=(n,e)=>e.some(t=>n instanceof t);let tE,nE;function Ab(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pb(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mC=new WeakMap,Ig=new WeakMap,gC=new WeakMap,$m=new WeakMap,Ly=new WeakMap;function kb(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Ls(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&mC.set(t,n)}).catch(()=>{}),Ly.set(e,n),e}function bb(n){if(Ig.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Ig.set(n,e)}let Cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Nb(n){Cg=n(Cg)}function Ob(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Bm(this),e,...t);return gC.set(r,e.sort?e.sort():[e]),Ls(r)}:Pb().includes(n)?function(...e){return n.apply(Bm(this),e),Ls(mC.get(this))}:function(...e){return Ls(n.apply(Bm(this),e))}}function Db(n){return typeof n=="function"?Ob(n):(n instanceof IDBTransaction&&bb(n),xb(n,Ab())?new Proxy(n,Cg):n)}function Ls(n){if(n instanceof IDBRequest)return kb(n);if($m.has(n))return $m.get(n);const e=Db(n);return e!==n&&($m.set(n,e),Ly.set(e,n)),e}const Bm=n=>Ly.get(n);function Lb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=Ls(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ls(l.result),h.oldVersion,h.newVersion,Ls(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Mb=["get","getKey","getAll","getAllKeys","count"],Vb=["put","add","delete","clear"],zm=new Map;function rE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Vb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mb.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&h.done]))[0]};return zm.set(e,o),o}Nb(n=>({...n,get:(e,t,r)=>rE(e,t)||n.get(e,t,r),has:(e,t)=>!!rE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function jb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sg="@firebase/app",iE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new If("@firebase/app"),Ub="@firebase/app-compat",$b="@firebase/analytics-compat",Bb="@firebase/analytics",zb="@firebase/app-check-compat",Wb="@firebase/app-check",Hb="@firebase/auth",qb="@firebase/auth-compat",Kb="@firebase/database",Gb="@firebase/data-connect",Qb="@firebase/database-compat",Yb="@firebase/functions",Xb="@firebase/functions-compat",Jb="@firebase/installations",Zb="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",rN="@firebase/performance-compat",iN="@firebase/remote-config",sN="@firebase/remote-config-compat",oN="@firebase/storage",aN="@firebase/storage-compat",lN="@firebase/firestore",uN="@firebase/vertexai",cN="@firebase/firestore-compat",dN="firebase",hN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="[DEFAULT]",fN={[Sg]:"fire-core",[Ub]:"fire-core-compat",[Bb]:"fire-analytics",[$b]:"fire-analytics-compat",[Wb]:"fire-app-check",[zb]:"fire-app-check-compat",[Hb]:"fire-auth",[qb]:"fire-auth-compat",[Kb]:"fire-rtdb",[Gb]:"fire-data-connect",[Qb]:"fire-rtdb-compat",[Yb]:"fire-fn",[Xb]:"fire-fn-compat",[Jb]:"fire-iid",[Zb]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[rN]:"fire-perf-compat",[iN]:"fire-rc",[sN]:"fire-rc-compat",[oN]:"fire-gcs",[aN]:"fire-gcs-compat",[lN]:"fire-fst",[cN]:"fire-fst-compat",[uN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,pN=new Map,xg=new Map;function sE(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zs(n){const e=n.name;if(xg.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;xg.set(e,n);for(const t of Uh.values())sE(t,n);for(const t of pN.values())sE(t,n);return!0}function Ic(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function un(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Tc("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=hN;function yC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(t||(t=dC()),!t)throw Ms.create("no-options");const o=Uh.get(i);if(o){if(Bs(t,o.options)&&Bs(r,o.config))return o;throw Ms.create("duplicate-app",{appName:i})}const l=new Tb(i);for(const h of xg.values())l.addComponent(h);const c=new gN(t,r,l);return Uh.set(i,c),c}function Cf(n=Rg){const e=Uh.get(n);if(!e&&n===Rg&&dC())return yC();if(!e)throw Ms.create("no-app",{appName:n});return e}function ar(n,e,t){var r;let i=(r=fN[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(c.join(" "));return}zs(new Vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="firebase-heartbeat-database",vN=1,sc="firebase-heartbeat-store";let Wm=null;function vC(){return Wm||(Wm=Lb(yN,vN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ms.create("idb-open",{originalErrorMessage:n.message})})),Wm}async function _N(n){try{const t=(await vC()).transaction(sc),r=await t.objectStore(sc).get(_C(n));return await t.done,r}catch(e){if(e instanceof li)Fi.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(t.message)}}}async function oE(n,e){try{const r=(await vC()).transaction(sc,"readwrite");await r.objectStore(sc).put(e,_C(n)),await r.done}catch(t){if(t instanceof li)Fi.warn(t.message);else{const r=Ms.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(r.message)}}}function _C(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=1024,EN=30;class TN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>EN){const l=SN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aE(),{heartbeatsToSend:r,unsentEntries:i}=IN(this._heartbeatsCache.heartbeats),o=Vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fi.warn(t),""}}}function aE(){return new Date().toISOString().substring(0,10)}function IN(n,e=wN){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),lE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ob()?ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _N(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lE(n){return Vh(JSON.stringify({version:2,heartbeats:n})).length}function SN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){zs(new Vi("platform-logger",e=>new Fb(e),"PRIVATE")),zs(new Vi("heartbeat",e=>new TN(e),"PRIVATE")),ar(Sg,iE,n),ar(Sg,iE,"esm2017"),ar("fire-js","")}RN("");function My(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function wC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xN=wC,EC=new Tc("auth","Firebase",wC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new If("@firebase/auth");function AN(n,...e){$h.logLevel<=Me.WARN&&$h.warn(`Auth (${to}): ${n}`,...e)}function Th(n,...e){$h.logLevel<=Me.ERROR&&$h.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(n,...e){throw Fy(n,...e)}function Nr(n,...e){return Fy(n,...e)}function Vy(n,e,t){const r=Object.assign(Object.assign({},xN()),{[e]:t});return new Tc("auth","Firebase",r).create(e,{appName:n.name})}function ei(n){return Vy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ur(n,"argument-error"),Vy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return EC.create(n,...e)}function Ce(n,e,...t){if(!n)throw Fy(e,...t)}function Pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Th(e),new Error(e)}function ji(n,e){n||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kN(){return uE()==="http:"||uE()==="https:"}function uE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kN()||nb()||"connection"in navigator)?navigator.onLine:!0}function NN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ji(t>e,"Short delay should be less than long delay!"),this.isMobile=Dy()||fC()}get(){return bN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(n,e){ji(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new Cc(3e4,6e4);function no(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ui(n,e,t,r,i={}){return IC(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Sl(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return tb()||(p.referrerPolicy="no-referrer"),TC.fetch()(CC(n,n.config.apiHost,t,c),p)})}async function IC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ON),e);try{const i=new MN(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw oh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw oh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw oh(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Vy(n,g,p);ur(n,g)}}catch(i){if(i instanceof li)throw i;ur(n,"network-request-failed",{message:String(i)})}}async function Sc(n,e,t,r,i={}){const o=await ui(n,e,t,r,i);return"mfaPendingCredential"in o&&ur(n,"multi-factor-auth-required",{_serverResponse:o}),o}function CC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?jy(n.config,i):`${n.config.apiScheme}://${i}`}function LN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),DN.get())})}}function oh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Nr(n,e,r);return i.customData._tokenResponse=t,i}function cE(n){return n!==void 0&&n.enterprise!==void 0}class VN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return LN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FN(n,e){return ui(n,"GET","/v2/recaptchaConfig",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e){return ui(n,"POST","/v1/accounts:delete",e)}async function SC(n,e){return ui(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UN(n,e=!1){const t=ct(n),r=await t.getIdToken(e),i=Uy(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:zu(Hm(i.auth_time)),issuedAtTime:zu(Hm(i.iat)),expirationTime:zu(Hm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hm(n){return Number(n)*1e3}function Uy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fh(t);return i?JSON.parse(i):(Th("Failed to decode base64 JWT payload"),null)}catch(i){return Th("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dE(n){const e=Uy(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof li&&$N(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function $N({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await zo(n,SC(t,{idToken:r}));Ce(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RC(o.providerUserInfo):[],c=WN(n.providerData,l),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Pg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function zN(n){const e=ct(n);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RC(n){return n.map(e=>{var{providerId:t}=e,r=My(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e){const t=await IC(n,{},async()=>{const r=Sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=CC(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",TC.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qN(n,e){return ui(n,"POST","/v2/accounts:revokeToken",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=dE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await HN(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Za;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=My(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UN(this,e)}reload(){return zN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await zo(this,jN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,h,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(l=t.photoURL)!==null&&l!==void 0?l:void 0,b=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:q,isAnonymous:X,providerData:J,stsTokenManager:N}=t;Ce(B&&N,e,"internal-error");const P=Za.fromJSON(this.name,N);Ce(typeof B=="string",e,"internal-error"),Ss(_,e.name),Ss(E,e.name),Ce(typeof q=="boolean",e,"internal-error"),Ce(typeof X=="boolean",e,"internal-error"),Ss(S,e.name),Ss(x,e.name),Ss(b,e.name),Ss(R,e.name),Ss(F,e.name),Ss($,e.name);const k=new ki({uid:B,auth:e,email:E,emailVerified:q,displayName:_,isAnonymous:X,photoURL:x,phoneNumber:S,tenantId:b,stsTokenManager:P,createdAt:F,lastLoginAt:$});return J&&Array.isArray(J)&&(k.providerData=J.map(L=>Object.assign({},L))),R&&(k._redirectEventId=R),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Za;i.updateFromServerResponse(t);const o=new ki({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ce(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?RC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Za;c.updateFromIdToken(r);const h=new ki({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function bi(n){ji(n instanceof Function,"Expected a class definition");let e=hE.get(n);return e?(ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xC.type="NONE";const fE=xC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n,e,t){return`firebase:${n}:${e}:${t}`}class el{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ih(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ih("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new el(bi(fE),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||bi(fE);const l=Ih(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=ki._fromJSON(e,g);p!==o&&(c=_),o=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new el(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new el(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OC(e))return"Blackberry";if(DC(e))return"Webos";if(PC(e))return"Safari";if((e.includes("chrome/")||kC(e))&&!e.includes("edge/"))return"Chrome";if(NC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AC(n=hn()){return/firefox\//i.test(n)}function PC(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kC(n=hn()){return/crios\//i.test(n)}function bC(n=hn()){return/iemobile/i.test(n)}function NC(n=hn()){return/android/i.test(n)}function OC(n=hn()){return/blackberry/i.test(n)}function DC(n=hn()){return/webos/i.test(n)}function $y(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KN(n=hn()){var e;return $y(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GN(){return rb()&&document.documentMode===10}function LC(n=hn()){return $y(n)||NC(n)||DC(n)||OC(n)||/windows phone/i.test(n)||bC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(n,e=[]){let t;switch(n){case"Browser":t=pE(hn());break;case"Worker":t=`${pE(hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e={}){return ui(n,"GET","/v2/passwordPolicy",no(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=6;class JN{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:XN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new QN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bi(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await SC(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(un(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(ei(this));const t=e?ct(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YN(this),t=new JN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await qN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ro(n){return ct(n)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=pb(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eO(n){Sf=n}function VC(n){return Sf.loadJS(n)}function tO(){return Sf.recaptchaEnterpriseScript}function nO(){return Sf.gapiScript}function rO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class iO{constructor(){this.enterprise=new sO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const oO="recaptcha-enterprise",FC="NO_RECAPTCHA";class aO{constructor(e){this.type=oO,this.auth=ro(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{FN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new VN(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;cE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(FC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&cE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=tO();h.length!==0&&(h+=c),VC(h).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function gE(n,e,t,r=!1,i=!1){const o=new aO(n);let l;if(i)l=FC;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function kg(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await gE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await gE(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(n,e){const t=Ic(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Bs(o,e??{}))return i;ur(i,"already-initialized")}return t.initialize({options:e})}function uO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(bi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cO(n,e,t){const r=ro(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=jC(e),{host:l,port:c}=dO(e),h=c===null?"":`:${c}`,p={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Bs(p,r.config.emulator)&&Bs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,hO()}function jC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dO(n){const e=jC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:yE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:yE(l)}}}function yE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function fO(n,e){return ui(n,"POST","/v1/accounts:update",e)}async function pO(n,e){return ui(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(n,e){return Sc(n,"POST","/v1/accounts:signInWithPassword",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,e){return Sc(n,"POST","/v1/accounts:signInWithEmailLink",no(n,e))}async function yO(n,e){return Sc(n,"POST","/v1/accounts:signInWithEmailLink",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends By{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new oc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new oc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,t,"signInWithPassword",mO);case"emailLink":return gO(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,r,"signUpPassword",pO);case"emailLink":return yO(e,{idToken:t,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n,e){return Sc(n,"POST","/v1/accounts:signInWithIdp",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="http://localhost";class Wo extends By{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=My(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Wo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return tl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}buildRequest(){const e={requestUri:vO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(n){const e=Vu(Fu(n)).link,t=e?Vu(Fu(e)).deep_link_id:null,r=Vu(Fu(n)).deep_link_id;return(r?Vu(Fu(r)).link:null)||r||t||e||n}class zy{constructor(e){var t,r,i,o,l,c;const h=Vu(Fu(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,_=_O((i=h.mode)!==null&&i!==void 0?i:null);Ce(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=wO(e);try{return new zy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,t){return oc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=zy.parseLink(t);return Ce(r,"argument-error"),oc._fromEmailAndCode(e,r.code,r.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Rc{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wo._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xr.credential(t,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Rc{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Rc{constructor(){super("twitter.com")}static credential(e,t){return Wo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(n,e){return Sc(n,"POST","/v1/accounts:signUp",no(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ki._fromIdTokenResponse(e,r,i),l=vE(r);return new Ho({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=vE(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function vE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends li{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new zh(e,t,r,i)}}function UC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(n,o,e,r):o})}async function TO(n,e,t=!1){const r=await zo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ho._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(n,e,t=!1){const{auth:r}=n;if(un(r.app))return Promise.reject(ei(r));const i="reauthenticate";try{const o=await zo(n,UC(r,i,e,n),t);Ce(o.idToken,r,"internal-error");const l=Uy(o.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),Ho._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(n,e,t=!1){if(un(n.app))return Promise.reject(ei(n));const r="signIn",i=await UC(n,r,e),o=await Ho._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function CO(n,e){return $C(ro(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n){const e=ro(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SO(n,e,t){if(un(n.app))return Promise.reject(ei(n));const r=ro(n),l=await kg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&BC(n),h}),c=await Ho._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function RO(n,e,t){return un(n.app)?Promise.reject(ei(n)):CO(ct(n),Rl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BC(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e){return ui(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ct(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await zo(r,xO(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function AO(n,e){const t=ct(n);return un(t.auth.app)?Promise.reject(ei(t.auth)):PO(t,e)}async function PO(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e);const l=await zo(n,fO(r,o));await n._updateTokensIfNecessary(l,!0)}function kO(n,e,t,r){return ct(n).onIdTokenChanged(e,t,r)}function bO(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function Hy(n,e,t,r){return ct(n).onAuthStateChanged(e,t,r)}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=1e3,OO=10;class WC extends zC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);GN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,OO):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},NO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WC.type="LOCAL";const DO=WC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends zC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HC.type="SESSION";const qC=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),h=await LO(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=qy("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function VO(n){ti().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function FO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UO(){return KC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebaseLocalStorageDb",$O=1,Hh="firebaseLocalStorage",QC="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xf(n,e){return n.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function BO(){const n=indexedDB.deleteDatabase(GC);return new xc(n).toPromise()}function Ng(){const n=indexedDB.open(GC,$O);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hh,{keyPath:QC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await BO(),e(await Ng()))})})}async function _E(n,e,t){const r=xf(n,!0).put({[QC]:e,value:t});return new xc(r).toPromise()}async function zO(n,e){const t=xf(n,!1).get(e),r=await new xc(t).toPromise();return r===void 0?null:r.value}function wE(n,e){const t=xf(n,!0).delete(e);return new xc(t).toPromise()}const WO=800,HO=3;class YC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>HO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(UO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await FO(),!this.activeServiceWorker)return;this.sender=new MO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await _E(e,Wh,"1"),await wE(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>_E(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=xf(i,!1).getAll();return new xc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YC.type="LOCAL";const qO=YC;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n,e){return e?bi(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends By{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KO(n){return $C(n.auth,new Ky(n),n.bypassAuthState)}function GO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),IO(t,new Ky(n),n.bypassAuthState)}async function QO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),TO(t,new Ky(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KO;case"linkViaPopup":case"linkViaRedirect":return QO;case"reauthViaPopup":case"reauthViaRedirect":return GO;default:ur(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new Cc(2e3,1e4);async function XO(n,e,t){if(un(n.app))return Promise.reject(Nr(n,"operation-not-supported-in-this-environment"));const r=ro(n);PN(n,e,Wy);const i=XC(r,t);return new Fo(r,"signInViaPopup",e,i).executeNotNull()}class Fo extends JC{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="pendingRedirect",Ch=new Map;class ZO extends JC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const r=await eD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eD(n,e){const t=rD(e),r=nD(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function tD(n,e){Ch.set(n._key(),e)}function nD(n){return bi(n._redirectPersistence)}function rD(n){return Ih(JO,n.config.apiKey,n.name)}async function iD(n,e,t=!1){if(un(n.app))return Promise.reject(ei(n));const r=ro(n),i=XC(r,e),l=await new ZO(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=10*60*1e3;class oD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ZC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sD&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,e={}){return ui(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cD=/^https?/;async function dD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lD(n);for(const t of e)try{if(hD(t))return}catch{}ur(n,"unauthorized-domain")}function hD(n){const e=Ag(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!cD.test(t))return!1;if(uD.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Cc(3e4,6e4);function TE(){const n=ti().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pD(n){return new Promise((e,t)=>{var r,i,o;function l(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),t(Nr(n,"network-request-failed"))},timeout:fD.get()})}if(!((i=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ti().gapi)===null||o===void 0)&&o.load)l();else{const c=rO("iframefcb");return ti()[c]=()=>{gapi.load?l():t(Nr(n,"network-request-failed"))},VC(`${nO()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function mD(n){return Sh=Sh||pD(n),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new Cc(5e3,15e3),yD="__/auth/iframe",vD="emulator/auth/iframe",_D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jy(e,vD):`https://${n.config.authDomain}/${yD}`,r={apiKey:e.apiKey,appName:n.name,v:to},i=wD.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Sl(r).slice(1)}`}async function TD(n){const e=await mD(n),t=ti().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:ED(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_D,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Nr(n,"network-request-failed"),c=ti().setTimeout(()=>{o(l)},gD.get());function h(){ti().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CD=500,SD=600,RD="_blank",xD="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AD(n,e,t,r=CD,i=SD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},ID),{width:r.toString(),height:i.toString(),top:o,left:l}),p=hn().toLowerCase();t&&(c=kC(p)?RD:t),AC(p)&&(e=e||xD,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[S,x])=>`${E}${S}=${x},`,"");if(KN(p)&&c!=="_self")return PD(e||"",c),new IE(null);const _=window.open(e||"",c,g);Ce(_,n,"popup-blocked");try{_.focus()}catch{}return new IE(_)}function PD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="__/auth/handler",bD="emulator/auth/handler",ND=encodeURIComponent("fac");async function CE(n,e,t,r,i,o){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:to,eventId:i};if(e instanceof Wy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Tg(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Rc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),p=h?`#${ND}=${encodeURIComponent(h)}`:"";return`${OD(n)}?${Sl(c).slice(1)}${p}`}function OD({config:n}){return n.emulator?jy(n,bD):`https://${n.authDomain}/${kD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class DD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qC,this._completeRedirectFn=iD,this._overrideRedirectResult=tD}async _openPopup(e,t,r,i){var o;ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await CE(e,t,r,Ag(),i);return AD(e,l,qy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await CE(e,t,r,Ag(),i);return VO(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ji(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await TD(e),r=new oD(e);return t.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qm,{type:qm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[qm];l!==void 0&&t(!!l),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LC()||PC()||$y()}}const LD=DD;var SE="@firebase/auth",RE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FD(n){zs(new Vi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MC(n)},p=new ZN(r,i,o,h);return uO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zs(new Vi("auth-internal",e=>{const t=ro(e.getProvider("auth").getImmediate());return(r=>new MD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(SE,RE,VD(n)),ar(SE,RE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=5*60,UD=hC("authIdTokenMaxAge")||jD;let xE=null;const $D=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>UD)return;const i=t==null?void 0:t.token;xE!==i&&(xE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Af(n=Cf()){const e=Ic(n,"auth");if(e.isInitialized())return e.getImmediate();const t=lO(n,{popupRedirectResolver:LD,persistence:[qO,DO,qC]}),r=hC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=$D(o.toString());bO(t,l,()=>l(t.currentUser)),kO(t,c=>l(c))}}const i=cC("auth");return i&&cO(t,`http://${i}`),t}function BD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}eO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Nr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",BD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FD("Browser");var zD="firebase",WD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(zD,WD,"app");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,eS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function k(){}k.prototype=P.prototype,N.D=P.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,M,V){for(var O=Array(arguments.length-2),le=2;le<arguments.length;le++)O[le-2]=arguments[le];return P.prototype[M].apply(L,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,P,k){k||(k=0);var L=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)L[M]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(M=0;16>M;++M)L[M]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=N.g[0],k=N.g[1],M=N.g[2];var V=N.g[3],O=P+(V^k&(M^V))+L[0]+3614090360&4294967295;P=k+(O<<7&4294967295|O>>>25),O=V+(M^P&(k^M))+L[1]+3905402710&4294967295,V=P+(O<<12&4294967295|O>>>20),O=M+(k^V&(P^k))+L[2]+606105819&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(P^M&(V^P))+L[3]+3250441966&4294967295,k=M+(O<<22&4294967295|O>>>10),O=P+(V^k&(M^V))+L[4]+4118548399&4294967295,P=k+(O<<7&4294967295|O>>>25),O=V+(M^P&(k^M))+L[5]+1200080426&4294967295,V=P+(O<<12&4294967295|O>>>20),O=M+(k^V&(P^k))+L[6]+2821735955&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(P^M&(V^P))+L[7]+4249261313&4294967295,k=M+(O<<22&4294967295|O>>>10),O=P+(V^k&(M^V))+L[8]+1770035416&4294967295,P=k+(O<<7&4294967295|O>>>25),O=V+(M^P&(k^M))+L[9]+2336552879&4294967295,V=P+(O<<12&4294967295|O>>>20),O=M+(k^V&(P^k))+L[10]+4294925233&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(P^M&(V^P))+L[11]+2304563134&4294967295,k=M+(O<<22&4294967295|O>>>10),O=P+(V^k&(M^V))+L[12]+1804603682&4294967295,P=k+(O<<7&4294967295|O>>>25),O=V+(M^P&(k^M))+L[13]+4254626195&4294967295,V=P+(O<<12&4294967295|O>>>20),O=M+(k^V&(P^k))+L[14]+2792965006&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(P^M&(V^P))+L[15]+1236535329&4294967295,k=M+(O<<22&4294967295|O>>>10),O=P+(M^V&(k^M))+L[1]+4129170786&4294967295,P=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(P^k))+L[6]+3225465664&4294967295,V=P+(O<<9&4294967295|O>>>23),O=M+(P^k&(V^P))+L[11]+643717713&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^P&(M^V))+L[0]+3921069994&4294967295,k=M+(O<<20&4294967295|O>>>12),O=P+(M^V&(k^M))+L[5]+3593408605&4294967295,P=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(P^k))+L[10]+38016083&4294967295,V=P+(O<<9&4294967295|O>>>23),O=M+(P^k&(V^P))+L[15]+3634488961&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^P&(M^V))+L[4]+3889429448&4294967295,k=M+(O<<20&4294967295|O>>>12),O=P+(M^V&(k^M))+L[9]+568446438&4294967295,P=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(P^k))+L[14]+3275163606&4294967295,V=P+(O<<9&4294967295|O>>>23),O=M+(P^k&(V^P))+L[3]+4107603335&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^P&(M^V))+L[8]+1163531501&4294967295,k=M+(O<<20&4294967295|O>>>12),O=P+(M^V&(k^M))+L[13]+2850285829&4294967295,P=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(P^k))+L[2]+4243563512&4294967295,V=P+(O<<9&4294967295|O>>>23),O=M+(P^k&(V^P))+L[7]+1735328473&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^P&(M^V))+L[12]+2368359562&4294967295,k=M+(O<<20&4294967295|O>>>12),O=P+(k^M^V)+L[5]+4294588738&4294967295,P=k+(O<<4&4294967295|O>>>28),O=V+(P^k^M)+L[8]+2272392833&4294967295,V=P+(O<<11&4294967295|O>>>21),O=M+(V^P^k)+L[11]+1839030562&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^P)+L[14]+4259657740&4294967295,k=M+(O<<23&4294967295|O>>>9),O=P+(k^M^V)+L[1]+2763975236&4294967295,P=k+(O<<4&4294967295|O>>>28),O=V+(P^k^M)+L[4]+1272893353&4294967295,V=P+(O<<11&4294967295|O>>>21),O=M+(V^P^k)+L[7]+4139469664&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^P)+L[10]+3200236656&4294967295,k=M+(O<<23&4294967295|O>>>9),O=P+(k^M^V)+L[13]+681279174&4294967295,P=k+(O<<4&4294967295|O>>>28),O=V+(P^k^M)+L[0]+3936430074&4294967295,V=P+(O<<11&4294967295|O>>>21),O=M+(V^P^k)+L[3]+3572445317&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^P)+L[6]+76029189&4294967295,k=M+(O<<23&4294967295|O>>>9),O=P+(k^M^V)+L[9]+3654602809&4294967295,P=k+(O<<4&4294967295|O>>>28),O=V+(P^k^M)+L[12]+3873151461&4294967295,V=P+(O<<11&4294967295|O>>>21),O=M+(V^P^k)+L[15]+530742520&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^P)+L[2]+3299628645&4294967295,k=M+(O<<23&4294967295|O>>>9),O=P+(M^(k|~V))+L[0]+4096336452&4294967295,P=k+(O<<6&4294967295|O>>>26),O=V+(k^(P|~M))+L[7]+1126891415&4294967295,V=P+(O<<10&4294967295|O>>>22),O=M+(P^(V|~k))+L[14]+2878612391&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~P))+L[5]+4237533241&4294967295,k=M+(O<<21&4294967295|O>>>11),O=P+(M^(k|~V))+L[12]+1700485571&4294967295,P=k+(O<<6&4294967295|O>>>26),O=V+(k^(P|~M))+L[3]+2399980690&4294967295,V=P+(O<<10&4294967295|O>>>22),O=M+(P^(V|~k))+L[10]+4293915773&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~P))+L[1]+2240044497&4294967295,k=M+(O<<21&4294967295|O>>>11),O=P+(M^(k|~V))+L[8]+1873313359&4294967295,P=k+(O<<6&4294967295|O>>>26),O=V+(k^(P|~M))+L[15]+4264355552&4294967295,V=P+(O<<10&4294967295|O>>>22),O=M+(P^(V|~k))+L[6]+2734768916&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~P))+L[13]+1309151649&4294967295,k=M+(O<<21&4294967295|O>>>11),O=P+(M^(k|~V))+L[4]+4149444226&4294967295,P=k+(O<<6&4294967295|O>>>26),O=V+(k^(P|~M))+L[11]+3174756917&4294967295,V=P+(O<<10&4294967295|O>>>22),O=M+(P^(V|~k))+L[2]+718787259&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~P))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.u=function(N,P){P===void 0&&(P=N.length);for(var k=P-this.blockSize,L=this.B,M=this.h,V=0;V<P;){if(M==0)for(;V<=k;)i(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<P;)if(L[M++]=N.charCodeAt(V++),M==this.blockSize){i(this,L),M=0;break}}else for(;V<P;)if(L[M++]=N[V++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;var k=8*this.o;for(P=N.length-8;P<N.length;++P)N[P]=k&255,k/=256;for(this.u(N),N=Array(16),P=k=0;4>P;++P)for(var L=0;32>L;L+=8)N[k++]=this.g[P]>>>L&255;return N};function o(N,P){var k=c;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=P(N)}function l(N,P){this.h=P;for(var k=[],L=!0,M=N.length-1;0<=M;M--){var V=N[M]|0;L&&V==P||(k[M]=V,L=!1)}this.g=k}var c={};function h(N){return-128<=N&&128>N?o(N,function(P){return new l([P|0],0>P?-1:0)}):new l([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return R(p(-N));for(var P=[],k=1,L=0;N>=k;L++)P[L]=N/k|0,k*=4294967296;return new l(P,0)}function g(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return R(g(N.substring(1),P));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(P,8)),L=_,M=0;M<N.length;M+=8){var V=Math.min(8,N.length-M),O=parseInt(N.substring(M,M+V),P);8>V?(V=p(Math.pow(P,V)),L=L.j(V).add(p(O))):(L=L.j(k),L=L.add(p(O)))}return L}var _=h(0),E=h(1),S=h(16777216);n=l.prototype,n.m=function(){if(b(this))return-R(this).m();for(var N=0,P=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*P,P*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(b(this))return"-"+R(this).toString(N);for(var P=p(Math.pow(N,6)),k=this,L="";;){var M=q(k,P).g;k=F(k,M.j(P));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=M,x(k))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function b(N){return N.h==-1}n.l=function(N){return N=F(this,N),b(N)?-1:x(N)?0:1};function R(N){for(var P=N.g.length,k=[],L=0;L<P;L++)k[L]=~N.g[L];return new l(k,~N.h).add(E)}n.abs=function(){return b(this)?R(this):this},n.add=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0,M=0;M<=P;M++){var V=L+(this.i(M)&65535)+(N.i(M)&65535),O=(V>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);L=O>>>16,V&=65535,O&=65535,k[M]=O<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function F(N,P){return N.add(R(P))}n.j=function(N){if(x(this)||x(N))return _;if(b(this))return b(N)?R(this).j(R(N)):R(R(this).j(N));if(b(N))return R(this.j(R(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var P=this.g.length+N.g.length,k=[],L=0;L<2*P;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<N.g.length;M++){var V=this.i(L)>>>16,O=this.i(L)&65535,le=N.i(M)>>>16,Se=N.i(M)&65535;k[2*L+2*M]+=O*Se,$(k,2*L+2*M),k[2*L+2*M+1]+=V*Se,$(k,2*L+2*M+1),k[2*L+2*M+1]+=O*le,$(k,2*L+2*M+1),k[2*L+2*M+2]+=V*le,$(k,2*L+2*M+2)}for(L=0;L<P;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=P;L<2*P;L++)k[L]=0;return new l(k,0)};function $(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function B(N,P){this.g=N,this.h=P}function q(N,P){if(x(P))throw Error("division by zero");if(x(N))return new B(_,_);if(b(N))return P=q(R(N),P),new B(R(P.g),R(P.h));if(b(P))return P=q(N,R(P)),new B(R(P.g),P.h);if(30<N.g.length){if(b(N)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var k=E,L=P;0>=L.l(N);)k=X(k),L=X(L);var M=J(k,1),V=J(L,1);for(L=J(L,2),k=J(k,2);!x(L);){var O=V.add(L);0>=O.l(N)&&(M=M.add(k),V=O),L=J(L,1),k=J(k,1)}return P=F(N,M.j(P)),new B(M,P)}for(M=_;0<=N.l(P);){for(k=Math.max(1,Math.floor(N.m()/P.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=p(k),O=V.j(P);b(O)||0<O.l(N);)k-=L,V=p(k),O=V.j(P);x(V)&&(V=E),M=M.add(V),N=F(N,O)}return new B(M,N)}n.A=function(N){return q(this,N).h},n.and=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)&N.i(L);return new l(k,this.h&N.h)},n.or=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)|N.i(L);return new l(k,this.h|N.h)},n.xor=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)^N.i(L);return new l(k,this.h^N.h)};function X(N){for(var P=N.g.length+1,k=[],L=0;L<P;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new l(k,N.h)}function J(N,P){var k=P>>5;P%=32;for(var L=N.g.length-k,M=[],V=0;V<L;V++)M[V]=0<P?N.i(V+k)>>>P|N.i(V+k+1)<<32-P:N.i(V+k);return new l(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Vs=l}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tS,ju,nS,Rh,Og,rS,iS,sS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var T=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var W=d[A];if(!(W in T))break e;T=T[W]}d=d[d.length-1],A=T[d],y=y(A),y!=A&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var T=0,A=!1,W={next:function(){if(!A&&T<d.length){var Q=T++;return{value:y(Q,d[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(d){return d||function(){return o(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,T){return d.call.apply(d.bind,arguments)}function _(d,y,T){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function E(d,y,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function S(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function x(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(A,W,Q){for(var ae=Array(arguments.length-2),et=2;et<arguments.length;et++)ae[et-2]=arguments[et];return y.prototype[W].apply(A,ae)}}function b(d){const y=d.length;if(0<y){const T=Array(y);for(let A=0;A<y;A++)T[A]=d[A];return T}return[]}function R(d,y){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(h(A)){const W=d.length||0,Q=A.length||0;d.length=W+Q;for(let ae=0;ae<Q;ae++)d[W+ae]=A[ae]}else d.push(A)}}class F{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function J(d,y,T){for(const A in d)y.call(T,d[A],A,d)}function N(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function P(d){const y={};for(const T in d)y[T]=d[T];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,y){let T,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(T in A)d[T]=A[T];for(let Q=0;Q<k.length;Q++)T=k[Q],Object.prototype.hasOwnProperty.call(A,T)&&(d[T]=A[T])}}function M(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function V(d){c.setTimeout(()=>{throw d},0)}function O(){var d=ue;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class le{constructor(){this.h=this.g=null}add(y,T){const A=Se.get();A.set(y,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Se=new F(()=>new xe,d=>d.reset());class xe{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ie=!1,ue=new le,se=()=>{const d=c.Promise.resolve(void 0);Te=()=>{d.then(z)}};var z=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(T){V(T)}var y=Se;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return d}();function Ae(d,y){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(X){e:{try{q(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}x(Ae,fe);var Oe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ye(d,y,T,A,W){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!A,this.ha=W,this.key=++De,this.da=this.fa=!1}function Rt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ln(d){this.src=d,this.g={},this.h=0}Ln.prototype.add=function(d,y,T,A,W){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ae=fr(d,y,A,W);return-1<ae?(y=d[ae],T||(y.fa=!1)):(y=new Ye(y,this.src,Q,!!A,W),y.fa=T,d.push(y)),y};function Gi(d,y){var T=y.type;if(T in d.g){var A=d.g[T],W=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(A,W,1),Q&&(Rt(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function fr(d,y,T,A){for(var W=0;W<d.length;++W){var Q=d[W];if(!Q.da&&Q.listener==y&&Q.capture==!!T&&Q.ha==A)return W}return-1}var di="closure_lm_"+(1e6*Math.random()|0),Qi={};function Yi(d,y,T,A,W){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Yi(d,y[Q],T,A,W);return null}return T=es(T),d&&d[Ve]?d.K(y,T,p(A)?!!A.capture:!1,W):Xi(d,y,T,!1,A,W)}function Xi(d,y,T,A,W,Q){if(!y)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,et=hi(d);if(et||(d[di]=et=new Ln(d)),T=et.add(y,T,A,ae,Q),T.proxy)return T;if(A=ia(),T.proxy=A,A.src=d,A.listener=T,d.addEventListener)Ie||(W=ae),W===void 0&&(W=!1),d.addEventListener(y.toString(),A,W);else if(d.attachEvent)d.attachEvent(wn(y.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ia(){function d(T){return y.call(d.src,d.listener,T)}const y=Zi;return d}function Ji(d,y,T,A,W){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Ji(d,y[Q],T,A,W);else A=p(A)?!!A.capture:!!A,T=es(T),d&&d[Ve]?(d=d.i,y=String(y).toString(),y in d.g&&(Q=d.g[y],T=fr(Q,T,A,W),-1<T&&(Rt(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete d.g[y],d.h--)))):d&&(d=hi(d))&&(y=d.g[y.toString()],d=-1,y&&(d=fr(y,T,A,W)),(T=-1<d?y[d]:null)&&Ht(T))}function Ht(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ve])Gi(y.i,d);else{var T=d.type,A=d.proxy;y.removeEventListener?y.removeEventListener(T,A,d.capture):y.detachEvent?y.detachEvent(wn(T),A):y.addListener&&y.removeListener&&y.removeListener(A),(T=hi(y))?(Gi(T,d),T.h==0&&(T.src=null,y[di]=null)):Rt(d)}}}function wn(d){return d in Qi?Qi[d]:Qi[d]="on"+d}function Zi(d,y){if(d.da)d=!0;else{y=new Ae(y,this);var T=d.listener,A=d.ha||d.src;d.fa&&Ht(d),d=T.call(A,y)}return d}function hi(d){return d=d[di],d instanceof Ln?d:null}var Fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(d){return typeof d=="function"?d:(d[Fr]||(d[Fr]=function(y){return d.handleEvent(y)}),d[Fr])}function vt(){Y.call(this),this.i=new Ln(this),this.M=this,this.F=null}x(vt,Y),vt.prototype[Ve]=!0,vt.prototype.removeEventListener=function(d,y,T,A){Ji(this,d,y,T,A)};function _t(d,y){var T,A=d.F;if(A)for(T=[];A;A=A.F)T.push(A);if(d=d.M,A=y.type||y,typeof y=="string")y=new fe(y,d);else if(y instanceof fe)y.target=y.target||d;else{var W=y;y=new fe(A,d),L(y,W)}if(W=!0,T)for(var Q=T.length-1;0<=Q;Q--){var ae=y.g=T[Q];W=Qn(ae,A,!0,y)&&W}if(ae=y.g=d,W=Qn(ae,A,!0,y)&&W,W=Qn(ae,A,!1,y)&&W,T)for(Q=0;Q<T.length;Q++)ae=y.g=T[Q],W=Qn(ae,A,!1,y)&&W}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],A=0;A<T.length;A++)Rt(T[A]);delete d.g[y],d.h--}}this.F=null},vt.prototype.K=function(d,y,T,A){return this.i.add(String(d),y,!1,T,A)},vt.prototype.L=function(d,y,T,A){return this.i.add(String(d),y,!0,T,A)};function Qn(d,y,T,A){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==T){var et=ae.listener,bt=ae.ha||ae.src;ae.fa&&Gi(d.i,ae),W=et.call(bt,A)!==!1&&W}}return W&&!A.defaultPrevented}function Ml(d,y,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function ts(d){d.g=Ml(()=>{d.g=null,d.i&&(d.i=!1,ts(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class lo extends Y{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ts(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(d){Y.call(this),this.h=d,this.g={}}x(uo,Y);var Vl=[];function Fl(d){J(d.g,function(y,T){this.g.hasOwnProperty(T)&&Ht(y)},d),d.g={}}uo.prototype.N=function(){uo.aa.N.call(this),Fl(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jl=c.JSON.stringify,Ul=c.JSON.parse,$l=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function co(){}co.prototype.h=null;function sa(d){return d.h||(d.h=d.i())}function oa(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){fe.call(this,"d")}x(jr,fe);function aa(){fe.call(this,"c")}x(aa,fe);var Ur={},Bl=null;function ho(){return Bl=Bl||new vt}Ur.La="serverreachability";function zl(d){fe.call(this,Ur.La,d)}x(zl,fe);function fi(d){const y=ho();_t(y,new zl(y))}Ur.STAT_EVENT="statevent";function Wl(d,y){fe.call(this,Ur.STAT_EVENT,d),this.stat=y}x(Wl,fe);function It(d){const y=ho();_t(y,new Wl(y,d))}Ur.Ma="timingevent";function la(d,y){fe.call(this,Ur.Ma,d),this.size=y}x(la,fe);function pr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function po(d,y,T,A,W,Q){d.info(function(){if(d.g)if(Q)for(var ae="",et=Q.split("&"),bt=0;bt<et.length;bt++){var Be=et[bt].split("=");if(1<Be.length){var Vt=Be[0];Be=Be[1];var xt=Vt.split("_");ae=2<=xt.length&&xt[1]=="type"?ae+(Vt+"="+Be+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+y+`
`+T+`
`+ae})}function ua(d,y,T,A,W,Q,ae){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+y+`
`+T+`
`+Q+" "+ae})}function mr(d,y,T,A){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+ap(d,T)+(A?" "+A:"")})}function Hl(d,y){d.info(function(){return"TIMEOUT: "+y})}fo.prototype.info=function(){};function ap(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var A=T[d];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return jl(T)}catch{return y}}var ca={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function mo(){}x(mo,co),mo.prototype.g=function(){return new XMLHttpRequest},mo.prototype.i=function(){return{}},gr=new mo;function yr(d,y,T,A){this.j=d,this.i=y,this.l=T,this.R=A||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hc}function Hc(){this.i=null,this.g="",this.h=!1}var ql={},da={};function ha(d,y,T){d.L=1,d.v=os(Vn(y)),d.m=T,d.P=!0,Kl(d,null)}function Kl(d,y){d.F=Date.now(),rt(d),d.A=Vn(d.v);var T=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),ls(T.i,"t",A),d.C=0,T=d.j.J,d.h=new Hc,d.g=ud(d.j,T?y:null,!d.m),0<d.O&&(d.M=new lo(E(d.Y,d,d.g),d.O)),y=d.U,T=d.g,A=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Vl[0]=W.toString()),W=Vl);for(var Q=0;Q<W.length;Q++){var ae=Yi(T,W[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),fi(),po(d.i,d.u,d.A,d.l,d.R,d.m)}yr.prototype.ca=function(d){d=d.target;const y=this.M;y&&Tn(d)==3?y.j():this.Y(d)},yr.prototype.Y=function(d){try{if(d==this.g)e:{const xt=Tn(this.g);var y=this.g.Ba();const Zn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||xt!=4||y==7||(y==8||0>=Zn?fi(3):fi(2)),go(this);var T=this.g.Z();this.X=T;t:if(qc(this)){var A=Zl(this.g);d="";var W=A.length,Q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),ns(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(A[y],{stream:!(Q&&y==W-1)});A.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=T==200,ua(this.i,this.u,this.A,this.l,this.R,xt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var et,bt=this.g;if((et=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(et)){var Be=et;break t}}Be=null}if(T=Be)mr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gl(this,T);else{this.o=!1,this.s=3,It(12),Xn(this),ns(this);break e}}if(this.P){T=!0;let jn;for(;!this.J&&this.C<ae.length;)if(jn=lp(this,ae),jn==da){xt==4&&(this.s=4,It(14),T=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==ql){this.s=4,It(15),mr(this.i,this.l,ae,"[Invalid Chunk]"),T=!1;break}else mr(this.i,this.l,jn,null),Gl(this,jn);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ae.length!=0||this.h.h||(this.s=1,It(16),T=!1),this.o=this.o&&T,!T)mr(this.i,this.l,ae,"[Invalid Chunked Response]"),Xn(this),ns(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),tu(Vt),Vt.M=!0,It(11))}}else mr(this.i,this.l,ae,null),Gl(this,ae);xt==4&&Xn(this),this.o&&!this.J&&(xt==4?Ia(this.j,this):(this.o=!1,rt(this)))}else va(this.g),T==400&&0<ae.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Xn(this),ns(this)}}}catch{}finally{}};function qc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function lp(d,y){var T=d.C,A=y.indexOf(`
`,T);return A==-1?da:(T=Number(y.substring(T,A)),isNaN(T)?ql:(A+=1,A+T>y.length?da:(y=y.slice(A,A+T),d.C=A+T,y)))}yr.prototype.cancel=function(){this.J=!0,Xn(this)};function rt(d){d.S=Date.now()+d.I,Kc(d,d.I)}function Kc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=pr(E(d.ba,d),y)}function go(d){d.B&&(c.clearTimeout(d.B),d.B=null)}yr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Hl(this.i,this.A),this.L!=2&&(fi(),It(17)),Xn(this),this.s=2,ns(this)):Kc(this,this.S-d)};function ns(d){d.j.G==0||d.J||Ia(d.j,d)}function Xn(d){go(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Fl(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Gl(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||fn(T.h,d))){if(!d.K&&fn(T.h,d)&&T.G==3){try{var A=T.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Ta(T),Tr(T);else break e;Ea(T),It(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=pr(E(T.Za,T),6e3));if(1>=Qc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else vi(T,11)}else if((d.K||T.g==d)&&Ta(T),!$(y))for(W=T.Da.g.parse(y),y=0;y<W.length;y++){let Be=W[y];if(T.T=Be[0],Be=Be[1],T.G==2)if(Be[0]=="c"){T.K=Be[1],T.ia=Be[2];const Vt=Be[3];Vt!=null&&(T.la=Vt,T.j.info("VER="+T.la));const xt=Be[4];xt!=null&&(T.Aa=xt,T.j.info("SVER="+T.Aa));const Zn=Be[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(A=1.5*Zn,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const jn=d.g;if(jn){const Io=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Io){var Q=A.h;Q.g||Io.indexOf("spdy")==-1&&Io.indexOf("quic")==-1&&Io.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ql(Q,Q.h),Q.h=null))}if(A.D){const Sa=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(A.ya=Sa,nt(A.I,A.D,Sa))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ae=d;if(A.qa=ld(A,A.J?A.ia:null,A.W),ae.K){Yc(A.h,ae);var et=ae,bt=A.L;bt&&(et.I=bt),et.B&&(go(et),rt(et)),A.g=ae}else To(A);0<T.i.length&&Wr(T)}else Be[0]!="stop"&&Be[0]!="close"||vi(T,7);else T.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?vi(T,7):Kt(T):Be[0]!="noop"&&T.l&&T.l.ta(Be),T.v=0)}}fi(4)}catch{}}var Gc=class{constructor(d,y){this.g=d,this.map=y}};function yo(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qc(d){return d.h?1:d.g?d.g.size:0}function fn(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ql(d,y){d.g?d.g.add(y):d.h=y}function Yc(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}yo.prototype.cancel=function(){if(this.i=Xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Xc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return b(d.i)}function fa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],T=d.length,A=0;A<T;A++)y.push(d[A]);return y}y=[],T=0;for(A in d)y[T++]=d[A];return y}function pa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const A in d)y[T++]=A;return y}}}function rs(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=pa(d),A=fa(d),W=A.length,Q=0;Q<W;Q++)y.call(void 0,A[Q],T&&T[Q],d)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function up(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var A=d[T].indexOf("="),W=null;if(0<=A){var Q=d[T].substring(0,A);W=d[T].substring(A+1)}else Q=d[T];y(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function pi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof pi){this.h=d.h,_o(this,d.j),this.o=d.o,this.g=d.g,is(this,d.s),this.l=d.l;var y=d.i,T=new $r;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),ss(this,T),this.m=d.m}else d&&(y=String(d).match(vo))?(this.h=!1,_o(this,y[1]||"",!0),this.o=je(y[2]||""),this.g=je(y[3]||"",!0),is(this,y[4]),this.l=je(y[5]||"",!0),ss(this,y[6]||"",!0),this.m=je(y[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}pi.prototype.toString=function(){var d=[],y=this.j;y&&d.push(as(y,ma,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(as(y,ma,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(as(T,T.charAt(0)=="/"?ed:Zc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",as(T,Yl)),d.join("")};function Vn(d){return new pi(d)}function _o(d,y,T){d.j=T?je(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function is(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function ss(d,y,T){y instanceof $r?(d.i=y,Br(d.i,d.h)):(T||(y=as(y,td)),d.i=new $r(y,d.h))}function nt(d,y,T){d.i.set(y,T)}function os(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function je(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function as(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,Jc),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Jc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ma=/[#\/\?@]/g,Zc=/[#\?:]/g,ed=/[#\?]/g,td=/[#\?@]/g,Yl=/#/g;function $r(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function qt(d){d.g||(d.g=new Map,d.h=0,d.i&&up(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=$r.prototype,n.add=function(d,y){qt(this),this.i=null,d=Jn(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function vr(d,y){qt(d),y=Jn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function _r(d,y){return qt(d),y=Jn(d,y),d.g.has(y)}n.forEach=function(d,y){qt(this),this.g.forEach(function(T,A){T.forEach(function(W){d.call(y,W,A,this)},this)},this)},n.na=function(){qt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let A=0;A<y.length;A++){const W=d[A];for(let Q=0;Q<W.length;Q++)T.push(y[A])}return T},n.V=function(d){qt(this);let y=[];if(typeof d=="string")_r(this,d)&&(y=y.concat(this.g.get(Jn(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},n.set=function(d,y){return qt(this),this.i=null,d=Jn(this,d),_r(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function ls(d,y,T){vr(d,y),0<T.length&&(d.i=null,d.g.set(Jn(d,y),b(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var A=y[T];const Q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var W=Q;ae[A]!==""&&(W+="="+encodeURIComponent(String(ae[A]))),d.push(W)}}return this.i=d.join("&")};function Jn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Br(d,y){y&&!d.j&&(qt(d),d.i=null,d.g.forEach(function(T,A){var W=A.toLowerCase();A!=W&&(vr(this,A),ls(this,W,T))},d)),d.j=y}function cp(d,y){const T=new fo;if(c.Image){const A=new Image;A.onload=S(En,T,"TestLoadImage: loaded",!0,y,A),A.onerror=S(En,T,"TestLoadImage: error",!1,y,A),A.onabort=S(En,T,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(En,T,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else y(!1)}function nd(d,y){const T=new fo,A=new AbortController,W=setTimeout(()=>{A.abort(),En(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:A.signal}).then(Q=>{clearTimeout(W),Q.ok?En(T,"TestPingServer: ok",!0,y):En(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),En(T,"TestPingServer: error",!1,y)})}function En(d,y,T,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(T)}catch{}}function dp(){this.g=new $l}function rd(d,y,T){const A=T||"";try{rs(d,function(W,Q){let ae=W;p(W)&&(ae=jl(W)),y.push(A+Q+"="+encodeURIComponent(ae))})}catch(W){throw y.push(A+"type="+encodeURIComponent("_badmap")),W}}function mi(d){this.l=d.Ub||null,this.j=d.eb||!1}x(mi,co),mi.prototype.g=function(){return new wo(this.l,this.j)},mi.prototype.i=function(d){return function(){return d}}({});function wo(d,y){vt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(wo,vt),n=wo.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Er(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;id(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function id(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?wr(this):Er(this),this.readyState==3&&id(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,wr(this))},n.Qa=function(d){this.g&&(this.response=d,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Er(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Er(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function gi(d){let y="";return J(d,function(T,A){y+=A,y+=":",y+=T,y+=`\r
`}),y}function us(d,y,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=gi(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):nt(d,y,T))}function ht(d){vt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ht,vt);var hp=/^https?$/i,Xl=["POST","PUT"];n=ht.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?sa(this.o):sa(gr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Q){Eo(this,Q);return}if(d=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)T.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Xl,y,void 0))||A||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of T)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ya(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){Eo(this,Q)}};function Eo(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,ga(d),Fn(d)}function ga(d){d.A||(d.A=!0,_t(d,"complete"),_t(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,_t(this,"complete"),_t(this,"abort"),Fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Jl(this):this.bb())},n.bb=function(){Jl(this)};function Jl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Tn(d)!=4||d.Z()!=2)){if(d.u&&Tn(d)==4)Ml(d.Ea,0,d);else if(_t(d,"readystatechange"),Tn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var A;if(A=ae===0){var W=String(d.D).match(vo)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),A=!hp.test(W?W.toLowerCase():"")}T=A}if(T)_t(d,"complete"),_t(d,"success");else{d.m=6;try{var Q=2<Tn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",ga(d)}}finally{Fn(d)}}}}function Fn(d,y){if(d.g){ya(d);const T=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||_t(d,"ready");try{T.onreadystatechange=A}catch{}}}function ya(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Tn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ul(y)}};function Zl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function va(d){const y={};d=(d.g&&2<=Tn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if($(d[A]))continue;var T=M(d[A]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=y[W]||[];y[W]=Q,Q.push(T)}N(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function eu(d){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,d),this.cb=zr("retryDelaySeedMs",1e4,d),this.Wa=zr("forwardChannelMaxRetries",2,d),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(d&&d.concurrentRequestLimit),this.Da=new dp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=eu.prototype,n.la=8,n.G=1,n.connect=function(d,y,T,A){It(0),this.W=d,this.H=y||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=ld(this,null,this.W),Wr(this)};function Kt(d){if(_a(d),d.G==3){var y=d.U++,T=Vn(d.I);if(nt(T,"SID",d.K),nt(T,"RID",y),nt(T,"TYPE","terminate"),yi(d,T),y=new yr(d,d.j,y),y.L=2,y.v=os(Vn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.v,T=!0),T||(y.g=ud(y.j,null),y.g.ea(y.v)),y.F=Date.now(),rt(y)}ad(d)}function Tr(d){d.g&&(tu(d),d.g.cancel(),d.g=null)}function _a(d){Tr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ta(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Wr(d){if(!Mn(d.h)&&!d.s){d.s=!0;var y=d.Ga;Te||se(),ie||(Te(),ie=!0),ue.add(y,d),d.B=0}}function fp(d,y){return Qc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=pr(E(d.Ga,d,y),od(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new yr(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=P(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=cs(this,W,y),T=Vn(this.I),nt(T,"RID",d),nt(T,"CVER",22),this.D&&nt(T,"X-HTTP-Session-Id",this.D),yi(this,T),Q&&(this.O?y="headers="+encodeURIComponent(String(gi(Q)))+"&"+y:this.m&&us(T,this.m,Q)),Ql(this.h,W),this.Ua&&nt(T,"TYPE","init"),this.P?(nt(T,"$req",y),nt(T,"SID","null"),W.T=!0,ha(W,T,null)):ha(W,T,y),this.G=2}}else this.G==3&&(d?wa(this,d):this.i.length==0||Mn(this.h)||wa(this))};function wa(d,y){var T;y?T=y.l:T=d.U++;const A=Vn(d.I);nt(A,"SID",d.K),nt(A,"RID",T),nt(A,"AID",d.T),yi(d,A),d.m&&d.o&&us(A,d.m,d.o),T=new yr(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=cs(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ql(d.h,T),ha(T,A,y)}function yi(d,y){d.H&&J(d.H,function(T,A){nt(y,A,T)}),d.l&&rs({},function(T,A){nt(y,A,T)})}function cs(d,y,T){T=Math.min(d.i.length,T);var A=d.l?E(d.l.Na,d.l,d):null;e:{var W=d.i;let Q=-1;for(;;){const ae=["count="+T];Q==-1?0<T?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let et=!0;for(let bt=0;bt<T;bt++){let Be=W[bt].g;const Vt=W[bt].map;if(Be-=Q,0>Be)Q=Math.max(0,W[bt].g-100),et=!1;else try{rd(Vt,ae,"req"+Be+"_")}catch{A&&A(Vt)}}if(et){A=ae.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,A}function To(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Te||se(),ie||(Te(),ie=!0),ue.add(y,d),d.v=0}}function Ea(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=pr(E(d.Fa,d),od(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,sd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=pr(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Tr(this),sd(this))};function tu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function sd(d){d.g=new yr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Vn(d.qa);nt(y,"RID","rpc"),nt(y,"SID",d.K),nt(y,"AID",d.T),nt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(y,"TO",d.ja),nt(y,"TYPE","xmlhttp"),yi(d,y),d.m&&d.o&&us(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=os(Vn(y)),T.m=null,T.P=!0,Kl(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),Ea(this),It(19))};function Ta(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ia(d,y){var T=null;if(d.g==y){Ta(d),tu(d),d.g=null;var A=2}else if(fn(d.h,y))T=y.D,Yc(d.h,y),A=1;else return;if(d.G!=0){if(y.o)if(A==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;A=ho(),_t(A,new la(A,T)),Wr(d)}else To(d);else if(W=y.s,W==3||W==0&&0<y.X||!(A==1&&fp(d,y)||A==2&&Ea(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),W){case 1:vi(d,5);break;case 4:vi(d,10);break;case 3:vi(d,6);break;default:vi(d,2)}}}function od(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function vi(d,y){if(d.j.info("Error code "+y),y==2){var T=E(d.fb,d),A=d.Xa;const W=!A;A=new pi(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||_o(A,"https"),os(A),W?cp(A.toString(),T):nd(A.toString(),T)}else It(2);d.G=0,d.l&&d.l.sa(y),ad(d),_a(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function ad(d){if(d.G=0,d.ka=[],d.l){const y=Xc(d.h);(y.length!=0||d.i.length!=0)&&(R(d.ka,y),R(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function ld(d,y,T){var A=T instanceof pi?Vn(T):new pi(T);if(A.g!="")y&&(A.g=y+"."+A.g),is(A,A.s);else{var W=c.location;A=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var Q=new pi(null);A&&_o(Q,A),y&&(Q.g=y),W&&is(Q,W),T&&(Q.l=T),A=Q}return T=d.D,y=d.ya,T&&y&&nt(A,T,y),nt(A,"VER",d.la),yi(d,A),A}function ud(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new ht(new mi({eb:T})):new ht(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}n=nu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ca(){}Ca.prototype.g=function(d,y){return new pn(d,y)};function pn(d,y){vt.call(this),this.g=new eu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!$(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Hr(this)}x(pn,vt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kt(this.g)},pn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=jl(d),d=T);y.i.push(new Gc(y.Ya++,d)),y.G==3&&Wr(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,pn.aa.N.call(this)};function cd(d){jr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}x(cd,jr);function dd(){aa.call(this),this.status=1}x(dd,aa);function Hr(d){this.g=d}x(Hr,nu),Hr.prototype.ua=function(){_t(this.g,"a")},Hr.prototype.ta=function(d){_t(this.g,new cd(d))},Hr.prototype.sa=function(d){_t(this.g,new dd)},Hr.prototype.ra=function(){_t(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,sS=function(){return new Ca},iS=function(){return ho()},rS=Ur,Og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,Rh=ca,Wc.COMPLETE="complete",nS=Wc,oa.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,ju=oa,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,tS=ht}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",kE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new If("@firebase/firestore");function Ka(){return Ws.logLevel}function HD(n){Ws.setLogLevel(n)}function he(n,...e){if(Ws.logLevel<=Me.DEBUG){const t=e.map(Gy);Ws.debug(`Firestore (${xl}): ${n}`,...t)}}function Ui(n,...e){if(Ws.logLevel<=Me.ERROR){const t=e.map(Gy);Ws.error(`Firestore (${xl}): ${n}`,...t)}}function ll(n,...e){if(Ws.logLevel<=Me.WARN){const t=e.map(Gy);Ws.warn(`Firestore (${xl}): ${n}`,...t)}}function Gy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: `+n;throw Ui(e),new Error(e)}function Je(n,e){n||Re()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class KD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Di,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Di)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new oS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new sn(e)}}class QD{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class YD{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new QD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new bE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=JD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function ul(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=-62135596800,OE=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*OE);return new Lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<NE)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-NE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Lt(0,0))}static max(){return new ke(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__name__";class Yr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Yr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Yr.isNumericId(e),i=Yr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class pt extends Yr{construct(e,t,r){return new pt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const ZD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Yr{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return ZD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new Xt([DE])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(pt.fromString(e))}static fromName(e){return new Ee(pt.fromString(e).popFirst(5))}static empty(){return new Ee(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=-1;function eL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Lt(t+1,0):new Lt(t,r));return new Hs(i,Ee.empty(),e)}function tL(n){return new Hs(n.readTime,n.key,ac)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(ke.min(),Ee.empty(),ac)}static max(){return new Hs(ke.max(),Ee.empty(),ac)}}function nL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==rL)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(i=>i?Z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++c,c===o&&r(l)},g=>i(g))}})}static doWhile(e,t){return new Z((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function sL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Pf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-1;function kf(n){return n==null}function qh(n){return n===0&&1/n==-1/0}function oL(n){return typeof n=="number"&&Number.isInteger(n)&&!qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="";function aL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LE(e)),e=lL(n.get(t),e);return LE(e)}function lL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case lS:t+="";break;default:t+=o}}return t}function LE(n){return n+lS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kt=class Dg{constructor(e,t){this.comparator=e,this.root=t||Fs.EMPTY}insert(e,t){return new Dg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fs.BLACK,null,null))}remove(e){return new Dg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}},lh=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fs=class Ai{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ai.RED,this.left=i??Ai.EMPTY,this.right=o??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ai(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}};Fs.EMPTY=null,Fs.RED=!0,Fs.BLACK=!1;Fs.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Fs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new Mt(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cS("Invalid base64 string: "+o):o}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const uL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(n){if(Je(!!n),typeof n=="string"){let e=0;const t=uL.exec(n);if(Je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ks(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="server_timestamp",hS="__type__",fS="__previous_value__",pS="__local_write_time__";function Yy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[hS])===null||t===void 0?void 0:t.stringValue)===dS}function bf(n){const e=n.mapValue.fields[fS];return Yy(e)?bf(e):e}function lc(n){const e=qs(n.mapValue.fields[pS].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,t,r,i,o,l,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const Kh="(default)";class uc{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new uc("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="__type__",dL="__max__",uh={mapValue:{}},gS="__vector__",Gh="value";function Gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yy(n)?4:fL(n)?9007199254740991:hL(n)?10:11:Re()}function oi(n,e){if(n===e)return!0;const t=Gs(n);if(t!==Gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lc(n).isEqual(lc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=qs(i.timestampValue),c=qs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ks(i.bytesValue).isEqual(Ks(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return St(i.geoPointValue.latitude)===St(o.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return St(i.integerValue)===St(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=St(i.doubleValue),c=St(o.doubleValue);return l===c?qh(l)===qh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ul(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(ME(l)!==ME(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!oi(l[h],c[h])))return!1;return!0}(n,e);default:return Re()}}function cc(n,e){return(n.values||[]).find(t=>oi(t,e))!==void 0}function cl(n,e){if(n===e)return 0;const t=Gs(n),r=Gs(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=St(o.integerValue||o.doubleValue),h=St(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return FE(n.timestampValue,e.timestampValue);case 4:return FE(lc(n),lc(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Ks(o),h=Ks(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=Ue(c[p],h[p]);if(g!==0)return g}return Ue(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ue(St(o.latitude),St(l.latitude));return c!==0?c:Ue(St(o.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jE(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,p,g;const _=o.fields||{},E=l.fields||{},S=(c=_[Gh])===null||c===void 0?void 0:c.arrayValue,x=(h=E[Gh])===null||h===void 0?void 0:h.arrayValue,b=Ue(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:jE(S,x)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===uh.mapValue&&l===uh.mapValue)return 0;if(o===uh.mapValue)return 1;if(l===uh.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const E=Ue(h[_],g[_]);if(E!==0)return E;const S=cl(c[h[_]],p[g[_]]);if(S!==0)return S}return Ue(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Re()}}function FE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=qs(n),r=qs(e),i=Ue(t.seconds,r.seconds);return i!==0?i:Ue(t.nanos,r.nanos)}function jE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=cl(t[i],r[i]);if(o)return o}return Ue(t.length,r.length)}function dl(n){return Lg(n)}function Lg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=qs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ks(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Lg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Lg(t.fields[l])}`;return i+"}"}(n.mapValue):Re()}function xh(n){switch(Gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(n);return e?16+xh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+xh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return io(r.fields,(o,l)=>{i+=o.length+xh(l)}),i}(n.mapValue);default:throw Re()}}function Mg(n){return!!n&&"integerValue"in n}function Xy(n){return!!n&&"arrayValue"in n}function UE(n){return!!n&&"nullValue"in n}function $E(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ah(n){return!!n&&"mapValue"in n}function hL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mS])===null||t===void 0?void 0:t.stringValue)===gS}function Wu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return io(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(t)}setAll(e){let t=Xt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Wu(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ah(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){io(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(Wu(this.value))}}function yS(n){const e=[];return io(n.fields,(t,r)=>{const i=new Xt([t]);if(Ah(r)){const o=yS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new on(e,0,ke.min(),ke.min(),ke.min(),kn.empty(),0)}static newFoundDocument(e,t,r,i){return new on(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new on(e,2,t,ke.min(),ke.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,ke.min(),ke.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this.position=e,this.inclusive=t}}function BE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=cl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function pL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{}class Dt extends vS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gL(e,t,r):t==="array-contains"?new _L(e,r):t==="in"?new wL(e,r):t==="not-in"?new EL(e,r):t==="array-contains-any"?new TL(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new yL(e,r):new vL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(cl(t,this.value)):t!==null&&Gs(this.value)===Gs(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends vS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ai(e,t)}matches(e){return _S(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _S(n){return n.op==="and"}function wS(n){return mL(n)&&_S(n)}function mL(n){for(const e of n.filters)if(e instanceof ai)return!1;return!0}function Vg(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+dl(n.value);if(wS(n))return n.filters.map(e=>Vg(e)).join(",");{const e=n.filters.map(t=>Vg(t)).join(",");return`${n.op}(${e})`}}function ES(n,e){return n instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&oi(r.value,i.value)}(n,e):n instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&ES(l,i.filters[c]),!0):!1}(n,e):void Re()}function TS(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${dl(t.value)}`}(n):n instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(TS).join(" ,")+"}"}(n):"Filter"}class gL extends Dt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class yL extends Dt{constructor(e,t){super(e,"in",t),this.keys=IS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vL extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=IS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function IS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class _L extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xy(t)&&cc(t.arrayValue,this.value)}}class wL extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cc(this.value.arrayValue,t)}}class EL extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cc(this.value.arrayValue,t)}}class TL extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function WE(n,e=null,t=[],r=[],i=null,o=null,l=null){return new IL(n,e,t,r,i,o,l)}function Jy(n){const e=be(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dl(r)).join(",")),e.le=t}return e.le}function Zy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ES(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zE(n.startAt,e.startAt)&&zE(n.endAt,e.endAt)}function Fg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CL(n,e,t,r,i,o,l,c){return new Nf(n,e,t,r,i,o,l,c)}function Of(n){return new Nf(n)}function HE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SL(n){return n.collectionGroup!==null}function Hu(n){const e=be(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Mt(Xt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Yh(o,r))}),t.has(Xt.keyField().canonicalString())||e.he.push(new Yh(Xt.keyField(),r))}return e.he}function ni(n){const e=be(n);return e.Pe||(e.Pe=RL(e,Hu(n))),e.Pe}function RL(n,e){if(n.limitType==="F")return WE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Yh(i.field,o)});const t=n.endAt?new Qh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qh(n.startAt.position,n.startAt.inclusive):null;return WE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jg(n,e,t){return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Df(n,e){return Zy(ni(n),ni(e))&&n.limitType===e.limitType}function CS(n){return`${Jy(ni(n))}|lt:${n.limitType}`}function Ga(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>TS(i)).join(", ")}]`),kf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>dl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(ni(n))}; limitType=${n.limitType})`}function Lf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Hu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=BE(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Hu(r),i)||r.endAt&&!function(l,c,h){const p=BE(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Hu(r),i))}(n,e)}function xL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SS(n){return(e,t)=>{let r=!1;for(const i of Hu(n)){const o=AL(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function AL(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?cl(h,p):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new kt(Ee.comparator);function $i(){return PL}const RS=new kt(Ee.comparator);function Uu(...n){let e=RS;for(const t of n)e=e.insert(t.key,t);return e}function xS(n){let e=RS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jo(){return qu()}function AS(){return qu()}function qu(){return new Zo(n=>n.toString(),(n,e)=>n.isEqual(e))}const kL=new kt(Ee.comparator),bL=new Mt(Ee.comparator);function Fe(...n){let e=bL;for(const t of n)e=e.add(t);return e}const NL=new Mt(Ue);function OL(){return NL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function PS(n){return{integerValue:""+n}}function DL(n,e){return oL(e)?PS(e):ev(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function LL(n,e,t){return n instanceof dc?function(i,o){const l={fields:{[hS]:{stringValue:dS},[pS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Yy(o)&&(o=bf(o)),o&&(l.fields[fS]=o),{mapValue:l}}(t,e):n instanceof hc?bS(n,e):n instanceof fc?NS(n,e):function(i,o){const l=kS(i,o),c=qE(l)+qE(i.Ie);return Mg(l)&&Mg(i.Ie)?PS(c):ev(i.serializer,c)}(n,e)}function ML(n,e,t){return n instanceof hc?bS(n,e):n instanceof fc?NS(n,e):t}function kS(n,e){return n instanceof Xh?function(r){return Mg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class dc extends Mf{}class hc extends Mf{constructor(e){super(),this.elements=e}}function bS(n,e){const t=OS(e);for(const r of n.elements)t.some(i=>oi(i,r))||t.push(r);return{arrayValue:{values:t}}}class fc extends Mf{constructor(e){super(),this.elements=e}}function NS(n,e){let t=OS(e);for(const r of n.elements)t=t.filter(i=>!oi(i,r));return{arrayValue:{values:t}}}class Xh extends Mf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function qE(n){return St(n.integerValue||n.doubleValue)}function OS(n){return Xy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t){this.field=e,this.transform=t}}function FL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof hc&&i instanceof hc||r instanceof fc&&i instanceof fc?ul(r.elements,i.elements,oi):r instanceof Xh&&i instanceof Xh?oi(r.Ie,i.Ie):r instanceof dc&&i instanceof dc}(n.transform,e.transform)}class jL{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vf{}function DS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tv(n.key,lr.none()):new Ac(n.key,n.data,lr.none());{const t=n.data,r=kn.empty();let i=new Mt(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new so(n.key,r,new Hn(i.toArray()),lr.none())}}function UL(n,e,t){n instanceof Ac?function(i,o,l){const c=i.value.clone(),h=GE(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof so?function(i,o,l){if(!Ph(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=GE(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(LS(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ku(n,e,t,r){return n instanceof Ac?function(o,l,c,h){if(!Ph(o.precondition,l))return c;const p=o.value.clone(),g=QE(o.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof so?function(o,l,c,h){if(!Ph(o.precondition,l))return c;const p=QE(o.fieldTransforms,h,l),g=l.data;return g.setAll(LS(o)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,l,c){return Ph(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function $L(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=kS(r.transform,i||null);o!=null&&(t===null&&(t=kn.empty()),t.set(r.field,o))}return t||null}function KE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ul(r,i,(o,l)=>FL(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ac extends Vf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class so extends Vf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GE(n,e,t){const r=new Map;Je(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,ML(l,c,t[i]))}return r}function QE(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,LL(o,l,e))}return r}class tv extends Vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BL extends Vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&UL(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=AS();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const h=DS(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(t,r)=>KE(t,r))&&ul(this.baseMutations,e.baseMutations,(t,r)=>KE(t,r))}}class nv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Je(e.mutations.length===r.length);let i=function(){return kL}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new nv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,ze;function qL(n){switch(n){case ne.OK:return Re();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re()}}function MS(n){if(n===void 0)return Ui("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Pt.OK:return ne.OK;case Pt.CANCELLED:return ne.CANCELLED;case Pt.UNKNOWN:return ne.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ne.INTERNAL;case Pt.UNAVAILABLE:return ne.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ne.NOT_FOUND;case Pt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Pt.ABORTED:return ne.ABORTED;case Pt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Pt.DATA_LOSS:return ne.DATA_LOSS;default:return Re()}}(ze=Pt||(Pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Vs([4294967295,4294967295],0);function YE(n){const e=KL().encode(n),t=new eS;return t.update(e),new Uint8Array(t.digest())}function XE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vs([t,r],0),new Vs([i,o],0)]}class rv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $u(`Invalid padding: ${t}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $u(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Vs.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Vs.fromNumber(r)));return i.compare(GL)===1&&(i=new Vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=YE(e),[r,i]=XE(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new rv(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=YE(e),[r,i]=XE(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ff(ke.min(),i,new kt(Ue),$i(),Fe())}}class Pc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pc(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class VS{constructor(e,t){this.targetId=e,this.ge=t}}class FS{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class JE{constructor(){this.pe=0,this.ye=ZE(),this.we=Jt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),r=Fe();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new Pc(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=ZE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Je(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class QL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$i(),this.$e=ch(),this.Ke=ch(),this.Ue=new kt(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(Fg(o))if(r===0){const l=new Ee(o.path);this.ze(t,l,on.newNoDocument(l,ke.min()))}else Je(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Ks(r).toUint8Array()}catch(h){if(h instanceof cS)return ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new rv(l,i,o)}catch(h){return ll(h instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&Fg(c.target)){const h=new Ee(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,on.newNoDocument(h,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=Fe();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Ff(e,t,this.Ue,this.Qe,r);return this.Qe=$i(),this.$e=ch(),this.Ke=ch(),this.Ue=new kt(Ue),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new JE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Mt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new JE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ch(){return new kt(Ee.comparator)}function ZE(){return new kt(Ee.comparator)}const YL={asc:"ASCENDING",desc:"DESCENDING"},XL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JL={and:"AND",or:"OR"};class ZL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ug(n,e){return n.useProto3Json||kf(e)?e:{value:e}}function Jh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eM(n,e){return Jh(n,e.toTimestamp())}function ri(n){return Je(!!n),ke.fromTimestamp(function(t){const r=qs(t);return new Lt(r.seconds,r.nanos)}(n))}function iv(n,e){return $g(n,e).canonicalString()}function $g(n,e){const t=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function US(n){const e=pt.fromString(n);return Je(HS(e)),e}function Bg(n,e){return iv(n.databaseId,e.path)}function Km(n,e){const t=US(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(BS(t))}function $S(n,e){return iv(n.databaseId,e)}function tM(n){const e=US(n);return e.length===4?pt.emptyPath():BS(e)}function zg(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BS(n){return Je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function eT(n,e,t){return{name:Bg(n,e),fields:t.value.mapValue.fields}}function nM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(Je(g===void 0||typeof g=="string"),Jt.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Jt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?ne.UNKNOWN:MS(p.code);return new ve(g,p.message||"")}(l);t=new FS(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Km(n,r.document.name),o=ri(r.document.updateTime),l=r.document.createTime?ri(r.document.createTime):ke.min(),c=new kn({mapValue:{fields:r.document.fields}}),h=on.newFoundDocument(i,o,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new kh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Km(n,r.document),o=r.readTime?ri(r.readTime):ke.min(),l=on.newNoDocument(i,o),c=r.removedTargetIds||[];t=new kh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Km(n,r.document),o=r.removedTargetIds||[];t=new kh([],o,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new HL(i,o),c=r.targetId;t=new VS(c,l)}}return t}function rM(n,e){let t;if(e instanceof Ac)t={update:eT(n,e.key,e.value)};else if(e instanceof tv)t={delete:Bg(n,e.key)};else if(e instanceof so)t={update:eT(n,e.key,e.data),updateMask:hM(e.fieldMask)};else{if(!(e instanceof BL))return Re();t={verify:Bg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof dc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof hc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof fc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:eM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(n,e.precondition)),t}function iM(n,e){return n&&n.length>0?(Je(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?ri(i.updateTime):ri(o);return l.isEqual(ke.min())&&(l=ri(o)),new jL(l,i.transformResults||[])}(t,e))):[]}function sM(n,e){return{documents:[$S(n,e.path)]}}function oM(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$S(n,i);const o=function(p){if(p.length!==0)return WS(ai.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Qa(E.field),direction:uM(E.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Ug(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function aM(n){let e=tM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Je(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const E=zS(_);return E instanceof ai&&wS(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(E=>function(x){return new Yh(Ya(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(_){let E;return E=typeof _=="object"?_.value:_,kf(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(_){const E=!!_.before,S=_.values||[];return new Qh(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,S=_.values||[];return new Qh(S,E)}(t.endAt)),CL(e,i,l,o,c,"F",h,p)}function lM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ya(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ya(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ya(t.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ya(t.unaryFilter.field);return Dt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(Ya(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(r=>zS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function uM(n){return YL[n]}function cM(n){return XL[n]}function dM(n){return JL[n]}function Qa(n){return{fieldPath:n.canonicalString()}}function Ya(n){return Xt.fromServerFormat(n.fieldPath)}function WS(n){return n instanceof Dt?function(t){if(t.op==="=="){if($E(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NAN"}};if(UE(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($E(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NOT_NAN"}};if(UE(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(t.field),op:cM(t.op),value:t.value}}}(n):n instanceof ai?function(t){const r=t.getFilters().map(i=>WS(i));return r.length===1?r[0]:{compositeFilter:{op:dM(t.op),filters:r}}}(n):Re()}function hM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,i,o=ke.min(),l=ke.min(),c=Jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.Tt=e}}function pM(n){const e=aM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.Tn=new gM}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Hs.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class gM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mt(pt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(qS,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new hl(0)}static Un(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="LruGarbageCollector",yM=1048576;function rT([n,e],[t,r]){const i=Ue(n,t);return i===0?Ue(e,r):i}class vM{constructor(e){this.Hn=e,this.buffer=new Mt(rT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _M{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(nT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pl(t)?he(nT,"Ignoring IndexedDB error during garbage collection: ",t):await Al(t)}await this.er(3e5)})}}class wM{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Pf.ae);const r=new vM(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(tT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Ka()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function EM(n,e){return new wM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.changes=new Zo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ku(r.mutation,i,Hn.empty(),Lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=jo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Uu();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=jo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=$i();const l=qu(),c=function(){return qu()}();return t.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof so)?o=o.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Ku(g.mutation,p,g.mutation.getFieldMask(),Lt.now())):l.set(p.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new IM(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=qu();let i=new kt((l,c)=>l-c),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||Hn.empty();g=c.applyToLocalView(p,g),r.set(h,g);const _=(i.get(c.batchId)||Fe()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,_=AS();g.forEach(E=>{if(!o.has(E)){const S=DS(t.get(E),r.get(E));S!==null&&_.set(E,S),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Z.resolve(jo());let c=ac,h=o;return l.next(p=>Z.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,Fe())).next(g=>({batchId:c,changes:xS(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let i=Uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Uu();return this.indexManager.getCollectionParents(e,o).next(c=>Z.forEach(c,h=>{const p=function(_,E){return new Nf(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,on.newInvalidDocument(g)))});let c=Uu();return l.forEach((h,p)=>{const g=o.get(h);g!==void 0&&Ku(g.mutation,p,Hn.empty(),Lt.now()),Lf(t,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ri(i.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:pM(i.bundledQuery),readTime:ri(i.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.overlays=new kt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=jo();return Z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=jo(),o=t.length+1,l=new Ee(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new kt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=jo(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=jo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return Z.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new WL(t,r));let o=this.Rr.get(t);o===void 0&&(o=Fe(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.Vr=new Mt(Bt.mr),this.gr=new Mt(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Bt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Ee(new pt([])),r=new Bt(t,e),i=new Bt(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new pt([])),r=new Bt(t,e),i=new Bt(t,e+1);let o=Fe();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Bt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(Bt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new zL(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Bt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qy:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),i=new Bt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);o.push(c)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt(Ue);return t.forEach(i=>{const o=new Bt(i,0),l=new Bt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const l=new Bt(new Ee(o),0);let c=new Mt(Ue);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Cr)),!0)},l),Z.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Je(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(t.mutations,i=>{const o=new Bt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Bt(t,0),i=this.Mr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.kr=e,this.docs=function(){return new kt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let r=$i();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=$i();const l=t.path,c=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||nL(tL(g),r)<=0||(i.has(g.key)||Lf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Re()}qr(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kM(this)}getSize(e){return Z.resolve(this.size)}}class kM extends TM{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.persistence=e,this.Qr=new Zo(t=>Jy(t),Zy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new sv,this.targetCount=0,this.Ur=hl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Pf(0),this.zr=!1,this.zr=!0,this.jr=new xM,this.referenceDelegate=e(this),this.Hr=new bM(this),this.indexManager=new mM,this.remoteDocumentCache=function(i){return new PM(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new fM(t),this.Yr=new SM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new AM(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new NM(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class NM extends iL{constructor(e){super(),this.currentSequenceNumber=e}}class ov{constructor(e){this.persistence=e,this.ti=new sv,this.ni=null}static ri(e){return new ov(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const i=Ee.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Zh{constructor(e,t){this.persistence=e,this.oi=new Zo(r=>aL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=EM(this,t)}static ri(e,t){return new Zh(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?Z.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,o.removeEntry(l,ke.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xh(e.data.value)),t}ar(e,t,r){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Fe(),i=Fe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new av(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sb()?8:sL(hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new OM;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Ka()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Ka()<=Me.DEBUG&&he("QueryEngine","Query:",Ga(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ka()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(t))):Z.resolve())}rs(e,t){if(HE(t))return Z.resolve(null);let r=ni(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=jg(t,null,"F"),r=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Fe(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,c);return this.ls(t,p,l,h.readTime)?this.rs(e,jg(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,i){return HE(t)||i.isEqual(ke.min())?Z.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?Z.resolve(null):(Ka()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(t)),this.hs(e,l,t,eL(i,ac)).next(c=>c))})}cs(e,t){let r=new Mt(SS(e));return t.forEach((i,o)=>{Lf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Ka()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ga(t)),this.ns.getDocumentsMatchingQuery(e,t,Hs.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LocalStore",LM=3e8;class MM{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new kt(Ue),this.Is=new Zo(o=>Jy(o),Zy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function VM(n,e,t,r){return new MM(n,e,t,r)}async function GS(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let h=Fe();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function FM(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const _=p.batch,E=_.keys();let S=Z.resolve();return E.forEach(x=>{S=S.next(()=>g.getEntry(h,x)).next(b=>{const R=p.docVersions.get(x);Je(R!==null),b.version.compareTo(R)<0&&(_.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Fe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function QS(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function jM(n,e){const t=be(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const E=i.get(_);if(!E)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Jt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(_,S),function(b,R,F){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=LM?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,S,g)&&c.push(t.Hr.updateTargetData(o,S))});let h=$i(),p=Fe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(UM(o,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(ke.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return Z.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ts=i,o))}function UM(n,e,t){let r=Fe(),i=Fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=$i();return t.forEach((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):he(lv,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function $M(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BM(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Os(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Wg(n,e,t){const r=be(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Pl(l))throw l;he(lv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function iT(n,e,t){const r=be(n);let i=ke.min(),o=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=be(h),E=_.Is.get(g);return E!==void 0?Z.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,g)}(r,l,ni(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?o:Fe())).next(c=>(zM(r,xL(e),c),{documents:c,gs:o})))}function zM(n,e,t){let r=n.Es.get(e)||ke.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class sT{constructor(){this.activeTargetIds=OL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WM{constructor(){this.ho=new sT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="ConnectivityMonitor";class aT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(oT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(oT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Hg(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const l=Hg(),c=this.So(e,t.toUriEncodedString());he(Gm,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,o),this.vo(e,c,h,r).then(p=>(he(Gm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw ll(Gm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,o,l){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=qM[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class QM extends KM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=Hg();return new Promise((l,c)=>{const h=new tS;h.setWithCredentials(!0),h.listenOnce(nS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Rh.NO_ERROR:const g=h.getResponseJson();he(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Rh.TIMEOUT:he(rn,`RPC '${e}' ${o} timed out`),c(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const _=h.getStatus();if(he(rn,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const x=function(R){const F=R.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN}(S.status);c(new ve(x,S.message))}else c(new ve(ne.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{he(rn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);he(rn,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=Hg(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sS(),c=iS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");he(rn,`Creating RPC '${e}' stream ${i}: ${g}`,h);const _=l.createWebChannel(g,h);let E=!1,S=!1;const x=new GM({Fo:R=>{S?he(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(E||(he(rn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),he(rn,`RPC '${e}' stream ${i} sending:`,R),_.send(R))},Mo:()=>_.close()}),b=(R,F,$)=>{R.listen(F,B=>{try{$(B)}catch(q){setTimeout(()=>{throw q},0)}})};return b(_,ju.EventType.OPEN,()=>{S||(he(rn,`RPC '${e}' stream ${i} transport opened.`),x.Qo())}),b(_,ju.EventType.CLOSE,()=>{S||(S=!0,he(rn,`RPC '${e}' stream ${i} transport closed`),x.Ko())}),b(_,ju.EventType.ERROR,R=>{S||(S=!0,ll(rn,`RPC '${e}' stream ${i} transport errored:`,R),x.Ko(new ve(ne.UNAVAILABLE,"The operation could not be completed")))}),b(_,ju.EventType.MESSAGE,R=>{var F;if(!S){const $=R.data[0];Je(!!$);const B=$,q=(B==null?void 0:B.error)||((F=B[0])===null||F===void 0?void 0:F.error);if(q){he(rn,`RPC '${e}' stream ${i} received error:`,q);const X=q.status;let J=function(k){const L=Pt[k];if(L!==void 0)return MS(L)}(X),N=q.message;J===void 0&&(J=ne.INTERNAL,N="Unknown error status: "+X+" with message "+q.message),S=!0,x.Ko(new ve(J,N)),_.close()}else he(rn,`RPC '${e}' stream ${i} received:`,$),x.Uo($)}}),b(c,rS.STAT_EVENT,R=>{R.stat===Og.PROXY?he(rn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Og.NOPROXY&&he(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){return new ZL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="PersistentStream";class XS{constructor(e,t,r,i,o,l,c,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new YS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ve(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YM extends XS{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=nM(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?ri(l.readTime):ke.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=zg(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=Fg(h)?{documents:sM(o,h)}:{query:oM(o,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=jS(o,l.resumeToken);const p=Ug(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Jh(o,l.snapshotVersion.toTimestamp());const p=Ug(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=lM(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=zg(this.serializer),t.removeTarget=e,this.I_(t)}}class XM extends XS{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=iM(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=zg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rM(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{}class ZM extends JM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.bo(e,$g(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,$g(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ne.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class e4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class t4{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{ea(this)&&(he(qo,"Restarting streams for network reachability change."),await async function(h){const p=be(h);p.W_.add(4),await kc(p),p.j_.set("Unknown"),p.W_.delete(4),await Uf(p)}(this))})}),this.j_=new e4(r,i)}}async function Uf(n){if(ea(n))for(const e of n.G_)await e(!0)}async function kc(n){for(const e of n.G_)await e(!1)}function JS(n,e){const t=be(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),hv(t)?dv(t):kl(t).c_()&&cv(t,e))}function uv(n,e){const t=be(n),r=kl(t);t.U_.delete(e),r.c_()&&ZS(t,e),t.U_.size===0&&(r.c_()?r.P_():ea(t)&&t.j_.set("Unknown"))}function cv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kl(n).y_(e)}function ZS(n,e){n.H_.Ne(e),kl(n).w_(e)}function dv(n){n.H_=new QL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),kl(n).start(),n.j_.B_()}function hv(n){return ea(n)&&!kl(n).u_()&&n.U_.size>0}function ea(n){return be(n).W_.size===0}function eR(n){n.H_=void 0}async function n4(n){n.j_.set("Online")}async function r4(n){n.U_.forEach((e,t)=>{cv(n,e)})}async function i4(n,e){eR(n),hv(n)?(n.j_.q_(e),dv(n)):n.j_.set("Unknown")}async function s4(n,e,t){if(n.j_.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){he(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ef(n,r)}else if(e instanceof kh?n.H_.We(e):e instanceof VS?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ke.min()))try{const r=await QS(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.U_.get(p);g&&o.U_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=o.U_.get(h);if(!g)return;o.U_.set(h,g.withResumeToken(Jt.EMPTY_BYTE_STRING,g.snapshotVersion)),ZS(o,h);const _=new Os(g.target,h,p,g.sequenceNumber);cv(o,_)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){he(qo,"Failed to raise snapshot:",r),await ef(n,r)}}async function ef(n,e,t){if(!Pl(e))throw e;n.W_.add(1),await kc(n),n.j_.set("Offline"),t||(t=()=>QS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(qo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Uf(n)})}function tR(n,e){return e().catch(t=>ef(n,t,e))}async function $f(n){const e=be(n),t=Qs(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Qy;for(;o4(e);)try{const i=await $M(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,a4(e,i)}catch(i){await ef(e,i)}nR(e)&&rR(e)}function o4(n){return ea(n)&&n.K_.length<10}function a4(n,e){n.K_.push(e);const t=Qs(n);t.c_()&&t.b_&&t.S_(e.mutations)}function nR(n){return ea(n)&&!Qs(n).u_()&&n.K_.length>0}function rR(n){Qs(n).start()}async function l4(n){Qs(n).C_()}async function u4(n){const e=Qs(n);for(const t of n.K_)e.S_(t.mutations)}async function c4(n,e,t){const r=n.K_.shift(),i=nv.from(r,e,t);await tR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await $f(n)}async function d4(n,e){e&&Qs(n).b_&&await async function(r,i){if(function(l){return qL(l)&&l!==ne.ABORTED}(i.code)){const o=r.K_.shift();Qs(r).h_(),await tR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $f(r)}}(n,e),nR(n)&&rR(n)}async function uT(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),he(qo,"RemoteStore received new credentials");const r=ea(t);t.W_.add(3),await kc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Uf(t)}async function h4(n,e){const t=be(n);e?(t.W_.delete(2),await Uf(t)):e||(t.W_.add(2),await kc(t),t.j_.set("Unknown"))}function kl(n){return n.J_||(n.J_=function(t,r,i){const o=be(t);return o.M_(),new YM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:n4.bind(null,n),No:r4.bind(null,n),Lo:i4.bind(null,n),p_:s4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),hv(n)?dv(n):n.j_.set("Unknown")):(await n.J_.stop(),eR(n))})),n.J_}function Qs(n){return n.Y_||(n.Y_=function(t,r,i){const o=be(t);return o.M_(),new XM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:l4.bind(null,n),Lo:d4.bind(null,n),D_:u4.bind(null,n),v_:c4.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await $f(n)):(await n.Y_.stop(),n.K_.length>0&&(he(qo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new fv(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pv(n,e){if(Ui("AsyncQueue",`${e}: ${n}`),Pl(n))return new ve(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Uu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.Z_=new kt(Ee.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class fl{constructor(e,t,r,i,o,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new fl(e,t,nl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class p4{constructor(){this.queries=dT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=be(t),o=i.queries;i.queries=dT(),o.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new ve(ne.ABORTED,"Firestore shutting down"))}}function dT(){return new Zo(n=>CS(n),Df)}async function mv(n,e){const t=be(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new f4,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=pv(l,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&yv(t)}async function gv(n,e){const t=be(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function m4(n,e){const t=be(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&yv(t)}function g4(n,e,t){const r=be(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function yv(n){n.ia.forEach(e=>{e.next()})}var qg,hT;(hT=qg||(qg={}))._a="default",hT.Cache="cache";class vv{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.key=e}}class sR{constructor(e){this.key=e}}class y4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=SS(e),this.wa=new nl(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new cT,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const E=i.get(g),S=Lf(this.query,_)?_:null,x=!!E&&this.mutatedKeys.has(E.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;E&&S?E.data.isEqual(S.data)?x!==b&&(r.track({type:3,doc:S}),R=!0):this.va(E,S)||(r.track({type:2,doc:S}),R=!0,(h&&this.ya(S,h)>0||p&&this.ya(S,p)<0)&&(c=!0)):!E&&S?(r.track({type:0,doc:S}),R=!0):E&&!S&&(r.track({type:1,doc:E}),R=!0,(h||p)&&(c=!0)),R&&(S?(l=l.add(S),o=b?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(S,x){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return b(S)-b(x)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new fl(this.query,e.wa,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new sR(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new iR(r))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return fl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _v="SyncEngine";class v4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _4{constructor(e){this.key=e,this.Ba=!1}}class w4{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Zo(c=>CS(c),Df),this.qa=new Map,this.Qa=new Set,this.$a=new kt(Ee.comparator),this.Ka=new Map,this.Ua=new sv,this.Wa={},this.Ga=new Map,this.za=hl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function E4(n,e,t=!0){const r=dR(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await oR(r,e,t,!0),i}async function T4(n,e){const t=dR(n);await oR(t,e,!0,!1)}async function oR(n,e,t,r){const i=await BM(n.localStore,ni(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await I4(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&JS(n.remoteStore,i),c}async function I4(n,e,t,r,i){n.Ha=(_,E,S)=>async function(b,R,F,$){let B=R.view.Sa(F);B.ls&&(B=await iT(b.localStore,R.query,!1).then(({documents:N})=>R.view.Sa(N,B)));const q=$&&$.targetChanges.get(R.targetId),X=$&&$.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(B,b.isPrimaryClient,q,X);return pT(b,R.targetId,J.Ma),J.snapshot}(n,_,E,S);const o=await iT(n.localStore,e,!0),l=new y4(e,o.gs),c=l.Sa(o.documents),h=Pc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,h);pT(n,t,p.Ma);const g=new v4(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function C4(n,e,t){const r=be(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Df(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&uv(r.remoteStore,i.targetId),Kg(r,i.targetId)}).catch(Al)):(Kg(r,i.targetId),await Wg(r.localStore,i.targetId,!0))}async function S4(n,e){const t=be(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),uv(t.remoteStore,r.targetId))}async function R4(n,e,t){const r=O4(n);try{const i=await function(l,c){const h=be(l),p=Lt.now(),g=c.reduce((S,x)=>S.add(x.key),Fe());let _,E;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=$i(),b=Fe();return h.ds.getEntries(S,g).next(R=>{x=R,x.forEach((F,$)=>{$.isValidDocument()||(b=b.add(F))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,x)).next(R=>{_=R;const F=[];for(const $ of c){const B=$L($,_.get($.key).overlayedDocument);B!=null&&F.push(new so($.key,B,yS(B.value.mapValue),lr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,F,c)}).next(R=>{E=R;const F=R.applyToLocalDocumentSet(_,b);return h.documentOverlayCache.saveOverlays(S,R.batchId,F)})}).then(()=>({batchId:E.batchId,changes:xS(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new kt(Ue)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await bc(r,i.changes),await $f(r.remoteStore)}catch(i){const o=pv(i,"Failed to persist write");t.reject(o)}}async function aR(n,e){const t=be(n);try{const r=await jM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Je(l.Ba):i.removedDocuments.size>0&&(Je(l.Ba),l.Ba=!1))}),await bc(t,r,e)}catch(r){await Al(r)}}function fT(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=be(l);h.onlineState=c;let p=!1;h.queries.forEach((g,_)=>{for(const E of _.ta)E.sa(c)&&(p=!0)}),p&&yv(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x4(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new kt(Ee.comparator);l=l.insert(o,on.newNoDocument(o,ke.min()));const c=Fe().add(o),h=new Ff(ke.min(),new Map,new kt(Ue),l,c);await aR(r,h),r.$a=r.$a.remove(o),r.Ka.delete(e),wv(r)}else await Wg(r.localStore,e,!1).then(()=>Kg(r,e,t)).catch(Al)}async function A4(n,e){const t=be(n),r=e.batch.batchId;try{const i=await FM(t.localStore,e);uR(t,r,null),lR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await bc(t,i)}catch(i){await Al(i)}}async function P4(n,e,t){const r=be(n);try{const i=await function(l,c){const h=be(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(_=>(Je(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);uR(r,e,t),lR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await bc(r,i)}catch(i){await Al(i)}}function lR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function uR(n,e,t){const r=be(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Kg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||cR(n,r)})}function cR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(uv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),wv(n))}function pT(n,e,t){for(const r of t)r instanceof iR?(n.Ua.addReference(r.key,e),k4(n,r)):r instanceof sR?(he(_v,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||cR(n,r.key)):Re()}function k4(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(he(_v,"New document in limbo: "+t),n.Qa.add(r),wv(n))}function wv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(pt.fromString(e)),r=n.za.next();n.Ka.set(r,new _4(t)),n.$a=n.$a.insert(t,r),JS(n.remoteStore,new Os(ni(Of(t.path)),r,"TargetPurposeLimboResolution",Pf.ae))}}async function bc(n,e,t){const r=be(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){i.push(p);const _=av.Yi(h.targetId,p);o.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const g=be(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Z.forEach(p,E=>Z.forEach(E.Hi,S=>g.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>Z.forEach(E.Ji,S=>g.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!Pl(_))throw _;he(lv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=g.Ts.get(E),x=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(x);g.Ts=g.Ts.insert(E,b)}}}(r.localStore,o))}async function b4(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){he(_v,"User change. New user:",e.toKey());const r=await GS(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(h=>{h.reject(new ve(ne.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bc(t,r.Rs)}}function N4(n,e){const t=be(n),r=t.Ka.get(e);if(r&&r.Ba)return Fe().add(r.key);{let i=Fe();const o=t.qa.get(e);if(!o)return i;for(const l of o){const c=t.ka.get(l);i=i.unionWith(c.view.ba)}return i}}function dR(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x4.bind(null,e),e.La.p_=m4.bind(null,e.eventManager),e.La.Ja=g4.bind(null,e.eventManager),e}function O4(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P4.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return VM(this.persistence,new DM,e.initialUser,this.serializer)}Xa(e){return new KS(ov.ri,this.serializer)}Za(e){return new WM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class D4 extends tf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Je(this.persistence.referenceDelegate instanceof Zh);const r=this.persistence.referenceDelegate.garbageCollector;return new _M(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new KS(r=>Zh.ri(r,t),this.serializer)}}class Gg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b4.bind(null,this.syncEngine),await h4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p4}()}createDatastore(e){const t=jf(e.databaseInfo.databaseId),r=function(o){return new QM(o)}(e.databaseInfo);return function(o,l,c,h){return new ZM(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new t4(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>fT(this.syncEngine,t,0),function(){return aT.D()?new aT:new HM}())}createSyncEngine(e,t){return function(i,o,l,c,h,p,g){const _=new w4(i,o,l,c,h,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=be(i);he(qo,"RemoteStore shutting down."),o.W_.add(5),await kc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class L4{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=aS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{he(Ys,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Ys,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=pv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ym(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ys,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await M4(n);he(Ys,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>uT(e.remoteStore,i)),n._onlineComponents=e}async function M4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ys,"Using user provided OfflineComponentProvider");try{await Ym(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ll("Error using user provided cache. Falling back to memory cache: "+t),await Ym(n,new tf)}}else he(Ys,"Using default OfflineComponentProvider"),await Ym(n,new D4(void 0));return n._offlineComponents}async function hR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ys,"Using user provided OnlineComponentProvider"),await mT(n,n._uninitializedComponentsProvider._online)):(he(Ys,"Using default OnlineComponentProvider"),await mT(n,new Gg))),n._onlineComponents}function V4(n){return hR(n).then(e=>e.syncEngine)}async function nf(n){const e=await hR(n),t=e.eventManager;return t.onListen=E4.bind(null,e.syncEngine),t.onUnlisten=C4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=T4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S4.bind(null,e.syncEngine),t}function F4(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const g=new Ev({next:E=>{g.su(),l.enqueueAndForget(()=>gv(o,_));const S=E.docs.has(c);!S&&E.fromCache?p.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&h&&h.source==="server"?p.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new vv(Of(c.path),g,{includeMetadataChanges:!0,Ta:!0});return mv(o,_)}(await nf(n),n.asyncQueue,e,t,r)),r.promise}function j4(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const g=new Ev({next:E=>{g.su(),l.enqueueAndForget(()=>gv(o,_)),E.fromCache&&h.source==="server"?p.reject(new ve(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new vv(c,g,{includeMetadataChanges:!0,Ta:!0});return mv(o,_)}(await nf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n,e,t){if(!t)throw new ve(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U4(n,e,t,r){if(e===!0&&r===!0)throw new ve(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yT(n){if(!Ee.isDocumentKey(n))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vT(n){if(Ee.isDocumentKey(n))throw new ve(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tv(n);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firestore.googleapis.com",_T=!0;class wT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mR,this.ssl=_T}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_T;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yM)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qD;switch(r.type){case"firstParty":return new YD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=gT.get(t);r&&(he("ComponentProvider","Removing Datastore"),gT.delete(t),r.terminate())}(this),Promise.resolve()}}function $4(n,e,t,r={}){var i;const o=(n=Nn(n,Bf))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==mR&&o.host!==c&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Bs(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=sn.MOCK_USER;else{p=Oy(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new sn(_)}n._authCredentials=new KD(new oS(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nc(this.firestore,e,this._query)}}class _n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class js extends Nc{constructor(e,t,r){super(e,t,Of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Ee(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function Iv(n,e,...t){if(n=ct(n),pR("collection","path",e),n instanceof Bf){const r=pt.fromString(e,...t);return vT(r),new js(n,null,r)}{if(!(n instanceof _n||n instanceof js))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pt.fromString(e,...t));return vT(r),new js(n.firestore,null,r)}}function ta(n,e,...t){if(n=ct(n),arguments.length===1&&(e=aS.newId()),pR("doc","path",e),n instanceof Bf){const r=pt.fromString(e,...t);return yT(r),new _n(n,null,new Ee(r))}{if(!(n instanceof _n||n instanceof js))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pt.fromString(e,...t));return yT(r),new _n(n.firestore,n instanceof js?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="AsyncQueue";class TT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new YS(this,"async_queue_retry"),this.bu=()=>{const r=Qm();r&&he(ET,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Di;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Pl(e))throw e;he(ET,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ui("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=fv.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function IT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Bi extends Bf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new TT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TT(e),this._firestoreClient=void 0,await e}}}function Xs(n,e){const t=typeof n=="object"?n:Cf(),r=typeof n=="string"?n:Kh,i=Ic(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=by("firestore");o&&$4(i,...o)}return i}function zf(n){if(n._terminated)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||B4(n),n._firestoreClient}function B4(n){var e,t,r;const i=n._freezeSettings(),o=function(c,h,p,g){return new cL(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,fR(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new L4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(Jt.fromBase64String(e))}catch(t){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=/^__.*__$/;class W4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ac(e,this.data,t,this.fieldTransforms)}}class gR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new so(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Rv{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return rf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(yR(this.Lu)&&z4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class H4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jf(e)}ju(e,t,r,i=!1){return new Rv({Lu:e,methodName:t,zu:r,path:Xt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xv(n){const e=n._freezeSettings(),t=jf(n._databaseId);return new H4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vR(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);Pv("Data must be an object, but it was:",l,r);const c=_R(r,l);let h,p;if(o.merge)h=new Hn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const E=Qg(e,_,t);if(!l.contains(E))throw new ve(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);ER(g,E)||g.push(E)}h=new Hn(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new W4(new kn(c),h,p)}class qf extends Hf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}class Av extends Hf{_toFieldTransform(e){return new VL(e.path,new dc)}isEqual(e){return e instanceof Av}}function q4(n,e,t,r){const i=n.ju(1,e,t);Pv("Data must be an object, but it was:",i,r);const o=[],l=kn.empty();io(r,(h,p)=>{const g=kv(e,h,t);p=ct(p);const _=i.Ku(g);if(p instanceof qf)o.push(g);else{const E=Kf(p,_);E!=null&&(o.push(g),l.set(g,E))}});const c=new Hn(o);return new gR(l,c,i.fieldTransforms)}function K4(n,e,t,r,i,o){const l=n.ju(1,e,t),c=[Qg(e,r,t)],h=[i];if(o.length%2!=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(Qg(e,o[E])),h.push(o[E+1]);const p=[],g=kn.empty();for(let E=c.length-1;E>=0;--E)if(!ER(p,c[E])){const S=c[E];let x=h[E];x=ct(x);const b=l.Ku(S);if(x instanceof qf)p.push(S);else{const R=Kf(x,b);R!=null&&(p.push(S),g.set(S,R))}}const _=new Hn(p);return new gR(g,_,l.fieldTransforms)}function Kf(n,e){if(wR(n=ct(n)))return Pv("Unsupported field value:",e,n),_R(n,e);if(n instanceof Hf)return function(r,i){if(!yR(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let h=Kf(c,i.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:Jh(i.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,o)}}if(r instanceof Cv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pl)return{bytesValue:jS(i.serializer,r._byteString)};if(r instanceof _n){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sv)return function(l,c){return{mapValue:{fields:{[mS]:{stringValue:gS},[Gh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return ev(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Tv(r)}`)}(n,e)}function _R(n,e){const t={};return uS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(n,(r,i)=>{const o=Kf(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function wR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof Cv||n instanceof pl||n instanceof _n||n instanceof Hf||n instanceof Sv)}function Pv(n,e,t){if(!wR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Tv(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Qg(n,e,t){if((e=ct(e))instanceof Wf)return e._internalPath;if(typeof e=="string")return kv(n,e);throw rf("Field path arguments must be of type string or ",n,!1,void 0,t)}const G4=new RegExp("[~\\*/\\[\\]]");function kv(n,e,t){if(e.search(G4)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wf(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rf(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ve(ne.INVALID_ARGUMENT,c+n+h)}function ER(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(IR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Q4 extends TR{data(){return super.data()}}function IR(n,e){return typeof e=="string"?kv(n,e):e instanceof Wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y4{convertValue(e,t="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return io(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Gh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new Sv(o)}convertGeoPoint(e){return new Cv(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const t=qs(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pt.fromString(e);Je(HS(r));const i=new uc(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return i.isEqual(t)||Ui(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RR extends TR{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(IR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bh extends RR{data(e={}){return super.data(e)}}class xR{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bh(this._firestore,this._userDataWriter,r.key,r,new Bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new bh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new bh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:X4(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function X4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(n){n=Nn(n,_n);const e=Nn(n.firestore,Bi);return F4(zf(e),n._key).then(t=>kR(e,n,t))}class bv extends Y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function AR(n){n=Nn(n,Nc);const e=Nn(n.firestore,Bi),t=zf(e),r=new bv(e);return CR(n._query),j4(t,n._query).then(i=>new xR(e,r,n,i))}function PR(n,e,t){n=Nn(n,_n);const r=Nn(n.firestore,Bi),i=SR(n.converter,e,t);return Gf(r,[vR(xv(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,lr.none())])}function Z4(n,e,t,...r){n=Nn(n,_n);const i=Nn(n.firestore,Bi),o=xv(i);let l;return l=typeof(e=ct(e))=="string"||e instanceof Wf?K4(o,"updateDoc",n._key,e,t,r):q4(o,"updateDoc",n._key,e),Gf(i,[l.toMutation(n._key,lr.exists(!0))])}function eV(n){return Gf(Nn(n.firestore,Bi),[new tv(n._key,lr.none())])}function tV(n,e){const t=Nn(n.firestore,Bi),r=ta(n),i=SR(n.converter,e);return Gf(t,[vR(xv(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function nV(n,...e){var t,r,i;n=ct(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||IT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(IT(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let h,p,g;if(n instanceof _n)p=Nn(n.firestore,Bi),g=Of(n._key.path),h={next:_=>{e[l]&&e[l](kR(p,n,_))},error:e[l+1],complete:e[l+2]};else{const _=Nn(n,Nc);p=Nn(_.firestore,Bi),g=_._query;const E=new bv(p);h={next:S=>{e[l]&&e[l](new xR(p,E,_,S))},error:e[l+1],complete:e[l+2]},CR(n._query)}return function(E,S,x,b){const R=new Ev(b),F=new vv(S,R,x);return E.asyncQueue.enqueueAndForget(async()=>mv(await nf(E),F)),()=>{R.su(),E.asyncQueue.enqueueAndForget(async()=>gv(await nf(E),F))}}(zf(p),g,c,h)}function Gf(n,e){return function(r,i){const o=new Di;return r.asyncQueue.enqueueAndForget(async()=>R4(await V4(r),i,o)),o.promise}(zf(n),e)}function kR(n,e,t){const r=t.docs.get(e._key),i=new bv(n);return new RR(n,i,e._key,r,new Bu(t.hasPendingWrites,t.fromCache),e.converter)}function rV(){return new Av("serverTimestamp")}(function(e,t=!0){(function(i){xl=i})(to),zs(new Vi("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Bi(new GD(r.getProvider("auth-internal")),new XD(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(p.options.projectId,g)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ar(PE,kE,e),ar(PE,kE,"esm2017")})();var CT={};const ST="@firebase/database",RT="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bR="";function iV(n){bR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ic(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ki(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sV(e)}}catch{}return new oV},Uo=NR("localStorage"),aV=NR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new If("@firebase/database"),lV=function(){let n=1;return function(){return n++}}(),OR=function(n){const e=vb(n),t=new fb;t.update(e);const r=t.digest();return ky.encodeByteArray(r)},Oc=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Oc.apply(null,r):typeof r=="object"?e+=Yt(r):e+=r,e+=" "}return e};let Gu=null,xT=!0;const uV=function(n,e){ce(!0,"Can't turn on custom loggers persistently."),rl.logLevel=Me.VERBOSE,Gu=rl.log.bind(rl)},an=function(...n){if(xT===!0&&(xT=!1,Gu===null&&aV.get("logging_enabled")===!0&&uV()),Gu){const e=Oc.apply(null,n);Gu(e)}},Dc=function(n){return function(...e){an(n,...e)}},Yg=function(...n){const e="FIREBASE INTERNAL ERROR: "+Oc(...n);rl.error(e)},zi=function(...n){const e=`FIREBASE FATAL ERROR: ${Oc(...n)}`;throw rl.error(e),new Error(e)},Kn=function(...n){const e="FIREBASE WARNING: "+Oc(...n);rl.warn(e)},cV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},DR=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},dV=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ml="[MIN_NAME]",Ko="[MAX_NAME]",bl=function(n,e){if(n===e)return 0;if(n===ml||e===Ko)return-1;if(e===ml||n===Ko)return 1;{const t=AT(n),r=AT(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},hV=function(n,e){return n===e?0:n<e?-1:1},Pu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Yt(e))},Nv=function(n){if(typeof n!="object"||n===null)return Yt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Yt(e[r]),t+=":",t+=Nv(n[e[r]]);return t+="}",t},LR=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function cr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const MR=function(n){ce(!DR(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,o,l,c,h;n===0?(o=0,l=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=c+r,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-r-t))));const p=[];for(h=t;h;h-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(i?1:0),p.reverse();const g=p.join("");let _="";for(h=0;h<64;h+=8){let E=parseInt(g.substr(h,8),2).toString(16);E.length===1&&(E="0"+E),_=_+E}return _.toLowerCase()},fV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},mV=new RegExp("^-?(0*)\\d{1,10}$"),gV=-2147483648,yV=2147483647,AT=function(n){if(mV.test(n)){const e=Number(n);if(e>=gV&&e<=yV)return e}return null},Lc=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Kn("Exception was thrown by user callback.",t),e},Math.floor(0))}},vV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qu=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Kn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kn(e)}}class Nh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="5",VR="v",FR="s",jR="r",UR="f",$R=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BR="ls",zR="p",Xg="ac",WR="websocket",HR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t,r,i,o=!1,l="",c=!1,h=!1,p=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Uo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Uo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function EV(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function KR(n,e,t){ce(typeof e=="string","typeof type must == string"),ce(typeof t=="object","typeof params must == object");let r;if(e===WR)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===HR)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EV(n)&&(t.ns=n.namespace);const i=[];return cr(t,(o,l)=>{i.push(o+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.counters_={}}incrementCounter(e,t=1){Ki(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Gk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm={},Jm={};function Dv(n){const e=n.toString();return Xm[e]||(Xm[e]=new TV),Xm[e]}function IV(n,e){const t=n.toString();return Jm[t]||(Jm[t]=e()),Jm[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Lc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="start",SV="close",RV="pLPCommand",xV="pRTLPCB",GR="id",QR="pw",YR="ser",AV="cb",PV="seg",kV="ts",bV="d",NV="dframe",XR=1870,JR=30,OV=XR-JR,DV=25e3,LV=3e4;class Xa{constructor(e,t,r,i,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dc(e),this.stats_=Dv(t),this.urlFn=h=>(this.appCheckToken&&(h[Xg]=this.appCheckToken),KR(t,HR,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new CV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LV)),dV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lv((...o)=>{const[l,c,h,p,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===PT)this.id=c,this.password=h;else if(l===SV)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[PT]="t",r[YR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[AV]=this.scriptTagHolder.uniqueCallbackIdentifier),r[VR]=Ov,this.transportSessionId&&(r[FR]=this.transportSessionId),this.lastSessionId&&(r[BR]=this.lastSessionId),this.applicationId&&(r[zR]=this.applicationId),this.appCheckToken&&(r[Xg]=this.appCheckToken),typeof location<"u"&&location.hostname&&$R.test(location.hostname)&&(r[jR]=UR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xa.forceAllow_=!0}static forceDisallow(){Xa.forceDisallow_=!0}static isAvailable(){return Xa.forceAllow_?!0:!Xa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fV()&&!pV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Yt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=lC(t),i=LR(r,OV);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[NV]="t",r[GR]=e,r[QR]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Yt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Lv{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lV(),window[RV+this.uniqueCallbackIdentifier]=e,window[xV+this.uniqueCallbackIdentifier]=t,this.myIFrame=Lv.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){an("frame writing exception"),c.stack&&an(c.stack),an(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||an("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GR]=this.myID,e[QR]=this.myPW,e[YR]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+JR+r.length<=XR;){const l=this.pendingSegs.shift();r=r+"&"+PV+i+"="+l.seg+"&"+kV+i+"="+l.ts+"&"+bV+i+"="+l.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(DV)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{an("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=16384,VV=45e3;let sf=null;typeof MozWebSocket<"u"?sf=MozWebSocket:typeof WebSocket<"u"&&(sf=WebSocket);class kr{constructor(e,t,r,i,o,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dc(this.connId),this.stats_=Dv(t),this.connURL=kr.connectionURL_(t,l,c,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,o){const l={};return l[VR]=Ov,typeof location<"u"&&location.hostname&&$R.test(location.hostname)&&(l[jR]=UR),t&&(l[FR]=t),r&&(l[BR]=r),i&&(l[Xg]=i),o&&(l[zR]=o),KR(e,WR,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Uo.set("previous_websocket_failure",!0);try{let r;ib(),this.mySock=new sf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){kr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sf!==null&&!kr.forceDisallow_}static previouslyFailed(){return Uo.isInMemoryStorage||Uo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Uo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=ic(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Yt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=LR(t,MV);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VV))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}kr.responsesRequiredToBeHealthy=2;kr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{static get ALL_TRANSPORTS(){return[Xa,kr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=kr&&kr.isAvailable();let r=t&&!kr.previouslyFailed();if(e.webSocketOnly&&(t||Kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kr];else{const i=this.transports_=[];for(const o of pc.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);pc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=6e4,jV=5e3,UV=10*1024,$V=100*1024,Zm="t",kT="d",BV="s",bT="r",zV="e",NT="o",OT="a",DT="n",LT="p",WV="h";class HV{constructor(e,t,r,i,o,l,c,h,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dc("c:"+this.id+":"),this.transportManager_=new pc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Qu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$V?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Zm in e){const t=e[Zm];t===OT?this.upgradeIfSecondaryHealthy_():t===bT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===NT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Pu("t",e),r=Pu("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:LT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Pu("t",e),r=Pu("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Pu(Zm,e);if(kT in e){const r=e[kT];if(t===WV){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===DT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===BV?this.onConnectionShutdown_(r):t===bT?this.onReset_(r):t===zV?Yg("Server Error: "+r):t===NT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yg("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Ov!==r&&Kn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Qu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:LT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Uo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends ex{static getInstance(){return new of}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=32,VT=768;class dt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function tt(){return new dt("")}function He(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Js(n){return n.pieces_.length-n.pieceNum_}function ut(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new dt(n.pieces_,e)}function tx(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qV(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function nx(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function rx(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new dt(e,0)}function Wt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof dt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new dt(t,0)}function $e(n){return n.pieceNum_>=n.pieces_.length}function or(n,e){const t=He(n),r=He(e);if(t===null)return e;if(t===r)return or(ut(n),ut(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ix(n,e){if(Js(n)!==Js(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function br(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Js(n)>Js(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class KV{constructor(e,t){this.errorPrefix_=t,this.parts_=nx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Tf(this.parts_[r]);sx(this)}}function GV(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Tf(e),sx(n)}function QV(n){const e=n.parts_.pop();n.byteLength_-=Tf(e),n.parts_.length>0&&(n.byteLength_-=1)}function sx(n){if(n.byteLength_>VT)throw new Error(n.errorPrefix_+"has a key path longer than "+VT+" bytes ("+n.byteLength_+").");if(n.parts_.length>MT)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MT+") or object contains a cycle "+Vo(n))}function Vo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends ex{static getInstance(){return new Mv}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=1e3,YV=60*5*1e3,FT=30*1e3,XV=1.3,JV=3e4,ZV="server_kill",jT=3;class Li extends ZR{constructor(e,t,r,i,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=Li.nextPersistentConnectionId_++,this.log_=Dc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ku,this.maxReconnectDelay_=YV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&of.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,o={r:i,a:e,b:t};this.log_(Yt(o)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new Ny,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,r,i){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,p=c.s;Li.warnOnListenWarnings_(h,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),p!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(p,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ki(e,"w")){const r=al(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Kn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hb(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=FT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=db(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const o=i.s,l=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";i&&(o.q=r,o.t=i),this.sendRequest(l,o)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,o){this.initConnection_();const l={p:t,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Yt(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Yg("Unrecognized action received from server: "+Yt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JV&&(this.reconnectDelay_=ku),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Li.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,r())},p=function(_){ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)};this.realtime_={close:h,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,E]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=E&&E.token,c=new HV(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,S=>{Kn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZV)},o))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&Kn(_),h())}}}interrupt(e){an("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){an("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tg(this.interruptReasons_)&&(this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(o=>Nv(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new dt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(t),o.delete(t),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){an("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jT&&(this.reconnectDelay_=FT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){an("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+bR.replace(/\./g,"-")]=1,Dy()?e["framework.cordova"]=1:fC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=of.getInstance().currentlyOnline();return Tg(this.interruptReasons_)&&e}}Li.nextPersistentConnectionId_=0;Li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new qe(ml,e),i=new qe(ml,t);return this.compare(r,i)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh;class ox extends Qf{static get __EMPTY_NODE(){return hh}static set __EMPTY_NODE(e){hh=e}compare(e,t){return bl(e.name,t.name)}isDefinedOn(e){throw Cl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(Ko,hh)}makePost(e,t){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,hh)}toString(){return".key"}}const il=new ox;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class zt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??zt.RED,this.left=i??bn.EMPTY_NODE,this.right=o??bn.EMPTY_NODE}copy(e,t,r,i,o){return new zt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return bn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return bn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}zt.RED=!0;zt.BLACK=!1;class e3{copy(e,t,r,i,o){return this}insert(e,t,r){return new zt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bn{constructor(e,t=bn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new bn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,zt.BLACK,null,null))}remove(e){return new bn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zt.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fh(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fh(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fh(this.root_,null,this.comparator_,!0,e)}}bn.EMPTY_NODE=new e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(n,e){return bl(n.name,e.name)}function Vv(n,e){return bl(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg;function n3(n){Jg=n}const ax=function(n){return typeof n=="number"?"number:"+MR(n):"string:"+n},lx=function(n){if(n.isLeafNode()){const e=n.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ki(e,".sv"),"Priority must be a string or number.")}else ce(n===Jg||n.isEmpty(),"priority of unexpected type.");ce(n===Jg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UT;class $t{static set __childrenNodeConstructor(e){UT=e}static get __childrenNodeConstructor(){return UT}constructor(e,t=$t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $t(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:He(e)===".priority"?this.priorityNode_:$t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:$t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=He(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||Js(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ut(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ax(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=MR(this.value_):e+=this.value_,this.lazyHash_=OR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $t.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=$t.VALUE_TYPE_ORDER.indexOf(t),o=$t.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+t),ce(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}$t.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ux,cx;function r3(n){ux=n}function i3(n){cx=n}class s3 extends Qf{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?bl(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(Ko,new $t("[PRIORITY-POST]",cx))}makePost(e,t){const r=ux(e);return new qe(t,new $t("[PRIORITY-POST]",r))}toString(){return".priority"}}const dn=new s3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=Math.log(2);class a3{constructor(e){const t=o=>parseInt(Math.log(o)/o3,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const af=function(n,e,t,r){n.sort(e);const i=function(h,p){const g=p-h;let _,E;if(g===0)return null;if(g===1)return _=n[h],E=t?t(_):_,new zt(E,_.node,zt.BLACK,null,null);{const S=parseInt(g/2,10)+h,x=i(h,S),b=i(S+1,p);return _=n[S],E=t?t(_):_,new zt(E,_.node,zt.BLACK,x,b)}},o=function(h){let p=null,g=null,_=n.length;const E=function(x,b){const R=_-x,F=_;_-=x;const $=i(R+1,F),B=n[R],q=t?t(B):B;S(new zt(q,B.node,b,null,$))},S=function(x){p?(p.left=x,p=x):(g=x,p=x)};for(let x=0;x<h.count;++x){const b=h.nextBitIsOne(),R=Math.pow(2,h.count-(x+1));b?E(R,zt.BLACK):(E(R,zt.BLACK),E(R,zt.RED))}return g},l=new a3(n.length),c=o(l);return new bn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg;const qa={};class Ni{static get Default(){return ce(qa&&dn,"ChildrenNode.ts has not been loaded"),eg=eg||new Ni({".priority":qa},{".priority":dn}),eg}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=al(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bn?t:null}hasIndex(e){return Ki(this.indexSet_,e.toString())}addIndex(e,t){ce(e!==il,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(qe.Wrap);let l=o.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let c;i?c=af(r,e.getCompare()):c=qa;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new Ni(g,p)}addToIndexes(e,t){const r=jh(this.indexes_,(i,o)=>{const l=al(this.indexSet_,o);if(ce(l,"Missing index implementation for "+o),i===qa)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(qe.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&c.push(p),p=h.getNext();return c.push(e),af(c,l.getCompare())}else return qa;else{const c=t.get(e.name);let h=i;return c&&(h=h.remove(new qe(e.name,c))),h.insert(e,e.node)}});return new Ni(r,this.indexSet_)}removeFromIndexes(e,t){const r=jh(this.indexes_,i=>{if(i===qa)return i;{const o=t.get(e.name);return o?i.remove(new qe(e.name,o)):i}});return new Ni(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;class Xe{static get EMPTY_NODE(){return bu||(bu=new Xe(new bn(Vv),null,Ni.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lx(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bu}updatePriority(e){return this.children_.isEmpty()?this:new Xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?bu:t}}getChild(e){const t=He(e);return t===null?this:this.getImmediateChild(t).getChild(ut(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ce(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new qe(e,t);let i,o;t.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?bu:this.priorityNode_;return new Xe(i,l,o)}}updateChild(e,t){const r=He(e);if(r===null)return t;{ce(He(e)!==".priority"||Js(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ut(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,o=!0;if(this.forEachChild(dn,(l,c)=>{t[l]=c.val(e),r++,o&&Xe.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1}),!e&&o&&i<2*r){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ax(this.getPriority().val())+":"),this.forEachChild(dn,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":OR(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new qe(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,qe.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mc?-1:0}withIndex(e){if(e===il||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Xe(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===il||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(dn),i=t.getIterator(dn);let o=r.getNext(),l=i.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=i.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===il?null:this.indexMap_.get(e.toString())}}Xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class l3 extends Xe{constructor(){super(new bn(Vv),Xe.EMPTY_NODE,Ni.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xe.EMPTY_NODE}isEmpty(){return!1}}const Mc=new l3;Object.defineProperties(qe,{MIN:{value:new qe(ml,Xe.EMPTY_NODE)},MAX:{value:new qe(Ko,Mc)}});ox.__EMPTY_NODE=Xe.EMPTY_NODE;$t.__childrenNodeConstructor=Xe;n3(Mc);i3(Mc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=!0;function ln(n,e=null){if(n===null)return Xe.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new $t(t,ln(e))}if(!(n instanceof Array)&&u3){const t=[];let r=!1;if(cr(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=ln(c);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),t.push(new qe(l,h)))}}),t.length===0)return Xe.EMPTY_NODE;const o=af(t,t3,l=>l.name,Vv);if(r){const l=af(t,dn.getCompare());return new Xe(o,ln(e),new Ni({".priority":l},{".priority":dn}))}else return new Xe(o,ln(e),Ni.Default)}else{let t=Xe.EMPTY_NODE;return cr(n,(r,i)=>{if(Ki(n,r)&&r.substring(0,1)!=="."){const o=ln(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(ln(e))}}r3(ln);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3 extends Qf{constructor(e){super(),this.indexPath_=e,ce(!$e(e)&&He(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?bl(e.name,t.name):o}makePost(e,t){const r=ln(e),i=Xe.EMPTY_NODE.updateChild(this.indexPath_,r);return new qe(t,i)}maxPost(){const e=Xe.EMPTY_NODE.updateChild(this.indexPath_,Mc);return new qe(Ko,e)}toString(){return nx(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3 extends Qf{compare(e,t){const r=e.node.compareTo(t.node);return r===0?bl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const r=ln(e);return new qe(t,r)}toString(){return".value"}}const h3=new d3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(n){return{type:"value",snapshotNode:n}}function p3(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function m3(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function $T(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function g3(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ml}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ko}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dn}copy(){const e=new Fv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BT(n){const e={};if(n.isDefault())return e;let t;if(n.index_===dn?t="$priority":n.index_===h3?t="$value":n.index_===il?t="$key":(ce(n.index_ instanceof c3,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Yt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Yt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Yt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Yt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Yt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function zT(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==dn&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends ZR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Dc("p:rest:"),this.listens_={}}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=lf.getListenId_(e,r),c={};this.listens_[l]=c;const h=BT(e._queryParams);this.restRequest_(o+".json",h,(p,g)=>{let _=g;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(o,_,!1,r),al(this.listens_,l)===c){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",i(E,null)}})}unlisten(e,t){const r=lf.getListenId_(e,t);delete this.listens_[r]}get(e){const t=BT(e._queryParams),r=e._path.toString(),i=new Ny;return this.restRequest_(r+".json",t,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sl(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=ic(c.responseText)}catch{Kn("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,h)}else c.status!==401&&c.status!==404&&Kn("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.rootNode_=Xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(){return{value:null,children:new Map}}function dx(n,e,t){if($e(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=He(e);n.children.has(r)||n.children.set(r,uf());const i=n.children.get(r);e=ut(e),dx(i,e,t)}}function Zg(n,e,t){n.value!==null?t(e,n.value):v3(n,(r,i)=>{const o=new dt(e.toString()+"/"+r);Zg(i,o,t)})}function v3(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&cr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=10*1e3,w3=30*1e3,E3=5*60*1e3;class T3{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new _3(e);const r=WT+(w3-WT)*Math.random();Qu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;cr(e,(i,o)=>{o>0&&Ki(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Qu(this.reportStats_.bind(this),Math.floor(Math.random()*2*E3))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jr||(Jr={}));function hx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function px(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Jr.ACK_USER_WRITE,this.source=hx()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new dt(e));return new cf(tt(),t,this.revert)}}else return ce(He(this.path)===e,"operationForChild called for unrelated child."),new cf(ut(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Jr.OVERWRITE}operationForChild(e){return $e(this.path)?new Go(this.source,tt(),this.snap.getImmediateChild(e)):new Go(this.source,ut(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Jr.MERGE}operationForChild(e){if($e(this.path)){const t=this.children.subtree(new dt(e));return t.isEmpty()?null:t.value?new Go(this.source,tt(),t.value):new mc(this.source,tt(),t)}else return ce(He(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mc(this.source,ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const t=He(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function I3(n,e,t,r){const i=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(g3(l.childName,l.snapshotNode))}),Nu(n,i,"child_removed",e,r,t),Nu(n,i,"child_added",e,r,t),Nu(n,i,"child_moved",o,r,t),Nu(n,i,"child_changed",e,r,t),Nu(n,i,"value",e,r,t),i}function Nu(n,e,t,r,i,o){const l=r.filter(c=>c.type===t);l.sort((c,h)=>S3(n,c,h)),l.forEach(c=>{const h=C3(n,c,o);i.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(h,n.query_))})})}function C3(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function S3(n,e,t){if(e.childName==null||t.childName==null)throw Cl("Should only compare child_ events.");const r=new qe(e.childName,e.snapshotNode),i=new qe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(n,e){return{eventCache:n,serverCache:e}}function Yu(n,e,t,r){return mx(new jv(e,t,r),n.serverCache)}function gx(n,e,t,r){return mx(n.eventCache,new jv(e,t,r))}function ey(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Qo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg;const R3=()=>(tg||(tg=new bn(hV)),tg);class lt{static fromObject(e){let t=new lt(null);return cr(e,(r,i)=>{t=t.set(new dt(r),i)}),t}constructor(e,t=R3()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:tt(),value:this.value};if($e(e))return null;{const r=He(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(ut(e),t);return o!=null?{path:Wt(new dt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const t=He(e),r=this.children.get(t);return r!==null?r.subtree(ut(e)):new lt(null)}}set(e,t){if($e(e))return new lt(t,this.children);{const r=He(e),o=(this.children.get(r)||new lt(null)).set(ut(e),t),l=this.children.insert(r,o);return new lt(this.value,l)}}remove(e){if($e(e))return this.children.isEmpty()?new lt(null):new lt(null,this.children);{const t=He(e),r=this.children.get(t);if(r){const i=r.remove(ut(e));let o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new lt(null):new lt(this.value,o)}else return this}}get(e){if($e(e))return this.value;{const t=He(e),r=this.children.get(t);return r?r.get(ut(e)):null}}setTree(e,t){if($e(e))return t;{const r=He(e),o=(this.children.get(r)||new lt(null)).setTree(ut(e),t);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new lt(this.value,l)}}fold(e){return this.fold_(tt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Wt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,tt(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if($e(e))return null;{const o=He(e),l=this.children.get(o);return l?l.findOnPath_(ut(e),Wt(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,tt(),t)}foreachOnPath_(e,t,r){if($e(e))return this;{this.value&&r(t,this.value);const i=He(e),o=this.children.get(i);return o?o.foreachOnPath_(ut(e),Wt(t,i),r):new lt(null)}}foreach(e){this.foreach_(tt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Wt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.writeTree_=e}static empty(){return new Or(new lt(null))}}function Xu(n,e,t){if($e(e))return new Or(new lt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const l=or(i,e);return o=o.updateChild(l,t),new Or(n.writeTree_.set(i,o))}else{const i=new lt(t),o=n.writeTree_.setTree(e,i);return new Or(o)}}}function HT(n,e,t){let r=n;return cr(t,(i,o)=>{r=Xu(r,Wt(e,i),o)}),r}function qT(n,e){if($e(e))return Or.empty();{const t=n.writeTree_.setTree(e,new lt(null));return new Or(t)}}function ty(n,e){return na(n,e)!=null}function na(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(or(t.path,e)):null}function KT(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(dn,(r,i)=>{e.push(new qe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new qe(r,i.value))}),e}function Us(n,e){if($e(e))return n;{const t=na(n,e);return t!=null?new Or(new lt(t)):new Or(n.writeTree_.subtree(e))}}function ny(n){return n.writeTree_.isEmpty()}function gl(n,e){return yx(tt(),n.writeTree_,e)}function yx(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ce(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=yx(Wt(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Wt(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n,e){return Ix(e,n)}function x3(n,e,t,r,i){ce(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Xu(n.visibleWrites,e,t)),n.lastWriteId=r}function A3(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function P3(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ce(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&k3(c,r.path)?i=!1:br(r.path,c.path)&&(o=!0)),l--}if(i){if(o)return b3(n),!0;if(r.snap)n.visibleWrites=qT(n.visibleWrites,r.path);else{const c=r.children;cr(c,h=>{n.visibleWrites=qT(n.visibleWrites,Wt(r.path,h))})}return!0}else return!1}function k3(n,e){if(n.snap)return br(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&br(Wt(n.path,t),e))return!0;return!1}function b3(n){n.visibleWrites=_x(n.allWrites,N3,tt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function N3(n){return n.visible}function _x(n,e,t){let r=Or.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const l=o.path;let c;if(o.snap)br(t,l)?(c=or(t,l),r=Xu(r,c,o.snap)):br(l,t)&&(c=or(l,t),r=Xu(r,tt(),o.snap.getChild(c)));else if(o.children){if(br(t,l))c=or(t,l),r=HT(r,c,o.children);else if(br(l,t))if(c=or(l,t),$e(c))r=HT(r,tt(),o.children);else{const h=al(o.children,He(c));if(h){const p=h.getChild(ut(c));r=Xu(r,tt(),p)}}}else throw Cl("WriteRecord should have .snap or .children")}}return r}function wx(n,e,t,r,i){if(!r&&!i){const o=na(n.visibleWrites,e);if(o!=null)return o;{const l=Us(n.visibleWrites,e);if(ny(l))return t;if(t==null&&!ty(l,tt()))return null;{const c=t||Xe.EMPTY_NODE;return gl(l,c)}}}else{const o=Us(n.visibleWrites,e);if(!i&&ny(o))return t;if(!i&&t==null&&!ty(o,tt()))return null;{const l=function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(br(p.path,e)||br(e,p.path))},c=_x(n.allWrites,l,e),h=t||Xe.EMPTY_NODE;return gl(c,h)}}}function O3(n,e,t){let r=Xe.EMPTY_NODE;const i=na(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(dn,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(t){const o=Us(n.visibleWrites,e);return t.forEachChild(dn,(l,c)=>{const h=gl(Us(o,new dt(l)),c);r=r.updateImmediateChild(l,h)}),KT(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Us(n.visibleWrites,e);return KT(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function D3(n,e,t,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Wt(e,t);if(ty(n.visibleWrites,o))return null;{const l=Us(n.visibleWrites,o);return ny(l)?i.getChild(t):gl(l,i.getChild(t))}}function L3(n,e,t,r){const i=Wt(e,t),o=na(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){const l=Us(n.visibleWrites,i);return gl(l,r.getNode().getImmediateChild(t))}else return null}function M3(n,e){return na(n.visibleWrites,e)}function V3(n,e,t,r,i,o,l){let c;const h=Us(n.visibleWrites,e),p=na(h,tt());if(p!=null)c=p;else if(t!=null)c=gl(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],_=l.getCompare(),E=o?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let S=E.getNext();for(;S&&g.length<i;)_(S,r)!==0&&g.push(S),S=E.getNext();return g}else return[]}function F3(){return{visibleWrites:Or.empty(),allWrites:[],lastWriteId:-1}}function ry(n,e,t,r){return wx(n.writeTree,n.treePath,e,t,r)}function Ex(n,e){return O3(n.writeTree,n.treePath,e)}function GT(n,e,t,r){return D3(n.writeTree,n.treePath,e,t,r)}function df(n,e){return M3(n.writeTree,Wt(n.treePath,e))}function j3(n,e,t,r,i,o){return V3(n.writeTree,n.treePath,e,t,r,i,o)}function Uv(n,e,t){return L3(n.writeTree,n.treePath,e,t)}function Tx(n,e){return Ix(Wt(n.treePath,e),n.writeTree)}function Ix(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ce(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,$T(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,m3(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,p3(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,$T(r,e.snapshotNode,i.oldSnap));else throw Cl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const Cx=new $3;class $v{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new jv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uv(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qo(this.viewCache_),o=j3(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]}}function B3(n,e){ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function z3(n,e,t,r,i){const o=new U3;let l,c;if(t.type===Jr.OVERWRITE){const p=t;p.source.fromUser?l=iy(n,e,p.path,p.snap,r,i,o):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!$e(p.path),l=hf(n,e,p.path,p.snap,r,i,c,o))}else if(t.type===Jr.MERGE){const p=t;p.source.fromUser?l=H3(n,e,p.path,p.children,r,i,o):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),l=sy(n,e,p.path,p.children,r,i,c,o))}else if(t.type===Jr.ACK_USER_WRITE){const p=t;p.revert?l=G3(n,e,p.path,r,i,o):l=q3(n,e,p.path,p.affectedTree,r,i,o)}else if(t.type===Jr.LISTEN_COMPLETE)l=K3(n,e,t.path,r,o);else throw Cl("Unknown operation type: "+t.type);const h=o.getChanges();return W3(e,l,h),{viewCache:l,changes:h}}function W3(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ey(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(f3(ey(e)))}}function Sx(n,e,t,r,i,o){const l=e.eventCache;if(df(r,t)!=null)return e;{let c,h;if($e(t))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Qo(e),g=p instanceof Xe?p:Xe.EMPTY_NODE,_=Ex(r,g);c=n.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const p=ry(r,Qo(e));c=n.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const p=He(t);if(p===".priority"){ce(Js(t)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const _=GT(r,t,g,h);_!=null?c=n.filter.updatePriority(g,_):c=l.getNode()}else{const g=ut(t);let _;if(l.isCompleteForChild(p)){h=e.serverCache.getNode();const E=GT(r,t,l.getNode(),h);E!=null?_=l.getNode().getImmediateChild(p).updateChild(g,E):_=l.getNode().getImmediateChild(p)}else _=Uv(r,p,e.serverCache);_!=null?c=n.filter.updateChild(l.getNode(),p,_,g,i,o):c=l.getNode()}}return Yu(e,c,l.isFullyInitialized()||$e(t),n.filter.filtersNodes())}}function hf(n,e,t,r,i,o,l,c){const h=e.serverCache;let p;const g=l?n.filter:n.filter.getIndexedFilter();if($e(t))p=g.updateFullNode(h.getNode(),r,null);else if(g.filtersNodes()&&!h.isFiltered()){const S=h.getNode().updateChild(t,r);p=g.updateFullNode(h.getNode(),S,null)}else{const S=He(t);if(!h.isCompleteForPath(t)&&Js(t)>1)return e;const x=ut(t),R=h.getNode().getImmediateChild(S).updateChild(x,r);S===".priority"?p=g.updatePriority(h.getNode(),R):p=g.updateChild(h.getNode(),S,R,x,Cx,null)}const _=gx(e,p,h.isFullyInitialized()||$e(t),g.filtersNodes()),E=new $v(i,_,o);return Sx(n,_,t,i,E,c)}function iy(n,e,t,r,i,o,l){const c=e.eventCache;let h,p;const g=new $v(i,e,o);if($e(t))p=n.filter.updateFullNode(e.eventCache.getNode(),r,l),h=Yu(e,p,!0,n.filter.filtersNodes());else{const _=He(t);if(_===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),r),h=Yu(e,p,c.isFullyInitialized(),c.isFiltered());else{const E=ut(t),S=c.getNode().getImmediateChild(_);let x;if($e(E))x=r;else{const b=g.getCompleteChild(_);b!=null?tx(E)===".priority"&&b.getChild(rx(E)).isEmpty()?x=b:x=b.updateChild(E,r):x=Xe.EMPTY_NODE}if(S.equals(x))h=e;else{const b=n.filter.updateChild(c.getNode(),_,x,E,g,l);h=Yu(e,b,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function QT(n,e){return n.eventCache.isCompleteForChild(e)}function H3(n,e,t,r,i,o,l){let c=e;return r.foreach((h,p)=>{const g=Wt(t,h);QT(e,He(g))&&(c=iy(n,c,g,p,i,o,l))}),r.foreach((h,p)=>{const g=Wt(t,h);QT(e,He(g))||(c=iy(n,c,g,p,i,o,l))}),c}function YT(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function sy(n,e,t,r,i,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,p;$e(t)?p=r:p=new lt(null).setTree(t,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((_,E)=>{if(g.hasChild(_)){const S=e.serverCache.getNode().getImmediateChild(_),x=YT(n,S,E);h=hf(n,h,new dt(_),x,i,o,l,c)}}),p.children.inorderTraversal((_,E)=>{const S=!e.serverCache.isCompleteForChild(_)&&E.value===null;if(!g.hasChild(_)&&!S){const x=e.serverCache.getNode().getImmediateChild(_),b=YT(n,x,E);h=hf(n,h,new dt(_),b,i,o,l,c)}}),h}function q3(n,e,t,r,i,o,l){if(df(i,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(r.value!=null){if($e(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return hf(n,e,t,h.getNode().getChild(t),i,o,c,l);if($e(t)){let p=new lt(null);return h.getNode().forEachChild(il,(g,_)=>{p=p.set(new dt(g),_)}),sy(n,e,t,p,i,o,c,l)}else return e}else{let p=new lt(null);return r.foreach((g,_)=>{const E=Wt(t,g);h.isCompleteForPath(E)&&(p=p.set(g,h.getNode().getChild(E)))}),sy(n,e,t,p,i,o,c,l)}}function K3(n,e,t,r,i){const o=e.serverCache,l=gx(e,o.getNode(),o.isFullyInitialized()||$e(t),o.isFiltered());return Sx(n,l,t,r,Cx,i)}function G3(n,e,t,r,i,o){let l;if(df(r,t)!=null)return e;{const c=new $v(r,e,i),h=e.eventCache.getNode();let p;if($e(t)||He(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=ry(r,Qo(e));else{const _=e.serverCache.getNode();ce(_ instanceof Xe,"serverChildren would be complete if leaf node"),g=Ex(r,_)}g=g,p=n.filter.updateFullNode(h,g,o)}else{const g=He(t);let _=Uv(r,g,e.serverCache);_==null&&e.serverCache.isCompleteForChild(g)&&(_=h.getImmediateChild(g)),_!=null?p=n.filter.updateChild(h,g,_,ut(t),c,o):e.eventCache.getNode().hasChild(g)?p=n.filter.updateChild(h,g,Xe.EMPTY_NODE,ut(t),c,o):p=h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=ry(r,Qo(e)),l.isLeafNode()&&(p=n.filter.updateFullNode(p,l,o)))}return l=e.serverCache.isFullyInitialized()||df(r,tt())!=null,Yu(e,p,l,n.filter.filtersNodes())}}function Q3(n,e){const t=Qo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!$e(e)&&!t.getImmediateChild(He(e)).isEmpty())?t.getChild(e):null}function XT(n,e,t,r){e.type===Jr.MERGE&&e.source.queryId!==null&&(ce(Qo(n.viewCache_),"We should always have a full cache before handling merges"),ce(ey(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=z3(n.processor_,i,e,t,r);return B3(n.processor_,o.viewCache),ce(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,Y3(n,o.changes,o.viewCache.eventCache.getNode())}function Y3(n,e,t,r){const i=n.eventRegistrations_;return I3(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JT;function X3(n){ce(!JT,"__referenceConstructor has already been defined"),JT=n}function Bv(n,e,t,r){const i=e.source.queryId;if(i!==null){const o=n.views.get(i);return ce(o!=null,"SyncTree gave us an op for an invalid query."),XT(o,e,t,r)}else{let o=[];for(const l of n.views.values())o=o.concat(XT(l,e,t,r));return o}}function zv(n,e){let t=null;for(const r of n.views.values())t=t||Q3(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZT;function J3(n){ce(!ZT,"__referenceConstructor has already been defined"),ZT=n}class eI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lt(null),this.pendingWriteTree_=F3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Z3(n,e,t,r,i){return x3(n.pendingWriteTree_,e,t,r,i),i?Xf(n,new Go(hx(),e,t)):[]}function Ja(n,e,t=!1){const r=A3(n.pendingWriteTree_,e);if(P3(n.pendingWriteTree_,e)){let o=new lt(null);return r.snap!=null?o=o.set(tt(),!0):cr(r.children,l=>{o=o.set(new dt(l),!0)}),Xf(n,new cf(r.path,o,t))}else return[]}function Yf(n,e,t){return Xf(n,new Go(fx(),e,t))}function eF(n,e,t){const r=lt.fromObject(t);return Xf(n,new mc(fx(),e,r))}function tF(n,e,t,r){const i=Px(n,r);if(i!=null){const o=kx(i),l=o.path,c=o.queryId,h=or(l,e),p=new Go(px(c),h,t);return bx(n,l,p)}else return[]}function nF(n,e,t,r){const i=Px(n,r);if(i){const o=kx(i),l=o.path,c=o.queryId,h=or(l,e),p=lt.fromObject(t),g=new mc(px(c),h,p);return bx(n,l,g)}else return[]}function Rx(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=or(l,e),p=zv(c,h);if(p)return p});return wx(i,e,o,t,!0)}function Xf(n,e){return xx(e,n.syncPointTree_,null,vx(n.pendingWriteTree_,tt()))}function xx(n,e,t,r){if($e(n.path))return Ax(n,e,t,r);{const i=e.get(tt());t==null&&i!=null&&(t=zv(i,tt()));let o=[];const l=He(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const p=t?t.getImmediateChild(l):null,g=Tx(r,l);o=o.concat(xx(c,h,p,g))}return i&&(o=o.concat(Bv(i,n,r,t))),o}}function Ax(n,e,t,r){const i=e.get(tt());t==null&&i!=null&&(t=zv(i,tt()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,p=Tx(r,l),g=n.operationForChild(l);g&&(o=o.concat(Ax(g,c,h,p)))}),i&&(o=o.concat(Bv(i,n,r,t))),o}function Px(n,e){return n.tagToQueryMap.get(e)}function kx(n){const e=n.indexOf("$");return ce(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new dt(n.substr(0,e))}}function bx(n,e,t){const r=n.syncPointTree_.get(e);ce(r,"Missing sync point for query tag that we're tracking");const i=vx(n.pendingWriteTree_,e);return Bv(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Wv(t)}node(){return this.node_}}class Hv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Wt(this.path_,e);return new Hv(this.syncTree_,t)}node(){return Rx(this.syncTree_,this.path_)}}const rF=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},tI=function(n,e,t){if(!n||typeof n!="object")return n;if(ce(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return iF(n[".sv"],e,t);if(typeof n[".sv"]=="object")return sF(n[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},iF=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ce(!1,"Unexpected server value: "+n)}},sF=function(n,e,t){n.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},oF=function(n,e,t,r){return qv(e,new Hv(t,n),r)},aF=function(n,e,t){return qv(n,new Wv(e),t)};function qv(n,e,t){const r=n.getPriority().val(),i=tI(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,c=tI(l.getValue(),e,t);return c!==l.getValue()||i!==l.getPriority().val()?new $t(c,ln(i)):n}else{const l=n;return o=l,i!==l.getPriority().val()&&(o=o.updatePriority(new $t(i))),l.forEachChild(dn,(c,h)=>{const p=qv(h,e.getImmediateChild(c),t);p!==h&&(o=o.updateImmediateChild(c,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Gv(n,e){let t=e instanceof dt?e:new dt(e),r=n,i=He(t);for(;i!==null;){const o=al(r.node.children,i)||{children:{},childCount:0};r=new Kv(i,r,o),t=ut(t),i=He(t)}return r}function Nl(n){return n.node.value}function Nx(n,e){n.node.value=e,oy(n)}function Ox(n){return n.node.childCount>0}function lF(n){return Nl(n)===void 0&&!Ox(n)}function Jf(n,e){cr(n.node.children,(t,r)=>{e(new Kv(t,n,r))})}function Dx(n,e,t,r){t&&e(n),Jf(n,i=>{Dx(i,e,!0)})}function uF(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vc(n){return new dt(n.parent===null?n.name:Vc(n.parent)+"/"+n.name)}function oy(n){n.parent!==null&&cF(n.parent,n.name,n)}function cF(n,e,t){const r=lF(t),i=Ki(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,oy(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,oy(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=/[\[\].#$\/\u0000-\u001F\u007F]/,hF=/[\[\].#$\u0000-\u001F\u007F]/,ng=10*1024*1024,Lx=function(n){return typeof n=="string"&&n.length!==0&&!dF.test(n)},fF=function(n){return typeof n=="string"&&n.length!==0&&!hF.test(n)},pF=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fF(n)},Mx=function(n,e,t){const r=t instanceof dt?new KV(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Vo(r));if(typeof e=="function")throw new Error(n+"contains a function "+Vo(r)+" with contents = "+e.toString());if(DR(e))throw new Error(n+"contains "+e.toString()+" "+Vo(r));if(typeof e=="string"&&e.length>ng/3&&Tf(e)>ng)throw new Error(n+"contains a string greater than "+ng+" utf8 bytes "+Vo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(cr(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!Lx(l)))throw new Error(n+" contains an invalid key ("+l+") "+Vo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GV(r,l),Mx(n,c,r),QV(r)}),i&&o)throw new Error(n+' contains ".value" child '+Vo(r)+" in addition to actual children.")}},mF=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Lx(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!pF(t))throw new Error(yb(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yF(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();t!==null&&!ix(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function ra(n,e,t){yF(n,t),vF(n,r=>br(r,e)||br(e,r))}function vF(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const o=i.path;e(o)?(_F(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function _F(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Gu&&an("event: "+t.toString()),Lc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="repo_interrupt",EF=25;class TF{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uf(),this.transactionQueueTree_=new Kv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IF(n,e,t){if(n.stats_=Dv(n.repoInfo_),n.forceRestClient_||vV())n.server_=new lf(n.repoInfo_,(r,i,o,l)=>{nI(n,r,i,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>rI(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Li(n.repoInfo_,e,(r,i,o,l)=>{nI(n,r,i,o,l)},r=>{rI(n,r)},r=>{SF(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=IV(n.repoInfo_,()=>new T3(n.stats_,n.server_)),n.infoData_=new y3,n.infoSyncTree_=new eI({startListening:(r,i,o,l)=>{let c=[];const h=n.infoData_.getNode(r._path);return h.isEmpty()||(c=Yf(n.infoSyncTree_,r._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),Qv(n,"connected",!1),n.serverSyncTree_=new eI({startListening:(r,i,o,l)=>(n.server_.listen(r,o,i,(c,h)=>{const p=l(c,h);ra(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function CF(n){const t=n.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Vx(n){return rF({timestamp:CF(n)})}function nI(n,e,t,r,i){n.dataUpdateCount++;const o=new dt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const h=jh(t,p=>ln(p));l=nF(n.serverSyncTree_,o,h,i)}else{const h=ln(t);l=tF(n.serverSyncTree_,o,h,i)}else if(r){const h=jh(t,p=>ln(p));l=eF(n.serverSyncTree_,o,h)}else{const h=ln(t);l=Yf(n.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=Xv(n,o)),ra(n.eventQueue_,c,l)}function rI(n,e){Qv(n,"connected",e),e===!1&&xF(n)}function SF(n,e){cr(e,(t,r)=>{Qv(n,t,r)})}function Qv(n,e,t){const r=new dt("/.info/"+e),i=ln(t);n.infoData_.updateSnapshot(r,i);const o=Yf(n.infoSyncTree_,r,i);ra(n.eventQueue_,r,o)}function RF(n){return n.nextWriteId_++}function xF(n){Fx(n,"onDisconnectEvents");const e=Vx(n),t=uf();Zg(n.onDisconnect_,tt(),(i,o)=>{const l=oF(i,o,n.serverSyncTree_,e);dx(t,i,l)});let r=[];Zg(t,tt(),(i,o)=>{r=r.concat(Yf(n.serverSyncTree_,i,o));const l=bF(n,i);Xv(n,l)}),n.onDisconnect_=uf(),ra(n.eventQueue_,tt(),r)}function AF(n){n.persistentConnection_&&n.persistentConnection_.interrupt(wF)}function Fx(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),an(t,...e)}function jx(n,e,t){return Rx(n.serverSyncTree_,e,t)||Xe.EMPTY_NODE}function Yv(n,e=n.transactionQueueTree_){if(e||Zf(n,e),Nl(e)){const t=$x(n,e);ce(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&PF(n,Vc(e),t)}else Ox(e)&&Jf(e,t=>{Yv(n,t)})}function PF(n,e,t){const r=t.map(p=>p.currentWriteId),i=jx(n,e,r);let o=i;const l=i.hash();for(let p=0;p<t.length;p++){const g=t[p];ce(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=or(e,g.path);o=o.updateChild(_,g.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;n.server_.put(h.toString(),c,p=>{Fx(n,"transaction put response",{path:h.toString(),status:p});let g=[];if(p==="ok"){const _=[];for(let E=0;E<t.length;E++)t[E].status=2,g=g.concat(Ja(n.serverSyncTree_,t[E].currentWriteId)),t[E].onComplete&&_.push(()=>t[E].onComplete(null,!0,t[E].currentOutputSnapshotResolved)),t[E].unwatcher();Zf(n,Gv(n.transactionQueueTree_,e)),Yv(n,n.transactionQueueTree_),ra(n.eventQueue_,e,g);for(let E=0;E<_.length;E++)Lc(_[E])}else{if(p==="datastale")for(let _=0;_<t.length;_++)t[_].status===3?t[_].status=4:t[_].status=0;else{Kn("transaction at "+h.toString()+" failed: "+p);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=p}Xv(n,e)}},l)}function Xv(n,e){const t=Ux(n,e),r=Vc(t),i=$x(n,t);return kF(n,i,r),r}function kF(n,e,t){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],p=or(t,h.path);let g=!1,_;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,_=h.abortReason,i=i.concat(Ja(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=EF)g=!0,_="maxretry",i=i.concat(Ja(n.serverSyncTree_,h.currentWriteId,!0));else{const E=jx(n,h.path,l);h.currentInputSnapshot=E;const S=e[c].update(E.val());if(S!==void 0){Mx("transaction failed: Data returned ",S,h.path);let x=ln(S);typeof S=="object"&&S!=null&&Ki(S,".priority")||(x=x.updatePriority(E.getPriority()));const R=h.currentWriteId,F=Vx(n),$=aF(x,E,F);h.currentOutputSnapshotRaw=x,h.currentOutputSnapshotResolved=$,h.currentWriteId=RF(n),l.splice(l.indexOf(R),1),i=i.concat(Z3(n.serverSyncTree_,h.path,$,h.currentWriteId,h.applyLocally)),i=i.concat(Ja(n.serverSyncTree_,R,!0))}else g=!0,_="nodata",i=i.concat(Ja(n.serverSyncTree_,h.currentWriteId,!0))}ra(n.eventQueue_,t,i),i=[],g&&(e[c].status=2,function(E){setTimeout(E,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(_==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(_),!1,null))))}Zf(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)Lc(r[c]);Yv(n,n.transactionQueueTree_)}function Ux(n,e){let t,r=n.transactionQueueTree_;for(t=He(e);t!==null&&Nl(r)===void 0;)r=Gv(r,t),e=ut(e),t=He(e);return r}function $x(n,e){const t=[];return Bx(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Bx(n,e,t){const r=Nl(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Jf(e,i=>{Bx(n,i,t)})}function Zf(n,e){const t=Nl(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,Nx(e,t.length>0?t:void 0)}Jf(e,r=>{Zf(n,r)})}function bF(n,e){const t=Vc(Ux(n,e)),r=Gv(n.transactionQueueTree_,e);return uF(r,i=>{rg(n,i)}),rg(n,r),Dx(r,i=>{rg(n,i)}),t}function rg(n,e){const t=Nl(e);if(t){const r=[];let i=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ce(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(ce(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(Ja(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Nx(e,void 0):t.length=o+1,ra(n.eventQueue_,Vc(e),i);for(let l=0;l<r.length;l++)Lc(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function OF(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Kn(`Invalid query segment '${t}' in query '${n}'`)}return e}const iI=function(n,e){const t=DF(n),r=t.namespace;t.domain==="firebase.com"&&zi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&zi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||cV();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new qR(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new dt(t.pathString)}},DF=function(n){let e="",t="",r="",i="",o="",l=!0,c="https",h=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");g===-1&&(g=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),e=n.substring(0,Math.min(g,_)),g<_&&(i=NF(n.substring(g,_)));const E=OF(n.substring(Math.min(n.length,_)));p=e.indexOf(":"),p>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")t="localhost";else if(S.split(".").length<=2)t=S;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),t=e.substring(x+1),o=r}"ns"in E&&(o=E.ns)}return{host:e,port:h,domain:t,subdomain:r,secure:l,scheme:c,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:tx(this._path)}get ref(){return new Ol(this._repo,this._path)}get _queryIdentifier(){const e=zT(this._queryParams),t=Nv(e);return t==="{}"?"default":t}get _queryObject(){return zT(this._queryParams)}isEqual(e){if(e=ct(e),!(e instanceof Jv))return!1;const t=this._repo===e._repo,r=ix(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+qV(this._path)}}class Ol extends Jv{constructor(e,t){super(e,t,new Fv,!1)}get parent(){const e=rx(this._path);return e===null?null:new Ol(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}X3(Ol);J3(Ol);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="FIREBASE_DATABASE_EMULATOR_HOST",ay={};let MF=!1;function VF(n,e,t,r){n.repoInfo_=new qR(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function FF(n,e,t,r,i){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||zi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=iI(o,i),c=l.repoInfo,h;typeof process<"u"&&CT&&(h=CT[LF]),h?(o=`http://${h}?ns=${c.namespace}`,l=iI(o,i),c=l.repoInfo):l.repoInfo.secure;const p=new wV(n.name,n.options,e);mF("Invalid Firebase Database URL",l),$e(l.path)||zi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=UF(c,n,p,new _V(n,t));return new $F(g,n)}function jF(n,e){const t=ay[e];(!t||t[n.key]!==n)&&zi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),AF(n),delete t[n.key]}function UF(n,e,t,r){let i=ay[e.name];i||(i={},ay[e.name]=i);let o=i[n.toURLString()];return o&&zi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new TF(n,MF,t,r),i[n.toURLString()]=o,o}class $F{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ol(this._repo,tt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zi("Cannot call "+e+" on a deleted database.")}}function BF(n=Cf(),e){const t=Ic(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=by("database");r&&zF(t,...r)}return t}function zF(n,e,t,r={}){n=ct(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&Bs(r,o.repoInfo_.emulatorOptions))return;zi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&zi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Nh(Nh.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:Oy(r.mockUserToken,n.app.options.projectId);l=new Nh(c)}VF(o,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(n){iV(to),zs(new Vi("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return FF(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),ar(ST,RT,n),ar(ST,RT,"esm2017")}Li.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Li.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};WF();const Zv=async(n,e,t,r,i,o,l)=>{const c=Xs(),h={displayName:`${e} ${t}`.trim(),firstName:e,lastName:t,email:r,phoneNumber:i,createdAt:new Date};typeof l=="boolean"&&(h.isAdmin=l),await PR(ta(c,"users",n),h,{merge:!0})},zx={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-userdb.firebaseio.com"};console.log("FIREBASE CONFIG:",zx);const e_=yC(zx),Fc=Af(e_);new Xr;const HF=Xs(e_);HD("debug");async function qF(n,e={}){const t=ta(HF,"users",n.uid),r={email:n.email,displayName:n.displayName||e.displayName||"New User",photoURL:n.photoURL||"",firstName:e.firstName||"",lastName:e.lastName||"",createdAt:e.createdAt||rV()};try{console.log("Attempting to write user profile for:",n.uid),await PR(t,r,{merge:!0}),console.log("User document created/updated succesfully")}catch(i){console.error(`Error creating/updating user document ${n.uid}`,i)}}Hy(Fc,async n=>{n!=null?(console.log("logged in!"),await qF(n)):console.log("No user")});const Wx=vn.createContext();function Dl(){return I.useContext(Wx)}function KF({children:n}){const[e,t]=I.useState(null),[r,i]=I.useState(!1),[o,l]=I.useState(!0),[c,h]=I.useState(!1),[p,g]=I.useState(!1),[_,E]=I.useState(!1),S={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:p,loading:o,redirectAfterAuth:_,setRedirectAfterAuth:E};return I.useEffect(()=>{const x=Af(),b=Hy(x,R=>{var F;if(t(R),i(!!R),R){const $=(F=R.providerData[0])==null?void 0:F.providerId;h($==="password"),g($==="google.com")}else h(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLogggedIn =",r)});return()=>b}),w.jsx(Wx.Provider,{value:S,children:!o&&n})}const GF=async(n,e)=>SO(Fc,n,e),QF=(n,e)=>RO(Fc,n,e),YF=async()=>{var t;const n=Af(),e=new Xr;try{const r=await XO(n,e),i=(t=r==null?void 0:r.additionalUserInfo)==null?void 0:t.isNewUser,o=r.user;return i?(console.log("New user signed up with Google:",r.user),await Zv(o.uid,o.displayname||"Google User",o.email,o.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},t_=()=>Fc.signOut();var ig={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var sI;function XF(){return sI||(sI=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(ig)),ig.exports}var JF=XF();const Ge=vc(JF);var ZF=Function.prototype.bind.call(Function.prototype.call,[].slice);function oI(n,e){return ZF(n.querySelectorAll(e))}const Hx=!!(typeof window<"u"&&window.document&&window.document.createElement);var ly=!1,uy=!1;try{var sg={get passive(){return ly=!0},get once(){return uy=ly=!0}};Hx&&(window.addEventListener("test",sg,sg),window.removeEventListener("test",sg,!0))}catch{}function qx(n,e,t,r){if(r&&typeof r!="boolean"&&!uy){var i=r.once,o=r.capture,l=t;!uy&&i&&(l=t.__once||function c(h){this.removeEventListener(e,c,o),t.call(this,h)},t.__once=l),n.addEventListener(e,l,ly?r:o)}n.addEventListener(e,t,r)}function ej(n,e,t){const r=I.useRef(n!==void 0),[i,o]=I.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&o(e),[l?n:i,I.useCallback((...h)=>{const[p,...g]=h;let _=t==null?void 0:t(p,...g);return o(p),_},[t])]}function tj(n){const e=I.useRef(null);return I.useEffect(()=>{e.current=n}),e.current}function nj(){const[,n]=I.useReducer(e=>e+1,0);return n}function rj(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n},[n]),e}function $s(n){const e=rj(n);return I.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function ij(n,e,t,r=!1){const i=$s(t);I.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}const ep=I.createContext(null);function sj(){return I.useState(null)}var aI=Object.prototype.hasOwnProperty;function lI(n,e,t){for(t of n.keys())if(Ju(t,e))return t}function Ju(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Ju(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=lI(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=lI(e,i),!i)||!Ju(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(aI.call(n,t)&&++r&&!aI.call(e,t)||!(t in e)||!Ju(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function oj(){const n=I.useRef(!0),e=I.useRef(()=>n.current);return I.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function aj(n){const e=oj();return[n[0],I.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var On="top",dr="bottom",hr="right",Dn="left",n_="auto",jc=[On,dr,hr,Dn],yl="start",gc="end",lj="clippingParents",Kx="viewport",Ou="popper",uj="reference",uI=jc.reduce(function(n,e){return n.concat([e+"-"+yl,e+"-"+gc])},[]),Gx=[].concat(jc,[n_]).reduce(function(n,e){return n.concat([e,e+"-"+yl,e+"-"+gc])},[]),cj="beforeRead",dj="read",hj="afterRead",fj="beforeMain",pj="main",mj="afterMain",gj="beforeWrite",yj="write",vj="afterWrite",_j=[cj,dj,hj,fj,pj,mj,gj,yj,vj];function ii(n){return n.split("-")[0]}function Gn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Yo(n){var e=Gn(n).Element;return n instanceof e||n instanceof Element}function si(n){var e=Gn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function r_(n){if(typeof ShadowRoot>"u")return!1;var e=Gn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var $o=Math.max,ff=Math.min,vl=Math.round;function cy(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Qx(){return!/^((?!chrome|android).)*safari/i.test(cy())}function _l(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&si(n)&&(i=n.offsetWidth>0&&vl(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&vl(r.height)/n.offsetHeight||1);var l=Yo(n)?Gn(n):window,c=l.visualViewport,h=!Qx()&&t,p=(r.left+(h&&c?c.offsetLeft:0))/i,g=(r.top+(h&&c?c.offsetTop:0))/o,_=r.width/i,E=r.height/o;return{width:_,height:E,top:g,right:p+_,bottom:g+E,left:p,x:p,y:g}}function i_(n){var e=_l(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Yx(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&r_(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zs(n){return n?(n.nodeName||"").toLowerCase():null}function Wi(n){return Gn(n).getComputedStyle(n)}function wj(n){return["table","td","th"].indexOf(Zs(n))>=0}function oo(n){return((Yo(n)?n.ownerDocument:n.document)||window.document).documentElement}function tp(n){return Zs(n)==="html"?n:n.assignedSlot||n.parentNode||(r_(n)?n.host:null)||oo(n)}function cI(n){return!si(n)||Wi(n).position==="fixed"?null:n.offsetParent}function Ej(n){var e=/firefox/i.test(cy()),t=/Trident/i.test(cy());if(t&&si(n)){var r=Wi(n);if(r.position==="fixed")return null}var i=tp(n);for(r_(i)&&(i=i.host);si(i)&&["html","body"].indexOf(Zs(i))<0;){var o=Wi(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Uc(n){for(var e=Gn(n),t=cI(n);t&&wj(t)&&Wi(t).position==="static";)t=cI(t);return t&&(Zs(t)==="html"||Zs(t)==="body"&&Wi(t).position==="static")?e:t||Ej(n)||e}function s_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Zu(n,e,t){return $o(n,ff(e,t))}function Tj(n,e,t){var r=Zu(n,e,t);return r>t?t:r}function Xx(){return{top:0,right:0,bottom:0,left:0}}function Jx(n){return Object.assign({},Xx(),n)}function Zx(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Ij=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Jx(typeof e!="number"?e:Zx(e,jc))};function Cj(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,c=ii(t.placement),h=s_(c),p=[Dn,hr].indexOf(c)>=0,g=p?"height":"width";if(!(!o||!l)){var _=Ij(i.padding,t),E=i_(o),S=h==="y"?On:Dn,x=h==="y"?dr:hr,b=t.rects.reference[g]+t.rects.reference[h]-l[h]-t.rects.popper[g],R=l[h]-t.rects.reference[h],F=Uc(o),$=F?h==="y"?F.clientHeight||0:F.clientWidth||0:0,B=b/2-R/2,q=_[S],X=$-E[g]-_[x],J=$/2-E[g]/2+B,N=Zu(q,J,X),P=h;t.modifiersData[r]=(e={},e[P]=N,e.centerOffset=N-J,e)}}function Sj(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Yx(e.elements.popper,i)&&(e.elements.arrow=i))}const Rj={name:"arrow",enabled:!0,phase:"main",fn:Cj,effect:Sj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wl(n){return n.split("-")[1]}var xj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Aj(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:vl(t*i)/i||0,y:vl(r*i)/i||0}}function dI(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,c=n.position,h=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,E=l.x,S=E===void 0?0:E,x=l.y,b=x===void 0?0:x,R=typeof g=="function"?g({x:S,y:b}):{x:S,y:b};S=R.x,b=R.y;var F=l.hasOwnProperty("x"),$=l.hasOwnProperty("y"),B=Dn,q=On,X=window;if(p){var J=Uc(t),N="clientHeight",P="clientWidth";if(J===Gn(t)&&(J=oo(t),Wi(J).position!=="static"&&c==="absolute"&&(N="scrollHeight",P="scrollWidth")),J=J,i===On||(i===Dn||i===hr)&&o===gc){q=dr;var k=_&&J===X&&X.visualViewport?X.visualViewport.height:J[N];b-=k-r.height,b*=h?1:-1}if(i===Dn||(i===On||i===dr)&&o===gc){B=hr;var L=_&&J===X&&X.visualViewport?X.visualViewport.width:J[P];S-=L-r.width,S*=h?1:-1}}var M=Object.assign({position:c},p&&xj),V=g===!0?Aj({x:S,y:b},Gn(t)):{x:S,y:b};if(S=V.x,b=V.y,h){var O;return Object.assign({},M,(O={},O[q]=$?"0":"",O[B]=F?"0":"",O.transform=(X.devicePixelRatio||1)<=1?"translate("+S+"px, "+b+"px)":"translate3d("+S+"px, "+b+"px, 0)",O))}return Object.assign({},M,(e={},e[q]=$?b+"px":"",e[B]=F?S+"px":"",e.transform="",e))}function Pj(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,c=t.roundOffsets,h=c===void 0?!0:c,p={placement:ii(e.placement),variation:wl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,dI(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,dI(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Pj,data:{}};var ph={passive:!0};function bj(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,h=Gn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(g){g.addEventListener("scroll",t.update,ph)}),c&&h.addEventListener("resize",t.update,ph),function(){o&&p.forEach(function(g){g.removeEventListener("scroll",t.update,ph)}),c&&h.removeEventListener("resize",t.update,ph)}}const Nj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bj,data:{}};var Oj={left:"right",right:"left",bottom:"top",top:"bottom"};function Oh(n){return n.replace(/left|right|bottom|top/g,function(e){return Oj[e]})}var Dj={start:"end",end:"start"};function hI(n){return n.replace(/start|end/g,function(e){return Dj[e]})}function o_(n){var e=Gn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function a_(n){return _l(oo(n)).left+o_(n).scrollLeft}function Lj(n,e){var t=Gn(n),r=oo(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){o=i.width,l=i.height;var p=Qx();(p||!p&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:o,height:l,x:c+a_(n),y:h}}function Mj(n){var e,t=oo(n),r=o_(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=$o(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=$o(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+a_(n),h=-r.scrollTop;return Wi(i||t).direction==="rtl"&&(c+=$o(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:c,y:h}}function l_(n){var e=Wi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function e1(n){return["html","body","#document"].indexOf(Zs(n))>=0?n.ownerDocument.body:si(n)&&l_(n)?n:e1(tp(n))}function ec(n,e){var t;e===void 0&&(e=[]);var r=e1(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Gn(r),l=i?[o].concat(o.visualViewport||[],l_(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(ec(tp(l)))}function dy(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Vj(n,e){var t=_l(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function fI(n,e,t){return e===Kx?dy(Lj(n,t)):Yo(e)?Vj(e,t):dy(Mj(oo(n)))}function Fj(n){var e=ec(tp(n)),t=["absolute","fixed"].indexOf(Wi(n).position)>=0,r=t&&si(n)?Uc(n):n;return Yo(r)?e.filter(function(i){return Yo(i)&&Yx(i,r)&&Zs(i)!=="body"}):[]}function jj(n,e,t,r){var i=e==="clippingParents"?Fj(n):[].concat(e),o=[].concat(i,[t]),l=o[0],c=o.reduce(function(h,p){var g=fI(n,p,r);return h.top=$o(g.top,h.top),h.right=ff(g.right,h.right),h.bottom=ff(g.bottom,h.bottom),h.left=$o(g.left,h.left),h},fI(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function t1(n){var e=n.reference,t=n.element,r=n.placement,i=r?ii(r):null,o=r?wl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,h;switch(i){case On:h={x:l,y:e.y-t.height};break;case dr:h={x:l,y:e.y+e.height};break;case hr:h={x:e.x+e.width,y:c};break;case Dn:h={x:e.x-t.width,y:c};break;default:h={x:e.x,y:e.y}}var p=i?s_(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(o){case yl:h[p]=h[p]-(e[g]/2-t[g]/2);break;case gc:h[p]=h[p]+(e[g]/2-t[g]/2);break}}return h}function yc(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,c=t.boundary,h=c===void 0?lj:c,p=t.rootBoundary,g=p===void 0?Kx:p,_=t.elementContext,E=_===void 0?Ou:_,S=t.altBoundary,x=S===void 0?!1:S,b=t.padding,R=b===void 0?0:b,F=Jx(typeof R!="number"?R:Zx(R,jc)),$=E===Ou?uj:Ou,B=n.rects.popper,q=n.elements[x?$:E],X=jj(Yo(q)?q:q.contextElement||oo(n.elements.popper),h,g,l),J=_l(n.elements.reference),N=t1({reference:J,element:B,placement:i}),P=dy(Object.assign({},B,N)),k=E===Ou?P:J,L={top:X.top-k.top+F.top,bottom:k.bottom-X.bottom+F.bottom,left:X.left-k.left+F.left,right:k.right-X.right+F.right},M=n.modifiersData.offset;if(E===Ou&&M){var V=M[i];Object.keys(L).forEach(function(O){var le=[hr,dr].indexOf(O)>=0?1:-1,Se=[On,dr].indexOf(O)>=0?"y":"x";L[O]+=V[Se]*le})}return L}function Uj(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,c=t.flipVariations,h=t.allowedAutoPlacements,p=h===void 0?Gx:h,g=wl(r),_=g?c?uI:uI.filter(function(x){return wl(x)===g}):jc,E=_.filter(function(x){return p.indexOf(x)>=0});E.length===0&&(E=_);var S=E.reduce(function(x,b){return x[b]=yc(n,{placement:b,boundary:i,rootBoundary:o,padding:l})[ii(b)],x},{});return Object.keys(S).sort(function(x,b){return S[x]-S[b]})}function $j(n){if(ii(n)===n_)return[];var e=Oh(n);return[hI(n),e,hI(e)]}function Bj(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,h=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,E=t.altBoundary,S=t.flipVariations,x=S===void 0?!0:S,b=t.allowedAutoPlacements,R=e.options.placement,F=ii(R),$=F===R,B=h||($||!x?[Oh(R)]:$j(R)),q=[R].concat(B).reduce(function(Ie,Ae){return Ie.concat(ii(Ae)===n_?Uj(e,{placement:Ae,boundary:g,rootBoundary:_,padding:p,flipVariations:x,allowedAutoPlacements:b}):Ae)},[]),X=e.rects.reference,J=e.rects.popper,N=new Map,P=!0,k=q[0],L=0;L<q.length;L++){var M=q[L],V=ii(M),O=wl(M)===yl,le=[On,dr].indexOf(V)>=0,Se=le?"width":"height",xe=yc(e,{placement:M,boundary:g,rootBoundary:_,altBoundary:E,padding:p}),Te=le?O?hr:Dn:O?dr:On;X[Se]>J[Se]&&(Te=Oh(Te));var ie=Oh(Te),ue=[];if(o&&ue.push(xe[V]<=0),c&&ue.push(xe[Te]<=0,xe[ie]<=0),ue.every(function(Ie){return Ie})){k=M,P=!1;break}N.set(M,ue)}if(P)for(var se=x?3:1,z=function(Ae){var Oe=q.find(function(Ve){var De=N.get(Ve);if(De)return De.slice(0,Ae).every(function(Ye){return Ye})});if(Oe)return k=Oe,"break"},Y=se;Y>0;Y--){var fe=z(Y);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const zj={name:"flip",enabled:!0,phase:"main",fn:Bj,requiresIfExists:["offset"],data:{_skip:!1}};function pI(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function mI(n){return[On,hr,dr,Dn].some(function(e){return n[e]>=0})}function Wj(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=yc(e,{elementContext:"reference"}),c=yc(e,{altBoundary:!0}),h=pI(l,r),p=pI(c,i,o),g=mI(h),_=mI(p);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const Hj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wj};function qj(n,e,t){var r=ii(n),i=[Dn,On].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],c=o[1];return l=l||0,c=(c||0)*i,[Dn,hr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function Kj(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=Gx.reduce(function(g,_){return g[_]=qj(_,e.rects,o),g},{}),c=l[e.placement],h=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Gj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kj};function Qj(n){var e=n.state,t=n.name;e.modifiersData[t]=t1({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Yj={name:"popperOffsets",enabled:!0,phase:"read",fn:Qj,data:{}};function Xj(n){return n==="x"?"y":"x"}function Jj(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,E=t.tether,S=E===void 0?!0:E,x=t.tetherOffset,b=x===void 0?0:x,R=yc(e,{boundary:h,rootBoundary:p,padding:_,altBoundary:g}),F=ii(e.placement),$=wl(e.placement),B=!$,q=s_(F),X=Xj(q),J=e.modifiersData.popperOffsets,N=e.rects.reference,P=e.rects.popper,k=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,L=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(J){if(o){var O,le=q==="y"?On:Dn,Se=q==="y"?dr:hr,xe=q==="y"?"height":"width",Te=J[q],ie=Te+R[le],ue=Te-R[Se],se=S?-P[xe]/2:0,z=$===yl?N[xe]:P[xe],Y=$===yl?-P[xe]:-N[xe],fe=e.elements.arrow,Ie=S&&fe?i_(fe):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Xx(),Oe=Ae[le],Ve=Ae[Se],De=Zu(0,N[xe],Ie[xe]),Ye=B?N[xe]/2-se-De-Oe-L.mainAxis:z-De-Oe-L.mainAxis,Rt=B?-N[xe]/2+se+De+Ve+L.mainAxis:Y+De+Ve+L.mainAxis,Ln=e.elements.arrow&&Uc(e.elements.arrow),Gi=Ln?q==="y"?Ln.clientTop||0:Ln.clientLeft||0:0,fr=(O=M==null?void 0:M[q])!=null?O:0,di=Te+Ye-fr-Gi,Qi=Te+Rt-fr,Yi=Zu(S?ff(ie,di):ie,Te,S?$o(ue,Qi):ue);J[q]=Yi,V[q]=Yi-Te}if(c){var Xi,ia=q==="x"?On:Dn,Ji=q==="x"?dr:hr,Ht=J[X],wn=X==="y"?"height":"width",Zi=Ht+R[ia],hi=Ht-R[Ji],Fr=[On,Dn].indexOf(F)!==-1,es=(Xi=M==null?void 0:M[X])!=null?Xi:0,vt=Fr?Zi:Ht-N[wn]-P[wn]-es+L.altAxis,_t=Fr?Ht+N[wn]+P[wn]-es-L.altAxis:hi,Qn=S&&Fr?Tj(vt,Ht,_t):Zu(S?vt:Zi,Ht,S?_t:hi);J[X]=Qn,V[X]=Qn-Ht}e.modifiersData[r]=V}}const Zj={name:"preventOverflow",enabled:!0,phase:"main",fn:Jj,requiresIfExists:["offset"]};function e9(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function t9(n){return n===Gn(n)||!si(n)?o_(n):e9(n)}function n9(n){var e=n.getBoundingClientRect(),t=vl(e.width)/n.offsetWidth||1,r=vl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function r9(n,e,t){t===void 0&&(t=!1);var r=si(e),i=si(e)&&n9(e),o=oo(e),l=_l(n,i,t),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((Zs(e)!=="body"||l_(o))&&(c=t9(e)),si(e)?(h=_l(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):o&&(h.x=a_(o))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function i9(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var h=e.get(c);h&&i(h)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function s9(n){var e=i9(n);return _j.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function o9(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function a9(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var gI={placement:"bottom",modifiers:[],strategy:"absolute"};function yI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function l9(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?gI:i;return function(c,h,p){p===void 0&&(p=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},gI,o),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},_=[],E=!1,S={state:g,setOptions:function(F){var $=typeof F=="function"?F(g.options):F;b(),g.options=Object.assign({},o,g.options,$),g.scrollParents={reference:Yo(c)?ec(c):c.contextElement?ec(c.contextElement):[],popper:ec(h)};var B=s9(a9([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(q){return q.enabled}),x(),S.update()},forceUpdate:function(){if(!E){var F=g.elements,$=F.reference,B=F.popper;if(yI($,B)){g.rects={reference:r9($,Uc(B),g.options.strategy==="fixed"),popper:i_(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(L){return g.modifiersData[L.name]=Object.assign({},L.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(g.reset===!0){g.reset=!1,q=-1;continue}var X=g.orderedModifiers[q],J=X.fn,N=X.options,P=N===void 0?{}:N,k=X.name;typeof J=="function"&&(g=J({state:g,options:P,name:k,instance:S})||g)}}}},update:o9(function(){return new Promise(function(R){S.forceUpdate(),R(g)})}),destroy:function(){b(),E=!0}};if(!yI(c,h))return S;S.setOptions(p).then(function(R){!E&&p.onFirstUpdate&&p.onFirstUpdate(R)});function x(){g.orderedModifiers.forEach(function(R){var F=R.name,$=R.options,B=$===void 0?{}:$,q=R.effect;if(typeof q=="function"){var X=q({state:g,name:F,instance:S,options:B}),J=function(){};_.push(X||J)}})}function b(){_.forEach(function(R){return R()}),_=[]}return S}}const u9=l9({defaultModifiers:[Hj,Yj,kj,Nj,Gj,zj,Zj,Rj]}),c9=["enabled","placement","strategy","modifiers"];function d9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const h9={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},f9={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},p9=[];function m9(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:l=p9}=t,c=d9(t,c9);const h=I.useRef(l),p=I.useRef(),g=I.useCallback(()=>{var R;(R=p.current)==null||R.update()},[]),_=I.useCallback(()=>{var R;(R=p.current)==null||R.forceUpdate()},[]),[E,S]=aj(I.useState({placement:i,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),x=I.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const F={},$={};Object.keys(R.elements).forEach(B=>{F[B]=R.styles[B],$[B]=R.attributes[B]}),S({state:R,styles:F,attributes:$,update:g,forceUpdate:_,placement:R.placement})}}),[g,_,S]),b=I.useMemo(()=>(Ju(h.current,l)||(h.current=l),h.current),[l]);return I.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:o,modifiers:[...b,x,h9]})},[o,i,x,r,b]),I.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=u9(n,e,Object.assign({},c,{placement:i,strategy:o,modifiers:[...b,f9,x]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),E}function vI(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function g9(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function mh(n,e,t,r){return qx(n,e,t,r),function(){g9(n,e,t,r)}}function y9(n){return n&&n.ownerDocument||document}var og,_I;function v9(){if(_I)return og;_I=1;var n=function(){};return og=n,og}var _9=v9();const w9=vc(_9),wI=()=>{};function E9(n){return n.button===0}function T9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const ag=n=>n&&("current"in n?n.current:n),EI={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function I9(n,e=wI,{disabled:t,clickTrigger:r="click"}={}){const i=I.useRef(!1),o=I.useRef(!1),l=I.useCallback(p=>{const g=ag(n);w9(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||T9(p)||!E9(p)||!!vI(g,p.target)||o.current,o.current=!1},[n]),c=$s(p=>{const g=ag(n);g&&vI(g,p.target)?o.current=!0:o.current=!1}),h=$s(p=>{i.current||e(p)});I.useEffect(()=>{var p,g;if(t||n==null)return;const _=y9(ag(n)),E=_.defaultView||window;let S=(p=E.event)!=null?p:(g=E.parent)==null?void 0:g.event,x=null;EI[r]&&(x=mh(_,EI[r],c,!0));const b=mh(_,r,l,!0),R=mh(_,r,$=>{if($===S){S=void 0;return}h($)});let F=[];return"ontouchstart"in _.documentElement&&(F=[].slice.call(_.body.children).map($=>mh($,"mousemove",wI))),()=>{x==null||x(),b(),R(),F.forEach($=>$())}},[n,t,r,l,c,h])}function C9(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function S9(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function R9({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:l,arrowElement:c,popperConfig:h={}}){var p,g,_,E,S;const x=C9(h.modifiers);return Object.assign({},h,{placement:t,enabled:n,strategy:o?"fixed":h.strategy,modifiers:S9(Object.assign({},x,{eventListeners:{enabled:e,options:(p=x.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},x.preventOverflow,{options:l?Object.assign({padding:l},(g=x.preventOverflow)==null?void 0:g.options):(_=x.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:i},(E=x.offset)==null?void 0:E.options)},arrow:Object.assign({},x.arrow,{enabled:!!c,options:Object.assign({},(S=x.arrow)==null?void 0:S.options,{element:c})}),flip:Object.assign({enabled:!!r},x.flip)}))})}const x9=["children","usePopper"];function A9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const P9=()=>{};function n1(n={}){const e=I.useContext(ep),[t,r]=sj(),i=I.useRef(!1),{flip:o,offset:l,rootCloseEvent:c,fixed:h=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:E=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const x=J=>{e==null||e.toggle(!1,J)},{placement:b,setMenu:R,menuElement:F,toggleElement:$}=e||{},B=m9($,F,R9({placement:p||b||"bottom-start",enabled:E,enableEvents:_??S,offset:l,flip:o,fixed:h,arrowElement:t,popperConfig:g})),q=Object.assign({ref:R||P9,"aria-labelledby":$==null?void 0:$.id},B.attributes.popper,{style:B.styles.popper}),X={show:S,placement:b,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:E?B:null,arrowProps:E?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return I9(F,x,{clickTrigger:c,disabled:!S}),[q,X]}function r1(n){let{children:e,usePopper:t=!0}=n,r=A9(n,x9);const[i,o]=n1(Object.assign({},r,{usePopper:t}));return w.jsx(w.Fragment,{children:e(i,o)})}r1.displayName="DropdownMenu";const u_={prefix:String(Math.round(Math.random()*1e10)),current:0},i1=vn.createContext(u_),k9=vn.createContext(!1);let b9=!!(typeof window<"u"&&window.document&&window.document.createElement),lg=new WeakMap;function N9(n=!1){let e=I.useContext(i1),t=I.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=lg.get(o);l==null?lg.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,lg.delete(o))}t.current=++e.current}return t.current}function O9(n){let e=I.useContext(i1);e===u_&&!b9&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=N9(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function D9(n){let e=vn.useId(),[t]=I.useState(j9()),r=t?"react-aria":`react-aria${u_.prefix}`;return n||`${r}-${e}`}const L9=typeof vn.useId=="function"?D9:O9;function M9(){return!1}function V9(){return!0}function F9(n){return()=>{}}function j9(){return typeof vn.useSyncExternalStore=="function"?vn.useSyncExternalStore(F9,M9,V9):I.useContext(k9)}const s1=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},TI=()=>{};function o1(){const n=L9(),{show:e=!1,toggle:t=TI,setToggle:r,menuElement:i}=I.useContext(ep)||{},o=I.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||TI,onClick:o,"aria-expanded":!!e};return i&&s1(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function a1({children:n}){const[e,t]=o1();return w.jsx(w.Fragment,{children:n(e,t)})}a1.displayName="DropdownToggle";const hy=I.createContext(null),II=(n,e=null)=>n!=null?String(n):e||null,l1=I.createContext(null);l1.displayName="NavContext";const U9=["as","disabled"];function $9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function B9(n){return!n||n.trim()==="#"}function c_({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:l,tabIndex:c=0,type:h}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},p];const g=E=>{if((e||n==="a"&&B9(t))&&E.preventDefault(),e){E.stopPropagation();return}l==null||l(E)},_=E=>{E.key===" "&&(E.preventDefault(),g(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:_},p]}const u1=I.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=$9(n,U9);const[o,{tagName:l}]=c_(Object.assign({tagName:t,disabled:r},i));return w.jsx(l,Object.assign({},i,o,{ref:e}))});u1.displayName="Button";const z9="data-rr-ui-";function c1(n){return`${z9}${n}`}const W9=["eventKey","disabled","onClick","active","as"];function H9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function d1({key:n,href:e,active:t,disabled:r,onClick:i}){const o=I.useContext(hy),l=I.useContext(l1),{activeKey:c}=l||{},h=II(n,e),p=t==null&&n!=null?II(c)===h:t;return[{onClick:$s(_=>{r||(i==null||i(_),o&&!_.isPropagationStopped()&&o(h,_))}),"aria-disabled":r||void 0,"aria-selected":p,[c1("dropdown-item")]:""},{isActive:p}]}const h1=I.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:l=u1}=n,c=H9(n,W9);const[h]=d1({key:t,href:c.href,disabled:r,onClick:i,active:o});return w.jsx(l,Object.assign({},c,{ref:e},h))});h1.displayName="DropdownItem";const f1=I.createContext(Hx?window:void 0);f1.Provider;function q9(){return I.useContext(f1)}function CI(){const n=nj(),e=I.useRef(null),t=I.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function $c({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${c1("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:c}){const h=q9(),[p,g]=ej(e,n,r),[_,E]=CI(),S=_.current,[x,b]=CI(),R=x.current,F=tj(p),$=I.useRef(null),B=I.useRef(!1),q=I.useContext(hy),X=I.useCallback((M,V,O=V==null?void 0:V.type)=>{g(M,{originalEvent:V,source:O})},[g]),J=$s((M,V)=>{t==null||t(M,V),X(!1,V,"select"),V.isPropagationStopped()||q==null||q(M,V)}),N=I.useMemo(()=>({toggle:X,placement:l,show:p,menuElement:S,toggleElement:R,setMenu:E,setToggle:b}),[X,l,p,S,R,E,b]);S&&F&&!p&&(B.current=S.contains(S.ownerDocument.activeElement));const P=$s(()=>{R&&R.focus&&R.focus()}),k=$s(()=>{const M=$.current;let V=o;if(V==null&&(V=_.current&&s1(_.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(M))return;const O=oI(_.current,i)[0];O&&O.focus&&O.focus()});I.useEffect(()=>{p?k():B.current&&(B.current=!1,P())},[p,B,P,k]),I.useEffect(()=>{$.current=null});const L=(M,V)=>{if(!_.current)return null;const O=oI(_.current,i);let le=O.indexOf(M)+V;return le=Math.max(0,Math.min(le,O.length)),O[le]};return ij(I.useCallback(()=>h.document,[h]),"keydown",M=>{var V,O;const{key:le}=M,Se=M.target,xe=(V=_.current)==null?void 0:V.contains(Se),Te=(O=x.current)==null?void 0:O.contains(Se);if(/input|textarea/i.test(Se.tagName)&&(le===" "||le!=="Escape"&&xe||le==="Escape"&&Se.type==="search")||!xe&&!Te||le==="Tab"&&(!_.current||!p))return;$.current=M.type;const ue={originalEvent:M,source:M.type};switch(le){case"ArrowUp":{const se=L(Se,-1);se&&se.focus&&se.focus(),M.preventDefault();return}case"ArrowDown":if(M.preventDefault(),!p)g(!0,ue);else{const se=L(Se,1);se&&se.focus&&se.focus()}return;case"Tab":qx(Se.ownerDocument,"keyup",se=>{var z;(se.key==="Tab"&&!se.target||!((z=_.current)!=null&&z.contains(se.target)))&&g(!1,ue)},{once:!0});break;case"Escape":le==="Escape"&&(M.preventDefault(),M.stopPropagation()),g(!1,ue);break}}),w.jsx(hy.Provider,{value:J,children:w.jsx(ep.Provider,{value:N,children:c})})}$c.displayName="Dropdown";$c.Menu=r1;$c.Toggle=a1;$c.Item=h1;function fy(){return fy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fy.apply(null,arguments)}function K9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function SI(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function G9(n){var e=Q9(n,"string");return typeof e=="symbol"?e:String(e)}function Q9(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Y9(n,e,t){var r=I.useRef(n!==void 0),i=I.useState(e),o=i[0],l=i[1],c=n!==void 0,h=r.current;return r.current=c,!c&&h&&o!==e&&l(e),[c?n:o,I.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),E=1;E<g;E++)_[E-1]=arguments[E];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function X9(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[SI(r)],c=o[r],h=K9(o,[SI(r),r].map(G9)),p=e[r],g=Y9(c,l,n[p]),_=g[0],E=g[1];return fy({},h,(i={},i[r]=_,i[p]=E,i))},n)}function J9(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n},[n]),e}function Z9(n){const e=J9(n);return I.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const d_=I.createContext({});d_.displayName="DropdownContext";const e6=["xxl","xl","lg","md","sm","xs"],t6="xs",Bc=I.createContext({prefixes:{},breakpoints:e6,minBreakpoint:t6}),{Consumer:B8,Provider:z8}=Bc;function Ze(n,e){const{prefixes:t}=I.useContext(Bc);return n||t[e]||e}function n6(){const{breakpoints:n}=I.useContext(Bc);return n}function r6(){const{minBreakpoint:n}=I.useContext(Bc);return n}function i6(){const{dir:n}=I.useContext(Bc);return n==="rtl"}const p1=I.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=Ze(e,"dropdown-divider"),w.jsx(t,{ref:o,className:Ge(n,e),role:r,...i})));p1.displayName="DropdownDivider";const m1=I.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=Ze(e,"dropdown-header"),w.jsx(t,{ref:o,className:Ge(n,e),role:r,...i})));m1.displayName="DropdownHeader";const s6=["onKeyDown"];function o6(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function a6(n){return!n||n.trim()==="#"}const g1=I.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=o6(n,s6);const[i]=c_(Object.assign({tagName:"a"},r)),o=$s(l=>{i.onKeyDown(l),t==null||t(l)});return a6(r.href)||r.role==="button"?w.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):w.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});g1.displayName="Anchor";const y1=I.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:l=g1,...c},h)=>{const p=Ze(n,"dropdown-item"),[g,_]=d1({key:t,href:c.href,disabled:r,onClick:i,active:o});return w.jsx(l,{...c,...g,ref:h,className:Ge(e,p,_.isActive&&"active",r&&"disabled")})});y1.displayName="DropdownItem";const v1=I.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ze(e,"dropdown-item-text"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));v1.displayName="DropdownItemText";const l6=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",u6=typeof document<"u",c6=u6||l6?I.useLayoutEffect:I.useEffect,RI=n=>!n||typeof n=="function"?n:e=>{n.current=e};function d6(n,e){const t=RI(n),r=RI(e);return i=>{t&&t(i),r&&r(i)}}function _1(n,e){return I.useMemo(()=>d6(n,e),[n,e])}const h_=I.createContext(null);h_.displayName="InputGroupContext";const w1=I.createContext(null);w1.displayName="NavbarContext";function E1(n,e){return n}var ug={exports:{}},cg,xI;function h6(){if(xI)return cg;xI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cg=n,cg}var dg,AI;function f6(){if(AI)return dg;AI=1;var n=h6();function e(){}function t(){}return t.resetWarningCache=e,dg=function(){function r(l,c,h,p,g,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},dg}var PI;function p6(){return PI||(PI=1,ug.exports=f6()()),ug.exports}var m6=p6();const sl=vc(m6);function T1(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",h=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:o;return e==="up"?_=n?i:r:e==="end"?_=n?g:p:e==="start"?_=n?h:c:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const I1=I.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:l,as:c="div",popperConfig:h,variant:p,...g},_)=>{let E=!1;const S=I.useContext(w1),x=Ze(n,"dropdown-menu"),{align:b,drop:R,isRTL:F}=I.useContext(d_);t=t||b;const $=I.useContext(h_),B=[];if(t)if(typeof t=="object"){const M=Object.keys(t);if(M.length){const V=M[0],O=t[V];E=O==="start",B.push(`${x}-${V}-${O}`)}}else t==="end"&&(E=!0);const q=T1(E,R,F),[X,{hasShown:J,popper:N,show:P,toggle:k}]=n1({flip:i,rootCloseEvent:r,show:o,usePopper:!S&&B.length===0,offset:[0,2],popperConfig:h,placement:q});if(X.ref=_1(E1(_),X.ref),c6(()=>{P&&(N==null||N.update())},[P]),!J&&!l&&!$)return null;typeof c!="string"&&(X.show=P,X.close=()=>k==null?void 0:k(!1),X.align=t);let L=g.style;return N!=null&&N.placement&&(L={...g.style,...X.style},g["x-placement"]=N.placement),w.jsx(c,{...g,...X,style:L,...(B.length||S)&&{"data-bs-popper":"static"},className:Ge(e,x,P&&"show",E&&`${x}-end`,p&&`${x}-${p}`,...B)})});I1.displayName="DropdownMenu";const Ds=I.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:l,...c},h)=>{const p=Ze(e,"btn"),[g,{tagName:_}]=c_({tagName:n,disabled:o,...c}),E=_;return w.jsx(E,{...g,...c,ref:h,disabled:o,className:Ge(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&o&&"disabled")})});Ds.displayName="Button";const C1=I.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Ds,...o},l)=>{const c=Ze(n,"dropdown-toggle"),h=I.useContext(ep);r!==void 0&&(o.bsPrefix=r);const[p]=o1();return p.ref=_1(p.ref,E1(l)),w.jsx(i,{className:Ge(t,c,e&&`${c}-split`,(h==null?void 0:h.show)&&"show"),...p,...o})});C1.displayName="DropdownToggle";const S1=I.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:l="start",onSelect:c,onToggle:h,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:E=!0,...S}=X9(n,{show:"onToggle"}),x=I.useContext(h_),b=Ze(t,"dropdown"),R=i6(),F=N=>E===!1?N==="click":E==="inside"?N!=="rootClose":E==="outside"?N!=="select":!0,$=Z9((N,P)=>{var k;!((k=P.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&P.source==="mousedown"||(P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),F(P.source)&&(h==null||h(N,P)))}),q=T1(l==="end",r,R),X=I.useMemo(()=>({align:l,drop:r,isRTL:R}),[l,r,R]),J={down:b,"down-centered":`${b}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w.jsx(d_.Provider,{value:X,children:w.jsx($c,{placement:q,show:i,onSelect:c,onToggle:$,focusFirstItemOnShow:p,itemSelector:`.${b}-item:not(.disabled):not(:disabled)`,children:x?S.children:w.jsx(g,{...S,ref:e,className:Ge(o,i&&"show",J[r])})})})});S1.displayName="Dropdown";const Rs=Object.assign(S1,{Toggle:C1,Menu:I1,Item:y1,ItemText:v1,Divider:p1,Header:m1}),R1=Xs(e_),g6=async n=>{try{const e=ta(R1,"users",n),t=await J4(e);return t.exists()?t.data():null}catch(e){throw console.error("Error fetching user profile:",e),e}},np=I.createContext(),x1=()=>I.useContext(np),y6=({children:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState(null),[o,l]=I.useState(!0);return I.useEffect(()=>{const c=Hy(Fc,async h=>{if(t(h),!h){i(null),l(!1);return}console.log("Current user UID:",h==null?void 0:h.uid),await Zv(h.uid,null,null,h.email,null,h.displayName);try{const p=await g6(h.uid),g={displayName:h.displayName||"",email:h.email||"",photoURL:h.photoURL||"",isAdmin:!1};i(p||g),l(!1);const _=ta(R1,"users",h.uid);console.log("Setting up Firestore listener on: /users/"+h.uid);const E=nV(_,S=>{S.exists()?(console.log("Received profile update for UID:",h.uid,"Data:",S.data()),i(S.data())):console.warn("User document does not exist for UID:",h.uid)},S=>{console.error("Error listening to profile updates:",S)});return()=>E()}catch(p){console.error("Failed to fetch user profile:",p.message),l(!1)}});return()=>c()},[]),w.jsx(np.Provider,{value:{user:e,profile:r,loading:o},children:n})},v6=()=>{const n=Vr(),{currentUser:e}=Dl(),{profile:t}=I.useContext(np),r=async()=>{await t_(),n("/")};return w.jsxs(Rs,{children:[w.jsx(Rs.Toggle,{variant:"success",id:"dropdown-basic",children:w.jsx("img",{src:Eg})}),w.jsxs(Rs.Menu,{children:[w.jsx(Rs.Item,{as:cn,to:"/ProfileDashboard",children:"Profile"}),w.jsx(Rs.Item,{as:cn,to:"/designerPage",children:"Designs"}),(e==null?void 0:e.isAdmin)&&w.jsx(Rs.Item,{as:cn,to:"/Admin",children:"Admin"}),w.jsx(Rs.Item,{href:"#/action-3",children:"Action"}),w.jsx(Rs.Item,{onClick:r,children:"Log Out"})]})]})},rp=()=>{const{userLoggedIn:n}=Dl()||{userLoggedIn:!1},e=Vr(),t=async()=>{await t_(),e("/")};return w.jsxs("div",{className:"nav",children:[w.jsx(cn,{to:"/",children:w.jsx("div",{className:"logo",children:"URENO"})}),w.jsxs("div",{className:"Right",children:[w.jsxs("menu",{children:[w.jsx("li",{children:"AI Design"}),w.jsx("li",{children:"Architects & Designers"}),w.jsx("li",{children:"Projects"}),w.jsx("li",{children:"Messages"})]}),n?w.jsx("button",{className:"btn login-btn",onClick:t,children:"Log Out"}):w.jsx(cn,{to:"/sign-in",children:w.jsx("button",{className:"btn login-btn",children:"Log In"})}),n?w.jsx(v6,{}):w.jsx("button",{className:"btn profile-btn",children:w.jsx("object",{data:Eg,type:"image/svg+xml",children:w.jsx("img",{src:Eg})})})]})]})};function _6(){return w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"Ureno"}),w.jsx(rp,{}),w.jsx("div",{className:"center-logo",children:w.jsxs("div",{className:"container",children:[w.jsx("h1",{children:"URENO"}),w.jsx("p",{children:"Renovation Made Simple"}),w.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),w.jsxs("div",{className:"services",children:[w.jsx("div",{className:"our-services",children:w.jsx("p",{children:"Our Services"})}),w.jsxs("div",{className:"floor-content",children:[w.jsx("div",{className:"flooring fadeInRight",children:w.jsx("p",{children:w.jsx(cn,{to:"/product-page",children:w.jsx("img",{src:zk,alt:"light oak wooden floor"})})})}),w.jsxs("div",{className:"floor-txt fadeInRight",children:[w.jsx("h3",{children:"flooring"}),w.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),w.jsxs("div",{className:"paint-content",children:[w.jsx("div",{className:"painting fadeInLeft",children:w.jsx("img",{src:Wk,alt:"blue painted walls"})}),w.jsxs("div",{className:"paint-txt fadeInLeft",children:[w.jsx("h3",{children:"paint"}),w.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),w.jsx(Ec,{})]})}const A1=({productId:n,image:e,title:t,description:r,price:i,link:o})=>w.jsx("div",{className:"products",children:w.jsxs(cn,{to:`/productDetail/${n}`,className:"container",children:[w.jsx("img",{src:e,alt:t}),w.jsx("div",{className:"prod-title",children:t}),w.jsx("p",{children:r}),w.jsx("p",{children:i})]})});A1.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function w6(){const[n,e]=I.useState(0),{userLoggedIn:t}=Dl()||{userLoggedIn:!1},[r,i]=I.useState([]);return I.useEffect(()=>{(async()=>{const l=Xs(),h=(await AR(Iv(l,"products"))).docs.map(p=>({id:p.id,...p.data()}));i(h)})()},[]),I.useEffect(()=>{const o=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"URENO"}),w.jsx(rp,{}),w.jsxs("div",{className:"body",children:[w.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[w.jsx("h1",{children:"Flooring"}),w.jsxs("div",{className:"search",children:[w.jsx("div",{className:"input",children:w.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),w.jsx("div",{className:"filter",children:"Filter"})]}),w.jsx("p",{children:"Popular"}),w.jsx("div",{className:"products",children:r.map(o=>w.jsx(A1,{productId:o.id,image:o.image,title:o.title,description:o.description,price:o.price,link:o.link},o.id))})]}),w.jsx(Ec,{})]})]})}function P1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=P1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function k1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=P1(n))&&(r&&(r+=" "),r+=e);return r}const f_="-",E6=n=>{const e=I6(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(f_);return c[0]===""&&c.length!==1&&c.shift(),b1(c,e)||T6(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},b1=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?b1(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(f_);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},kI=/^\[(.+)\]$/,T6=n=>{if(kI.test(n)){const e=kI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},I6=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return S6(Object.entries(n.classGroups),t).forEach(([o,l])=>{py(l,r,o,e)}),r},py=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:bI(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(C6(i)){py(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{py(l,bI(e,o),t,r)})})},bI=(n,e)=>{let t=n;return e.split(f_).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},C6=n=>n.isThemeGetter,S6=(n,e)=>e?n.map(([t,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[e+l,c])):o);return[t,i]}):n,R6=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},N1="!",x6=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],o=e.length,l=c=>{const h=[];let p=0,g=0,_;for(let R=0;R<c.length;R++){let F=c[R];if(p===0){if(F===i&&(r||c.slice(R,R+o)===e)){h.push(c.slice(g,R)),g=R+o;continue}if(F==="/"){_=R;continue}}F==="["?p++:F==="]"&&p--}const E=h.length===0?c:c.substring(g),S=E.startsWith(N1),x=S?E.substring(1):E,b=_&&_>g?_-g:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:b}};return t?c=>t({className:c,parseClassName:l}):l},A6=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},P6=n=>({cache:R6(n.cacheSize),parseClassName:x6(n),...E6(n)}),k6=/\s+/,b6=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],l=n.trim().split(k6);let c="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:g,hasImportantModifier:_,baseClassName:E,maybePostfixModifierPosition:S}=t(p);let x=!!S,b=r(x?E.substring(0,S):E);if(!b){if(!x){c=p+(c.length>0?" "+c:c);continue}if(b=r(E),!b){c=p+(c.length>0?" "+c:c);continue}x=!1}const R=A6(g).join(":"),F=_?R+N1:R,$=F+b;if(o.includes($))continue;o.push($);const B=i(b,x);for(let q=0;q<B.length;++q){const X=B[q];o.push(F+X)}c=p+(c.length>0?" "+c:c)}return c};function N6(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=O1(e))&&(r&&(r+=" "),r+=t);return r}const O1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=O1(n[r]))&&(t&&(t+=" "),t+=e);return t};function O6(n,...e){let t,r,i,o=l;function l(h){const p=e.reduce((g,_)=>_(g),n());return t=P6(p),r=t.cache.get,i=t.cache.set,o=c,c(h)}function c(h){const p=r(h);if(p)return p;const g=b6(h,t);return i(h,g),g}return function(){return o(N6.apply(null,arguments))}}const at=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},D1=/^\[(?:([a-z-]+):)?(.+)\]$/i,D6=/^\d+\/\d+$/,L6=new Set(["px","full","screen"]),M6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,j6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xi=n=>ol(n)||L6.has(n)||D6.test(n),xs=n=>Ll(n,"length",G6),ol=n=>!!n&&!Number.isNaN(Number(n)),hg=n=>Ll(n,"number",ol),Du=n=>!!n&&Number.isInteger(Number(n)),$6=n=>n.endsWith("%")&&ol(n.slice(0,-1)),Ne=n=>D1.test(n),As=n=>M6.test(n),B6=new Set(["length","size","percentage"]),z6=n=>Ll(n,B6,L1),W6=n=>Ll(n,"position",L1),H6=new Set(["image","url"]),q6=n=>Ll(n,H6,Y6),K6=n=>Ll(n,"",Q6),Lu=()=>!0,Ll=(n,e,t)=>{const r=D1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},G6=n=>V6.test(n)&&!F6.test(n),L1=()=>!1,Q6=n=>j6.test(n),Y6=n=>U6.test(n),X6=()=>{const n=at("colors"),e=at("spacing"),t=at("blur"),r=at("brightness"),i=at("borderColor"),o=at("borderRadius"),l=at("borderSpacing"),c=at("borderWidth"),h=at("contrast"),p=at("grayscale"),g=at("hueRotate"),_=at("invert"),E=at("gap"),S=at("gradientColorStops"),x=at("gradientColorStopPositions"),b=at("inset"),R=at("margin"),F=at("opacity"),$=at("padding"),B=at("saturate"),q=at("scale"),X=at("sepia"),J=at("skew"),N=at("space"),P=at("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ne,e],V=()=>[Ne,e],O=()=>["",xi,xs],le=()=>["auto",ol,Ne],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",Ne],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ol,Ne];return{cacheSize:500,separator:":",theme:{colors:[Lu],spacing:[xi,xs],blur:["none","",As,Ne],brightness:z(),borderColor:[n],borderRadius:["none","","full",As,Ne],borderSpacing:V(),borderWidth:O(),contrast:z(),grayscale:ue(),hueRotate:z(),invert:ue(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[$6,xs],inset:M(),margin:M(),opacity:z(),padding:V(),saturate:z(),scale:z(),sepia:ue(),skew:z(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),Ne]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Du,Ne]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",Du,Ne]}],"grid-cols":[{"grid-cols":[Lu]}],"col-start-end":[{col:["auto",{span:["full",Du,Ne]},Ne]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[Lu]}],"row-start-end":[{row:["auto",{span:[Du,Ne]},Ne]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",As,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hg]}],"font-family":[{font:[Lu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",ol,hg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xi,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[F]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xi,xs]}],"underline-offset":[{"underline-offset":["auto",xi,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[F]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),W6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},q6]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[F]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[F]}],"divide-style":[{divide:xe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[xi,Ne]}],"outline-w":[{outline:[xi,xs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[F]}],"ring-offset-w":[{"ring-offset":[xi,xs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",As,K6]}],"shadow-color":[{shadow:[Lu]}],opacity:[{opacity:[F]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",As,Ne]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[_]}],saturate:[{saturate:[B]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[F]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Du,Ne]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[xi,xs,hg]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J6=O6(X6);function ao(...n){return J6(k1(n))}const NI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,OI=k1,M1=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return OI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(p=>{const g=t==null?void 0:t[p],_=o==null?void 0:o[p];if(g===null)return null;const E=NI(g)||NI(_);return i[p][E]}),c=t&&Object.entries(t).reduce((p,g)=>{let[_,E]=g;return E===void 0||(p[_]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:_,className:E,...S}=g;return Object.entries(S).every(x=>{let[b,R]=x;return Array.isArray(R)?R.includes({...o,...c}[b]):{...o,...c}[b]===R})?[...p,_,E]:p},[]);return OI(n,l,h,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},h)=>I.createElement("svg",{ref:h,...eU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:V1("lucide",i),...c},[...l.map(([p,g])=>I.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=(n,e)=>{const t=I.forwardRef(({className:r,...i},o)=>I.createElement(tU,{ref:o,iconNode:e,className:V1(`lucide-${Z6(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rU=zc("Bell",nU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sU=zc("LoaderCircle",iU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],aU=zc("LogOut",oU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uU=zc("Settings",lU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dU=zc("X",cU),hU=M1("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-zinc-900 text-zinc-100 hover:bg-zinc-800",destructive:"text-white hover:bg-red-600 dark:hover:bg-red-600",outline:"bg-zinc-100 text-zinc-900 hover:bg-zinc-200 outline outline-1 outline-zinc-300",subtle:"hover:bg-zinc-200 bg-zinc-100 text-zinc-900",ghost:"bg-transparent hover:bg-zinc-100 text-zinc-800 data-[state=open]:bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent dark:bg-transparent underline-offset-4 hover:underline text-slate-900 dark:text-slate-100 hover:bg-transparent dark:hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",xs:"h-8 px-1.5 rounded-sm",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),pf=I.forwardRef(({className:n,children:e,variant:t,isLoading:r,size:i,...o},l)=>w.jsxs("button",{className:ao(hU({variant:t,size:i,className:n})),ref:l,disabled:r,...o,children:[r?w.jsx(sU,{className:"mr-2 h-4 w-4 animate-spin"}):null,e]}));pf.displayName="Button";const p_={logo:n=>w.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:w.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>w.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[w.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),w.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),w.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),w.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),w.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},fU=1,pU=1e6;let fg=0;function mU(){return fg=(fg+1)%Number.MAX_SAFE_INTEGER,fg.toString()}const pg=new Map,DI=n=>{if(pg.has(n))return;const e=setTimeout(()=>{pg.delete(n),tc({type:"REMOVE_TOAST",toastId:n})},pU);pg.set(n,e)},gU=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,fU)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?DI(t):n.toasts.forEach(r=>{DI(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Dh=[];let Lh={toasts:[]};function tc(n){Lh=gU(Lh,n),Dh.forEach(e=>{e(Lh)})}function yU({...n}){const e=mU(),t=i=>tc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>tc({type:"DISMISS_TOAST",toastId:e});return tc({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function F1(){const[n,e]=I.useState(Lh);return I.useEffect(()=>(Dh.push(e),()=>{const t=Dh.indexOf(e);t>-1&&Dh.splice(t,1)}),[n]),{...n,toast:yU,dismiss:t=>tc({type:"DISMISS_TOAST",toastId:t})}}function Wn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function LI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function j1(...n){return e=>{let t=!1;const r=n.map(i=>{const o=LI(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():LI(n[i],null)}}}}function Xo(...n){return I.useCallback(j1(...n),n)}function U1(n,e=[]){let t=[];function r(o,l){const c=I.createContext(l),h=t.length;t=[...t,l];const p=_=>{var F;const{scope:E,children:S,...x}=_,b=((F=E==null?void 0:E[n])==null?void 0:F[h])||c,R=I.useMemo(()=>x,Object.values(x));return w.jsx(b.Provider,{value:R,children:S})};p.displayName=o+"Provider";function g(_,E){var b;const S=((b=E==null?void 0:E[n])==null?void 0:b[h])||c,x=I.useContext(S);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${_}\` must be used within \`${o}\``)}return[p,g]}const i=()=>{const o=t.map(l=>I.createContext(l));return function(c){const h=(c==null?void 0:c[n])||o;return I.useMemo(()=>({[`__scope${n}`]:{...c,[n]:h}}),[c,h])}};return i.scopeName=n,[r,vU(i,...e)]}function vU(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:h,scopeName:p})=>{const _=h(o)[`__scope${p}`];return{...c,..._}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var mf=I.forwardRef((n,e)=>{const{children:t,...r}=n,i=I.Children.toArray(t),o=i.find(wU);if(o){const l=o.props.children,c=i.map(h=>h===o?I.Children.count(l)>1?I.Children.only(null):I.isValidElement(l)?l.props.children:null:h);return w.jsx(my,{...r,ref:e,children:I.isValidElement(l)?I.cloneElement(l,void 0,c):null})}return w.jsx(my,{...r,ref:e,children:t})});mf.displayName="Slot";var my=I.forwardRef((n,e)=>{const{children:t,...r}=n;if(I.isValidElement(t)){const i=TU(t),o=EU(r,t.props);return t.type!==I.Fragment&&(o.ref=e?j1(e,i):i),I.cloneElement(t,o)}return I.Children.count(t)>1?I.Children.only(null):null});my.displayName="SlotClone";var _U=({children:n})=>w.jsx(w.Fragment,{children:n});function wU(n){return I.isValidElement(n)&&n.type===_U}function EU(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{o(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function TU(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function IU(n){const e=n+"CollectionProvider",[t,r]=U1(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:x,children:b}=S,R=vn.useRef(null),F=vn.useRef(new Map).current;return w.jsx(i,{scope:x,itemMap:F,collectionRef:R,children:b})};l.displayName=e;const c=n+"CollectionSlot",h=vn.forwardRef((S,x)=>{const{scope:b,children:R}=S,F=o(c,b),$=Xo(x,F.collectionRef);return w.jsx(mf,{ref:$,children:R})});h.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",_=vn.forwardRef((S,x)=>{const{scope:b,children:R,...F}=S,$=vn.useRef(null),B=Xo(x,$),q=o(p,b);return vn.useEffect(()=>(q.itemMap.set($,{ref:$,...F}),()=>void q.itemMap.delete($))),w.jsx(mf,{[g]:"",ref:B,children:R})});_.displayName=p;function E(S){const x=o(n+"CollectionConsumer",S);return vn.useCallback(()=>{const R=x.collectionRef.current;if(!R)return[];const F=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(x.itemMap.values()).sort((q,X)=>F.indexOf(q.ref.current)-F.indexOf(X.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:h,ItemSlot:_},E,r]}var CU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ci=CU.reduce((n,e)=>{const t=I.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?mf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(c,{...l,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function $1(n,e){n&&Py.flushSync(()=>n.dispatchEvent(e))}function Hi(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function SU(n,e=globalThis==null?void 0:globalThis.document){const t=Hi(n);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var RU="DismissableLayer",gy="dismissableLayer.update",xU="dismissableLayer.pointerDownOutside",AU="dismissableLayer.focusOutside",MI,B1=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),z1=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...h}=n,p=I.useContext(B1),[g,_]=I.useState(null),E=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=I.useState({}),x=Xo(e,N=>_(N)),b=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),F=b.indexOf(R),$=g?b.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,q=$>=F,X=kU(N=>{const P=N.target,k=[...p.branches].some(L=>L.contains(P));!q||k||(i==null||i(N),l==null||l(N),N.defaultPrevented||c==null||c())},E),J=bU(N=>{const P=N.target;[...p.branches].some(L=>L.contains(P))||(o==null||o(N),l==null||l(N),N.defaultPrevented||c==null||c())},E);return SU(N=>{$===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},E),I.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(MI=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),VI(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=MI)}},[g,E,t,p]),I.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),VI())},[g,p]),I.useEffect(()=>{const N=()=>S({});return document.addEventListener(gy,N),()=>document.removeEventListener(gy,N)},[]),w.jsx(ci.div,{...h,ref:x,style:{pointerEvents:B?q?"auto":"none":void 0,...n.style},onFocusCapture:Wn(n.onFocusCapture,J.onFocusCapture),onBlurCapture:Wn(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Wn(n.onPointerDownCapture,X.onPointerDownCapture)})});z1.displayName=RU;var PU="DismissableLayerBranch",W1=I.forwardRef((n,e)=>{const t=I.useContext(B1),r=I.useRef(null),i=Xo(e,r);return I.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),w.jsx(ci.div,{...n,ref:i})});W1.displayName=PU;function kU(n,e=globalThis==null?void 0:globalThis.document){const t=Hi(n),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let h=function(){H1(xU,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function bU(n,e=globalThis==null?void 0:globalThis.document){const t=Hi(n),r=I.useRef(!1);return I.useEffect(()=>{const i=o=>{o.target&&!r.current&&H1(AU,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VI(){const n=new CustomEvent(gy);document.dispatchEvent(n)}function H1(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?$1(i,o):i.dispatchEvent(o)}var NU=z1,OU=W1,gf=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},DU="Portal",q1=I.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,o]=I.useState(!1);gf(()=>o(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Bk.createPortal(w.jsx(ci.div,{...r,ref:e}),l):null});q1.displayName=DU;function LU(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var K1=n=>{const{present:e,children:t}=n,r=MU(e),i=typeof t=="function"?t({present:r.isPresent}):I.Children.only(t),o=Xo(r.ref,VU(i));return typeof t=="function"||r.isPresent?I.cloneElement(i,{ref:o}):null};K1.displayName="Presence";function MU(n){const[e,t]=I.useState(),r=I.useRef({}),i=I.useRef(n),o=I.useRef("none"),l=n?"mounted":"unmounted",[c,h]=LU(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const p=gh(r.current);o.current=c==="mounted"?p:"none"},[c]),gf(()=>{const p=r.current,g=i.current;if(g!==n){const E=o.current,S=gh(p);n?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&E!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,h]),gf(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,_=S=>{const b=gh(r.current).includes(S.animationName);if(S.target===e&&b&&(h("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=S=>{S.target===e&&(o.current=gh(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:I.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function gh(n){return(n==null?void 0:n.animationName)||"none"}function VU(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function FU({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=jU({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:r,c=Hi(t),h=I.useCallback(p=>{if(o){const _=typeof p=="function"?p(n):p;_!==n&&c(_)}else i(p)},[o,n,i,c]);return[l,h]}function jU({defaultProp:n,onChange:e}){const t=I.useState(n),[r]=t,i=I.useRef(r),o=Hi(e);return I.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}var UU="VisuallyHidden",m_=I.forwardRef((n,e)=>w.jsx(ci.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));m_.displayName=UU;var g_="ToastProvider",[y_,$U,BU]=IU("Toast"),[G1,W8]=U1("Toast",[BU]),[zU,ip]=G1(g_),Q1=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=n,[c,h]=I.useState(null),[p,g]=I.useState(0),_=I.useRef(!1),E=I.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${g_}\`. Expected non-empty \`string\`.`),w.jsx(y_.Provider,{scope:e,children:w.jsx(zU,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:p,viewport:c,onViewportChange:h,onToastAdd:I.useCallback(()=>g(S=>S+1),[]),onToastRemove:I.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:E,children:l})})};Q1.displayName=g_;var Y1="ToastViewport",WU=["F8"],yy="toast.viewportPause",vy="toast.viewportResume",X1=I.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=WU,label:i="Notifications ({hotkey})",...o}=n,l=ip(Y1,t),c=$U(t),h=I.useRef(null),p=I.useRef(null),g=I.useRef(null),_=I.useRef(null),E=Xo(e,_,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=l.toastCount>0;I.useEffect(()=>{const R=F=>{var B;r.length!==0&&r.every(q=>F[q]||F.code===q)&&((B=_.current)==null||B.focus())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[r]),I.useEffect(()=>{const R=h.current,F=_.current;if(x&&R&&F){const $=()=>{if(!l.isClosePausedRef.current){const J=new CustomEvent(yy);F.dispatchEvent(J),l.isClosePausedRef.current=!0}},B=()=>{if(l.isClosePausedRef.current){const J=new CustomEvent(vy);F.dispatchEvent(J),l.isClosePausedRef.current=!1}},q=J=>{!R.contains(J.relatedTarget)&&B()},X=()=>{R.contains(document.activeElement)||B()};return R.addEventListener("focusin",$),R.addEventListener("focusout",q),R.addEventListener("pointermove",$),R.addEventListener("pointerleave",X),window.addEventListener("blur",$),window.addEventListener("focus",B),()=>{R.removeEventListener("focusin",$),R.removeEventListener("focusout",q),R.removeEventListener("pointermove",$),R.removeEventListener("pointerleave",X),window.removeEventListener("blur",$),window.removeEventListener("focus",B)}}},[x,l.isClosePausedRef]);const b=I.useCallback(({tabbingDirection:R})=>{const $=c().map(B=>{const q=B.ref.current,X=[q,...r5(q)];return R==="forwards"?X:X.reverse()});return(R==="forwards"?$.reverse():$).flat()},[c]);return I.useEffect(()=>{const R=_.current;if(R){const F=$=>{var X,J,N;const B=$.altKey||$.ctrlKey||$.metaKey;if($.key==="Tab"&&!B){const P=document.activeElement,k=$.shiftKey;if($.target===R&&k){(X=p.current)==null||X.focus();return}const V=b({tabbingDirection:k?"backwards":"forwards"}),O=V.findIndex(le=>le===P);mg(V.slice(O+1))?$.preventDefault():k?(J=p.current)==null||J.focus():(N=g.current)==null||N.focus()}};return R.addEventListener("keydown",F),()=>R.removeEventListener("keydown",F)}},[c,b]),w.jsxs(OU,{ref:h,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&w.jsx(_y,{ref:p,onFocusFromOutsideViewport:()=>{const R=b({tabbingDirection:"forwards"});mg(R)}}),w.jsx(y_.Slot,{scope:t,children:w.jsx(ci.ol,{tabIndex:-1,...o,ref:E})}),x&&w.jsx(_y,{ref:g,onFocusFromOutsideViewport:()=>{const R=b({tabbingDirection:"backwards"});mg(R)}})]})});X1.displayName=Y1;var J1="ToastFocusProxy",_y=I.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,o=ip(J1,t);return w.jsx(m_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var p;const c=l.relatedTarget;!((p=o.viewport)!=null&&p.contains(c))&&r()}})});_y.displayName=J1;var sp="Toast",HU="toast.swipeStart",qU="toast.swipeMove",KU="toast.swipeCancel",GU="toast.swipeEnd",Z1=I.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:o,...l}=n,[c=!0,h]=FU({prop:r,defaultProp:i,onChange:o});return w.jsx(K1,{present:t||c,children:w.jsx(XU,{open:c,...l,ref:e,onClose:()=>h(!1),onPause:Hi(n.onPause),onResume:Hi(n.onResume),onSwipeStart:Wn(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Wn(n.onSwipeMove,p=>{const{x:g,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:Wn(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Wn(n.onSwipeEnd,p=>{const{x:g,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),h(!1)})})})});Z1.displayName=sp;var[QU,YU]=G1(sp,{onClose(){}}),XU=I.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:c,onPause:h,onResume:p,onSwipeStart:g,onSwipeMove:_,onSwipeCancel:E,onSwipeEnd:S,...x}=n,b=ip(sp,t),[R,F]=I.useState(null),$=Xo(e,le=>F(le)),B=I.useRef(null),q=I.useRef(null),X=i||b.duration,J=I.useRef(0),N=I.useRef(X),P=I.useRef(0),{onToastAdd:k,onToastRemove:L}=b,M=Hi(()=>{var Se;(R==null?void 0:R.contains(document.activeElement))&&((Se=b.viewport)==null||Se.focus()),l()}),V=I.useCallback(le=>{!le||le===1/0||(window.clearTimeout(P.current),J.current=new Date().getTime(),P.current=window.setTimeout(M,le))},[M]);I.useEffect(()=>{const le=b.viewport;if(le){const Se=()=>{V(N.current),p==null||p()},xe=()=>{const Te=new Date().getTime()-J.current;N.current=N.current-Te,window.clearTimeout(P.current),h==null||h()};return le.addEventListener(yy,xe),le.addEventListener(vy,Se),()=>{le.removeEventListener(yy,xe),le.removeEventListener(vy,Se)}}},[b.viewport,X,h,p,V]),I.useEffect(()=>{o&&!b.isClosePausedRef.current&&V(X)},[o,X,b.isClosePausedRef,V]),I.useEffect(()=>(k(),()=>L()),[k,L]);const O=I.useMemo(()=>R?oA(R):null,[R]);return b.viewport?w.jsxs(w.Fragment,{children:[O&&w.jsx(JU,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),w.jsx(QU,{scope:t,onClose:M,children:Py.createPortal(w.jsx(y_.ItemSlot,{scope:t,children:w.jsx(NU,{asChild:!0,onEscapeKeyDown:Wn(c,()=>{b.isFocusedToastEscapeKeyDownRef.current||M(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(ci.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:$,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Wn(n.onKeyDown,le=>{le.key==="Escape"&&(c==null||c(le.nativeEvent),le.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Wn(n.onPointerDown,le=>{le.button===0&&(B.current={x:le.clientX,y:le.clientY})}),onPointerMove:Wn(n.onPointerMove,le=>{if(!B.current)return;const Se=le.clientX-B.current.x,xe=le.clientY-B.current.y,Te=!!q.current,ie=["left","right"].includes(b.swipeDirection),ue=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,se=ie?ue(0,Se):0,z=ie?0:ue(0,xe),Y=le.pointerType==="touch"?10:2,fe={x:se,y:z},Ie={originalEvent:le,delta:fe};Te?(q.current=fe,yh(qU,_,Ie,{discrete:!1})):FI(fe,b.swipeDirection,Y)?(q.current=fe,yh(HU,g,Ie,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(Se)>Y||Math.abs(xe)>Y)&&(B.current=null)}),onPointerUp:Wn(n.onPointerUp,le=>{const Se=q.current,xe=le.target;if(xe.hasPointerCapture(le.pointerId)&&xe.releasePointerCapture(le.pointerId),q.current=null,B.current=null,Se){const Te=le.currentTarget,ie={originalEvent:le,delta:Se};FI(Se,b.swipeDirection,b.swipeThreshold)?yh(GU,S,ie,{discrete:!0}):yh(KU,E,ie,{discrete:!0}),Te.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),JU=n=>{const{__scopeToast:e,children:t,...r}=n,i=ip(sp,e),[o,l]=I.useState(!1),[c,h]=I.useState(!1);return t5(()=>l(!0)),I.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:w.jsx(q1,{asChild:!0,children:w.jsx(m_,{...r,children:o&&w.jsxs(w.Fragment,{children:[i.label," ",t]})})})},ZU="ToastTitle",eA=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return w.jsx(ci.div,{...r,ref:e})});eA.displayName=ZU;var e5="ToastDescription",tA=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return w.jsx(ci.div,{...r,ref:e})});tA.displayName=e5;var nA="ToastAction",rA=I.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?w.jsx(sA,{altText:t,asChild:!0,children:w.jsx(v_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nA}\`. Expected non-empty \`string\`.`),null)});rA.displayName=nA;var iA="ToastClose",v_=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=YU(iA,t);return w.jsx(sA,{asChild:!0,children:w.jsx(ci.button,{type:"button",...r,ref:e,onClick:Wn(n.onClick,i.onClose)})})});v_.displayName=iA;var sA=I.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return w.jsx(ci.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function oA(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),n5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...oA(r))}}),e}function yh(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,o=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?$1(i,o):i.dispatchEvent(o)}var FI=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),o=r>i;return e==="left"||e==="right"?o&&r>t:!o&&i>t};function t5(n=()=>{}){const e=Hi(n);gf(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function n5(n){return n.nodeType===n.ELEMENT_NODE}function r5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function mg(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var i5=Q1,aA=X1,lA=Z1,uA=eA,cA=tA,dA=rA,hA=v_;const s5=i5,fA=I.forwardRef(({className:n,...e},t)=>w.jsx(aA,{ref:t,className:ao("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));fA.displayName=aA.displayName;const o5=M1("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pA=I.forwardRef(({className:n,variant:e,...t},r)=>w.jsx(lA,{ref:r,className:ao(o5({variant:e}),n),...t}));pA.displayName=lA.displayName;const a5=I.forwardRef(({className:n,...e},t)=>w.jsx(dA,{ref:t,className:ao("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));a5.displayName=dA.displayName;const mA=I.forwardRef(({className:n,...e},t)=>w.jsx(hA,{ref:t,className:ao("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:w.jsx(dU,{className:"h-4 w-4"})}));mA.displayName=hA.displayName;const gA=I.forwardRef(({className:n,...e},t)=>w.jsx(uA,{ref:t,className:ao("text-sm font-semibold [&+div]:text-xs",n),...e}));gA.displayName=uA.displayName;const yA=I.forwardRef(({className:n,...e},t)=>w.jsx(cA,{ref:t,className:ao("text-sm opacity-90",n),...e}));yA.displayName=cA.displayName;function l5(){const{toasts:n}=F1();return w.jsxs(s5,{children:[n.map(function({id:e,title:t,description:r,action:i,...o}){return w.jsxs(pA,{...o,children:[w.jsxs("div",{className:"grid gap-1",children:[t&&w.jsx(gA,{children:t}),r&&w.jsx(yA,{children:r})]}),i,w.jsx(mA,{})]},e)}),w.jsx(fA,{})]})}const u5=({className:n,...e})=>{const{userLoggedIn:t}=Dl()||{userLoggedIn:!1},r=Vr(),[i,o]=I.useState(""),[l,c]=I.useState(""),[h,p]=I.useState(!1),{toast:g}=F1();I.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const _=async()=>{p(!0);try{const S=await YF();r("/")}catch(S){console.error("Google sign-in error:",S),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}},E=async(S,x)=>{p(!0);try{const b=await QF(S,x);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(b){let R="Error logging in with email and password";console.log(b.code),b.code==="auth/invalid-credential"?R="Incorrect email or password. Please try again.":b.code==="auth/user-not-found"?R="No account found with this email.":b.code==="auth/invalid-email"?R="Invalid email format":b.code==="auth/too-many-requests"&&(R="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:R,variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}};return w.jsxs(w.Fragment,{children:[w.jsx(l5,{}),w.jsx("div",{className:ao("flex flex-col items-center space-y-4 justify-center",n),...e,children:w.jsxs("div",{className:"flex flex-col space-y-4",children:[w.jsx("input",{type:"email",value:i,onChange:S=>o(S.currentTarget.value),placeholder:"Email",className:"input"}),w.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"Password",className:"input"}),w.jsx(pf,{onClick:()=>E(i,l),isLoading:h,size:"sm",className:"w-full",children:"Login with Email"}),w.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[w.jsx("span",{className:"flex-grow border-t border-gray-300"}),w.jsx("span",{className:"px-3",children:" Or Login with Google "}),w.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),w.jsxs(pf,{onClick:_,isLoading:h,size:"sm",className:"w-full",children:[h?null:w.jsx(p_.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},c5=()=>{const n=Vr();return w.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:w.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:w.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[w.jsx("div",{className:"w-full flex justify-center",children:w.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:w.jsx(p_.logo,{className:"h-12 w-auto"})})}),w.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),w.jsx(u5,{}),w.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",w.jsx(cn,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),w.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",w.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",w.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},d5=()=>{const n=Vr();BF();const{userLoggedIn:e,loading:t}=Dl(),[r,i]=I.useState(""),[o,l]=I.useState(""),[c,h]=I.useState(""),[p,g]=I.useState(!1),[_,E]=I.useState(!1),[S,x]=I.useState(""),[b,R]=I.useState(""),[F,$]=I.useState(""),[B,q]=I.useState(!1),[X,J]=I.useState(""),N=async k=>{if(k.preventDefault(),!B){if(J(""),q(!0),b!==F){J("Passwords don't match"),q(!1);return}try{const M=(await GF(S,b)).user;await bg(M,{displayName:`${r} ${o}`}),await Zv(M.uid,r,o,S,c),n("/"),console.log(e)}catch{J("There was a problem creating your account"),q(!1)}}},P=async()=>{E(!0);try{const k=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{E(!1),console.log("Logged in: ",e)}};return I.useEffect(()=>{p&&(n("/"),g(!1))},[p,n,g]),t?w.jsx("div",{children:"Loading..."}):w.jsxs(w.Fragment,{children:[e&&w.jsx(ak,{to:"/",replace:!0}),w.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:w.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[w.jsx("div",{className:"text-center mb-6",children:w.jsxs("div",{className:"mt-2",children:[w.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),w.jsx("p",{children:"Enter your information to sign up"})]})}),w.jsxs("form",{onSubmit:N,className:"space-y-4",children:[X&&w.jsx("span",{className:"text-red-600 font-bold",children:X}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:k=>{i(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:o,onChange:k=>{l(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:k=>{h(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:S,onChange:k=>{x(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:b,onChange:k=>{R(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{disabled:B,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:F,onChange:k=>{$(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),X&&w.jsx("span",{className:"text-red-600 font-bold",children:X}),w.jsx("button",{type:"submit",disabled:B,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${B?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:B?"Signing Up...":"Create Account"})]}),w.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[w.jsx("span",{className:"flex-grow border-t border-gray-300"}),w.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),w.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),w.jsxs(pf,{onClick:P,isLoading:_,size:"sm",className:"w-full",children:[_?null:w.jsx(p_.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),w.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",w.jsx(cn,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),w.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",w.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",w.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},h5=()=>w.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:w.jsx("div",{className:"flex flex-col space-y-2 text-center",children:w.jsx(d5,{})})}),We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",vA=()=>{const{productId:n}=KP(),t=[{id:"HarvestGrove",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"tavertine",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne",productTitle:"Champagne Limestone Rigid Core Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Luxury",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Harvest",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne2",productTitle:"Champagne Limestone Rigid Core luxiry Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}}].find(r=>r.id===n);return t?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{id:"left",children:[w.jsx("div",{className:"main-image",children:w.jsx("img",{src:t.mainIm,alt:""})}),w.jsxs("div",{className:"thumbnails",children:[w.jsx("img",{src:t.mainIm,alt:""}),w.jsx("img",{src:t.alternate1,alt:""}),w.jsx("img",{src:t.alternate2,alt:""})]})]}),w.jsxs("div",{id:"right",children:[w.jsxs("div",{className:"title-section",children:[w.jsxs("div",{className:"title",children:[w.jsx("p",{id:"main",children:t.productTitle}),w.jsx("p",{id:"sub",children:t.productCategory})]}),w.jsxs("div",{className:"price-link",children:[w.jsx("div",{className:"title-left",children:w.jsx("p",{children:"$"})}),w.jsx("div",{className:"title-right",children:w.jsx("a",{href:"",children:"See in my room"})})]}),w.jsx("a",{href:"",children:"View specifications"})]}),w.jsxs("div",{className:"description",children:[w.jsx("p",{children:t.description}),w.jsxs("ul",{children:[w.jsx("li",{children:"Install up to 6,400 square feetNo need for transition molding."}),w.jsx("li",{children:"You can install it right awayPre-installation acclimation is unnecessary."}),w.jsx("li",{children:"Attached foam underlayment makes for a quieter, warmer floor."}),w.jsx("li",{children:"Can be installed on, above, and below grade-level (perfect for basements!) and over most existing hard-surface flooring, including slightly irregular subfloors."}),w.jsx("li",{children:"This DuraLux Performance product is backed by a lifetime res./ 15 yr comm. warranty."}),w.jsx("li",{children:"It is recommended to use Sentinel Protect Plus Underlayment for optimal sound absorption and moisture resistance or a standard vapor barrier like 6mil PE Film."})]}),w.jsx("a",{href:"",children:"Product Details"}),w.jsx("a",{href:"",children:"Reviews"})]})]})]}),w.jsxs("div",{className:"secondary-content",children:[w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{id:"left",children:[w.jsx("div",{className:"main-image",children:w.jsx("img",{src:We,alt:""})}),w.jsxs("div",{className:"thumbnails",children:[w.jsx("img",{src:We,alt:""}),w.jsx("img",{src:We,alt:""}),w.jsx("img",{src:We,alt:""})]})]}),w.jsxs("div",{id:"right",children:[w.jsxs("div",{className:"title-section",children:[w.jsxs("div",{className:"title",children:[w.jsx("p",{id:"main",children:"Deafult Title"}),w.jsx("p",{id:"sub",children:"Default Category"})]}),w.jsxs("div",{className:"price-link",children:[w.jsx("div",{className:"title-left",children:w.jsx("p",{children:"$"})}),w.jsx("div",{className:"title-right",children:w.jsx("a",{href:"",children:"See in my room"})})]}),w.jsx("a",{href:"",children:"View specifications"})]}),w.jsxs("div",{className:"description",children:[w.jsx("p",{children:"Default Description"}),w.jsx("a",{href:"",children:"Product Details"}),w.jsx("a",{href:"",children:"Reviews"})]})]})]}),w.jsxs("div",{className:"secondary-content",children:[w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})})]})]})};vA.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We},suggested1:{defaultImage:We},suggested2:{defaultImage:We},suggested3:{defaultImage:We}};function f5(){return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"product-detail-page",children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"product detail"}),w.jsx(rp,{}),w.jsx(vA,{}),w.jsx(Ec,{})]})})}function p5(){return w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"Designer"}),w.jsx(rp,{}),w.jsx(Ec,{})]})}const m5=()=>{const n=Vr(),e=async()=>{await t_(),n("/")};return w.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[w.jsx(cn,{to:"/",className:"text-2xl font-bold",children:w.jsx("div",{className:"logo",children:"URENO"})}),w.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[w.jsxs(cn,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[w.jsx(uU,{className:"w-5 h-5"})," Settings"]}),w.jsxs(cn,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[w.jsx(rU,{className:"w-5 h-5"})," Notifications"]}),w.jsxs(cn,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[w.jsx(aU,{className:"w-5 h-5"})," Log Out"]})]})]})},_A=n=>I.forwardRef((e,t)=>w.jsx("div",{...e,ref:t,className:Ge(e.className,n)})),__=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ze(e,"card-body"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));__.displayName="CardBody";const wA=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ze(e,"card-footer"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));wA.displayName="CardFooter";const EA=I.createContext(null);EA.displayName="CardHeaderContext";const TA=I.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const o=Ze(n,"card-header"),l=I.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return w.jsx(EA.Provider,{value:l,children:w.jsx(t,{ref:i,...r,className:Ge(e,o)})})});TA.displayName="CardHeader";const IA=I.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},o)=>{const l=Ze(n,"card-img");return w.jsx(r,{ref:o,className:Ge(t?`${l}-${t}`:l,e),...i})});IA.displayName="CardImg";const CA=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ze(e,"card-img-overlay"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));CA.displayName="CardImgOverlay";const SA=I.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=Ze(e,"card-link"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));SA.displayName="CardLink";const g5=_A("h6"),RA=I.forwardRef(({className:n,bsPrefix:e,as:t=g5,...r},i)=>(e=Ze(e,"card-subtitle"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));RA.displayName="CardSubtitle";const xA=I.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=Ze(e,"card-text"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));xA.displayName="CardText";const y5=_A("h5"),AA=I.forwardRef(({className:n,bsPrefix:e,as:t=y5,...r},i)=>(e=Ze(e,"card-title"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));AA.displayName="CardTitle";const PA=I.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:o=!1,children:l,as:c="div",...h},p)=>{const g=Ze(n,"card");return w.jsx(c,{ref:p,...h,className:Ge(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:o?w.jsx(__,{children:l}):l})});PA.displayName="Card";const gg=Object.assign(PA,{Img:IA,Title:AA,Subtitle:RA,Body:__,Link:SA,Text:xA,Header:TA,Footer:wA,ImgOverlay:CA});function v5(n,e){return I.Children.toArray(n).some(t=>I.isValidElement(t)&&t.type===e)}function _5({as:n,bsPrefix:e,className:t,...r}){e=Ze(e,"col");const i=n6(),o=r6(),l=[],c=[];return i.forEach(h=>{const p=r[h];delete r[h];let g,_,E;typeof p=="object"&&p!=null?{span:g,offset:_,order:E}=p:g=p;const S=h!==o?`-${h}`:"";g&&l.push(g===!0?`${e}${S}`:`${e}${S}-${g}`),E!=null&&c.push(`order${S}-${E}`),_!=null&&c.push(`offset${S}-${_}`)}),[{...r,className:Ge(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const kA=I.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:l}]=_5(n);return w.jsx(i,{...r,ref:e,className:Ge(t,!l.length&&o)})});kA.displayName="Col";const w5={type:sl.string,tooltip:sl.bool,as:sl.elementType},op=I.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>w.jsx(n,{...i,ref:o,className:Ge(e,`${t}-${r?"tooltip":"feedback"}`)}));op.displayName="Feedback";op.propTypes=w5;const qi=I.createContext({}),w_=I.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...c},h)=>{const{controlId:p}=I.useContext(qi);return e=Ze(e,"form-check-input"),w.jsx(l,{...c,ref:h,type:r,id:n||p,className:Ge(t,e,i&&"is-valid",o&&"is-invalid")})});w_.displayName="FormCheckInput";const yf=I.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=I.useContext(qi);return n=Ze(n,"form-check-label"),w.jsx("label",{...r,ref:i,htmlFor:t||o,className:Ge(e,n)})});yf.displayName="FormCheckLabel";const bA=I.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:h=!1,feedback:p,feedbackType:g,className:_,style:E,title:S="",type:x="checkbox",label:b,children:R,as:F="input",...$},B)=>{e=Ze(e,"form-check"),t=Ze(t,"form-switch");const{controlId:q}=I.useContext(qi),X=I.useMemo(()=>({controlId:n||q}),[q,n]),J=!R&&b!=null&&b!==!1||v5(R,yf),N=w.jsx(w_,{...$,type:x==="switch"?"checkbox":x,ref:B,isValid:l,isInvalid:c,disabled:o,as:F});return w.jsx(qi.Provider,{value:X,children:w.jsx("div",{style:E,className:Ge(_,J&&e,r&&`${e}-inline`,i&&`${e}-reverse`,x==="switch"&&t),children:R||w.jsxs(w.Fragment,{children:[N,J&&w.jsx(yf,{title:S,children:b}),p&&w.jsx(op,{type:g,tooltip:h,children:p})]})})})});bA.displayName="FormCheck";const vf=Object.assign(bA,{Input:w_,Label:yf}),NA=I.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:l=!1,isInvalid:c=!1,plaintext:h,readOnly:p,as:g="input",..._},E)=>{const{controlId:S}=I.useContext(qi);return n=Ze(n,"form-control"),w.jsx(g,{..._,type:e,size:r,ref:E,readOnly:p,id:i||S,className:Ge(o,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});NA.displayName="FormControl";const E5=Object.assign(NA,{Feedback:op}),OA=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ze(e,"form-floating"),w.jsx(t,{ref:i,className:Ge(n,e),...r})));OA.displayName="FormFloating";const E_=I.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=I.useMemo(()=>({controlId:n}),[n]);return w.jsx(qi.Provider,{value:i,children:w.jsx(e,{...t,ref:r})})});E_.displayName="FormGroup";const DA=I.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...l},c)=>{const{controlId:h}=I.useContext(qi);e=Ze(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=Ge(i,e,r&&"visually-hidden",t&&p);return o=o||h,t?w.jsx(kA,{ref:c,as:"label",className:g,htmlFor:o,...l}):w.jsx(n,{ref:c,className:g,htmlFor:o,...l})});DA.displayName="FormLabel";const LA=I.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=I.useContext(qi);return n=Ze(n,"form-range"),w.jsx("input",{...r,type:"range",ref:i,className:Ge(e,n),id:t||o})});LA.displayName="FormRange";const MA=I.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:l,...c},h)=>{const{controlId:p}=I.useContext(qi);return n=Ze(n,"form-select"),w.jsx("select",{...c,size:t,ref:h,className:Ge(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||p})});MA.displayName="FormSelect";const VA=I.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=Ze(n,"form-text"),w.jsx(t,{...i,ref:o,className:Ge(e,n,r&&"text-muted")})));VA.displayName="FormText";const FA=I.forwardRef((n,e)=>w.jsx(vf,{...n,ref:e,type:"switch"}));FA.displayName="Switch";const T5=Object.assign(FA,{Input:vf.Input,Label:vf.Label}),jA=I.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},l)=>(n=Ze(n,"form-floating"),w.jsxs(E_,{ref:l,className:Ge(e,n),controlId:r,...o,children:[t,w.jsx("label",{htmlFor:r,children:i})]})));jA.displayName="FloatingLabel";const I5={_ref:sl.any,validated:sl.bool,as:sl.elementType},T_=I.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>w.jsx(t,{...r,ref:i,className:Ge(n,e&&"was-validated")}));T_.displayName="Form";T_.propTypes=I5;const zn=Object.assign(T_,{Group:E_,Control:E5,Floating:OA,Check:vf,Switch:T5,Label:DA,Text:VA,Range:LA,Select:MA,FloatingLabel:jA}),C5="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png";function S5(){var r,i;const{user:n,profile:e,loading:t}=x1();return t?w.jsx("p",{children:"Loading..."}):!n||!e?w.jsx("p",{children:"User not found nor not logged in."}):w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"Profile"}),w.jsx(m5,{}),w.jsx("div",{className:"main-content max-w-6xl mx-auto p-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6 ",children:[w.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsx(gg,{children:w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),w.jsxs("p",{classname:"text-gray-500",children:[((r=e.homeProjects)==null?void 0:r.filter(o=>o.status==="in progress").length)||0," Ongoing, "," ",((i=e.homeProjects)==null?void 0:i.filter(o=>o.status==="in progress").length)||0," Completed"]}),w.jsx(Ds,{variant:"link",className:"mt-2",children:"View projects"})]})}),w.jsx(gg,{children:w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-semibold",children:"Saved Items"}),w.jsx("p",{className:"text-gray-500",children:"12 Materials Favorited"}),w.jsx(Ds,{variant:"link",className:"mt-2",children:"View Favorites"})]})}),w.jsx(gg,{children:w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-semibold",children:"Messages & Notifications"}),w.jsx("p",{className:"text-gray-500",children:"2 Unread Messages"}),w.jsx(Ds,{variant:"link",className:"mt-2",children:"Go to Messages"})]})})]}),w.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center ",children:[w.jsx("h2",{className:"text-2xl font-bold mt-4",children:e.username||n.displayName}),w.jsx("img",{src:C5}),w.jsx("p",{className:"text-gray-500",children:n.email}),w.jsx(cn,{to:"/edit-profile",children:w.jsx(Ds,{className:"mt-2",children:"Edit Profile"})})]})]})}),w.jsx(Ec,{})]})}const R5=()=>{const[n,e]=I.useState([]),t=Vr();I.useEffect(()=>{(async()=>{const o=Xs();await AR(Iv(o,"products"));const l=snapshotEqual.docs.map(c=>({id:c.id,...c.data()}));e(l)})()},[]);const r=async i=>{const o=Xs();await eV(ta(o,"products",i)),e(n.filter(l=>l.id!==i))};return w.jsxs("div",{className:"admin-dashboard",children:[w.jsx("h1",{children:"Product Admin Dashboard"}),w.jsx("button",{onClick:()=>t("/admin/add"),children:"Add New Product"}),w.jsx("ul",{children:n.map(i=>w.jsxs("li",{style:{marginBottom:"1rem"},children:[w.jsx("strong",{children:i.title})," - ",i.price,w.jsx("br",{}),w.jsx("button",{onClick:()=>t(`/admin/edit/${i.id}`),children:"Edit"}),w.jsx("button",{onClick:()=>r(i.id),children:"Delete"})]},i.id))})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebasestorage.googleapis.com",$A="storageBucket",x5=2*60*1e3,A5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends li{constructor(e,t,r=0){super(yg(e),`Firebase Storage: ${t} (${yg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function yg(n){return"storage/"+n}function I_(){const n="An unknown error occurred, please check the error payload for server response.";return new Tt(Et.UNKNOWN,n)}function P5(n){return new Tt(Et.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function k5(n){return new Tt(Et.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function b5(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(Et.UNAUTHENTICATED,n)}function N5(){return new Tt(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function O5(n){return new Tt(Et.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function D5(){return new Tt(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L5(){return new Tt(Et.CANCELED,"User canceled the upload/download.")}function M5(n){return new Tt(Et.INVALID_URL,"Invalid URL '"+n+"'.")}function V5(n){return new Tt(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function F5(){return new Tt(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$A+"' property when initializing the app?")}function j5(){return new Tt(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function U5(){return new Tt(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $5(n){return new Tt(Et.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wy(n){return new Tt(Et.INVALID_ARGUMENT,n)}function BA(){return new Tt(Et.APP_DELETED,"The Firebase app was deleted.")}function B5(n){return new Tt(Et.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nc(n,e){return new Tt(Et.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Mu(n){throw new Tt(Et.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qn.makeFromUrl(e,t)}catch{return new qn(e,"")}if(r.path==="")return r;throw V5(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function p(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${g}/b/${i}/o${E}`,"i"),x={bucket:1,path:3},b=t===UA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",F=new RegExp(`^https?://${b}/${i}/${R}`,"i"),B=[{regex:c,indices:h,postModify:o},{regex:S,indices:x,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let q=0;q<B.length;q++){const X=B[q],J=X.regex.exec(e);if(J){const N=J[X.indices.bucket];let P=J[X.indices.path];P||(P=""),r=new qn(N,P),X.postModify(r);break}}if(r==null)throw M5(e);return r}}class z5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(n,e,t){let r=1,i=null,o=null,l=!1,c=0;function h(){return c===2}let p=!1;function g(...R){p||(p=!0,e.apply(null,R))}function _(R){i=setTimeout(()=>{i=null,n(S,h())},R)}function E(){o&&clearTimeout(o)}function S(R,...F){if(p){E();return}if(R){E(),g.call(null,R,...F);return}if(h()||l){E(),g.call(null,R,...F);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,_(B)}let x=!1;function b(R){x||(x=!0,E(),!p&&(i!==null?(R||(c=2),clearTimeout(i),_(0)):R||(c=1)))}return _(0),o=setTimeout(()=>{l=!0,b(!0)},t),b}function H5(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(n){return n!==void 0}function K5(n){return typeof n=="object"&&!Array.isArray(n)}function C_(n){return typeof n=="string"||n instanceof String}function jI(n){return S_()&&n instanceof Blob}function S_(){return typeof Blob<"u"}function UI(n,e,t,r){if(r<e)throw wy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw wy(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function zA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Bo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Bo||(Bo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,t,r,i,o,l,c,h,p,g,_,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,x)=>{this.resolve_=S,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new vh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Bo.NO_ERROR,h=o.getStatus();if(!c||G5(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Bo.ABORT;r(!1,new vh(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new vh(p,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());q5(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=I_();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?BA():L5();l(h)}else{const h=D5();l(h)}};this.canceled_?t(!1,new vh(!1,null,!0)):this.backoffId_=W5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Y5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function X5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Z5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function e8(n,e,t,r,i,o,l=!0){const c=zA(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return J5(p,e),Y5(p,t),X5(p,o),Z5(p,r),new Q5(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function n8(...n){const e=t8();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(S_())return new Blob(n);throw new Tt(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function r8(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n){if(typeof atob>"u")throw $5("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vg{constructor(e,t){this.data=e,this.contentType=t||null}}function s8(n,e){switch(n){case Zr.RAW:return new vg(WA(e));case Zr.BASE64:case Zr.BASE64URL:return new vg(HA(n,e));case Zr.DATA_URL:return new vg(a8(e),l8(e))}throw I_()}function WA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function o8(n){let e;try{e=decodeURIComponent(n)}catch{throw nc(Zr.DATA_URL,"Malformed data URL.")}return WA(e)}function HA(n,e){switch(n){case Zr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw nc(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw nc(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=i8(e)}catch(i){throw i.message.includes("polyfill")?i:nc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class qA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw nc(Zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=u8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function a8(n){const e=new qA(n);return e.base64?HA(Zr.BASE64,e.rest):o8(e.rest)}function l8(n){return new qA(n).contentType}function u8(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){let r=0,i="";jI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(jI(this.data_)){const r=this.data_,i=r8(r,e,t);return i===null?null:new Ns(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ns(r,!0)}}static getBlob(...e){if(S_()){const t=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(n8.apply(null,t))}else{const t=e.map(l=>C_(l)?s8(Zr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new Ns(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){let e;try{e=JSON.parse(n)}catch{return null}return K5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function d8(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function GA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(n,e){return e}class yn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||h8}}let _h=null;function f8(n){return!C_(n)||n.length<2?n:GA(n)}function QA(){if(_h)return _h;const n=[];n.push(new yn("bucket")),n.push(new yn("generation")),n.push(new yn("metageneration")),n.push(new yn("name","fullPath",!0));function e(o,l){return f8(l)}const t=new yn("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const i=new yn("size");return i.xform=r,n.push(i),n.push(new yn("timeCreated")),n.push(new yn("updated")),n.push(new yn("md5Hash",null,!0)),n.push(new yn("cacheControl",null,!0)),n.push(new yn("contentDisposition",null,!0)),n.push(new yn("contentEncoding",null,!0)),n.push(new yn("contentLanguage",null,!0)),n.push(new yn("contentType",null,!0)),n.push(new yn("metadata","customMetadata",!0)),_h=n,_h}function p8(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new qn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function m8(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return p8(r,n),r}function YA(n,e,t){const r=KA(e);return r===null?null:m8(n,r,t)}function g8(n,e,t,r){const i=KA(e);if(i===null||!C_(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(p=>{const g=n.bucket,_=n.fullPath,E="/b/"+l(g)+"/o/"+l(_),S=R_(E,t,r),x=zA({alt:"media",token:p});return S+x})[0]}function y8(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class XA{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(n){if(!n)throw I_()}function v8(n,e){function t(r,i){const o=YA(n,i,e);return JA(o!==null),o}return t}function _8(n,e){function t(r,i){const o=YA(n,i,e);return JA(o!==null),g8(o,i,n.host,n._protocol)}return t}function ZA(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=N5():i=b5():t.getStatus()===402?i=k5(n.bucket):t.getStatus()===403?i=O5(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function w8(n){const e=ZA(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=P5(n.path)),o.serverResponse=i.serverResponse,o}return t}function E8(n,e,t){const r=e.fullServerUrl(),i=R_(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new XA(i,o,_8(n,t),l);return c.errorHandler=w8(e),c}function T8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function I8(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=T8(null,e)),r}function C8(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let B="";for(let q=0;q<2;q++)B=B+Math.random().toString().slice(2);return B}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=I8(e,r,i),g=y8(p,t),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+h+"--",S=Ns.getBlob(_,r,E);if(S===null)throw j5();const x={name:p.fullPath},b=R_(o,n.host,n._protocol),R="POST",F=n.maxUploadRetryTime,$=new XA(b,R,v8(n,t),F);return $.urlParams=x,$.headers=l,$.body=S.uploadData(),$.errorHandler=ZA(e),$}class S8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class R8 extends S8{initXhr(){this.xhr_.responseType="text"}}function e2(){return new R8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t){this._service=e,t instanceof qn?this._location=t:this._location=qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jo(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GA(this._location.path)}get storage(){return this._service}get parent(){const e=c8(this._location.path);if(e===null)return null;const t=new qn(this._location.bucket,e);return new Jo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw B5(e)}}function x8(n,e,t){n._throwIfRoot("uploadBytes");const r=C8(n.storage,n._location,QA(),new Ns(e,!0),t);return n.storage.makeRequestWithTokens(r,e2).then(i=>({metadata:i,ref:n}))}function A8(n){n._throwIfRoot("getDownloadURL");const e=E8(n.storage,n._location,QA());return n.storage.makeRequestWithTokens(e,e2).then(t=>{if(t===null)throw U5();return t})}function P8(n,e){const t=d8(n._location.path,e),r=new qn(n._location.bucket,t);return new Jo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(n){return/^[A-Za-z]+:\/\//.test(n)}function b8(n,e){return new Jo(n,e)}function t2(n,e){if(n instanceof x_){const t=n;if(t._bucket==null)throw F5();const r=new Jo(t,t._bucket);return e!=null?t2(r,e):r}else return e!==void 0?P8(n,e):n}function N8(n,e){if(e&&k8(e)){if(n instanceof x_)return b8(n,e);throw wy("To use ref(service, url), the first argument must be a Storage instance.")}else return t2(n,e)}function $I(n,e){const t=e==null?void 0:e[$A];return t==null?null:qn.makeFromBucketSpec(t,n)}function O8(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Oy(i,n.app.options.projectId))}class x_{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=UA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x5,this._maxUploadRetryTime=A5,this._requests=new Set,i!=null?this._bucket=qn.makeFromBucketSpec(i,this._host):this._bucket=$I(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=$I(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jo(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new z5(BA());{const l=e8(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const BI="@firebase/storage",zI="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="storage";function r2(n,e,t){return n=ct(n),x8(n,e,t)}function i2(n){return n=ct(n),A8(n)}function s2(n,e){return n=ct(n),N8(n,e)}function o2(n=Cf(),e){n=ct(n);const r=Ic(n,n2).getImmediate({identifier:e}),i=by("storage");return i&&D8(r,...i),r}function D8(n,e,t,r={}){O8(n,e,t,r)}function L8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new x_(t,r,i,e,to)}function M8(){zs(new Vi(n2,L8,"PUBLIC").setMultipleInstances(!0)),ar(BI,zI,""),ar(BI,zI,"esm2017")}M8();const V8=()=>{const[n,e]=I.useState(""),[t,r]=I.useState(""),[i,o]=I.useState(""),[l,c]=I.useState(""),[h,p]=I.useState(null),g=Vr(),_=async E=>{E.preventDefault();try{const S=o2(),x=s2(S,`products/${h.name}`);await r2(x,h);const b=await i2(x),R=Xs();await tV(Iv(R,"products"),{title:n,description:t,price:i,link:l,image:b}),g("/admin")}catch(S){console.error("Error uploading product:",S)}};return w.jsxs("div",{className:"product-form",children:[w.jsx("h2",{children:"Add New Product"}),w.jsxs("form",{onSubmit:_,children:[w.jsx("input",{type:"text",placeholder:"Title",value:n,onChange:E=>e(E.target.value),required:!0}),w.jsx("textarea",{placeholder:"Description",value:t,onChange:E=>r(E.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Link",value:l,onChange:E=>o(E.target.value),required:!0}),w.jsx("input",{type:"file",accept:"image/*",onChange:E=>p(E.target.files[0]),required:!0}),w.jsx("button",{type:"submit",children:"Save Product"})]})]})};function F8(){const{user:n,profile:e}=x1(),t=Vr(),[r,i]=I.useState({displayName:"",email:"",phone:"",profilePicture:null});if(I.useEffect(()=>{e&&i({displayName:n.displayName||"",email:n.email||"",phone:e.phone||"",profilePicture:null})},[e,n]),!n||!e)return w.jsx("p",{children:"Loading profile data..."});const o=async l=>{l.preventDefault();const c=Af(),h=Xs(),p=o2(),g=c.currentUser;if(!g)return;const _={};try{if(r.displayName&&r.displayName!==g.displayName&&(await bg(g,{displayName:r.displayName}),_.displayName=r.displayName),r.email&&r.email!==g.email&&(await AO(g,r.email),_.email=r.email),r.phone&&(_.phone=r.phone),r.profilePicture){const E=s2(p,`profilePictures/${g.uid}`);await r2(E,r.profilePicture);const S=await i2(E);await bg(g,{photoURL:S}),_.photoURL=S}if(Object.keys(_).length>0){const E=ta(h,"users",g.uid);await Z4(E,_)}alert("profile updated succesfully"),t("/ProfileDashboard")}catch(E){console.error("Error updating profile:",E),alert("Failed to update profile. Check the console for details.")}};return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Edit Profile"}),w.jsxs(zn,{children:[w.jsxs(zn.Group,{controlId:"displayName",className:"mb-3",children:[w.jsx(zn.Label,{children:"Display Name"}),w.jsx(zn.Control,{type:"text",value:r.displayName,onChange:l=>i({...r,displayName:l.target.value})})]}),w.jsxs(zn.Group,{controlId:"email",className:"mb-3",children:[w.jsx(zn.Label,{children:"email"}),w.jsx(zn.Control,{type:"email",value:r.email,onChange:l=>i({...r,email:l.target.value})})]}),w.jsxs(zn.Group,{controlId:"phone",className:"mb-3",children:[w.jsx(zn.Label,{children:"Phone Number"}),w.jsx(zn.Control,{type:"text",value:r.phone,onChange:l=>i({...r,phone:l.target.value})})]}),w.jsxs(zn.Group,{controlId:"profilePicture",className:"mb-3",children:[w.jsx(zn.Label,{children:"Profile Picture"}),w.jsx(zn.Control,{type:"file",onChange:l=>i({...r,profilePicture:l.target.files[0]})})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx(Ds,{variant:"primary",onClick:o,type:"submit",children:"Save Changes"}),w.jsx(Ds,{variant:"secondary",onClick:()=>t("/ProfileDashboard"),children:"Cancel"})]})]})]})})}const WI=({children:n})=>{const{currentUser:e}=Dl(),{profile:t}=I.useContext(np);return!e||!(t!=null&&t.isAdmin)?null:n};yP.createRoot(document.getElementById("root")).render(w.jsx(I.StrictMode,{children:w.jsx(KF,{children:w.jsx(y6,{children:w.jsx(Nk,{basename:"/Ureno_webdesign/",children:w.jsxs(uk,{children:[w.jsx(Pr,{path:"/",element:w.jsx(_6,{})}),w.jsx(Pr,{path:"/product-page",element:w.jsx(w6,{})}),w.jsx(Pr,{path:"/productDetail/:productId",element:w.jsx(f5,{})}),w.jsx(Pr,{path:"/designerPage",element:w.jsx(p5,{})}),w.jsx(Pr,{path:"/ProfileDashboard",element:w.jsx(S5,{})}),w.jsx(Pr,{path:"/edit-profile",element:w.jsx(F8,{})}),w.jsx(Pr,{path:"/sign-in",element:w.jsx(c5,{})}),w.jsx(Pr,{path:"/sign-up",element:w.jsx(h5,{})}),w.jsx(Pr,{path:"/admin",element:w.jsx(WI,{children:w.jsx(R5,{})})}),w.jsx(Pr,{path:"/admin/add",element:w.jsx(WI,{children:w.jsx(V8,{})})})]})})})})}));
