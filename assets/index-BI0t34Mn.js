import go from"https://cdn.skypack.dev/gsap@3.12.0";import CP from"https://cdn.skypack.dev/color";function IP(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const RP="modulepreload",kP=function(n){return"/Ureno_webdesign/"+n},eb={},gc=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(t.map(f=>{if(f=kP(f),f in eb)return;eb[f]=!0;const g=f.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":RP,g||(w.as="script"),w.crossOrigin="",w.href=f,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((R,I)=>{w.addEventListener("load",R),w.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function Rd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ty={exports:{}},Ru={},Cy={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function AP(){if(tb)return Fe;tb=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,x={};function _(q,ne,xe){this.props=q,this.context=ne,this.refs=x,this.updater=xe||R}_.prototype.isReactComponent={},_.prototype.setState=function(q,ne){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ne,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=_.prototype;function P(q,ne,xe){this.props=q,this.context=ne,this.refs=x,this.updater=xe||R}var A=P.prototype=new E;A.constructor=P,I(A,_.prototype),A.isPureReactComponent=!0;var O=Array.isArray,U=Object.prototype.hasOwnProperty,z={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function L(q,ne,xe){var Pe,De={},Ve=null,Xe=null;if(ne!=null)for(Pe in ne.ref!==void 0&&(Xe=ne.ref),ne.key!==void 0&&(Ve=""+ne.key),ne)U.call(ne,Pe)&&!M.hasOwnProperty(Pe)&&(De[Pe]=ne[Pe]);var Je=arguments.length-2;if(Je===1)De.children=xe;else if(1<Je){for(var lt=Array(Je),qt=0;qt<Je;qt++)lt[qt]=arguments[qt+2];De.children=lt}if(q&&q.defaultProps)for(Pe in Je=q.defaultProps,Je)De[Pe]===void 0&&(De[Pe]=Je[Pe]);return{$$typeof:n,type:q,key:Ve,ref:Xe,props:De,_owner:z.current}}function N(q,ne){return{$$typeof:n,type:q.type,key:ne,ref:q.ref,props:q.props,_owner:q._owner}}function b(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function D(q){var ne={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(xe){return ne[xe]})}var V=/\/+/g;function B(q,ne){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):ne.toString(36)}function te(q,ne,xe,Pe,De){var Ve=typeof q;(Ve==="undefined"||Ve==="boolean")&&(q=null);var Xe=!1;if(q===null)Xe=!0;else switch(Ve){case"string":case"number":Xe=!0;break;case"object":switch(q.$$typeof){case n:case e:Xe=!0}}if(Xe)return Xe=q,De=De(Xe),q=Pe===""?"."+B(Xe,0):Pe,O(De)?(xe="",q!=null&&(xe=q.replace(V,"$&/")+"/"),te(De,ne,xe,"",function(qt){return qt})):De!=null&&(b(De)&&(De=N(De,xe+(!De.key||Xe&&Xe.key===De.key?"":(""+De.key).replace(V,"$&/")+"/")+q)),ne.push(De)),1;if(Xe=0,Pe=Pe===""?".":Pe+":",O(q))for(var Je=0;Je<q.length;Je++){Ve=q[Je];var lt=Pe+B(Ve,Je);Xe+=te(Ve,ne,xe,lt,De)}else if(lt=w(q),typeof lt=="function")for(q=lt.call(q),Je=0;!(Ve=q.next()).done;)Ve=Ve.value,lt=Pe+B(Ve,Je++),Xe+=te(Ve,ne,xe,lt,De);else if(Ve==="object")throw ne=String(q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Xe}function de(q,ne,xe){if(q==null)return q;var Pe=[],De=0;return te(q,Pe,"","",function(Ve){return ne.call(xe,Ve,De++)}),Pe}function Ie(q){if(q._status===-1){var ne=q._result;ne=ne(),ne.then(function(xe){(q._status===0||q._status===-1)&&(q._status=1,q._result=xe)},function(xe){(q._status===0||q._status===-1)&&(q._status=2,q._result=xe)}),q._status===-1&&(q._status=0,q._result=ne)}if(q._status===1)return q._result.default;throw q._result}var ke={current:null},ae={transition:null},pe={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:ae,ReactCurrentOwner:z};function he(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:de,forEach:function(q,ne,xe){de(q,function(){ne.apply(this,arguments)},xe)},count:function(q){var ne=0;return de(q,function(){ne++}),ne},toArray:function(q){return de(q,function(ne){return ne})||[]},only:function(q){if(!b(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Fe.Component=_,Fe.Fragment=t,Fe.Profiler=s,Fe.PureComponent=P,Fe.StrictMode=r,Fe.Suspense=h,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Fe.act=he,Fe.cloneElement=function(q,ne,xe){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Pe=I({},q.props),De=q.key,Ve=q.ref,Xe=q._owner;if(ne!=null){if(ne.ref!==void 0&&(Ve=ne.ref,Xe=z.current),ne.key!==void 0&&(De=""+ne.key),q.type&&q.type.defaultProps)var Je=q.type.defaultProps;for(lt in ne)U.call(ne,lt)&&!M.hasOwnProperty(lt)&&(Pe[lt]=ne[lt]===void 0&&Je!==void 0?Je[lt]:ne[lt])}var lt=arguments.length-2;if(lt===1)Pe.children=xe;else if(1<lt){Je=Array(lt);for(var qt=0;qt<lt;qt++)Je[qt]=arguments[qt+2];Pe.children=Je}return{$$typeof:n,type:q.type,key:De,ref:Ve,props:Pe,_owner:Xe}},Fe.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},Fe.createElement=L,Fe.createFactory=function(q){var ne=L.bind(null,q);return ne.type=q,ne},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(q){return{$$typeof:c,render:q}},Fe.isValidElement=b,Fe.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:Ie}},Fe.memo=function(q,ne){return{$$typeof:f,type:q,compare:ne===void 0?null:ne}},Fe.startTransition=function(q){var ne=ae.transition;ae.transition={};try{q()}finally{ae.transition=ne}},Fe.unstable_act=he,Fe.useCallback=function(q,ne){return ke.current.useCallback(q,ne)},Fe.useContext=function(q){return ke.current.useContext(q)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(q){return ke.current.useDeferredValue(q)},Fe.useEffect=function(q,ne){return ke.current.useEffect(q,ne)},Fe.useId=function(){return ke.current.useId()},Fe.useImperativeHandle=function(q,ne,xe){return ke.current.useImperativeHandle(q,ne,xe)},Fe.useInsertionEffect=function(q,ne){return ke.current.useInsertionEffect(q,ne)},Fe.useLayoutEffect=function(q,ne){return ke.current.useLayoutEffect(q,ne)},Fe.useMemo=function(q,ne){return ke.current.useMemo(q,ne)},Fe.useReducer=function(q,ne,xe){return ke.current.useReducer(q,ne,xe)},Fe.useRef=function(q){return ke.current.useRef(q)},Fe.useState=function(q){return ke.current.useState(q)},Fe.useSyncExternalStore=function(q,ne,xe){return ke.current.useSyncExternalStore(q,ne,xe)},Fe.useTransition=function(){return ke.current.useTransition()},Fe.version="18.3.1",Fe}var nb;function Pv(){return nb||(nb=1,Cy.exports=AP()),Cy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function NP(){if(rb)return Ru;rb=1;var n=Pv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var g,y={},w=null,R=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(R=h.ref);for(g in h)r.call(h,g)&&!i.hasOwnProperty(g)&&(y[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:c,key:w,ref:R,props:y,_owner:s.current}}return Ru.Fragment=t,Ru.jsx=l,Ru.jsxs=l,Ru}var sb;function PP(){return sb||(sb=1,Ty.exports=NP()),Ty.exports}var u=PP(),C=Pv();const Nn=Rd(C),v0=IP({__proto__:null,default:Nn},[C]);var yf={},Iy={exports:{}},tr={},Ry={exports:{}},ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function jP(){return ib||(ib=1,function(n){function e(ae,pe){var he=ae.length;ae.push(pe);e:for(;0<he;){var q=he-1>>>1,ne=ae[q];if(0<s(ne,pe))ae[q]=pe,ae[he]=ne,he=q;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var pe=ae[0],he=ae.pop();if(he!==pe){ae[0]=he;e:for(var q=0,ne=ae.length,xe=ne>>>1;q<xe;){var Pe=2*(q+1)-1,De=ae[Pe],Ve=Pe+1,Xe=ae[Ve];if(0>s(De,he))Ve<ne&&0>s(Xe,De)?(ae[q]=Xe,ae[Ve]=he,q=Ve):(ae[q]=De,ae[Pe]=he,q=Pe);else if(Ve<ne&&0>s(Xe,he))ae[q]=Xe,ae[Ve]=he,q=Ve;else break e}}return pe}function s(ae,pe){var he=ae.sortIndex-pe.sortIndex;return he!==0?he:ae.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,y=null,w=3,R=!1,I=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ae){for(var pe=t(f);pe!==null;){if(pe.callback===null)r(f);else if(pe.startTime<=ae)r(f),pe.sortIndex=pe.expirationTime,e(h,pe);else break;pe=t(f)}}function O(ae){if(x=!1,A(ae),!I)if(t(h)!==null)I=!0,Ie(U);else{var pe=t(f);pe!==null&&ke(O,pe.startTime-ae)}}function U(ae,pe){I=!1,x&&(x=!1,E(L),L=-1),R=!0;var he=w;try{for(A(pe),y=t(h);y!==null&&(!(y.expirationTime>pe)||ae&&!D());){var q=y.callback;if(typeof q=="function"){y.callback=null,w=y.priorityLevel;var ne=q(y.expirationTime<=pe);pe=n.unstable_now(),typeof ne=="function"?y.callback=ne:y===t(h)&&r(h),A(pe)}else r(h);y=t(h)}if(y!==null)var xe=!0;else{var Pe=t(f);Pe!==null&&ke(O,Pe.startTime-pe),xe=!1}return xe}finally{y=null,w=he,R=!1}}var z=!1,M=null,L=-1,N=5,b=-1;function D(){return!(n.unstable_now()-b<N)}function V(){if(M!==null){var ae=n.unstable_now();b=ae;var pe=!0;try{pe=M(!0,ae)}finally{pe?B():(z=!1,M=null)}}else z=!1}var B;if(typeof P=="function")B=function(){P(V)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=V,B=function(){de.postMessage(null)}}else B=function(){_(V,0)};function Ie(ae){M=ae,z||(z=!0,B())}function ke(ae,pe){L=_(function(){ae(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){I||R||(I=!0,Ie(U))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var he=w;w=pe;try{return ae()}finally{w=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,pe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var he=w;w=ae;try{return pe()}finally{w=he}},n.unstable_scheduleCallback=function(ae,pe,he){var q=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?q+he:q):he=q,ae){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=he+ne,ae={id:g++,callback:pe,priorityLevel:ae,startTime:he,expirationTime:ne,sortIndex:-1},he>q?(ae.sortIndex=he,e(f,ae),t(h)===null&&ae===t(f)&&(x?(E(L),L=-1):x=!0,ke(O,he-q))):(ae.sortIndex=ne,e(h,ae),I||R||(I=!0,Ie(U))),ae},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ae){var pe=w;return function(){var he=w;w=pe;try{return ae.apply(this,arguments)}finally{w=he}}}}(ky)),ky}var ob;function OP(){return ob||(ob=1,Ry.exports=jP()),Ry.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function LP(){if(ab)return tr;ab=1;var n=Pv(),e=OP();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(o){return h.call(y,o)?!0:h.call(g,o)?!1:f.test(o)?y[o]=!0:(g[o]=!0,!1)}function R(o,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,a,d,m){if(a===null||typeof a>"u"||R(o,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(o,a,d,m,v,T,j){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=o,this.type=a,this.sanitizeURL=T,this.removeEmptyString=j}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){_[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];_[a]=new x(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){_[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){_[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){_[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){_[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){_[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){_[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){_[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(E,P);_[a]=new x(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(E,P);_[a]=new x(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(E,P);_[a]=new x(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){_[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){_[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,a,d,m){var v=_.hasOwnProperty(a)?_[a]:null;(v!==null?v.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,d,v,m)&&(d=null),m||v===null?w(a)&&(d===null?o.removeAttribute(a):o.setAttribute(a,""+d)):v.mustUseProperty?o[v.propertyName]=d===null?v.type===3?!1:"":d:(a=v.attributeName,m=v.attributeNamespace,d===null?o.removeAttribute(a):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,m?o.setAttributeNS(m,a,d):o.setAttribute(a,d))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),z=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),ae=Symbol.iterator;function pe(o){return o===null||typeof o!="object"?null:(o=ae&&o[ae]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,q;function ne(o){if(q===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+o}var xe=!1;function Pe(o,a){if(!o||xe)return"";xe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var m=Y}Reflect.construct(o,[],a)}else{try{a.call()}catch(Y){m=Y}o.call(a.prototype)}else{try{throw Error()}catch(Y){m=Y}o()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var v=Y.stack.split(`
`),T=m.stack.split(`
`),j=v.length-1,$=T.length-1;1<=j&&0<=$&&v[j]!==T[$];)$--;for(;1<=j&&0<=$;j--,$--)if(v[j]!==T[$]){if(j!==1||$!==1)do if(j--,$--,0>$||v[j]!==T[$]){var H=`
`+v[j].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=j&&0<=$);break}}}finally{xe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?ne(o):""}function De(o){switch(o.tag){case 5:return ne(o.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return o=Pe(o.type,!1),o;case 11:return o=Pe(o.type.render,!1),o;case 1:return o=Pe(o.type,!0),o;default:return""}}function Ve(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case M:return"Fragment";case z:return"Portal";case N:return"Profiler";case L:return"StrictMode";case B:return"Suspense";case te:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case b:return(o._context.displayName||"Context")+".Provider";case V:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case de:return a=o.displayName||null,a!==null?a:Ve(o.type)||"Memo";case Ie:a=o._payload,o=o._init;try{return Ve(o(a))}catch{}}return null}function Xe(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(a);case 8:return a===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Je(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function lt(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qt(o){var a=lt(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),m=""+o[a];if(!o.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,T=d.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return v.call(this)},set:function(j){m=""+j,T.call(this,j)}}),Object.defineProperty(o,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(j){m=""+j},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Nr(o){o._valueTracker||(o._valueTracker=qt(o))}function Pr(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return o&&(m=lt(o)?o.checked?"true":"false":o.value),o=m,o!==d?(a.setValue(o),!0):!1}function pn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Jr(o,a){var d=a.checked;return he({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function zi(o,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=Je(a.value!=null?a.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ko(o,a){a=a.checked,a!=null&&A(o,"checked",a,!1)}function Qo(o,a){Ko(o,a);var d=Je(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Hi(o,a.type,d):a.hasOwnProperty("defaultValue")&&Hi(o,a.type,Je(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Ka(o,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,d||a===o.value||(o.value=a),o.defaultValue=a}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Hi(o,a,d){(a!=="number"||pn(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var jr=Array.isArray;function Me(o,a,d,m){if(o=o.options,a){a={};for(var v=0;v<d.length;v++)a["$"+d[v]]=!0;for(d=0;d<o.length;d++)v=a.hasOwnProperty("$"+o[d].value),o[d].selected!==v&&(o[d].selected=v),v&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Je(d),a=null,v=0;v<o.length;v++){if(o[v].value===d){o[v].selected=!0,m&&(o[v].defaultSelected=!0);return}a!==null||o[v].disabled||(a=o[v])}a!==null&&(a.selected=!0)}}function ct(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function It(o,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(t(92));if(jr(d)){if(1<d.length)throw Error(t(93));d=d[0]}a=d}a==null&&(a=""),d=a}o._wrapperState={initialValue:Je(d)}}function Zr(o,a){var d=Je(a.value),m=Je(a.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),a.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function Or(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function gt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?gt(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mn,si=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,v){MSApp.execUnsafeLocalFunction(function(){return o(a,d,m,v)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(mn=mn||document.createElement("div"),mn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=mn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Wi(o,a){if(a){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=a;return}}o.textContent=a}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xo=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(o){Xo.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Yo[a]=Yo[o]})});function Vc(o,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Yo.hasOwnProperty(o)&&Yo[o]?(""+a).trim():a+"px"}function Uc(o,a){o=o.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,v=Vc(d,a[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,v):o[d]=v}}var Bc=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $c(o,a){if(a){if(Bc[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function zc(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function Qa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ya=null,Lr=null,Is=null;function Xa(o){if(o=fu(o)){if(typeof Ya!="function")throw Error(t(280));var a=o.stateNode;a&&(a=Nh(a),Ya(o.stateNode,o.type,a))}}function Rs(o){Lr?Is?Is.push(o):Is=[o]:Lr=o}function Hc(){if(Lr){var o=Lr,a=Is;if(Is=Lr=null,Xa(o),a)for(o=0;o<a.length;o++)Xa(a[o])}}function Zo(o,a){return o(a)}function Wc(){}var ii=!1;function qc(o,a,d){if(ii)return o(a,d);ii=!0;try{return Zo(o,a,d)}finally{ii=!1,(Lr!==null||Is!==null)&&(Wc(),Hc())}}function $t(o,a){var d=o.stateNode;if(d===null)return null;var m=Nh(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(t(231,a,typeof d));return d}var Ja=!1;if(c)try{var es={};Object.defineProperty(es,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Ja=!1}function ea(o,a,d,m,v,T,j,$,H){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(d,Y)}catch(oe){this.onError(oe)}}var ta=!1,Za=null,ts=!1,Gc=null,Zm={onError:function(o){ta=!0,Za=o}};function el(o,a,d,m,v,T,j,$,H){ta=!1,Za=null,ea.apply(Zm,arguments)}function nh(o,a,d,m,v,T,j,$,H){if(el.apply(this,arguments),ta){if(ta){var Y=Za;ta=!1,Za=null}else throw Error(t(198));ts||(ts=!0,Gc=Y)}}function ns(o){var a=o,d=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(d=a.return),o=a.return;while(o)}return a.tag===3?d:null}function na(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function rs(o){if(ns(o)!==o)throw Error(t(188))}function rh(o){var a=o.alternate;if(!a){if(a=ns(o),a===null)throw Error(t(188));return a!==o?null:o}for(var d=o,m=a;;){var v=d.return;if(v===null)break;var T=v.alternate;if(T===null){if(m=v.return,m!==null){d=m;continue}break}if(v.child===T.child){for(T=v.child;T;){if(T===d)return rs(v),o;if(T===m)return rs(v),a;T=T.sibling}throw Error(t(188))}if(d.return!==m.return)d=v,m=T;else{for(var j=!1,$=v.child;$;){if($===d){j=!0,d=v,m=T;break}if($===m){j=!0,m=v,d=T;break}$=$.sibling}if(!j){for($=T.child;$;){if($===d){j=!0,d=T,m=v;break}if($===m){j=!0,m=T,d=v;break}$=$.sibling}if(!j)throw Error(t(189))}}if(d.alternate!==m)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?o:a}function Kc(o){return o=rh(o),o!==null?tl(o):null}function tl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=tl(o);if(a!==null)return a;o=o.sibling}return null}var nl=e.unstable_scheduleCallback,Qc=e.unstable_cancelCallback,sh=e.unstable_shouldYield,eg=e.unstable_requestPaint,yt=e.unstable_now,ih=e.unstable_getCurrentPriorityLevel,ra=e.unstable_ImmediatePriority,qi=e.unstable_UserBlockingPriority,Dr=e.unstable_NormalPriority,Yc=e.unstable_LowPriority,oh=e.unstable_IdlePriority,sa=null,ur=null;function ah(o){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(sa,o,void 0,(o.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:ch,Xc=Math.log,lh=Math.LN2;function ch(o){return o>>>=0,o===0?32:31-(Xc(o)/lh|0)|0}var rl=64,sl=4194304;function Gi(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ia(o,a){var d=o.pendingLanes;if(d===0)return 0;var m=0,v=o.suspendedLanes,T=o.pingedLanes,j=d&268435455;if(j!==0){var $=j&~v;$!==0?m=Gi($):(T&=j,T!==0&&(m=Gi(T)))}else j=d&~v,j!==0?m=Gi(j):T!==0&&(m=Gi(T));if(m===0)return 0;if(a!==0&&a!==m&&(a&v)===0&&(v=m&-m,T=a&-a,v>=T||v===16&&(T&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=m;0<a;)d=31-$n(a),v=1<<d,m|=o[d],a&=~v;return m}function tg(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(o,a){for(var d=o.suspendedLanes,m=o.pingedLanes,v=o.expirationTimes,T=o.pendingLanes;0<T;){var j=31-$n(T),$=1<<j,H=v[j];H===-1?(($&d)===0||($&m)!==0)&&(v[j]=tg($,a)):H<=a&&(o.expiredLanes|=$),T&=~$}}function dr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function oa(){var o=rl;return rl<<=1,(rl&4194240)===0&&(rl=64),o}function Ki(o){for(var a=[],d=0;31>d;d++)a.push(o);return a}function Qi(o,a,d){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-$n(a),o[a]=d}function ft(o,a){var d=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var v=31-$n(d),T=1<<v;a[v]=0,m[v]=-1,o[v]=-1,d&=~T}}function Yi(o,a){var d=o.entangledLanes|=a;for(o=o.entanglements;d;){var m=31-$n(d),v=1<<m;v&a|o[m]&a&&(o[m]|=a),d&=~v}}var ze=0;function Xi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var uh,il,dh,hh,fh,Jc=!1,ks=[],gn=null,ss=null,is=null,Ji=new Map,Mr=new Map,As=[],ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ph(o,a){switch(o){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ji.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(a.pointerId)}}function Kn(o,a,d,m,v,T){return o===null||o.nativeEvent!==T?(o={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[v]},a!==null&&(a=fu(a),a!==null&&il(a)),o):(o.eventSystemFlags|=m,a=o.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),o)}function rg(o,a,d,m,v){switch(a){case"focusin":return gn=Kn(gn,o,a,d,m,v),!0;case"dragenter":return ss=Kn(ss,o,a,d,m,v),!0;case"mouseover":return is=Kn(is,o,a,d,m,v),!0;case"pointerover":var T=v.pointerId;return Ji.set(T,Kn(Ji.get(T)||null,o,a,d,m,v)),!0;case"gotpointercapture":return T=v.pointerId,Mr.set(T,Kn(Mr.get(T)||null,o,a,d,m,v)),!0}return!1}function mh(o){var a=da(o.target);if(a!==null){var d=ns(a);if(d!==null){if(a=d.tag,a===13){if(a=na(d),a!==null){o.blockedOn=a,fh(o.priority,function(){dh(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ai(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var d=ol(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Jo=m,d.target.dispatchEvent(m),Jo=null}else return a=fu(d),a!==null&&il(a),o.blockedOn=d,!1;a.shift()}return!0}function aa(o,a,d){ai(o)&&d.delete(a)}function gh(){Jc=!1,gn!==null&&ai(gn)&&(gn=null),ss!==null&&ai(ss)&&(ss=null),is!==null&&ai(is)&&(is=null),Ji.forEach(aa),Mr.forEach(aa)}function os(o,a){o.blockedOn===a&&(o.blockedOn=null,Jc||(Jc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gh)))}function as(o){function a(v){return os(v,o)}if(0<ks.length){os(ks[0],o);for(var d=1;d<ks.length;d++){var m=ks[d];m.blockedOn===o&&(m.blockedOn=null)}}for(gn!==null&&os(gn,o),ss!==null&&os(ss,o),is!==null&&os(is,o),Ji.forEach(a),Mr.forEach(a),d=0;d<As.length;d++)m=As[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<As.length&&(d=As[0],d.blockedOn===null);)mh(d),d.blockedOn===null&&As.shift()}var li=O.ReactCurrentBatchConfig,Zi=!0;function Rt(o,a,d,m){var v=ze,T=li.transition;li.transition=null;try{ze=1,Zc(o,a,d,m)}finally{ze=v,li.transition=T}}function sg(o,a,d,m){var v=ze,T=li.transition;li.transition=null;try{ze=4,Zc(o,a,d,m)}finally{ze=v,li.transition=T}}function Zc(o,a,d,m){if(Zi){var v=ol(o,a,d,m);if(v===null)mg(o,a,m,la,d),ph(o,m);else if(rg(v,o,a,d,m))m.stopPropagation();else if(ph(o,m),a&4&&-1<ng.indexOf(o)){for(;v!==null;){var T=fu(v);if(T!==null&&uh(T),T=ol(o,a,d,m),T===null&&mg(o,a,m,la,d),T===v)break;v=T}v!==null&&m.stopPropagation()}else mg(o,a,m,null,d)}}var la=null;function ol(o,a,d,m){if(la=null,o=Qa(m),o=da(o),o!==null)if(a=ns(o),a===null)o=null;else if(d=a.tag,d===13){if(o=na(a),o!==null)return o;o=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return la=o,null}function eu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ih()){case ra:return 1;case qi:return 4;case Dr:case Yc:return 16;case oh:return 536870912;default:return 16}default:return 16}}var hr=null,al=null,Qn=null;function tu(){if(Qn)return Qn;var o,a=al,d=a.length,m,v="value"in hr?hr.value:hr.textContent,T=v.length;for(o=0;o<d&&a[o]===v[o];o++);var j=d-o;for(m=1;m<=j&&a[d-m]===v[T-m];m++);return Qn=v.slice(o,1<m?1-m:void 0)}function ll(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ns(){return!0}function nu(){return!1}function yn(o){function a(d,m,v,T,j){this._reactName=d,this._targetInst=v,this.type=m,this.nativeEvent=T,this.target=j,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(d=o[$],this[$]=d?d(T):T[$]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ns:nu,this.isPropagationStopped=nu,this}return he(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),a}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=yn(ls),Ps=he({},ls,{view:0,detail:0}),ig=yn(Ps),ul,ci,eo,ca=he({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==eo&&(eo&&o.type==="mousemove"?(ul=o.screenX-eo.screenX,ci=o.screenY-eo.screenY):ci=ul=0,eo=o),ul)},movementY:function(o){return"movementY"in o?o.movementY:ci}}),dl=yn(ca),ru=he({},ca,{dataTransfer:0}),yh=yn(ru),hl=he({},Ps,{relatedTarget:0}),fl=yn(hl),vh=he({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),ui=yn(vh),_h=he({},ls,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),xh=yn(_h),wh=he({},ls,{data:0}),su=yn(wh),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=bh[o])?!!a[o]:!1}function js(){return Eh}var p=he({},Ps,{key:function(o){if(o.key){var a=pl[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=ll(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?zn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(o){return o.type==="keypress"?ll(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ll(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=yn(p),k=he({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F=yn(k),G=he({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),X=yn(G),ue=he({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),ot=yn(ue),Zt=he({},ca,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=yn(Zt),on=[9,13,27,32],Gt=c&&"CompositionEvent"in window,Fr=null;c&&"documentMode"in document&&(Fr=document.documentMode);var fr=c&&"TextEvent"in window&&!Fr,ua=c&&(!Gt||Fr&&8<Fr&&11>=Fr),ml=" ",Kx=!1;function Qx(o,a){switch(o){case"keyup":return on.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var gl=!1;function EN(o,a){switch(o){case"compositionend":return Yx(a);case"keypress":return a.which!==32?null:(Kx=!0,ml);case"textInput":return o=a.data,o===ml&&Kx?null:o;default:return null}}function SN(o,a){if(gl)return o==="compositionend"||!Gt&&Qx(o,a)?(o=tu(),Qn=al=hr=null,gl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ua&&a.locale!=="ko"?null:a.data;default:return null}}var TN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xx(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!TN[o.type]:a==="textarea"}function Jx(o,a,d,m){Rs(m),a=Rh(a,"onChange"),0<a.length&&(d=new cl("onChange","change",null,d,m),o.push({event:d,listeners:a}))}var iu=null,ou=null;function CN(o){gw(o,0)}function Sh(o){var a=wl(o);if(Pr(a))return o}function IN(o,a){if(o==="change")return a}var Zx=!1;if(c){var og;if(c){var ag="oninput"in document;if(!ag){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),ag=typeof ew.oninput=="function"}og=ag}else og=!1;Zx=og&&(!document.documentMode||9<document.documentMode)}function tw(){iu&&(iu.detachEvent("onpropertychange",nw),ou=iu=null)}function nw(o){if(o.propertyName==="value"&&Sh(ou)){var a=[];Jx(a,ou,o,Qa(o)),qc(CN,a)}}function RN(o,a,d){o==="focusin"?(tw(),iu=a,ou=d,iu.attachEvent("onpropertychange",nw)):o==="focusout"&&tw()}function kN(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Sh(ou)}function AN(o,a){if(o==="click")return Sh(a)}function NN(o,a){if(o==="input"||o==="change")return Sh(a)}function PN(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var cs=typeof Object.is=="function"?Object.is:PN;function au(o,a){if(cs(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var d=Object.keys(o),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var v=d[m];if(!h.call(a,v)||!cs(o[v],a[v]))return!1}return!0}function rw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function sw(o,a){var d=rw(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=a&&m>=a)return{node:d,offset:a-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=rw(d)}}function iw(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?iw(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function ow(){for(var o=window,a=pn();a instanceof o.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)o=a.contentWindow;else break;a=pn(o.document)}return a}function lg(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function jN(o){var a=ow(),d=o.focusedElem,m=o.selectionRange;if(a!==d&&d&&d.ownerDocument&&iw(d.ownerDocument.documentElement,d)){if(m!==null&&lg(d)){if(a=m.start,o=m.end,o===void 0&&(o=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(o,d.value.length);else if(o=(a=d.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var v=d.textContent.length,T=Math.min(m.start,v);m=m.end===void 0?T:Math.min(m.end,v),!o.extend&&T>m&&(v=m,m=T,T=v),v=sw(d,T);var j=sw(d,m);v&&j&&(o.rangeCount!==1||o.anchorNode!==v.node||o.anchorOffset!==v.offset||o.focusNode!==j.node||o.focusOffset!==j.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),o.removeAllRanges(),T>m?(o.addRange(a),o.extend(j.node,j.offset)):(a.setEnd(j.node,j.offset),o.addRange(a)))}}for(a=[],o=d;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)o=a[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var ON=c&&"documentMode"in document&&11>=document.documentMode,yl=null,cg=null,lu=null,ug=!1;function aw(o,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ug||yl==null||yl!==pn(m)||(m=yl,"selectionStart"in m&&lg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),lu&&au(lu,m)||(lu=m,m=Rh(cg,"onSelect"),0<m.length&&(a=new cl("onSelect","select",null,a,d),o.push({event:a,listeners:m}),a.target=yl)))}function Th(o,a){var d={};return d[o.toLowerCase()]=a.toLowerCase(),d["Webkit"+o]="webkit"+a,d["Moz"+o]="moz"+a,d}var vl={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},dg={},lw={};c&&(lw=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Ch(o){if(dg[o])return dg[o];if(!vl[o])return o;var a=vl[o],d;for(d in a)if(a.hasOwnProperty(d)&&d in lw)return dg[o]=a[d];return o}var cw=Ch("animationend"),uw=Ch("animationiteration"),dw=Ch("animationstart"),hw=Ch("transitionend"),fw=new Map,pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(o,a){fw.set(o,a),i(a,[o])}for(var hg=0;hg<pw.length;hg++){var fg=pw[hg],LN=fg.toLowerCase(),DN=fg[0].toUpperCase()+fg.slice(1);to(LN,"on"+DN)}to(cw,"onAnimationEnd"),to(uw,"onAnimationIteration"),to(dw,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(hw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MN=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function mw(o,a,d){var m=o.type||"unknown-event";o.currentTarget=d,nh(m,a,void 0,o),o.currentTarget=null}function gw(o,a){a=(a&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],v=m.event;m=m.listeners;e:{var T=void 0;if(a)for(var j=m.length-1;0<=j;j--){var $=m[j],H=$.instance,Y=$.currentTarget;if($=$.listener,H!==T&&v.isPropagationStopped())break e;mw(v,$,Y),T=H}else for(j=0;j<m.length;j++){if($=m[j],H=$.instance,Y=$.currentTarget,$=$.listener,H!==T&&v.isPropagationStopped())break e;mw(v,$,Y),T=H}}}if(ts)throw o=Gc,ts=!1,Gc=null,o}function xt(o,a){var d=a[wg];d===void 0&&(d=a[wg]=new Set);var m=o+"__bubble";d.has(m)||(yw(a,o,2,!1),d.add(m))}function pg(o,a,d){var m=0;a&&(m|=4),yw(d,o,m,a)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function uu(o){if(!o[Ih]){o[Ih]=!0,r.forEach(function(d){d!=="selectionchange"&&(MN.has(d)||pg(d,!1,o),pg(d,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Ih]||(a[Ih]=!0,pg("selectionchange",!1,a))}}function yw(o,a,d,m){switch(eu(a)){case 1:var v=Rt;break;case 4:v=sg;break;default:v=Zc}d=v.bind(null,a,d,o),v=void 0,!Ja||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),m?v!==void 0?o.addEventListener(a,d,{capture:!0,passive:v}):o.addEventListener(a,d,!0):v!==void 0?o.addEventListener(a,d,{passive:v}):o.addEventListener(a,d,!1)}function mg(o,a,d,m,v){var T=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var j=m.tag;if(j===3||j===4){var $=m.stateNode.containerInfo;if($===v||$.nodeType===8&&$.parentNode===v)break;if(j===4)for(j=m.return;j!==null;){var H=j.tag;if((H===3||H===4)&&(H=j.stateNode.containerInfo,H===v||H.nodeType===8&&H.parentNode===v))return;j=j.return}for(;$!==null;){if(j=da($),j===null)return;if(H=j.tag,H===5||H===6){m=T=j;continue e}$=$.parentNode}}m=m.return}qc(function(){var Y=T,oe=Qa(d),le=[];e:{var ie=fw.get(o);if(ie!==void 0){var me=cl,_e=o;switch(o){case"keypress":if(ll(d)===0)break e;case"keydown":case"keyup":me=S;break;case"focusin":_e="focus",me=fl;break;case"focusout":_e="blur",me=fl;break;case"beforeblur":case"afterblur":me=fl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=X;break;case cw:case uw:case dw:me=ui;break;case hw:me=ot;break;case"scroll":me=ig;break;case"wheel":me=qe;break;case"copy":case"cut":case"paste":me=xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=F}var we=(a&4)!==0,zt=!we&&o==="scroll",K=we?ie!==null?ie+"Capture":null:ie;we=[];for(var W=Y,Q;W!==null;){Q=W;var ce=Q.stateNode;if(Q.tag===5&&ce!==null&&(Q=ce,K!==null&&(ce=$t(W,K),ce!=null&&we.push(du(W,ce,Q)))),zt)break;W=W.return}0<we.length&&(ie=new me(ie,_e,null,d,oe),le.push({event:ie,listeners:we}))}}if((a&7)===0){e:{if(ie=o==="mouseover"||o==="pointerover",me=o==="mouseout"||o==="pointerout",ie&&d!==Jo&&(_e=d.relatedTarget||d.fromElement)&&(da(_e)||_e[di]))break e;if((me||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,me?(_e=d.relatedTarget||d.toElement,me=Y,_e=_e?da(_e):null,_e!==null&&(zt=ns(_e),_e!==zt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(me=null,_e=Y),me!==_e)){if(we=dl,ce="onMouseLeave",K="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(we=F,ce="onPointerLeave",K="onPointerEnter",W="pointer"),zt=me==null?ie:wl(me),Q=_e==null?ie:wl(_e),ie=new we(ce,W+"leave",me,d,oe),ie.target=zt,ie.relatedTarget=Q,ce=null,da(oe)===Y&&(we=new we(K,W+"enter",_e,d,oe),we.target=Q,we.relatedTarget=zt,ce=we),zt=ce,me&&_e)t:{for(we=me,K=_e,W=0,Q=we;Q;Q=_l(Q))W++;for(Q=0,ce=K;ce;ce=_l(ce))Q++;for(;0<W-Q;)we=_l(we),W--;for(;0<Q-W;)K=_l(K),Q--;for(;W--;){if(we===K||K!==null&&we===K.alternate)break t;we=_l(we),K=_l(K)}we=null}else we=null;me!==null&&vw(le,ie,me,we,!1),_e!==null&&zt!==null&&vw(le,zt,_e,we,!0)}}e:{if(ie=Y?wl(Y):window,me=ie.nodeName&&ie.nodeName.toLowerCase(),me==="select"||me==="input"&&ie.type==="file")var be=IN;else if(Xx(ie))if(Zx)be=NN;else{be=kN;var Se=RN}else(me=ie.nodeName)&&me.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(be=AN);if(be&&(be=be(o,Y))){Jx(le,be,d,oe);break e}Se&&Se(o,ie,Y),o==="focusout"&&(Se=ie._wrapperState)&&Se.controlled&&ie.type==="number"&&Hi(ie,"number",ie.value)}switch(Se=Y?wl(Y):window,o){case"focusin":(Xx(Se)||Se.contentEditable==="true")&&(yl=Se,cg=Y,lu=null);break;case"focusout":lu=cg=yl=null;break;case"mousedown":ug=!0;break;case"contextmenu":case"mouseup":case"dragend":ug=!1,aw(le,d,oe);break;case"selectionchange":if(ON)break;case"keydown":case"keyup":aw(le,d,oe)}var Te;if(Gt)e:{switch(o){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else gl?Qx(o,d)&&(Ae="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ae="onCompositionStart");Ae&&(ua&&d.locale!=="ko"&&(gl||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&gl&&(Te=tu()):(hr=oe,al="value"in hr?hr.value:hr.textContent,gl=!0)),Se=Rh(Y,Ae),0<Se.length&&(Ae=new su(Ae,o,null,d,oe),le.push({event:Ae,listeners:Se}),Te?Ae.data=Te:(Te=Yx(d),Te!==null&&(Ae.data=Te)))),(Te=fr?EN(o,d):SN(o,d))&&(Y=Rh(Y,"onBeforeInput"),0<Y.length&&(oe=new su("onBeforeInput","beforeinput",null,d,oe),le.push({event:oe,listeners:Y}),oe.data=Te))}gw(le,a)})}function du(o,a,d){return{instance:o,listener:a,currentTarget:d}}function Rh(o,a){for(var d=a+"Capture",m=[];o!==null;){var v=o,T=v.stateNode;v.tag===5&&T!==null&&(v=T,T=$t(o,d),T!=null&&m.unshift(du(o,T,v)),T=$t(o,a),T!=null&&m.push(du(o,T,v))),o=o.return}return m}function _l(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function vw(o,a,d,m,v){for(var T=a._reactName,j=[];d!==null&&d!==m;){var $=d,H=$.alternate,Y=$.stateNode;if(H!==null&&H===m)break;$.tag===5&&Y!==null&&($=Y,v?(H=$t(d,T),H!=null&&j.unshift(du(d,H,$))):v||(H=$t(d,T),H!=null&&j.push(du(d,H,$)))),d=d.return}j.length!==0&&o.push({event:a,listeners:j})}var FN=/\r\n?/g,VN=/\u0000|\uFFFD/g;function _w(o){return(typeof o=="string"?o:""+o).replace(FN,`
`).replace(VN,"")}function kh(o,a,d){if(a=_w(a),_w(o)!==a&&d)throw Error(t(425))}function Ah(){}var gg=null,yg=null;function vg(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,UN=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,BN=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(o){return xw.resolve(null).then(o).catch($N)}:_g;function $N(o){setTimeout(function(){throw o})}function xg(o,a){var d=a,m=0;do{var v=d.nextSibling;if(o.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(m===0){o.removeChild(v),as(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=v}while(d);as(a)}function no(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function ww(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return o;a--}else d==="/$"&&a++}o=o.previousSibling}return null}var xl=Math.random().toString(36).slice(2),Os="__reactFiber$"+xl,hu="__reactProps$"+xl,di="__reactContainer$"+xl,wg="__reactEvents$"+xl,zN="__reactListeners$"+xl,HN="__reactHandles$"+xl;function da(o){var a=o[Os];if(a)return a;for(var d=o.parentNode;d;){if(a=d[di]||d[Os]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(o=ww(o);o!==null;){if(d=o[Os])return d;o=ww(o)}return a}o=d,d=o.parentNode}return null}function fu(o){return o=o[Os]||o[di],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function wl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Nh(o){return o[hu]||null}var bg=[],bl=-1;function ro(o){return{current:o}}function wt(o){0>bl||(o.current=bg[bl],bg[bl]=null,bl--)}function vt(o,a){bl++,bg[bl]=o.current,o.current=a}var so={},Sn=ro(so),Yn=ro(!1),ha=so;function El(o,a){var d=o.type.contextTypes;if(!d)return so;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var v={},T;for(T in d)v[T]=a[T];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=v),v}function Xn(o){return o=o.childContextTypes,o!=null}function Ph(){wt(Yn),wt(Sn)}function bw(o,a,d){if(Sn.current!==so)throw Error(t(168));vt(Sn,a),vt(Yn,d)}function Ew(o,a,d){var m=o.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var v in m)if(!(v in a))throw Error(t(108,Xe(o)||"Unknown",v));return he({},d,m)}function jh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||so,ha=Sn.current,vt(Sn,o),vt(Yn,Yn.current),!0}function Sw(o,a,d){var m=o.stateNode;if(!m)throw Error(t(169));d?(o=Ew(o,a,ha),m.__reactInternalMemoizedMergedChildContext=o,wt(Yn),wt(Sn),vt(Sn,o)):wt(Yn),vt(Yn,d)}var hi=null,Oh=!1,Eg=!1;function Tw(o){hi===null?hi=[o]:hi.push(o)}function WN(o){Oh=!0,Tw(o)}function io(){if(!Eg&&hi!==null){Eg=!0;var o=0,a=ze;try{var d=hi;for(ze=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}hi=null,Oh=!1}catch(v){throw hi!==null&&(hi=hi.slice(o+1)),nl(ra,io),v}finally{ze=a,Eg=!1}}return null}var Sl=[],Tl=0,Lh=null,Dh=0,Vr=[],Ur=0,fa=null,fi=1,pi="";function pa(o,a){Sl[Tl++]=Dh,Sl[Tl++]=Lh,Lh=o,Dh=a}function Cw(o,a,d){Vr[Ur++]=fi,Vr[Ur++]=pi,Vr[Ur++]=fa,fa=o;var m=fi;o=pi;var v=32-$n(m)-1;m&=~(1<<v),d+=1;var T=32-$n(a)+v;if(30<T){var j=v-v%5;T=(m&(1<<j)-1).toString(32),m>>=j,v-=j,fi=1<<32-$n(a)+v|d<<v|m,pi=T+o}else fi=1<<T|d<<v|m,pi=o}function Sg(o){o.return!==null&&(pa(o,1),Cw(o,1,0))}function Tg(o){for(;o===Lh;)Lh=Sl[--Tl],Sl[Tl]=null,Dh=Sl[--Tl],Sl[Tl]=null;for(;o===fa;)fa=Vr[--Ur],Vr[Ur]=null,pi=Vr[--Ur],Vr[Ur]=null,fi=Vr[--Ur],Vr[Ur]=null}var pr=null,mr=null,kt=!1,us=null;function Iw(o,a){var d=Hr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=o,a=o.deletions,a===null?(o.deletions=[d],o.flags|=16):a.push(d)}function Rw(o,a){switch(o.tag){case 5:var d=o.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,pr=o,mr=no(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,pr=o,mr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=fa!==null?{id:fi,overflow:pi}:null,o.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Hr(18,null,null,0),d.stateNode=a,d.return=o,o.child=d,pr=o,mr=null,!0):!1;default:return!1}}function Cg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ig(o){if(kt){var a=mr;if(a){var d=a;if(!Rw(o,a)){if(Cg(o))throw Error(t(418));a=no(d.nextSibling);var m=pr;a&&Rw(o,a)?Iw(m,d):(o.flags=o.flags&-4097|2,kt=!1,pr=o)}}else{if(Cg(o))throw Error(t(418));o.flags=o.flags&-4097|2,kt=!1,pr=o}}}function kw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;pr=o}function Mh(o){if(o!==pr)return!1;if(!kt)return kw(o),kt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!vg(o.type,o.memoizedProps)),a&&(a=mr)){if(Cg(o))throw Aw(),Error(t(418));for(;a;)Iw(o,a),a=no(a.nextSibling)}if(kw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(a===0){mr=no(o.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}o=o.nextSibling}mr=null}}else mr=pr?no(o.stateNode.nextSibling):null;return!0}function Aw(){for(var o=mr;o;)o=no(o.nextSibling)}function Cl(){mr=pr=null,kt=!1}function Rg(o){us===null?us=[o]:us.push(o)}var qN=O.ReactCurrentBatchConfig;function pu(o,a,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var m=d.stateNode}if(!m)throw Error(t(147,o));var v=m,T=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(j){var $=v.refs;j===null?delete $[T]:$[T]=j},a._stringRef=T,a)}if(typeof o!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,o))}return o}function Fh(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Nw(o){var a=o._init;return a(o._payload)}function Pw(o){function a(K,W){if(o){var Q=K.deletions;Q===null?(K.deletions=[W],K.flags|=16):Q.push(W)}}function d(K,W){if(!o)return null;for(;W!==null;)a(K,W),W=W.sibling;return null}function m(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function v(K,W){return K=po(K,W),K.index=0,K.sibling=null,K}function T(K,W,Q){return K.index=Q,o?(Q=K.alternate,Q!==null?(Q=Q.index,Q<W?(K.flags|=2,W):Q):(K.flags|=2,W)):(K.flags|=1048576,W)}function j(K){return o&&K.alternate===null&&(K.flags|=2),K}function $(K,W,Q,ce){return W===null||W.tag!==6?(W=_y(Q,K.mode,ce),W.return=K,W):(W=v(W,Q),W.return=K,W)}function H(K,W,Q,ce){var be=Q.type;return be===M?oe(K,W,Q.props.children,ce,Q.key):W!==null&&(W.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Ie&&Nw(be)===W.type)?(ce=v(W,Q.props),ce.ref=pu(K,W,Q),ce.return=K,ce):(ce=cf(Q.type,Q.key,Q.props,null,K.mode,ce),ce.ref=pu(K,W,Q),ce.return=K,ce)}function Y(K,W,Q,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=xy(Q,K.mode,ce),W.return=K,W):(W=v(W,Q.children||[]),W.return=K,W)}function oe(K,W,Q,ce,be){return W===null||W.tag!==7?(W=ba(Q,K.mode,ce,be),W.return=K,W):(W=v(W,Q),W.return=K,W)}function le(K,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=_y(""+W,K.mode,Q),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case U:return Q=cf(W.type,W.key,W.props,null,K.mode,Q),Q.ref=pu(K,null,W),Q.return=K,Q;case z:return W=xy(W,K.mode,Q),W.return=K,W;case Ie:var ce=W._init;return le(K,ce(W._payload),Q)}if(jr(W)||pe(W))return W=ba(W,K.mode,Q,null),W.return=K,W;Fh(K,W)}return null}function ie(K,W,Q,ce){var be=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return be!==null?null:$(K,W,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:return Q.key===be?H(K,W,Q,ce):null;case z:return Q.key===be?Y(K,W,Q,ce):null;case Ie:return be=Q._init,ie(K,W,be(Q._payload),ce)}if(jr(Q)||pe(Q))return be!==null?null:oe(K,W,Q,ce,null);Fh(K,Q)}return null}function me(K,W,Q,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return K=K.get(Q)||null,$(W,K,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case U:return K=K.get(ce.key===null?Q:ce.key)||null,H(W,K,ce,be);case z:return K=K.get(ce.key===null?Q:ce.key)||null,Y(W,K,ce,be);case Ie:var Se=ce._init;return me(K,W,Q,Se(ce._payload),be)}if(jr(ce)||pe(ce))return K=K.get(Q)||null,oe(W,K,ce,be,null);Fh(W,ce)}return null}function _e(K,W,Q,ce){for(var be=null,Se=null,Te=W,Ae=W=0,cn=null;Te!==null&&Ae<Q.length;Ae++){Te.index>Ae?(cn=Te,Te=null):cn=Te.sibling;var et=ie(K,Te,Q[Ae],ce);if(et===null){Te===null&&(Te=cn);break}o&&Te&&et.alternate===null&&a(K,Te),W=T(et,W,Ae),Se===null?be=et:Se.sibling=et,Se=et,Te=cn}if(Ae===Q.length)return d(K,Te),kt&&pa(K,Ae),be;if(Te===null){for(;Ae<Q.length;Ae++)Te=le(K,Q[Ae],ce),Te!==null&&(W=T(Te,W,Ae),Se===null?be=Te:Se.sibling=Te,Se=Te);return kt&&pa(K,Ae),be}for(Te=m(K,Te);Ae<Q.length;Ae++)cn=me(Te,K,Ae,Q[Ae],ce),cn!==null&&(o&&cn.alternate!==null&&Te.delete(cn.key===null?Ae:cn.key),W=T(cn,W,Ae),Se===null?be=cn:Se.sibling=cn,Se=cn);return o&&Te.forEach(function(mo){return a(K,mo)}),kt&&pa(K,Ae),be}function we(K,W,Q,ce){var be=pe(Q);if(typeof be!="function")throw Error(t(150));if(Q=be.call(Q),Q==null)throw Error(t(151));for(var Se=be=null,Te=W,Ae=W=0,cn=null,et=Q.next();Te!==null&&!et.done;Ae++,et=Q.next()){Te.index>Ae?(cn=Te,Te=null):cn=Te.sibling;var mo=ie(K,Te,et.value,ce);if(mo===null){Te===null&&(Te=cn);break}o&&Te&&mo.alternate===null&&a(K,Te),W=T(mo,W,Ae),Se===null?be=mo:Se.sibling=mo,Se=mo,Te=cn}if(et.done)return d(K,Te),kt&&pa(K,Ae),be;if(Te===null){for(;!et.done;Ae++,et=Q.next())et=le(K,et.value,ce),et!==null&&(W=T(et,W,Ae),Se===null?be=et:Se.sibling=et,Se=et);return kt&&pa(K,Ae),be}for(Te=m(K,Te);!et.done;Ae++,et=Q.next())et=me(Te,K,Ae,et.value,ce),et!==null&&(o&&et.alternate!==null&&Te.delete(et.key===null?Ae:et.key),W=T(et,W,Ae),Se===null?be=et:Se.sibling=et,Se=et);return o&&Te.forEach(function(TP){return a(K,TP)}),kt&&pa(K,Ae),be}function zt(K,W,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:e:{for(var be=Q.key,Se=W;Se!==null;){if(Se.key===be){if(be=Q.type,be===M){if(Se.tag===7){d(K,Se.sibling),W=v(Se,Q.props.children),W.return=K,K=W;break e}}else if(Se.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Ie&&Nw(be)===Se.type){d(K,Se.sibling),W=v(Se,Q.props),W.ref=pu(K,Se,Q),W.return=K,K=W;break e}d(K,Se);break}else a(K,Se);Se=Se.sibling}Q.type===M?(W=ba(Q.props.children,K.mode,ce,Q.key),W.return=K,K=W):(ce=cf(Q.type,Q.key,Q.props,null,K.mode,ce),ce.ref=pu(K,W,Q),ce.return=K,K=ce)}return j(K);case z:e:{for(Se=Q.key;W!==null;){if(W.key===Se)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){d(K,W.sibling),W=v(W,Q.children||[]),W.return=K,K=W;break e}else{d(K,W);break}else a(K,W);W=W.sibling}W=xy(Q,K.mode,ce),W.return=K,K=W}return j(K);case Ie:return Se=Q._init,zt(K,W,Se(Q._payload),ce)}if(jr(Q))return _e(K,W,Q,ce);if(pe(Q))return we(K,W,Q,ce);Fh(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(d(K,W.sibling),W=v(W,Q),W.return=K,K=W):(d(K,W),W=_y(Q,K.mode,ce),W.return=K,K=W),j(K)):d(K,W)}return zt}var Il=Pw(!0),jw=Pw(!1),Vh=ro(null),Uh=null,Rl=null,kg=null;function Ag(){kg=Rl=Uh=null}function Ng(o){var a=Vh.current;wt(Vh),o._currentValue=a}function Pg(o,a,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),o===d)break;o=o.return}}function kl(o,a){Uh=o,kg=Rl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Jn=!0),o.firstContext=null)}function Br(o){var a=o._currentValue;if(kg!==o)if(o={context:o,memoizedValue:a,next:null},Rl===null){if(Uh===null)throw Error(t(308));Rl=o,Uh.dependencies={lanes:0,firstContext:o}}else Rl=Rl.next=o;return a}var ma=null;function jg(o){ma===null?ma=[o]:ma.push(o)}function Ow(o,a,d,m){var v=a.interleaved;return v===null?(d.next=d,jg(a)):(d.next=v.next,v.next=d),a.interleaved=d,mi(o,m)}function mi(o,a){o.lanes|=a;var d=o.alternate;for(d!==null&&(d.lanes|=a),d=o,o=o.return;o!==null;)o.childLanes|=a,d=o.alternate,d!==null&&(d.childLanes|=a),d=o,o=o.return;return d.tag===3?d.stateNode:null}var oo=!1;function Og(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lw(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function gi(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function ao(o,a,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Ze&2)!==0){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,mi(o,d)}return v=m.interleaved,v===null?(a.next=a,jg(m)):(a.next=v.next,v.next=a),m.interleaved=a,mi(o,d)}function Bh(o,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=o.pendingLanes,d|=m,a.lanes=d,Yi(o,d)}}function Dw(o,a){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var v=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var j={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?v=T=j:T=T.next=j,d=d.next}while(d!==null);T===null?v=T=a:T=T.next=a}else v=T=a;d={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:T,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=a:o.next=a,d.lastBaseUpdate=a}function $h(o,a,d,m){var v=o.updateQueue;oo=!1;var T=v.firstBaseUpdate,j=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var H=$,Y=H.next;H.next=null,j===null?T=Y:j.next=Y,j=H;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,$=oe.lastBaseUpdate,$!==j&&($===null?oe.firstBaseUpdate=Y:$.next=Y,oe.lastBaseUpdate=H))}if(T!==null){var le=v.baseState;j=0,oe=Y=H=null,$=T;do{var ie=$.lane,me=$.eventTime;if((m&ie)===ie){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var _e=o,we=$;switch(ie=a,me=d,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){le=_e.call(me,le,ie);break e}le=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,ie=typeof _e=="function"?_e.call(me,le,ie):_e,ie==null)break e;le=he({},le,ie);break e;case 2:oo=!0}}$.callback!==null&&$.lane!==0&&(o.flags|=64,ie=v.effects,ie===null?v.effects=[$]:ie.push($))}else me={eventTime:me,lane:ie,tag:$.tag,payload:$.payload,callback:$.callback,next:null},oe===null?(Y=oe=me,H=le):oe=oe.next=me,j|=ie;if($=$.next,$===null){if($=v.shared.pending,$===null)break;ie=$,$=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);if(oe===null&&(H=le),v.baseState=H,v.firstBaseUpdate=Y,v.lastBaseUpdate=oe,a=v.shared.interleaved,a!==null){v=a;do j|=v.lane,v=v.next;while(v!==a)}else T===null&&(v.shared.lanes=0);va|=j,o.lanes=j,o.memoizedState=le}}function Mw(o,a,d){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var m=o[a],v=m.callback;if(v!==null){if(m.callback=null,m=d,typeof v!="function")throw Error(t(191,v));v.call(m)}}}var mu={},Ls=ro(mu),gu=ro(mu),yu=ro(mu);function ga(o){if(o===mu)throw Error(t(174));return o}function Lg(o,a){switch(vt(yu,a),vt(gu,o),vt(Ls,mu),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:it(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=it(a,o)}wt(Ls),vt(Ls,a)}function Al(){wt(Ls),wt(gu),wt(yu)}function Fw(o){ga(yu.current);var a=ga(Ls.current),d=it(a,o.type);a!==d&&(vt(gu,o),vt(Ls,d))}function Dg(o){gu.current===o&&(wt(Ls),wt(gu))}var Ot=ro(0);function zh(o){for(var a=o;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Mg=[];function Fg(){for(var o=0;o<Mg.length;o++)Mg[o]._workInProgressVersionPrimary=null;Mg.length=0}var Hh=O.ReactCurrentDispatcher,Vg=O.ReactCurrentBatchConfig,ya=0,Lt=null,en=null,an=null,Wh=!1,vu=!1,_u=0,GN=0;function Tn(){throw Error(t(321))}function Ug(o,a){if(a===null)return!1;for(var d=0;d<a.length&&d<o.length;d++)if(!cs(o[d],a[d]))return!1;return!0}function Bg(o,a,d,m,v,T){if(ya=T,Lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Hh.current=o===null||o.memoizedState===null?XN:JN,o=d(m,v),vu){T=0;do{if(vu=!1,_u=0,25<=T)throw Error(t(301));T+=1,an=en=null,a.updateQueue=null,Hh.current=ZN,o=d(m,v)}while(vu)}if(Hh.current=Kh,a=en!==null&&en.next!==null,ya=0,an=en=Lt=null,Wh=!1,a)throw Error(t(300));return o}function $g(){var o=_u!==0;return _u=0,o}function Ds(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Lt.memoizedState=an=o:an=an.next=o,an}function $r(){if(en===null){var o=Lt.alternate;o=o!==null?o.memoizedState:null}else o=en.next;var a=an===null?Lt.memoizedState:an.next;if(a!==null)an=a,en=o;else{if(o===null)throw Error(t(310));en=o,o={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},an===null?Lt.memoizedState=an=o:an=an.next=o}return an}function xu(o,a){return typeof a=="function"?a(o):a}function zg(o){var a=$r(),d=a.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=o;var m=en,v=m.baseQueue,T=d.pending;if(T!==null){if(v!==null){var j=v.next;v.next=T.next,T.next=j}m.baseQueue=v=T,d.pending=null}if(v!==null){T=v.next,m=m.baseState;var $=j=null,H=null,Y=T;do{var oe=Y.lane;if((ya&oe)===oe)H!==null&&(H=H.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:o(m,Y.action);else{var le={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};H===null?($=H=le,j=m):H=H.next=le,Lt.lanes|=oe,va|=oe}Y=Y.next}while(Y!==null&&Y!==T);H===null?j=m:H.next=$,cs(m,a.memoizedState)||(Jn=!0),a.memoizedState=m,a.baseState=j,a.baseQueue=H,d.lastRenderedState=m}if(o=d.interleaved,o!==null){v=o;do T=v.lane,Lt.lanes|=T,va|=T,v=v.next;while(v!==o)}else v===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Hg(o){var a=$r(),d=a.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=o;var m=d.dispatch,v=d.pending,T=a.memoizedState;if(v!==null){d.pending=null;var j=v=v.next;do T=o(T,j.action),j=j.next;while(j!==v);cs(T,a.memoizedState)||(Jn=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),d.lastRenderedState=T}return[T,m]}function Vw(){}function Uw(o,a){var d=Lt,m=$r(),v=a(),T=!cs(m.memoizedState,v);if(T&&(m.memoizedState=v,Jn=!0),m=m.queue,Wg(zw.bind(null,d,m,o),[o]),m.getSnapshot!==a||T||an!==null&&an.memoizedState.tag&1){if(d.flags|=2048,wu(9,$w.bind(null,d,m,v,a),void 0,null),ln===null)throw Error(t(349));(ya&30)!==0||Bw(d,a,v)}return v}function Bw(o,a,d){o.flags|=16384,o={getSnapshot:a,value:d},a=Lt.updateQueue,a===null?(a={lastEffect:null,stores:null},Lt.updateQueue=a,a.stores=[o]):(d=a.stores,d===null?a.stores=[o]:d.push(o))}function $w(o,a,d,m){a.value=d,a.getSnapshot=m,Hw(a)&&Ww(o)}function zw(o,a,d){return d(function(){Hw(a)&&Ww(o)})}function Hw(o){var a=o.getSnapshot;o=o.value;try{var d=a();return!cs(o,d)}catch{return!0}}function Ww(o){var a=mi(o,1);a!==null&&ps(a,o,1,-1)}function qw(o){var a=Ds();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xu,lastRenderedState:o},a.queue=o,o=o.dispatch=YN.bind(null,Lt,o),[a.memoizedState,o]}function wu(o,a,d,m){return o={tag:o,create:a,destroy:d,deps:m,next:null},a=Lt.updateQueue,a===null?(a={lastEffect:null,stores:null},Lt.updateQueue=a,a.lastEffect=o.next=o):(d=a.lastEffect,d===null?a.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,a.lastEffect=o)),o}function Gw(){return $r().memoizedState}function qh(o,a,d,m){var v=Ds();Lt.flags|=o,v.memoizedState=wu(1|a,d,void 0,m===void 0?null:m)}function Gh(o,a,d,m){var v=$r();m=m===void 0?null:m;var T=void 0;if(en!==null){var j=en.memoizedState;if(T=j.destroy,m!==null&&Ug(m,j.deps)){v.memoizedState=wu(a,d,T,m);return}}Lt.flags|=o,v.memoizedState=wu(1|a,d,T,m)}function Kw(o,a){return qh(8390656,8,o,a)}function Wg(o,a){return Gh(2048,8,o,a)}function Qw(o,a){return Gh(4,2,o,a)}function Yw(o,a){return Gh(4,4,o,a)}function Xw(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Jw(o,a,d){return d=d!=null?d.concat([o]):null,Gh(4,4,Xw.bind(null,a,o),d)}function qg(){}function Zw(o,a){var d=$r();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Ug(a,m[1])?m[0]:(d.memoizedState=[o,a],o)}function e1(o,a){var d=$r();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Ug(a,m[1])?m[0]:(o=o(),d.memoizedState=[o,a],o)}function t1(o,a,d){return(ya&21)===0?(o.baseState&&(o.baseState=!1,Jn=!0),o.memoizedState=d):(cs(d,a)||(d=oa(),Lt.lanes|=d,va|=d,o.baseState=!0),a)}function KN(o,a){var d=ze;ze=d!==0&&4>d?d:4,o(!0);var m=Vg.transition;Vg.transition={};try{o(!1),a()}finally{ze=d,Vg.transition=m}}function n1(){return $r().memoizedState}function QN(o,a,d){var m=ho(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},r1(o))s1(a,d);else if(d=Ow(o,a,d,m),d!==null){var v=Wn();ps(d,o,m,v),i1(d,a,m)}}function YN(o,a,d){var m=ho(o),v={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(r1(o))s1(a,v);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var j=a.lastRenderedState,$=T(j,d);if(v.hasEagerState=!0,v.eagerState=$,cs($,j)){var H=a.interleaved;H===null?(v.next=v,jg(a)):(v.next=H.next,H.next=v),a.interleaved=v;return}}catch{}finally{}d=Ow(o,a,v,m),d!==null&&(v=Wn(),ps(d,o,m,v),i1(d,a,m))}}function r1(o){var a=o.alternate;return o===Lt||a!==null&&a===Lt}function s1(o,a){vu=Wh=!0;var d=o.pending;d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a}function i1(o,a,d){if((d&4194240)!==0){var m=a.lanes;m&=o.pendingLanes,d|=m,a.lanes=d,Yi(o,d)}}var Kh={readContext:Br,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},XN={readContext:Br,useCallback:function(o,a){return Ds().memoizedState=[o,a===void 0?null:a],o},useContext:Br,useEffect:Kw,useImperativeHandle:function(o,a,d){return d=d!=null?d.concat([o]):null,qh(4194308,4,Xw.bind(null,a,o),d)},useLayoutEffect:function(o,a){return qh(4194308,4,o,a)},useInsertionEffect:function(o,a){return qh(4,2,o,a)},useMemo:function(o,a){var d=Ds();return a=a===void 0?null:a,o=o(),d.memoizedState=[o,a],o},useReducer:function(o,a,d){var m=Ds();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},m.queue=o,o=o.dispatch=QN.bind(null,Lt,o),[m.memoizedState,o]},useRef:function(o){var a=Ds();return o={current:o},a.memoizedState=o},useState:qw,useDebugValue:qg,useDeferredValue:function(o){return Ds().memoizedState=o},useTransition:function(){var o=qw(!1),a=o[0];return o=KN.bind(null,o[1]),Ds().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,d){var m=Lt,v=Ds();if(kt){if(d===void 0)throw Error(t(407));d=d()}else{if(d=a(),ln===null)throw Error(t(349));(ya&30)!==0||Bw(m,a,d)}v.memoizedState=d;var T={value:d,getSnapshot:a};return v.queue=T,Kw(zw.bind(null,m,T,o),[o]),m.flags|=2048,wu(9,$w.bind(null,m,T,d,a),void 0,null),d},useId:function(){var o=Ds(),a=ln.identifierPrefix;if(kt){var d=pi,m=fi;d=(m&~(1<<32-$n(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=_u++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=GN++,a=":"+a+"r"+d.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},JN={readContext:Br,useCallback:Zw,useContext:Br,useEffect:Wg,useImperativeHandle:Jw,useInsertionEffect:Qw,useLayoutEffect:Yw,useMemo:e1,useReducer:zg,useRef:Gw,useState:function(){return zg(xu)},useDebugValue:qg,useDeferredValue:function(o){var a=$r();return t1(a,en.memoizedState,o)},useTransition:function(){var o=zg(xu)[0],a=$r().memoizedState;return[o,a]},useMutableSource:Vw,useSyncExternalStore:Uw,useId:n1,unstable_isNewReconciler:!1},ZN={readContext:Br,useCallback:Zw,useContext:Br,useEffect:Wg,useImperativeHandle:Jw,useInsertionEffect:Qw,useLayoutEffect:Yw,useMemo:e1,useReducer:Hg,useRef:Gw,useState:function(){return Hg(xu)},useDebugValue:qg,useDeferredValue:function(o){var a=$r();return en===null?a.memoizedState=o:t1(a,en.memoizedState,o)},useTransition:function(){var o=Hg(xu)[0],a=$r().memoizedState;return[o,a]},useMutableSource:Vw,useSyncExternalStore:Uw,useId:n1,unstable_isNewReconciler:!1};function ds(o,a){if(o&&o.defaultProps){a=he({},a),o=o.defaultProps;for(var d in o)a[d]===void 0&&(a[d]=o[d]);return a}return a}function Gg(o,a,d,m){a=o.memoizedState,d=d(m,a),d=d==null?a:he({},a,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Qh={isMounted:function(o){return(o=o._reactInternals)?ns(o)===o:!1},enqueueSetState:function(o,a,d){o=o._reactInternals;var m=Wn(),v=ho(o),T=gi(m,v);T.payload=a,d!=null&&(T.callback=d),a=ao(o,T,v),a!==null&&(ps(a,o,v,m),Bh(a,o,v))},enqueueReplaceState:function(o,a,d){o=o._reactInternals;var m=Wn(),v=ho(o),T=gi(m,v);T.tag=1,T.payload=a,d!=null&&(T.callback=d),a=ao(o,T,v),a!==null&&(ps(a,o,v,m),Bh(a,o,v))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var d=Wn(),m=ho(o),v=gi(d,m);v.tag=2,a!=null&&(v.callback=a),a=ao(o,v,m),a!==null&&(ps(a,o,m,d),Bh(a,o,m))}};function o1(o,a,d,m,v,T,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,T,j):a.prototype&&a.prototype.isPureReactComponent?!au(d,m)||!au(v,T):!0}function a1(o,a,d){var m=!1,v=so,T=a.contextType;return typeof T=="object"&&T!==null?T=Br(T):(v=Xn(a)?ha:Sn.current,m=a.contextTypes,T=(m=m!=null)?El(o,v):so),a=new a(d,T),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Qh,o.stateNode=a,a._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=T),a}function l1(o,a,d,m){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==o&&Qh.enqueueReplaceState(a,a.state,null)}function Kg(o,a,d,m){var v=o.stateNode;v.props=d,v.state=o.memoizedState,v.refs={},Og(o);var T=a.contextType;typeof T=="object"&&T!==null?v.context=Br(T):(T=Xn(a)?ha:Sn.current,v.context=El(o,T)),v.state=o.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Gg(o,a,T,d),v.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Qh.enqueueReplaceState(v,v.state,null),$h(o,d,v,m),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308)}function Nl(o,a){try{var d="",m=a;do d+=De(m),m=m.return;while(m);var v=d}catch(T){v=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:a,stack:v,digest:null}}function Qg(o,a,d){return{value:o,source:null,stack:d??null,digest:a??null}}function Yg(o,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var eP=typeof WeakMap=="function"?WeakMap:Map;function c1(o,a,d){d=gi(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){nf||(nf=!0,dy=m),Yg(o,a)},d}function u1(o,a,d){d=gi(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=a.value;d.payload=function(){return m(v)},d.callback=function(){Yg(o,a)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Yg(o,a),typeof m!="function"&&(co===null?co=new Set([this]):co.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})}),d}function d1(o,a,d){var m=o.pingCache;if(m===null){m=o.pingCache=new eP;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(d)||(v.add(d),o=pP.bind(null,o,a,d),a.then(o,o))}function h1(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function f1(o,a,d,m,v){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=gi(-1,1),a.tag=2,ao(d,a,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=v,o)}var tP=O.ReactCurrentOwner,Jn=!1;function Hn(o,a,d,m){a.child=o===null?jw(a,null,d,m):Il(a,o.child,d,m)}function p1(o,a,d,m,v){d=d.render;var T=a.ref;return kl(a,v),m=Bg(o,a,d,m,T,v),d=$g(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~v,yi(o,a,v)):(kt&&d&&Sg(a),a.flags|=1,Hn(o,a,m,v),a.child)}function m1(o,a,d,m,v){if(o===null){var T=d.type;return typeof T=="function"&&!vy(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=T,g1(o,a,T,m,v)):(o=cf(d.type,null,m,a,a.mode,v),o.ref=a.ref,o.return=a,a.child=o)}if(T=o.child,(o.lanes&v)===0){var j=T.memoizedProps;if(d=d.compare,d=d!==null?d:au,d(j,m)&&o.ref===a.ref)return yi(o,a,v)}return a.flags|=1,o=po(T,m),o.ref=a.ref,o.return=a,a.child=o}function g1(o,a,d,m,v){if(o!==null){var T=o.memoizedProps;if(au(T,m)&&o.ref===a.ref)if(Jn=!1,a.pendingProps=m=T,(o.lanes&v)!==0)(o.flags&131072)!==0&&(Jn=!0);else return a.lanes=o.lanes,yi(o,a,v)}return Xg(o,a,d,m,v)}function y1(o,a,d){var m=a.pendingProps,v=m.children,T=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(jl,gr),gr|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,vt(jl,gr),gr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=T!==null?T.baseLanes:d,vt(jl,gr),gr|=m}else T!==null?(m=T.baseLanes|d,a.memoizedState=null):m=d,vt(jl,gr),gr|=m;return Hn(o,a,v,d),a.child}function v1(o,a){var d=a.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Xg(o,a,d,m,v){var T=Xn(d)?ha:Sn.current;return T=El(a,T),kl(a,v),d=Bg(o,a,d,m,T,v),m=$g(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~v,yi(o,a,v)):(kt&&m&&Sg(a),a.flags|=1,Hn(o,a,d,v),a.child)}function _1(o,a,d,m,v){if(Xn(d)){var T=!0;jh(a)}else T=!1;if(kl(a,v),a.stateNode===null)Xh(o,a),a1(a,d,m),Kg(a,d,m,v),m=!0;else if(o===null){var j=a.stateNode,$=a.memoizedProps;j.props=$;var H=j.context,Y=d.contextType;typeof Y=="object"&&Y!==null?Y=Br(Y):(Y=Xn(d)?ha:Sn.current,Y=El(a,Y));var oe=d.getDerivedStateFromProps,le=typeof oe=="function"||typeof j.getSnapshotBeforeUpdate=="function";le||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||($!==m||H!==Y)&&l1(a,j,m,Y),oo=!1;var ie=a.memoizedState;j.state=ie,$h(a,m,j,v),H=a.memoizedState,$!==m||ie!==H||Yn.current||oo?(typeof oe=="function"&&(Gg(a,d,oe,m),H=a.memoizedState),($=oo||o1(a,d,$,m,ie,H,Y))?(le||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),j.props=m,j.state=H,j.context=Y,m=$):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{j=a.stateNode,Lw(o,a),$=a.memoizedProps,Y=a.type===a.elementType?$:ds(a.type,$),j.props=Y,le=a.pendingProps,ie=j.context,H=d.contextType,typeof H=="object"&&H!==null?H=Br(H):(H=Xn(d)?ha:Sn.current,H=El(a,H));var me=d.getDerivedStateFromProps;(oe=typeof me=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||($!==le||ie!==H)&&l1(a,j,m,H),oo=!1,ie=a.memoizedState,j.state=ie,$h(a,m,j,v);var _e=a.memoizedState;$!==le||ie!==_e||Yn.current||oo?(typeof me=="function"&&(Gg(a,d,me,m),_e=a.memoizedState),(Y=oo||o1(a,d,Y,m,ie,_e,H)||!1)?(oe||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(m,_e,H),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(m,_e,H)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||$===o.memoizedProps&&ie===o.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&ie===o.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=_e),j.props=m,j.state=_e,j.context=H,m=Y):(typeof j.componentDidUpdate!="function"||$===o.memoizedProps&&ie===o.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&ie===o.memoizedState||(a.flags|=1024),m=!1)}return Jg(o,a,d,m,T,v)}function Jg(o,a,d,m,v,T){v1(o,a);var j=(a.flags&128)!==0;if(!m&&!j)return v&&Sw(a,d,!1),yi(o,a,T);m=a.stateNode,tP.current=a;var $=j&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,o!==null&&j?(a.child=Il(a,o.child,null,T),a.child=Il(a,null,$,T)):Hn(o,a,$,T),a.memoizedState=m.state,v&&Sw(a,d,!0),a.child}function x1(o){var a=o.stateNode;a.pendingContext?bw(o,a.pendingContext,a.pendingContext!==a.context):a.context&&bw(o,a.context,!1),Lg(o,a.containerInfo)}function w1(o,a,d,m,v){return Cl(),Rg(v),a.flags|=256,Hn(o,a,d,m),a.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function ey(o){return{baseLanes:o,cachePool:null,transitions:null}}function b1(o,a,d){var m=a.pendingProps,v=Ot.current,T=!1,j=(a.flags&128)!==0,$;if(($=j)||($=o!==null&&o.memoizedState===null?!1:(v&2)!==0),$?(T=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(v|=1),vt(Ot,v&1),o===null)return Ig(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(j=m.children,o=m.fallback,T?(m=a.mode,T=a.child,j={mode:"hidden",children:j},(m&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=j):T=uf(j,m,0,null),o=ba(o,m,d,null),T.return=a,o.return=a,T.sibling=o,a.child=T,a.child.memoizedState=ey(d),a.memoizedState=Zg,o):ty(a,j));if(v=o.memoizedState,v!==null&&($=v.dehydrated,$!==null))return nP(o,a,j,m,$,v,d);if(T){T=m.fallback,j=a.mode,v=o.child,$=v.sibling;var H={mode:"hidden",children:m.children};return(j&1)===0&&a.child!==v?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=po(v,H),m.subtreeFlags=v.subtreeFlags&14680064),$!==null?T=po($,T):(T=ba(T,j,d,null),T.flags|=2),T.return=a,m.return=a,m.sibling=T,a.child=m,m=T,T=a.child,j=o.child.memoizedState,j=j===null?ey(d):{baseLanes:j.baseLanes|d,cachePool:null,transitions:j.transitions},T.memoizedState=j,T.childLanes=o.childLanes&~d,a.memoizedState=Zg,m}return T=o.child,o=T.sibling,m=po(T,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,o!==null&&(d=a.deletions,d===null?(a.deletions=[o],a.flags|=16):d.push(o)),a.child=m,a.memoizedState=null,m}function ty(o,a){return a=uf({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Yh(o,a,d,m){return m!==null&&Rg(m),Il(a,o.child,null,d),o=ty(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function nP(o,a,d,m,v,T,j){if(d)return a.flags&256?(a.flags&=-257,m=Qg(Error(t(422))),Yh(o,a,j,m)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(T=m.fallback,v=a.mode,m=uf({mode:"visible",children:m.children},v,0,null),T=ba(T,v,j,null),T.flags|=2,m.return=a,T.return=a,m.sibling=T,a.child=m,(a.mode&1)!==0&&Il(a,o.child,null,j),a.child.memoizedState=ey(j),a.memoizedState=Zg,T);if((a.mode&1)===0)return Yh(o,a,j,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var $=m.dgst;return m=$,T=Error(t(419)),m=Qg(T,m,void 0),Yh(o,a,j,m)}if($=(j&o.childLanes)!==0,Jn||$){if(m=ln,m!==null){switch(j&-j){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|j))!==0?0:v,v!==0&&v!==T.retryLane&&(T.retryLane=v,mi(o,v),ps(m,o,v,-1))}return yy(),m=Qg(Error(t(421))),Yh(o,a,j,m)}return v.data==="$?"?(a.flags|=128,a.child=o.child,a=mP.bind(null,o),v._reactRetry=a,null):(o=T.treeContext,mr=no(v.nextSibling),pr=a,kt=!0,us=null,o!==null&&(Vr[Ur++]=fi,Vr[Ur++]=pi,Vr[Ur++]=fa,fi=o.id,pi=o.overflow,fa=a),a=ty(a,m.children),a.flags|=4096,a)}function E1(o,a,d){o.lanes|=a;var m=o.alternate;m!==null&&(m.lanes|=a),Pg(o.return,a,d)}function ny(o,a,d,m,v){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:v}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=v)}function S1(o,a,d){var m=a.pendingProps,v=m.revealOrder,T=m.tail;if(Hn(o,a,m.children,d),m=Ot.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&E1(o,d,a);else if(o.tag===19)E1(o,d,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(vt(Ot,m),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(d=a.child,v=null;d!==null;)o=d.alternate,o!==null&&zh(o)===null&&(v=d),d=d.sibling;d=v,d===null?(v=a.child,a.child=null):(v=d.sibling,d.sibling=null),ny(a,!1,v,d,T);break;case"backwards":for(d=null,v=a.child,a.child=null;v!==null;){if(o=v.alternate,o!==null&&zh(o)===null){a.child=v;break}o=v.sibling,v.sibling=d,d=v,v=o}ny(a,!0,d,null,T);break;case"together":ny(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Xh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function yi(o,a,d){if(o!==null&&(a.dependencies=o.dependencies),va|=a.lanes,(d&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,d=po(o,o.pendingProps),a.child=d,d.return=a;o.sibling!==null;)o=o.sibling,d=d.sibling=po(o,o.pendingProps),d.return=a;d.sibling=null}return a.child}function rP(o,a,d){switch(a.tag){case 3:x1(a),Cl();break;case 5:Fw(a);break;case 1:Xn(a.type)&&jh(a);break;case 4:Lg(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,v=a.memoizedProps.value;vt(Vh,m._currentValue),m._currentValue=v;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(vt(Ot,Ot.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?b1(o,a,d):(vt(Ot,Ot.current&1),o=yi(o,a,d),o!==null?o.sibling:null);vt(Ot,Ot.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(o.flags&128)!==0){if(m)return S1(o,a,d);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),vt(Ot,Ot.current),m)break;return null;case 22:case 23:return a.lanes=0,y1(o,a,d)}return yi(o,a,d)}var T1,ry,C1,I1;T1=function(o,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ry=function(){},C1=function(o,a,d,m){var v=o.memoizedProps;if(v!==m){o=a.stateNode,ga(Ls.current);var T=null;switch(d){case"input":v=Jr(o,v),m=Jr(o,m),T=[];break;case"select":v=he({},v,{value:void 0}),m=he({},m,{value:void 0}),T=[];break;case"textarea":v=ct(o,v),m=ct(o,m),T=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=Ah)}$c(d,m);var j;d=null;for(Y in v)if(!m.hasOwnProperty(Y)&&v.hasOwnProperty(Y)&&v[Y]!=null)if(Y==="style"){var $=v[Y];for(j in $)$.hasOwnProperty(j)&&(d||(d={}),d[j]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?T||(T=[]):(T=T||[]).push(Y,null));for(Y in m){var H=m[Y];if($=v!=null?v[Y]:void 0,m.hasOwnProperty(Y)&&H!==$&&(H!=null||$!=null))if(Y==="style")if($){for(j in $)!$.hasOwnProperty(j)||H&&H.hasOwnProperty(j)||(d||(d={}),d[j]="");for(j in H)H.hasOwnProperty(j)&&$[j]!==H[j]&&(d||(d={}),d[j]=H[j])}else d||(T||(T=[]),T.push(Y,d)),d=H;else Y==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,$=$?$.__html:void 0,H!=null&&$!==H&&(T=T||[]).push(Y,H)):Y==="children"?typeof H!="string"&&typeof H!="number"||(T=T||[]).push(Y,""+H):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(H!=null&&Y==="onScroll"&&xt("scroll",o),T||$===H||(T=[])):(T=T||[]).push(Y,H))}d&&(T=T||[]).push("style",d);var Y=T;(a.updateQueue=Y)&&(a.flags|=4)}},I1=function(o,a,d,m){d!==m&&(a.flags|=4)};function bu(o,a){if(!kt)switch(o.tailMode){case"hidden":a=o.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Cn(o){var a=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(a)for(var v=o.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=m,o.childLanes=d,a}function sP(o,a,d){var m=a.pendingProps;switch(Tg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(a),null;case 1:return Xn(a.type)&&Ph(),Cn(a),null;case 3:return m=a.stateNode,Al(),wt(Yn),wt(Sn),Fg(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Mh(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,us!==null&&(py(us),us=null))),ry(o,a),Cn(a),null;case 5:Dg(a);var v=ga(yu.current);if(d=a.type,o!==null&&a.stateNode!=null)C1(o,a,d,m,v),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return Cn(a),null}if(o=ga(Ls.current),Mh(a)){m=a.stateNode,d=a.type;var T=a.memoizedProps;switch(m[Os]=a,m[hu]=T,o=(a.mode&1)!==0,d){case"dialog":xt("cancel",m),xt("close",m);break;case"iframe":case"object":case"embed":xt("load",m);break;case"video":case"audio":for(v=0;v<cu.length;v++)xt(cu[v],m);break;case"source":xt("error",m);break;case"img":case"image":case"link":xt("error",m),xt("load",m);break;case"details":xt("toggle",m);break;case"input":zi(m,T),xt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!T.multiple},xt("invalid",m);break;case"textarea":It(m,T),xt("invalid",m)}$c(d,T),v=null;for(var j in T)if(T.hasOwnProperty(j)){var $=T[j];j==="children"?typeof $=="string"?m.textContent!==$&&(T.suppressHydrationWarning!==!0&&kh(m.textContent,$,o),v=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(T.suppressHydrationWarning!==!0&&kh(m.textContent,$,o),v=["children",""+$]):s.hasOwnProperty(j)&&$!=null&&j==="onScroll"&&xt("scroll",m)}switch(d){case"input":Nr(m),Ka(m,T,!0);break;case"textarea":Nr(m),Or(m);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(m.onclick=Ah)}m=v,a.updateQueue=m,m!==null&&(a.flags|=4)}else{j=v.nodeType===9?v:v.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=gt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=j.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=j.createElement(d,{is:m.is}):(o=j.createElement(d),d==="select"&&(j=o,m.multiple?j.multiple=!0:m.size&&(j.size=m.size))):o=j.createElementNS(o,d),o[Os]=a,o[hu]=m,T1(o,a,!1,!1),a.stateNode=o;e:{switch(j=zc(d,m),d){case"dialog":xt("cancel",o),xt("close",o),v=m;break;case"iframe":case"object":case"embed":xt("load",o),v=m;break;case"video":case"audio":for(v=0;v<cu.length;v++)xt(cu[v],o);v=m;break;case"source":xt("error",o),v=m;break;case"img":case"image":case"link":xt("error",o),xt("load",o),v=m;break;case"details":xt("toggle",o),v=m;break;case"input":zi(o,m),v=Jr(o,m),xt("invalid",o);break;case"option":v=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},v=he({},m,{value:void 0}),xt("invalid",o);break;case"textarea":It(o,m),v=ct(o,m),xt("invalid",o);break;default:v=m}$c(d,v),$=v;for(T in $)if($.hasOwnProperty(T)){var H=$[T];T==="style"?Uc(o,H):T==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&si(o,H)):T==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&Wi(o,H):typeof H=="number"&&Wi(o,""+H):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(s.hasOwnProperty(T)?H!=null&&T==="onScroll"&&xt("scroll",o):H!=null&&A(o,T,H,j))}switch(d){case"input":Nr(o),Ka(o,m,!1);break;case"textarea":Nr(o),Or(o);break;case"option":m.value!=null&&o.setAttribute("value",""+Je(m.value));break;case"select":o.multiple=!!m.multiple,T=m.value,T!=null?Me(o,!!m.multiple,T,!1):m.defaultValue!=null&&Me(o,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=Ah)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Cn(a),null;case 6:if(o&&a.stateNode!=null)I1(o,a,o.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(d=ga(yu.current),ga(Ls.current),Mh(a)){if(m=a.stateNode,d=a.memoizedProps,m[Os]=a,(T=m.nodeValue!==d)&&(o=pr,o!==null))switch(o.tag){case 3:kh(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&kh(m.nodeValue,d,(o.mode&1)!==0)}T&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Os]=a,a.stateNode=m}return Cn(a),null;case 13:if(wt(Ot),m=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(kt&&mr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Aw(),Cl(),a.flags|=98560,T=!1;else if(T=Mh(a),m!==null&&m.dehydrated!==null){if(o===null){if(!T)throw Error(t(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[Os]=a}else Cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Cn(a),T=!1}else us!==null&&(py(us),us=null),T=!0;if(!T)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Ot.current&1)!==0?tn===0&&(tn=3):yy())),a.updateQueue!==null&&(a.flags|=4),Cn(a),null);case 4:return Al(),ry(o,a),o===null&&uu(a.stateNode.containerInfo),Cn(a),null;case 10:return Ng(a.type._context),Cn(a),null;case 17:return Xn(a.type)&&Ph(),Cn(a),null;case 19:if(wt(Ot),T=a.memoizedState,T===null)return Cn(a),null;if(m=(a.flags&128)!==0,j=T.rendering,j===null)if(m)bu(T,!1);else{if(tn!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(j=zh(o),j!==null){for(a.flags|=128,bu(T,!1),m=j.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)T=d,o=m,T.flags&=14680066,j=T.alternate,j===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=j.childLanes,T.lanes=j.lanes,T.child=j.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=j.memoizedProps,T.memoizedState=j.memoizedState,T.updateQueue=j.updateQueue,T.type=j.type,o=j.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return vt(Ot,Ot.current&1|2),a.child}o=o.sibling}T.tail!==null&&yt()>Ol&&(a.flags|=128,m=!0,bu(T,!1),a.lanes=4194304)}else{if(!m)if(o=zh(j),o!==null){if(a.flags|=128,m=!0,d=o.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),bu(T,!0),T.tail===null&&T.tailMode==="hidden"&&!j.alternate&&!kt)return Cn(a),null}else 2*yt()-T.renderingStartTime>Ol&&d!==1073741824&&(a.flags|=128,m=!0,bu(T,!1),a.lanes=4194304);T.isBackwards?(j.sibling=a.child,a.child=j):(d=T.last,d!==null?d.sibling=j:a.child=j,T.last=j)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=yt(),a.sibling=null,d=Ot.current,vt(Ot,m?d&1|2:d&1),a):(Cn(a),null);case 22:case 23:return gy(),m=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(gr&1073741824)!==0&&(Cn(a),a.subtreeFlags&6&&(a.flags|=8192)):Cn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function iP(o,a){switch(Tg(a),a.tag){case 1:return Xn(a.type)&&Ph(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Al(),wt(Yn),wt(Sn),Fg(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Dg(a),null;case 13:if(wt(Ot),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Cl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return wt(Ot),null;case 4:return Al(),null;case 10:return Ng(a.type._context),null;case 22:case 23:return gy(),null;case 24:return null;default:return null}}var Jh=!1,In=!1,oP=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Pl(o,a){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Mt(o,a,m)}else d.current=null}function sy(o,a,d){try{d()}catch(m){Mt(o,a,m)}}var R1=!1;function aP(o,a){if(gg=Zi,o=ow(),lg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var v=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var j=0,$=-1,H=-1,Y=0,oe=0,le=o,ie=null;t:for(;;){for(var me;le!==d||v!==0&&le.nodeType!==3||($=j+v),le!==T||m!==0&&le.nodeType!==3||(H=j+m),le.nodeType===3&&(j+=le.nodeValue.length),(me=le.firstChild)!==null;)ie=le,le=me;for(;;){if(le===o)break t;if(ie===d&&++Y===v&&($=j),ie===T&&++oe===m&&(H=j),(me=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=me}d=$===-1||H===-1?null:{start:$,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(yg={focusedElem:o,selectionRange:d},Zi=!1,ve=a;ve!==null;)if(a=ve,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ve=o;else for(;ve!==null;){a=ve;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,zt=_e.memoizedState,K=a.stateNode,W=K.getSnapshotBeforeUpdate(a.elementType===a.type?we:ds(a.type,we),zt);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){Mt(a,a.return,ce)}if(o=a.sibling,o!==null){o.return=a.return,ve=o;break}ve=a.return}return _e=R1,R1=!1,_e}function Eu(o,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&o)===o){var T=v.destroy;v.destroy=void 0,T!==void 0&&sy(a,d,T)}v=v.next}while(v!==m)}}function Zh(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function iy(o){var a=o.ref;if(a!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof a=="function"?a(o):a.current=o}}function k1(o){var a=o.alternate;a!==null&&(o.alternate=null,k1(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Os],delete a[hu],delete a[wg],delete a[zN],delete a[HN])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function A1(o){return o.tag===5||o.tag===3||o.tag===4}function N1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||A1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function oy(o,a,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(o,a):d.insertBefore(o,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(o,d)):(a=d,a.appendChild(o)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Ah));else if(m!==4&&(o=o.child,o!==null))for(oy(o,a,d),o=o.sibling;o!==null;)oy(o,a,d),o=o.sibling}function ay(o,a,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,a?d.insertBefore(o,a):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(ay(o,a,d),o=o.sibling;o!==null;)ay(o,a,d),o=o.sibling}var vn=null,hs=!1;function lo(o,a,d){for(d=d.child;d!==null;)P1(o,a,d),d=d.sibling}function P1(o,a,d){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(sa,d)}catch{}switch(d.tag){case 5:In||Pl(d,a);case 6:var m=vn,v=hs;vn=null,lo(o,a,d),vn=m,hs=v,vn!==null&&(hs?(o=vn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):vn.removeChild(d.stateNode));break;case 18:vn!==null&&(hs?(o=vn,d=d.stateNode,o.nodeType===8?xg(o.parentNode,d):o.nodeType===1&&xg(o,d),as(o)):xg(vn,d.stateNode));break;case 4:m=vn,v=hs,vn=d.stateNode.containerInfo,hs=!0,lo(o,a,d),vn=m,hs=v;break;case 0:case 11:case 14:case 15:if(!In&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var T=v,j=T.destroy;T=T.tag,j!==void 0&&((T&2)!==0||(T&4)!==0)&&sy(d,a,j),v=v.next}while(v!==m)}lo(o,a,d);break;case 1:if(!In&&(Pl(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch($){Mt(d,a,$)}lo(o,a,d);break;case 21:lo(o,a,d);break;case 22:d.mode&1?(In=(m=In)||d.memoizedState!==null,lo(o,a,d),In=m):lo(o,a,d);break;default:lo(o,a,d)}}function j1(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new oP),a.forEach(function(m){var v=gP.bind(null,o,m);d.has(m)||(d.add(m),m.then(v,v))})}}function fs(o,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];try{var T=o,j=a,$=j;e:for(;$!==null;){switch($.tag){case 5:vn=$.stateNode,hs=!1;break e;case 3:vn=$.stateNode.containerInfo,hs=!0;break e;case 4:vn=$.stateNode.containerInfo,hs=!0;break e}$=$.return}if(vn===null)throw Error(t(160));P1(T,j,v),vn=null,hs=!1;var H=v.alternate;H!==null&&(H.return=null),v.return=null}catch(Y){Mt(v,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)O1(a,o),a=a.sibling}function O1(o,a){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(fs(a,o),Ms(o),m&4){try{Eu(3,o,o.return),Zh(3,o)}catch(we){Mt(o,o.return,we)}try{Eu(5,o,o.return)}catch(we){Mt(o,o.return,we)}}break;case 1:fs(a,o),Ms(o),m&512&&d!==null&&Pl(d,d.return);break;case 5:if(fs(a,o),Ms(o),m&512&&d!==null&&Pl(d,d.return),o.flags&32){var v=o.stateNode;try{Wi(v,"")}catch(we){Mt(o,o.return,we)}}if(m&4&&(v=o.stateNode,v!=null)){var T=o.memoizedProps,j=d!==null?d.memoizedProps:T,$=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{$==="input"&&T.type==="radio"&&T.name!=null&&Ko(v,T),zc($,j);var Y=zc($,T);for(j=0;j<H.length;j+=2){var oe=H[j],le=H[j+1];oe==="style"?Uc(v,le):oe==="dangerouslySetInnerHTML"?si(v,le):oe==="children"?Wi(v,le):A(v,oe,le,Y)}switch($){case"input":Qo(v,T);break;case"textarea":Zr(v,T);break;case"select":var ie=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!T.multiple;var me=T.value;me!=null?Me(v,!!T.multiple,me,!1):ie!==!!T.multiple&&(T.defaultValue!=null?Me(v,!!T.multiple,T.defaultValue,!0):Me(v,!!T.multiple,T.multiple?[]:"",!1))}v[hu]=T}catch(we){Mt(o,o.return,we)}}break;case 6:if(fs(a,o),Ms(o),m&4){if(o.stateNode===null)throw Error(t(162));v=o.stateNode,T=o.memoizedProps;try{v.nodeValue=T}catch(we){Mt(o,o.return,we)}}break;case 3:if(fs(a,o),Ms(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{as(a.containerInfo)}catch(we){Mt(o,o.return,we)}break;case 4:fs(a,o),Ms(o);break;case 13:fs(a,o),Ms(o),v=o.child,v.flags&8192&&(T=v.memoizedState!==null,v.stateNode.isHidden=T,!T||v.alternate!==null&&v.alternate.memoizedState!==null||(uy=yt())),m&4&&j1(o);break;case 22:if(oe=d!==null&&d.memoizedState!==null,o.mode&1?(In=(Y=In)||oe,fs(a,o),In=Y):fs(a,o),Ms(o),m&8192){if(Y=o.memoizedState!==null,(o.stateNode.isHidden=Y)&&!oe&&(o.mode&1)!==0)for(ve=o,oe=o.child;oe!==null;){for(le=ve=oe;ve!==null;){switch(ie=ve,me=ie.child,ie.tag){case 0:case 11:case 14:case 15:Eu(4,ie,ie.return);break;case 1:Pl(ie,ie.return);var _e=ie.stateNode;if(typeof _e.componentWillUnmount=="function"){m=ie,d=ie.return;try{a=m,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(we){Mt(m,d,we)}}break;case 5:Pl(ie,ie.return);break;case 22:if(ie.memoizedState!==null){M1(le);continue}}me!==null?(me.return=ie,ve=me):M1(le)}oe=oe.sibling}e:for(oe=null,le=o;;){if(le.tag===5){if(oe===null){oe=le;try{v=le.stateNode,Y?(T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):($=le.stateNode,H=le.memoizedProps.style,j=H!=null&&H.hasOwnProperty("display")?H.display:null,$.style.display=Vc("display",j))}catch(we){Mt(o,o.return,we)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(we){Mt(o,o.return,we)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===o)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===o)break e;for(;le.sibling===null;){if(le.return===null||le.return===o)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:fs(a,o),Ms(o),m&4&&j1(o);break;case 21:break;default:fs(a,o),Ms(o)}}function Ms(o){var a=o.flags;if(a&2){try{e:{for(var d=o.return;d!==null;){if(A1(d)){var m=d;break e}d=d.return}throw Error(t(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Wi(v,""),m.flags&=-33);var T=N1(o);ay(o,T,v);break;case 3:case 4:var j=m.stateNode.containerInfo,$=N1(o);oy(o,$,j);break;default:throw Error(t(161))}}catch(H){Mt(o,o.return,H)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function lP(o,a,d){ve=o,L1(o)}function L1(o,a,d){for(var m=(o.mode&1)!==0;ve!==null;){var v=ve,T=v.child;if(v.tag===22&&m){var j=v.memoizedState!==null||Jh;if(!j){var $=v.alternate,H=$!==null&&$.memoizedState!==null||In;$=Jh;var Y=In;if(Jh=j,(In=H)&&!Y)for(ve=v;ve!==null;)j=ve,H=j.child,j.tag===22&&j.memoizedState!==null?F1(v):H!==null?(H.return=j,ve=H):F1(v);for(;T!==null;)ve=T,L1(T),T=T.sibling;ve=v,Jh=$,In=Y}D1(o)}else(v.subtreeFlags&8772)!==0&&T!==null?(T.return=v,ve=T):D1(o)}}function D1(o){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:In||Zh(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!In)if(d===null)m.componentDidMount();else{var v=a.elementType===a.type?d.memoizedProps:ds(a.type,d.memoizedProps);m.componentDidUpdate(v,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&Mw(a,T,m);break;case 3:var j=a.updateQueue;if(j!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Mw(a,j,d)}break;case 5:var $=a.stateNode;if(d===null&&a.flags&4){d=$;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&as(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}In||a.flags&512&&iy(a)}catch(ie){Mt(a,a.return,ie)}}if(a===o){ve=null;break}if(d=a.sibling,d!==null){d.return=a.return,ve=d;break}ve=a.return}}function M1(o){for(;ve!==null;){var a=ve;if(a===o){ve=null;break}var d=a.sibling;if(d!==null){d.return=a.return,ve=d;break}ve=a.return}}function F1(o){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Zh(4,a)}catch(H){Mt(a,d,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var v=a.return;try{m.componentDidMount()}catch(H){Mt(a,v,H)}}var T=a.return;try{iy(a)}catch(H){Mt(a,T,H)}break;case 5:var j=a.return;try{iy(a)}catch(H){Mt(a,j,H)}}}catch(H){Mt(a,a.return,H)}if(a===o){ve=null;break}var $=a.sibling;if($!==null){$.return=a.return,ve=$;break}ve=a.return}}var cP=Math.ceil,ef=O.ReactCurrentDispatcher,ly=O.ReactCurrentOwner,zr=O.ReactCurrentBatchConfig,Ze=0,ln=null,Kt=null,_n=0,gr=0,jl=ro(0),tn=0,Su=null,va=0,tf=0,cy=0,Tu=null,Zn=null,uy=0,Ol=1/0,vi=null,nf=!1,dy=null,co=null,rf=!1,uo=null,sf=0,Cu=0,hy=null,of=-1,af=0;function Wn(){return(Ze&6)!==0?yt():of!==-1?of:of=yt()}function ho(o){return(o.mode&1)===0?1:(Ze&2)!==0&&_n!==0?_n&-_n:qN.transition!==null?(af===0&&(af=oa()),af):(o=ze,o!==0||(o=window.event,o=o===void 0?16:eu(o.type)),o)}function ps(o,a,d,m){if(50<Cu)throw Cu=0,hy=null,Error(t(185));Qi(o,d,m),((Ze&2)===0||o!==ln)&&(o===ln&&((Ze&2)===0&&(tf|=d),tn===4&&fo(o,_n)),er(o,m),d===1&&Ze===0&&(a.mode&1)===0&&(Ol=yt()+500,Oh&&io()))}function er(o,a){var d=o.callbackNode;oi(o,a);var m=ia(o,o===ln?_n:0);if(m===0)d!==null&&Qc(d),o.callbackNode=null,o.callbackPriority=0;else if(a=m&-m,o.callbackPriority!==a){if(d!=null&&Qc(d),a===1)o.tag===0?WN(U1.bind(null,o)):Tw(U1.bind(null,o)),BN(function(){(Ze&6)===0&&io()}),d=null;else{switch(Xi(m)){case 1:d=ra;break;case 4:d=qi;break;case 16:d=Dr;break;case 536870912:d=oh;break;default:d=Dr}d=K1(d,V1.bind(null,o))}o.callbackPriority=a,o.callbackNode=d}}function V1(o,a){if(of=-1,af=0,(Ze&6)!==0)throw Error(t(327));var d=o.callbackNode;if(Ll()&&o.callbackNode!==d)return null;var m=ia(o,o===ln?_n:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||a)a=lf(o,m);else{a=m;var v=Ze;Ze|=2;var T=$1();(ln!==o||_n!==a)&&(vi=null,Ol=yt()+500,xa(o,a));do try{hP();break}catch($){B1(o,$)}while(!0);Ag(),ef.current=T,Ze=v,Kt!==null?a=0:(ln=null,_n=0,a=tn)}if(a!==0){if(a===2&&(v=dr(o),v!==0&&(m=v,a=fy(o,v))),a===1)throw d=Su,xa(o,0),fo(o,m),er(o,yt()),d;if(a===6)fo(o,m);else{if(v=o.current.alternate,(m&30)===0&&!uP(v)&&(a=lf(o,m),a===2&&(T=dr(o),T!==0&&(m=T,a=fy(o,T))),a===1))throw d=Su,xa(o,0),fo(o,m),er(o,yt()),d;switch(o.finishedWork=v,o.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:wa(o,Zn,vi);break;case 3:if(fo(o,m),(m&130023424)===m&&(a=uy+500-yt(),10<a)){if(ia(o,0)!==0)break;if(v=o.suspendedLanes,(v&m)!==m){Wn(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=_g(wa.bind(null,o,Zn,vi),a);break}wa(o,Zn,vi);break;case 4:if(fo(o,m),(m&4194240)===m)break;for(a=o.eventTimes,v=-1;0<m;){var j=31-$n(m);T=1<<j,j=a[j],j>v&&(v=j),m&=~T}if(m=v,m=yt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*cP(m/1960))-m,10<m){o.timeoutHandle=_g(wa.bind(null,o,Zn,vi),m);break}wa(o,Zn,vi);break;case 5:wa(o,Zn,vi);break;default:throw Error(t(329))}}}return er(o,yt()),o.callbackNode===d?V1.bind(null,o):null}function fy(o,a){var d=Tu;return o.current.memoizedState.isDehydrated&&(xa(o,a).flags|=256),o=lf(o,a),o!==2&&(a=Zn,Zn=d,a!==null&&py(a)),o}function py(o){Zn===null?Zn=o:Zn.push.apply(Zn,o)}function uP(o){for(var a=o;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var v=d[m],T=v.getSnapshot;v=v.value;try{if(!cs(T(),v))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fo(o,a){for(a&=~cy,a&=~tf,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var d=31-$n(a),m=1<<d;o[d]=-1,a&=~m}}function U1(o){if((Ze&6)!==0)throw Error(t(327));Ll();var a=ia(o,0);if((a&1)===0)return er(o,yt()),null;var d=lf(o,a);if(o.tag!==0&&d===2){var m=dr(o);m!==0&&(a=m,d=fy(o,m))}if(d===1)throw d=Su,xa(o,0),fo(o,a),er(o,yt()),d;if(d===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,wa(o,Zn,vi),er(o,yt()),null}function my(o,a){var d=Ze;Ze|=1;try{return o(a)}finally{Ze=d,Ze===0&&(Ol=yt()+500,Oh&&io())}}function _a(o){uo!==null&&uo.tag===0&&(Ze&6)===0&&Ll();var a=Ze;Ze|=1;var d=zr.transition,m=ze;try{if(zr.transition=null,ze=1,o)return o()}finally{ze=m,zr.transition=d,Ze=a,(Ze&6)===0&&io()}}function gy(){gr=jl.current,wt(jl)}function xa(o,a){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,UN(d)),Kt!==null)for(d=Kt.return;d!==null;){var m=d;switch(Tg(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ph();break;case 3:Al(),wt(Yn),wt(Sn),Fg();break;case 5:Dg(m);break;case 4:Al();break;case 13:wt(Ot);break;case 19:wt(Ot);break;case 10:Ng(m.type._context);break;case 22:case 23:gy()}d=d.return}if(ln=o,Kt=o=po(o.current,null),_n=gr=a,tn=0,Su=null,cy=tf=va=0,Zn=Tu=null,ma!==null){for(a=0;a<ma.length;a++)if(d=ma[a],m=d.interleaved,m!==null){d.interleaved=null;var v=m.next,T=d.pending;if(T!==null){var j=T.next;T.next=v,m.next=j}d.pending=m}ma=null}return o}function B1(o,a){do{var d=Kt;try{if(Ag(),Hh.current=Kh,Wh){for(var m=Lt.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Wh=!1}if(ya=0,an=en=Lt=null,vu=!1,_u=0,ly.current=null,d===null||d.return===null){tn=1,Su=a,Kt=null;break}e:{var T=o,j=d.return,$=d,H=a;if(a=_n,$.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Y=H,oe=$,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=h1(j);if(me!==null){me.flags&=-257,f1(me,j,$,T,a),me.mode&1&&d1(T,Y,a),a=me,H=Y;var _e=a.updateQueue;if(_e===null){var we=new Set;we.add(H),a.updateQueue=we}else _e.add(H);break e}else{if((a&1)===0){d1(T,Y,a),yy();break e}H=Error(t(426))}}else if(kt&&$.mode&1){var zt=h1(j);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),f1(zt,j,$,T,a),Rg(Nl(H,$));break e}}T=H=Nl(H,$),tn!==4&&(tn=2),Tu===null?Tu=[T]:Tu.push(T),T=j;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var K=c1(T,H,a);Dw(T,K);break e;case 1:$=H;var W=T.type,Q=T.stateNode;if((T.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(co===null||!co.has(Q)))){T.flags|=65536,a&=-a,T.lanes|=a;var ce=u1(T,$,a);Dw(T,ce);break e}}T=T.return}while(T!==null)}H1(d)}catch(be){a=be,Kt===d&&d!==null&&(Kt=d=d.return);continue}break}while(!0)}function $1(){var o=ef.current;return ef.current=Kh,o===null?Kh:o}function yy(){(tn===0||tn===3||tn===2)&&(tn=4),ln===null||(va&268435455)===0&&(tf&268435455)===0||fo(ln,_n)}function lf(o,a){var d=Ze;Ze|=2;var m=$1();(ln!==o||_n!==a)&&(vi=null,xa(o,a));do try{dP();break}catch(v){B1(o,v)}while(!0);if(Ag(),Ze=d,ef.current=m,Kt!==null)throw Error(t(261));return ln=null,_n=0,tn}function dP(){for(;Kt!==null;)z1(Kt)}function hP(){for(;Kt!==null&&!sh();)z1(Kt)}function z1(o){var a=G1(o.alternate,o,gr);o.memoizedProps=o.pendingProps,a===null?H1(o):Kt=a,ly.current=null}function H1(o){var a=o;do{var d=a.alternate;if(o=a.return,(a.flags&32768)===0){if(d=sP(d,a,gr),d!==null){Kt=d;return}}else{if(d=iP(d,a),d!==null){d.flags&=32767,Kt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{tn=6,Kt=null;return}}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=o}while(a!==null);tn===0&&(tn=5)}function wa(o,a,d){var m=ze,v=zr.transition;try{zr.transition=null,ze=1,fP(o,a,d,m)}finally{zr.transition=v,ze=m}return null}function fP(o,a,d,m){do Ll();while(uo!==null);if((Ze&6)!==0)throw Error(t(327));d=o.finishedWork;var v=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(ft(o,T),o===ln&&(Kt=ln=null,_n=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||rf||(rf=!0,K1(Dr,function(){return Ll(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=zr.transition,zr.transition=null;var j=ze;ze=1;var $=Ze;Ze|=4,ly.current=null,aP(o,d),O1(d,o),jN(yg),Zi=!!gg,yg=gg=null,o.current=d,lP(d),eg(),Ze=$,ze=j,zr.transition=T}else o.current=d;if(rf&&(rf=!1,uo=o,sf=v),T=o.pendingLanes,T===0&&(co=null),ah(d.stateNode),er(o,yt()),a!==null)for(m=o.onRecoverableError,d=0;d<a.length;d++)v=a[d],m(v.value,{componentStack:v.stack,digest:v.digest});if(nf)throw nf=!1,o=dy,dy=null,o;return(sf&1)!==0&&o.tag!==0&&Ll(),T=o.pendingLanes,(T&1)!==0?o===hy?Cu++:(Cu=0,hy=o):Cu=0,io(),null}function Ll(){if(uo!==null){var o=Xi(sf),a=zr.transition,d=ze;try{if(zr.transition=null,ze=16>o?16:o,uo===null)var m=!1;else{if(o=uo,uo=null,sf=0,(Ze&6)!==0)throw Error(t(331));var v=Ze;for(Ze|=4,ve=o.current;ve!==null;){var T=ve,j=T.child;if((ve.flags&16)!==0){var $=T.deletions;if($!==null){for(var H=0;H<$.length;H++){var Y=$[H];for(ve=Y;ve!==null;){var oe=ve;switch(oe.tag){case 0:case 11:case 15:Eu(8,oe,T)}var le=oe.child;if(le!==null)le.return=oe,ve=le;else for(;ve!==null;){oe=ve;var ie=oe.sibling,me=oe.return;if(k1(oe),oe===Y){ve=null;break}if(ie!==null){ie.return=me,ve=ie;break}ve=me}}}var _e=T.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var zt=we.sibling;we.sibling=null,we=zt}while(we!==null)}}ve=T}}if((T.subtreeFlags&2064)!==0&&j!==null)j.return=T,ve=j;else e:for(;ve!==null;){if(T=ve,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Eu(9,T,T.return)}var K=T.sibling;if(K!==null){K.return=T.return,ve=K;break e}ve=T.return}}var W=o.current;for(ve=W;ve!==null;){j=ve;var Q=j.child;if((j.subtreeFlags&2064)!==0&&Q!==null)Q.return=j,ve=Q;else e:for(j=W;ve!==null;){if($=ve,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Zh(9,$)}}catch(be){Mt($,$.return,be)}if($===j){ve=null;break e}var ce=$.sibling;if(ce!==null){ce.return=$.return,ve=ce;break e}ve=$.return}}if(Ze=v,io(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(sa,o)}catch{}m=!0}return m}finally{ze=d,zr.transition=a}}return!1}function W1(o,a,d){a=Nl(d,a),a=c1(o,a,1),o=ao(o,a,1),a=Wn(),o!==null&&(Qi(o,1,a),er(o,a))}function Mt(o,a,d){if(o.tag===3)W1(o,o,d);else for(;a!==null;){if(a.tag===3){W1(a,o,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(co===null||!co.has(m))){o=Nl(d,o),o=u1(a,o,1),a=ao(a,o,1),o=Wn(),a!==null&&(Qi(a,1,o),er(a,o));break}}a=a.return}}function pP(o,a,d){var m=o.pingCache;m!==null&&m.delete(a),a=Wn(),o.pingedLanes|=o.suspendedLanes&d,ln===o&&(_n&d)===d&&(tn===4||tn===3&&(_n&130023424)===_n&&500>yt()-uy?xa(o,0):cy|=d),er(o,a)}function q1(o,a){a===0&&((o.mode&1)===0?a=1:(a=sl,sl<<=1,(sl&130023424)===0&&(sl=4194304)));var d=Wn();o=mi(o,a),o!==null&&(Qi(o,a,d),er(o,d))}function mP(o){var a=o.memoizedState,d=0;a!==null&&(d=a.retryLane),q1(o,d)}function gP(o,a){var d=0;switch(o.tag){case 13:var m=o.stateNode,v=o.memoizedState;v!==null&&(d=v.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),q1(o,d)}var G1;G1=function(o,a,d){if(o!==null)if(o.memoizedProps!==a.pendingProps||Yn.current)Jn=!0;else{if((o.lanes&d)===0&&(a.flags&128)===0)return Jn=!1,rP(o,a,d);Jn=(o.flags&131072)!==0}else Jn=!1,kt&&(a.flags&1048576)!==0&&Cw(a,Dh,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Xh(o,a),o=a.pendingProps;var v=El(a,Sn.current);kl(a,d),v=Bg(null,a,m,o,v,d);var T=$g();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Xn(m)?(T=!0,jh(a)):T=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Og(a),v.updater=Qh,a.stateNode=v,v._reactInternals=a,Kg(a,m,o,d),a=Jg(null,a,m,!0,T,d)):(a.tag=0,kt&&T&&Sg(a),Hn(null,a,v,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Xh(o,a),o=a.pendingProps,v=m._init,m=v(m._payload),a.type=m,v=a.tag=vP(m),o=ds(m,o),v){case 0:a=Xg(null,a,m,o,d);break e;case 1:a=_1(null,a,m,o,d);break e;case 11:a=p1(null,a,m,o,d);break e;case 14:a=m1(null,a,m,ds(m.type,o),d);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ds(m,v),Xg(o,a,m,v,d);case 1:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ds(m,v),_1(o,a,m,v,d);case 3:e:{if(x1(a),o===null)throw Error(t(387));m=a.pendingProps,T=a.memoizedState,v=T.element,Lw(o,a),$h(a,m,null,d);var j=a.memoizedState;if(m=j.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){v=Nl(Error(t(423)),a),a=w1(o,a,m,d,v);break e}else if(m!==v){v=Nl(Error(t(424)),a),a=w1(o,a,m,d,v);break e}else for(mr=no(a.stateNode.containerInfo.firstChild),pr=a,kt=!0,us=null,d=jw(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Cl(),m===v){a=yi(o,a,d);break e}Hn(o,a,m,d)}a=a.child}return a;case 5:return Fw(a),o===null&&Ig(a),m=a.type,v=a.pendingProps,T=o!==null?o.memoizedProps:null,j=v.children,vg(m,v)?j=null:T!==null&&vg(m,T)&&(a.flags|=32),v1(o,a),Hn(o,a,j,d),a.child;case 6:return o===null&&Ig(a),null;case 13:return b1(o,a,d);case 4:return Lg(a,a.stateNode.containerInfo),m=a.pendingProps,o===null?a.child=Il(a,null,m,d):Hn(o,a,m,d),a.child;case 11:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ds(m,v),p1(o,a,m,v,d);case 7:return Hn(o,a,a.pendingProps,d),a.child;case 8:return Hn(o,a,a.pendingProps.children,d),a.child;case 12:return Hn(o,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,v=a.pendingProps,T=a.memoizedProps,j=v.value,vt(Vh,m._currentValue),m._currentValue=j,T!==null)if(cs(T.value,j)){if(T.children===v.children&&!Yn.current){a=yi(o,a,d);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var $=T.dependencies;if($!==null){j=T.child;for(var H=$.firstContext;H!==null;){if(H.context===m){if(T.tag===1){H=gi(-1,d&-d),H.tag=2;var Y=T.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?H.next=H:(H.next=oe.next,oe.next=H),Y.pending=H}}T.lanes|=d,H=T.alternate,H!==null&&(H.lanes|=d),Pg(T.return,d,a),$.lanes|=d;break}H=H.next}}else if(T.tag===10)j=T.type===a.type?null:T.child;else if(T.tag===18){if(j=T.return,j===null)throw Error(t(341));j.lanes|=d,$=j.alternate,$!==null&&($.lanes|=d),Pg(j,d,a),j=T.sibling}else j=T.child;if(j!==null)j.return=T;else for(j=T;j!==null;){if(j===a){j=null;break}if(T=j.sibling,T!==null){T.return=j.return,j=T;break}j=j.return}T=j}Hn(o,a,v.children,d),a=a.child}return a;case 9:return v=a.type,m=a.pendingProps.children,kl(a,d),v=Br(v),m=m(v),a.flags|=1,Hn(o,a,m,d),a.child;case 14:return m=a.type,v=ds(m,a.pendingProps),v=ds(m.type,v),m1(o,a,m,v,d);case 15:return g1(o,a,a.type,a.pendingProps,d);case 17:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:ds(m,v),Xh(o,a),a.tag=1,Xn(m)?(o=!0,jh(a)):o=!1,kl(a,d),a1(a,m,v),Kg(a,m,v,d),Jg(null,a,m,!0,o,d);case 19:return S1(o,a,d);case 22:return y1(o,a,d)}throw Error(t(156,a.tag))};function K1(o,a){return nl(o,a)}function yP(o,a,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(o,a,d,m){return new yP(o,a,d,m)}function vy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function vP(o){if(typeof o=="function")return vy(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===de)return 14}return 2}function po(o,a){var d=o.alternate;return d===null?(d=Hr(o.tag,a,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=a,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,a=o.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function cf(o,a,d,m,v,T){var j=2;if(m=o,typeof o=="function")vy(o)&&(j=1);else if(typeof o=="string")j=5;else e:switch(o){case M:return ba(d.children,v,T,a);case L:j=8,v|=8;break;case N:return o=Hr(12,d,a,v|2),o.elementType=N,o.lanes=T,o;case B:return o=Hr(13,d,a,v),o.elementType=B,o.lanes=T,o;case te:return o=Hr(19,d,a,v),o.elementType=te,o.lanes=T,o;case ke:return uf(d,v,T,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case b:j=10;break e;case D:j=9;break e;case V:j=11;break e;case de:j=14;break e;case Ie:j=16,m=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Hr(j,d,a,v),a.elementType=o,a.type=m,a.lanes=T,a}function ba(o,a,d,m){return o=Hr(7,o,m,a),o.lanes=d,o}function uf(o,a,d,m){return o=Hr(22,o,m,a),o.elementType=ke,o.lanes=d,o.stateNode={isHidden:!1},o}function _y(o,a,d){return o=Hr(6,o,null,a),o.lanes=d,o}function xy(o,a,d){return a=Hr(4,o.children!==null?o.children:[],o.key,a),a.lanes=d,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function _P(o,a,d,m,v){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function wy(o,a,d,m,v,T,j,$,H){return o=new _P(o,a,d,$,H),a===1?(a=1,T===!0&&(a|=8)):a=0,T=Hr(3,null,null,a),o.current=T,T.stateNode=o,T.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Og(T),o}function xP(o,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:m==null?null:""+m,children:o,containerInfo:a,implementation:d}}function Q1(o){if(!o)return so;o=o._reactInternals;e:{if(ns(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var d=o.type;if(Xn(d))return Ew(o,d,a)}return a}function Y1(o,a,d,m,v,T,j,$,H){return o=wy(d,m,!0,o,v,T,j,$,H),o.context=Q1(null),d=o.current,m=Wn(),v=ho(d),T=gi(m,v),T.callback=a??null,ao(d,T,v),o.current.lanes=v,Qi(o,v,m),er(o,m),o}function df(o,a,d,m){var v=a.current,T=Wn(),j=ho(v);return d=Q1(d),a.context===null?a.context=d:a.pendingContext=d,a=gi(T,j),a.payload={element:o},m=m===void 0?null:m,m!==null&&(a.callback=m),o=ao(v,a,j),o!==null&&(ps(o,v,j,T),Bh(o,v,j)),j}function hf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function X1(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<a?d:a}}function by(o,a){X1(o,a),(o=o.alternate)&&X1(o,a)}function wP(){return null}var J1=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ey(o){this._internalRoot=o}ff.prototype.render=Ey.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));df(o,a,null,null)},ff.prototype.unmount=Ey.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;_a(function(){df(null,o,null,null)}),a[di]=null}};function ff(o){this._internalRoot=o}ff.prototype.unstable_scheduleHydration=function(o){if(o){var a=hh();o={blockedOn:null,target:o,priority:a};for(var d=0;d<As.length&&a!==0&&a<As[d].priority;d++);As.splice(d,0,o),d===0&&mh(o)}};function Sy(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Z1(){}function bP(o,a,d,m,v){if(v){if(typeof m=="function"){var T=m;m=function(){var Y=hf(j);T.call(Y)}}var j=Y1(a,m,o,0,null,!1,!1,"",Z1);return o._reactRootContainer=j,o[di]=j.current,uu(o.nodeType===8?o.parentNode:o),_a(),j}for(;v=o.lastChild;)o.removeChild(v);if(typeof m=="function"){var $=m;m=function(){var Y=hf(H);$.call(Y)}}var H=wy(o,0,!1,null,null,!1,!1,"",Z1);return o._reactRootContainer=H,o[di]=H.current,uu(o.nodeType===8?o.parentNode:o),_a(function(){df(a,H,d,m)}),H}function mf(o,a,d,m,v){var T=d._reactRootContainer;if(T){var j=T;if(typeof v=="function"){var $=v;v=function(){var H=hf(j);$.call(H)}}df(a,j,o,v)}else j=bP(d,a,o,v,m);return hf(j)}uh=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var d=Gi(a.pendingLanes);d!==0&&(Yi(a,d|1),er(a,yt()),(Ze&6)===0&&(Ol=yt()+500,io()))}break;case 13:_a(function(){var m=mi(o,1);if(m!==null){var v=Wn();ps(m,o,1,v)}}),by(o,1)}},il=function(o){if(o.tag===13){var a=mi(o,134217728);if(a!==null){var d=Wn();ps(a,o,134217728,d)}by(o,134217728)}},dh=function(o){if(o.tag===13){var a=ho(o),d=mi(o,a);if(d!==null){var m=Wn();ps(d,o,a,m)}by(o,a)}},hh=function(){return ze},fh=function(o,a){var d=ze;try{return ze=o,a()}finally{ze=d}},Ya=function(o,a,d){switch(a){case"input":if(Qo(o,d),a=d.name,d.type==="radio"&&a!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==o&&m.form===o.form){var v=Nh(m);if(!v)throw Error(t(90));Pr(m),Qo(m,v)}}}break;case"textarea":Zr(o,d);break;case"select":a=d.value,a!=null&&Me(o,!!d.multiple,a,!1)}},Zo=my,Wc=_a;var EP={usingClientEntryPoint:!1,Events:[fu,wl,Nh,Rs,Hc,my]},Iu={findFiberByHostInstance:da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SP={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Kc(o),o===null?null:o.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance||wP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{sa=gf.inject(SP),ur=gf}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EP,tr.createPortal=function(o,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sy(a))throw Error(t(200));return xP(o,a,null,d)},tr.createRoot=function(o,a){if(!Sy(o))throw Error(t(299));var d=!1,m="",v=J1;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=wy(o,1,!1,null,null,d,!1,m,v),o[di]=a.current,uu(o.nodeType===8?o.parentNode:o),new Ey(a)},tr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Kc(a),o=o===null?null:o.stateNode,o},tr.flushSync=function(o){return _a(o)},tr.hydrate=function(o,a,d){if(!pf(a))throw Error(t(200));return mf(null,o,a,!0,d)},tr.hydrateRoot=function(o,a,d){if(!Sy(o))throw Error(t(405));var m=d!=null&&d.hydratedSources||null,v=!1,T="",j=J1;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),a=Y1(a,null,o,1,d??null,v,!1,T,j),o[di]=a.current,uu(o),m)for(o=0;o<m.length;o++)d=m[o],v=d._getVersion,v=v(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,v]:a.mutableSourceEagerHydrationData.push(d,v);return new ff(a)},tr.render=function(o,a,d){if(!pf(a))throw Error(t(200));return mf(null,o,a,!1,d)},tr.unmountComponentAtNode=function(o){if(!pf(o))throw Error(t(40));return o._reactRootContainer?(_a(function(){mf(null,null,o,!1,function(){o._reactRootContainer=null,o[di]=null})}),!0):!1},tr.unstable_batchedUpdates=my,tr.unstable_renderSubtreeIntoContainer=function(o,a,d,m){if(!pf(d))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return mf(o,a,d,!1,m)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var lb;function UT(){if(lb)return Iy.exports;lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Iy.exports=LP(),Iy.exports}var cb;function DP(){if(cb)return yf;cb=1;var n=UT();return yf.createRoot=n.createRoot,yf.hydrateRoot=n.hydrateRoot,yf}var MP=DP(),ku={},ub;function FP(){if(ub)return ku;ub=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.parse=l,ku.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,R){const I=new i,x=w.length;if(x<2)return I;const _=(R==null?void 0:R.decode)||g;let E=0;do{const P=w.indexOf("=",E);if(P===-1)break;const A=w.indexOf(";",E),O=A===-1?x:A;if(P>O){E=w.lastIndexOf(";",P-1)+1;continue}const U=c(w,E,P),z=h(w,P,U),M=w.slice(U,z);if(I[M]===void 0){let L=c(w,P+1,O),N=h(w,O,L);const b=_(w.slice(L,N));I[M]=b}E=O+1}while(E<x);return I}function c(w,R,I){do{const x=w.charCodeAt(R);if(x!==32&&x!==9)return R}while(++R<I);return I}function h(w,R,I){for(;R>I;){const x=w.charCodeAt(--R);if(x!==32&&x!==9)return R+1}return I}function f(w,R,I){const x=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const _=x(R);if(!e.test(_))throw new TypeError(`argument val is invalid: ${R}`);let E=w+"="+_;if(!I)return E;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);E+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);E+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);E+="; Path="+I.path}if(I.expires){if(!y(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);E+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(E+="; HttpOnly"),I.secure&&(E+="; Secure"),I.partitioned&&(E+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return E}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return s.call(w)==="[object Date]"}return ku}FP();var db="popstate";function VP(n={}){function e(r,s){let{pathname:i,search:l,hash:c}=r.location;return _0("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:cd(s)}return BP(e,t,null,n)}function jt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ws(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UP(){return Math.random().toString(36).substring(2,10)}function hb(n,e){return{usr:n.state,key:n.key,idx:e}}function _0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yc(e):e,state:t,key:e&&e.key||r||UP()}}function cd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function BP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,c="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let _=g(),E=_==null?null:_-f;f=_,h&&h({action:c,location:x.location,delta:E})}function w(_,E){c="PUSH";let P=_0(x.location,_,E);f=g()+1;let A=hb(P,f),O=x.createHref(P);try{l.pushState(A,"",O)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(O)}i&&h&&h({action:c,location:x.location,delta:1})}function R(_,E){c="REPLACE";let P=_0(x.location,_,E);f=g();let A=hb(P,f),O=x.createHref(P);l.replaceState(A,"",O),i&&h&&h({action:c,location:x.location,delta:0})}function I(_){let E=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof _=="string"?_:cd(_);return P=P.replace(/ $/,"%20"),jt(E,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,E)}let x={get action(){return c},get location(){return n(s,l)},listen(_){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(db,y),h=_,()=>{s.removeEventListener(db,y),h=null}},createHref(_){return e(s,_)},createURL:I,encodeLocation(_){let E=I(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:R,go(_){return l.go(_)}};return x}function BT(n,e,t="/"){return $P(n,e,t,!1)}function $P(n,e,t,r){let s=typeof e=="string"?yc(e):e,i=ki(s.pathname||"/",t);if(i==null)return null;let l=$T(n);zP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=ej(i);c=JP(l[h],f,r)}return c}function $T(n,e=[],t=[],r=""){let s=(i,l,c)=>{let h={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};h.relativePath.startsWith("/")&&(jt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=Ci([r,h.relativePath]),g=t.concat(h);i.children&&i.children.length>0&&(jt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$T(i.children,e,g,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:YP(f,i.index),routesMeta:g})};return n.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let h of zT(i.path))s(i,l,h)}),e}function zT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=zT(r.join("/")),c=[];return c.push(...l.map(h=>h===""?i:[i,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function zP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var HP=/^:[\w-]+$/,WP=3,qP=2,GP=1,KP=10,QP=-2,fb=n=>n==="*";function YP(n,e){let t=n.split("/"),r=t.length;return t.some(fb)&&(r+=QP),e&&(r+=qP),t.filter(s=>!fb(s)).reduce((s,i)=>s+(HP.test(i)?WP:i===""?GP:KP),r)}function XP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function JP(n,e,t=!1){let{routesMeta:r}=n,s={},i="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],f=c===r.length-1,g=i==="/"?e:e.slice(i.length)||"/",y=rp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),w=h.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=rp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Ci([i,y.pathname]),pathnameBase:sj(Ci([i,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(i=Ci([i,y.pathnameBase]))}return l}function rp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:y},w)=>{if(g==="*"){let I=c[w]||"";l=i.slice(0,i.length-I.length).replace(/(.)\/+$/,"$1")}const R=c[w];return y&&!R?f[g]=void 0:f[g]=(R||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:n}}function ZP(n,e=!1,t=!0){ws(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ej(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ws(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ki(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function tj(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?yc(n):n;return{pathname:t?t.startsWith("/")?t:nj(t,e):e,search:ij(r),hash:oj(s)}}function nj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ay(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jv(n){let e=rj(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ov(n,e,t,r=!1){let s;typeof n=="string"?s=yc(n):(s={...n},jt(!s.pathname||!s.pathname.includes("?"),Ay("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),Ay("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),Ay("#","search","hash",s)));let i=n===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}c=y>=0?e[y]:"/"}let h=tj(s,c),f=l&&l!=="/"&&l.endsWith("/"),g=(i||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var Ci=n=>n.join("/").replace(/\/\/+/g,"/"),sj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ij=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function aj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var lj=["GET",...HT];new Set(lj);var vc=C.createContext(null);vc.displayName="DataRouter";var zp=C.createContext(null);zp.displayName="DataRouterState";var WT=C.createContext({isTransitioning:!1});WT.displayName="ViewTransition";var cj=C.createContext(new Map);cj.displayName="Fetchers";var uj=C.createContext(null);uj.displayName="Await";var Ss=C.createContext(null);Ss.displayName="Navigation";var kd=C.createContext(null);kd.displayName="Location";var Ts=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var Lv=C.createContext(null);Lv.displayName="RouteError";function dj(n,{relative:e}={}){jt(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(Ss),{hash:s,pathname:i,search:l}=Ad(n,{relative:e}),c=i;return t!=="/"&&(c=i==="/"?t:Ci([t,i])),r.createHref({pathname:c,search:l,hash:s})}function _c(){return C.useContext(kd)!=null}function Ui(){return jt(_c(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(kd).location}var qT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(n){C.useContext(Ss).static||C.useLayoutEffect(n)}function Ye(){let{isDataRoute:n}=C.useContext(Ts);return n?Sj():hj()}function hj(){jt(_c(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(vc),{basename:e,navigator:t}=C.useContext(Ss),{matches:r}=C.useContext(Ts),{pathname:s}=Ui(),i=JSON.stringify(jv(r)),l=C.useRef(!1);return GT(()=>{l.current=!0}),C.useCallback((h,f={})=>{if(ws(l.current,qT),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Ov(h,JSON.parse(i),s,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ci([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,i,s,n])}C.createContext(null);function xc(){let{matches:n}=C.useContext(Ts),e=n[n.length-1];return e?e.params:{}}function Ad(n,{relative:e}={}){let{matches:t}=C.useContext(Ts),{pathname:r}=Ui(),s=JSON.stringify(jv(t));return C.useMemo(()=>Ov(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function fj(n,e){return KT(n,e)}function KT(n,e,t,r){var P;jt(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=C.useContext(Ss),{matches:l}=C.useContext(Ts),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let A=y&&y.path||"";QT(f,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let w=Ui(),R;if(e){let A=typeof e=="string"?yc(e):e;jt(g==="/"||((P=A.pathname)==null?void 0:P.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),R=A}else R=w;let I=R.pathname||"/",x=I;if(g!=="/"){let A=g.replace(/^\//,"").split("/");x="/"+I.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=!i&&t&&t.matches&&t.matches.length>0?t.matches:BT(n,{pathname:x});ws(y||_!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ws(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=vj(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Ci([g,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:Ci([g,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,t,r);return e&&E?C.createElement(kd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},E):E}function pj(){let n=Ej(),e=aj(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:s},t):null,l)}var mj=C.createElement(pj,null),gj=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Ts.Provider,{value:this.props.routeContext},C.createElement(Lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yj({routeContext:n,match:e,children:t}){let r=C.useContext(vc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ts.Provider,{value:n},t)}function vj(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,i=t==null?void 0:t.errors;if(i!=null){let h=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);jt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:g,errors:y}=t,w=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,g)=>{let y,w=!1,R=null,I=null;t&&(y=i&&f.route.id?i[f.route.id]:void 0,R=f.route.errorElement||mj,l&&(c<0&&g===0?(QT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):c===g&&(w=!0,I=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),_=()=>{let E;return y?E=R:w?E=I:f.route.Component?E=C.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,C.createElement(yj,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?C.createElement(gj,{location:t.location,revalidation:t.revalidation,component:R,error:y,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}function Dv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _j(n){let e=C.useContext(vc);return jt(e,Dv(n)),e}function xj(n){let e=C.useContext(zp);return jt(e,Dv(n)),e}function wj(n){let e=C.useContext(Ts);return jt(e,Dv(n)),e}function Mv(n){let e=wj(n),t=e.matches[e.matches.length-1];return jt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bj(){return Mv("useRouteId")}function Ej(){var r;let n=C.useContext(Lv),e=xj("useRouteError"),t=Mv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Sj(){let{router:n}=_j("useNavigate"),e=Mv("useNavigate"),t=C.useRef(!1);return GT(()=>{t.current=!0}),C.useCallback(async(s,i={})=>{ws(t.current,qT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...i}))},[n,e])}var pb={};function QT(n,e,t){!e&&!pb[n]&&(pb[n]=!0,ws(!1,t))}C.memo(Tj);function Tj({routes:n,future:e,state:t}){return KT(n,void 0,t,e)}function YT({to:n,replace:e,state:t,relative:r}){jt(_c(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(Ss);ws(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(Ts),{pathname:l}=Ui(),c=Ye(),h=Ov(n,jv(i),l,r==="path"),f=JSON.stringify(h);return C.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function Ue(n){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cj({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:i=!1}){jt(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof t=="string"&&(t=yc(t));let{pathname:h="/",search:f="",hash:g="",state:y=null,key:w="default"}=t,R=C.useMemo(()=>{let I=ki(h,l);return I==null?null:{location:{pathname:I,search:f,hash:g,state:y,key:w},navigationType:r}},[l,h,f,g,y,w,r]);return ws(R!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:C.createElement(Ss.Provider,{value:c},C.createElement(kd.Provider,{children:e,value:R}))}function Ij({children:n,location:e}){return fj(x0(n),e)}function x0(n,e=[]){let t=[];return C.Children.forEach(n,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){t.push.apply(t,x0(r.props.children,i));return}jt(r.type===Ue,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=x0(r.props.children,i)),t.push(l)}),t}var Of="get",Lf="application/x-www-form-urlencoded";function Hp(n){return n!=null&&typeof n.tagName=="string"}function Rj(n){return Hp(n)&&n.tagName.toLowerCase()==="button"}function kj(n){return Hp(n)&&n.tagName.toLowerCase()==="form"}function Aj(n){return Hp(n)&&n.tagName.toLowerCase()==="input"}function Nj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Pj(n,e){return n.button===0&&(!e||e==="_self")&&!Nj(n)}var vf=null;function jj(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch{vf=!0}return vf}var Oj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ny(n){return n!=null&&!Oj.has(n)?(ws(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lf}"`),null):n}function Lj(n,e){let t,r,s,i,l;if(kj(n)){let c=n.getAttribute("action");r=c?ki(c,e):null,t=n.getAttribute("method")||Of,s=Ny(n.getAttribute("enctype"))||Lf,i=new FormData(n)}else if(Rj(n)||Aj(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?ki(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Of,s=Ny(n.getAttribute("formenctype"))||Ny(c.getAttribute("enctype"))||Lf,i=new FormData(c,n),!jj()){let{name:f,type:g,value:y}=n;if(g==="image"){let w=f?`${f}.`:"";i.append(`${w}x`,"0"),i.append(`${w}y`,"0")}else f&&i.append(f,y)}}else{if(Hp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Of,r=null,s=Lf,l=n}return i&&s==="text/plain"&&(l=i,i=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:i,body:l}}function Fv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Dj(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Fj(n,e,t){let r=await Promise.all(n.map(async s=>{let i=e.routes[s.route.id];if(i){let l=await Dj(i,t);return l.links?l.links():[]}return[]}));return $j(r.flat(1).filter(Mj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function mb(n,e,t,r,s,i){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var g;return t[f].pathname!==h.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return i==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):i==="data"?e.filter((h,f)=>{var y;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Vj(n,e,{includeHydrateFallback:t}={}){return Uj(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Uj(n){return[...new Set(n)]}function Bj(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function $j(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let i=JSON.stringify(Bj(s));return t.has(i)||(t.add(i),r.push({key:i,link:s})),r},[])}var zj=new Set([100,101,204,205]);function Hj(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ki(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function XT(){let n=C.useContext(vc);return Fv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Wj(){let n=C.useContext(zp);return Fv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vv=C.createContext(void 0);Vv.displayName="FrameworkContext";function JT(){let n=C.useContext(Vv);return Fv(n,"You must render this element inside a <HydratedRouter> element"),n}function qj(n,e){let t=C.useContext(Vv),[r,s]=C.useState(!1),[i,l]=C.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=e,w=C.useRef(null);C.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=E=>{E.forEach(P=>{l(P.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[n]),C.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let R=()=>{s(!0)},I=()=>{s(!1),l(!1)};return t?n!=="intent"?[i,w,{}]:[i,w,{onFocus:Au(c,R),onBlur:Au(h,I),onMouseEnter:Au(f,R),onMouseLeave:Au(g,I),onTouchStart:Au(y,R)}]:[!1,w,{}]}function Au(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Gj({page:n,...e}){let{router:t}=XT(),r=C.useMemo(()=>BT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(Qj,{page:n,matches:r,...e}):null}function Kj(n){let{manifest:e,routeModules:t}=JT(),[r,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return Fj(n,e,t).then(l=>{i||s(l)}),()=>{i=!0}},[n,e,t]),r}function Qj({page:n,matches:e,...t}){let r=Ui(),{manifest:s,routeModules:i}=JT(),{basename:l}=XT(),{loaderData:c,matches:h}=Wj(),f=C.useMemo(()=>mb(n,e,h,s,r,"data"),[n,e,h,s,r]),g=C.useMemo(()=>mb(n,e,h,s,r,"assets"),[n,e,h,s,r]),y=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,x=!1;if(e.forEach(E=>{var A;let P=s.routes[E.route.id];!P||!P.hasLoader||(!f.some(O=>O.route.id===E.route.id)&&E.route.id in c&&((A=i[E.route.id])!=null&&A.shouldRevalidate)||P.hasClientLoader?x=!0:I.add(E.route.id))}),I.size===0)return[];let _=Hj(n,l);return x&&I.size>0&&_.searchParams.set("_routes",e.filter(E=>I.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[l,c,r,s,f,e,n,i]),w=C.useMemo(()=>Vj(g,s),[g,s]),R=Kj(g);return C.createElement(C.Fragment,null,y.map(I=>C.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),w.map(I=>C.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),R.map(({key:I,link:x})=>C.createElement("link",{key:I,...x})))}function Yj(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZT&&(window.__reactRouterVersion="7.5.3")}catch{}function Xj({basename:n,children:e,window:t}){let r=C.useRef();r.current==null&&(r.current=VP({window:t,v5Compat:!0}));let s=r.current,[i,l]=C.useState({action:s.action,location:s.location}),c=C.useCallback(h=>{C.startTransition(()=>l(h))},[l]);return C.useLayoutEffect(()=>s.listen(c),[s,c]),C.createElement(Cj,{basename:n,children:e,location:i.location,navigationType:i.action,navigator:s})}var eC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:i,replace:l,state:c,target:h,to:f,preventScrollReset:g,viewTransition:y,...w},R){let{basename:I}=C.useContext(Ss),x=typeof f=="string"&&eC.test(f),_,E=!1;if(typeof f=="string"&&x&&(_=f,ZT))try{let N=new URL(window.location.href),b=f.startsWith("//")?new URL(N.protocol+f):new URL(f),D=ki(b.pathname,I);b.origin===N.origin&&D!=null?f=D+b.search+b.hash:E=!0}catch{ws(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=dj(f,{relative:s}),[A,O,U]=qj(r,w),z=t5(f,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:y});function M(N){e&&e(N),N.defaultPrevented||z(N)}let L=C.createElement("a",{...w,...U,href:_||P,onClick:E||i?e:M,ref:Yj(R,O),target:h,"data-discover":!x&&t==="render"?"true":void 0});return A&&!x?C.createElement(C.Fragment,null,L,C.createElement(Gj,{page:P})):L});at.displayName="Link";var Jj=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:i,to:l,viewTransition:c,children:h,...f},g){let y=Ad(l,{relative:f.relative}),w=Ui(),R=C.useContext(zp),{navigator:I,basename:x}=C.useContext(Ss),_=R!=null&&o5(y)&&c===!0,E=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,P=w.pathname,A=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(P=P.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&x&&(A=ki(A,x)||A);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let U=P===E||!s&&P.startsWith(E)&&P.charAt(O)==="/",z=A!=null&&(A===E||!s&&A.startsWith(E)&&A.charAt(E.length)==="/"),M={isActive:U,isPending:z,isTransitioning:_},L=U?e:void 0,N;typeof r=="function"?N=r(M):N=[r,U?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let b=typeof i=="function"?i(M):i;return C.createElement(at,{...f,"aria-current":L,className:N,ref:g,style:b,to:l,viewTransition:c},typeof h=="function"?h(M):h)});Jj.displayName="NavLink";var Zj=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:i,method:l=Of,action:c,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:y,...w},R)=>{let I=s5(),x=i5(c,{relative:f}),_=l.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&eC.test(c),P=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let O=A.nativeEvent.submitter,U=(O==null?void 0:O.getAttribute("formmethod"))||l;I(O||A.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:s,state:i,relative:f,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:R,method:_,action:x,onSubmit:r?h:P,...w,"data-discover":!E&&n==="render"?"true":void 0})});Zj.displayName="Form";function e5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(n){let e=C.useContext(vc);return jt(e,e5(n)),e}function t5(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:i,viewTransition:l}={}){let c=Ye(),h=Ui(),f=Ad(n,{relative:i});return C.useCallback(g=>{if(Pj(g,e)){g.preventDefault();let y=t!==void 0?t:cd(h)===cd(f);c(n,{replace:y,state:r,preventScrollReset:s,relative:i,viewTransition:l})}},[h,c,f,t,r,e,n,s,i,l])}var n5=0,r5=()=>`__${String(++n5)}__`;function s5(){let{router:n}=tC("useSubmit"),{basename:e}=C.useContext(Ss),t=bj();return C.useCallback(async(r,s={})=>{let{action:i,method:l,encType:c,formData:h,body:f}=Lj(r,e);if(s.navigate===!1){let g=s.fetcherKey||r5();await n.fetch(g,t,s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function i5(n,{relative:e}={}){let{basename:t}=C.useContext(Ss),r=C.useContext(Ts);jt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ad(n||".",{relative:e})},l=Ui();if(n==null){i.search=l.search;let c=new URLSearchParams(i.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();i.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Ci([t,i.pathname])),cd(i)}function o5(n,e={}){let t=C.useContext(WT);jt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tC("useViewTransitionState"),s=Ad(n,{relative:e.relative});if(!t.isTransitioning)return!1;let i=ki(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ki(t.nextLocation.pathname,r)||t.nextLocation.pathname;return rp(s.pathname,l)!=null||rp(s.pathname,i)!=null}new TextEncoder;[...zj];var Uv=UT();const a5=Rd(Uv),l5=()=>{};var gb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=function(n,e){if(!n)throw wc(e)},wc=function(n){return new Error("Firebase Database ("+nC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},c5=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],c=n[t++],h=((s&7)<<18|(i&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,g=i>>2,y=(i&3)<<4|c>>4;let w=(c&15)<<2|f>>6,R=f&63;h||(R=64,l||(w=64)),r.push(t[g],t[y],t[w],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):c5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||c==null||f==null||y==null)throw new u5;const w=i<<2|c>>4;if(r.push(w),f!==64){const R=c<<4&240|f>>2;if(r.push(R),y!==64){const I=f<<6&192|y;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class u5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(n){const e=rC(n);return Bv.encodeByteArray(e,!0)},sp=function(n){return sC(n).replace(/\./g,"")},ip=function(n){try{return Bv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(n){return iC(void 0,n)}function iC(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!h5(t)||(n[t]=iC(n[t],e[t]));return n}function h5(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=()=>f5().__FIREBASE_DEFAULTS__,m5=()=>{if(typeof process>"u"||typeof gb>"u")return;const n=gb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},g5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ip(n[1]);return e&&JSON.parse(e)},Wp=()=>{try{return l5()||p5()||m5()||g5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oC=n=>{var e,t;return(t=(e=Wp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$v=n=>{const e=oC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aC=()=>{var n;return(n=Wp())===null||n===void 0?void 0:n.config},lC=n=>{var e;return(e=Wp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sp(JSON.stringify(t)),sp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function y5(){var n;const e=(n=Wp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x5(){const n=Bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function w5(){return nC.NODE_ADMIN===!0}function b5(){return!y5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E5(){try{return typeof indexedDB=="object"}catch{return!1}}function S5(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="FirebaseError";class ti extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=T5,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nd.prototype.create)}}class Nd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?C5(i,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ti(s,c,r)}}function C5(n,e){return n.replace(I5,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const I5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){return JSON.parse(n)}function wn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=function(n){let e={},t={},r={},s="";try{const i=n.split(".");e=ud(ip(i[0])||""),t=ud(ip(i[1])||""),s=i[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:s}},R5=function(n){const e=uC(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},k5=function(n){const e=uC(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ic(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function w0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function op(n,e,t){const r={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=e.call(t,n[s],s,n));return r}function No(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(yb(i)&&yb(l)){if(!No(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function yb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function zu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)r[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const w=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(w<<1|w>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,g;for(let y=0;y<80;y++){y<40?y<20?(f=c^i&(l^c),g=1518500249):(f=i^l^c,g=1859775393):y<60?(f=i&l|c&(i|l),g=2400959708):(f=i^l^c,g=3395469782);const w=(s<<5|s>>>27)+f+h+g+r[y]&4294967295;h=c,c=l,l=(i<<30|i>>>2)&4294967295,i=s,s=w}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let s=0;const i=this.buf_;let l=this.inbuf_;for(;s<t;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(i[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(i),l=0;break}}else for(;s<t;)if(i[l]=e[s],++l,++s,l===this.blockSize){this.compress_(i),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function N5(n,e){const t=new P5(n,e);return t.subscribe.bind(t)}class P5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");j5(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Py),s.error===void 0&&(s.error=Py),s.complete===void 0&&(s.complete=Py);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Py(){}function O5(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,fe(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;s=65536+(i<<10)+l}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},qp=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(n){return n&&n._delegate?n._delegate:n}class Ai{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D5=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zv;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F5(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const l=this.instances.get(s);return l&&e(l,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:M5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function M5(n){return n===Ea?void 0:n}function F5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const U5={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},B5=Be.INFO,$5={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},z5=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=$5[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=B5,this._logHandler=z5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const H5=(n,e)=>e.some(t=>n instanceof t);let vb,_b;function W5(){return vb||(vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q5(){return _b||(_b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dC=new WeakMap,b0=new WeakMap,hC=new WeakMap,jy=new WeakMap,qv=new WeakMap;function G5(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(To(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&dC.set(t,n)}).catch(()=>{}),qv.set(e,n),e}function K5(n){if(b0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});b0.set(n,e)}let E0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return b0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return To(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Q5(n){E0=n(E0)}function Y5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Oy(this),e,...t);return hC.set(r,e.sort?e.sort():[e]),To(r)}:q5().includes(n)?function(...e){return n.apply(Oy(this),e),To(dC.get(this))}:function(...e){return To(n.apply(Oy(this),e))}}function X5(n){return typeof n=="function"?Y5(n):(n instanceof IDBTransaction&&K5(n),H5(n,W5())?new Proxy(n,E0):n)}function To(n){if(n instanceof IDBRequest)return G5(n);if(jy.has(n))return jy.get(n);const e=X5(n);return e!==n&&(jy.set(n,e),qv.set(e,n)),e}const Oy=n=>qv.get(n);function J5(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),c=To(l);return r&&l.addEventListener("upgradeneeded",h=>{r(To(l.result),h.oldVersion,h.newVersion,To(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Z5=["get","getKey","getAll","getAllKeys","count"],eO=["put","add","delete","clear"],Ly=new Map;function xb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=eO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Z5.includes(t)))return;const i=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),s&&h.done]))[0]};return Ly.set(e,i),i}Q5(n=>({...n,get:(e,t,r)=>xb(e,t)||n.get(e,t,r),has:(e,t)=>!!xb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function nO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const S0="@firebase/app",wb="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Gp("@firebase/app"),rO="@firebase/app-compat",sO="@firebase/analytics-compat",iO="@firebase/analytics",oO="@firebase/app-check-compat",aO="@firebase/app-check",lO="@firebase/auth",cO="@firebase/auth-compat",uO="@firebase/database",dO="@firebase/data-connect",hO="@firebase/database-compat",fO="@firebase/functions",pO="@firebase/functions-compat",mO="@firebase/installations",gO="@firebase/installations-compat",yO="@firebase/messaging",vO="@firebase/messaging-compat",_O="@firebase/performance",xO="@firebase/performance-compat",wO="@firebase/remote-config",bO="@firebase/remote-config-compat",EO="@firebase/storage",SO="@firebase/storage-compat",TO="@firebase/firestore",CO="@firebase/vertexai",IO="@firebase/firestore-compat",RO="firebase",kO="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="[DEFAULT]",AO={[S0]:"fire-core",[rO]:"fire-core-compat",[iO]:"fire-analytics",[sO]:"fire-analytics-compat",[aO]:"fire-app-check",[oO]:"fire-app-check-compat",[lO]:"fire-auth",[cO]:"fire-auth-compat",[uO]:"fire-rtdb",[dO]:"fire-data-connect",[hO]:"fire-rtdb-compat",[fO]:"fire-fn",[pO]:"fire-fn-compat",[mO]:"fire-iid",[gO]:"fire-iid-compat",[yO]:"fire-fcm",[vO]:"fire-fcm-compat",[_O]:"fire-perf",[xO]:"fire-perf-compat",[wO]:"fire-rc",[bO]:"fire-rc-compat",[EO]:"fire-gcs",[SO]:"fire-gcs-compat",[TO]:"fire-fst",[IO]:"fire-fst-compat",[CO]:"fire-vertex","fire-js":"fire-js",[RO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map,NO=new Map,C0=new Map;function bb(n,e){try{n.container.addComponent(e)}catch(t){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Po(n){const e=n.name;if(C0.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;C0.set(e,n);for(const t of ap.values())bb(t,n);for(const t of NO.values())bb(t,n);return!0}function Pd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Nd("app","Firebase",PO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=kO;function fC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:T0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Co.create("bad-app-name",{appName:String(s)});if(t||(t=aC()),!t)throw Co.create("no-options");const i=ap.get(s);if(i){if(No(t,i.options)&&No(r,i.config))return i;throw Co.create("duplicate-app",{appName:s})}const l=new V5(s);for(const h of C0.values())l.addComponent(h);const c=new jO(t,r,l);return ap.set(s,c),c}function Kp(n=T0){const e=ap.get(n);if(!e&&n===T0&&aC())return fC();if(!e)throw Co.create("no-app",{appName:n});return e}function Gr(n,e,t){var r;let s=(r=AO[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(c.join(" "));return}Po(new Ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="firebase-heartbeat-database",LO=1,dd="firebase-heartbeat-store";let Dy=null;function pC(){return Dy||(Dy=J5(OO,LO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Co.create("idb-open",{originalErrorMessage:n.message})})),Dy}async function DO(n){try{const t=(await pC()).transaction(dd),r=await t.objectStore(dd).get(mC(n));return await t.done,r}catch(e){if(e instanceof ti)Ni.warn(e.message);else{const t=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(t.message)}}}async function Eb(n,e){try{const r=(await pC()).transaction(dd,"readwrite");await r.objectStore(dd).put(e,mC(n)),await r.done}catch(t){if(t instanceof ti)Ni.warn(t.message);else{const r=Co.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ni.warn(r.message)}}}function mC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1024,FO=30;class VO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>FO){const l=$O(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sb(),{heartbeatsToSend:r,unsentEntries:s}=UO(this._heartbeatsCache.heartbeats),i=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ni.warn(t),""}}}function Sb(){return new Date().toISOString().substring(0,10)}function UO(n,e=MO){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),Tb(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Tb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class BO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E5()?S5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Eb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Eb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tb(n){return sp(JSON.stringify({version:2,heartbeats:n})).length}function $O(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(n){Po(new Ai("platform-logger",e=>new tO(e),"PRIVATE")),Po(new Ai("heartbeat",e=>new VO(e),"PRIVATE")),Gr(S0,wb,n),Gr(S0,wb,"esm2017"),Gr("fire-js","")}zO("");function Gv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HO=gC,yC=new Nd("auth","Firebase",gC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Gp("@firebase/auth");function WO(n,...e){lp.logLevel<=Be.WARN&&lp.warn(`Auth (${$o}): ${n}`,...e)}function Df(n,...e){lp.logLevel<=Be.ERROR&&lp.error(`Auth (${$o}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(n,...e){throw Qv(n,...e)}function ys(n,...e){return Qv(n,...e)}function Kv(n,e,t){const r=Object.assign(Object.assign({},HO()),{[e]:t});return new Nd("auth","Firebase",r).create(e,{appName:n.name})}function Ks(n){return Kv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(n,"argument-error"),Kv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yC.create(n,...e)}function Ce(n,e,...t){if(!n)throw Qv(e,...t)}function bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Df(e),new Error(e)}function Pi(n,e){n||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function GO(){return Cb()==="http:"||Cb()==="https:"}function Cb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GO()||_5()||"connection"in navigator)?navigator.onLine:!0}function QO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pi(t>e,"Short delay should be less than long delay!"),this.isMobile=Wv()||cC()}get(){return KO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n,e){Pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new jd(3e4,6e4);function zo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ni(n,e,t,r,s={}){return _C(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const c=bc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},i);return v5()||(f.referrerPolicy="no-referrer"),vC.fetch()(xC(n,n.config.apiHost,t,c),f)})}async function _C(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},YO),e);try{const s=new ZO(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw _f(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const c=i.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw _f(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw _f(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw _f(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Kv(n,g,f);Qr(n,g)}}catch(s){if(s instanceof ti)throw s;Qr(n,"network-request-failed",{message:String(s)})}}async function Od(n,e,t,r,s={}){const i=await ni(n,e,t,r,s);return"mfaPendingCredential"in i&&Qr(n,"multi-factor-auth-required",{_serverResponse:i}),i}function xC(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Yv(n.config,s):`${n.config.apiScheme}://${s}`}function JO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ys(this.auth,"network-request-failed")),XO.get())})}}function _f(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ys(n,e,r);return s.customData._tokenResponse=t,s}function Ib(n){return n!==void 0&&n.enterprise!==void 0}class eL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tL(n,e){return ni(n,"GET","/v2/recaptchaConfig",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(n,e){return ni(n,"POST","/v1/accounts:delete",e)}async function wC(n,e){return ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rL(n,e=!1){const t=_t(n),r=await t.getIdToken(e),s=Qp(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Yu(My(s.auth_time)),issuedAtTime:Yu(My(s.iat)),expirationTime:Yu(My(s.exp)),signInProvider:l||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function My(n){return Number(n)*1e3}function Qp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const s=ip(t);return s?JSON.parse(s):(Df("Failed to decode base64 JWT payload"),null)}catch(s){return Df("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Rb(n){const e=Qp(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ti&&sL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Na(n,wC(t,{idToken:r}));Ce(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const l=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?bC(i.providerUserInfo):[],c=aL(n.providerData,l),h=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!(c!=null&&c.length),g=h?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new R0(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function oL(n){const e=_t(n);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bC(n){return n.map(e=>{var{providerId:t}=e,r=Gv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(n,e){const t=await _C(n,{},async()=>{const r=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=xC(n,s,"/v1/token",`key=${i}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",vC.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cL(n,e){return ni(n,"POST","/v2/accounts:revokeToken",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=Rb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await lL(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Kl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ei{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=Gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new R0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Na(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rL(this,e)}reload(){return oL(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await Na(this,nL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,l,c,h,f,g;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,R=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,_=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,E=(f=t.createdAt)!==null&&f!==void 0?f:void 0,P=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:A,emailVerified:O,isAnonymous:U,providerData:z,stsTokenManager:M}=t;Ce(A&&M,e,"internal-error");const L=Kl.fromJSON(this.name,M);Ce(typeof A=="string",e,"internal-error"),yo(y,e.name),yo(w,e.name),Ce(typeof O=="boolean",e,"internal-error"),Ce(typeof U=="boolean",e,"internal-error"),yo(R,e.name),yo(I,e.name),yo(x,e.name),yo(_,e.name),yo(E,e.name),yo(P,e.name);const N=new Ei({uid:A,auth:e,email:w,emailVerified:O,displayName:y,isAnonymous:U,photoURL:I,phoneNumber:R,tenantId:x,stsTokenManager:L,createdAt:E,lastLoginAt:P});return z&&Array.isArray(z)&&(N.providerData=z.map(b=>Object.assign({},b))),_&&(N._redirectEventId=_),N}static async _fromIdTokenResponse(e,t,r=!1){const s=new Kl;s.updateFromServerResponse(t);const i=new Ei({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cp(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?bC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Kl;c.updateFromIdToken(r);const h=new Ei({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new R0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map;function Si(n){Pi(n instanceof Function,"Expected a class definition");let e=kb.get(n);return e?(Pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EC.type="NONE";const Ab=EC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ql{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Mf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mf("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ql(Si(Ab),e,r);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||Si(Ab);const l=Mf(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const g=await f._get(l);if(g){const y=Ei._fromJSON(e,g);f!==i&&(c=y),i=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new Ql(i,e,r):(i=h[0],c&&await i._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==i)try{await f._remove(l)}catch{}})),new Ql(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kC(e))return"Blackberry";if(AC(e))return"Webos";if(TC(e))return"Safari";if((e.includes("chrome/")||CC(e))&&!e.includes("edge/"))return"Chrome";if(RC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SC(n=Bn()){return/firefox\//i.test(n)}function TC(n=Bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CC(n=Bn()){return/crios\//i.test(n)}function IC(n=Bn()){return/iemobile/i.test(n)}function RC(n=Bn()){return/android/i.test(n)}function kC(n=Bn()){return/blackberry/i.test(n)}function AC(n=Bn()){return/webos/i.test(n)}function Xv(n=Bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uL(n=Bn()){var e;return Xv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dL(){return x5()&&document.documentMode===10}function NC(n=Bn()){return Xv(n)||RC(n)||AC(n)||kC(n)||/windows phone/i.test(n)||IC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n,e=[]){let t;switch(n){case"Browser":t=Nb(Bn());break;case"Worker":t=`${Nb(Bn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,c)=>{try{const h=e(i);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(n,e={}){return ni(n,"GET","/v2/passwordPolicy",zo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=6;class mL{constructor(e){var t,r,s,i;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:pL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(i=h.containsUppercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pb(this),this.idTokenSubscription=new Pb(this),this.beforeStateQueue=new hL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wC(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Ks(this));const t=e?_t(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fL(this),t=new mL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Si(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&WO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ho(n){return _t(n)}class Pb{constructor(e){this.auth=e,this.observer=null,this.addObserver=N5(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yL(n){Yp=n}function jC(n){return Yp.loadJS(n)}function vL(){return Yp.recaptchaEnterpriseScript}function _L(){return Yp.gapiScript}function xL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wL{constructor(){this.enterprise=new bL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const EL="recaptcha-enterprise",OC="NO_RECAPTCHA";class SL{constructor(e){this.type=EL,this.auth=Ho(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(l,c)=>{tL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new eL(h);return i.tenantId==null?i._agentRecaptchaConfig=f:i._tenantRecaptchaConfigs[i.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(i,l,c){const h=window.grecaptcha;Ib(h)?h.enterprise.ready(()=>{h.enterprise.execute(i,{action:e}).then(f=>{l(f)}).catch(()=>{l(OC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wL().execute("siteKey",{action:"verify"}):new Promise((i,l)=>{r(this.auth).then(c=>{if(!t&&Ib(window.grecaptcha))s(c,i,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=vL();h.length!==0&&(h+=c),jC(h).then(()=>{s(c,i,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function jb(n,e,t,r=!1,s=!1){const i=new SL(n);let l;if(s)l=OC;else try{l=await i.verify(t)}catch{l=await i.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function k0(n,e,t,r,s){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await jb(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jb(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(n,e){const t=Pd(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(No(i,e??{}))return s;Qr(s,"already-initialized")}return t.initialize({options:e})}function CL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Si);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IL(n,e,t){const r=Ho(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=LC(e),{host:l,port:c}=RL(e),h=c===null?"":`:${c}`,f={url:`${i}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(No(f,r.config.emulator)&&No(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,kL()}function LC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RL(n){const e=LC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ob(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:Ob(l)}}}function Ob(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,t){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function AL(n,e){return ni(n,"POST","/v1/accounts:update",e)}async function NL(n,e){return ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(n,e){return Od(n,"POST","/v1/accounts:signInWithPassword",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(n,e){return Od(n,"POST","/v1/accounts:signInWithEmailLink",zo(n,e))}async function OL(n,e){return Od(n,"POST","/v1/accounts:signInWithEmailLink",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Jv{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new hd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k0(e,t,"signInWithPassword",PL);case"emailLink":return jL(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k0(e,r,"signUpPassword",NL);case"emailLink":return OL(e,{idToken:t,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(n,e){return Od(n,"POST","/v1/accounts:signInWithIdp",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="http://localhost";class Pa extends Jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=Gv(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Pa(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Yl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yl(e,t)}buildRequest(){const e={requestUri:LL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ML(n){const e=$u(zu(n)).link,t=e?$u(zu(e)).deep_link_id:null,r=$u(zu(n)).deep_link_id;return(r?$u(zu(r)).link:null)||r||t||e||n}class Zv{constructor(e){var t,r,s,i,l,c;const h=$u(zu(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,y=DL((s=h.mode)!==null&&s!==void 0?s:null);Ce(f&&g&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=g,this.continueUrl=(i=h.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=ML(e);try{return new Zv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.providerId=Ec.PROVIDER_ID}static credential(e,t){return hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Zv.parseLink(t);return Ce(r,"argument-error"),hd._fromEmailAndCode(e,r.code,r.tenantId)}}Ec.PROVIDER_ID="password";Ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Ld{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Hs.credential(t,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Ld{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.GITHUB_SIGN_IN_METHOD="github.com";wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Ld{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bo.credential(t,r)}catch{return null}}}bo.TWITTER_SIGN_IN_METHOD="twitter.com";bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(n,e){return Od(n,"POST","/v1/accounts:signUp",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Ei._fromIdTokenResponse(e,r,s),l=Lb(r);return new ja({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Lb(r);return new ja({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Lb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends ti{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,up.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new up(e,t,r,s)}}function DC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?up._fromErrorAndOperation(n,i,e,r):i})}async function VL(n,e,t=!1){const r=await Na(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ja._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(n,e,t=!1){const{auth:r}=n;if(Dn(r.app))return Promise.reject(Ks(r));const s="reauthenticate";try{const i=await Na(n,DC(r,s,e,n),t);Ce(i.idToken,r,"internal-error");const l=Qp(i.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),ja._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(n,e,t=!1){if(Dn(n.app))return Promise.reject(Ks(n));const r="signIn",s=await DC(n,r,e),i=await ja._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function BL(n,e){return MC(Ho(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(n){const e=Ho(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $L(n,e,t){if(Dn(n.app))return Promise.reject(Ks(n));const r=Ho(n),l=await k0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&FC(n),h}),c=await ja._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function zL(n,e,t){return Dn(n.app)?Promise.reject(Ks(n)):BL(_t(n),Ec.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FC(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(n,e){return ni(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=_t(n),i={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Na(r,HL(r.auth,i));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function WL(n,e){const t=_t(n);return Dn(t.auth.app)?Promise.reject(Ks(t.auth)):qL(t,e)}async function qL(n,e,t){const{auth:r}=n,i={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(i.email=e);const l=await Na(n,AL(r,i));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},i=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Qp(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new Xl(i,c)}}if(!r)return null;switch(r){case"facebook.com":return new KL(i,s);case"github.com":return new QL(i,s);case"google.com":return new YL(i,s);case"twitter.com":return new XL(i,s,n.screenName||null);case"custom":case"anonymous":return new Xl(i,null);default:return new Xl(i,r,s)}}class Xl{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class VC extends Xl{constructor(e,t,r,s){super(e,t,r),this.username=s}}class KL extends Xl{constructor(e,t){super(e,"facebook.com",t)}}class QL extends VC{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class YL extends Xl{constructor(e,t){super(e,"google.com",t)}}class XL extends VC{constructor(e,t,r){super(e,"twitter.com",t,r)}}function JL(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:GL(t)}function ZL(n,e,t,r){return _t(n).onIdTokenChanged(e,t,r)}function eD(n,e,t){return _t(n).beforeAuthStateChanged(e,t)}function UC(n,e,t,r){return _t(n).onAuthStateChanged(e,t,r)}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=1e3,nD=10;class $C extends BC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);dL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,nD):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},tD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$C.type="LOCAL";const rD=$C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC extends BC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zC.type="SESSION";const HC=zC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Xp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async f=>f(t.origin,i)),h=await sD(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((c,h)=>{const f=t_("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(w.data.response);break;default:clearTimeout(g),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function oD(n){Qs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function aD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cD(){return WC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="firebaseLocalStorageDb",uD=1,hp="firebaseLocalStorage",GC="fbase_key";class Dd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jp(n,e){return n.transaction([hp],e?"readwrite":"readonly").objectStore(hp)}function dD(){const n=indexedDB.deleteDatabase(qC);return new Dd(n).toPromise()}function N0(){const n=indexedDB.open(qC,uD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hp,{keyPath:GC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hp)?e(r):(r.close(),await dD(),e(await N0()))})})}async function Db(n,e,t){const r=Jp(n,!0).put({[GC]:e,value:t});return new Dd(r).toPromise()}async function hD(n,e){const t=Jp(n,!1).get(e),r=await new Dd(t).toPromise();return r===void 0?null:r.value}function Mb(n,e){const t=Jp(n,!0).delete(e);return new Dd(t).toPromise()}const fD=800,pD=3;class KC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>pD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xp._getInstance(cD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aD(),!this.activeServiceWorker)return;this.sender=new iD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N0();return await Db(e,dp,"1"),await Mb(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Db(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>hD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jp(s,!1).getAll();return new Dd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KC.type="LOCAL";const mD=KC;new jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(n,e){return e?Si(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends Jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gD(n){return MC(n.auth,new n_(n),n.bypassAuthState)}function yD(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),UL(t,new n_(n),n.bypassAuthState)}async function vD(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),VL(t,new n_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gD;case"linkViaPopup":case"linkViaRedirect":return vD;case"reauthViaPopup":case"reauthViaRedirect":return yD;default:Qr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new jd(2e3,1e4);async function xD(n,e,t){if(Dn(n.app))return Promise.reject(ys(n,"operation-not-supported-in-this-environment"));const r=Ho(n);qO(n,e,e_);const s=QC(r,t);return new Ta(r,"signInViaPopup",e,s).executeNotNull()}class Ta extends YC{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=t_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_D.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="pendingRedirect",Ff=new Map;class bD extends YC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const r=await ED(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ED(n,e){const t=CD(e),r=TD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function SD(n,e){Ff.set(n._key(),e)}function TD(n){return Si(n._redirectPersistence)}function CD(n){return Mf(wD,n.config.apiKey,n.name)}async function ID(n,e,t=!1){if(Dn(n.app))return Promise.reject(Ks(n));const r=Ho(n),s=QC(r,e),l=await new bD(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=10*60*1e3;class kD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ys(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fb(e))}saveEventToCache(e){this.cachedEventUids.add(Fb(e)),this.lastProcessedEventTime=Date.now()}}function Fb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n,e={}){return ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jD=/^https?/;async function OD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ND(n);for(const t of e)try{if(LD(t))return}catch{}Qr(n,"unauthorized-domain")}function LD(n){const e=I0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!jD.test(t))return!1;if(PD.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new jd(3e4,6e4);function Vb(){const n=Qs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MD(n){return new Promise((e,t)=>{var r,s,i;function l(){Vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vb(),t(ys(n,"network-request-failed"))},timeout:DD.get()})}if(!((s=(r=Qs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Qs().gapi)===null||i===void 0)&&i.load)l();else{const c=xL("iframefcb");return Qs()[c]=()=>{gapi.load?l():t(ys(n,"network-request-failed"))},jC(`${_L()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function FD(n){return Vf=Vf||MD(n),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new jd(5e3,15e3),UD="__/auth/iframe",BD="emulator/auth/iframe",$D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HD(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yv(e,BD):`https://${n.config.authDomain}/${UD}`,r={apiKey:e.apiKey,appName:n.name,v:$o},s=zD.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${bc(r).slice(1)}`}async function WD(n){const e=await FD(n),t=Qs().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:HD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$D,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=ys(n,"network-request-failed"),c=Qs().setTimeout(()=>{i(l)},VD.get());function h(){Qs().clearTimeout(c),s(r)}r.ping(h).then(h,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GD=500,KD=600,QD="_blank",YD="http://localhost";class Ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XD(n,e,t,r=GD,s=KD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},qD),{width:r.toString(),height:s.toString(),top:i,left:l}),f=Bn().toLowerCase();t&&(c=CC(f)?QD:t),SC(f)&&(e=e||YD,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[R,I])=>`${w}${R}=${I},`,"");if(uL(f)&&c!=="_self")return JD(e||"",c),new Ub(null);const y=window.open(e||"",c,g);Ce(y,n,"popup-blocked");try{y.focus()}catch{}return new Ub(y)}function JD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="__/auth/handler",e3="emulator/auth/handler",t3=encodeURIComponent("fac");async function Bb(n,e,t,r,s,i){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$o,eventId:s};if(e instanceof e_){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",w0(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Ld){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),f=h?`#${t3}=${encodeURIComponent(h)}`:"";return`${n3(n)}?${bc(c).slice(1)}${f}`}function n3({config:n}){return n.emulator?Yv(n,e3):`https://${n.authDomain}/${ZD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="webStorageSupport";class r3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HC,this._completeRedirectFn=ID,this._overrideRedirectResult=SD}async _openPopup(e,t,r,s){var i;Pi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const l=await Bb(e,t,r,I0(),s);return XD(e,l,t_())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await Bb(e,t,r,I0(),s);return oD(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Pi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await WD(e),r=new kD(e);return t.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fy,{type:Fy},s=>{var i;const l=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Fy];l!==void 0&&t(!!l),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=OD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NC()||TC()||Xv()}}const s3=r3;var $b="@firebase/auth",zb="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a3(n){Po(new Ai("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PC(n)},f=new gL(r,s,i,h);return CL(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Po(new Ai("auth-internal",e=>{const t=Ho(e.getProvider("auth").getImmediate());return(r=>new i3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr($b,zb,o3(n)),Gr($b,zb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=5*60,c3=lC("authIdTokenMaxAge")||l3;let Hb=null;const u3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>c3)return;const s=t==null?void 0:t.token;Hb!==s&&(Hb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Zp(n=Kp()){const e=Pd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=TL(n,{popupRedirectResolver:s3,persistence:[mD,rD,HC]}),r=lC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=u3(i.toString());eD(t,l,()=>l(t.currentUser)),ZL(t,c=>l(c))}}const s=oC("auth");return s&&IL(t,`http://${s}`),t}function d3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}yL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=ys("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",d3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a3("Browser");var h3="firebase",f3="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(h3,f3,"app");var Wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,JC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,L){function N(){}N.prototype=L.prototype,M.D=L.prototype,M.prototype=new N,M.prototype.constructor=M,M.C=function(b,D,V){for(var B=Array(arguments.length-2),te=2;te<arguments.length;te++)B[te-2]=arguments[te];return L.prototype[D].apply(b,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,L,N){N||(N=0);var b=Array(16);if(typeof L=="string")for(var D=0;16>D;++D)b[D]=L.charCodeAt(N++)|L.charCodeAt(N++)<<8|L.charCodeAt(N++)<<16|L.charCodeAt(N++)<<24;else for(D=0;16>D;++D)b[D]=L[N++]|L[N++]<<8|L[N++]<<16|L[N++]<<24;L=M.g[0],N=M.g[1],D=M.g[2];var V=M.g[3],B=L+(V^N&(D^V))+b[0]+3614090360&4294967295;L=N+(B<<7&4294967295|B>>>25),B=V+(D^L&(N^D))+b[1]+3905402710&4294967295,V=L+(B<<12&4294967295|B>>>20),B=D+(N^V&(L^N))+b[2]+606105819&4294967295,D=V+(B<<17&4294967295|B>>>15),B=N+(L^D&(V^L))+b[3]+3250441966&4294967295,N=D+(B<<22&4294967295|B>>>10),B=L+(V^N&(D^V))+b[4]+4118548399&4294967295,L=N+(B<<7&4294967295|B>>>25),B=V+(D^L&(N^D))+b[5]+1200080426&4294967295,V=L+(B<<12&4294967295|B>>>20),B=D+(N^V&(L^N))+b[6]+2821735955&4294967295,D=V+(B<<17&4294967295|B>>>15),B=N+(L^D&(V^L))+b[7]+4249261313&4294967295,N=D+(B<<22&4294967295|B>>>10),B=L+(V^N&(D^V))+b[8]+1770035416&4294967295,L=N+(B<<7&4294967295|B>>>25),B=V+(D^L&(N^D))+b[9]+2336552879&4294967295,V=L+(B<<12&4294967295|B>>>20),B=D+(N^V&(L^N))+b[10]+4294925233&4294967295,D=V+(B<<17&4294967295|B>>>15),B=N+(L^D&(V^L))+b[11]+2304563134&4294967295,N=D+(B<<22&4294967295|B>>>10),B=L+(V^N&(D^V))+b[12]+1804603682&4294967295,L=N+(B<<7&4294967295|B>>>25),B=V+(D^L&(N^D))+b[13]+4254626195&4294967295,V=L+(B<<12&4294967295|B>>>20),B=D+(N^V&(L^N))+b[14]+2792965006&4294967295,D=V+(B<<17&4294967295|B>>>15),B=N+(L^D&(V^L))+b[15]+1236535329&4294967295,N=D+(B<<22&4294967295|B>>>10),B=L+(D^V&(N^D))+b[1]+4129170786&4294967295,L=N+(B<<5&4294967295|B>>>27),B=V+(N^D&(L^N))+b[6]+3225465664&4294967295,V=L+(B<<9&4294967295|B>>>23),B=D+(L^N&(V^L))+b[11]+643717713&4294967295,D=V+(B<<14&4294967295|B>>>18),B=N+(V^L&(D^V))+b[0]+3921069994&4294967295,N=D+(B<<20&4294967295|B>>>12),B=L+(D^V&(N^D))+b[5]+3593408605&4294967295,L=N+(B<<5&4294967295|B>>>27),B=V+(N^D&(L^N))+b[10]+38016083&4294967295,V=L+(B<<9&4294967295|B>>>23),B=D+(L^N&(V^L))+b[15]+3634488961&4294967295,D=V+(B<<14&4294967295|B>>>18),B=N+(V^L&(D^V))+b[4]+3889429448&4294967295,N=D+(B<<20&4294967295|B>>>12),B=L+(D^V&(N^D))+b[9]+568446438&4294967295,L=N+(B<<5&4294967295|B>>>27),B=V+(N^D&(L^N))+b[14]+3275163606&4294967295,V=L+(B<<9&4294967295|B>>>23),B=D+(L^N&(V^L))+b[3]+4107603335&4294967295,D=V+(B<<14&4294967295|B>>>18),B=N+(V^L&(D^V))+b[8]+1163531501&4294967295,N=D+(B<<20&4294967295|B>>>12),B=L+(D^V&(N^D))+b[13]+2850285829&4294967295,L=N+(B<<5&4294967295|B>>>27),B=V+(N^D&(L^N))+b[2]+4243563512&4294967295,V=L+(B<<9&4294967295|B>>>23),B=D+(L^N&(V^L))+b[7]+1735328473&4294967295,D=V+(B<<14&4294967295|B>>>18),B=N+(V^L&(D^V))+b[12]+2368359562&4294967295,N=D+(B<<20&4294967295|B>>>12),B=L+(N^D^V)+b[5]+4294588738&4294967295,L=N+(B<<4&4294967295|B>>>28),B=V+(L^N^D)+b[8]+2272392833&4294967295,V=L+(B<<11&4294967295|B>>>21),B=D+(V^L^N)+b[11]+1839030562&4294967295,D=V+(B<<16&4294967295|B>>>16),B=N+(D^V^L)+b[14]+4259657740&4294967295,N=D+(B<<23&4294967295|B>>>9),B=L+(N^D^V)+b[1]+2763975236&4294967295,L=N+(B<<4&4294967295|B>>>28),B=V+(L^N^D)+b[4]+1272893353&4294967295,V=L+(B<<11&4294967295|B>>>21),B=D+(V^L^N)+b[7]+4139469664&4294967295,D=V+(B<<16&4294967295|B>>>16),B=N+(D^V^L)+b[10]+3200236656&4294967295,N=D+(B<<23&4294967295|B>>>9),B=L+(N^D^V)+b[13]+681279174&4294967295,L=N+(B<<4&4294967295|B>>>28),B=V+(L^N^D)+b[0]+3936430074&4294967295,V=L+(B<<11&4294967295|B>>>21),B=D+(V^L^N)+b[3]+3572445317&4294967295,D=V+(B<<16&4294967295|B>>>16),B=N+(D^V^L)+b[6]+76029189&4294967295,N=D+(B<<23&4294967295|B>>>9),B=L+(N^D^V)+b[9]+3654602809&4294967295,L=N+(B<<4&4294967295|B>>>28),B=V+(L^N^D)+b[12]+3873151461&4294967295,V=L+(B<<11&4294967295|B>>>21),B=D+(V^L^N)+b[15]+530742520&4294967295,D=V+(B<<16&4294967295|B>>>16),B=N+(D^V^L)+b[2]+3299628645&4294967295,N=D+(B<<23&4294967295|B>>>9),B=L+(D^(N|~V))+b[0]+4096336452&4294967295,L=N+(B<<6&4294967295|B>>>26),B=V+(N^(L|~D))+b[7]+1126891415&4294967295,V=L+(B<<10&4294967295|B>>>22),B=D+(L^(V|~N))+b[14]+2878612391&4294967295,D=V+(B<<15&4294967295|B>>>17),B=N+(V^(D|~L))+b[5]+4237533241&4294967295,N=D+(B<<21&4294967295|B>>>11),B=L+(D^(N|~V))+b[12]+1700485571&4294967295,L=N+(B<<6&4294967295|B>>>26),B=V+(N^(L|~D))+b[3]+2399980690&4294967295,V=L+(B<<10&4294967295|B>>>22),B=D+(L^(V|~N))+b[10]+4293915773&4294967295,D=V+(B<<15&4294967295|B>>>17),B=N+(V^(D|~L))+b[1]+2240044497&4294967295,N=D+(B<<21&4294967295|B>>>11),B=L+(D^(N|~V))+b[8]+1873313359&4294967295,L=N+(B<<6&4294967295|B>>>26),B=V+(N^(L|~D))+b[15]+4264355552&4294967295,V=L+(B<<10&4294967295|B>>>22),B=D+(L^(V|~N))+b[6]+2734768916&4294967295,D=V+(B<<15&4294967295|B>>>17),B=N+(V^(D|~L))+b[13]+1309151649&4294967295,N=D+(B<<21&4294967295|B>>>11),B=L+(D^(N|~V))+b[4]+4149444226&4294967295,L=N+(B<<6&4294967295|B>>>26),B=V+(N^(L|~D))+b[11]+3174756917&4294967295,V=L+(B<<10&4294967295|B>>>22),B=D+(L^(V|~N))+b[2]+718787259&4294967295,D=V+(B<<15&4294967295|B>>>17),B=N+(V^(D|~L))+b[9]+3951481745&4294967295,M.g[0]=M.g[0]+L&4294967295,M.g[1]=M.g[1]+(D+(B<<21&4294967295|B>>>11))&4294967295,M.g[2]=M.g[2]+D&4294967295,M.g[3]=M.g[3]+V&4294967295}r.prototype.u=function(M,L){L===void 0&&(L=M.length);for(var N=L-this.blockSize,b=this.B,D=this.h,V=0;V<L;){if(D==0)for(;V<=N;)s(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<L;)if(b[D++]=M.charCodeAt(V++),D==this.blockSize){s(this,b),D=0;break}}else for(;V<L;)if(b[D++]=M[V++],D==this.blockSize){s(this,b),D=0;break}}this.h=D,this.o+=L},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var L=1;L<M.length-8;++L)M[L]=0;var N=8*this.o;for(L=M.length-8;L<M.length;++L)M[L]=N&255,N/=256;for(this.u(M),M=Array(16),L=N=0;4>L;++L)for(var b=0;32>b;b+=8)M[N++]=this.g[L]>>>b&255;return M};function i(M,L){var N=c;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=L(M)}function l(M,L){this.h=L;for(var N=[],b=!0,D=M.length-1;0<=D;D--){var V=M[D]|0;b&&V==L||(N[D]=V,b=!1)}this.g=N}var c={};function h(M){return-128<=M&&128>M?i(M,function(L){return new l([L|0],0>L?-1:0)}):new l([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return _(f(-M));for(var L=[],N=1,b=0;M>=N;b++)L[b]=M/N|0,N*=4294967296;return new l(L,0)}function g(M,L){if(M.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(M.charAt(0)=="-")return _(g(M.substring(1),L));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(L,8)),b=y,D=0;D<M.length;D+=8){var V=Math.min(8,M.length-D),B=parseInt(M.substring(D,D+V),L);8>V?(V=f(Math.pow(L,V)),b=b.j(V).add(f(B))):(b=b.j(N),b=b.add(f(B)))}return b}var y=h(0),w=h(1),R=h(16777216);n=l.prototype,n.m=function(){if(x(this))return-_(this).m();for(var M=0,L=1,N=0;N<this.g.length;N++){var b=this.i(N);M+=(0<=b?b:4294967296+b)*L,L*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(I(this))return"0";if(x(this))return"-"+_(this).toString(M);for(var L=f(Math.pow(M,6)),N=this,b="";;){var D=O(N,L).g;N=E(N,D.j(L));var V=((0<N.g.length?N.g[0]:N.h)>>>0).toString(M);if(N=D,I(N))return V+b;for(;6>V.length;)V="0"+V;b=V+b}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function I(M){if(M.h!=0)return!1;for(var L=0;L<M.g.length;L++)if(M.g[L]!=0)return!1;return!0}function x(M){return M.h==-1}n.l=function(M){return M=E(this,M),x(M)?-1:I(M)?0:1};function _(M){for(var L=M.g.length,N=[],b=0;b<L;b++)N[b]=~M.g[b];return new l(N,~M.h).add(w)}n.abs=function(){return x(this)?_(this):this},n.add=function(M){for(var L=Math.max(this.g.length,M.g.length),N=[],b=0,D=0;D<=L;D++){var V=b+(this.i(D)&65535)+(M.i(D)&65535),B=(V>>>16)+(this.i(D)>>>16)+(M.i(D)>>>16);b=B>>>16,V&=65535,B&=65535,N[D]=B<<16|V}return new l(N,N[N.length-1]&-2147483648?-1:0)};function E(M,L){return M.add(_(L))}n.j=function(M){if(I(this)||I(M))return y;if(x(this))return x(M)?_(this).j(_(M)):_(_(this).j(M));if(x(M))return _(this.j(_(M)));if(0>this.l(R)&&0>M.l(R))return f(this.m()*M.m());for(var L=this.g.length+M.g.length,N=[],b=0;b<2*L;b++)N[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<M.g.length;D++){var V=this.i(b)>>>16,B=this.i(b)&65535,te=M.i(D)>>>16,de=M.i(D)&65535;N[2*b+2*D]+=B*de,P(N,2*b+2*D),N[2*b+2*D+1]+=V*de,P(N,2*b+2*D+1),N[2*b+2*D+1]+=B*te,P(N,2*b+2*D+1),N[2*b+2*D+2]+=V*te,P(N,2*b+2*D+2)}for(b=0;b<L;b++)N[b]=N[2*b+1]<<16|N[2*b];for(b=L;b<2*L;b++)N[b]=0;return new l(N,0)};function P(M,L){for(;(M[L]&65535)!=M[L];)M[L+1]+=M[L]>>>16,M[L]&=65535,L++}function A(M,L){this.g=M,this.h=L}function O(M,L){if(I(L))throw Error("division by zero");if(I(M))return new A(y,y);if(x(M))return L=O(_(M),L),new A(_(L.g),_(L.h));if(x(L))return L=O(M,_(L)),new A(_(L.g),L.h);if(30<M.g.length){if(x(M)||x(L))throw Error("slowDivide_ only works with positive integers.");for(var N=w,b=L;0>=b.l(M);)N=U(N),b=U(b);var D=z(N,1),V=z(b,1);for(b=z(b,2),N=z(N,2);!I(b);){var B=V.add(b);0>=B.l(M)&&(D=D.add(N),V=B),b=z(b,1),N=z(N,1)}return L=E(M,D.j(L)),new A(D,L)}for(D=y;0<=M.l(L);){for(N=Math.max(1,Math.floor(M.m()/L.m())),b=Math.ceil(Math.log(N)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),V=f(N),B=V.j(L);x(B)||0<B.l(M);)N-=b,V=f(N),B=V.j(L);I(V)&&(V=w),D=D.add(V),M=E(M,B)}return new A(D,M)}n.A=function(M){return O(this,M).h},n.and=function(M){for(var L=Math.max(this.g.length,M.g.length),N=[],b=0;b<L;b++)N[b]=this.i(b)&M.i(b);return new l(N,this.h&M.h)},n.or=function(M){for(var L=Math.max(this.g.length,M.g.length),N=[],b=0;b<L;b++)N[b]=this.i(b)|M.i(b);return new l(N,this.h|M.h)},n.xor=function(M){for(var L=Math.max(this.g.length,M.g.length),N=[],b=0;b<L;b++)N[b]=this.i(b)^M.i(b);return new l(N,this.h^M.h)};function U(M){for(var L=M.g.length+1,N=[],b=0;b<L;b++)N[b]=M.i(b)<<1|M.i(b-1)>>>31;return new l(N,M.h)}function z(M,L){var N=L>>5;L%=32;for(var b=M.g.length-N,D=[],V=0;V<b;V++)D[V]=0<L?M.i(V+N)>>>L|M.i(V+N+1)<<32-L:M.i(V+N);return new l(D,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,Io=l}).apply(typeof Wb<"u"?Wb:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZC,Hu,e2,Uf,P0,t2,n2,r2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,k){return p==Array.prototype||p==Object.prototype||(p[S]=k.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var S=0;S<p.length;++S){var k=p[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function s(p,S){if(S)e:{var k=r;p=p.split(".");for(var F=0;F<p.length-1;F++){var G=p[F];if(!(G in k))break e;k=k[G]}p=p[p.length-1],F=k[p],S=S(F),S!=F&&S!=null&&e(k,p,{configurable:!0,writable:!0,value:S})}}function i(p,S){p instanceof String&&(p+="");var k=0,F=!1,G={next:function(){if(!F&&k<p.length){var X=k++;return{value:S(X,p[X]),done:!1}}return F=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(p){return p||function(){return i(this,function(S,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function f(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function g(p,S,k){return p.call.apply(p.bind,arguments)}function y(p,S,k){if(!p)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,F),p.apply(S,G)}}return function(){return p.apply(S,arguments)}}function w(p,S,k){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,w.apply(null,arguments)}function R(p,S){var k=Array.prototype.slice.call(arguments,1);return function(){var F=k.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function I(p,S){function k(){}k.prototype=S.prototype,p.aa=S.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(F,G,X){for(var ue=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)ue[ot-2]=arguments[ot];return S.prototype[G].apply(F,ue)}}function x(p){const S=p.length;if(0<S){const k=Array(S);for(let F=0;F<S;F++)k[F]=p[F];return k}return[]}function _(p,S){for(let k=1;k<arguments.length;k++){const F=arguments[k];if(h(F)){const G=p.length||0,X=F.length||0;p.length=G+X;for(let ue=0;ue<X;ue++)p[G+ue]=F[ue]}else p.push(F)}}class E{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function P(p){return/^[\s\xa0]*$/.test(p)}function A(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function O(p){return O[" "](p),p}O[" "]=function(){};var U=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function z(p,S,k){for(const F in p)S.call(k,p[F],F,p)}function M(p,S){for(const k in p)S.call(void 0,p[k],k,p)}function L(p){const S={};for(const k in p)S[k]=p[k];return S}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,S){let k,F;for(let G=1;G<arguments.length;G++){F=arguments[G];for(k in F)p[k]=F[k];for(let X=0;X<N.length;X++)k=N[X],Object.prototype.hasOwnProperty.call(F,k)&&(p[k]=F[k])}}function D(p){var S=1;p=p.split(":");const k=[];for(;0<S&&p.length;)k.push(p.shift()),S--;return p.length&&k.push(p.join(":")),k}function V(p){c.setTimeout(()=>{throw p},0)}function B(){var p=pe;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class te{constructor(){this.h=this.g=null}add(S,k){const F=de.get();F.set(S,k),this.h?this.h.next=F:this.g=F,this.h=F}}var de=new E(()=>new Ie,p=>p.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,ae=!1,pe=new te,he=()=>{const p=c.Promise.resolve(void 0);ke=()=>{p.then(q)}};var q=()=>{for(var p;p=B();){try{p.h.call(p.g)}catch(k){V(k)}var S=de;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}ae=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};c.addEventListener("test",k,S),c.removeEventListener("test",k,S)}catch{}return p}();function De(p,S){if(xe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(U){e:{try{O(S.nodeName);var G=!0;break e}catch{}G=!1}G||(S=null)}}else k=="mouseover"?S=p.fromElement:k=="mouseout"&&(S=p.toElement);this.relatedTarget=S,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ve[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&De.aa.h.call(this)}}I(De,xe);var Ve={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function lt(p,S,k,F,G){this.listener=p,this.proxy=null,this.src=S,this.type=k,this.capture=!!F,this.ha=G,this.key=++Je,this.da=this.fa=!1}function qt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Nr(p){this.src=p,this.g={},this.h=0}Nr.prototype.add=function(p,S,k,F,G){var X=p.toString();p=this.g[X],p||(p=this.g[X]=[],this.h++);var ue=pn(p,S,F,G);return-1<ue?(S=p[ue],k||(S.fa=!1)):(S=new lt(S,this.src,X,!!F,G),S.fa=k,p.push(S)),S};function Pr(p,S){var k=S.type;if(k in p.g){var F=p.g[k],G=Array.prototype.indexOf.call(F,S,void 0),X;(X=0<=G)&&Array.prototype.splice.call(F,G,1),X&&(qt(S),p.g[k].length==0&&(delete p.g[k],p.h--))}}function pn(p,S,k,F){for(var G=0;G<p.length;++G){var X=p[G];if(!X.da&&X.listener==S&&X.capture==!!k&&X.ha==F)return G}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),zi={};function Ko(p,S,k,F,G){if(Array.isArray(S)){for(var X=0;X<S.length;X++)Ko(p,S[X],k,F,G);return null}return k=Or(k),p&&p[Xe]?p.K(S,k,f(F)?!!F.capture:!1,G):Qo(p,S,k,!1,F,G)}function Qo(p,S,k,F,G,X){if(!S)throw Error("Invalid event type");var ue=f(G)?!!G.capture:!!G,ot=It(p);if(ot||(p[Jr]=ot=new Nr(p)),k=ot.add(S,k,F,ue,X),k.proxy)return k;if(F=Ka(),k.proxy=F,F.src=p,F.listener=k,p.addEventListener)Pe||(G=ue),G===void 0&&(G=!1),p.addEventListener(S.toString(),F,G);else if(p.attachEvent)p.attachEvent(Me(S.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Ka(){function p(k){return S.call(p.src,p.listener,k)}const S=ct;return p}function Hi(p,S,k,F,G){if(Array.isArray(S))for(var X=0;X<S.length;X++)Hi(p,S[X],k,F,G);else F=f(F)?!!F.capture:!!F,k=Or(k),p&&p[Xe]?(p=p.i,S=String(S).toString(),S in p.g&&(X=p.g[S],k=pn(X,k,F,G),-1<k&&(qt(X[k]),Array.prototype.splice.call(X,k,1),X.length==0&&(delete p.g[S],p.h--)))):p&&(p=It(p))&&(S=p.g[S.toString()],p=-1,S&&(p=pn(S,k,F,G)),(k=-1<p?S[p]:null)&&jr(k))}function jr(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[Xe])Pr(S.i,p);else{var k=p.type,F=p.proxy;S.removeEventListener?S.removeEventListener(k,F,p.capture):S.detachEvent?S.detachEvent(Me(k),F):S.addListener&&S.removeListener&&S.removeListener(F),(k=It(S))?(Pr(k,p),k.h==0&&(k.src=null,S[Jr]=null)):qt(p)}}}function Me(p){return p in zi?zi[p]:zi[p]="on"+p}function ct(p,S){if(p.da)p=!0;else{S=new De(S,this);var k=p.listener,F=p.ha||p.src;p.fa&&jr(p),p=k.call(F,S)}return p}function It(p){return p=p[Jr],p instanceof Nr?p:null}var Zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Or(p){return typeof p=="function"?p:(p[Zr]||(p[Zr]=function(S){return p.handleEvent(S)}),p[Zr])}function gt(){ne.call(this),this.i=new Nr(this),this.M=this,this.F=null}I(gt,ne),gt.prototype[Xe]=!0,gt.prototype.removeEventListener=function(p,S,k,F){Hi(this,p,S,k,F)};function it(p,S){var k,F=p.F;if(F)for(k=[];F;F=F.F)k.push(F);if(p=p.M,F=S.type||S,typeof S=="string")S=new xe(S,p);else if(S instanceof xe)S.target=S.target||p;else{var G=S;S=new xe(F,p),b(S,G)}if(G=!0,k)for(var X=k.length-1;0<=X;X--){var ue=S.g=k[X];G=mn(ue,F,!0,S)&&G}if(ue=S.g=p,G=mn(ue,F,!0,S)&&G,G=mn(ue,F,!1,S)&&G,k)for(X=0;X<k.length;X++)ue=S.g=k[X],G=mn(ue,F,!1,S)&&G}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var k=p.g[S],F=0;F<k.length;F++)qt(k[F]);delete p.g[S],p.h--}}this.F=null},gt.prototype.K=function(p,S,k,F){return this.i.add(String(p),S,!1,k,F)},gt.prototype.L=function(p,S,k,F){return this.i.add(String(p),S,!0,k,F)};function mn(p,S,k,F){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var G=!0,X=0;X<S.length;++X){var ue=S[X];if(ue&&!ue.da&&ue.capture==k){var ot=ue.listener,Zt=ue.ha||ue.src;ue.fa&&Pr(p.i,ue),G=ot.call(Zt,F)!==!1&&G}}return G&&!F.defaultPrevented}function si(p,S,k){if(typeof p=="function")k&&(p=w(p,k));else if(p&&typeof p.handleEvent=="function")p=w(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:c.setTimeout(p,S||0)}function Wi(p){p.g=si(()=>{p.g=null,p.i&&(p.i=!1,Wi(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Yo extends ne{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Wi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xo(p){ne.call(this),this.h=p,this.g={}}I(Xo,ne);var Vc=[];function Uc(p){z(p.g,function(S,k){this.g.hasOwnProperty(k)&&jr(S)},p),p.g={}}Xo.prototype.N=function(){Xo.aa.N.call(this),Uc(this)},Xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bc=c.JSON.stringify,$c=c.JSON.parse,zc=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Jo(){}Jo.prototype.h=null;function Qa(p){return p.h||(p.h=p.i())}function Ya(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Is(){xe.call(this,"d")}I(Is,xe);function Xa(){xe.call(this,"c")}I(Xa,xe);var Rs={},Hc=null;function Zo(){return Hc=Hc||new gt}Rs.La="serverreachability";function Wc(p){xe.call(this,Rs.La,p)}I(Wc,xe);function ii(p){const S=Zo();it(S,new Wc(S))}Rs.STAT_EVENT="statevent";function qc(p,S){xe.call(this,Rs.STAT_EVENT,p),this.stat=S}I(qc,xe);function $t(p){const S=Zo();it(S,new qc(S,p))}Rs.Ma="timingevent";function Ja(p,S){xe.call(this,Rs.Ma,p),this.size=S}I(Ja,xe);function es(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},S)}function ea(){this.g=!0}ea.prototype.xa=function(){this.g=!1};function ta(p,S,k,F,G,X){p.info(function(){if(p.g)if(X)for(var ue="",ot=X.split("&"),Zt=0;Zt<ot.length;Zt++){var qe=ot[Zt].split("=");if(1<qe.length){var on=qe[0];qe=qe[1];var Gt=on.split("_");ue=2<=Gt.length&&Gt[1]=="type"?ue+(on+"="+qe+"&"):ue+(on+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+F+") [attempt "+G+"]: "+S+`
`+k+`
`+ue})}function Za(p,S,k,F,G,X,ue){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+G+"]: "+S+`
`+k+`
`+X+" "+ue})}function ts(p,S,k,F){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+Zm(p,k)+(F?" "+F:"")})}function Gc(p,S){p.info(function(){return"TIMEOUT: "+S})}ea.prototype.info=function(){};function Zm(p,S){if(!p.g)return S;if(!S)return null;try{var k=JSON.parse(S);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var F=k[p];if(!(2>F.length)){var G=F[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<G.length;ue++)G[ue]=""}}}}return Bc(k)}catch{return S}}var el={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ns;function na(){}I(na,Jo),na.prototype.g=function(){return new XMLHttpRequest},na.prototype.i=function(){return{}},ns=new na;function rs(p,S,k,F){this.j=p,this.i=S,this.l=k,this.R=F||1,this.U=new Xo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rh}function rh(){this.i=null,this.g="",this.h=!1}var Kc={},tl={};function nl(p,S,k){p.L=1,p.v=Yi(dr(S)),p.m=k,p.P=!0,Qc(p,null)}function Qc(p,S){p.F=Date.now(),yt(p),p.A=dr(p.v);var k=p.A,F=p.R;Array.isArray(F)||(F=[String(F)]),Ji(k.i,"t",F),p.C=0,k=p.j.J,p.h=new rh,p.g=wh(p.j,k?S:null,!p.m),0<p.O&&(p.M=new Yo(w(p.Y,p,p.g),p.O)),S=p.U,k=p.g,F=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(Vc[0]=G.toString()),G=Vc);for(var X=0;X<G.length;X++){var ue=Ko(k,G[X],F||S.handleEvent,!1,S.h||S);if(!ue)break;S.g[ue.key]=ue}S=p.H?L(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),ii(),ta(p.i,p.u,p.A,p.l,p.R,p.m)}rs.prototype.ca=function(p){p=p.target;const S=this.M;S&&Qn(p)==3?S.j():this.Y(p)},rs.prototype.Y=function(p){try{if(p==this.g)e:{const Gt=Qn(this.g);var S=this.g.Ba();const Fr=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||tu(this.g)))){this.J||Gt!=4||S==7||(S==8||0>=Fr?ii(3):ii(2)),ra(this);var k=this.g.Z();this.X=k;t:if(sh(this)){var F=tu(this.g);p="";var G=F.length,X=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),qi(this);var ue="";break t}this.h.i=new c.TextDecoder}for(S=0;S<G;S++)this.h.h=!0,p+=this.h.i.decode(F[S],{stream:!(X&&S==G-1)});F.length=0,this.h.g+=p,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=k==200,Za(this.i,this.u,this.A,this.l,this.R,Gt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,Zt=this.g;if((ot=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(ot)){var qe=ot;break t}}qe=null}if(k=qe)ts(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yc(this,k);else{this.o=!1,this.s=3,$t(12),Dr(this),qi(this);break e}}if(this.P){k=!0;let fr;for(;!this.J&&this.C<ue.length;)if(fr=eg(this,ue),fr==tl){Gt==4&&(this.s=4,$t(14),k=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==Kc){this.s=4,$t(15),ts(this.i,this.l,ue,"[Invalid Chunk]"),k=!1;break}else ts(this.i,this.l,fr,null),Yc(this,fr);if(sh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ue.length!=0||this.h.h||(this.s=1,$t(16),k=!1),this.o=this.o&&k,!k)ts(this.i,this.l,ue,"[Invalid Chunked Response]"),Dr(this),qi(this);else if(0<ue.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ru(on),on.M=!0,$t(11))}}else ts(this.i,this.l,ue,null),Yc(this,ue);Gt==4&&Dr(this),this.o&&!this.J&&(Gt==4?fl(this.j,this):(this.o=!1,yt(this)))}else ll(this.g),k==400&&0<ue.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Dr(this),qi(this)}}}catch{}finally{}};function sh(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function eg(p,S){var k=p.C,F=S.indexOf(`
`,k);return F==-1?tl:(k=Number(S.substring(k,F)),isNaN(k)?Kc:(F+=1,F+k>S.length?tl:(S=S.slice(F,F+k),p.C=F+k,S)))}rs.prototype.cancel=function(){this.J=!0,Dr(this)};function yt(p){p.S=Date.now()+p.I,ih(p,p.I)}function ih(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=es(w(p.ba,p),S)}function ra(p){p.B&&(c.clearTimeout(p.B),p.B=null)}rs.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Gc(this.i,this.A),this.L!=2&&(ii(),$t(17)),Dr(this),this.s=2,qi(this)):ih(this,this.S-p)};function qi(p){p.j.G==0||p.J||fl(p.j,p)}function Dr(p){ra(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,Uc(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function Yc(p,S){try{var k=p.j;if(k.G!=0&&(k.g==p||$n(k.h,p))){if(!p.K&&$n(k.h,p)&&k.G==3){try{var F=k.Da.g.parse(S)}catch{F=null}if(Array.isArray(F)&&F.length==3){var G=F;if(G[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)hl(k),ls(k);else break e;dl(k),$t(18)}}else k.za=G[1],0<k.za-k.T&&37500>G[2]&&k.F&&k.v==0&&!k.C&&(k.C=es(w(k.Za,k),6e3));if(1>=ah(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ui(k,11)}else if((p.K||k.g==p)&&hl(k),!P(S))for(G=k.Da.g.parse(S),S=0;S<G.length;S++){let qe=G[S];if(k.T=qe[0],qe=qe[1],k.G==2)if(qe[0]=="c"){k.K=qe[1],k.ia=qe[2];const on=qe[3];on!=null&&(k.la=on,k.j.info("VER="+k.la));const Gt=qe[4];Gt!=null&&(k.Aa=Gt,k.j.info("SVER="+k.Aa));const Fr=qe[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(F=1.5*Fr,k.L=F,k.j.info("backChannelRequestTimeoutMs_="+F)),F=k;const fr=p.g;if(fr){const ua=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var X=F.h;X.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Xc(X,X.h),X.h=null))}if(F.D){const ml=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(F.ya=ml,ft(F.I,F.D,ml))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),F=k;var ue=p;if(F.qa=xh(F,F.J?F.ia:null,F.W),ue.K){lh(F.h,ue);var ot=ue,Zt=F.L;Zt&&(ot.I=Zt),ot.B&&(ra(ot),yt(ot)),F.g=ue}else ca(F);0<k.i.length&&Ps(k)}else qe[0]!="stop"&&qe[0]!="close"||ui(k,7);else k.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ui(k,7):yn(k):qe[0]!="noop"&&k.l&&k.l.ta(qe),k.v=0)}}ii(4)}catch{}}var oh=class{constructor(p,S){this.g=p,this.map=S}};function sa(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ur(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ah(p){return p.h?1:p.g?p.g.size:0}function $n(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function Xc(p,S){p.g?p.g.add(S):p.h=S}function lh(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}sa.prototype.cancel=function(){if(this.i=ch(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ch(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const k of p.g.values())S=S.concat(k.D);return S}return x(p.i)}function rl(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var S=[],k=p.length,F=0;F<k;F++)S.push(p[F]);return S}S=[],k=0;for(F in p)S[k++]=p[F];return S}function sl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var S=[];p=p.length;for(var k=0;k<p;k++)S.push(k);return S}S=[],k=0;for(const F in p)S[k++]=F;return S}}}function Gi(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var k=sl(p),F=rl(p),G=F.length,X=0;X<G;X++)S.call(void 0,F[X],k&&k[X],p)}var ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tg(p,S){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var F=p[k].indexOf("="),G=null;if(0<=F){var X=p[k].substring(0,F);G=p[k].substring(F+1)}else X=p[k];S(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function oi(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof oi){this.h=p.h,oa(this,p.j),this.o=p.o,this.g=p.g,Ki(this,p.s),this.l=p.l;var S=p.i,k=new ks;k.i=S.i,S.g&&(k.g=new Map(S.g),k.h=S.h),Qi(this,k),this.m=p.m}else p&&(S=String(p).match(ia))?(this.h=!1,oa(this,S[1]||"",!0),this.o=ze(S[2]||""),this.g=ze(S[3]||"",!0),Ki(this,S[4]),this.l=ze(S[5]||"",!0),Qi(this,S[6]||"",!0),this.m=ze(S[7]||"")):(this.h=!1,this.i=new ks(null,this.h))}oi.prototype.toString=function(){var p=[],S=this.j;S&&p.push(Xi(S,il,!0),":");var k=this.g;return(k||S=="file")&&(p.push("//"),(S=this.o)&&p.push(Xi(S,il,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(Xi(k,k.charAt(0)=="/"?hh:dh,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",Xi(k,Jc)),p.join("")};function dr(p){return new oi(p)}function oa(p,S,k){p.j=k?ze(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function Ki(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function Qi(p,S,k){S instanceof ks?(p.i=S,As(p.i,p.h)):(k||(S=Xi(S,fh)),p.i=new ks(S,p.h))}function ft(p,S,k){p.i.set(S,k)}function Yi(p){return ft(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ze(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Xi(p,S,k){return typeof p=="string"?(p=encodeURI(p).replace(S,uh),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function uh(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var il=/[#\/\?@]/g,dh=/[#\?:]/g,hh=/[#\?]/g,fh=/[#\?@]/g,Jc=/#/g;function ks(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function gn(p){p.g||(p.g=new Map,p.h=0,p.i&&tg(p.i,function(S,k){p.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}n=ks.prototype,n.add=function(p,S){gn(this),this.i=null,p=Mr(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(S),this.h+=1,this};function ss(p,S){gn(p),S=Mr(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function is(p,S){return gn(p),S=Mr(p,S),p.g.has(S)}n.forEach=function(p,S){gn(this),this.g.forEach(function(k,F){k.forEach(function(G){p.call(S,G,F,this)},this)},this)},n.na=function(){gn(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),k=[];for(let F=0;F<S.length;F++){const G=p[F];for(let X=0;X<G.length;X++)k.push(S[F])}return k},n.V=function(p){gn(this);let S=[];if(typeof p=="string")is(this,p)&&(S=S.concat(this.g.get(Mr(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)S=S.concat(p[k])}return S},n.set=function(p,S){return gn(this),this.i=null,p=Mr(this,p),is(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},n.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function Ji(p,S,k){ss(p,S),0<k.length&&(p.i=null,p.g.set(Mr(p,S),x(k)),p.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var k=0;k<S.length;k++){var F=S[k];const X=encodeURIComponent(String(F)),ue=this.V(F);for(F=0;F<ue.length;F++){var G=X;ue[F]!==""&&(G+="="+encodeURIComponent(String(ue[F]))),p.push(G)}}return this.i=p.join("&")};function Mr(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function As(p,S){S&&!p.j&&(gn(p),p.i=null,p.g.forEach(function(k,F){var G=F.toLowerCase();F!=G&&(ss(this,F),Ji(this,G,k))},p)),p.j=S}function ng(p,S){const k=new ea;if(c.Image){const F=new Image;F.onload=R(Kn,k,"TestLoadImage: loaded",!0,S,F),F.onerror=R(Kn,k,"TestLoadImage: error",!1,S,F),F.onabort=R(Kn,k,"TestLoadImage: abort",!1,S,F),F.ontimeout=R(Kn,k,"TestLoadImage: timeout",!1,S,F),c.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else S(!1)}function ph(p,S){const k=new ea,F=new AbortController,G=setTimeout(()=>{F.abort(),Kn(k,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:F.signal}).then(X=>{clearTimeout(G),X.ok?Kn(k,"TestPingServer: ok",!0,S):Kn(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(G),Kn(k,"TestPingServer: error",!1,S)})}function Kn(p,S,k,F,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),F(k)}catch{}}function rg(){this.g=new zc}function mh(p,S,k){const F=k||"";try{Gi(p,function(G,X){let ue=G;f(G)&&(ue=Bc(G)),S.push(F+X+"="+encodeURIComponent(ue))})}catch(G){throw S.push(F+"type="+encodeURIComponent("_badmap")),G}}function ai(p){this.l=p.Ub||null,this.j=p.eb||!1}I(ai,Jo),ai.prototype.g=function(){return new aa(this.l,this.j)},ai.prototype.i=function(p){return function(){return p}}({});function aa(p,S){gt.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(aa,gt),n=aa.prototype,n.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,as(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||c).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function gh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?os(this):as(this),this.readyState==3&&gh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,os(this))},n.Qa=function(p){this.g&&(this.response=p,os(this))},n.ga=function(){this.g&&os(this)};function os(p){p.readyState=4,p.l=null,p.j=null,p.v=null,as(p)}n.setRequestHeader=function(p,S){this.u.append(p,S)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=S.next();return p.join(`\r
`)};function as(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function li(p){let S="";return z(p,function(k,F){S+=F,S+=":",S+=k,S+=`\r
`}),S}function Zi(p,S,k){e:{for(F in k){var F=!1;break e}F=!0}F||(k=li(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):ft(p,S,k))}function Rt(p){gt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Rt,gt);var sg=/^https?$/i,Zc=["POST","PUT"];n=Rt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,S,k,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ns.g(),this.v=this.o?Qa(this.o):Qa(ns),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(X){la(this,X);return}if(p=k||"",k=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var G in F)k.set(G,F[G]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const X of F.keys())k.set(X,F.get(X));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(k.keys()).find(X=>X.toLowerCase()=="content-type"),G=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Zc,S,void 0))||F||G||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of k)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{al(this),this.u=!0,this.g.send(p),this.u=!1}catch(X){la(this,X)}};function la(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,ol(p),hr(p)}function ol(p){p.A||(p.A=!0,it(p,"complete"),it(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,it(this,"complete"),it(this,"abort"),hr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),Rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?eu(this):this.bb())},n.bb=function(){eu(this)};function eu(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Qn(p)!=4||p.Z()!=2)){if(p.u&&Qn(p)==4)si(p.Ea,0,p);else if(it(p,"readystatechange"),Qn(p)==4){p.h=!1;try{const ue=p.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var F;if(F=ue===0){var G=String(p.D).match(ia)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),F=!sg.test(G?G.toLowerCase():"")}k=F}if(k)it(p,"complete"),it(p,"success");else{p.m=6;try{var X=2<Qn(p)?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.Z()+"]",ol(p)}}finally{hr(p)}}}}function hr(p,S){if(p.g){al(p);const k=p.g,F=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||it(p,"ready");try{k.onreadystatechange=F}catch{}}}function al(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Qn(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),$c(S)}};function tu(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ll(p){const S={};p=(p.g&&2<=Qn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(P(p[F]))continue;var k=D(p[F]);const G=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const X=S[G]||[];S[G]=X,X.push(k)}M(S,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(p,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||S}function nu(p){this.Aa=0,this.i=[],this.j=new ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,p),this.cb=Ns("retryDelaySeedMs",1e4,p),this.Wa=Ns("forwardChannelMaxRetries",2,p),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new sa(p&&p.concurrentRequestLimit),this.Da=new rg,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nu.prototype,n.la=8,n.G=1,n.connect=function(p,S,k,F){$t(0),this.W=p,this.H=S||{},k&&F!==void 0&&(this.H.OSID=k,this.H.OAID=F),this.F=this.X,this.I=xh(this,null,this.W),Ps(this)};function yn(p){if(cl(p),p.G==3){var S=p.U++,k=dr(p.I);if(ft(k,"SID",p.K),ft(k,"RID",S),ft(k,"TYPE","terminate"),ci(p,k),S=new rs(p,p.j,S),S.L=2,S.v=Yi(dr(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(S.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=S.v,k=!0),k||(S.g=wh(S.j,null),S.g.ea(S.v)),S.F=Date.now(),yt(S)}_h(p)}function ls(p){p.g&&(ru(p),p.g.cancel(),p.g=null)}function cl(p){ls(p),p.u&&(c.clearTimeout(p.u),p.u=null),hl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Ps(p){if(!ur(p.h)&&!p.s){p.s=!0;var S=p.Ga;ke||he(),ae||(ke(),ae=!0),pe.add(S,p),p.B=0}}function ig(p,S){return ah(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=es(w(p.Ga,p,S),vh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new rs(this,this.j,p);let X=this.o;if(this.S&&(X?(X=L(X),b(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var F=this.i[k];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(S+=F,4096<S){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=eo(this,G,S),k=dr(this.I),ft(k,"RID",p),ft(k,"CVER",22),this.D&&ft(k,"X-HTTP-Session-Id",this.D),ci(this,k),X&&(this.O?S="headers="+encodeURIComponent(String(li(X)))+"&"+S:this.m&&Zi(k,this.m,X)),Xc(this.h,G),this.Ua&&ft(k,"TYPE","init"),this.P?(ft(k,"$req",S),ft(k,"SID","null"),G.T=!0,nl(G,k,null)):nl(G,k,S),this.G=2}}else this.G==3&&(p?ul(this,p):this.i.length==0||ur(this.h)||ul(this))};function ul(p,S){var k;S?k=S.l:k=p.U++;const F=dr(p.I);ft(F,"SID",p.K),ft(F,"RID",k),ft(F,"AID",p.T),ci(p,F),p.m&&p.o&&Zi(F,p.m,p.o),k=new rs(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),S&&(p.i=S.D.concat(p.i)),S=eo(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Xc(p.h,k),nl(k,F,S)}function ci(p,S){p.H&&z(p.H,function(k,F){ft(S,F,k)}),p.l&&Gi({},function(k,F){ft(S,F,k)})}function eo(p,S,k){k=Math.min(p.i.length,k);var F=p.l?w(p.l.Na,p.l,p):null;e:{var G=p.i;let X=-1;for(;;){const ue=["count="+k];X==-1?0<k?(X=G[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let ot=!0;for(let Zt=0;Zt<k;Zt++){let qe=G[Zt].g;const on=G[Zt].map;if(qe-=X,0>qe)X=Math.max(0,G[Zt].g-100),ot=!1;else try{mh(on,ue,"req"+qe+"_")}catch{F&&F(on)}}if(ot){F=ue.join("&");break e}}}return p=p.i.splice(0,k),S.D=p,F}function ca(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;ke||he(),ae||(ke(),ae=!0),pe.add(S,p),p.v=0}}function dl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=es(w(p.Fa,p),vh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,yh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=es(w(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),ls(this),yh(this))};function ru(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function yh(p){p.g=new rs(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=dr(p.qa);ft(S,"RID","rpc"),ft(S,"SID",p.K),ft(S,"AID",p.T),ft(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&ft(S,"TO",p.ja),ft(S,"TYPE","xmlhttp"),ci(p,S),p.m&&p.o&&Zi(S,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=Yi(dr(S)),k.m=null,k.P=!0,Qc(k,p)}n.Za=function(){this.C!=null&&(this.C=null,ls(this),dl(this),$t(19))};function hl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function fl(p,S){var k=null;if(p.g==S){hl(p),ru(p),p.g=null;var F=2}else if($n(p.h,S))k=S.D,lh(p.h,S),F=1;else return;if(p.G!=0){if(S.o)if(F==1){k=S.m?S.m.length:0,S=Date.now()-S.F;var G=p.B;F=Zo(),it(F,new Ja(F,k)),Ps(p)}else ca(p);else if(G=S.s,G==3||G==0&&0<S.X||!(F==1&&ig(p,S)||F==2&&dl(p)))switch(k&&0<k.length&&(S=p.h,S.i=S.i.concat(k)),G){case 1:ui(p,5);break;case 4:ui(p,10);break;case 3:ui(p,6);break;default:ui(p,2)}}}function vh(p,S){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*S}function ui(p,S){if(p.j.info("Error code "+S),S==2){var k=w(p.fb,p),F=p.Xa;const G=!F;F=new oi(F||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||oa(F,"https"),Yi(F),G?ng(F.toString(),k):ph(F.toString(),k)}else $t(2);p.G=0,p.l&&p.l.sa(S),_h(p),cl(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function _h(p){if(p.G=0,p.ka=[],p.l){const S=ch(p.h);(S.length!=0||p.i.length!=0)&&(_(p.ka,S),_(p.ka,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.ra()}}function xh(p,S,k){var F=k instanceof oi?dr(k):new oi(k);if(F.g!="")S&&(F.g=S+"."+F.g),Ki(F,F.s);else{var G=c.location;F=G.protocol,S=S?S+"."+G.hostname:G.hostname,G=+G.port;var X=new oi(null);F&&oa(X,F),S&&(X.g=S),G&&Ki(X,G),k&&(X.l=k),F=X}return k=p.D,S=p.ya,k&&S&&ft(F,k,S),ft(F,"VER",p.la),ci(p,F),F}function wh(p,S,k){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new Rt(new ai({eb:k})):new Rt(p.pa),S.Ha(p.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}n=su.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function pl(){}pl.prototype.g=function(p,S){return new zn(p,S)};function zn(p,S){gt.call(this),this.g=new nu(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!P(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new js(this)}I(zn,gt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){yn(this.g)},zn.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=Bc(p),p=k);S.i.push(new oh(S.Ya++,p)),S.G==3&&Ps(S)},zn.prototype.N=function(){this.g.l=null,delete this.j,yn(this.g),delete this.g,zn.aa.N.call(this)};function bh(p){Is.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const k in S){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}I(bh,Is);function Eh(){Xa.call(this),this.status=1}I(Eh,Xa);function js(p){this.g=p}I(js,su),js.prototype.ua=function(){it(this.g,"a")},js.prototype.ta=function(p){it(this.g,new bh(p))},js.prototype.sa=function(p){it(this.g,new Eh)},js.prototype.ra=function(){it(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,r2=function(){return new pl},n2=function(){return Zo()},t2=Rs,P0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},el.NO_ERROR=0,el.TIMEOUT=8,el.HTTP_ERROR=6,Uf=el,nh.COMPLETE="complete",e2=nh,Ya.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Hu=Ya,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,ZC=Rt}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});const qb="@firebase/firestore",Gb="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Gp("@firebase/firestore");function $l(){return jo.logLevel}function p3(n){jo.setLogLevel(n)}function ye(n,...e){if(jo.logLevel<=Be.DEBUG){const t=e.map(r_);jo.debug(`Firestore (${Sc}): ${n}`,...t)}}function ji(n,...e){if(jo.logLevel<=Be.ERROR){const t=e.map(r_);jo.error(`Firestore (${Sc}): ${n}`,...t)}}function oc(n,...e){if(jo.logLevel<=Be.WARN){const t=e.map(r_);jo.warn(`Firestore (${Sc}): ${n}`,...t)}}function r_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+n;throw ji(e),new Error(e)}function st(n,e){n||Re()}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class g3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class y3{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=i;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ii)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string"),new s2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new An(e)}}class v3{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _3{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new v3(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x3{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Dn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){st(this.o===void 0);const r=i=>{i.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.R;return this.R=i.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Kb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new Kb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=w3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function He(n,e){return n<e?-1:n>e?1:0}function ac(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=-62135596800,Yb=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Yb);return new nn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Qb)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Qb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new nn(0,0))}static max(){return new Ne(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="__name__";class Us{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Us.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Us?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Us.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Us.isNumericId(e),s=Us.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Us.extractNumericId(e).compare(Us.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Tt extends Us{construct(e,t,r){return new Tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const b3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Us{construct(e,t,r){return new bn(e,t,r)}static isValidIdentifier(e){return b3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xb}static keyField(){return new bn([Xb])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(i(),s++)}if(i(),l)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Tt.fromString(e))}static fromName(e){return new Ee(Tt.fromString(e).popFirst(5))}static empty(){return new Ee(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function E3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new nn(t+1,0):new nn(t,r));return new Oo(s,Ee.empty(),e)}function S3(n){return new Oo(n.readTime,n.key,fd)}class Oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Oo(Ne.min(),Ee.empty(),fd)}static max(){return new Oo(Ne.max(),Ee.empty(),fd)}}function T3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==C3)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let s=0,i=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++i,l&&i===s&&t()},h=>r(h))}),l=!0,i===s&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(s=>s?se.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new se((r,s)=>{const i=e.length,l=new Array(i);let c=0;for(let h=0;h<i;h++){const f=h;t(e[f]).next(g=>{l[f]=g,++c,c===i&&r(l)},g=>s(g))}})}static doWhile(e,t){return new se((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function R3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Cc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}em.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-1;function tm(n){return n==null}function fp(n){return n===0&&1/n==-1/0}function k3(n){return typeof n=="number"&&Number.isInteger(n)&&!fp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="";function A3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jb(e)),e=N3(n.get(t),e);return Jb(e)}function N3(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case o2:t+="";break;default:t+=i}}return t}function Jb(n){return n+o2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function a2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class j0{constructor(e,t){this.comparator=e,this.root=t||Ro.EMPTY}insert(e,t){return new j0(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ro.BLACK,null,null))}remove(e){return new j0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ro.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}},wf=class{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ro=class wi{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??wi.RED,this.left=s??wi.EMPTY,this.right=i??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new wi(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return wi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}};Ro.EMPTY=null,Ro.RED=!0,Ro.BLACK=!1;Ro.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,s,i){return this}insert(e,t,r){return new Ro(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(e){return new eE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rn(this.comparator);return t.data=e,t}}class eE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new xr([])}unionWith(e){let t=new rn(bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new l2("Invalid base64 string: "+i):i}}(e);return new En(t)}static fromUint8Array(e){const t=function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i}(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const P3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(n){if(st(!!n),typeof n=="string"){let e=0;const t=P3.exec(n);if(st(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Do(n){return typeof n=="string"?En.fromBase64String(n):En.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="server_timestamp",u2="__type__",d2="__previous_value__",h2="__local_write_time__";function i_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[u2])===null||t===void 0?void 0:t.stringValue)===c2}function nm(n){const e=n.mapValue.fields[d2];return i_(e)?nm(e):e}function pd(n){const e=Lo(n.mapValue.fields[h2].timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,t,r,s,i,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}const pp="(default)";class md{constructor(e,t){this.projectId=e,this.database=t||pp}static empty(){return new md("","")}get isDefaultDatabase(){return this.database===pp}isEqual(e){return e instanceof md&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="__type__",O3="__max__",bf={mapValue:{}},p2="__vector__",mp="value";function Mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?i_(n)?4:D3(n)?9007199254740991:L3(n)?10:11:Re()}function ei(n,e){if(n===e)return!0;const t=Mo(n);if(t!==Mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pd(n).isEqual(pd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=Lo(s.timestampValue),c=Lo(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return Do(s.bytesValue).isEqual(Do(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return Ht(s.geoPointValue.latitude)===Ht(i.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ht(s.integerValue)===Ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Ht(s.doubleValue),c=Ht(i.doubleValue);return l===c?fp(l)===fp(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ac(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(s,i){const l=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Zb(l)!==Zb(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ei(l[h],c[h])))return!1;return!0}(n,e);default:return Re()}}function gd(n,e){return(n.values||[]).find(t=>ei(t,e))!==void 0}function lc(n,e){if(n===e)return 0;const t=Mo(n),r=Mo(e);if(t!==r)return He(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=Ht(i.integerValue||i.doubleValue),h=Ht(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return tE(n.timestampValue,e.timestampValue);case 4:return tE(pd(n),pd(e));case 5:return He(n.stringValue,e.stringValue);case 6:return function(i,l){const c=Do(i),h=Do(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const g=He(c[f],h[f]);if(g!==0)return g}return He(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=He(Ht(i.latitude),Ht(l.latitude));return c!==0?c:He(Ht(i.longitude),Ht(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nE(n.arrayValue,e.arrayValue);case 10:return function(i,l){var c,h,f,g;const y=i.fields||{},w=l.fields||{},R=(c=y[mp])===null||c===void 0?void 0:c.arrayValue,I=(h=w[mp])===null||h===void 0?void 0:h.arrayValue,x=He(((f=R==null?void 0:R.values)===null||f===void 0?void 0:f.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:nE(R,I)}(n.mapValue,e.mapValue);case 11:return function(i,l){if(i===bf.mapValue&&l===bf.mapValue)return 0;if(i===bf.mapValue)return 1;if(l===bf.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const w=He(h[y],g[y]);if(w!==0)return w;const R=lc(c[h[y]],f[g[y]]);if(R!==0)return R}return He(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Re()}}function tE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=Lo(n),r=Lo(e),s=He(t.seconds,r.seconds);return s!==0?s:He(t.nanos,r.nanos)}function nE(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=lc(t[s],r[s]);if(i)return i}return He(t.length,r.length)}function cc(n){return O0(n)}function O0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Lo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Do(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=O0(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${O0(t.fields[l])}`;return s+"}"}(n.mapValue):Re()}function Bf(n){switch(Mo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(n);return e?16+Bf(e):16;case 5:return 2*n.stringValue.length;case 6:return Do(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Bf(i),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Wo(r.fields,(i,l)=>{s+=i.length+Bf(l)}),s}(n.mapValue);default:throw Re()}}function rE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function L0(n){return!!n&&"integerValue"in n}function o_(n){return!!n&&"arrayValue"in n}function sE(n){return!!n&&"nullValue"in n}function iE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $f(n){return!!n&&"mapValue"in n}function L3(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[f2])===null||t===void 0?void 0:t.stringValue)===p2}function Xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function D3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===O3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xu(t)}setAll(e){let t=bn.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=Xu(l):s.push(c.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());$f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];$f(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Wo(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rr(Xu(this.value))}}function m2(n){const e=[];return Wo(n.fields,(t,r)=>{const s=new bn([t]);if($f(r)){const i=m2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,t,r,s,i,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new jn(e,0,Ne.min(),Ne.min(),Ne.min(),rr.empty(),0)}static newFoundDocument(e,t,r,s){return new jn(e,1,t,Ne.min(),r,s,0)}static newNoDocument(e,t){return new jn(e,2,t,Ne.min(),Ne.min(),rr.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,Ne.min(),Ne.min(),rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.position=e,this.inclusive=t}}function oE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=lc(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function aE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function M3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{}class Xt extends g2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new V3(e,t,r):t==="array-contains"?new $3(e,r):t==="in"?new z3(e,r):t==="not-in"?new H3(e,r):t==="array-contains-any"?new W3(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new U3(e,r):new B3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(lc(t,this.value)):t!==null&&Mo(this.value)===Mo(t)&&this.matchesComparison(lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends g2{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new bs(e,t)}matches(e){return y2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function y2(n){return n.op==="and"}function v2(n){return F3(n)&&y2(n)}function F3(n){for(const e of n.filters)if(e instanceof bs)return!1;return!0}function D0(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(v2(n))return n.filters.map(e=>D0(e)).join(",");{const e=n.filters.map(t=>D0(t)).join(",");return`${n.op}(${e})`}}function _2(n,e){return n instanceof Xt?function(r,s){return s instanceof Xt&&r.op===s.op&&r.field.isEqual(s.field)&&ei(r.value,s.value)}(n,e):n instanceof bs?function(r,s){return s instanceof bs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,l,c)=>i&&_2(l,s.filters[c]),!0):!1}(n,e):void Re()}function x2(n){return n instanceof Xt?function(t){return`${t.field.canonicalString()} ${t.op} ${cc(t.value)}`}(n):n instanceof bs?function(t){return t.op.toString()+" {"+t.getFilters().map(x2).join(" ,")+"}"}(n):"Filter"}class V3 extends Xt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class U3 extends Xt{constructor(e,t){super(e,"in",t),this.keys=w2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class B3 extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=w2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function w2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class $3 extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return o_(t)&&gd(t.arrayValue,this.value)}}class z3 extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gd(this.value.arrayValue,t)}}class H3 extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gd(this.value.arrayValue,t)}}class W3 extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!o_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t=null,r=[],s=[],i=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=c,this.le=null}}function lE(n,e=null,t=[],r=[],s=null,i=null,l=null){return new q3(n,e,t,r,s,i,l)}function a_(n){const e=je(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>D0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cc(r)).join(",")),e.le=t}return e.le}function l_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aE(n.startAt,e.startAt)&&aE(n.endAt,e.endAt)}function M0(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t=null,r=[],s=[],i=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function G3(n,e,t,r,s,i,l,c){return new Ic(n,e,t,r,s,i,l,c)}function rm(n){return new Ic(n)}function cE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function b2(n){return n.collectionGroup!==null}function Ju(n){const e=je(n);if(e.he===null){e.he=[];const t=new Set;for(const i of e.explicitOrderBy)e.he.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new rn(bn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.he.push(new yd(i,r))}),t.has(bn.keyField().canonicalString())||e.he.push(new yd(bn.keyField(),r))}return e.he}function Ys(n){const e=je(n);return e.Pe||(e.Pe=K3(e,Ju(n))),e.Pe}function K3(n,e){if(n.limitType==="F")return lE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yd(s.field,i)});const t=n.endAt?new gp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new gp(n.startAt.position,n.startAt.inclusive):null;return lE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function F0(n,e){const t=n.filters.concat([e]);return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function yp(n,e,t){return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sm(n,e){return l_(Ys(n),Ys(e))&&n.limitType===e.limitType}function E2(n){return`${a_(Ys(n))}|lt:${n.limitType}`}function zl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>x2(s)).join(", ")}]`),tm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>cc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>cc(s)).join(",")),`Target(${r})`}(Ys(n))}; limitType=${n.limitType})`}function im(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of Ju(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,c,h){const f=oE(l,c,h);return l.inclusive?f<=0:f<0}(r.startAt,Ju(r),s)||r.endAt&&!function(l,c,h){const f=oE(l,c,h);return l.inclusive?f>=0:f>0}(r.endAt,Ju(r),s))}(n,e)}function Q3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function S2(n){return(e,t)=>{let r=!1;for(const s of Ju(n)){const i=Y3(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Y3(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(i,l,c){const h=l.data.field(i),f=c.data.field(i);return h!==null&&f!==null?lc(h,f):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return a2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new Jt(Ee.comparator);function Oi(){return X3}const T2=new Jt(Ee.comparator);function Wu(...n){let e=T2;for(const t of n)e=e.insert(t.key,t);return e}function C2(n){let e=T2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ca(){return Zu()}function I2(){return Zu()}function Zu(){return new za(n=>n.toString(),(n,e)=>n.isEqual(e))}const J3=new Jt(Ee.comparator),Z3=new rn(Ee.comparator);function $e(...n){let e=Z3;for(const t of n)e=e.add(t);return e}const e4=new rn(He);function t4(){return e4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(e)?"-0":e}}function R2(n){return{integerValue:""+n}}function n4(n,e){return k3(e)?R2(e):c_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function r4(n,e,t){return n instanceof vd?function(s,i){const l={fields:{[u2]:{stringValue:c2},[h2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&i_(i)&&(i=nm(i)),i&&(l.fields[d2]=i),{mapValue:l}}(t,e):n instanceof _d?A2(n,e):n instanceof xd?N2(n,e):function(s,i){const l=k2(s,i),c=uE(l)+uE(s.Ie);return L0(l)&&L0(s.Ie)?R2(c):c_(s.serializer,c)}(n,e)}function s4(n,e,t){return n instanceof _d?A2(n,e):n instanceof xd?N2(n,e):t}function k2(n,e){return n instanceof vp?function(r){return L0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vd extends om{}class _d extends om{constructor(e){super(),this.elements=e}}function A2(n,e){const t=P2(e);for(const r of n.elements)t.some(s=>ei(s,r))||t.push(r);return{arrayValue:{values:t}}}class xd extends om{constructor(e){super(),this.elements=e}}function N2(n,e){let t=P2(e);for(const r of n.elements)t=t.filter(s=>!ei(s,r));return{arrayValue:{values:t}}}class vp extends om{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function uE(n){return Ht(n.integerValue||n.doubleValue)}function P2(n){return o_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.field=e,this.transform=t}}function o4(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof _d&&s instanceof _d||r instanceof xd&&s instanceof xd?ac(r.elements,s.elements,ei):r instanceof vp&&s instanceof vp?ei(r.Ie,s.Ie):r instanceof vd&&s instanceof vd}(n.transform,e.transform)}class a4{constructor(e,t){this.version=e,this.transformResults=t}}class Kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class am{}function j2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new u_(n.key,Kr.none()):new Md(n.key,n.data,Kr.none());{const t=n.data,r=rr.empty();let s=new rn(bn.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new qo(n.key,r,new xr(s.toArray()),Kr.none())}}function l4(n,e,t){n instanceof Md?function(s,i,l){const c=s.value.clone(),h=hE(s.fieldTransforms,i,l.transformResults);c.setAll(h),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof qo?function(s,i,l){if(!zf(s.precondition,i))return void i.convertToUnknownDocument(l.version);const c=hE(s.fieldTransforms,i,l.transformResults),h=i.data;h.setAll(O2(s)),h.setAll(c),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ed(n,e,t,r){return n instanceof Md?function(i,l,c,h){if(!zf(i.precondition,l))return c;const f=i.value.clone(),g=fE(i.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof qo?function(i,l,c,h){if(!zf(i.precondition,l))return c;const f=fE(i.fieldTransforms,h,l),g=l.data;return g.setAll(O2(i)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(i,l,c){return zf(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function c4(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=k2(r.transform,s||null);i!=null&&(t===null&&(t=rr.empty()),t.set(r.field,i))}return t||null}function dE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ac(r,s,(i,l)=>o4(i,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Md extends am{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qo extends am{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function O2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hE(n,e,t){const r=new Map;st(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,c=e.data.field(i.field);r.set(i.field,s4(l,c,t[s]))}return r}function fE(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,r4(i,l,e))}return r}class u_ extends am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u4 extends am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&l4(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ed(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ed(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=I2();return this.mutations.forEach(s=>{const i=e.get(s.key),l=i.overlayedDocument;let c=this.applyToLocalView(l,i.mutatedFields);c=t.has(s.key)?null:c;const h=j2(l,c);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,(t,r)=>dE(t,r))&&ac(this.baseMutations,e.baseMutations,(t,r)=>dE(t,r))}}class d_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){st(e.mutations.length===r.length);let s=function(){return J3}();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new d_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Ge;function p4(n){switch(n){case re.OK:return Re();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Re()}}function L2(n){if(n===void 0)return ji("GRPC error has no .code"),re.UNKNOWN;switch(n){case Qt.OK:return re.OK;case Qt.CANCELLED:return re.CANCELLED;case Qt.UNKNOWN:return re.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return re.INTERNAL;case Qt.UNAVAILABLE:return re.UNAVAILABLE;case Qt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Qt.NOT_FOUND:return re.NOT_FOUND;case Qt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Qt.ABORTED:return re.ABORTED;case Qt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Qt.DATA_LOSS:return re.DATA_LOSS;default:return Re()}}(Ge=Qt||(Qt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Io([4294967295,4294967295],0);function pE(n){const e=m4().encode(n),t=new JC;return t.update(e),new Uint8Array(t.digest())}function mE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Io([t,r],0),new Io([s,i],0)]}class h_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qu(`Invalid padding: ${t}`);if(r<0)throw new qu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new qu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Io.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(Io.fromNumber(r)));return s.compare(g4)===1&&(s=new Io([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=pE(e),[r,s]=mE(t);for(let i=0;i<this.hashCount;i++){const l=this.Ae(r,s,i);if(!this.Re(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new h_(i,s,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=pE(e),[r,s]=mE(t);for(let i=0;i<this.hashCount;i++){const l=this.Ae(r,s,i);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Fd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new lm(Ne.min(),s,new Jt(He),Oi(),$e())}}class Fd{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fd(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class D2{constructor(e,t){this.targetId=e,this.ge=t}}class M2{constructor(e,t,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class gE{constructor(){this.pe=0,this.ye=yE(),this.we=En.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=$e(),t=$e(),r=$e();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new Fd(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=yE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,st(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class y4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Oi(),this.$e=Ef(),this.Ke=Ef(),this.Ue=new Jt(He)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const i=s.target;if(M0(i))if(r===0){const l=new Ee(i.path);this.ze(t,l,jn.newNoDocument(l,Ne.min()))}else st(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,c;try{l=Do(r).toUint8Array()}catch(h){if(h instanceof l2)return oc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new h_(l,s,i)}catch(h){return oc(h instanceof qu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,i,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((i,l)=>{const c=this.Xe(l);if(c){if(i.current&&M0(c.target)){const h=new Ee(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,jn.newNoDocument(h,e))}i.ve&&(t.set(l,i.Fe()),i.Me())}});let r=$e();this.Ke.forEach((i,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.Qe.forEach((i,l)=>l.setReadTime(e));const s=new lm(e,t,this.Ue,this.Qe,r);return this.Qe=Oi(),this.$e=Ef(),this.Ke=Ef(),this.Ue=new Jt(He),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new gE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new rn(He),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new rn(He),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ef(){return new Jt(Ee.comparator)}function yE(){return new Jt(Ee.comparator)}const v4={asc:"ASCENDING",desc:"DESCENDING"},_4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x4={and:"AND",or:"OR"};class w4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function V0(n,e){return n.useProto3Json||tm(e)?e:{value:e}}function _p(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function b4(n,e){return _p(n,e.toTimestamp())}function Xs(n){return st(!!n),Ne.fromTimestamp(function(t){const r=Lo(t);return new nn(r.seconds,r.nanos)}(n))}function f_(n,e){return U0(n,e).canonicalString()}function U0(n,e){const t=function(s){return new Tt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function V2(n){const e=Tt.fromString(n);return st(H2(e)),e}function B0(n,e){return f_(n.databaseId,e.path)}function Vy(n,e){const t=V2(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(B2(t))}function U2(n,e){return f_(n.databaseId,e)}function E4(n){const e=V2(n);return e.length===4?Tt.emptyPath():B2(e)}function $0(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B2(n){return st(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vE(n,e,t){return{name:B0(n,e),fields:t.value.mapValue.fields}}function S4(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(f,g){return f.useProto3Json?(st(g===void 0||typeof g=="string"),En.fromBase64String(g||"")):(st(g===void 0||g instanceof Buffer||g instanceof Uint8Array),En.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const g=f.code===void 0?re.UNKNOWN:L2(f.code);return new ge(g,f.message||"")}(l);t=new M2(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vy(n,r.document.name),i=Xs(r.document.updateTime),l=r.document.createTime?Xs(r.document.createTime):Ne.min(),c=new rr({mapValue:{fields:r.document.fields}}),h=jn.newFoundDocument(s,i,l,c),f=r.targetIds||[],g=r.removedTargetIds||[];t=new Hf(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vy(n,r.document),i=r.readTime?Xs(r.readTime):Ne.min(),l=jn.newNoDocument(s,i),c=r.removedTargetIds||[];t=new Hf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vy(n,r.document),i=r.removedTargetIds||[];t=new Hf([],i,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new f4(s,i),c=r.targetId;t=new D2(c,l)}}return t}function T4(n,e){let t;if(e instanceof Md)t={update:vE(n,e.key,e.value)};else if(e instanceof u_)t={delete:B0(n,e.key)};else if(e instanceof qo)t={update:vE(n,e.key,e.data),updateMask:O4(e.fieldMask)};else{if(!(e instanceof u4))return Re();t={verify:B0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof vd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _d)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof vp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:b4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re()}(n,e.precondition)),t}function C4(n,e){return n&&n.length>0?(st(e!==void 0),n.map(t=>function(s,i){let l=s.updateTime?Xs(s.updateTime):Xs(i);return l.isEqual(Ne.min())&&(l=Xs(i)),new a4(l,s.transformResults||[])}(t,e))):[]}function I4(n,e){return{documents:[U2(n,e.path)]}}function R4(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=U2(n,s);const i=function(f){if(f.length!==0)return z2(bs.create(f,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const l=function(f){if(f.length!==0)return f.map(g=>function(w){return{field:Hl(w.field),direction:N4(w.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=V0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:s}}function k4(n){let e=E4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){st(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];t.where&&(i=function(y){const w=$2(y);return w instanceof bs&&v2(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(w=>function(I){return new yd(Wl(I.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(y){let w;return w=typeof y=="object"?y.value:y,tm(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(y){const w=!!y.before,R=y.values||[];return new gp(R,w)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const w=!y.before,R=y.values||[];return new gp(R,w)}(t.endAt)),G3(e,s,l,i,c,"F",h,f)}function A4(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wl(t.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wl(t.unaryFilter.field);return Xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wl(t.unaryFilter.field);return Xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wl(t.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return Xt.create(Wl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bs.create(t.compositeFilter.filters.map(r=>$2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function N4(n){return v4[n]}function P4(n){return _4[n]}function j4(n){return x4[n]}function Hl(n){return{fieldPath:n.canonicalString()}}function Wl(n){return bn.fromServerFormat(n.fieldPath)}function z2(n){return n instanceof Xt?function(t){if(t.op==="=="){if(iE(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NAN"}};if(sE(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iE(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NOT_NAN"}};if(sE(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(t.field),op:P4(t.op),value:t.value}}}(n):n instanceof bs?function(t){const r=t.getFilters().map(s=>z2(s));return r.length===1?r[0]:{compositeFilter:{op:j4(t.op),filters:r}}}(n):Re()}function O4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function H2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t,r,s,i=Ne.min(),l=Ne.min(),c=En.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.Tt=e}}function D4(n){const e=k4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.Tn=new F4}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Oo.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class F4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new rn(Tt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W2=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(W2,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new uc(0)}static Un(){return new uc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="LruGarbageCollector",V4=1048576;function wE([n,e],[t,r]){const s=He(n,t);return s===0?He(e,r):s}class U4{constructor(e){this.Hn=e,this.buffer=new rn(wE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class B4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(xE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Cc(t)?ye(xE,"Ignoring IndexedDB error during garbage collection: ",t):await Tc(t)}await this.er(3e5)})}}class $4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(em.ae);const r=new U4(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(_E)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,i,l,c,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,t))).next(y=>(i=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),$l()<=Be.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${i} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:y})))}}function z4(n,e){return new $4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.changes=new za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&ed(r.mutation,s,xr.empty(),nn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){const s=Ca();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let l=Wu();return i.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ca();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,s){let i=Oi();const l=Zu(),c=function(){return Zu()}();return t.forEach((h,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof qo)?i=i.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),ed(g.mutation,f,g.mutation.getFieldMask(),nn.now())):l.set(f.key,xr.empty())}),this.recalculateAndSaveOverlays(e,i).next(h=>(h.forEach((f,g)=>l.set(f,g)),t.forEach((f,g)=>{var y;return c.set(f,new W4(g,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Zu();let s=new Jt((l,c)=>l-c),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let g=r.get(h)||xr.empty();g=c.applyToLocalView(f,g),r.set(h,g);const y=(s.get(c.batchId)||$e()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,g=h.value,y=I2();g.forEach(w=>{if(!i.has(w)){const R=j2(t.get(w),r.get(w));R!==null&&y.set(w,R),i=i.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):se.resolve(Ca());let c=fd,h=i;return l.next(f=>se.forEach(f,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),i.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,f,i)).next(()=>this.computeViews(e,h,f,$e())).next(g=>({batchId:c,changes:C2(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let s=Wu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=Wu();return this.indexManager.getCollectionParents(e,i).next(c=>se.forEach(c,h=>{const f=function(y,w){return new Ic(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(g=>{g.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(l=>{i.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,jn.newInvalidDocument(g)))});let c=Wu();return l.forEach((h,f)=>{const g=i.get(h);g!==void 0&&ed(g.mutation,f,xr.empty(),nn.now()),im(t,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Xs(s.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:D4(s.bundledQuery),readTime:Xs(s.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.overlays=new Jt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ca();return se.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.Et(e,t,i)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const s=Ca(),i=t.length+1,l=new Ee(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Jt((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=i.get(f.largestBatchId);g===null&&(g=Ca(),i=i.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=Ca(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>c.set(f,g)),!(c.size()>=s)););return se.resolve(c)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new h4(t,r));let i=this.Rr.get(t);i===void 0&&(i=$e(),this.Rr.set(t,i)),this.Rr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.Vr=new rn(dn.mr),this.gr=new rn(dn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new dn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new dn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Ee(new Tt([])),r=new dn(t,e),s=new dn(t,e+1),i=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),i.push(l.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new Tt([])),r=new dn(t,e),s=new dn(t,e+1);let i=$e();return this.gr.forEachInRange([r,s],l=>{i=i.add(l.key)}),i}containsKey(e){const t=new dn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||He(e.Cr,t.Cr)}static pr(e,t){return He(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new rn(dn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new d4(i,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new dn(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),i=s<0?0:s;return se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?s_:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new dn(t,0),s=new dn(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],l=>{const c=this.Or(l.Cr);i.push(c)}),se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rn(He);return t.forEach(s=>{const i=new dn(s,0),l=new dn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,l],c=>{r=r.add(c.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Ee.isDocumentKey(i)||(i=i.child(""));const l=new dn(new Ee(i),0);let c=new rn(He);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Cr)),!0)},l),se.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){st(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(t.mutations,s=>{const i=new dn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new dn(t,0),s=this.Mr.firstAfterOrEqual(r);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.kr=e,this.docs=function(){return new Jt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jn.newInvalidDocument(s))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Oi();const l=t.path,c=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||T3(S3(g),r)<=0||(s.has(g.key)||im(t,g))&&(i=i.insert(g.key,g.mutableCopy()))}return se.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Re()}qr(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new J4(this)}getSize(e){return se.resolve(this.size)}}class J4 extends H4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.persistence=e,this.Qr=new za(t=>a_(t),l_),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new p_,this.targetCount=0,this.Ur=uc.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new uc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),se.waitFor(i).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(l=>{i.push(s.markPotentiallyOrphaned(e,l))}),se.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new em(0),this.zr=!1,this.zr=!0,this.jr=new Q4,this.referenceDelegate=e(this),this.Hr=new Z4(this),this.indexManager=new M4,this.remoteDocumentCache=function(s){return new X4(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new L4(t),this.Yr=new G4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new K4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Y4(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const s=new eM(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,t){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class eM extends I3{constructor(e){super(),this.currentSequenceNumber=e}}class m_{constructor(e){this.persistence=e,this.ti=new p_,this.ni=null}static ri(e){return new m_(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const s=Ee.fromPath(r);return this.si(e,s).next(i=>{i||t.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class xp{constructor(e,t){this.persistence=e,this.oi=new za(r=>A3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=z4(this,t)}static ri(e,t){return new xp(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?se.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,i.removeEntry(l,Ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bf(e.data.value)),t}ar(e,t,r){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=$e(),s=$e();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new g_(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return b5()?8:R3(Bn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.rs(e,t).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.ss(e,t,s,r).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new tM;return this._s(e,t,l).next(c=>{if(i.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>i.result)}us(e,t,r,s){return r.documentReadCount<this.es?($l()<=Be.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",zl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):($l()<=Be.DEBUG&&ye("QueryEngine","Query:",zl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?($l()<=Be.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",zl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ys(t))):se.resolve())}rs(e,t){if(cE(t))return se.resolve(null);let r=Ys(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=yp(t,null,"F"),r=Ys(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const l=$e(...i);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.cs(t,c);return this.ls(t,f,l,h.readTime)?this.rs(e,yp(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,r,s){return cE(t)||s.isEqual(Ne.min())?se.resolve(null):this.ns.getDocuments(e,r).next(i=>{const l=this.cs(t,i);return this.ls(t,l,r,s)?se.resolve(null):($l()<=Be.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zl(t)),this.hs(e,l,t,E3(s,fd)).next(c=>c))})}cs(e,t){let r=new rn(S2(e));return t.forEach((s,i)=>{im(e,i)&&(r=r.add(i))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,t,r){return $l()<=Be.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",zl(t)),this.ns.getDocumentsMatchingQuery(e,t,Oo.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="LocalStore",rM=3e8;class sM{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Jt(He),this.Is=new za(i=>a_(i),l_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function iM(n,e,t,r){return new sM(n,e,t,r)}async function G2(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const l=[],c=[];let h=$e();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of i){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function oM(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,f,g){const y=f.batch,w=y.keys();let R=se.resolve();return w.forEach(I=>{R=R.next(()=>g.getEntry(h,I)).next(x=>{const _=f.docVersions.get(I);st(_!==null),x.version.compareTo(_)<0&&(y.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),g.addEntry(x)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=$e();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function K2(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function aM(n,e){const t=je(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const c=[];e.targetChanges.forEach((g,y)=>{const w=s.get(y);if(!w)return;c.push(t.Hr.removeMatchingKeys(i,g.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(i,g.addedDocuments,y)));let R=w.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(y)!==null?R=R.withResumeToken(En.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(g.resumeToken,r)),s=s.insert(y,R),function(x,_,E){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=rM?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(w,R,g)&&c.push(t.Hr.updateTargetData(i,R))});let h=Oi(),f=$e();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(i,g))}),c.push(lM(i,l,e.documentUpdates).next(g=>{h=g.Vs,f=g.fs})),!r.isEqual(Ne.min())){const g=t.Hr.getLastRemoteSnapshotVersion(i).next(y=>t.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(g)}return se.waitFor(c).next(()=>l.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,h,f)).next(()=>h)}).then(i=>(t.Ts=s,i))}function lM(n,e,t){let r=$e(),s=$e();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=Oi();return t.forEach((c,h)=>{const f=i.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ye(y_,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function cM(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=s_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uM(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(i=>i?(s=i,se.resolve(s)):t.Hr.allocateTargetId(r).next(l=>(s=new So(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function z0(n,e,t){const r=je(n),s=r.Ts.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Cc(l))throw l;ye(y_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function bE(n,e,t){const r=je(n);let s=Ne.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const y=je(h),w=y.Is.get(g);return w!==void 0?se.resolve(y.Ts.get(w)):y.Hr.getTargetData(f,g)}(r,l,Ys(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{i=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?s:Ne.min(),t?i:$e())).next(c=>(dM(r,Q3(e),c),{documents:c,gs:i})))}function dM(n,e,t){let r=n.Es.get(e)||Ne.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.Es.set(e,r)}class EE{constructor(){this.activeTargetIds=t4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hM{constructor(){this.ho=new EE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new EE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="ConnectivityMonitor";class TE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(SE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(SE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function H0(){return Sf===null?Sf=function(){return 268435456+Math.round(2147483648*Math.random())}():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="RestConnection",pM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===pp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,t,r,s,i){const l=H0(),c=this.So(e,t.toUriEncodedString());ye(Uy,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,i),this.vo(e,c,h,r).then(f=>(ye(Uy,`Received RPC '${e}' ${l}: `,f),f),f=>{throw oc(Uy,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",r),f})}Co(e,t,r,s,i,l){return this.bo(e,t,r,s,i)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}So(e,t){const r=pM[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class yM extends mM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const i=H0();return new Promise((l,c)=>{const h=new ZC;h.setWithCredentials(!0),h.listenOnce(e2.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Uf.NO_ERROR:const g=h.getResponseJson();ye(Rn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(g)),l(g);break;case Uf.TIMEOUT:ye(Rn,`RPC '${e}' ${i} timed out`),c(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const y=h.getStatus();if(ye(Rn,`RPC '${e}' ${i} failed with status:`,y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w==null?void 0:w.error;if(R&&R.status&&R.message){const I=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(E)>=0?E:re.UNKNOWN}(R.status);c(new ge(I,R.message))}else c(new ge(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ye(Rn,`RPC '${e}' ${i} completed.`)}});const f=JSON.stringify(s);ye(Rn,`RPC '${e}' ${i} sending request:`,s),h.send(t,"POST",f,r,15)})}Wo(e,t,r){const s=H0(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=r2(),c=n2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");ye(Rn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=l.createWebChannel(g,h);let w=!1,R=!1;const I=new gM({Fo:_=>{R?ye(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(w||(ye(Rn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),w=!0),ye(Rn,`RPC '${e}' stream ${s} sending:`,_),y.send(_))},Mo:()=>y.close()}),x=(_,E,P)=>{_.listen(E,A=>{try{P(A)}catch(O){setTimeout(()=>{throw O},0)}})};return x(y,Hu.EventType.OPEN,()=>{R||(ye(Rn,`RPC '${e}' stream ${s} transport opened.`),I.Qo())}),x(y,Hu.EventType.CLOSE,()=>{R||(R=!0,ye(Rn,`RPC '${e}' stream ${s} transport closed`),I.Ko())}),x(y,Hu.EventType.ERROR,_=>{R||(R=!0,oc(Rn,`RPC '${e}' stream ${s} transport errored:`,_),I.Ko(new ge(re.UNAVAILABLE,"The operation could not be completed")))}),x(y,Hu.EventType.MESSAGE,_=>{var E;if(!R){const P=_.data[0];st(!!P);const A=P,O=(A==null?void 0:A.error)||((E=A[0])===null||E===void 0?void 0:E.error);if(O){ye(Rn,`RPC '${e}' stream ${s} received error:`,O);const U=O.status;let z=function(N){const b=Qt[N];if(b!==void 0)return L2(b)}(U),M=O.message;z===void 0&&(z=re.INTERNAL,M="Unknown error status: "+U+" with message "+O.message),R=!0,I.Ko(new ge(z,M)),y.close()}else ye(Rn,`RPC '${e}' stream ${s} received:`,P),I.Uo(P)}}),x(c,t2.STAT_EVENT,_=>{_.stat===P0.PROXY?ye(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===P0.NOPROXY&&ye(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function By(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n){return new w4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="PersistentStream";class Y2{constructor(e,t,r,s,i,l,c,h){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Q2(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new ge(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(CE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ye(CE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vM extends Y2{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=S4(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ne.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?Xs(l.readTime):Ne.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=$0(this.serializer),t.addTarget=function(i,l){let c;const h=l.target;if(c=M0(h)?{documents:I4(i,h)}:{query:R4(i,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=F2(i,l.resumeToken);const f=V0(i,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=_p(i,l.snapshotVersion.toTimestamp());const f=V0(i,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=A4(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=$0(this.serializer),t.removeTarget=e,this.I_(t)}}class _M extends Y2{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=C4(e.writeResults,e.commitTime),r=Xs(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=$0(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>T4(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{}class wM extends xM{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.bo(e,U0(t,r),s,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(re.UNKNOWN,i.toString())})}Co(e,t,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,U0(t,r),s,l,c,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ji(t),this.N_=!1):ye("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class EM{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ha(this)&&(ye(Oa,"Restarting streams for network reachability change."),await async function(h){const f=je(h);f.W_.add(4),await Vd(f),f.j_.set("Unknown"),f.W_.delete(4),await um(f)}(this))})}),this.j_=new bM(r,s)}}async function um(n){if(Ha(n))for(const e of n.G_)await e(!0)}async function Vd(n){for(const e of n.G_)await e(!1)}function X2(n,e){const t=je(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),w_(t)?x_(t):Rc(t).c_()&&__(t,e))}function v_(n,e){const t=je(n),r=Rc(t);t.U_.delete(e),r.c_()&&J2(t,e),t.U_.size===0&&(r.c_()?r.P_():Ha(t)&&t.j_.set("Unknown"))}function __(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rc(n).y_(e)}function J2(n,e){n.H_.Ne(e),Rc(n).w_(e)}function x_(n){n.H_=new y4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Rc(n).start(),n.j_.B_()}function w_(n){return Ha(n)&&!Rc(n).u_()&&n.U_.size>0}function Ha(n){return je(n).W_.size===0}function Z2(n){n.H_=void 0}async function SM(n){n.j_.set("Online")}async function TM(n){n.U_.forEach((e,t)=>{__(n,e)})}async function CM(n,e){Z2(n),w_(n)?(n.j_.q_(e),x_(n)):n.j_.set("Unknown")}async function IM(n,e,t){if(n.j_.set("Online"),e instanceof M2&&e.state===2&&e.cause)try{await async function(s,i){const l=i.cause;for(const c of i.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.U_.delete(c),s.H_.removeTarget(c))}(n,e)}catch(r){ye(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wp(n,r)}else if(e instanceof Hf?n.H_.We(e):e instanceof D2?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ne.min()))try{const r=await K2(n.localStore);t.compareTo(r)>=0&&await function(i,l){const c=i.H_.ot(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.U_.get(f);g&&i.U_.set(f,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const g=i.U_.get(h);if(!g)return;i.U_.set(h,g.withResumeToken(En.EMPTY_BYTE_STRING,g.snapshotVersion)),J2(i,h);const y=new So(g.target,h,f,g.sequenceNumber);__(i,y)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ye(Oa,"Failed to raise snapshot:",r),await wp(n,r)}}async function wp(n,e,t){if(!Cc(e))throw e;n.W_.add(1),await Vd(n),n.j_.set("Offline"),t||(t=()=>K2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Oa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await um(n)})}function eI(n,e){return e().catch(t=>wp(n,t,e))}async function dm(n){const e=je(n),t=Fo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:s_;for(;RM(e);)try{const s=await cM(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,kM(e,s)}catch(s){await wp(e,s)}tI(e)&&nI(e)}function RM(n){return Ha(n)&&n.K_.length<10}function kM(n,e){n.K_.push(e);const t=Fo(n);t.c_()&&t.b_&&t.S_(e.mutations)}function tI(n){return Ha(n)&&!Fo(n).u_()&&n.K_.length>0}function nI(n){Fo(n).start()}async function AM(n){Fo(n).C_()}async function NM(n){const e=Fo(n);for(const t of n.K_)e.S_(t.mutations)}async function PM(n,e,t){const r=n.K_.shift(),s=d_.from(r,e,t);await eI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await dm(n)}async function jM(n,e){e&&Fo(n).b_&&await async function(r,s){if(function(l){return p4(l)&&l!==re.ABORTED}(s.code)){const i=r.K_.shift();Fo(r).h_(),await eI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await dm(r)}}(n,e),tI(n)&&nI(n)}async function IE(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),ye(Oa,"RemoteStore received new credentials");const r=Ha(t);t.W_.add(3),await Vd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await um(t)}async function OM(n,e){const t=je(n);e?(t.W_.delete(2),await um(t)):e||(t.W_.add(2),await Vd(t),t.j_.set("Unknown"))}function Rc(n){return n.J_||(n.J_=function(t,r,s){const i=je(t);return i.M_(),new vM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{xo:SM.bind(null,n),No:TM.bind(null,n),Lo:CM.bind(null,n),p_:IM.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),w_(n)?x_(n):n.j_.set("Unknown")):(await n.J_.stop(),Z2(n))})),n.J_}function Fo(n){return n.Y_||(n.Y_=function(t,r,s){const i=je(t);return i.M_(),new _M(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:AM.bind(null,n),Lo:jM.bind(null,n),D_:NM.bind(null,n),v_:PM.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await dm(n)):(await n.Y_.stop(),n.K_.length>0&&(ye(Oa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,c=new b_(e,t,l,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(n,e){if(ji("AsyncQueue",`${e}: ${n}`),Cc(n))return new ge(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Wu(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.Z_=new Jt(Ee.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class dc{constructor(e,t,r,s,i,l,c,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new dc(e,t,Jl.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class DM{constructor(){this.queries=kE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=je(t),i=s.queries;s.queries=kE(),i.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function kE(){return new za(n=>E2(n),sm)}async function S_(n,e){const t=je(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new LM,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await t.onListen(s,!0);break;case 1:i.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=E_(l,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,i),i.ta.push(e),e.sa(t.onlineState),i.ea&&e.oa(i.ea)&&C_(t)}async function T_(n,e){const t=je(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.ta.indexOf(e);l>=0&&(i.ta.splice(l,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function MM(n,e){const t=je(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const c of l.ta)c.oa(s)&&(r=!0);l.ea=s}}r&&C_(t)}function FM(n,e,t){const r=je(n),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(t);r.queries.delete(e)}function C_(n){n.ia.forEach(e=>{e.next()})}var W0,AE;(AE=W0||(W0={}))._a="default",AE.Cache="cache";class I_{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==W0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.key=e}}class sI{constructor(e){this.key=e}}class VM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$e(),this.mutatedKeys=$e(),this.ya=S2(e),this.wa=new Jl(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new RE,s=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const w=s.get(g),R=im(this.query,y)?y:null,I=!!w&&this.mutatedKeys.has(w.key),x=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let _=!1;w&&R?w.data.isEqual(R.data)?I!==x&&(r.track({type:3,doc:R}),_=!0):this.va(w,R)||(r.track({type:2,doc:R}),_=!0,(h&&this.ya(R,h)>0||f&&this.ya(R,f)<0)&&(c=!0)):!w&&R?(r.track({type:0,doc:R}),_=!0):w&&!R&&(r.track({type:1,doc:w}),_=!0,(h||f)&&(c=!0)),_&&(R?(l=l.add(R),i=x?i.add(g):i.delete(g)):(l=l.delete(g),i=i.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,y)=>function(R,I){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return x(R)-x(I)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(r),s=s!=null&&s;const c=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new dc(this.query,e.wa,i,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new RE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=$e(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new sI(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new rI(r))}),t}Oa(e){this.fa=e.gs,this.pa=$e();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return dc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const R_="SyncEngine";class UM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class BM{constructor(e){this.key=e,this.Ba=!1}}class $M{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new za(c=>E2(c),sm),this.qa=new Map,this.Qa=new Set,this.$a=new Jt(Ee.comparator),this.Ka=new Map,this.Ua=new p_,this.Wa={},this.Ga=new Map,this.za=uc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function zM(n,e,t=!0){const r=uI(n);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await iI(r,e,t,!0),s}async function HM(n,e){const t=uI(n);await iI(t,e,!0,!1)}async function iI(n,e,t,r){const s=await uM(n.localStore,Ys(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let c;return r&&(c=await WM(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&X2(n.remoteStore,s),c}async function WM(n,e,t,r,s){n.Ha=(y,w,R)=>async function(x,_,E,P){let A=_.view.Sa(E);A.ls&&(A=await bE(x.localStore,_.query,!1).then(({documents:M})=>_.view.Sa(M,A)));const O=P&&P.targetChanges.get(_.targetId),U=P&&P.targetMismatches.get(_.targetId)!=null,z=_.view.applyChanges(A,x.isPrimaryClient,O,U);return PE(x,_.targetId,z.Ma),z.snapshot}(n,y,w,R);const i=await bE(n.localStore,e,!0),l=new VM(e,i.gs),c=l.Sa(i.documents),h=Fd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),f=l.applyChanges(c,n.isPrimaryClient,h);PE(n,t,f.Ma);const g=new UM(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function qM(n,e,t){const r=je(n),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(l=>!sm(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await z0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&v_(r.remoteStore,s.targetId),q0(r,s.targetId)}).catch(Tc)):(q0(r,s.targetId),await z0(r.localStore,s.targetId,!0))}async function GM(n,e){const t=je(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),v_(t.remoteStore,r.targetId))}async function KM(n,e,t){const r=t6(n);try{const s=await function(l,c){const h=je(l),f=nn.now(),g=c.reduce((R,I)=>R.add(I.key),$e());let y,w;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=Oi(),x=$e();return h.ds.getEntries(R,g).next(_=>{I=_,I.forEach((E,P)=>{P.isValidDocument()||(x=x.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,I)).next(_=>{y=_;const E=[];for(const P of c){const A=c4(P,y.get(P.key).overlayedDocument);A!=null&&E.push(new qo(P.key,A,m2(A.value.mapValue),Kr.exists(!0)))}return h.mutationQueue.addMutationBatch(R,f,E,c)}).next(_=>{w=_;const E=_.applyToLocalDocumentSet(y,x);return h.documentOverlayCache.saveOverlays(R,_.batchId,E)})}).then(()=>({batchId:w.batchId,changes:C2(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new Jt(He)),f=f.insert(c,h),l.Wa[l.currentUser.toKey()]=f}(r,s.batchId,t),await Ud(r,s.changes),await dm(r.remoteStore)}catch(s){const i=E_(s,"Failed to persist write");t.reject(i)}}async function oI(n,e){const t=je(n);try{const r=await aM(t.localStore,e);e.targetChanges.forEach((s,i)=>{const l=t.Ka.get(i);l&&(st(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?st(l.Ba):s.removedDocuments.size>0&&(st(l.Ba),l.Ba=!1))}),await Ud(t,r,e)}catch(r){await Tc(r)}}function NE(n,e,t){const r=je(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((i,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=je(l);h.onlineState=c;let f=!1;h.queries.forEach((g,y)=>{for(const w of y.ta)w.sa(c)&&(f=!0)}),f&&C_(h)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QM(n,e,t){const r=je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),i=s&&s.key;if(i){let l=new Jt(Ee.comparator);l=l.insert(i,jn.newNoDocument(i,Ne.min()));const c=$e().add(i),h=new lm(Ne.min(),new Map,new Jt(He),l,c);await oI(r,h),r.$a=r.$a.remove(i),r.Ka.delete(e),k_(r)}else await z0(r.localStore,e,!1).then(()=>q0(r,e,t)).catch(Tc)}async function YM(n,e){const t=je(n),r=e.batch.batchId;try{const s=await oM(t.localStore,e);lI(t,r,null),aI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ud(t,s)}catch(s){await Tc(s)}}async function XM(n,e,t){const r=je(n);try{const s=await function(l,c){const h=je(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(st(y!==null),g=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(r.localStore,e);lI(r,e,t),aI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ud(r,s)}catch(s){await Tc(s)}}function aI(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function lI(n,e,t){const r=je(n);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function q0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||cI(n,r)})}function cI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(v_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),k_(n))}function PE(n,e,t){for(const r of t)r instanceof rI?(n.Ua.addReference(r.key,e),JM(n,r)):r instanceof sI?(ye(R_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||cI(n,r.key)):Re()}function JM(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ye(R_,"New document in limbo: "+t),n.Qa.add(r),k_(n))}function k_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(Tt.fromString(e)),r=n.za.next();n.Ka.set(r,new BM(t)),n.$a=n.$a.insert(t,r),X2(n.remoteStore,new So(Ys(rm(t.path)),r,"TargetPurposeLimboResolution",em.ae))}}async function Ud(n,e,t){const r=je(n),s=[],i=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=g_.Yi(h.targetId,f);i.push(y)}}))}),await Promise.all(l),r.La.p_(s),await async function(h,f){const g=je(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>se.forEach(f,w=>se.forEach(w.Hi,R=>g.persistence.referenceDelegate.addReference(y,w.targetId,R)).next(()=>se.forEach(w.Ji,R=>g.persistence.referenceDelegate.removeReference(y,w.targetId,R)))))}catch(y){if(!Cc(y))throw y;ye(y_,"Failed to update sequence numbers: "+y)}for(const y of f){const w=y.targetId;if(!y.fromCache){const R=g.Ts.get(w),I=R.snapshotVersion,x=R.withLastLimboFreeSnapshotVersion(I);g.Ts=g.Ts.insert(w,x)}}}(r.localStore,i))}async function ZM(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){ye(R_,"User change. New user:",e.toKey());const r=await G2(t.localStore,e);t.currentUser=e,function(i,l){i.Ga.forEach(c=>{c.forEach(h=>{h.reject(new ge(re.CANCELLED,l))})}),i.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ud(t,r.Rs)}}function e6(n,e){const t=je(n),r=t.Ka.get(e);if(r&&r.Ba)return $e().add(r.key);{let s=$e();const i=t.qa.get(e);if(!i)return s;for(const l of i){const c=t.ka.get(l);s=s.unionWith(c.view.ba)}return s}}function uI(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QM.bind(null,e),e.La.p_=MM.bind(null,e.eventManager),e.La.Ja=FM.bind(null,e.eventManager),e}function t6(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XM.bind(null,e),e}class bp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return iM(this.persistence,new nM,e.initialUser,this.serializer)}Xa(e){return new q2(m_.ri,this.serializer)}Za(e){return new hM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bp.provider={build:()=>new bp};class n6 extends bp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){st(this.persistence.referenceDelegate instanceof xp);const r=this.persistence.referenceDelegate.garbageCollector;return new B4(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new q2(r=>xp.ri(r,t),this.serializer)}}class G0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZM.bind(null,this.syncEngine),await OM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DM}()}createDatastore(e){const t=cm(e.databaseInfo.databaseId),r=function(i){return new yM(i)}(e.databaseInfo);return function(i,l,c,h){return new wM(i,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,l,c){return new EM(r,s,i,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>NE(this.syncEngine,t,0),function(){return TE.D()?new TE:new fM}())}createSyncEngine(e,t){return function(s,i,l,c,h,f,g){const y=new $M(s,i,l,c,h,f);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=je(s);ye(Oa,"RemoteStore shutting down."),i.W_.add(5),await Vd(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}G0.provider={build:()=>new G0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="FirestoreClient";class r6{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=i2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async l=>{ye(Vo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ye(Vo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=E_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $y(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Vo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await G2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function jE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await s6(n);ye(Vo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>IE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>IE(e.remoteStore,s)),n._onlineComponents=e}async function s6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Vo,"Using user provided OfflineComponentProvider");try{await $y(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;oc("Error using user provided cache. Falling back to memory cache: "+t),await $y(n,new bp)}}else ye(Vo,"Using default OfflineComponentProvider"),await $y(n,new n6(void 0));return n._offlineComponents}async function dI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Vo,"Using user provided OnlineComponentProvider"),await jE(n,n._uninitializedComponentsProvider._online)):(ye(Vo,"Using default OnlineComponentProvider"),await jE(n,new G0))),n._onlineComponents}function i6(n){return dI(n).then(e=>e.syncEngine)}async function Ep(n){const e=await dI(n),t=e.eventManager;return t.onListen=zM.bind(null,e.syncEngine),t.onUnlisten=qM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GM.bind(null,e.syncEngine),t}function o6(n,e,t={}){const r=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(i,l,c,h,f){const g=new A_({next:w=>{g.su(),l.enqueueAndForget(()=>T_(i,y));const R=w.docs.has(c);!R&&w.fromCache?f.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&h&&h.source==="server"?f.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new I_(rm(c.path),g,{includeMetadataChanges:!0,Ta:!0});return S_(i,y)}(await Ep(n),n.asyncQueue,e,t,r)),r.promise}function a6(n,e,t={}){const r=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(i,l,c,h,f){const g=new A_({next:w=>{g.su(),l.enqueueAndForget(()=>T_(i,y)),w.fromCache&&h.source==="server"?f.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new I_(c,g,{includeMetadataChanges:!0,Ta:!0});return S_(i,y)}(await Ep(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e,t){if(!t)throw new ge(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l6(n,e,t,r){if(e===!0&&r===!0)throw new ge(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LE(n){if(!Ee.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DE(n){if(Ee.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hm(n);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function c6(n,e){if(e<=0)throw new ge(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firestore.googleapis.com",ME=!0;class FE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pI,this.ssl=ME}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ME;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V4)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m3;switch(r.type){case"firstParty":return new _3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=OE.get(t);r&&(ye("ComponentProvider","Removing Datastore"),OE.delete(t),r.terminate())}(this),Promise.resolve()}}function u6(n,e,t,r={}){var s;const i=(n=or(n,fm))._getSettings(),l=Object.assign(Object.assign({},i),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;i.host!==pI&&i.host!==c&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},i),{host:c,ssl:!1,emulatorOptions:r});if(!No(h,l)&&(n._setSettings(h),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=An.MOCK_USER;else{f=Hv(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new An(y)}n._authCredentials=new g3(new s2(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class Un{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class ko extends $i{constructor(e,t,r){super(e,t,rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Ee(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function sr(n,e,...t){if(n=_t(n),fI("collection","path",e),n instanceof fm){const r=Tt.fromString(e,...t);return DE(r),new ko(n,null,r)}{if(!(n instanceof Un||n instanceof ko))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return DE(r),new ko(n.firestore,null,r)}}function Nt(n,e,...t){if(n=_t(n),arguments.length===1&&(e=i2.newId()),fI("doc","path",e),n instanceof fm){const r=Tt.fromString(e,...t);return LE(r),new Un(n,null,new Ee(r))}{if(!(n instanceof Un||n instanceof ko))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return LE(r),new Un(n.firestore,n instanceof ko?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Q2(this,"async_queue_retry"),this.bu=()=>{const r=By();r&&ye(VE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=By();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=By();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Cc(e))throw e;ye(VE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ji("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=b_.createAndSchedule(this,e,t,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function BE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(n,["next","error","complete"])}class Li extends fm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new UE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function Bd(n,e){const t=typeof n=="object"?n:Kp(),r=typeof n=="string"?n:pp,s=Pd(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=$v("firestore");i&&u6(s,...i)}return s}function pm(n){if(n._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||d6(n),n._firestoreClient}function d6(n){var e,t,r;const s=n._freezeSettings(),i=function(c,h,f,g){return new j3(c,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,hI(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new r6(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(En.fromBase64String(e))}catch(t){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hc(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/^__.*__$/;class f6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Md(e,this.data,t,this.fieldTransforms)}}class mI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class j_{constructor(e,t,r,s,i,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new j_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Sp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gI(this.Lu)&&h6.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class p6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cm(e)}ju(e,t,r,s=!1){return new j_({Lu:e,methodName:t,zu:r,path:bn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ym(n){const e=n._freezeSettings(),t=cm(n._databaseId);return new p6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yI(n,e,t,r,s,i={}){const l=n.ju(i.merge||i.mergeFields?2:0,e,t,s);L_("Data must be an object, but it was:",l,r);const c=vI(r,l);let h,f;if(i.merge)h=new xr(l.fieldMask),f=l.fieldTransforms;else if(i.mergeFields){const g=[];for(const y of i.mergeFields){const w=K0(e,y,t);if(!l.contains(w))throw new ge(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);xI(g,w)||g.push(w)}h=new xr(g),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new f6(new rr(c),h,f)}class vm extends gm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}class O_ extends gm{_toFieldTransform(e){return new i4(e.path,new vd)}isEqual(e){return e instanceof O_}}function m6(n,e,t,r){const s=n.ju(1,e,t);L_("Data must be an object, but it was:",s,r);const i=[],l=rr.empty();Wo(r,(h,f)=>{const g=D_(e,h,t);f=_t(f);const y=s.Ku(g);if(f instanceof vm)i.push(g);else{const w=$d(f,y);w!=null&&(i.push(g),l.set(g,w))}});const c=new xr(i);return new mI(l,c,s.fieldTransforms)}function g6(n,e,t,r,s,i){const l=n.ju(1,e,t),c=[K0(e,r,t)],h=[s];if(i.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<i.length;w+=2)c.push(K0(e,i[w])),h.push(i[w+1]);const f=[],g=rr.empty();for(let w=c.length-1;w>=0;--w)if(!xI(f,c[w])){const R=c[w];let I=h[w];I=_t(I);const x=l.Ku(R);if(I instanceof vm)f.push(R);else{const _=$d(I,x);_!=null&&(f.push(R),g.set(R,_))}}const y=new xr(f);return new mI(g,y,l.fieldTransforms)}function y6(n,e,t,r=!1){return $d(t,n.ju(r?4:3,e))}function $d(n,e){if(_I(n=_t(n)))return L_("Unsupported field value:",e,n),vI(n,e);if(n instanceof gm)return function(r,s){if(!gI(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let l=0;for(const c of r){let h=$d(c,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),l++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=nn.fromDate(r);return{timestampValue:_p(s.serializer,i)}}if(r instanceof nn){const i=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_p(s.serializer,i)}}if(r instanceof N_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hc)return{bytesValue:F2(s.serializer,r._byteString)};if(r instanceof Un){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:f_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof P_)return function(l,c){return{mapValue:{fields:{[f2]:{stringValue:p2},[mp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return c_(c.serializer,f)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${hm(r)}`)}(n,e)}function vI(n,e){const t={};return a2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(n,(r,s)=>{const i=$d(s,e.qu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function _I(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nn||n instanceof N_||n instanceof hc||n instanceof Un||n instanceof gm||n instanceof P_)}function L_(n,e,t){if(!_I(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=hm(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function K0(n,e,t){if((e=_t(e))instanceof mm)return e._internalPath;if(typeof e=="string")return D_(n,e);throw Sp("Field path arguments must be of type string or ",n,!1,void 0,t)}const v6=new RegExp("[~\\*/\\[\\]]");function D_(n,e,t){if(e.search(v6)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mm(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sp(n,e,t,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(i||l)&&(h+=" (found",i&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new ge(re.INVALID_ARGUMENT,c+n+h)}function xI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_m("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _6 extends wI{data(){return super.data()}}function _m(n,e){return typeof e=="string"?D_(n,e):e instanceof mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M_{}class F_ extends M_{}function wr(n,e,...t){let r=[];e instanceof M_&&r.push(e),r=r.concat(t),function(i){const l=i.filter(h=>h instanceof V_).length,c=i.filter(h=>h instanceof xm).length;if(l>1||l>0&&c>0)throw new ge(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class xm extends F_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new xm(e,t,r)}_apply(e){const t=this._parse(e);return EI(e._query,t),new $i(e.firestore,e.converter,F0(e._query,t))}_parse(e){const t=ym(e.firestore);return function(i,l,c,h,f,g,y){let w;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ge(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){zE(y,g);const I=[];for(const x of y)I.push($E(h,i,x));w={arrayValue:{values:I}}}else w=$E(h,i,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||zE(y,g),w=y6(c,l,y,g==="in"||g==="not-in");return Xt.create(f,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Pn(n,e,t){const r=e,s=_m("where",n);return xm._create(s,r,t)}class V_ extends M_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new V_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:bs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let l=s;const c=i.getFlattenedFilters();for(const h of c)EI(l,h),l=F0(l,h)}(e._query,t),new $i(e.firestore,e.converter,F0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U_ extends F_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new U_(e,t)}_apply(e){const t=function(s,i,l){if(s.startAt!==null)throw new ge(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ge(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yd(i,l)}(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,function(s,i){const l=s.explicitOrderBy.concat([i]);return new Ic(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function UK(n,e="asc"){const t=e,r=_m("orderBy",n);return U_._create(r,t)}class B_ extends F_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new B_(e,t,r)}_apply(e){return new $i(e.firestore,e.converter,yp(e._query,this._limit,this._limitType))}}function zy(n){return c6("limit",n),B_._create("limit",n,"F")}function $E(n,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new ge(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b2(e)&&t.indexOf("/")!==-1)throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tt.fromString(t));if(!Ee.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rE(n,new Ee(r))}if(t instanceof Un)return rE(n,t._key);throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(t)}.`)}function zE(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EI(n,e){const t=function(s,i){for(const l of s)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class x6{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wo(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[mp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Ht(l.doubleValue));return new P_(i)}convertGeoPoint(e){return new N_(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=nm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const t=Lo(e);return new nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tt.fromString(e);st(H2(r));const s=new md(r.get(1),r.get(3)),i=new Ee(r.popFirst(5));return s.isEqual(t)||ji(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TI extends wI{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wf extends TI{data(e={}){return super.data(e)}}class CI{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Gu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wf(this._firestore,this._userDataWriter,r.key,r,new Gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new Wf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Gu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const h=new Wf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Gu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:w6(c.type),doc:h,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function w6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n){n=or(n,Un);const e=or(n.firestore,Li);return o6(pm(e),n._key).then(t=>RI(e,n,t))}class $_ extends x6{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function br(n){n=or(n,$i);const e=or(n.firestore,Li),t=pm(e),r=new $_(e);return bI(n._query),a6(t,n._query).then(s=>new CI(e,r,n,s))}function z_(n,e,t){n=or(n,Un);const r=or(n.firestore,Li),s=SI(n.converter,e,t);return wm(r,[yI(ym(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Kr.none())])}function vs(n,e,t,...r){n=or(n,Un);const s=or(n.firestore,Li),i=ym(s);let l;return l=typeof(e=_t(e))=="string"||e instanceof mm?g6(i,"updateDoc",n._key,e,t,r):m6(i,"updateDoc",n._key,e),wm(s,[l.toMutation(n._key,Kr.exists(!0))])}function BK(n){return wm(or(n.firestore,Li),[new u_(n._key,Kr.none())])}function $K(n,e){const t=or(n.firestore,Li),r=Nt(n),s=SI(n.converter,e);return wm(t,[yI(ym(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function II(n,...e){var t,r,s;n=_t(n);let i={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||BE(e[l])||(i=e[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(BE(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(s=y.complete)===null||s===void 0?void 0:s.bind(y)}let h,f,g;if(n instanceof Un)f=or(n.firestore,Li),g=rm(n._key.path),h={next:y=>{e[l]&&e[l](RI(f,n,y))},error:e[l+1],complete:e[l+2]};else{const y=or(n,$i);f=or(y.firestore,Li),g=y._query;const w=new $_(f);h={next:R=>{e[l]&&e[l](new CI(f,w,y,R))},error:e[l+1],complete:e[l+2]},bI(n._query)}return function(w,R,I,x){const _=new A_(x),E=new I_(R,_,I);return w.asyncQueue.enqueueAndForget(async()=>S_(await Ep(w),E)),()=>{_.su(),w.asyncQueue.enqueueAndForget(async()=>T_(await Ep(w),E))}}(pm(f),g,c,h)}function wm(n,e){return function(r,s){const i=new Ii;return r.asyncQueue.enqueueAndForget(async()=>KM(await i6(r),s,i)),i.promise}(pm(n),e)}function RI(n,e,t){const r=t.docs.get(e._key),s=new $_(n);return new TI(n,s,e._key,r,new Gu(t.hasPendingWrites,t.fromCache),e.converter)}function b6(){return new O_("serverTimestamp")}(function(e,t=!0){(function(s){Sc=s})($o),Po(new Ai("firestore",(r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),c=new Li(new y3(r.getProvider("auth-internal")),new x3(l,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(f.options.projectId,g)}(l,s),l);return i=Object.assign({useFetchStreams:t},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),Gr(qb,Gb,e),Gr(qb,Gb,"esm2017")})();var HE={};const WE="@firebase/database",qE="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kI="";function E6(n){kI=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),wn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ud(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Bi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new S6(e)}}catch{}return new T6},Ia=AI("localStorage"),C6=AI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Gp("@firebase/database"),I6=function(){let n=1;return function(){return n++}}(),NI=function(n){const e=L5(n),t=new A5;t.update(e);const r=t.digest();return Bv.encodeByteArray(r)},zd=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zd.apply(null,r):typeof r=="object"?e+=wn(r):e+=r,e+=" "}return e};let td=null,GE=!0;const R6=function(n,e){fe(!0,"Can't turn on custom loggers persistently."),Zl.logLevel=Be.VERBOSE,td=Zl.log.bind(Zl)},On=function(...n){if(GE===!0&&(GE=!1,td===null&&C6.get("logging_enabled")===!0&&R6()),td){const e=zd.apply(null,n);td(e)}},Hd=function(n){return function(...e){On(n,...e)}},Q0=function(...n){const e="FIREBASE INTERNAL ERROR: "+zd(...n);Zl.error(e)},Di=function(...n){const e=`FIREBASE FATAL ERROR: ${zd(...n)}`;throw Zl.error(e),new Error(e)},Sr=function(...n){const e="FIREBASE WARNING: "+zd(...n);Zl.warn(e)},k6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},PI=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},A6=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},fc="[MIN_NAME]",La="[MAX_NAME]",kc=function(n,e){if(n===e)return 0;if(n===fc||e===La)return-1;if(e===fc||n===La)return 1;{const t=KE(n),r=KE(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},N6=function(n,e){return n===e?0:n<e?-1:1},Nu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+wn(e))},H_=function(n){if(typeof n!="object"||n===null)return wn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=wn(e[r]),t+=":",t+=H_(n[e[r]]);return t+="}",t},jI=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let s=0;s<t;s+=e)s+e>t?r.push(n.substring(s,t)):r.push(n.substring(s,s+e));return r};function Yr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const OI=function(n){fe(!PI(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let s,i,l,c,h;n===0?(i=0,l=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),i=c+r,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(i=0,l=Math.round(n/Math.pow(2,1-r-t))));const f=[];for(h=t;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(i%2?1:0),i=Math.floor(i/2);f.push(s?1:0),f.reverse();const g=f.join("");let y="";for(h=0;h<64;h+=8){let w=parseInt(g.substr(h,8),2).toString(16);w.length===1&&(w="0"+w),y=y+w}return y.toLowerCase()},P6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},j6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},O6=new RegExp("^-?(0*)\\d{1,10}$"),L6=-2147483648,D6=2147483647,KE=function(n){if(O6.test(n)){const e=Number(n);if(e>=L6&&e<=D6)return e}return null},Wd=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Sr("Exception was thrown by user callback.",t),e},Math.floor(0))}},M6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nd=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Sr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(On("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sr(e)}}class qf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="5",LI="v",DI="s",MI="r",FI="f",VI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UI="ls",BI="p",Y0="ac",$I="websocket",zI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,r,s,i=!1,l="",c=!1,h=!1,f=null){this.secure=t,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ia.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ia.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function U6(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function WI(n,e,t){fe(typeof e=="string","typeof type must == string"),fe(typeof t=="object","typeof params must == object");let r;if(e===$I)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===zI)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);U6(n)&&(t.ns=n.namespace);const s=[];return Yr(t,(i,l)=>{s.push(i+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.counters_={}}incrementCounter(e,t=1){Bi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return d5(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy={},Wy={};function q_(n){const e=n.toString();return Hy[e]||(Hy[e]=new B6),Hy[e]}function $6(n,e){const t=n.toString();return Wy[t]||(Wy[t]=e()),Wy[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Wd(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="start",H6="close",W6="pLPCommand",q6="pRTLPCB",qI="id",GI="pw",KI="ser",G6="cb",K6="seg",Q6="ts",Y6="d",X6="dframe",QI=1870,YI=30,J6=QI-YI,Z6=25e3,eF=3e4;class ql{constructor(e,t,r,s,i,l,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hd(e),this.stats_=q_(t),this.urlFn=h=>(this.appCheckToken&&(h[Y0]=this.appCheckToken),WI(t,zI,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new z6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eF)),A6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new G_((...i)=>{const[l,c,h,f,g]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===QE)this.id=c,this.password=h;else if(l===H6)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...i)=>{const[l,c]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[QE]="t",r[KI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[G6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[LI]=W_,this.transportSessionId&&(r[DI]=this.transportSessionId),this.lastSessionId&&(r[UI]=this.lastSessionId),this.applicationId&&(r[BI]=this.applicationId),this.appCheckToken&&(r[Y0]=this.appCheckToken),typeof location<"u"&&location.hostname&&VI.test(location.hostname)&&(r[MI]=FI);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ql.forceAllow_=!0}static forceDisallow(){ql.forceDisallow_=!0}static isAvailable(){return ql.forceAllow_?!0:!ql.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!P6()&&!j6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=wn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=sC(t),s=jI(r,J6);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[X6]="t",r[qI]=e,r[GI]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=wn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class G_{constructor(e,t,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=I6(),window[W6+this.uniqueCallbackIdentifier]=e,window[q6+this.uniqueCallbackIdentifier]=t,this.myIFrame=G_.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){On("frame writing exception"),c.stack&&On(c.stack),On(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||On("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[qI]=this.myID,e[GI]=this.myPW,e[KI]=this.currentSerial;let t=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+YI+r.length<=QI;){const l=this.pendingSegs.shift();r=r+"&"+K6+s+"="+l.seg+"&"+Q6+s+"="+l.ts+"&"+Y6+s+"="+l.d,s++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(r,Math.floor(Z6)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{On("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=16384,nF=45e3;let Tp=null;typeof MozWebSocket<"u"?Tp=MozWebSocket:typeof WebSocket<"u"&&(Tp=WebSocket);class ms{constructor(e,t,r,s,i,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hd(this.connId),this.stats_=q_(t),this.connURL=ms.connectionURL_(t,l,c,s,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,s,i){const l={};return l[LI]=W_,typeof location<"u"&&location.hostname&&VI.test(location.hostname)&&(l[MI]=FI),t&&(l[DI]=t),r&&(l[UI]=r),s&&(l[Y0]=s),i&&(l[BI]=i),WI(e,$I,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ia.set("previous_websocket_failure",!0);try{let r;w5(),this.mySock=new Tp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ms.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Tp!==null&&!ms.forceDisallow_}static previouslyFailed(){return Ia.isInMemoryStorage||Ia.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ia.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=ud(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=wn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=jI(t,tF);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nF))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ms.responsesRequiredToBeHealthy=2;ms.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{static get ALL_TRANSPORTS(){return[ql,ms]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=ms&&ms.isAvailable();let r=t&&!ms.previouslyFailed();if(e.webSocketOnly&&(t||Sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ms];else{const s=this.transports_=[];for(const i of wd.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);wd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=6e4,sF=5e3,iF=10*1024,oF=100*1024,qy="t",YE="d",aF="s",XE="r",lF="e",JE="o",ZE="a",eS="n",tS="p",cF="h";class uF{constructor(e,t,r,s,i,l,c,h,f,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hd("c:"+this.id+":"),this.transportManager_=new wd(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=nd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>oF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(qy in e){const t=e[qy];t===ZE?this.upgradeIfSecondaryHealthy_():t===XE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===JE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Nu("t",e),r=Nu("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ZE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:eS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Nu("t",e),r=Nu("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Nu(qy,e);if(YE in e){const r=e[YE];if(t===cF){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===eS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===aF?this.onConnectionShutdown_(r):t===XE?this.onReset_(r):t===lF?Q0("Server Error: "+r):t===JE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Q0("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),W_!==r&&Sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),nd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ia.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{put(e,t,r,s){}merge(e,t,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.allowedEvents_=e,this.listeners_={},fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const s=this.getInitialEvent(e);s&&t.apply(r,s)}off(e,t,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===t&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){fe(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends JI{static getInstance(){return new Cp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=32,rS=768;class Ct{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ht(){return new Ct("")}function Ke(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Uo(n){return n.pieces_.length-n.pieceNum_}function St(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ct(n.pieces_,e)}function ZI(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function dF(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function eR(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function tR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ct(e,0)}function fn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ct)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&t.push(r[s])}return new Ct(t,0)}function We(n){return n.pieceNum_>=n.pieces_.length}function qr(n,e){const t=Ke(n),r=Ke(e);if(t===null)return e;if(t===r)return qr(St(n),St(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function nR(n,e){if(Uo(n)!==Uo(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function gs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Uo(n)>Uo(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class hF{constructor(e,t){this.errorPrefix_=t,this.parts_=eR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qp(this.parts_[r]);rR(this)}}function fF(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=qp(e),rR(n)}function pF(n){const e=n.parts_.pop();n.byteLength_-=qp(e),n.parts_.length>0&&(n.byteLength_-=1)}function rR(n){if(n.byteLength_>rS)throw new Error(n.errorPrefix_+"has a key path longer than "+rS+" bytes ("+n.byteLength_+").");if(n.parts_.length>nS)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nS+") or object contains a cycle "+Sa(n))}function Sa(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends JI{static getInstance(){return new K_}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=1e3,mF=60*5*1e3,sS=30*1e3,gF=1.3,yF=3e4,vF="server_kill",iS=3;class Ri extends XI{constructor(e,t,r,s,i,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=Ri.nextPersistentConnectionId_++,this.log_=Hd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pu,this.maxReconnectDelay_=mF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");K_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Cp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const s=++this.requestNumber_,i={r:s,a:e,b:t};this.log_(wn(i)),fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const t=new zv,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,r,s){this.initConnection_();const i=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+i),this.listens.has(l)||this.listens.set(l,new Map),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),fe(!this.listens.get(l).has(i),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:t,query:e,tag:r};this.listens.get(l).set(i,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},l="q";e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(l,i,c=>{const h=c.d,f=c.s;Ri.warnOnListenWarnings_(h,t),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Bi(e,"w")){const r=ic(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||k5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=R5(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,s=>{const i=s.s,l=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,t)}sendUnlisten_(e,t,r,s){this.log_("Unlisten on "+e+" for "+t);const i={p:e},l="n";s&&(i.q=r,i.t=s),this.sendRequest(l,i)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,s){const i={p:t,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,t,r,s){this.putInternal("p",e,t,r,s)}merge(e,t,r,s){this.putInternal("m",e,t,r,s)}putInternal(e,t,r,s,i){this.initConnection_();const l={p:t,d:r};i!==void 0&&(l.h=i),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,i=>{this.log_(t+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+wn(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Q0("Unrecognized action received from server: "+wn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yF&&(this.reconnectDelay_=Pu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ri.nextConnectionId_++,i=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,r())},f=function(y){fe(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:h,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,w]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?On("getToken() completed but was canceled"):(On("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new uF(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,R=>{Sr(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(vF)},i))}catch(y){this.log_("Failed to get token: "+y),l||(this.repoInfo_.nodeAdmin&&Sr(y),h())}}}interrupt(e){On("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){On("Resuming connection for reason: "+e),delete this.interruptReasons_[e],w0(this.interruptReasons_)&&(this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(i=>H_(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const r=new Ct(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(t),i.delete(t),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,t){On("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iS&&(this.reconnectDelay_=sS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){On("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+kI.replace(/\./g,"-")]=1,Wv()?e["framework.cordova"]=1:cC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cp.getInstance().currentlyOnline();return w0(this.interruptReasons_)&&e}}Ri.nextPersistentConnectionId_=0;Ri.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Qe(fc,e),s=new Qe(fc,t);return this.compare(r,s)!==0}minPost(){return Qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;class sR extends bm{static get __EMPTY_NODE(){return Tf}static set __EMPTY_NODE(e){Tf=e}compare(e,t){return kc(e.name,t.name)}isDefinedOn(e){throw wc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Qe.MIN}maxPost(){return new Qe(La,Tf)}makePost(e,t){return fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Qe(e,Tf)}toString(){return".key"}}const ec=new sR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class hn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??hn.RED,this.left=s??ir.EMPTY_NODE,this.right=i??ir.EMPTY_NODE}copy(e,t,r,s,i){return new hn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,s;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return ir.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}hn.RED=!0;hn.BLACK=!1;class _F{copy(e,t,r,s,i){return this}insert(e,t,r){return new hn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ir{constructor(e,t=ir.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ir(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,hn.BLACK,null,null))}remove(e){return new ir(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,hn.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,s=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Cf(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Cf(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Cf(this.root_,null,this.comparator_,!0,e)}}ir.EMPTY_NODE=new _F;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(n,e){return kc(n.name,e.name)}function Q_(n,e){return kc(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0;function wF(n){X0=n}const iR=function(n){return typeof n=="number"?"number:"+OI(n):"string:"+n},oR=function(n){if(n.isLeafNode()){const e=n.val();fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bi(e,".sv"),"Priority must be a string or number.")}else fe(n===X0||n.isEmpty(),"priority of unexpected type.");fe(n===X0||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oS;class un{static set __childrenNodeConstructor(e){oS=e}static get __childrenNodeConstructor(){return oS}constructor(e,t=un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),oR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return We(e)?this:Ke(e)===".priority"?this.priorityNode_:un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Ke(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(fe(r!==".priority"||Uo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,un.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=OI(this.value_):e+=this.value_,this.lazyHash_=NI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof un.__childrenNodeConstructor?-1:(fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,s=un.VALUE_TYPE_ORDER.indexOf(t),i=un.VALUE_TYPE_ORDER.indexOf(r);return fe(s>=0,"Unknown leaf type: "+t),fe(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aR,lR;function bF(n){aR=n}function EF(n){lR=n}class SF extends bm{compare(e,t){const r=e.node.getPriority(),s=t.node.getPriority(),i=r.compareTo(s);return i===0?kc(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Qe.MIN}maxPost(){return new Qe(La,new un("[PRIORITY-POST]",lR))}makePost(e,t){const r=aR(e);return new Qe(t,new un("[PRIORITY-POST]",r))}toString(){return".priority"}}const Vn=new SF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=Math.log(2);class CF{constructor(e){const t=i=>parseInt(Math.log(i)/TF,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ip=function(n,e,t,r){n.sort(e);const s=function(h,f){const g=f-h;let y,w;if(g===0)return null;if(g===1)return y=n[h],w=t?t(y):y,new hn(w,y.node,hn.BLACK,null,null);{const R=parseInt(g/2,10)+h,I=s(h,R),x=s(R+1,f);return y=n[R],w=t?t(y):y,new hn(w,y.node,hn.BLACK,I,x)}},i=function(h){let f=null,g=null,y=n.length;const w=function(I,x){const _=y-I,E=y;y-=I;const P=s(_+1,E),A=n[_],O=t?t(A):A;R(new hn(O,A.node,x,null,P))},R=function(I){f?(f.left=I,f=I):(g=I,f=I)};for(let I=0;I<h.count;++I){const x=h.nextBitIsOne(),_=Math.pow(2,h.count-(I+1));x?w(_,hn.BLACK):(w(_,hn.BLACK),w(_,hn.RED))}return g},l=new CF(n.length),c=i(l);return new ir(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy;const Dl={};class Ti{static get Default(){return fe(Dl&&Vn,"ChildrenNode.ts has not been loaded"),Gy=Gy||new Ti({".priority":Dl},{".priority":Vn}),Gy}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ic(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ir?t:null}hasIndex(e){return Bi(this.indexSet_,e.toString())}addIndex(e,t){fe(e!==ec,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=t.getIterator(Qe.Wrap);let l=i.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=i.getNext();let c;s?c=Ip(r,e.getCompare()):c=Dl;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new Ti(g,f)}addToIndexes(e,t){const r=op(this.indexes_,(s,i)=>{const l=ic(this.indexSet_,i);if(fe(l,"Missing index implementation for "+i),s===Dl)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(Qe.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),Ip(c,l.getCompare())}else return Dl;else{const c=t.get(e.name);let h=s;return c&&(h=h.remove(new Qe(e.name,c))),h.insert(e,e.node)}});return new Ti(r,this.indexSet_)}removeFromIndexes(e,t){const r=op(this.indexes_,s=>{if(s===Dl)return s;{const i=t.get(e.name);return i?s.remove(new Qe(e.name,i)):s}});return new Ti(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;class rt{static get EMPTY_NODE(){return ju||(ju=new rt(new ir(Q_),null,Ti.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oR(this.priorityNode_),this.children_.isEmpty()&&fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ju}updatePriority(e){return this.children_.isEmpty()?this:new rt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?ju:t}}getChild(e){const t=Ke(e);return t===null?this:this.getImmediateChild(t).getChild(St(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(fe(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new Qe(e,t);let s,i;t.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?ju:this.priorityNode_;return new rt(s,l,i)}}updateChild(e,t){const r=Ke(e);if(r===null)return t;{fe(Ke(e)!==".priority"||Uo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(St(e),t);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,s=0,i=!0;if(this.forEachChild(Vn,(l,c)=>{t[l]=c.val(e),r++,i&&rt.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):i=!1}),!e&&i&&s<2*r){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+iR(this.getPriority().val())+":"),this.forEachChild(Vn,(t,r)=>{const s=r.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":NI(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Qe(e,t));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Qe(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Qe.Wrap);let i=s.peek();for(;i!=null&&t.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Qe.Wrap);let i=s.peek();for(;i!=null&&t.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qd?-1:0}withIndex(e){if(e===ec||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new rt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ec||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(Vn),s=t.getIterator(Vn);let i=r.getNext(),l=s.getNext();for(;i&&l;){if(i.name!==l.name||!i.node.equals(l.node))return!1;i=r.getNext(),l=s.getNext()}return i===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===ec?null:this.indexMap_.get(e.toString())}}rt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class IF extends rt{constructor(){super(new ir(Q_),rt.EMPTY_NODE,Ti.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return rt.EMPTY_NODE}isEmpty(){return!1}}const qd=new IF;Object.defineProperties(Qe,{MIN:{value:new Qe(fc,rt.EMPTY_NODE)},MAX:{value:new Qe(La,qd)}});sR.__EMPTY_NODE=rt.EMPTY_NODE;un.__childrenNodeConstructor=rt;wF(qd);EF(qd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=!0;function Ln(n,e=null){if(n===null)return rt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new un(t,Ln(e))}if(!(n instanceof Array)&&RF){const t=[];let r=!1;if(Yr(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=Ln(c);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),t.push(new Qe(l,h)))}}),t.length===0)return rt.EMPTY_NODE;const i=Ip(t,xF,l=>l.name,Q_);if(r){const l=Ip(t,Vn.getCompare());return new rt(i,Ln(e),new Ti({".priority":l},{".priority":Vn}))}else return new rt(i,Ln(e),Ti.Default)}else{let t=rt.EMPTY_NODE;return Yr(n,(r,s)=>{if(Bi(n,r)&&r.substring(0,1)!=="."){const i=Ln(s);(i.isLeafNode()||!i.isEmpty())&&(t=t.updateImmediateChild(r,i))}}),t.updatePriority(Ln(e))}}bF(Ln);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF extends bm{constructor(e){super(),this.indexPath_=e,fe(!We(e)&&Ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),s=this.extractChild(t.node),i=r.compareTo(s);return i===0?kc(e.name,t.name):i}makePost(e,t){const r=Ln(e),s=rt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Qe(t,s)}maxPost(){const e=rt.EMPTY_NODE.updateChild(this.indexPath_,qd);return new Qe(La,e)}toString(){return eR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF extends bm{compare(e,t){const r=e.node.compareTo(t.node);return r===0?kc(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Qe.MIN}maxPost(){return Qe.MAX}makePost(e,t){const r=Ln(e);return new Qe(t,r)}toString(){return".value"}}const NF=new AF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(n){return{type:"value",snapshotNode:n}}function jF(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function OF(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function aS(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function LF(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fc}hasEnd(){return this.endSet_}getIndexEndValue(){return fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:La}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vn}copy(){const e=new Y_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lS(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Vn?t="$priority":n.index_===NF?t="$value":n.index_===ec?t="$key":(fe(n.index_ instanceof kF,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=wn(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=wn(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+wn(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=wn(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+wn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function cS(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Vn&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends XI{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Hd("p:rest:"),this.listens_={}}listen(e,t,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const l=Rp.getListenId_(e,r),c={};this.listens_[l]=c;const h=lS(e._queryParams);this.restRequest_(i+".json",h,(f,g)=>{let y=g;if(f===404&&(y=null,f=null),f===null&&this.onDataUpdate_(i,y,!1,r),ic(this.listens_,l)===c){let w;f?f===401?w="permission_denied":w="rest_error:"+f:w="ok",s(w,null)}})}unlisten(e,t){const r=Rp.getListenId_(e,t);delete this.listens_[r]}get(e){const t=lS(e._queryParams),r=e._path.toString(),s=new zv;return this.restRequest_(r+".json",t,(i,l)=>{let c=l;i===404&&(c=null,i=null),i===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(t.auth=s.accessToken),i&&i.token&&(t.ac=i.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bc(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=ud(c.responseText)}catch{Sr("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,h)}else c.status!==401&&c.status!==404&&Sr("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.rootNode_=rt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){return{value:null,children:new Map}}function cR(n,e,t){if(We(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=Ke(e);n.children.has(r)||n.children.set(r,kp());const s=n.children.get(r);e=St(e),cR(s,e,t)}}function J0(n,e,t){n.value!==null?t(e,n.value):MF(n,(r,s)=>{const i=new Ct(e.toString()+"/"+r);J0(s,i,t)})}function MF(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Yr(this.last_,(r,s)=>{t[r]=t[r]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=10*1e3,VF=30*1e3,UF=5*60*1e3;class BF{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new FF(e);const r=uS+(VF-uS)*Math.random();nd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Yr(e,(s,i)=>{i>0&&Bi(this.statsToReport_,s)&&(t[s]=i,r=!0)}),r&&this.server_.reportStats(t),nd(this.reportStats_.bind(this),Math.floor(Math.random()*2*UF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qs;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qs||(qs={}));function uR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=qs.ACK_USER_WRITE,this.source=uR()}operationForChild(e){if(We(this.path)){if(this.affectedTree.value!=null)return fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ct(e));return new Ap(ht(),t,this.revert)}}else return fe(Ke(this.path)===e,"operationForChild called for unrelated child."),new Ap(St(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=qs.OVERWRITE}operationForChild(e){return We(this.path)?new Da(this.source,ht(),this.snap.getImmediateChild(e)):new Da(this.source,St(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=qs.MERGE}operationForChild(e){if(We(this.path)){const t=this.children.subtree(new Ct(e));return t.isEmpty()?null:t.value?new Da(this.source,ht(),t.value):new bd(this.source,ht(),t)}else return fe(Ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bd(this.source,St(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(We(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ke(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function $F(n,e,t,r){const s=[],i=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&i.push(LF(l.childName,l.snapshotNode))}),Ou(n,s,"child_removed",e,r,t),Ou(n,s,"child_added",e,r,t),Ou(n,s,"child_moved",i,r,t),Ou(n,s,"child_changed",e,r,t),Ou(n,s,"value",e,r,t),s}function Ou(n,e,t,r,s,i){const l=r.filter(c=>c.type===t);l.sort((c,h)=>HF(n,c,h)),l.forEach(c=>{const h=zF(n,c,i);s.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,n.query_))})})}function zF(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function HF(n,e,t){if(e.childName==null||t.childName==null)throw wc("Should only compare child_ events.");const r=new Qe(e.childName,e.snapshotNode),s=new Qe(t.childName,t.snapshotNode);return n.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n,e){return{eventCache:n,serverCache:e}}function rd(n,e,t,r){return fR(new X_(e,t,r),n.serverCache)}function pR(n,e,t,r){return fR(n.eventCache,new X_(e,t,r))}function Z0(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ma(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky;const WF=()=>(Ky||(Ky=new ir(N6)),Ky);class Et{static fromObject(e){let t=new Et(null);return Yr(e,(r,s)=>{t=t.set(new Ct(r),s)}),t}constructor(e,t=WF()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ht(),value:this.value};if(We(e))return null;{const r=Ke(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(St(e),t);return i!=null?{path:fn(new Ct(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(We(e))return this;{const t=Ke(e),r=this.children.get(t);return r!==null?r.subtree(St(e)):new Et(null)}}set(e,t){if(We(e))return new Et(t,this.children);{const r=Ke(e),i=(this.children.get(r)||new Et(null)).set(St(e),t),l=this.children.insert(r,i);return new Et(this.value,l)}}remove(e){if(We(e))return this.children.isEmpty()?new Et(null):new Et(null,this.children);{const t=Ke(e),r=this.children.get(t);if(r){const s=r.remove(St(e));let i;return s.isEmpty()?i=this.children.remove(t):i=this.children.insert(t,s),this.value===null&&i.isEmpty()?new Et(null):new Et(this.value,i)}else return this}}get(e){if(We(e))return this.value;{const t=Ke(e),r=this.children.get(t);return r?r.get(St(e)):null}}setTree(e,t){if(We(e))return t;{const r=Ke(e),i=(this.children.get(r)||new Et(null)).setTree(St(e),t);let l;return i.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,i),new Et(this.value,l)}}fold(e){return this.fold_(ht(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(fn(e,s),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,ht(),t)}findOnPath_(e,t,r){const s=this.value?r(t,this.value):!1;if(s)return s;if(We(e))return null;{const i=Ke(e),l=this.children.get(i);return l?l.findOnPath_(St(e),fn(t,i),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ht(),t)}foreachOnPath_(e,t,r){if(We(e))return this;{this.value&&r(t,this.value);const s=Ke(e),i=this.children.get(s);return i?i.foreachOnPath_(St(e),fn(t,s),r):new Et(null)}}foreach(e){this.foreach_(ht(),e)}foreach_(e,t){this.children.inorderTraversal((r,s)=>{s.foreach_(fn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.writeTree_=e}static empty(){return new _s(new Et(null))}}function sd(n,e,t){if(We(e))return new _s(new Et(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const l=qr(s,e);return i=i.updateChild(l,t),new _s(n.writeTree_.set(s,i))}else{const s=new Et(t),i=n.writeTree_.setTree(e,s);return new _s(i)}}}function dS(n,e,t){let r=n;return Yr(t,(s,i)=>{r=sd(r,fn(e,s),i)}),r}function hS(n,e){if(We(e))return _s.empty();{const t=n.writeTree_.setTree(e,new Et(null));return new _s(t)}}function ev(n,e){return Wa(n,e)!=null}function Wa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(qr(t.path,e)):null}function fS(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Vn,(r,s)=>{e.push(new Qe(r,s))}):n.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Qe(r,s.value))}),e}function Ao(n,e){if(We(e))return n;{const t=Wa(n,e);return t!=null?new _s(new Et(t)):new _s(n.writeTree_.subtree(e))}}function tv(n){return n.writeTree_.isEmpty()}function pc(n,e){return mR(ht(),n.writeTree_,e)}function mR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(fe(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):t=mR(fn(n,s),i,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(fn(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n,e){return wR(e,n)}function qF(n,e,t,r,s){fe(r>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:s}),s&&(n.visibleWrites=sd(n.visibleWrites,e,t)),n.lastWriteId=r}function GF(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function KF(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);fe(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let s=r.visible,i=!1,l=n.allWrites.length-1;for(;s&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&QF(c,r.path)?s=!1:gs(r.path,c.path)&&(i=!0)),l--}if(s){if(i)return YF(n),!0;if(r.snap)n.visibleWrites=hS(n.visibleWrites,r.path);else{const c=r.children;Yr(c,h=>{n.visibleWrites=hS(n.visibleWrites,fn(r.path,h))})}return!0}else return!1}function QF(n,e){if(n.snap)return gs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&gs(fn(n.path,t),e))return!0;return!1}function YF(n){n.visibleWrites=yR(n.allWrites,XF,ht()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function XF(n){return n.visible}function yR(n,e,t){let r=_s.empty();for(let s=0;s<n.length;++s){const i=n[s];if(e(i)){const l=i.path;let c;if(i.snap)gs(t,l)?(c=qr(t,l),r=sd(r,c,i.snap)):gs(l,t)&&(c=qr(l,t),r=sd(r,ht(),i.snap.getChild(c)));else if(i.children){if(gs(t,l))c=qr(t,l),r=dS(r,c,i.children);else if(gs(l,t))if(c=qr(l,t),We(c))r=dS(r,ht(),i.children);else{const h=ic(i.children,Ke(c));if(h){const f=h.getChild(St(c));r=sd(r,ht(),f)}}}else throw wc("WriteRecord should have .snap or .children")}}return r}function vR(n,e,t,r,s){if(!r&&!s){const i=Wa(n.visibleWrites,e);if(i!=null)return i;{const l=Ao(n.visibleWrites,e);if(tv(l))return t;if(t==null&&!ev(l,ht()))return null;{const c=t||rt.EMPTY_NODE;return pc(l,c)}}}else{const i=Ao(n.visibleWrites,e);if(!s&&tv(i))return t;if(!s&&t==null&&!ev(i,ht()))return null;{const l=function(f){return(f.visible||s)&&(!r||!~r.indexOf(f.writeId))&&(gs(f.path,e)||gs(e,f.path))},c=yR(n.allWrites,l,e),h=t||rt.EMPTY_NODE;return pc(c,h)}}}function JF(n,e,t){let r=rt.EMPTY_NODE;const s=Wa(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Vn,(i,l)=>{r=r.updateImmediateChild(i,l)}),r;if(t){const i=Ao(n.visibleWrites,e);return t.forEachChild(Vn,(l,c)=>{const h=pc(Ao(i,new Ct(l)),c);r=r.updateImmediateChild(l,h)}),fS(i).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const i=Ao(n.visibleWrites,e);return fS(i).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function ZF(n,e,t,r,s){fe(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=fn(e,t);if(ev(n.visibleWrites,i))return null;{const l=Ao(n.visibleWrites,i);return tv(l)?s.getChild(t):pc(l,s.getChild(t))}}function eV(n,e,t,r){const s=fn(e,t),i=Wa(n.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(t)){const l=Ao(n.visibleWrites,s);return pc(l,r.getNode().getImmediateChild(t))}else return null}function tV(n,e){return Wa(n.visibleWrites,e)}function nV(n,e,t,r,s,i,l){let c;const h=Ao(n.visibleWrites,e),f=Wa(h,ht());if(f!=null)c=f;else if(t!=null)c=pc(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],y=l.getCompare(),w=i?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let R=w.getNext();for(;R&&g.length<s;)y(R,r)!==0&&g.push(R),R=w.getNext();return g}else return[]}function rV(){return{visibleWrites:_s.empty(),allWrites:[],lastWriteId:-1}}function nv(n,e,t,r){return vR(n.writeTree,n.treePath,e,t,r)}function _R(n,e){return JF(n.writeTree,n.treePath,e)}function pS(n,e,t,r){return ZF(n.writeTree,n.treePath,e,t,r)}function Np(n,e){return tV(n.writeTree,fn(n.treePath,e))}function sV(n,e,t,r,s,i){return nV(n.writeTree,n.treePath,e,t,r,s,i)}function J_(n,e,t){return eV(n.writeTree,n.treePath,e,t)}function xR(n,e){return wR(fn(n.treePath,e),n.writeTree)}function wR(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;fe(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),fe(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(t==="child_added"&&i==="child_removed")this.changeMap.set(r,aS(r,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&i==="child_changed")this.changeMap.set(r,OF(r,s.oldSnap));else if(t==="child_changed"&&i==="child_added")this.changeMap.set(r,jF(r,e.snapshotNode));else if(t==="child_changed"&&i==="child_changed")this.changeMap.set(r,aS(r,e.snapshotNode,s.oldSnap));else throw wc("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const bR=new oV;class Z_{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new X_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return J_(this.writes_,e,r)}}getChildAfterChild(e,t,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ma(this.viewCache_),i=sV(this.writes_,s,t,1,r,e);return i.length===0?null:i[0]}}function aV(n,e){fe(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),fe(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function lV(n,e,t,r,s){const i=new iV;let l,c;if(t.type===qs.OVERWRITE){const f=t;f.source.fromUser?l=rv(n,e,f.path,f.snap,r,s,i):(fe(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!We(f.path),l=Pp(n,e,f.path,f.snap,r,s,c,i))}else if(t.type===qs.MERGE){const f=t;f.source.fromUser?l=uV(n,e,f.path,f.children,r,s,i):(fe(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=sv(n,e,f.path,f.children,r,s,c,i))}else if(t.type===qs.ACK_USER_WRITE){const f=t;f.revert?l=fV(n,e,f.path,r,s,i):l=dV(n,e,f.path,f.affectedTree,r,s,i)}else if(t.type===qs.LISTEN_COMPLETE)l=hV(n,e,t.path,r,i);else throw wc("Unknown operation type: "+t.type);const h=i.getChanges();return cV(e,l,h),{viewCache:l,changes:h}}function cV(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Z0(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&t.push(PF(Z0(e)))}}function ER(n,e,t,r,s,i){const l=e.eventCache;if(Np(r,t)!=null)return e;{let c,h;if(We(t))if(fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Ma(e),g=f instanceof rt?f:rt.EMPTY_NODE,y=_R(r,g);c=n.filter.updateFullNode(e.eventCache.getNode(),y,i)}else{const f=nv(r,Ma(e));c=n.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const f=Ke(t);if(f===".priority"){fe(Uo(t)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const y=pS(r,t,g,h);y!=null?c=n.filter.updatePriority(g,y):c=l.getNode()}else{const g=St(t);let y;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const w=pS(r,t,l.getNode(),h);w!=null?y=l.getNode().getImmediateChild(f).updateChild(g,w):y=l.getNode().getImmediateChild(f)}else y=J_(r,f,e.serverCache);y!=null?c=n.filter.updateChild(l.getNode(),f,y,g,s,i):c=l.getNode()}}return rd(e,c,l.isFullyInitialized()||We(t),n.filter.filtersNodes())}}function Pp(n,e,t,r,s,i,l,c){const h=e.serverCache;let f;const g=l?n.filter:n.filter.getIndexedFilter();if(We(t))f=g.updateFullNode(h.getNode(),r,null);else if(g.filtersNodes()&&!h.isFiltered()){const R=h.getNode().updateChild(t,r);f=g.updateFullNode(h.getNode(),R,null)}else{const R=Ke(t);if(!h.isCompleteForPath(t)&&Uo(t)>1)return e;const I=St(t),_=h.getNode().getImmediateChild(R).updateChild(I,r);R===".priority"?f=g.updatePriority(h.getNode(),_):f=g.updateChild(h.getNode(),R,_,I,bR,null)}const y=pR(e,f,h.isFullyInitialized()||We(t),g.filtersNodes()),w=new Z_(s,y,i);return ER(n,y,t,s,w,c)}function rv(n,e,t,r,s,i,l){const c=e.eventCache;let h,f;const g=new Z_(s,e,i);if(We(t))f=n.filter.updateFullNode(e.eventCache.getNode(),r,l),h=rd(e,f,!0,n.filter.filtersNodes());else{const y=Ke(t);if(y===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),r),h=rd(e,f,c.isFullyInitialized(),c.isFiltered());else{const w=St(t),R=c.getNode().getImmediateChild(y);let I;if(We(w))I=r;else{const x=g.getCompleteChild(y);x!=null?ZI(w)===".priority"&&x.getChild(tR(w)).isEmpty()?I=x:I=x.updateChild(w,r):I=rt.EMPTY_NODE}if(R.equals(I))h=e;else{const x=n.filter.updateChild(c.getNode(),y,I,w,g,l);h=rd(e,x,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function mS(n,e){return n.eventCache.isCompleteForChild(e)}function uV(n,e,t,r,s,i,l){let c=e;return r.foreach((h,f)=>{const g=fn(t,h);mS(e,Ke(g))&&(c=rv(n,c,g,f,s,i,l))}),r.foreach((h,f)=>{const g=fn(t,h);mS(e,Ke(g))||(c=rv(n,c,g,f,s,i,l))}),c}function gS(n,e,t){return t.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function sv(n,e,t,r,s,i,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;We(t)?f=r:f=new Et(null).setTree(t,r);const g=e.serverCache.getNode();return f.children.inorderTraversal((y,w)=>{if(g.hasChild(y)){const R=e.serverCache.getNode().getImmediateChild(y),I=gS(n,R,w);h=Pp(n,h,new Ct(y),I,s,i,l,c)}}),f.children.inorderTraversal((y,w)=>{const R=!e.serverCache.isCompleteForChild(y)&&w.value===null;if(!g.hasChild(y)&&!R){const I=e.serverCache.getNode().getImmediateChild(y),x=gS(n,I,w);h=Pp(n,h,new Ct(y),x,s,i,l,c)}}),h}function dV(n,e,t,r,s,i,l){if(Np(s,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(r.value!=null){if(We(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return Pp(n,e,t,h.getNode().getChild(t),s,i,c,l);if(We(t)){let f=new Et(null);return h.getNode().forEachChild(ec,(g,y)=>{f=f.set(new Ct(g),y)}),sv(n,e,t,f,s,i,c,l)}else return e}else{let f=new Et(null);return r.foreach((g,y)=>{const w=fn(t,g);h.isCompleteForPath(w)&&(f=f.set(g,h.getNode().getChild(w)))}),sv(n,e,t,f,s,i,c,l)}}function hV(n,e,t,r,s){const i=e.serverCache,l=pR(e,i.getNode(),i.isFullyInitialized()||We(t),i.isFiltered());return ER(n,l,t,r,bR,s)}function fV(n,e,t,r,s,i){let l;if(Np(r,t)!=null)return e;{const c=new Z_(r,e,s),h=e.eventCache.getNode();let f;if(We(t)||Ke(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=nv(r,Ma(e));else{const y=e.serverCache.getNode();fe(y instanceof rt,"serverChildren would be complete if leaf node"),g=_R(r,y)}g=g,f=n.filter.updateFullNode(h,g,i)}else{const g=Ke(t);let y=J_(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=h.getImmediateChild(g)),y!=null?f=n.filter.updateChild(h,g,y,St(t),c,i):e.eventCache.getNode().hasChild(g)?f=n.filter.updateChild(h,g,rt.EMPTY_NODE,St(t),c,i):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=nv(r,Ma(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,i)))}return l=e.serverCache.isFullyInitialized()||Np(r,ht())!=null,rd(e,f,l,n.filter.filtersNodes())}}function pV(n,e){const t=Ma(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!We(e)&&!t.getImmediateChild(Ke(e)).isEmpty())?t.getChild(e):null}function yS(n,e,t,r){e.type===qs.MERGE&&e.source.queryId!==null&&(fe(Ma(n.viewCache_),"We should always have a full cache before handling merges"),fe(Z0(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,i=lV(n.processor_,s,e,t,r);return aV(n.processor_,i.viewCache),fe(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=i.viewCache,mV(n,i.changes,i.viewCache.eventCache.getNode())}function mV(n,e,t,r){const s=n.eventRegistrations_;return $F(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vS;function gV(n){fe(!vS,"__referenceConstructor has already been defined"),vS=n}function ex(n,e,t,r){const s=e.source.queryId;if(s!==null){const i=n.views.get(s);return fe(i!=null,"SyncTree gave us an op for an invalid query."),yS(i,e,t,r)}else{let i=[];for(const l of n.views.values())i=i.concat(yS(l,e,t,r));return i}}function tx(n,e){let t=null;for(const r of n.views.values())t=t||pV(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _S;function yV(n){fe(!_S,"__referenceConstructor has already been defined"),_S=n}class xS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Et(null),this.pendingWriteTree_=rV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vV(n,e,t,r,s){return qF(n.pendingWriteTree_,e,t,r,s),s?Sm(n,new Da(uR(),e,t)):[]}function Gl(n,e,t=!1){const r=GF(n.pendingWriteTree_,e);if(KF(n.pendingWriteTree_,e)){let i=new Et(null);return r.snap!=null?i=i.set(ht(),!0):Yr(r.children,l=>{i=i.set(new Ct(l),!0)}),Sm(n,new Ap(r.path,i,t))}else return[]}function Em(n,e,t){return Sm(n,new Da(dR(),e,t))}function _V(n,e,t){const r=Et.fromObject(t);return Sm(n,new bd(dR(),e,r))}function xV(n,e,t,r){const s=IR(n,r);if(s!=null){const i=RR(s),l=i.path,c=i.queryId,h=qr(l,e),f=new Da(hR(c),h,t);return kR(n,l,f)}else return[]}function wV(n,e,t,r){const s=IR(n,r);if(s){const i=RR(s),l=i.path,c=i.queryId,h=qr(l,e),f=Et.fromObject(t),g=new bd(hR(c),h,f);return kR(n,l,g)}else return[]}function SR(n,e,t){const s=n.pendingWriteTree_,i=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=qr(l,e),f=tx(c,h);if(f)return f});return vR(s,e,i,t,!0)}function Sm(n,e){return TR(e,n.syncPointTree_,null,gR(n.pendingWriteTree_,ht()))}function TR(n,e,t,r){if(We(n.path))return CR(n,e,t,r);{const s=e.get(ht());t==null&&s!=null&&(t=tx(s,ht()));let i=[];const l=Ke(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const f=t?t.getImmediateChild(l):null,g=xR(r,l);i=i.concat(TR(c,h,f,g))}return s&&(i=i.concat(ex(s,n,r,t))),i}}function CR(n,e,t,r){const s=e.get(ht());t==null&&s!=null&&(t=tx(s,ht()));let i=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,f=xR(r,l),g=n.operationForChild(l);g&&(i=i.concat(CR(g,c,h,f)))}),s&&(i=i.concat(ex(s,n,r,t))),i}function IR(n,e){return n.tagToQueryMap.get(e)}function RR(n){const e=n.indexOf("$");return fe(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ct(n.substr(0,e))}}function kR(n,e,t){const r=n.syncPointTree_.get(e);fe(r,"Missing sync point for query tag that we're tracking");const s=gR(n.pendingWriteTree_,e);return ex(r,t,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new nx(t)}node(){return this.node_}}class rx{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=fn(this.path_,e);return new rx(this.syncTree_,t)}node(){return SR(this.syncTree_,this.path_)}}const bV=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},wS=function(n,e,t){if(!n||typeof n!="object")return n;if(fe(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return EV(n[".sv"],e,t);if(typeof n[".sv"]=="object")return SV(n[".sv"],e);fe(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},EV=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:fe(!1,"Unexpected server value: "+n)}},SV=function(n,e,t){n.hasOwnProperty("increment")||fe(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&fe(!1,"Unexpected increment value: "+r);const s=e.node();if(fe(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},TV=function(n,e,t,r){return sx(e,new rx(t,n),r)},CV=function(n,e,t){return sx(n,new nx(e),t)};function sx(n,e,t){const r=n.getPriority().val(),s=wS(r,e.getImmediateChild(".priority"),t);let i;if(n.isLeafNode()){const l=n,c=wS(l.getValue(),e,t);return c!==l.getValue()||s!==l.getPriority().val()?new un(c,Ln(s)):n}else{const l=n;return i=l,s!==l.getPriority().val()&&(i=i.updatePriority(new un(s))),l.forEachChild(Vn,(c,h)=>{const f=sx(h,e.getImmediateChild(c),t);f!==h&&(i=i.updateImmediateChild(c,f))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function ox(n,e){let t=e instanceof Ct?e:new Ct(e),r=n,s=Ke(t);for(;s!==null;){const i=ic(r.node.children,s)||{children:{},childCount:0};r=new ix(s,r,i),t=St(t),s=Ke(t)}return r}function Ac(n){return n.node.value}function AR(n,e){n.node.value=e,iv(n)}function NR(n){return n.node.childCount>0}function IV(n){return Ac(n)===void 0&&!NR(n)}function Tm(n,e){Yr(n.node.children,(t,r)=>{e(new ix(t,n,r))})}function PR(n,e,t,r){t&&e(n),Tm(n,s=>{PR(s,e,!0)})}function RV(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gd(n){return new Ct(n.parent===null?n.name:Gd(n.parent)+"/"+n.name)}function iv(n){n.parent!==null&&kV(n.parent,n.name,n)}function kV(n,e,t){const r=IV(t),s=Bi(n.node.children,e);r&&s?(delete n.node.children[e],n.node.childCount--,iv(n)):!r&&!s&&(n.node.children[e]=t.node,n.node.childCount++,iv(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=/[\[\].#$\/\u0000-\u001F\u007F]/,NV=/[\[\].#$\u0000-\u001F\u007F]/,Qy=10*1024*1024,jR=function(n){return typeof n=="string"&&n.length!==0&&!AV.test(n)},PV=function(n){return typeof n=="string"&&n.length!==0&&!NV.test(n)},jV=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),PV(n)},OR=function(n,e,t){const r=t instanceof Ct?new hF(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Sa(r));if(typeof e=="function")throw new Error(n+"contains a function "+Sa(r)+" with contents = "+e.toString());if(PI(e))throw new Error(n+"contains "+e.toString()+" "+Sa(r));if(typeof e=="string"&&e.length>Qy/3&&qp(e)>Qy)throw new Error(n+"contains a string greater than "+Qy+" utf8 bytes "+Sa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Yr(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(i=!0,!jR(l)))throw new Error(n+" contains an invalid key ("+l+") "+Sa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fF(r,l),OR(n,c,r),pF(r)}),s&&i)throw new Error(n+' contains ".value" child '+Sa(r)+" in addition to actual children.")}},OV=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!jV(t))throw new Error(O5(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function DV(n,e){let t=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();t!==null&&!nR(i,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:i}),t.events.push(s)}t&&n.eventLists_.push(t)}function qa(n,e,t){DV(n,t),MV(n,r=>gs(r,e)||gs(e,r))}function MV(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const s=n.eventLists_[r];if(s){const i=s.path;e(i)?(FV(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function FV(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();td&&On("event: "+t.toString()),Wd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="repo_interrupt",UV=25;class BV{constructor(e,t,r,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kp(),this.transactionQueueTree_=new ix,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $V(n,e,t){if(n.stats_=q_(n.repoInfo_),n.forceRestClient_||M6())n.server_=new Rp(n.repoInfo_,(r,s,i,l)=>{bS(n,r,s,i,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ES(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ri(n.repoInfo_,e,(r,s,i,l)=>{bS(n,r,s,i,l)},r=>{ES(n,r)},r=>{HV(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=$6(n.repoInfo_,()=>new BF(n.stats_,n.server_)),n.infoData_=new DF,n.infoSyncTree_=new xS({startListening:(r,s,i,l)=>{let c=[];const h=n.infoData_.getNode(r._path);return h.isEmpty()||(c=Em(n.infoSyncTree_,r._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),ax(n,"connected",!1),n.serverSyncTree_=new xS({startListening:(r,s,i,l)=>(n.server_.listen(r,i,s,(c,h)=>{const f=l(c,h);qa(n.eventQueue_,r._path,f)}),[]),stopListening:(r,s)=>{n.server_.unlisten(r,s)}})}function zV(n){const t=n.infoData_.getNode(new Ct(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function LR(n){return bV({timestamp:zV(n)})}function bS(n,e,t,r,s){n.dataUpdateCount++;const i=new Ct(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(s)if(r){const h=op(t,f=>Ln(f));l=wV(n.serverSyncTree_,i,h,s)}else{const h=Ln(t);l=xV(n.serverSyncTree_,i,h,s)}else if(r){const h=op(t,f=>Ln(f));l=_V(n.serverSyncTree_,i,h)}else{const h=Ln(t);l=Em(n.serverSyncTree_,i,h)}let c=i;l.length>0&&(c=cx(n,i)),qa(n.eventQueue_,c,l)}function ES(n,e){ax(n,"connected",e),e===!1&&qV(n)}function HV(n,e){Yr(e,(t,r)=>{ax(n,t,r)})}function ax(n,e,t){const r=new Ct("/.info/"+e),s=Ln(t);n.infoData_.updateSnapshot(r,s);const i=Em(n.infoSyncTree_,r,s);qa(n.eventQueue_,r,i)}function WV(n){return n.nextWriteId_++}function qV(n){DR(n,"onDisconnectEvents");const e=LR(n),t=kp();J0(n.onDisconnect_,ht(),(s,i)=>{const l=TV(s,i,n.serverSyncTree_,e);cR(t,s,l)});let r=[];J0(t,ht(),(s,i)=>{r=r.concat(Em(n.serverSyncTree_,s,i));const l=YV(n,s);cx(n,l)}),n.onDisconnect_=kp(),qa(n.eventQueue_,ht(),r)}function GV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(VV)}function DR(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),On(t,...e)}function MR(n,e,t){return SR(n.serverSyncTree_,e,t)||rt.EMPTY_NODE}function lx(n,e=n.transactionQueueTree_){if(e||Cm(n,e),Ac(e)){const t=VR(n,e);fe(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&KV(n,Gd(e),t)}else NR(e)&&Tm(e,t=>{lx(n,t)})}function KV(n,e,t){const r=t.map(f=>f.currentWriteId),s=MR(n,e,r);let i=s;const l=s.hash();for(let f=0;f<t.length;f++){const g=t[f];fe(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=qr(e,g.path);i=i.updateChild(y,g.currentOutputSnapshotRaw)}const c=i.val(!0),h=e;n.server_.put(h.toString(),c,f=>{DR(n,"transaction put response",{path:h.toString(),status:f});let g=[];if(f==="ok"){const y=[];for(let w=0;w<t.length;w++)t[w].status=2,g=g.concat(Gl(n.serverSyncTree_,t[w].currentWriteId)),t[w].onComplete&&y.push(()=>t[w].onComplete(null,!0,t[w].currentOutputSnapshotResolved)),t[w].unwatcher();Cm(n,ox(n.transactionQueueTree_,e)),lx(n,n.transactionQueueTree_),qa(n.eventQueue_,e,g);for(let w=0;w<y.length;w++)Wd(y[w])}else{if(f==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{Sr("transaction at "+h.toString()+" failed: "+f);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=f}cx(n,e)}},l)}function cx(n,e){const t=FR(n,e),r=Gd(t),s=VR(n,t);return QV(n,s,r),r}function QV(n,e,t){if(e.length===0)return;const r=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=qr(t,h.path);let g=!1,y;if(fe(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,y=h.abortReason,s=s.concat(Gl(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=UV)g=!0,y="maxretry",s=s.concat(Gl(n.serverSyncTree_,h.currentWriteId,!0));else{const w=MR(n,h.path,l);h.currentInputSnapshot=w;const R=e[c].update(w.val());if(R!==void 0){OR("transaction failed: Data returned ",R,h.path);let I=Ln(R);typeof R=="object"&&R!=null&&Bi(R,".priority")||(I=I.updatePriority(w.getPriority()));const _=h.currentWriteId,E=LR(n),P=CV(I,w,E);h.currentOutputSnapshotRaw=I,h.currentOutputSnapshotResolved=P,h.currentWriteId=WV(n),l.splice(l.indexOf(_),1),s=s.concat(vV(n.serverSyncTree_,h.path,P,h.currentWriteId,h.applyLocally)),s=s.concat(Gl(n.serverSyncTree_,_,!0))}else g=!0,y="nodata",s=s.concat(Gl(n.serverSyncTree_,h.currentWriteId,!0))}qa(n.eventQueue_,t,s),s=[],g&&(e[c].status=2,function(w){setTimeout(w,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(y==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(y),!1,null))))}Cm(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)Wd(r[c]);lx(n,n.transactionQueueTree_)}function FR(n,e){let t,r=n.transactionQueueTree_;for(t=Ke(e);t!==null&&Ac(r)===void 0;)r=ox(r,t),e=St(e),t=Ke(e);return r}function VR(n,e){const t=[];return UR(n,e,t),t.sort((r,s)=>r.order-s.order),t}function UR(n,e,t){const r=Ac(e);if(r)for(let s=0;s<r.length;s++)t.push(r[s]);Tm(e,s=>{UR(n,s,t)})}function Cm(n,e){const t=Ac(e);if(t){let r=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[r]=t[s],r++);t.length=r,AR(e,t.length>0?t:void 0)}Tm(e,r=>{Cm(n,r)})}function YV(n,e){const t=Gd(FR(n,e)),r=ox(n.transactionQueueTree_,e);return RV(r,s=>{Yy(n,s)}),Yy(n,r),PR(r,s=>{Yy(n,s)}),t}function Yy(n,e){const t=Ac(e);if(t){const r=[];let s=[],i=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(fe(i===l-1,"All SENT items should be at beginning of queue."),i=l,t[l].status=3,t[l].abortReason="set"):(fe(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),s=s.concat(Gl(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));i===-1?AR(e,void 0):t.length=i+1,qa(n.eventQueue_,Gd(e),s);for(let l=0;l<r.length;l++)Wd(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let s=t[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function JV(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Sr(`Invalid query segment '${t}' in query '${n}'`)}return e}const SS=function(n,e){const t=ZV(n),r=t.namespace;t.domain==="firebase.com"&&Di(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Di("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||k6();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new HI(t.host,t.secure,r,s,e,"",r!==t.subdomain),path:new Ct(t.pathString)}},ZV=function(n){let e="",t="",r="",s="",i="",l=!0,c="https",h=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let g=n.indexOf("/");g===-1&&(g=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(g,y)),g<y&&(s=XV(n.substring(g,y)));const w=JV(n.substring(Math.min(n.length,y)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const R=e.slice(0,f);if(R.toLowerCase()==="localhost")t="localhost";else if(R.split(".").length<=2)t=R;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),t=e.substring(I+1),i=r}"ns"in w&&(i=w.ns)}return{host:e,port:h,domain:t,subdomain:r,secure:l,scheme:c,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,r,s){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=s}get key(){return We(this._path)?null:ZI(this._path)}get ref(){return new Nc(this._repo,this._path)}get _queryIdentifier(){const e=cS(this._queryParams),t=H_(e);return t==="{}"?"default":t}get _queryObject(){return cS(this._queryParams)}isEqual(e){if(e=_t(e),!(e instanceof ux))return!1;const t=this._repo===e._repo,r=nR(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+dF(this._path)}}class Nc extends ux{constructor(e,t){super(e,t,new Y_,!1)}get parent(){const e=tR(this._path);return e===null?null:new Nc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}gV(Nc);yV(Nc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="FIREBASE_DATABASE_EMULATOR_HOST",ov={};let t9=!1;function n9(n,e,t,r){n.repoInfo_=new HI(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function r9(n,e,t,r,s){let i=r||n.options.databaseURL;i===void 0&&(n.options.projectId||Di("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),On("Using default host for project ",n.options.projectId),i=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=SS(i,s),c=l.repoInfo,h;typeof process<"u"&&HE&&(h=HE[e9]),h?(i=`http://${h}?ns=${c.namespace}`,l=SS(i,s),c=l.repoInfo):l.repoInfo.secure;const f=new V6(n.name,n.options,e);OV("Invalid Firebase Database URL",l),We(l.path)||Di("Database URL must point to the root of a Firebase Database (not including a child path).");const g=i9(c,n,f,new F6(n,t));return new o9(g,n)}function s9(n,e){const t=ov[e];(!t||t[n.key]!==n)&&Di(`Database ${e}(${n.repoInfo_}) has already been deleted.`),GV(n),delete t[n.key]}function i9(n,e,t,r){let s=ov[e.name];s||(s={},ov[e.name]=s);let i=s[n.toURLString()];return i&&Di("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new BV(n,t9,t,r),s[n.toURLString()]=i,i}class o9{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($V(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nc(this._repo,ht())),this._rootInternal}_delete(){return this._rootInternal!==null&&(s9(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Di("Cannot call "+e+" on a deleted database.")}}function a9(n=Kp(),e){const t=Pd(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=$v("database");r&&l9(t,...r)}return t}function l9(n,e,t,r={}){n=_t(n),n._checkNotDeleted("useEmulator");const s=`${e}:${t}`,i=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&No(r,i.repoInfo_.emulatorOptions))return;Di("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Di('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new qf(qf.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:Hv(r.mockUserToken,n.app.options.projectId);l=new qf(c)}n9(i,s,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(n){E6($o),Po(new Ai("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return r9(r,s,i,t)},"PUBLIC").setMultipleInstances(!0)),Gr(WE,qE,n),Gr(WE,qE,"esm2017")}Ri.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Ri.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};c9();const dx=async(n,e,t,r,s,i,l)=>{const c=Bd();let h;e||t?h=`${e||""} ${t||""}`.trim():h=i||"";const f={uid:n,displayName:h,firstName:e||(i?i.split(" ")[0]:""),lastName:t||(i?i.split(" ").slice(1).join(" "):""),email:r,phoneNumber:s,createdAt:new Date,...l?{role:l}:{}};await z_(Nt(c,"users",n),f,{merge:!0})},BR={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-b0c23.firebaseio.com"};console.log("FIREBASE CONFIG:",BR);const hx=fC(BR),Im=Zp(hx);new Hs;const Pt=Bd(hx);p3("debug");const $R=Nn.createContext();function sn(){return C.useContext($R)}function u9({children:n}){const[e,t]=C.useState(null),[r,s]=C.useState(!1),[i,l]=C.useState(!0),[c,h]=C.useState(!1),[f,g]=C.useState(!1),[y,w]=C.useState(!1),R={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:f,loading:i,redirectAfterAuth:y,setRedirectAfterAuth:w};return C.useEffect(()=>{const I=Zp(),x=UC(I,_=>{var E;if(t(_),s(!!_),_){const P=(E=_.providerData[0])==null?void 0:E.providerId;h(P==="password"),g(P==="google.com")}else h(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLoggedIn =",!!_,"user:",_==null?void 0:_.uid)});return()=>x},[]),u.jsx($R.Provider,{value:R,children:!i&&n})}const Js=Bd(hx),d9=async n=>{try{const e=Nt(Js,"users",n),t=await Fn(e);return t.exists()?t.data():null}catch(e){throw console.error("Error fetching user profile:",e),e}},Go=async n=>{try{const e=sr(Js,"colors"),t=wr(e,Pn("category","==",n));return(await br(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error(`Error fetching ${n} paint colors:`,e),e}},Ga=C.createContext(),Kd=()=>C.useContext(Ga),h9=({children:n})=>{const[e,t]=C.useState(null),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null);return C.useEffect(()=>{const f=UC(Im,async g=>{if(c&&(console.log("Cleaning up previous Firestore listener"),c(),h(null)),t(g),!g){t(null),s(null),l(!1);return}t(g),console.log("Current user UID:",g==null?void 0:g.uid);let y=null,w=null;if(g.displayName){const x=g.displayName.split(" ");y=x[0]||"",w=x.slice(1).join(" ")||""}const R=Nt(Js,"users",g.uid);(await Fn(R)).exists()?console.log("User profile already exists, skipping creation."):(console.log("User profile doesn't exist yet, creating it."),await dx(g.uid,y,w,g.email,null,g.displayName));try{const x=await d9(g.uid),_={displayName:g.displayName||"",email:g.email||"",photoURL:g.photoURL||""};s(x||_),l(!1);try{const E=Nt(Js,"users",g.uid);console.log("Setting up Firestore listener on: /users/"+g.uid),(await Fn(E)).exists()||(console.log("Document doesn't exist yet, creating it first"),await z_(E,{displayName:r.displayName,email:r.email,photoURL:r.photoURL,createdAt:new Date},{merge:!0}));const A=II(E,O=>{O.exists()?(console.log("Received profile update for UID:",g.uid,"Data:",O.data()),s(O.data())):console.warn("User document does not exist for UID:",g.uid)},O=>{console.error("Error listening to profile updates:",O)});h(()=>A)}catch(E){console.error("Error setting up profile listener:",E)}}catch(x){console.error("Failed to fetch user profile:",x.message),l(!1)}});return()=>{f(),c&&(console.log("Cleaning up Firestore listener on component unmount"),c())}},[]),u.jsx(Ga.Provider,{value:{user:e,profile:r,loading:i},children:n})},zR=C.createContext(),f9={conversations:[],selectedConversation:null,messages:[],loading:!1,currentConversationData:null};function p9(n,e){switch(e.type){case"SET_CONVERSATIONS":const t=[...e.payload].sort((c,h)=>{var y,w,R,I,x,_,E,P,A,O,U,z;const f=((R=(w=(y=c.lastMessage)==null?void 0:y.timestamp)==null?void 0:w.toMillis)==null?void 0:R.call(w))||(((I=c.lastMessage)==null?void 0:I.timestamp)instanceof Date?c.lastMessage.timestamp.getTime():0)||((_=(x=c.updatedAt)==null?void 0:x.toMillis)==null?void 0:_.call(x))||0;return(((A=(P=(E=h.lastMessage)==null?void 0:E.timestamp)==null?void 0:P.toMillis)==null?void 0:A.call(P))||(((O=h.lastMessage)==null?void 0:O.timestamp)instanceof Date?h.lastMessage.timestamp.getTime():0)||((z=(U=h.updatedAt)==null?void 0:U.toMillis)==null?void 0:z.call(U))||0)-f});let r=n.currentConversationData;if(n.selectedConversation){const c=t.find(h=>h.id===n.selectedConversation);c&&(r=c)}return{...n,conversations:t,currentConversationData:r};case"UPDATE_LAST_MESSAGE":const s=n.conversations.map(c=>c.id===e.payload.conversationId?{...c,lastMessage:e.payload.lastMessage,updatedAt:e.payload.lastMessage.timestamp}:c).sort((c,h)=>{var y,w,R,I,x,_,E,P,A,O,U,z;const f=((R=(w=(y=c.lastMessage)==null?void 0:y.timestamp)==null?void 0:w.toMillis)==null?void 0:R.call(w))||(((I=c.lastMessage)==null?void 0:I.timestamp)instanceof Date?c.lastMessage.timestamp.getTime():0)||((_=(x=c.updatedAt)==null?void 0:x.toMillis)==null?void 0:_.call(x))||0;return(((A=(P=(E=h.lastMessage)==null?void 0:E.timestamp)==null?void 0:P.toMillis)==null?void 0:A.call(P))||(((O=h.lastMessage)==null?void 0:O.timestamp)instanceof Date?h.lastMessage.timestamp.getTime():0)||((z=(U=h.updatedAt)==null?void 0:U.toMillis)==null?void 0:z.call(U))||0)-f});return{...n,conversations:s};case"SELECT_CONVERSATION":if(n.selectedConversation===e.payload)return n;const i=n.conversations.find(c=>c.id===e.payload)||null;return{...n,selectedConversation:e.payload,messages:[],currentConversationData:i};case"SET_CURRENT_CONVERSATION_DATA":return{...n,currentConversationData:e.payload};case"SET_MESSAGES":return{...n,messages:e.payload};case"ADD_MESSAGE":return n.messages.some(c=>{var h,f,g,y,w,R;return c.id===e.payload.id||c.senderId===e.payload.senderId&&c.text===e.payload.text&&Math.abs(((g=((f=(h=c.timestamp)==null?void 0:h.toDate)==null?void 0:f.call(h))||c.timestamp)==null?void 0:g.getTime())-((R=((w=(y=e.payload.timestamp)==null?void 0:y.toDate)==null?void 0:w.call(y))||e.payload.timestamp)==null?void 0:R.getTime()))<5e3})?n:{...n,messages:[...n.messages,e.payload].sort((c,h)=>{var y,w,R,I;const f=((w=(y=c.timestamp)==null?void 0:y.toMillis)==null?void 0:w.call(y))||(c.timestamp instanceof Date?c.timestamp.getTime():0),g=((I=(R=h.timestamp)==null?void 0:R.toMillis)==null?void 0:I.call(R))||(h.timestamp instanceof Date?h.timestamp.getTime():0);return f-g})};case"SET_LOADING":return{...n,loading:e.payload};default:return n}}function m9({children:n}){const[e,t]=C.useReducer(p9,f9);return C.useEffect(()=>{const r=e.selectedConversation;if(!r)return;console.log(`Setting up listener for conversation ${r}`);const s=Nt(Pt,"conversations",r),i=II(s,l=>{if(l.exists()){const c={id:l.id,...l.data()};if(console.log("Conversation data updated:",c),t({type:"SET_CURRENT_CONVERSATION_DATA",payload:c}),e.conversations.length>0){const h=e.conversations.map(f=>f.id===r?c:f);t({type:"SET_CONVERSATIONS",payload:h})}}else console.log(`Conversation ${r} does not exist`)},l=>{console.error("Error listening to conversation:",l)});return()=>{console.log(`Cleaning up listener for conversation ${r}`),i()}},[e.selectedConversation]),u.jsx(zR.Provider,{value:{state:e,dispatch:t},children:n})}function zK(){return C.useContext(zR)}function HR(){return u.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}const g9=1,y9=1e6;let Xy=0;function v9(){return Xy=(Xy+1)%Number.MAX_SAFE_INTEGER,Xy.toString()}const Jy=new Map,TS=n=>{if(Jy.has(n))return;const e=setTimeout(()=>{Jy.delete(n),id({type:"REMOVE_TOAST",toastId:n})},y9);Jy.set(n,e)},_9=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,g9)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?TS(t):n.toasts.forEach(r=>{TS(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Gf=[];let Kf={toasts:[]};function id(n){Kf=_9(Kf,n),Gf.forEach(e=>{e(Kf)})}function x9({...n}){const e=v9(),t=s=>id({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>id({type:"DISMISS_TOAST",toastId:e});return id({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function fx(){const[n,e]=C.useState(Kf);return C.useEffect(()=>(Gf.push(e),()=>{const t=Gf.indexOf(e);t>-1&&Gf.splice(t,1)}),[n]),{...n,toast:x9,dismiss:t=>id({type:"DISMISS_TOAST",toastId:t})}}function vr(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function CS(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function px(...n){return e=>{let t=!1;const r=n.map(s=>{const i=CS(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():CS(n[s],null)}}}}function Fa(...n){return C.useCallback(px(...n),n)}function WR(n,e=[]){let t=[];function r(i,l){const c=C.createContext(l),h=t.length;t=[...t,l];const f=y=>{var E;const{scope:w,children:R,...I}=y,x=((E=w==null?void 0:w[n])==null?void 0:E[h])||c,_=C.useMemo(()=>I,Object.values(I));return u.jsx(x.Provider,{value:_,children:R})};f.displayName=i+"Provider";function g(y,w){var x;const R=((x=w==null?void 0:w[n])==null?void 0:x[h])||c,I=C.useContext(R);if(I)return I;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${i}\``)}return[f,g]}const s=()=>{const i=t.map(l=>C.createContext(l));return function(c){const h=(c==null?void 0:c[n])||i;return C.useMemo(()=>({[`__scope${n}`]:{...c,[n]:h}}),[c,h])}};return s.scopeName=n,[r,w9(s,...e)]}function w9(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((c,{useScope:h,scopeName:f})=>{const y=h(i)[`__scope${f}`];return{...c,...y}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var av=C.forwardRef((n,e)=>{const{children:t,...r}=n,s=C.Children.toArray(t),i=s.find(E9);if(i){const l=i.props.children,c=s.map(h=>h===i?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:h);return u.jsx(lv,{...r,ref:e,children:C.isValidElement(l)?C.cloneElement(l,void 0,c):null})}return u.jsx(lv,{...r,ref:e,children:t})});av.displayName="Slot";var lv=C.forwardRef((n,e)=>{const{children:t,...r}=n;if(C.isValidElement(t)){const s=T9(t),i=S9(r,t.props);return t.type!==C.Fragment&&(i.ref=e?px(e,s):s),C.cloneElement(t,i)}return C.Children.count(t)>1?C.Children.only(null):null});lv.displayName="SlotClone";var b9=({children:n})=>u.jsx(u.Fragment,{children:n});function E9(n){return C.isValidElement(n)&&n.type===b9}function S9(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...c)=>{i(...c),s(...c)}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function T9(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function C9(n){const e=n+"CollectionProvider",[t,r]=WR(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=R=>{const{scope:I,children:x}=R,_=Nn.useRef(null),E=Nn.useRef(new Map).current;return u.jsx(s,{scope:I,itemMap:E,collectionRef:_,children:x})};l.displayName=e;const c=n+"CollectionSlot",h=Nn.forwardRef((R,I)=>{const{scope:x,children:_}=R,E=i(c,x),P=Fa(I,E.collectionRef);return u.jsx(av,{ref:P,children:_})});h.displayName=c;const f=n+"CollectionItemSlot",g="data-radix-collection-item",y=Nn.forwardRef((R,I)=>{const{scope:x,children:_,...E}=R,P=Nn.useRef(null),A=Fa(I,P),O=i(f,x);return Nn.useEffect(()=>(O.itemMap.set(P,{ref:P,...E}),()=>void O.itemMap.delete(P))),u.jsx(av,{[g]:"",ref:A,children:_})});y.displayName=f;function w(R){const I=i(n+"CollectionConsumer",R);return Nn.useCallback(()=>{const _=I.collectionRef.current;if(!_)return[];const E=Array.from(_.querySelectorAll(`[${g}]`));return Array.from(I.itemMap.values()).sort((O,U)=>E.indexOf(O.ref.current)-E.indexOf(U.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:l,Slot:h,ItemSlot:y},w,r]}var qR=C.forwardRef((n,e)=>{const{children:t,...r}=n,s=C.Children.toArray(t),i=s.find(R9);if(i){const l=i.props.children,c=s.map(h=>h===i?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:h);return u.jsx(cv,{...r,ref:e,children:C.isValidElement(l)?C.cloneElement(l,void 0,c):null})}return u.jsx(cv,{...r,ref:e,children:t})});qR.displayName="Slot";var cv=C.forwardRef((n,e)=>{const{children:t,...r}=n;if(C.isValidElement(t)){const s=A9(t),i=k9(r,t.props);return t.type!==C.Fragment&&(i.ref=e?px(e,s):s),C.cloneElement(t,i)}return C.Children.count(t)>1?C.Children.only(null):null});cv.displayName="SlotClone";var I9=({children:n})=>u.jsx(u.Fragment,{children:n});function R9(n){return C.isValidElement(n)&&n.type===I9}function k9(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...c)=>{i(...c),s(...c)}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function A9(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var N9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ri=N9.reduce((n,e)=>{const t=C.forwardRef((r,s)=>{const{asChild:i,...l}=r,c=i?qR:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(c,{...l,ref:s})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function GR(n,e){n&&Uv.flushSync(()=>n.dispatchEvent(e))}function Mi(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function P9(n,e=globalThis==null?void 0:globalThis.document){const t=Mi(n);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var j9="DismissableLayer",uv="dismissableLayer.update",O9="dismissableLayer.pointerDownOutside",L9="dismissableLayer.focusOutside",IS,KR=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),QR=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...h}=n,f=C.useContext(KR),[g,y]=C.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=C.useState({}),I=Fa(e,M=>y(M)),x=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=x.indexOf(_),P=g?x.indexOf(g):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,O=P>=E,U=M9(M=>{const L=M.target,N=[...f.branches].some(b=>b.contains(L));!O||N||(s==null||s(M),l==null||l(M),M.defaultPrevented||c==null||c())},w),z=F9(M=>{const L=M.target;[...f.branches].some(b=>b.contains(L))||(i==null||i(M),l==null||l(M),M.defaultPrevented||c==null||c())},w);return P9(M=>{P===f.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},w),C.useEffect(()=>{if(g)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(IS=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),RS(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=IS)}},[g,w,t,f]),C.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),RS())},[g,f]),C.useEffect(()=>{const M=()=>R({});return document.addEventListener(uv,M),()=>document.removeEventListener(uv,M)},[]),u.jsx(ri.div,{...h,ref:I,style:{pointerEvents:A?O?"auto":"none":void 0,...n.style},onFocusCapture:vr(n.onFocusCapture,z.onFocusCapture),onBlurCapture:vr(n.onBlurCapture,z.onBlurCapture),onPointerDownCapture:vr(n.onPointerDownCapture,U.onPointerDownCapture)})});QR.displayName=j9;var D9="DismissableLayerBranch",YR=C.forwardRef((n,e)=>{const t=C.useContext(KR),r=C.useRef(null),s=Fa(e,r);return C.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),u.jsx(ri.div,{...n,ref:s})});YR.displayName=D9;function M9(n,e=globalThis==null?void 0:globalThis.document){const t=Mi(n),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let h=function(){XR(O9,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function F9(n,e=globalThis==null?void 0:globalThis.document){const t=Mi(n),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&XR(L9,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function RS(){const n=new CustomEvent(uv);document.dispatchEvent(n)}function XR(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?GR(s,i):s.dispatchEvent(i)}var V9=QR,U9=YR,jp=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},B9="Portal",JR=C.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[s,i]=C.useState(!1);jp(()=>i(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?a5.createPortal(u.jsx(ri.div,{...r,ref:e}),l):null});JR.displayName=B9;function $9(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var ZR=n=>{const{present:e,children:t}=n,r=z9(e),s=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),i=Fa(r.ref,H9(s));return typeof t=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};ZR.displayName="Presence";function z9(n){const[e,t]=C.useState(),r=C.useRef({}),s=C.useRef(n),i=C.useRef("none"),l=n?"mounted":"unmounted",[c,h]=$9(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const f=If(r.current);i.current=c==="mounted"?f:"none"},[c]),jp(()=>{const f=r.current,g=s.current;if(g!==n){const w=i.current,R=If(f);n?h("MOUNT"):R==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&w!==R?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),jp(()=>{if(e){let f;const g=e.ownerDocument.defaultView??window,y=R=>{const x=If(r.current).includes(R.animationName);if(R.target===e&&x&&(h("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},w=R=>{R.target===e&&(i.current=If(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(f=>{f&&(r.current=getComputedStyle(f)),t(f)},[])}}function If(n){return(n==null?void 0:n.animationName)||"none"}function H9(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function W9({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=q9({defaultProp:e,onChange:t}),i=n!==void 0,l=i?n:r,c=Mi(t),h=C.useCallback(f=>{if(i){const y=typeof f=="function"?f(n):f;y!==n&&c(y)}else s(f)},[i,n,s,c]);return[l,h]}function q9({defaultProp:n,onChange:e}){const t=C.useState(n),[r]=t,s=C.useRef(r),i=Mi(e);return C.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),t}var G9="VisuallyHidden",mx=C.forwardRef((n,e)=>u.jsx(ri.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));mx.displayName=G9;var gx="ToastProvider",[yx,K9,Q9]=C9("Toast"),[ek,HK]=WR("Toast",[Q9]),[Y9,Rm]=ek(gx),tk=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=n,[c,h]=C.useState(null),[f,g]=C.useState(0),y=C.useRef(!1),w=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${gx}\`. Expected non-empty \`string\`.`),u.jsx(yx.Provider,{scope:e,children:u.jsx(Y9,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:f,viewport:c,onViewportChange:h,onToastAdd:C.useCallback(()=>g(R=>R+1),[]),onToastRemove:C.useCallback(()=>g(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:l})})};tk.displayName=gx;var nk="ToastViewport",X9=["F8"],dv="toast.viewportPause",hv="toast.viewportResume",rk=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=X9,label:s="Notifications ({hotkey})",...i}=n,l=Rm(nk,t),c=K9(t),h=C.useRef(null),f=C.useRef(null),g=C.useRef(null),y=C.useRef(null),w=Fa(e,y,l.onViewportChange),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=l.toastCount>0;C.useEffect(()=>{const _=E=>{var A;r.length!==0&&r.every(O=>E[O]||E.code===O)&&((A=y.current)==null||A.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),C.useEffect(()=>{const _=h.current,E=y.current;if(I&&_&&E){const P=()=>{if(!l.isClosePausedRef.current){const z=new CustomEvent(dv);E.dispatchEvent(z),l.isClosePausedRef.current=!0}},A=()=>{if(l.isClosePausedRef.current){const z=new CustomEvent(hv);E.dispatchEvent(z),l.isClosePausedRef.current=!1}},O=z=>{!_.contains(z.relatedTarget)&&A()},U=()=>{_.contains(document.activeElement)||A()};return _.addEventListener("focusin",P),_.addEventListener("focusout",O),_.addEventListener("pointermove",P),_.addEventListener("pointerleave",U),window.addEventListener("blur",P),window.addEventListener("focus",A),()=>{_.removeEventListener("focusin",P),_.removeEventListener("focusout",O),_.removeEventListener("pointermove",P),_.removeEventListener("pointerleave",U),window.removeEventListener("blur",P),window.removeEventListener("focus",A)}}},[I,l.isClosePausedRef]);const x=C.useCallback(({tabbingDirection:_})=>{const P=c().map(A=>{const O=A.ref.current,U=[O,...uU(O)];return _==="forwards"?U:U.reverse()});return(_==="forwards"?P.reverse():P).flat()},[c]);return C.useEffect(()=>{const _=y.current;if(_){const E=P=>{var U,z,M;const A=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!A){const L=document.activeElement,N=P.shiftKey;if(P.target===_&&N){(U=f.current)==null||U.focus();return}const V=x({tabbingDirection:N?"backwards":"forwards"}),B=V.findIndex(te=>te===L);Zy(V.slice(B+1))?P.preventDefault():N?(z=f.current)==null||z.focus():(M=g.current)==null||M.focus()}};return _.addEventListener("keydown",E),()=>_.removeEventListener("keydown",E)}},[c,x]),u.jsxs(U9,{ref:h,role:"region","aria-label":s.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&u.jsx(fv,{ref:f,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"forwards"});Zy(_)}}),u.jsx(yx.Slot,{scope:t,children:u.jsx(ri.ol,{tabIndex:-1,...i,ref:w})}),I&&u.jsx(fv,{ref:g,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"backwards"});Zy(_)}})]})});rk.displayName=nk;var sk="ToastFocusProxy",fv=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=Rm(sk,t);return u.jsx(mx,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var f;const c=l.relatedTarget;!((f=i.viewport)!=null&&f.contains(c))&&r()}})});fv.displayName=sk;var km="Toast",J9="toast.swipeStart",Z9="toast.swipeMove",eU="toast.swipeCancel",tU="toast.swipeEnd",ik=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...l}=n,[c=!0,h]=W9({prop:r,defaultProp:s,onChange:i});return u.jsx(ZR,{present:t||c,children:u.jsx(sU,{open:c,...l,ref:e,onClose:()=>h(!1),onPause:Mi(n.onPause),onResume:Mi(n.onResume),onSwipeStart:vr(n.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:vr(n.onSwipeMove,f=>{const{x:g,y}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:vr(n.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:vr(n.onSwipeEnd,f=>{const{x:g,y}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});ik.displayName=km;var[nU,rU]=ek(km,{onClose(){}}),sU=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:c,onPause:h,onResume:f,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:R,...I}=n,x=Rm(km,t),[_,E]=C.useState(null),P=Fa(e,te=>E(te)),A=C.useRef(null),O=C.useRef(null),U=s||x.duration,z=C.useRef(0),M=C.useRef(U),L=C.useRef(0),{onToastAdd:N,onToastRemove:b}=x,D=Mi(()=>{var de;(_==null?void 0:_.contains(document.activeElement))&&((de=x.viewport)==null||de.focus()),l()}),V=C.useCallback(te=>{!te||te===1/0||(window.clearTimeout(L.current),z.current=new Date().getTime(),L.current=window.setTimeout(D,te))},[D]);C.useEffect(()=>{const te=x.viewport;if(te){const de=()=>{V(M.current),f==null||f()},Ie=()=>{const ke=new Date().getTime()-z.current;M.current=M.current-ke,window.clearTimeout(L.current),h==null||h()};return te.addEventListener(dv,Ie),te.addEventListener(hv,de),()=>{te.removeEventListener(dv,Ie),te.removeEventListener(hv,de)}}},[x.viewport,U,h,f,V]),C.useEffect(()=>{i&&!x.isClosePausedRef.current&&V(U)},[i,U,x.isClosePausedRef,V]),C.useEffect(()=>(N(),()=>b()),[N,b]);const B=C.useMemo(()=>_?hk(_):null,[_]);return x.viewport?u.jsxs(u.Fragment,{children:[B&&u.jsx(iU,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),u.jsx(nU,{scope:t,onClose:D,children:Uv.createPortal(u.jsx(yx.ItemSlot,{scope:t,children:u.jsx(V9,{asChild:!0,onEscapeKeyDown:vr(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ri.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...I,ref:P,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:vr(n.onKeyDown,te=>{te.key==="Escape"&&(c==null||c(te.nativeEvent),te.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:vr(n.onPointerDown,te=>{te.button===0&&(A.current={x:te.clientX,y:te.clientY})}),onPointerMove:vr(n.onPointerMove,te=>{if(!A.current)return;const de=te.clientX-A.current.x,Ie=te.clientY-A.current.y,ke=!!O.current,ae=["left","right"].includes(x.swipeDirection),pe=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,he=ae?pe(0,de):0,q=ae?0:pe(0,Ie),ne=te.pointerType==="touch"?10:2,xe={x:he,y:q},Pe={originalEvent:te,delta:xe};ke?(O.current=xe,Rf(Z9,y,Pe,{discrete:!1})):kS(xe,x.swipeDirection,ne)?(O.current=xe,Rf(J9,g,Pe,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(de)>ne||Math.abs(Ie)>ne)&&(A.current=null)}),onPointerUp:vr(n.onPointerUp,te=>{const de=O.current,Ie=te.target;if(Ie.hasPointerCapture(te.pointerId)&&Ie.releasePointerCapture(te.pointerId),O.current=null,A.current=null,de){const ke=te.currentTarget,ae={originalEvent:te,delta:de};kS(de,x.swipeDirection,x.swipeThreshold)?Rf(tU,R,ae,{discrete:!0}):Rf(eU,w,ae,{discrete:!0}),ke.addEventListener("click",pe=>pe.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),iU=n=>{const{__scopeToast:e,children:t,...r}=n,s=Rm(km,e),[i,l]=C.useState(!1),[c,h]=C.useState(!1);return lU(()=>l(!0)),C.useEffect(()=>{const f=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(f)},[]),c?null:u.jsx(JR,{asChild:!0,children:u.jsx(mx,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",t]})})})},oU="ToastTitle",ok=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return u.jsx(ri.div,{...r,ref:e})});ok.displayName=oU;var aU="ToastDescription",ak=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return u.jsx(ri.div,{...r,ref:e})});ak.displayName=aU;var lk="ToastAction",ck=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?u.jsx(dk,{altText:t,asChild:!0,children:u.jsx(vx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lk}\`. Expected non-empty \`string\`.`),null)});ck.displayName=lk;var uk="ToastClose",vx=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=rU(uk,t);return u.jsx(dk,{asChild:!0,children:u.jsx(ri.button,{type:"button",...r,ref:e,onClick:vr(n.onClick,s.onClose)})})});vx.displayName=uk;var dk=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return u.jsx(ri.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function hk(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...hk(r))}}),e}function Rf(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?GR(s,i):s.dispatchEvent(i)}var kS=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function lU(n=()=>{}){const e=Mi(n);jp(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function cU(n){return n.nodeType===n.ELEMENT_NODE}function uU(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Zy(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var dU=tk,fk=rk,pk=ik,mk=ok,gk=ak,yk=ck,vk=vx;function _k(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=_k(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function xs(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=_k(n))&&(r&&(r+=" "),r+=e);return r}const AS=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,NS=xs,xk=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return NS(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(f=>{const g=t==null?void 0:t[f],y=i==null?void 0:i[f];if(g===null)return null;const w=AS(g)||AS(y);return s[f][w]}),c=t&&Object.entries(t).reduce((f,g)=>{let[y,w]=g;return w===void 0||(f[y]=w),f},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:y,className:w,...R}=g;return Object.entries(R).every(I=>{let[x,_]=I;return Array.isArray(_)?_.includes({...i,...c}[x]):{...i,...c}[x]===_})?[...f,y,w]:f},[]);return NS(n,l,h,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wk=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...c},h)=>C.createElement("svg",{ref:h,...fU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:wk("lucide",s),...c},[...l.map(([f,g])=>C.createElement(f,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=(n,e)=>{const t=C.forwardRef(({className:r,...s},i)=>C.createElement(pU,{ref:i,iconNode:e,className:wk(`lucide-${hU(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gU=Pc("Bell",mU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vU=Pc("ChevronLeft",yU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xU=Pc("ChevronRight",_U);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],bU=Pc("LogOut",wU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SU=Pc("Settings",EU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CU=Pc("X",TU),_x="-",IU=n=>{const e=kU(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(_x);return c[0]===""&&c.length!==1&&c.shift(),bk(c,e)||RU(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},bk=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?bk(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(_x);return(l=e.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},PS=/^\[(.+)\]$/,RU=n=>{if(PS.test(n)){const e=PS.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},kU=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return NU(Object.entries(n.classGroups),t).forEach(([i,l])=>{pv(l,r,i,e)}),r},pv=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:jS(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(AU(s)){pv(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{pv(l,jS(e,i),t,r)})})},jS=(n,e)=>{let t=n;return e.split(_x).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},AU=n=>n.isThemeGetter,NU=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[e+l,c])):i);return[t,s]}):n,PU=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},Ek="!",jU=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,l=c=>{const h=[];let f=0,g=0,y;for(let _=0;_<c.length;_++){let E=c[_];if(f===0){if(E===s&&(r||c.slice(_,_+i)===e)){h.push(c.slice(g,_)),g=_+i;continue}if(E==="/"){y=_;continue}}E==="["?f++:E==="]"&&f--}const w=h.length===0?c:c.substring(g),R=w.startsWith(Ek),I=R?w.substring(1):w,x=y&&y>g?y-g:void 0;return{modifiers:h,hasImportantModifier:R,baseClassName:I,maybePostfixModifierPosition:x}};return t?c=>t({className:c,parseClassName:l}):l},OU=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},LU=n=>({cache:PU(n.cacheSize),parseClassName:jU(n),...IU(n)}),DU=/\s+/,MU=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],l=n.trim().split(DU);let c="";for(let h=l.length-1;h>=0;h-=1){const f=l[h],{modifiers:g,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:R}=t(f);let I=!!R,x=r(I?w.substring(0,R):w);if(!x){if(!I){c=f+(c.length>0?" "+c:c);continue}if(x=r(w),!x){c=f+(c.length>0?" "+c:c);continue}I=!1}const _=OU(g).join(":"),E=y?_+Ek:_,P=E+x;if(i.includes(P))continue;i.push(P);const A=s(x,I);for(let O=0;O<A.length;++O){const U=A[O];i.push(E+U)}c=f+(c.length>0?" "+c:c)}return c};function FU(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Sk(e))&&(r&&(r+=" "),r+=t);return r}const Sk=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Sk(n[r]))&&(t&&(t+=" "),t+=e);return t};function VU(n,...e){let t,r,s,i=l;function l(h){const f=e.reduce((g,y)=>y(g),n());return t=LU(f),r=t.cache.get,s=t.cache.set,i=c,c(h)}function c(h){const f=r(h);if(f)return f;const g=MU(h,t);return s(h,g),g}return function(){return i(FU.apply(null,arguments))}}const bt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Tk=/^\[(?:([a-z-]+):)?(.+)\]$/i,UU=/^\d+\/\d+$/,BU=new Set(["px","full","screen"]),$U=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_i=n=>tc(n)||BU.has(n)||UU.test(n),vo=n=>jc(n,"length",eB),tc=n=>!!n&&!Number.isNaN(Number(n)),e0=n=>jc(n,"number",tc),Lu=n=>!!n&&Number.isInteger(Number(n)),GU=n=>n.endsWith("%")&&tc(n.slice(0,-1)),Le=n=>Tk.test(n),_o=n=>$U.test(n),KU=new Set(["length","size","percentage"]),QU=n=>jc(n,KU,Ck),YU=n=>jc(n,"position",Ck),XU=new Set(["image","url"]),JU=n=>jc(n,XU,nB),ZU=n=>jc(n,"",tB),Du=()=>!0,jc=(n,e,t)=>{const r=Tk.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},eB=n=>zU.test(n)&&!HU.test(n),Ck=()=>!1,tB=n=>WU.test(n),nB=n=>qU.test(n),rB=()=>{const n=bt("colors"),e=bt("spacing"),t=bt("blur"),r=bt("brightness"),s=bt("borderColor"),i=bt("borderRadius"),l=bt("borderSpacing"),c=bt("borderWidth"),h=bt("contrast"),f=bt("grayscale"),g=bt("hueRotate"),y=bt("invert"),w=bt("gap"),R=bt("gradientColorStops"),I=bt("gradientColorStopPositions"),x=bt("inset"),_=bt("margin"),E=bt("opacity"),P=bt("padding"),A=bt("saturate"),O=bt("scale"),U=bt("sepia"),z=bt("skew"),M=bt("space"),L=bt("translate"),N=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Le,e],V=()=>[Le,e],B=()=>["",_i,vo],te=()=>["auto",tc,Le],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ie=()=>["solid","dashed","dotted","double","none"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>["start","end","center","between","around","evenly","stretch"],pe=()=>["","0",Le],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[tc,Le];return{cacheSize:500,separator:":",theme:{colors:[Du],spacing:[_i,vo],blur:["none","",_o,Le],brightness:q(),borderColor:[n],borderRadius:["none","","full",_o,Le],borderSpacing:V(),borderWidth:B(),contrast:q(),grayscale:pe(),hueRotate:q(),invert:pe(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[GU,vo],inset:D(),margin:D(),opacity:q(),padding:V(),saturate:q(),scale:q(),sepia:pe(),skew:q(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[_o]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),Le]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lu,Le]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",Lu,Le]}],"grid-cols":[{"grid-cols":[Du]}],"col-start-end":[{col:["auto",{span:["full",Lu,Le]},Le]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Du]}],"row-start-end":[{row:["auto",{span:[Lu,Le]},Le]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...ae()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ae(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ae(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[_o]},_o]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_o,vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",e0]}],"font-family":[{font:[Du]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",tc,e0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_i,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_i,vo]}],"underline-offset":[{"underline-offset":["auto",_i,Le]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),YU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Ie(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ie()]}],"outline-offset":[{"outline-offset":[_i,Le]}],"outline-w":[{outline:[_i,vo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[_i,vo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",_o,ZU]}],"shadow-color":[{shadow:[Du]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ke(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ke()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",_o,Le]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[A]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Lu,Le]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[_i,vo,e0]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sB=VU(rB);function cr(...n){return sB(xs(n))}const iB=dU,Ik=C.forwardRef(({className:n,...e},t)=>u.jsx(fk,{ref:t,className:cr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Ik.displayName=fk.displayName;const oB=xk("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Rk=C.forwardRef(({className:n,variant:e,...t},r)=>u.jsx(pk,{ref:r,className:cr(oB({variant:e}),n),...t}));Rk.displayName=pk.displayName;const aB=C.forwardRef(({className:n,...e},t)=>u.jsx(yk,{ref:t,className:cr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));aB.displayName=yk.displayName;const kk=C.forwardRef(({className:n,...e},t)=>u.jsx(vk,{ref:t,className:cr("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:u.jsx(CU,{className:"h-4 w-4"})}));kk.displayName=vk.displayName;const Ak=C.forwardRef(({className:n,...e},t)=>u.jsx(mk,{ref:t,className:cr("text-sm font-semibold [&+div]:text-xs",n),...e}));Ak.displayName=mk.displayName;const Nk=C.forwardRef(({className:n,...e},t)=>u.jsx(gk,{ref:t,className:cr("text-sm opacity-90",n),...e}));Nk.displayName=gk.displayName;function Pk(){const{toasts:n}=fx();return u.jsxs(iB,{children:[n.map(function({id:e,title:t,description:r,action:s,...i}){return u.jsxs(Rk,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[t&&u.jsx(Ak,{children:t}),r&&u.jsx(Nk,{children:r})]}),s,u.jsx(kk,{})]},e)}),u.jsx(Ik,{})]})}const lB="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",cB="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",OS="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",LS="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",DS="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",MS="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",kr=()=>u.jsxs("div",{className:"footer",children:[u.jsxs("div",{className:"left",children:[u.jsx("div",{className:"logo",children:"URENO"}),u.jsxs("div",{className:"social-sites",children:[u.jsx("object",{data:OS,type:"image/svg+xml",children:u.jsx("img",{src:OS})}),u.jsx("object",{data:LS,type:"image/svg+xml",children:u.jsx("img",{src:LS})}),u.jsx("object",{data:DS,type:"image/svg+xml",children:u.jsx("img",{src:DS})}),u.jsx("object",{data:MS,type:"image/svg+xml",children:u.jsx("img",{src:MS})})]})]}),u.jsxs("div",{className:"right",children:[u.jsxs("menu",{children:[u.jsx("li",{children:"Topic"}),u.jsx("li",{children:"Page"}),u.jsx("li",{children:"Page"}),u.jsx("li",{children:"Page"})]}),u.jsxs("menu",{children:[u.jsx("li",{children:"Topic"}),u.jsx("li",{children:"Page"}),u.jsx("li",{children:"Page"}),u.jsx("li",{children:"Page"})]}),u.jsxs("menu",{children:[u.jsx("li",{children:"Topic"}),u.jsx("li",{children:"Page"}),u.jsx("li",{children:"Page"}),u.jsx("li",{children:"Page"})]})]})]}),uB="/Ureno_webdesign/assets/profile-svgrepo-com-C_cpaHZC.png",dB=async(n,e)=>$L(Im,n,e),hB=(n,e)=>zL(Im,n,e),fB=async()=>{var t;const n=Zp(),e=new Hs;try{const r=await xD(n,e),s=(t=JL(r))==null?void 0:t.isNewUser,i=r.user;return s?(console.log("New user signed up with Google:",r.user),await dx(i.uid,i.displayname||"Google User",i.email,i.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},jk=async()=>{try{return await Im.signOut(),{success:!0}}catch(n){return console.error("sign-out error: ",n),{success:!1,error:n}}};var t0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var FS;function pB(){return FS||(FS=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(i=s(i,r(c)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var l="";for(var c in i)e.call(i,c)&&i[c]&&(l=s(l,c));return l}function s(i,l){return l?i?i+" "+l:i+l:i}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(t0)),t0.exports}var mB=pB();const Gn=Rd(mB);var n0,VS;function gB(){if(VS)return n0;VS=1;var n=function(){};return n0=n,n0}var yB=gB();const WK=Rd(yB),vB=["as","disabled"];function _B(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function xB(n){return!n||n.trim()==="#"}function Ok({tagName:n,disabled:e,href:t,target:r,rel:s,role:i,onClick:l,tabIndex:c=0,type:h}){n||(t!=null||r!=null||s!=null?n="a":n="button");const f={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},f];const g=w=>{if((e||n==="a"&&xB(t))&&w.preventDefault(),e){w.stopPropagation();return}l==null||l(w)},y=w=>{w.key===" "&&(w.preventDefault(),g(w))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:g,onKeyDown:y},f]}const wB=C.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=_B(n,vB);const[i,{tagName:l}]=Ok(Object.assign({tagName:t,disabled:r},s));return u.jsx(l,Object.assign({},s,i,{ref:e}))});wB.displayName="Button";function mv(){return mv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mv.apply(null,arguments)}const bB=["xxl","xl","lg","md","sm","xs"],EB="xs",Qd=C.createContext({prefixes:{},breakpoints:bB,minBreakpoint:EB}),{Consumer:qK,Provider:GK}=Qd;function Rr(n,e){const{prefixes:t}=C.useContext(Qd);return n||t[e]||e}function SB(){const{breakpoints:n}=C.useContext(Qd);return n}function TB(){const{minBreakpoint:n}=C.useContext(Qd);return n}function KK(){const{dir:n}=C.useContext(Qd);return n==="rtl"}var r0={exports:{}},s0,US;function CB(){if(US)return s0;US=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return s0=n,s0}var i0,BS;function IB(){if(BS)return i0;BS=1;var n=CB();function e(){}function t(){}return t.resetWarningCache=e,i0=function(){function r(l,c,h,f,g,y){if(y!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},i0}var $S;function RB(){return $S||($S=1,r0.exports=IB()()),r0.exports}var kB=RB();const nc=Rd(kB),gv=C.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:i=!1,className:l,...c},h)=>{const f=Rr(e,"btn"),[g,{tagName:y}]=Ok({tagName:n,disabled:i,...c}),w=y;return u.jsx(w,{...g,...c,ref:h,disabled:i,className:Gn(l,f,s&&"active",t&&`${f}-${t}`,r&&`${f}-${r}`,c.href&&i&&"disabled")})});gv.displayName="Button";const xx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAYCAYAAACyVACzAAAACXBIWXMAAALEAAACxAFbkZ0LAAADKklEQVRYhe1Y7Y3bMAx9KrqAO4JvhHQEd4R2BK/gGyEZwRkhGcEZIR4hGcEegf0RynmWKVlufxQFTEBAjqbIR4of0jkRwU559OVfA/ifaA/WBvrKfzjnGv9bRE6xTc65A4BK/+xF5BbwYjQCuIrIqHoKAHUmVm+nId5VRJ4JnDWAArD9UfsVgJJWrzhvItLPNojItACIrgfzwwWgIdna4KXWAOCge6rMPWyHee0KzkHl7gG/ULzDis3OYxURsAIGflkB0ZHsweCtrcvGAAsAn7khv4xgLK2gaqDuhp6HLotfiMisZx3o9zz9luRlR0rVab+IuHAB4DIoDJvfrX20+kDeU7uCEQCewFR2HX3rAfxS/R8i8gHgG4BP2lvCtwqKeIt3NKtEVvGJdQbvHtn3k2R8Zk0nmcrkCMYhhRfzrK2Ud2Sc0IzJsNX9aWax3G3DXm7+vZ5yGehZI7bDmdqEgmxPB0NBciNeGTUmbF1DBk9DD+S5oqSk388EbyKdYDV9P2Pu+Oici05SEQkP5SYiJ512JYDKOVeLyNnwxx8eT91zaopG6S+be2nwfMr7WudvPAlzm/vdwHhUXk28B2FcNHcL44qfbK+bpmEAvMkcx4PBE+KFTregyQXgkhms1sBYk55HyMe8PzYhnsz+uIiJL0Muo2i/cs6VeE+yPsZTGon/g0rJE5fhJ+LkdcYwnvCeiEfn3DUhu4UW09QqrdSE4LRvjFNsIydzCfQU9K3LPOnpbpT6pna7UBYbMgvzMn5XUFhGK8GyLqNmCWtAzPEOo/9kOBANbqBvgHFz52AhcpGN+Pn2yTqZiILFvWOtcQaB7CL8OgU8N7iwXxCc6eyjOcT0gNnP6fbOPYtvx0d9FHOt+xENvHoR9xi+uYd96ayBKfAa75XKcD84BI/jGcnrAbzsH0s6YfmQZ9kz3r3tp3PuoTxPJV4txffZ5V0sUjKxNY1+o7ZjN/cmlIH9BjPtGVl9sOxEsivM9DbT7t2yE6bgMeLIXZ0uAuNmczdSmw9iy+PZP6eizT1RrqasYrauLYPyo23BqYKdMmj/T+kG2oO1gfZgbaA9WBvoN2Qgod3vFS42AAAAAElFTkSuQmCC",AB=()=>{const[n,e]=C.useState(!1),t=C.useRef(null);C.useEffect(()=>{const s=i=>{t.current&&!t.current.contains(i.target)&&e(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const r=()=>{e(!n)};return u.jsx("header",{className:"bg-white",children:u.jsx("div",{className:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsx("div",{className:"flex-1 md:flex md:items-center md:gap-12",children:u.jsx("a",{href:"#",children:u.jsx("img",{src:xx,alt:"SEO illustration"})})}),u.jsxs("div",{className:"md:flex md:items-center md:gap-12",children:[u.jsx("nav",{"aria-label":"Global",className:"hidden md:block",children:u.jsx("ul",{className:"flex items-center gap-6 text-sm",children:u.jsx("li",{children:u.jsx(at,{to:"/testchat",className:"text-black-500 transition hover:text-gray-500/75",children:"AI Designer"})})})}),u.jsxs("div",{className:"hidden md:flex md:items-center md:gap-4",children:[u.jsx(at,{to:"/sign-in",children:u.jsx("p",{className:"btn try-now",href:"#",style:{marginTop:0},children:"Login"})}),u.jsx(at,{to:"/sign-up",children:u.jsx("p",{className:"btn try-now",href:"#",style:{marginTop:0},children:"Register"})})]}),u.jsxs("div",{className:"block md:hidden",ref:t,children:[u.jsxs("button",{onClick:r,className:"rounded-sm bg-gray-100 p-2 text-gray-600 transition hover:text-gray-600/75",children:[u.jsx("span",{className:"sr-only",children:"Toggle menu"}),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})]}),n&&u.jsx("div",{className:"absolute right-4 top-16 z-10 w-56 rounded-md border border-gray-100 bg-white shadow-lg",children:u.jsxs("div",{className:"p-2",children:[u.jsx(at,{to:"/testchat",className:"block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700",onClick:()=>e(!1),children:"AI Designer"}),u.jsx("a",{href:"#",className:"block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700",onClick:()=>e(!1),children:"Login"}),u.jsx("a",{href:"#",className:"block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700",onClick:()=>e(!1),children:"Register"})]})})]})]})]})})})},NB=({user:n})=>{const e=Ye(),[t,r]=C.useState(!1),[s,i]=C.useState(!1),[l,c]=C.useState(!1),h=C.useRef(null),{profile:f}=C.useContext(Ga);fx(),C.useEffect(()=>{const w=R=>{h.current&&!h.current.contains(R.target)&&c(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const g=()=>{c(!l)},y=async()=>{r(!0);const w=await jk();r(!1),w.success?(i(!0),setTimeout(()=>{e("/")},1500)):alert("Logout failed. Please try again.")};return u.jsx("header",{className:"bg-white",children:u.jsx("div",{className:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsx("div",{className:"flex-1 md:flex md:items-center md:gap-12",children:u.jsx(at,{to:"/",children:u.jsx("img",{src:xx,alt:"SEO illustration"})})}),u.jsxs("div",{className:"md:flex md:items-center md:gap-12",children:[u.jsx("nav",{"aria-label":"Global",className:"hidden md:block",children:u.jsxs("ul",{className:"flex items-center gap-6 text-sm",children:[u.jsx("li",{children:u.jsx(at,{to:"/testchat",className:"text-black-500 transition hover:text-gray-500/75",children:"AI Designer"})}),u.jsx("li",{children:u.jsx(at,{to:"/messages",children:u.jsx("p",{className:"text-black-500 transition hover:text-gray-500/75",children:" Messages "})})}),u.jsx("li",{children:u.jsx(at,{to:"/products",className:"text-black-500 transition hover:text-gray-500/75",children:"Products"})}),u.jsx("li",{children:u.jsx(at,{to:"/projects",children:u.jsx("p",{className:"text-black-500 transition hover:text-gray-500/75",children:" Projects "})})})]})}),u.jsxs("div",{className:"hidden md:relative md:block",ref:h,children:[u.jsxs("button",{type:"button",onClick:g,className:"overflow-hidden rounded-full border border-gray-300 shadow-inner",children:[u.jsx("span",{className:"sr-only",children:"Toggle dashboard menu"}),u.jsx("img",{src:uB,alt:"",className:"size-10 object-cover"})]}),l&&u.jsxs("div",{className:"absolute end-0 z-10 mt-0.5 w-56 divide-y divide-gray-100 rounded-md border border-gray-100 bg-white shadow-lg",role:"menu",children:[u.jsxs("div",{className:"p-2",children:[(f==null?void 0:f.role)==="contractor"?u.jsx(at,{to:"/contractor-dashboard",children:u.jsx("p",{role:"menuitem",className:"block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700",children:"My Profile"})}):u.jsx(at,{to:"/ProfileDashboard",children:u.jsx("p",{role:"menuitem",className:"block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700",children:"My Profile"})}),u.jsx(at,{to:"/designs",role:"menuitem",className:"block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700",children:"Designs"}),u.jsx(at,{to:"/reviews",role:"menuitem",className:"block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700",children:"Reviews"})]}),u.jsx("div",{className:"p-2",children:u.jsx("form",{method:"POST",children:u.jsxs("button",{onClick:y,className:"flex w-full items-center gap-2 rounded-lg px-4 py-2 text-sm text-red-700 hover:bg-red-50",role:"menuitem",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})}),"Logout"]})})})]})]}),u.jsx("div",{className:"block md:hidden",children:u.jsx("button",{className:"rounded-sm bg-gray-100 p-2 text-gray-600 transition hover:text-gray-600/75",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})})]})]})})})},Ar=()=>{const{userLoggedIn:n}=sn()||{userLoggedIn:!1};Ye();const[e,t]=C.useState(null),[r,s]=C.useState(!1),[i,l]=C.useState(!1);return u.jsx(u.Fragment,{children:n?u.jsx(NB,{user:e}):u.jsx(AB,{})})};function PB(){return u.jsxs(u.Fragment,{children:[u.jsx("meta",{charSet:"UTF-8"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("title",{children:"Ureno"}),u.jsx(Ar,{}),u.jsx("div",{className:"center-logo",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{children:"URENO"}),u.jsx("p",{children:"Renovation Made Simple"}),u.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),u.jsxs("div",{className:"services",children:[u.jsx("div",{className:"our-services",children:u.jsx("p",{children:"Our Services"})}),u.jsxs("div",{className:"floor-content",children:[u.jsx("div",{className:"flooring fadeInRight",children:u.jsx("p",{children:u.jsx(at,{to:"/product-page",children:u.jsx("img",{src:lB,alt:"light oak wooden floor"})})})}),u.jsxs("div",{className:"floor-txt fadeInRight",children:[u.jsx("h3",{children:"flooring"}),u.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),u.jsxs("div",{className:"paint-content",children:[u.jsx("div",{className:"painting fadeInLeft",children:u.jsx("img",{src:cB,alt:"blue painted walls"})}),u.jsxs("div",{className:"paint-txt fadeInLeft",children:[u.jsx("h3",{children:"paint"}),u.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),u.jsx(kr,{})]})}const jB="/Ureno_webdesign/assets/Harvest-grove-rigid-CaKY0j96.png",OB="/Ureno_webdesign/assets/tavertine-BlkzyBiO.png",wx=({productId:n,image:e,title:t,description:r,price:s,link:i})=>u.jsx("div",{className:"products",children:u.jsxs(at,{to:`/productDetail/${n}`,className:"container",children:[u.jsx("img",{src:e,alt:t}),u.jsx("div",{className:"prod-title",children:t}),u.jsx("p",{children:r}),u.jsx("p",{children:s})]})});wx.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function zS(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function LB(...n){return e=>{let t=!1;const r=n.map(s=>{const i=zS(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():zS(n[s],null)}}}}function DB(n){const e=FB(n),t=C.forwardRef((r,s)=>{const{children:i,...l}=r,c=C.Children.toArray(i),h=c.find(UB);if(h){const f=h.props.children,g=c.map(y=>y===h?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:y);return u.jsx(e,{...l,ref:s,children:C.isValidElement(f)?C.cloneElement(f,void 0,g):null})}return u.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var MB=DB("Slot");function FB(n){const e=C.forwardRef((t,r)=>{const{children:s,...i}=t;if(C.isValidElement(s)){const l=$B(s),c=BB(i,s.props);return s.type!==C.Fragment&&(c.ref=r?LB(r,l):l),C.cloneElement(s,c)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var VB=Symbol("radix.slottable");function UB(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===VB}function BB(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...c)=>{const h=i(...c);return s(...c),h}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function $B(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const Lk=xk("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Op=C.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const l=r?MB:"button";return u.jsx(l,{className:cr(Lk({variant:e,size:t,className:n})),ref:i,...s})});Op.displayName="Button";const Dk=({className:n,...e})=>u.jsx("nav",{role:"navigation","aria-label":"pagination",className:cr("mx-auto flex w-full justify-center",n),...e});Dk.displayName="Pagination";const Mk=C.forwardRef(({className:n,...e},t)=>u.jsx("ul",{ref:t,className:cr("flex flex-row items-center gap-1",n),...e}));Mk.displayName="PaginationContent";const Qf=C.forwardRef(({className:n,...e},t)=>u.jsx("li",{ref:t,className:cr("",n),...e}));Qf.displayName="PaginationItem";const Am=({className:n,isActive:e,size:t="icon",...r})=>u.jsx("a",{"aria-current":e?"page":void 0,className:cr(Lk({variant:e?"outline":"ghost",size:t}),n),...r});Am.displayName="PaginationLink";const Fk=({className:n,...e})=>u.jsxs(Am,{"aria-label":"Go to previous page",size:"default",className:cr("gap-1 pl-2.5",n),...e,children:[u.jsx(vU,{className:"h-4 w-4"}),u.jsx("span",{children:"Previous"})]});Fk.displayName="PaginationPrevious";const Vk=({className:n,...e})=>u.jsxs(Am,{"aria-label":"Go to next page",size:"default",className:cr("gap-1 pr-2.5",n),...e,children:[u.jsx("span",{children:"Next"}),u.jsx(xU,{className:"h-4 w-4"})]});Vk.displayName="PaginationNext";function zB(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},[r,s]=C.useState([]),[i,l]=C.useState(1),c=20,h=i*c,f=h-c,g=r.slice(f,h);return C.useEffect(()=>{(async()=>{try{const w=Bd();console.log("Attempting to fetch products from Firestore...");const R=await br(sr(w,"products"));console.log("Products fetched successfully:",R.size);const I=R.docs.map(x=>({id:x.id,...x.data()}));s(I)}catch(w){console.error("Error fetching products:",w),s([{id:"HarvestGrove",image:jB,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"},{id:"tavertine",image:OB,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}])}})()},[]),C.useEffect(()=>{const y=()=>{const w=document.querySelector(".nav");w&&e(w.offsetHeight)};return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]),u.jsxs(u.Fragment,{children:[u.jsx("meta",{charSet:"UTF-8"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("title",{children:"URENO"}),u.jsx(Ar,{}),u.jsxs("div",{className:"body",children:[u.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[u.jsx("h1",{children:"Flooring"}),u.jsxs("div",{className:"search",children:[u.jsx("div",{className:"input",children:u.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),u.jsx("div",{className:"filter",children:"Filter"})]}),u.jsx("p",{children:"Popular"}),u.jsx("div",{className:"products",children:g.map(y=>u.jsx(wx,{productId:y.id,image:y.image,title:y.title,description:y.description,price:y.price,link:y.link},y.id))}),u.jsx("div",{className:"flex justify-center mt-8 mb-8",children:u.jsx(Dk,{children:u.jsxs(Mk,{children:[u.jsx(Qf,{children:u.jsx(Fk,{onClick:()=>l(y=>Math.max(y-1,1))})}),Array.from({length:Math.ceil(r.length/c)},(y,w)=>u.jsx(Qf,{children:u.jsx(Am,{isActive:i===w+1,onClick:()=>l(w+1),children:w+1})},w+1)),u.jsx(Qf,{children:u.jsx(Vk,{onClick:()=>l(y=>Math.min(y+1,Math.ceil(r.length/c)))})})]})})})]}),u.jsx(kr,{})]})]})}const Uk=()=>{const n=Ye(),e=C.useRef(null),t=C.useRef([]),r=C.useRef({}),[s]=C.useState({theme:"system",swatches:8,threshold:120,start:72,distance:42,rotation:-5,out:"power2.out",in:"power4.in"}),[i,l]=C.useState([]),[c,h]=C.useState(null),f=C.useCallback(()=>{t.current.length=0;const x=["#bf2d32","#f4a045","#fdb702","#9aba25","#019196","#514c7e","#c0b9a9","#f0eadc"],_=["Reds","Oranges","Yellows","Greens","Blues","Purples","Neutrals","Whites & Pastels"],E=new Array(s.swatches).fill().map((P,A)=>{const O=x[A%x.length],U=_[A%_.length],z=CP(O);return{color:O,label:U,isDark:z.isDark(),index:A}});l(E)},[s.swatches]),g=C.useCallback(({clientX:x,type:_,target:E})=>{let P=x;_==="focus"&&(P=E.getBoundingClientRect().left);const A=e.current;if(A)for(let O=0;O<A.children.length;O++){t.current[O]||(t.current[O]=go.utils.pipe(({distance:L,width:N})=>({clamped:go.utils.clamp(-s.threshold,s.threshold,L+N*.5),width:N}),({clamped:L,width:N})=>({mapped:go.utils.mapRange(-s.threshold,s.threshold,-1,1)(L),active:Math.abs(L)<=N*.4}),({mapped:L,active:N})=>L>0?1-r.current.in(L)-0:1-r.current.out(Math.abs(L))-0,go.quickSetter(A.children[O],"--power")));const U=A.children[O],{left:z,width:M}=U.getBoundingClientRect();t.current[O]({distance:P-(z+M*.5),width:M})}},[s.threshold]),y=C.useCallback(()=>{for(const x of t.current)x(0)},[]),w=C.useCallback(x=>{if(x.target.tagName==="BUTTON"){const _=x.target.dataset.category,E=parseInt(x.target.dataset.index);"ontouchstart"in window?c===E?(R(_),h(null)):(h(E),setTimeout(()=>h(null),3e3)):R(_)}},[n,c]),R=C.useCallback(x=>{x==="Reds"?n("/red-shades"):x==="Oranges"?n("/orange-shades"):x==="Yellows"?n("/yellow-shades"):x==="Greens"?n("/green-shades"):x==="Blues"?n("/blue-shades"):x==="Purples"?n("/purple-shades"):x==="Neutrals"?n("/neutral-shades"):x==="Whites & Pastels"&&n("/white-shades")},[n]),I=C.useCallback(()=>{document.documentElement.dataset.theme=s.theme;const x=e.current;x&&(x.style.setProperty("--offset-y",s.start),x.style.setProperty("--distance",s.distance),x.style.setProperty("--rotate",s.rotation),x.style.setProperty("--swatch-count",s.swatches)),r.current.in=go.parseEase(s.in),r.current.out=go.parseEase(s.out)},[s]);return C.useEffect(()=>{r.current={in:go.parseEase(s.in),out:go.parseEase(s.out)}},[s.in,s.out]),C.useEffect(()=>{f()},[f]),C.useEffect(()=>{I()},[I]),C.useEffect(()=>{},[f,I]),u.jsxs(u.Fragment,{children:[u.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Reddit+Mono:wght@200..900&display=swap');
        @import url('https://unpkg.com/normalize.css') layer(normalize);

        :global(:root) {
          --ease: linear(
            0 0%,
            0.2342 12.49%,
            0.4374 24.99%,
            0.6093 37.49%,
            0.6835 43.74%,
            0.7499 49.99%,
            0.8086 56.25%,
            0.8593 62.5%,
            0.9023 68.75%,
            0.9375 75%,
            0.9648 81.25%,
            0.9844 87.5%,
            0.9961 93.75%,
            1 100%
          );
          --font-size-min: 16;
          --font-size-max: 20;
          --font-ratio-min: 1.2;
          --font-ratio-max: 1.33;
          --font-width-min: 375;
          --font-width-max: 1500;
        }

        :global(html) {
          color-scheme: light dark;
        }

        :global([data-theme='light']) {
          color-scheme: light only;
        }

        :global([data-theme='dark']) {
          color-scheme: dark only;
        }

        :global(*),
        :global(*:after),
        :global(*:before) {
          box-sizing: border-box;
        }

        :global(body) {
          background: light-dark(#fff, #000);
          display: grid;
          place-items: center;
          min-height: 100vh;
          font-family: 'SF Pro Text', 'SF Pro Icons', 'AOS Icons', 'Helvetica Neue',
            Helvetica, Arial, sans-serif, system-ui;
        }

        :global(body::before) {
          --size: 45px;
          --line: color-mix(in hsl, canvasText, transparent 70%);
          content: '';
          height: 100vh;
          width: 100vw;
          position: fixed;
          background: linear-gradient(
                90deg,
                var(--line) 1px,
                transparent 1px var(--size)
              )
              50% 50% / var(--size) var(--size),
            linear-gradient(var(--line) 1px, transparent 1px var(--size)) 50% 50% /
              var(--size) var(--size);
          mask: linear-gradient(-20deg, transparent 60%, white);
          top: 0;
          transform-style: flat;
          pointer-events: none;
          z-index: -1;
        }

        .header-container {
          width: 100%;
          text-align: center;
          padding-top: 10rem;
        }

        .container {
          width: 1080px;
          max-width: calc(90vw - 2rem);
          padding: 0.5rem;
          clip-path: inset(-100% -100% 0 -100%);
          position: relative;
          touch-action: none;
          margin-top: 0;
        }

        h3 {
          font-weight: 600;
          font-size: 2rem;
          text-align: center;
          margin: 0;
          color: #333;
        }

        ul {
          display: grid;
          grid-template-columns: repeat(calc(var(--swatch-count) + 3), 1fr);
          list-style-type: none;
          padding: 0;
          margin: 0;
          pointer-events: none;
          translate: 0 calc(var(--offset-y) * 1%);
        }

        li {
          position: relative;
          aspect-ratio: 1 / 4;
          pointer-events: all;
          --delay: calc(sin(((var(--i)) / var(--swatch-count)) * 45deg) * 1s);
          animation: enter 0.2s var(--delay) var(--ease) both;
        }

        li button:hover {
          translate: 0 calc(clamp(0.9, var(--power), 1) * (var(--distance, 40) * -1%));
        }

        @keyframes enter {
          0% {
            translate: 0 100%;
          }
        }

        [data-dark='true'] button {
          color: #fff;
        }

        [data-dark='false'] button {
          color: #000;
        }

        li button {
          container-type: inline-size;
          font-family: 'Reddit Mono', serif;
          font-weight: 600;
          background: var(--color);
          border-radius: 1.2rem;
          width: 400%;
          aspect-ratio: 3/4;
          display: grid;
          place-items: start;
          position: absolute;
          border: 0;
          padding: 1rem;
          rotate: calc(var(--power, 0) * (calc(var(--rotate, 0) * 1deg)));
          translate: 0 calc(clamp(0, var(--power), 1) * (var(--distance, 40) * -1%));
          transition: translate 0.12s, rotate 0.12s;
          transition-timing-function: var(--ease);
          outline-color: red;
          outline-offset: 0.2em;
          cursor: pointer;
        }

        li button span {
          pointer-events: none;
          font-size: 10cqi;
          opacity: 0;
          translate: 0 50%;
          transition: all 0.22s var(--ease);
        }

        li button:hover span,
        li button:focus-visible span,
        li button.touch-active span {
          opacity: 1;
          translate: 0 0;
        }

        li button.touch-active {
          translate: 0 calc(clamp(0.9, var(--power), 1) * (var(--distance, 40) * -1%));
        }

        .bear-link {
          color: canvasText;
          position: fixed;
          top: 1rem;
          left: 1rem;
          width: 48px;
          aspect-ratio: 1;
          display: grid;
          place-items: center;
          opacity: 0.8;
        }

        .bear-link:hover,
        .bear-link:focus-visible {
          opacity: 1;
        }

        .bear-link svg {
          width: 75%;
        }
      `}),u.jsx("div",{className:"header-container",children:u.jsx("h3",{children:"Shop By Color."})}),u.jsx("div",{className:"container",children:u.jsx("ul",{className:"swatches",ref:e,onClick:w,onPointerMove:g,onPointerLeave:y,onFocus:g,onBlur:y,children:i.map(x=>u.jsx("li",{"data-dark":x.isDark,style:{"--color":x.color,"--i":x.index},children:u.jsx("button",{"data-color":x.color,"data-category":x.label,"data-index":x.index,className:c===x.index?"touch-active":"",children:u.jsx("span",{children:x.label})})},x.index))})})]})};function HB(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1};C.useEffect(()=>{const s=()=>{const i=document.querySelector(".nav");i&&e(i.offsetHeight)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const r={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:r,children:[u.jsx("div",{style:{maxWidth:"1400px",margin:"4rem auto 0",padding:"0 3rem 4rem"},children:u.jsx(Uk,{})}),u.jsx("div",{style:{background:"white",padding:"4rem 2rem",marginTop:"3rem"},children:u.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("h2",{style:{textAlign:"center",fontSize:"2.5rem",marginBottom:"3rem",color:"#333"},children:"Why Choose Our Paint Colors?"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginTop:"2rem"},children:[u.jsxs("div",{style:{textAlign:"center",padding:"2rem",borderRadius:"12px",background:"#f8f9fa",border:"1px solid #e9ecef"},children:[u.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, #ff6b6b, #feca57)",borderRadius:"50%",margin:"0 auto 1rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"🎨"}),u.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#333"},children:"Premium Quality"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"High-quality paints with excellent coverage, durability, and color retention that will keep your walls looking fresh for years."})]}),u.jsxs("div",{style:{textAlign:"center",padding:"2rem",borderRadius:"12px",background:"#f8f9fa",border:"1px solid #e9ecef"},children:[u.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, #74b9ff, #0984e3)",borderRadius:"50%",margin:"0 auto 1rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"🌈"}),u.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#333"},children:"Vast Color Selection"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"Choose from hundreds of carefully curated colors organized by family, making it easy to find your perfect shade."})]}),u.jsxs("div",{style:{textAlign:"center",padding:"2rem",borderRadius:"12px",background:"#f8f9fa",border:"1px solid #e9ecef"},children:[u.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, #55a3ff, #003d82)",borderRadius:"50%",margin:"0 auto 1rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:"✨"}),u.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#333"},children:"Expert Support"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"Get personalized color recommendations and professional advice to help you make the perfect choice for your project."})]})]})]})})]}),u.jsx(kr,{})]})}const bx={logo:n=>u.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:u.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>u.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),u.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},WB=({className:n,...e})=>{const{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye(),[s,i]=C.useState(""),[l,c]=C.useState(""),[h,f]=C.useState(!1),{toast:g}=fx();C.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const y=async()=>{f(!0);try{const R=await fB();r("/")}catch(R){console.error("Google sign-in error:",R),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{f(!1),console.log("Logged in: ",t)}},w=async(R,I)=>{f(!0);try{const x=await hB(R,I);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(x){let _="Error logging in with email and password";console.log(x.code),x.code==="auth/invalid-credential"?_="Incorrect email or password. Please try again.":x.code==="auth/user-not-found"?_="No account found with this email.":x.code==="auth/invalid-email"?_="Invalid email format":x.code==="auth/too-many-requests"&&(_="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:_,variant:"destructive"})}finally{f(!1),console.log("Logged in: ",t)}};return u.jsxs(u.Fragment,{children:[u.jsx(Pk,{}),u.jsx("div",{className:cr("flex flex-col items-center space-y-4 justify-center",n),...e,children:u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsx("input",{type:"email",value:s,onChange:R=>i(R.currentTarget.value),placeholder:"Email",className:"input"}),u.jsx("input",{type:"password",value:l,onChange:R=>c(R.target.value),placeholder:"Password",className:"input"}),u.jsx(Op,{onClick:()=>w(s,l),isLoading:h,size:"sm",variant:"default",className:"w-full bg-black text-white hover:bg-gray-800",children:"Login with Email"}),u.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[u.jsx("span",{className:"flex-grow border-t border-gray-300"}),u.jsx("span",{className:"px-3",children:" Or Login with Google "}),u.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),u.jsxs(Op,{onClick:y,isLoading:h,size:"sm",variant:"default",className:"w-full bg-black text-white hover:bg-gray-800",children:[h?null:u.jsx(bx.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},qB=()=>{const n=Ye();return u.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:u.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:u.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[u.jsx("div",{className:"w-full flex justify-center",children:u.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:u.jsx(bx.logo,{className:"h-12 w-auto"})})}),u.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),u.jsx(WB,{}),u.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",u.jsx(at,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),u.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",u.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",u.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},GB=()=>{const n=Ye();a9();const{userLoggedIn:e,loading:t}=sn(),[r,s]=C.useState(""),[i,l]=C.useState(""),[c,h]=C.useState(""),[f,g]=C.useState(!1),[y,w]=C.useState(!1),[R,I]=C.useState(""),[x,_]=C.useState(""),[E,P]=C.useState(""),[A,O]=C.useState(!1),[U,z]=C.useState(""),M=async N=>{if(N.preventDefault(),!A){if(z(""),O(!0),!R||!x){z("Email and password are required"),O(!1);return}if(x.length<6){z("Password must be at least 6 characters"),O(!1);return}if(x!==E){z("Passwords don't match"),O(!1);return}try{const D=(await dB(R.trim(),x.trim())).user;await A0(D,{displayName:`${r} ${i}`}),await dx(D.uid,r,i,R.trim(),c,D.displayName),n("/"),console.log(e)}catch(b){b.code==="auth/email-already-in-use"?z("An account with this email already exists."):b.code==="auth/invalid-email"?z("The email address is not valid."):z("There was a problem creating your account."),O(!1)}}},L=async()=>{w(!0);try{const N=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{w(!1),console.log("Logged in: ",e)}};return C.useEffect(()=>{f&&(n("/"),g(!1))},[f,n,g]),t?u.jsx("div",{children:"Loading..."}):u.jsxs(u.Fragment,{children:[e&&u.jsx(YT,{to:"/",replace:!0}),u.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:u.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[u.jsx("div",{className:"text-center mb-6",children:u.jsxs("div",{className:"mt-2",children:[u.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),u.jsx("p",{children:"Enter your information to sign up"})]})}),u.jsxs("form",{onSubmit:M,className:"space-y-4",children:[U&&u.jsx("span",{className:"text-red-600 font-bold",children:U}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-600 font-bold"}),u.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:N=>{s(N.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-600 font-bold"}),u.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:i,onChange:N=>{l(N.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-600 font-bold"}),u.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:N=>{h(N.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-600 font-bold"}),u.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:R,onChange:N=>{I(N.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-600 font-bold"}),u.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:x,onChange:N=>{_(N.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-600 font-bold"}),u.jsx("input",{disabled:A,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:E,onChange:N=>{P(N.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),U&&u.jsx("span",{className:"text-red-600 font-bold",children:U}),u.jsx("button",{type:"submit",disabled:A,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${A?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:A?"Signing Up...":"Create Account"})]}),u.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[u.jsx("span",{className:"flex-grow border-t border-gray-300"}),u.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),u.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),u.jsxs(Op,{onClick:L,isLoading:y,size:"sm",className:"w-full",children:[y?null:u.jsx(bx.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),u.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",u.jsx(at,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),u.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",u.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",u.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},KB=()=>u.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:u.jsx("div",{className:"flex flex-col space-y-2 text-center",children:u.jsx(GB,{})})}),Bs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",HS=({currentProductId:n,category:e,maxSuggestions:t=3})=>{const[r,s]=C.useState([]),[i,l]=C.useState(!0);return C.useEffect(()=>{n&&(async()=>{try{l(!0);let h;e?h=wr(sr(Js,"products"),Pn("category","==",e),zy(t+1)):h=wr(sr(Js,"products"),zy(t+1));const g=(await br(h)).docs.map(y=>({id:y.id,...y.data()})).filter(y=>y.id!==n).slice(0,t);if(g.length<t){const y=wr(sr(Js,"products"),zy(t*2)),R=(await br(y)).docs.map(I=>({id:I.id,...I.data()})).filter(I=>I.id!==n&&!g.some(x=>x.id===I.id)).slice(0,t-g.length);g.push(...R)}s(g)}catch(h){console.error("Error fetching suggested products:",h),s([])}finally{l(!1)}})()},[n,e,t]),i?u.jsx("div",{className:"suggested-products-loading",children:u.jsx("h3",{children:"Loading suggested products..."})}):r.length===0?u.jsx("div",{className:"suggested-products-empty",children:u.jsx("h3",{children:"No suggested products available"})}):u.jsxs("div",{className:"suggested-products-section",children:[u.jsx("h3",{children:"You might also like"}),u.jsx("div",{className:"suggested-products-grid",children:r.map(c=>u.jsx(wx,{productId:c.id,image:c.image,title:c.title,description:c.description,price:c.price},c.id))})]})},Bk=()=>{const{productId:n}=xc(),[e,t]=C.useState(null),[r,s]=C.useState(null);return C.useEffect(()=>{n&&(async()=>{try{const l=Nt(Js,"products",n),c=await Fn(l);if(c.exists()){const h=c.data();t(h),s(h.image)}else console.error("Product not found")}catch(l){console.error("Error fetching product: ",l)}})()},[n]),e?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"main-content",children:[u.jsxs("div",{id:"left",children:[u.jsx("div",{className:"main-image",children:u.jsx("img",{src:r||e.image,alt:""})}),u.jsxs("div",{className:"thumbnails",children:[u.jsx("img",{src:e.image,alt:"",onClick:()=>s(e.image)}),u.jsx("img",{src:e.image1,alt:"",onClick:()=>s(e.image1)}),u.jsx("img",{src:e.image2,alt:"",onClick:()=>s(e.image2)}),u.jsx("img",{src:e.image3,alt:"",onClick:()=>s(e.image3)})]})]}),u.jsxs("div",{id:"right",children:[u.jsxs("div",{className:"title-section",children:[u.jsxs("div",{className:"title",children:[u.jsx("p",{id:"main",children:e.title}),u.jsx("p",{id:"sub",children:e.description})]}),u.jsxs("div",{className:"price-link",children:[u.jsx("div",{className:"title-left",children:u.jsx("p",{children:e.price})}),u.jsx("div",{className:"title-right",children:u.jsx("a",{href:"",children:"See in my room"})})]}),u.jsx("a",{href:"",children:"View specifications"})]}),u.jsxs("div",{className:"description",children:[u.jsx("p",{children:e.description}),u.jsx("p",{children:e.overview}),u.jsx("a",{href:"",children:"Product Details"}),u.jsx("a",{href:"",children:"Reviews"})]})]})]}),u.jsx(HS,{currentProductId:n,category:e==null?void 0:e.category,maxSuggestions:3})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"main-content",children:[u.jsxs("div",{id:"left",children:[u.jsx("div",{className:"main-image",children:u.jsx("img",{src:Bs,alt:""})}),u.jsxs("div",{className:"thumbnails",children:[u.jsx("img",{src:Bs,alt:""}),u.jsx("img",{src:Bs,alt:""}),u.jsx("img",{src:Bs,alt:""})]})]}),u.jsxs("div",{id:"right",children:[u.jsxs("div",{className:"title-section",children:[u.jsxs("div",{className:"title",children:[u.jsx("p",{id:"main",children:"Deafult Title"}),u.jsx("p",{id:"sub",children:"Default Category"})]}),u.jsxs("div",{className:"price-link",children:[u.jsx("div",{className:"title-left",children:u.jsx("p",{children:"$"})}),u.jsx("div",{className:"title-right",children:u.jsx("a",{href:"",children:"See in my room"})})]}),u.jsx("a",{href:"",children:"View specifications"})]}),u.jsxs("div",{className:"description",children:[u.jsx("p",{children:"Default Description"}),u.jsx("a",{href:"",children:"Product Details"}),u.jsx("a",{href:"",children:"Reviews"})]})]})]}),u.jsx(HS,{currentProductId:n,category:null,maxSuggestions:3})]})};Bk.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:Bs},alternate1:{defaultImage:Bs},alternate2:{defaultImage:Bs},suggested1:{defaultImage:Bs},suggested2:{defaultImage:Bs},suggested3:{defaultImage:Bs}};function QB(){return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"product-detail-page",children:[u.jsx("meta",{charSet:"UTF-8"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("title",{children:"product detail"}),u.jsx(Ar,{}),u.jsx(Bk,{}),u.jsx(kr,{})]})})}const YB=()=>{const{colorId:n}=xc(),e=Ye(),[t,r]=C.useState(null),[s,i]=C.useState(!0),[l,c]=C.useState(null);C.useEffect(()=>{n&&(async()=>{try{i(!0);const g=Nt(Js,"colors",n),y=await Fn(g);if(y.exists()){const w={id:y.id,...y.data()};r(w)}else c("Color not found")}catch(g){console.error("Error fetching color: ",g),c("Failed to load color details")}finally{i(!1)}})()},[n]);const h=f=>{navigator.clipboard.writeText(f)};return s?u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",fontSize:"1.2rem",color:"#666"},children:"Loading color details..."}):l?u.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px",textAlign:"center"},children:[u.jsx("h2",{style:{color:"#dc2626",marginBottom:"1rem"},children:"Color Not Found"}),u.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:l}),u.jsx("button",{onClick:()=>e("/red-shades"),style:{background:"#dc2626",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:"pointer",fontSize:"1rem"},children:"Back to Red Shades"})]}):u.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[u.jsx("button",{onClick:()=>e("/red-shades"),style:{background:"transparent",border:"1px solid #ccc",color:"#666",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"2rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:f=>{f.target.style.background="#f5f5f5",f.target.style.borderColor="#999"},onMouseOut:f=>{f.target.style.background="transparent",f.target.style.borderColor="#ccc"},children:"← Back to Red Shades"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4rem",alignItems:"start"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{width:"100%",height:"400px",backgroundColor:t.hex,borderRadius:"12px",border:"1px solid #e2e8f0",marginBottom:"1rem",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",position:"relative",overflow:"hidden"},children:t.image&&u.jsx("img",{src:t.image,alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"12px"},onError:f=>{f.target.style.display="none"}})}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginTop:"1rem"},children:[u.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"0.8rem",color:"#666",marginBottom:"0.5rem"},children:"HEX CODE"}),u.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"600",fontFamily:"monospace",cursor:"pointer",color:"#333"},onClick:()=>h(t.hex),title:"Click to copy",children:t.hex})]}),t.category&&u.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"0.8rem",color:"#666",marginBottom:"0.5rem"},children:"CATEGORY"}),u.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#333"},children:t.category})]})]})]}),u.jsxs("div",{children:[u.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#333",marginBottom:"0.5rem"},children:t.name}),t.brand&&u.jsxs("p",{style:{fontSize:"1.1rem",color:"#666",marginBottom:"2rem"},children:["by ",t.brand]}),t.description&&u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"0.5rem",color:"#333"},children:"Description"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:t.description})]}),u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#333"},children:"Color Properties"}),u.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[t.finish&&u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid #e2e8f0"},children:[u.jsx("span",{style:{color:"#666"},children:"Finish:"}),u.jsx("span",{style:{fontWeight:"500"},children:t.finish})]}),t.coverage&&u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid #e2e8f0"},children:[u.jsx("span",{style:{color:"#666"},children:"Coverage:"}),u.jsx("span",{style:{fontWeight:"500"},children:t.coverage})]}),t.price&&u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid #e2e8f0"},children:[u.jsx("span",{style:{color:"#666"},children:"Price:"}),u.jsx("span",{style:{fontWeight:"500"},children:t.price})]})]})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[u.jsx("button",{onClick:()=>h(t.hex),style:{background:t.hex,color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseOver:f=>{f.target.style.transform="translateY(-1px)",f.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},onMouseOut:f=>{f.target.style.transform="translateY(0)",f.target.style.boxShadow="none"},children:"Copy Color Code"}),u.jsx("button",{style:{background:"transparent",color:"#666",border:"1px solid #ccc",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",transition:"all 0.2s ease"},onMouseOver:f=>{f.target.style.background="#f5f5f5",f.target.style.borderColor="#999"},onMouseOut:f=>{f.target.style.background="transparent",f.target.style.borderColor="#ccc"},children:"Save to Favorites"})]})]})]})]})};function XB(){const{userLoggedIn:n}=sn()||{userLoggedIn:!1},e={paddingTop:"80px",backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"product-detail-page",children:[u.jsx("meta",{charSet:"UTF-8"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("title",{children:"Color Detail"}),u.jsx(Ar,{}),u.jsx("div",{style:e,children:u.jsx(YB,{})}),u.jsx(kr,{})]})})}function JB(n,e){return C.Children.toArray(n).some(t=>C.isValidElement(t)&&t.type===e)}function ZB({as:n,bsPrefix:e,className:t,...r}){e=Rr(e,"col");const s=SB(),i=TB(),l=[],c=[];return s.forEach(h=>{const f=r[h];delete r[h];let g,y,w;typeof f=="object"&&f!=null?{span:g,offset:y,order:w}=f:g=f;const R=h!==i?`-${h}`:"";g&&l.push(g===!0?`${e}${R}`:`${e}${R}-${g}`),w!=null&&c.push(`order${R}-${w}`),y!=null&&c.push(`offset${R}-${y}`)}),[{...r,className:Gn(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const $k=C.forwardRef((n,e)=>{const[{className:t,...r},{as:s="div",bsPrefix:i,spans:l}]=ZB(n);return u.jsx(s,{...r,ref:e,className:Gn(t,!l.length&&i)})});$k.displayName="Col";const e$={type:nc.string,tooltip:nc.bool,as:nc.elementType},Nm=C.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...s},i)=>u.jsx(n,{...s,ref:i,className:Gn(e,`${t}-${r?"tooltip":"feedback"}`)}));Nm.displayName="Feedback";Nm.propTypes=e$;const Fi=C.createContext({}),Ex=C.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:l="input",...c},h)=>{const{controlId:f}=C.useContext(Fi);return e=Rr(e,"form-check-input"),u.jsx(l,{...c,ref:h,type:r,id:n||f,className:Gn(t,e,s&&"is-valid",i&&"is-invalid")})});Ex.displayName="FormCheckInput";const Lp=C.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},s)=>{const{controlId:i}=C.useContext(Fi);return n=Rr(n,"form-check-label"),u.jsx("label",{...r,ref:s,htmlFor:t||i,className:Gn(e,n)})});Lp.displayName="FormCheckLabel";const zk=C.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:h=!1,feedback:f,feedbackType:g,className:y,style:w,title:R="",type:I="checkbox",label:x,children:_,as:E="input",...P},A)=>{e=Rr(e,"form-check"),t=Rr(t,"form-switch");const{controlId:O}=C.useContext(Fi),U=C.useMemo(()=>({controlId:n||O}),[O,n]),z=!_&&x!=null&&x!==!1||JB(_,Lp),M=u.jsx(Ex,{...P,type:I==="switch"?"checkbox":I,ref:A,isValid:l,isInvalid:c,disabled:i,as:E});return u.jsx(Fi.Provider,{value:U,children:u.jsx("div",{style:w,className:Gn(y,z&&e,r&&`${e}-inline`,s&&`${e}-reverse`,I==="switch"&&t),children:_||u.jsxs(u.Fragment,{children:[M,z&&u.jsx(Lp,{title:R,children:x}),f&&u.jsx(Nm,{type:g,tooltip:h,children:f})]})})})});zk.displayName="FormCheck";const Dp=Object.assign(zk,{Input:Ex,Label:Lp}),Hk=C.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:s,className:i,isValid:l=!1,isInvalid:c=!1,plaintext:h,readOnly:f,as:g="input",...y},w)=>{const{controlId:R}=C.useContext(Fi);return n=Rr(n,"form-control"),u.jsx(g,{...y,type:e,size:r,ref:w,readOnly:f,id:s||R,className:Gn(i,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});Hk.displayName="FormControl";const t$=Object.assign(Hk,{Feedback:Nm}),Wk=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Rr(e,"form-floating"),u.jsx(t,{ref:s,className:Gn(n,e),...r})));Wk.displayName="FormFloating";const Sx=C.forwardRef(({controlId:n,as:e="div",...t},r)=>{const s=C.useMemo(()=>({controlId:n}),[n]);return u.jsx(Fi.Provider,{value:s,children:u.jsx(e,{...t,ref:r})})});Sx.displayName="FormGroup";const qk=C.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...l},c)=>{const{controlId:h}=C.useContext(Fi);e=Rr(e,"form-label");let f="col-form-label";typeof t=="string"&&(f=`${f} ${f}-${t}`);const g=Gn(s,e,r&&"visually-hidden",t&&f);return i=i||h,t?u.jsx($k,{ref:c,as:"label",className:g,htmlFor:i,...l}):u.jsx(n,{ref:c,className:g,htmlFor:i,...l})});qk.displayName="FormLabel";const Gk=C.forwardRef(({bsPrefix:n,className:e,id:t,...r},s)=>{const{controlId:i}=C.useContext(Fi);return n=Rr(n,"form-range"),u.jsx("input",{...r,type:"range",ref:s,className:Gn(e,n),id:t||i})});Gk.displayName="FormRange";const Kk=C.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:s=!1,isInvalid:i=!1,id:l,...c},h)=>{const{controlId:f}=C.useContext(Fi);return n=Rr(n,"form-select"),u.jsx("select",{...c,size:t,ref:h,className:Gn(r,n,e&&`${n}-${e}`,s&&"is-valid",i&&"is-invalid"),id:l||f})});Kk.displayName="FormSelect";const Qk=C.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...s},i)=>(n=Rr(n,"form-text"),u.jsx(t,{...s,ref:i,className:Gn(e,n,r&&"text-muted")})));Qk.displayName="FormText";const Yk=C.forwardRef((n,e)=>u.jsx(Dp,{...n,ref:e,type:"switch"}));Yk.displayName="Switch";const n$=Object.assign(Yk,{Input:Dp.Input,Label:Dp.Label}),Xk=C.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:s,...i},l)=>(n=Rr(n,"form-floating"),u.jsxs(Sx,{ref:l,className:Gn(e,n),controlId:r,...i,children:[t,u.jsx("label",{htmlFor:r,children:s})]})));Xk.displayName="FloatingLabel";const r$={_ref:nc.any,validated:nc.bool,as:nc.elementType},Tx=C.forwardRef(({className:n,validated:e,as:t="form",...r},s)=>u.jsx(t,{...r,ref:s,className:Gn(n,e&&"was-validated")}));Tx.displayName="Form";Tx.propTypes=r$;const yr=Object.assign(Tx,{Group:Sx,Control:t$,Floating:Wk,Check:Dp,Switch:n$,Label:qk,Text:Qk,Range:Gk,Select:Kk,FloatingLabel:Xk}),s$=()=>{const n=Ye(),e=async()=>{await jk(),n("/")};return u.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[u.jsx(at,{to:"/",className:"text-2xl font-bold",children:u.jsx("div",{className:"logo",children:"URENO"})}),u.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[u.jsxs(at,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[u.jsx(SU,{className:"w-5 h-5"})," Settings"]}),u.jsxs(at,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[u.jsx(gU,{className:"w-5 h-5"})," Notifications"]}),u.jsxs(at,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[u.jsx(bU,{className:"w-5 h-5"})," Log Out"]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="firebasestorage.googleapis.com",Zk="storageBucket",i$=2*60*1e3,o$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt extends ti{constructor(e,t,r=0){super(o0(e),`Firebase Storage: ${t} (${o0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ut;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ut||(Ut={}));function o0(n){return"storage/"+n}function Cx(){const n="An unknown error occurred, please check the error payload for server response.";return new Bt(Ut.UNKNOWN,n)}function a$(n){return new Bt(Ut.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function l$(n){return new Bt(Ut.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c$(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(Ut.UNAUTHENTICATED,n)}function u$(){return new Bt(Ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d$(n){return new Bt(Ut.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function h$(){return new Bt(Ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f$(){return new Bt(Ut.CANCELED,"User canceled the upload/download.")}function p$(n){return new Bt(Ut.INVALID_URL,"Invalid URL '"+n+"'.")}function m$(n){return new Bt(Ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function g$(){return new Bt(Ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zk+"' property when initializing the app?")}function y$(){return new Bt(Ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v$(){return new Bt(Ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _$(n){return new Bt(Ut.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yv(n){return new Bt(Ut.INVALID_ARGUMENT,n)}function eA(){return new Bt(Ut.APP_DELETED,"The Firebase app was deleted.")}function x$(n){return new Bt(Ut.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function od(n,e){return new Bt(Ut.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Mu(n){throw new Bt(Ut.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Er.makeFromUrl(e,t)}catch{return new Er(e,"")}if(r.path==="")return r;throw m$(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(O){O.path_=decodeURIComponent(O.path)}const g="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${y}/${g}/b/${s}/o${w}`,"i"),I={bucket:1,path:3},x=t===Jk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",E=new RegExp(`^https?://${x}/${s}/${_}`,"i"),A=[{regex:c,indices:h,postModify:i},{regex:R,indices:I,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let O=0;O<A.length;O++){const U=A[O],z=U.regex.exec(e);if(z){const M=z[U.indices.bucket];let L=z[U.indices.path];L||(L=""),r=new Er(M,L),U.postModify(r);break}}if(r==null)throw p$(e);return r}}class w${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(n,e,t){let r=1,s=null,i=null,l=!1,c=0;function h(){return c===2}let f=!1;function g(..._){f||(f=!0,e.apply(null,_))}function y(_){s=setTimeout(()=>{s=null,n(R,h())},_)}function w(){i&&clearTimeout(i)}function R(_,...E){if(f){w();return}if(_){w(),g.call(null,_,...E);return}if(h()||l){w(),g.call(null,_,...E);return}r<64&&(r*=2);let A;c===1?(c=2,A=0):A=(r+Math.random())*1e3,y(A)}let I=!1;function x(_){I||(I=!0,w(),!f&&(s!==null?(_||(c=2),clearTimeout(s),y(0)):_||(c=1)))}return y(0),i=setTimeout(()=>{l=!0,x(!0)},t),x}function E$(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(n){return n!==void 0}function T$(n){return typeof n=="object"&&!Array.isArray(n)}function Ix(n){return typeof n=="string"||n instanceof String}function WS(n){return Rx()&&n instanceof Blob}function Rx(){return typeof Blob<"u"}function qS(n,e,t,r){if(r<e)throw yv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw yv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function tA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var ka;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ka||(ka={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,i=e.indexOf(n)!==-1;return t||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,t,r,s,i,l,c,h,f,g,y,w=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=y,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,I)=>{this.resolve_=R,this.reject_=I,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new kf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&i.addUploadProgressListener(l),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(l),this.pendingConnection_=null;const c=i.getErrorCode()===ka.NO_ERROR,h=i.getStatus();if(!c||C$(h,this.additionalRetryCodes_)&&this.retry){const g=i.getErrorCode()===ka.ABORT;r(!1,new kf(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new kf(f,i))})},t=(r,s)=>{const i=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());S$(h)?i(h):i()}catch(h){l(h)}else if(c!==null){const h=Cx();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?eA():f$();l(h)}else{const h=h$();l(h)}};this.canceled_?t(!1,new kf(!1,null,!0)):this.backoffId_=b$(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function R$(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function k$(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function A$(n,e){e&&(n["X-Firebase-GMPID"]=e)}function N$(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function P$(n,e,t,r,s,i,l=!0){const c=tA(n.urlParams),h=n.url+c,f=Object.assign({},n.headers);return A$(f,e),R$(f,t),k$(f,i),N$(f,r),new I$(h,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O$(...n){const e=j$();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Rx())return new Blob(n);throw new Bt(Ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function L$(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(n){if(typeof atob>"u")throw _$("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class a0{constructor(e,t){this.data=e,this.contentType=t||null}}function M$(n,e){switch(n){case Gs.RAW:return new a0(nA(e));case Gs.BASE64:case Gs.BASE64URL:return new a0(rA(n,e));case Gs.DATA_URL:return new a0(V$(e),U$(e))}throw Cx()}function nA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const i=r,l=n.charCodeAt(++t);r=65536|(i&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function F$(n){let e;try{e=decodeURIComponent(n)}catch{throw od(Gs.DATA_URL,"Malformed data URL.")}return nA(e)}function rA(n,e){switch(n){case Gs.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw od(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Gs.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw od(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=D$(e)}catch(s){throw s.message.includes("polyfill")?s:od(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class sA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw od(Gs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=B$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function V$(n){const e=new sA(n);return e.base64?rA(Gs.BASE64,e.rest):F$(e.rest)}function U$(n){return new sA(n).contentType}function B$(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,t){let r=0,s="";WS(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(WS(this.data_)){const r=this.data_,s=L$(r,e,t);return s===null?null:new Eo(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Eo(r,!0)}}static getBlob(...e){if(Rx()){const t=e.map(r=>r instanceof Eo?r.data_:r);return new Eo(O$.apply(null,t))}else{const t=e.map(l=>Ix(l)?M$(Gs.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let i=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)s[i++]=l[c]}),new Eo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n){let e;try{e=JSON.parse(n)}catch{return null}return T$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function z$(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function oA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(n,e){return e}class qn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||H$}}let Af=null;function W$(n){return!Ix(n)||n.length<2?n:oA(n)}function aA(){if(Af)return Af;const n=[];n.push(new qn("bucket")),n.push(new qn("generation")),n.push(new qn("metageneration")),n.push(new qn("name","fullPath",!0));function e(i,l){return W$(l)}const t=new qn("name");t.xform=e,n.push(t);function r(i,l){return l!==void 0?Number(l):l}const s=new qn("size");return s.xform=r,n.push(s),n.push(new qn("timeCreated")),n.push(new qn("updated")),n.push(new qn("md5Hash",null,!0)),n.push(new qn("cacheControl",null,!0)),n.push(new qn("contentDisposition",null,!0)),n.push(new qn("contentEncoding",null,!0)),n.push(new qn("contentLanguage",null,!0)),n.push(new qn("contentType",null,!0)),n.push(new qn("metadata","customMetadata",!0)),Af=n,Af}function q$(n,e){function t(){const r=n.bucket,s=n.fullPath,i=new Er(r,s);return e._makeStorageReference(i)}Object.defineProperty(n,"ref",{get:t})}function G$(n,e,t){const r={};r.type="file";const s=t.length;for(let i=0;i<s;i++){const l=t[i];r[l.local]=l.xform(r,e[l.server])}return q$(r,n),r}function lA(n,e,t){const r=iA(e);return r===null?null:G$(n,r,t)}function K$(n,e,t,r){const s=iA(e);if(s===null||!Ix(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const l=encodeURIComponent;return i.split(",").map(f=>{const g=n.bucket,y=n.fullPath,w="/b/"+l(g)+"/o/"+l(y),R=kx(w,t,r),I=tA({alt:"media",token:f});return R+I})[0]}function Q$(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(t[i.server]=n[i.local])}return JSON.stringify(t)}class cA{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){if(!n)throw Cx()}function Y$(n,e){function t(r,s){const i=lA(n,s,e);return uA(i!==null),i}return t}function X$(n,e){function t(r,s){const i=lA(n,s,e);return uA(i!==null),K$(i,s,n.host,n._protocol)}return t}function dA(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=u$():s=c$():t.getStatus()===402?s=l$(n.bucket):t.getStatus()===403?s=d$(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function J$(n){const e=dA(n);function t(r,s){let i=e(r,s);return r.getStatus()===404&&(i=a$(n.path)),i.serverResponse=s.serverResponse,i}return t}function Z$(n,e,t){const r=e.fullServerUrl(),s=kx(r,n.host,n._protocol),i="GET",l=n.maxOperationRetryTime,c=new cA(s,i,X$(n,t),l);return c.errorHandler=J$(e),c}function e8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function t8(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=e8(null,e)),r}function n8(n,e,t,r,s){const i=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let A="";for(let O=0;O<2;O++)A=A+Math.random().toString().slice(2);return A}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const f=t8(e,r,s),g=Q$(f,t),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+h+"--",R=Eo.getBlob(y,r,w);if(R===null)throw y$();const I={name:f.fullPath},x=kx(i,n.host,n._protocol),_="POST",E=n.maxUploadRetryTime,P=new cA(x,_,Y$(n,t),E);return P.urlParams=I,P.headers=l,P.body=R.uploadData(),P.errorHandler=dA(e),P}class r8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw Mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s8 extends r8{initXhr(){this.xhr_.responseType="text"}}function hA(){return new s8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t){this._service=e,t instanceof Er?this._location=t:this._location=Er.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Va(e,t)}get root(){const e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oA(this._location.path)}get storage(){return this._service}get parent(){const e=$$(this._location.path);if(e===null)return null;const t=new Er(this._location.bucket,e);return new Va(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw x$(e)}}function i8(n,e,t){n._throwIfRoot("uploadBytes");const r=n8(n.storage,n._location,aA(),new Eo(e,!0),t);return n.storage.makeRequestWithTokens(r,hA).then(s=>({metadata:s,ref:n}))}function o8(n){n._throwIfRoot("getDownloadURL");const e=Z$(n.storage,n._location,aA());return n.storage.makeRequestWithTokens(e,hA).then(t=>{if(t===null)throw v$();return t})}function a8(n,e){const t=z$(n._location.path,e),r=new Er(n._location.bucket,t);return new Va(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(n){return/^[A-Za-z]+:\/\//.test(n)}function c8(n,e){return new Va(n,e)}function fA(n,e){if(n instanceof Ax){const t=n;if(t._bucket==null)throw g$();const r=new Va(t,t._bucket);return e!=null?fA(r,e):r}else return e!==void 0?a8(n,e):n}function u8(n,e){if(e&&l8(e)){if(n instanceof Ax)return c8(n,e);throw yv("To use ref(service, url), the first argument must be a Storage instance.")}else return fA(n,e)}function GS(n,e){const t=e==null?void 0:e[Zk];return t==null?null:Er.makeFromBucketSpec(t,n)}function d8(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:Hv(s,n.app.options.projectId))}class Ax{constructor(e,t,r,s,i){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Jk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i$,this._maxUploadRetryTime=o$,this._requests=new Set,s!=null?this._bucket=Er.makeFromBucketSpec(s,this._host):this._bucket=GS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,e):this._bucket=GS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Va(this,e)}_makeRequest(e,t,r,s,i=!0){if(this._deleted)return new w$(eA());{const l=P$(e,this._appId,r,s,t,this._firebaseVersion,i);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const KS="@firebase/storage",QS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="storage";function h8(n,e,t){return n=_t(n),i8(n,e,t)}function f8(n){return n=_t(n),o8(n)}function p8(n,e){return n=_t(n),u8(n,e)}function m8(n=Kp(),e){n=_t(n);const r=Pd(n,pA).getImmediate({identifier:e}),s=$v("storage");return s&&g8(r,...s),r}function g8(n,e,t,r={}){d8(n,e,t,r)}function y8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Ax(t,r,s,e,$o)}function v8(){Po(new Ai(pA,y8,"PUBLIC").setMultipleInstances(!0)),Gr(KS,QS,""),Gr(KS,QS,"esm2017")}v8();function _8(){const{user:n,profile:e}=Kd(),t=Ye(),[r,s]=C.useState({displayName:"",email:"",phone:"",profilePicture:null});if(C.useEffect(()=>{e&&s({displayName:n.displayName||"",email:n.email||"",phone:e.phone||"",profilePicture:null})},[e,n]),!n||!e)return u.jsx("p",{children:"Loading profile data..."});const i=async l=>{l.preventDefault();const c=Zp(),h=Bd(),f=m8(),g=c.currentUser;if(!g)return;const y={};try{if(r.displayName&&r.displayName!==g.displayName&&(await A0(g,{displayName:r.displayName}),y.displayName=r.displayName),r.email&&r.email!==g.email&&(await WL(g,r.email),y.email=r.email),r.phone&&(y.phone=r.phone),r.profilePicture){if(!["image/jpeg","image/png"].includes(r.profilePicture.type)){alert("Please upload a JPEG or PNG image.");return}const w=`${g.uid}_${Date.now()}_${r.profilePicture.name}`,R=p8(f,`profilePictures/${w}`),x={contentType:r.profilePicture.type||"application/octet-stream",customMetadata:{uploadedBy:g.uid}};await h8(R,r.profilePicture,x);const _=await f8(R);await A0(g,{photoURL:_}),y.photoURL=_}if(Object.keys(y).length>0){const w=Nt(h,"users",g.uid);await vs(w,y)}alert("profile updated succesfully"),t(-1)}catch(w){console.error("Error updating profile:",w),alert("Failed to update profile. Check the console for details.")}};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Edit Profile"}),u.jsxs(yr,{children:[u.jsxs(yr.Group,{controlId:"displayName",className:"mb-3",children:[u.jsx(yr.Label,{children:"Display Name"}),u.jsx(yr.Control,{type:"text",value:r.displayName,onChange:l=>s({...r,displayName:l.target.value})})]}),u.jsxs(yr.Group,{controlId:"email",className:"mb-3",children:[u.jsx(yr.Label,{children:"email"}),u.jsx(yr.Control,{type:"email",value:r.email,onChange:l=>s({...r,email:l.target.value})})]}),u.jsxs(yr.Group,{controlId:"phone",className:"mb-3",children:[u.jsx(yr.Label,{children:"Phone Number"}),u.jsx(yr.Control,{type:"text",value:r.phone,onChange:l=>s({...r,phone:l.target.value})})]}),u.jsxs(yr.Group,{controlId:"profilePicture",className:"mb-3",children:[u.jsx(yr.Label,{children:"Profile Picture"}),u.jsx(yr.Control,{type:"file",onChange:l=>s({...r,profilePicture:l.target.files[0]})})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(gv,{variant:"primary",onClick:i,type:"submit",children:"Save Changes"}),u.jsx(gv,{variant:"secondary",onClick:()=>t("/ProfileDashboard"),children:"Cancel"})]})]})]})})}function x8(){const{currentUser:n}=sn(),[e,t]=C.useState([]),[r,s]=C.useState(!0);return C.useEffect(()=>{(async()=>{if(!n)return;const l=sr(Pt,"savedMaterials"),c=wr(l,Pn("userId","==",n.uid));try{const f=(await br(c)).docs.map(g=>({id:g.id,...g.data()}));t(f)}catch(h){console.error("Error fetching saved materials:",h)}finally{s(!1)}})()},[n]),r?u.jsx("div",{children:"Loading saved materials..."}):u.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(at,{to:"/ProfileDashboard",className:"text-blue-500 text-3xl font-bold hover:scale-110 hover:text-blue-700 transition-all duration-200 flex items-center justify-center",children:"<"}),u.jsx("h1",{className:"text-2xl font-bold",children:"Saved Items"})]}),e.length===0?u.jsx("p",{className:"text-gray-500",children:"You don't have any saved materials yet."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>u.jsxs("div",{className:"border p-4 rounded shadow",children:[i.materialImageURL&&u.jsx("img",{src:i.materialImageURL,alt:i.materialName,className:"w-full h-32 object-cover rounded mb-2"}),u.jsx("h2",{className:"text-xl font-semibold",children:i.materialName}),u.jsx("p",{className:"text-gray-600",children:i.materialType})]},i.id))})]})}const w8="_loginWrapper_1063v_3",b8="_container_1063v_11",E8="_form_1063v_32",S8="_formBox_1063v_34",T8="_active_1063v_49",C8="_register_1063v_51",I8="_inputBox_1063v_54",R8="_forgotLink_1063v_84",k8="_btn_1063v_90",A8="_socialIcons_1063v_103",N8="_toggleBox_1063v_118",P8="_togglePanel_1063v_138",j8="_toggleLeft_1063v_152",O8="_toggleRight_1063v_161",ut={loginWrapper:w8,container:b8,form:E8,formBox:S8,active:T8,register:C8,inputBox:I8,forgotLink:R8,btn:k8,socialIcons:A8,toggleBox:N8,togglePanel:P8,toggleLeft:j8,toggleRight:O8},L8=()=>{const[n,e]=C.useState(!1),t=()=>{e(!0)},r=()=>{e(!1)};return u.jsx("div",{className:ut.loginWrapper,children:u.jsxs("div",{className:`${ut.container} ${n?ut.active:""}`,children:[u.jsx("div",{className:`${ut.formBox} ${ut.login}`,children:u.jsxs("form",{className:ut.form,action:"#",children:[u.jsx("h1",{children:"Login"}),u.jsxs("div",{className:ut.inputBox,children:[u.jsx("input",{type:"text",placeholder:"Email",required:!0}),u.jsx("i",{className:"bx bxs-user"})]}),u.jsxs("div",{className:ut.inputBox,children:[u.jsx("input",{type:"password",placeholder:"Password",required:!0}),u.jsx("i",{className:"bx bxs-lock-alt"})]}),u.jsx("div",{className:ut.forgotLink,children:u.jsx("a",{href:"#",children:"Forgot Password?"})}),u.jsx("button",{type:"submit",className:ut.btn,children:"Login"}),u.jsx("p",{children:"or login with social platforms"}),u.jsxs("div",{className:ut.socialIcons,children:[u.jsx("a",{href:"#",children:u.jsx("i",{className:"bx bxl-google"})}),u.jsx("a",{href:"#",children:u.jsx("i",{className:"bx bxl-facebook"})}),u.jsx("a",{href:"#",children:u.jsx("i",{className:"bx bxl-github"})}),u.jsx("a",{href:"#",children:u.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),u.jsx("div",{className:`${ut.formBox} ${ut.register}`,children:u.jsxs("form",{className:ut.form,action:"#",children:[u.jsx("h1",{children:"Registration"}),u.jsxs("div",{className:ut.inputBox,children:[u.jsx("input",{type:"text",placeholder:"First Name",required:!0}),u.jsx("i",{className:"bx bxs-user"})]}),u.jsxs("div",{className:ut.inputBox,children:[u.jsx("input",{type:"text",placeholder:"Last Name",required:!0}),u.jsx("i",{className:"bx bxs-user"})]}),u.jsxs("div",{className:ut.inputBox,children:[u.jsx("input",{type:"email",placeholder:"Email",required:!0}),u.jsx("i",{className:"bx bxs-envelope"})]}),u.jsxs("div",{className:ut.inputBox,children:[u.jsx("input",{type:"password",placeholder:"Password",required:!0}),u.jsx("i",{className:"bx bxs-lock-alt"})]}),u.jsxs("div",{className:ut.inputBox,children:[u.jsx("input",{type:"password",placeholder:"Confirm Password",required:!0}),u.jsx("i",{className:"bx bxs-lock-alt"})]}),u.jsx("button",{type:"submit",className:ut.btn,children:"Register"}),u.jsx("p",{children:"or register with social platforms"}),u.jsxs("div",{className:ut.socialIcons,children:[u.jsx("a",{href:"#",children:u.jsx("i",{className:"bx bxl-google"})}),u.jsx("a",{href:"#",children:u.jsx("i",{className:"bx bxl-facebook"})}),u.jsx("a",{href:"#",children:u.jsx("i",{className:"bx bxl-github"})}),u.jsx("a",{href:"#",children:u.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),u.jsxs("div",{className:ut.toggleBox,children:[u.jsxs("div",{className:`${ut.togglePanel} ${ut.toggleLeft}`,children:[u.jsx("h1",{children:"Hello, Welcome!"}),u.jsx("p",{children:"Don't have an account?"}),u.jsx("button",{className:ut.btn,onClick:t,children:"Register"})]}),u.jsxs("div",{className:`${ut.togglePanel} ${ut.toggleRight}`,children:[u.jsx("h1",{children:"Welcome Back!"}),u.jsx("p",{children:"Already have an account?"}),u.jsx("button",{className:ut.btn,onClick:r,children:"Login"})]})]})]})})},D8=()=>{const{user:n}=C.useContext(Ga),e=Ye(),t=async r=>{if(n!=null&&n.uid)try{await vs(Nt(Js,"users",n.uid),{role:r,...r==="contractor"&&{rating:0,reviewCount:0}}),e(r==="contractor"?"/contractor-dashboard":"/")}catch(s){console.error("Failed to update role:",s)}};return u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen px-4 text-center",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Are you a contractor or homeowner?"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("button",{onClick:()=>t("contractor"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded",children:"I'm a Contractor"}),u.jsx("button",{onClick:()=>t("customer"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded",children:"I'm a Homeowner"})]})]})},M8=()=>{const{projectId:n}=xc(),{currentUser:e}=sn(),t=Ye(),[r,s]=C.useState(null),[i,l]=C.useState(!0);C.useEffect(()=>{(async()=>{if(!e)return;const f=Nt(Pt,"projects",n),g=await Fn(f);g.exists()&&s({id:g.id,...g.data()}),l(!1)})()},[e,n]);const c=async h=>{h.preventDefault();const f=Nt(Pt,"projects",n);await vs(f,{title:r.title,description:r.description}),t("/projects")};return i?u.jsx("div",{children:"Loading..."}):r?u.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Project"}),u.jsxs("form",{onSubmit:c,className:"flex flex-col gap-4",children:[u.jsx("input",{type:"text",value:r.title,onChange:h=>s(f=>({...f,title:h.target.value})),placeholder:"Project Title",className:"border p-2 rounded"}),u.jsx("textarea",{value:r.description,onChange:h=>s(f=>({...f,description:h.target.value})),placeholder:"Project Description",className:"border p-2 rounded"}),u.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Update Project"})]})]}):u.jsx("div",{children:"Project not found"})},F8=()=>{const{profile:n,user:e}=Kd(),t=Ye(),[r,s]=C.useState([]),[i,l]=C.useState(!0);if(C.useEffect(()=>{(async()=>{try{if(!n||!e||n.role!=="contractor"){l(!1);return}console.log("Fetching projects for contractor:",e.uid);const g=wr(sr(Pt,"projects"),Pn("status","==","submitted")),y=wr(sr(Pt,"projects"),Pn("status","==","inquiry")),w=wr(sr(Pt,"projects"),Pn("status","==","in progress"),Pn("contractorId","==",e.uid)),R=wr(sr(Pt,"projects"),Pn("status","==","pending_approval"),Pn("requestedBy","array-contains",e.uid)),[I,x,_,E]=await Promise.all([br(g),br(y),br(w),br(R)]),P=I.docs.map(M=>({id:M.id,...M.data()})),A=x.docs.map(M=>({id:M.id,...M.data()})),O=_.docs.map(M=>({id:M.id,...M.data()})),U=E.docs.map(M=>({id:M.id,...M.data()})),z=[...P,...A,...O,...U];s(z)}catch(g){console.error("Error fetching projects:",g.message),s([])}finally{l(!1)}})()},[n,e]),i)return u.jsx("div",{children:"Loading..."});const c=r.filter(f=>f.status==="in progress"&&f.contractorId===e.uid),h=r.filter(f=>!(f.status==="in progress"&&f.contractorId===e.uid));return u.jsxs("div",{className:"p-4 max-w-4xl mx-auto mt-20",children:[u.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:u.jsx("div",{className:"logo cursor-pointer",onClick:()=>t(-1),children:" return "})}),c.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Accepted Projects"}),u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:c.map(f=>{var g,y,w;return u.jsxs("div",{className:"border p-4 rounded shadow relative bg-green-50",children:[u.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:"In Progress"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:f.title}),u.jsx("p",{className:"text-gray-600 mb-1",children:f.description}),u.jsxs("p",{className:"text-sm",children:["Material: ",(g=f.flooringOption)==null?void 0:g.title]}),u.jsxs("p",{className:"text-sm",children:["Area: ",(y=f.roomDimensions)==null?void 0:y.length," ft x ",(w=f.roomDimensions)==null?void 0:w.width," ft"]}),u.jsx("button",{className:"mt-3 px-4 py-2 bg-green-600 text-white rounded",onClick:()=>t(`/projects/view/${f.id}`),children:"View Project"})]},f.id)})})})]}),u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Available Projects"}),h.length===0?u.jsx("p",{children:"No Submitted projects found."}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:h.map(f=>{var g,y,w,R,I,x,_;return u.jsxs("div",{className:"border p-4 rounded shadow relative",children:[u.jsx("div",{className:`absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded ${f.status==="submitted"?"bg-blue-100 text-blue-800":f.status==="inquiry"?"bg-yellow-100 text-yellow-800":f.status==="in progress"?"bg-green-100 text-green-800":f.status==="pending_approval"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:f.status==="submitted"?"New":f.status==="inquiry"?"Inquired":f.status==="in progress"?"In Progress":f.status==="pending_approval"?"Pending Approval":f.status}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:f.title}),u.jsx("p",{className:"text-gray-600 mb-1",children:f.description}),u.jsxs("p",{className:"text-sm",children:["Material: ",(g=f.flooringOption)==null?void 0:g.title]}),u.jsxs("p",{className:"text-sm",children:["Area: ",(y=f.roomDimensions)==null?void 0:y.length," ft x ",(w=f.roomDimensions)==null?void 0:w.width," ft"]}),u.jsx("button",{className:`mt-3 px-4 py-2 text-white rounded ${f.status==="pending_approval"&&((R=f.requestedBy)!=null&&R.includes(e.uid))?"bg-orange-500":f.status==="inquiry"&&((I=f.inquiredBy)!=null&&I.includes(e.uid))?"bg-yellow-500":"bg-blue-600"}`,onClick:()=>t(`/projects/view/${f.id}`),children:f.status==="pending_approval"&&((x=f.requestedBy)!=null&&x.includes(e.uid))?"Awaiting Customer Approval":f.status==="inquiry"&&((_=f.inquiredBy)!=null&&_.includes(e.uid))?"View Inquiry":f.status==="pending homeowner approval"&&f.contractorId===e.uid?"Pending Approval":"View Project"})]},f.id)})})]})},V8="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png";function Ua(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function U8(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function B8(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $8=function(){function n(t){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(B8(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=U8(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),kn="-ms-",Mp="-moz-",tt="-webkit-",mA="comm",Nx="rule",Px="decl",z8="@import",gA="@keyframes",H8="@layer",W8=Math.abs,Pm=String.fromCharCode,q8=Object.assign;function G8(n,e){return xn(n,0)^45?(((e<<2^xn(n,0))<<2^xn(n,1))<<2^xn(n,2))<<2^xn(n,3):0}function yA(n){return n.trim()}function K8(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function vv(n,e){return n.indexOf(e)}function xn(n,e){return n.charCodeAt(e)|0}function Ed(n,e,t){return n.slice(e,t)}function $s(n){return n.length}function jx(n){return n.length}function Nf(n,e){return e.push(n),n}function Q8(n,e){return n.map(e).join("")}var jm=1,mc=1,vA=0,lr=0,Yt=0,Oc="";function Om(n,e,t,r,s,i,l){return{value:n,root:e,parent:t,type:r,props:s,children:i,line:jm,column:mc,length:l,return:""}}function Fu(n,e){return q8(Om("",null,null,"",null,null,0),n,{length:-n.length},e)}function Y8(){return Yt}function X8(){return Yt=lr>0?xn(Oc,--lr):0,mc--,Yt===10&&(mc=1,jm--),Yt}function Tr(){return Yt=lr<vA?xn(Oc,lr++):0,mc++,Yt===10&&(mc=1,jm++),Yt}function Zs(){return xn(Oc,lr)}function Yf(){return lr}function Yd(n,e){return Ed(Oc,n,e)}function Sd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _A(n){return jm=mc=1,vA=$s(Oc=n),lr=0,[]}function xA(n){return Oc="",n}function Xf(n){return yA(Yd(lr-1,_v(n===91?n+2:n===40?n+1:n)))}function J8(n){for(;(Yt=Zs())&&Yt<33;)Tr();return Sd(n)>2||Sd(Yt)>3?"":" "}function Z8(n,e){for(;--e&&Tr()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return Yd(n,Yf()+(e<6&&Zs()==32&&Tr()==32))}function _v(n){for(;Tr();)switch(Yt){case n:return lr;case 34:case 39:n!==34&&n!==39&&_v(Yt);break;case 40:n===41&&_v(n);break;case 92:Tr();break}return lr}function ez(n,e){for(;Tr()&&n+Yt!==57;)if(n+Yt===84&&Zs()===47)break;return"/*"+Yd(e,lr-1)+"*"+Pm(n===47?n:Tr())}function tz(n){for(;!Sd(Zs());)Tr();return Yd(n,lr)}function nz(n){return xA(Jf("",null,null,null,[""],n=_A(n),0,[0],n))}function Jf(n,e,t,r,s,i,l,c,h){for(var f=0,g=0,y=l,w=0,R=0,I=0,x=1,_=1,E=1,P=0,A="",O=s,U=i,z=r,M=A;_;)switch(I=P,P=Tr()){case 40:if(I!=108&&xn(M,y-1)==58){vv(M+=nt(Xf(P),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:M+=Xf(P);break;case 9:case 10:case 13:case 32:M+=J8(I);break;case 92:M+=Z8(Yf()-1,7);continue;case 47:switch(Zs()){case 42:case 47:Nf(rz(ez(Tr(),Yf()),e,t),h);break;default:M+="/"}break;case 123*x:c[f++]=$s(M)*E;case 125*x:case 59:case 0:switch(P){case 0:case 125:_=0;case 59+g:E==-1&&(M=nt(M,/\f/g,"")),R>0&&$s(M)-y&&Nf(R>32?XS(M+";",r,t,y-1):XS(nt(M," ","")+";",r,t,y-2),h);break;case 59:M+=";";default:if(Nf(z=YS(M,e,t,f,g,s,c,A,O=[],U=[],y),i),P===123)if(g===0)Jf(M,e,z,z,O,i,y,c,U);else switch(w===99&&xn(M,3)===110?100:w){case 100:case 108:case 109:case 115:Jf(n,z,z,r&&Nf(YS(n,z,z,0,0,s,c,A,s,O=[],y),U),s,U,y,c,r?O:U);break;default:Jf(M,z,z,z,[""],U,0,c,U)}}f=g=R=0,x=E=1,A=M="",y=l;break;case 58:y=1+$s(M),R=I;default:if(x<1){if(P==123)--x;else if(P==125&&x++==0&&X8()==125)continue}switch(M+=Pm(P),P*x){case 38:E=g>0?1:(M+="\f",-1);break;case 44:c[f++]=($s(M)-1)*E,E=1;break;case 64:Zs()===45&&(M+=Xf(Tr())),w=Zs(),g=y=$s(A=M+=tz(Yf())),P++;break;case 45:I===45&&$s(M)==2&&(x=0)}}return i}function YS(n,e,t,r,s,i,l,c,h,f,g){for(var y=s-1,w=s===0?i:[""],R=jx(w),I=0,x=0,_=0;I<r;++I)for(var E=0,P=Ed(n,y+1,y=W8(x=l[I])),A=n;E<R;++E)(A=yA(x>0?w[E]+" "+P:nt(P,/&\f/g,w[E])))&&(h[_++]=A);return Om(n,e,t,s===0?Nx:c,h,f,g)}function rz(n,e,t){return Om(n,e,t,mA,Pm(Y8()),Ed(n,2,-2),0)}function XS(n,e,t,r){return Om(n,e,t,Px,Ed(n,0,r),Ed(n,r+1,-1),r)}function rc(n,e){for(var t="",r=jx(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function sz(n,e,t,r){switch(n.type){case H8:if(n.children.length)break;case z8:case Px:return n.return=n.return||n.value;case mA:return"";case gA:return n.return=n.value+"{"+rc(n.children,r)+"}";case Nx:n.value=n.props.join(",")}return $s(t=rc(n.children,r))?n.return=n.value+"{"+t+"}":""}function iz(n){var e=jx(n);return function(t,r,s,i){for(var l="",c=0;c<e;c++)l+=n[c](t,r,s,i)||"";return l}}function oz(n){return function(e){e.root||(e=e.return)&&n(e)}}function wA(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var az=function(e,t,r){for(var s=0,i=0;s=i,i=Zs(),s===38&&i===12&&(t[r]=1),!Sd(i);)Tr();return Yd(e,lr)},lz=function(e,t){var r=-1,s=44;do switch(Sd(s)){case 0:s===38&&Zs()===12&&(t[r]=1),e[r]+=az(lr-1,t,r);break;case 2:e[r]+=Xf(s);break;case 4:if(s===44){e[++r]=Zs()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Pm(s)}while(s=Tr());return e},cz=function(e,t){return xA(lz(_A(e),t))},JS=new WeakMap,uz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!JS.get(r))&&!s){JS.set(e,!0);for(var i=[],l=cz(t,i),c=r.props,h=0,f=0;h<l.length;h++)for(var g=0;g<c.length;g++,f++)e.props[f]=i[h]?l[h].replace(/&\f/g,c[g]):c[g]+" "+l[h]}}},dz=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function bA(n,e){switch(G8(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+Mp+n+kn+n+n;case 6828:case 4268:return tt+n+kn+n+n;case 6165:return tt+n+kn+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+kn+"flex-$1$2")+n;case 5443:return tt+n+kn+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+kn+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+kn+nt(n,"shrink","negative")+n;case 5292:return tt+n+kn+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+kn+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($s(n)-1-e>6)switch(xn(n,e+1)){case 109:if(xn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Mp+(xn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~vv(n,"stretch")?bA(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(xn(n,e+1)!==115)break;case 6444:switch(xn(n,$s(n)-3-(~vv(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(xn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+kn+"$2box$3")+n}break;case 5936:switch(xn(n,e+11)){case 114:return tt+n+kn+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+kn+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+kn+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+kn+n+n}return n}var hz=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case Px:e.return=bA(e.value,e.length);break;case gA:return rc([Fu(e,{value:nt(e.value,"@","@"+tt)})],s);case Nx:if(e.length)return Q8(e.props,function(i){switch(K8(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rc([Fu(e,{props:[nt(i,/:(read-\w+)/,":"+Mp+"$1")]})],s);case"::placeholder":return rc([Fu(e,{props:[nt(i,/:(plac\w+)/,":"+tt+"input-$1")]}),Fu(e,{props:[nt(i,/:(plac\w+)/,":"+Mp+"$1")]}),Fu(e,{props:[nt(i,/:(plac\w+)/,kn+"input-$1")]})],s)}return""})}},fz=[hz],pz=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var _=x.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var s=e.stylisPlugins||fz,i={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(x){for(var _=x.getAttribute("data-emotion").split(" "),E=1;E<_.length;E++)i[_[E]]=!0;c.push(x)});var h,f=[uz,dz];{var g,y=[sz,oz(function(x){g.insert(x)})],w=iz(f.concat(s,y)),R=function(_){return rc(nz(_),w)};h=function(_,E,P,A){g=P,R(_?_+"{"+E.styles+"}":E.styles),A&&(I.inserted[E.name]=!0)}}var I={key:t,sheet:new $8({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:h};return I.sheet.hydrate(c),I},mz=!0;function gz(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var EA=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||mz===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},yz=function(e,t,r){EA(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var i=t;do e.insert(t===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function vz(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _z={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xz=/[A-Z]|^ms/g,wz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,SA=function(e){return e.charCodeAt(1)===45},ZS=function(e){return e!=null&&typeof e!="boolean"},l0=wA(function(n){return SA(n)?n:n.replace(xz,"-$&").toLowerCase()}),eT=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(wz,function(r,s,i){return zs={name:s,styles:i,next:zs},s})}return _z[e]!==1&&!SA(e)&&typeof t=="number"&&t!==0?t+"px":t};function Td(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return zs={name:s.name,styles:s.styles,next:zs},s.name;var i=t;if(i.styles!==void 0){var l=i.next;if(l!==void 0)for(;l!==void 0;)zs={name:l.name,styles:l.styles,next:zs},l=l.next;var c=i.styles+";";return c}return bz(n,e,t)}case"function":{if(n!==void 0){var h=zs,f=t(n);return zs=h,Td(n,e,f)}break}}var g=t;if(e==null)return g;var y=e[g];return y!==void 0?y:g}function bz(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Td(n,e,t[s])+";";else for(var i in t){var l=t[i];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?r+=i+"{"+e[c]+"}":ZS(c)&&(r+=l0(i)+":"+eT(i,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var h=0;h<l.length;h++)ZS(l[h])&&(r+=l0(i)+":"+eT(i,l[h])+";");else{var f=Td(n,e,l);switch(i){case"animation":case"animationName":{r+=l0(i)+":"+f+";";break}default:r+=i+"{"+f+"}"}}}return r}var tT=/label:\s*([^\s;{]+)\s*(;|$)/g,zs;function TA(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";zs=void 0;var i=n[0];if(i==null||i.raw===void 0)r=!1,s+=Td(t,e,i);else{var l=i;s+=l[0]}for(var c=1;c<n.length;c++)if(s+=Td(t,e,n[c]),r){var h=i;s+=h[c]}tT.lastIndex=0;for(var f="",g;(g=tT.exec(s))!==null;)f+="-"+g[1];var y=vz(s)+f;return{name:y,styles:s,next:zs}}var Ez=function(e){return e()},Sz=v0.useInsertionEffect?v0.useInsertionEffect:!1,Tz=Sz||Ez,CA=C.createContext(typeof HTMLElement<"u"?pz({key:"css"}):null);CA.Provider;var Cz=function(e){return C.forwardRef(function(t,r){var s=C.useContext(CA);return e(t,s,r)})},IA=C.createContext({}),Iz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Rz=wA(function(n){return Iz.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),kz=Rz,Az=function(e){return e!=="theme"},nT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?kz:Az},rT=function(e,t,r){var s;if(t){var i=t.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(l){return e.__emotion_forwardProp(l)&&i(l)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},Nz=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return EA(t,r,s),Tz(function(){return yz(t,r,s)}),null},Pz=function n(e,t){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,l;t!==void 0&&(i=t.label,l=t.target);var c=rT(e,t,r),h=c||nT(s),f=!h("as");return function(){var g=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&y.push("label:"+i+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{var w=g[0];y.push(w[0]);for(var R=g.length,I=1;I<R;I++)y.push(g[I],w[I])}var x=Cz(function(_,E,P){var A=f&&_.as||s,O="",U=[],z=_;if(_.theme==null){z={};for(var M in _)z[M]=_[M];z.theme=C.useContext(IA)}typeof _.className=="string"?O=gz(E.registered,U,_.className):_.className!=null&&(O=_.className+" ");var L=TA(y.concat(U),E.registered,z);O+=E.key+"-"+L.name,l!==void 0&&(O+=" "+l);var N=f&&c===void 0?nT(A):h,b={};for(var D in _)f&&D==="as"||N(D)&&(b[D]=_[D]);return b.className=O,P&&(b.ref=P),C.createElement(C.Fragment,null,C.createElement(Nz,{cache:E,serialized:L,isStringTag:typeof A=="string"}),C.createElement(A,b))});return x.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=s,x.__emotion_styles=y,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+l}}),x.withComponent=function(_,E){var P=n(_,mv({},t,E,{shouldForwardProp:rT(x,E,!0)}));return P.apply(void 0,y)},x}},jz=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xv=Pz.bind(null);jz.forEach(function(n){xv[n]=xv(n)});function RA(n,e){return xv(n,e)}function Oz(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const sT=[];function iT(n){return sT[0]=n,TA(sT)}var c0={exports:{}},dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function Lz(){if(oT)return dt;oT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.view_transition"),R=Symbol.for("react.client.reference");function I(x){if(typeof x=="object"&&x!==null){var _=x.$$typeof;switch(_){case n:switch(x=x.type,x){case t:case s:case r:case h:case f:case w:return x;default:switch(x=x&&x.$$typeof,x){case l:case c:case y:case g:return x;case i:return x;default:return _}}case e:return _}}}return dt.ContextConsumer=i,dt.ContextProvider=l,dt.Element=n,dt.ForwardRef=c,dt.Fragment=t,dt.Lazy=y,dt.Memo=g,dt.Portal=e,dt.Profiler=s,dt.StrictMode=r,dt.Suspense=h,dt.SuspenseList=f,dt.isContextConsumer=function(x){return I(x)===i},dt.isContextProvider=function(x){return I(x)===l},dt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===n},dt.isForwardRef=function(x){return I(x)===c},dt.isFragment=function(x){return I(x)===t},dt.isLazy=function(x){return I(x)===y},dt.isMemo=function(x){return I(x)===g},dt.isPortal=function(x){return I(x)===e},dt.isProfiler=function(x){return I(x)===s},dt.isStrictMode=function(x){return I(x)===r},dt.isSuspense=function(x){return I(x)===h},dt.isSuspenseList=function(x){return I(x)===f},dt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===t||x===s||x===r||x===h||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===y||x.$$typeof===g||x.$$typeof===l||x.$$typeof===i||x.$$typeof===c||x.$$typeof===R||x.getModuleId!==void 0)},dt.typeOf=I,dt}var aT;function Dz(){return aT||(aT=1,c0.exports=Lz()),c0.exports}var kA=Dz();function Ws(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function AA(n){if(C.isValidElement(n)||kA.isValidElementType(n)||!Ws(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=AA(n[t])}),e}function Cr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Ws(n)&&Ws(e)&&Object.keys(e).forEach(s=>{C.isValidElement(e[s])||kA.isValidElementType(e[s])?r[s]=e[s]:Ws(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&Ws(n[s])?r[s]=Cr(n[s],e[s],t):t.clone?r[s]=Ws(e[s])?AA(e[s]):e[s]:r[s]=e[s]}),r}const Mz=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function Fz(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...s}=n,i=Mz(e),l=Object.keys(i);function c(w){return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${t})`}function h(w){return`@media (max-width:${(typeof e[w]=="number"?e[w]:w)-r/100}${t})`}function f(w,R){const I=l.indexOf(R);return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:R)-r/100}${t})`}function g(w){return l.indexOf(w)+1<l.length?f(w,l[l.indexOf(w)+1]):c(w)}function y(w){const R=l.indexOf(w);return R===0?c(l[1]):R===l.length-1?h(l[R]):f(w,l[l.indexOf(w)+1]).replace("@media","@media not all and")}return{keys:l,values:i,up:c,down:h,between:f,only:g,not:y,unit:t,...s}}function Vz(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var l,c;const i=/min-width:\s*([0-9.]+)/;return+(((l=r.match(i))==null?void 0:l[1])||0)-+(((c=s.match(i))==null?void 0:c[1])||0)});return t.length?t.reduce((r,s)=>{const i=e[s];return delete r[s],r[s]=i,r},{...e}):e}function Uz(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Bz(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,s]=t,i=Number.isNaN(+r)?r||0:+r;return n.containerQueries(s).up(i)}function $z(n){const e=(i,l)=>i.replace("@media",l?`@container ${l}`:"@container");function t(i,l){i.up=(...c)=>e(n.breakpoints.up(...c),l),i.down=(...c)=>e(n.breakpoints.down(...c),l),i.between=(...c)=>e(n.breakpoints.between(...c),l),i.only=(...c)=>e(n.breakpoints.only(...c),l),i.not=(...c)=>{const h=e(n.breakpoints.not(...c),l);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const r={},s=i=>(t(r,i),r);return t(s),{...n,containerQueries:s}}const zz={borderRadius:4};function ad(n,e){return e?Cr(n,e,{clone:!1}):n}const Lm={xs:0,sm:600,md:900,lg:1200,xl:1536},lT={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Lm[n]}px)`},Hz={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Lm[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Vi(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const i=r.breakpoints||lT;return e.reduce((l,c,h)=>(l[i.up(i.keys[h])]=t(e[h]),l),{})}if(typeof e=="object"){const i=r.breakpoints||lT;return Object.keys(e).reduce((l,c)=>{if(Uz(i.keys,c)){const h=Bz(r.containerQueries?r:Hz,c);h&&(l[h]=t(e[c],c))}else if(Object.keys(i.values||Lm).includes(c)){const h=i.up(c);l[h]=t(e[c],c)}else{const h=c;l[h]=e[h]}return l},{})}return t(e)}function Wz(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,s)=>{const i=n.up(s);return r[i]={},r},{}))||{}}function qz(n,e){return n.reduce((t,r)=>{const s=t[r];return(!s||Object.keys(s).length===0)&&delete t[r],t},e)}function Es(n){if(typeof n!="string")throw new Error(Ua(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Dm(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,n);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,n)}function Fp(n,e,t,r=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||r:s=Dm(n,t)||r,e&&(s=e(s,r,n)),s}function Wt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:s}=n,i=l=>{if(l[e]==null)return null;const c=l[e],h=l.theme,f=Dm(h,r)||{};return Vi(l,c,y=>{let w=Fp(f,s,y);return y===w&&typeof y=="string"&&(w=Fp(f,s,`${e}${y==="default"?"":Es(y)}`,y)),t===!1?w:{[t]:w}})};return i.propTypes={},i.filterProps=[e],i}function Gz(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Kz={m:"margin",p:"padding"},Qz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yz=Gz(n=>{if(n.length>2)if(cT[n])n=cT[n];else return[n];const[e,t]=n.split(""),r=Kz[e],s=Qz[t]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),Ox=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Lx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ox,...Lx];function Xd(n,e,t,r){const s=Dm(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?i=>typeof i=="string"?i:typeof s=="string"?s.startsWith("var(")&&i===0?0:s.startsWith("var(")&&i===1?s:`calc(${i} * ${s})`:s*i:Array.isArray(s)?i=>{if(typeof i=="string")return i;const l=Math.abs(i),c=s[l];return i>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof s=="function"?s:()=>{}}function Dx(n){return Xd(n,"spacing",8)}function Jd(n,e){return typeof e=="string"||e==null?e:n(e)}function Xz(n,e){return t=>n.reduce((r,s)=>(r[s]=Jd(e,t),r),{})}function Jz(n,e,t,r){if(!e.includes(t))return null;const s=Yz(t),i=Xz(s,r),l=n[t];return Vi(n,l,i)}function NA(n,e){const t=Dx(n.theme);return Object.keys(n).map(r=>Jz(n,e,r,t)).reduce(ad,{})}function Ft(n){return NA(n,Ox)}Ft.propTypes={};Ft.filterProps=Ox;function Vt(n){return NA(n,Lx)}Vt.propTypes={};Vt.filterProps=Lx;function PA(n=8,e=Dx({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(i=>{const l=e(i);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function Mm(...n){const e=n.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),t=r=>Object.keys(r).reduce((s,i)=>e[i]?ad(s,e[i](r)):s,{});return t.propTypes={},t.filterProps=n.reduce((r,s)=>r.concat(s.filterProps),[]),t}function Wr(n){return typeof n!="number"?n:`${n}px solid`}function Xr(n,e){return Wt({prop:n,themeKey:"borders",transform:e})}const Zz=Xr("border",Wr),e7=Xr("borderTop",Wr),t7=Xr("borderRight",Wr),n7=Xr("borderBottom",Wr),r7=Xr("borderLeft",Wr),s7=Xr("borderColor"),i7=Xr("borderTopColor"),o7=Xr("borderRightColor"),a7=Xr("borderBottomColor"),l7=Xr("borderLeftColor"),c7=Xr("outline",Wr),u7=Xr("outlineColor"),Fm=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Xd(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Jd(e,r)});return Vi(n,n.borderRadius,t)}return null};Fm.propTypes={};Fm.filterProps=["borderRadius"];Mm(Zz,e7,t7,n7,r7,s7,i7,o7,a7,l7,Fm,c7,u7);const Vm=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Xd(n.theme,"spacing",8),t=r=>({gap:Jd(e,r)});return Vi(n,n.gap,t)}return null};Vm.propTypes={};Vm.filterProps=["gap"];const Um=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Xd(n.theme,"spacing",8),t=r=>({columnGap:Jd(e,r)});return Vi(n,n.columnGap,t)}return null};Um.propTypes={};Um.filterProps=["columnGap"];const Bm=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Xd(n.theme,"spacing",8),t=r=>({rowGap:Jd(e,r)});return Vi(n,n.rowGap,t)}return null};Bm.propTypes={};Bm.filterProps=["rowGap"];const d7=Wt({prop:"gridColumn"}),h7=Wt({prop:"gridRow"}),f7=Wt({prop:"gridAutoFlow"}),p7=Wt({prop:"gridAutoColumns"}),m7=Wt({prop:"gridAutoRows"}),g7=Wt({prop:"gridTemplateColumns"}),y7=Wt({prop:"gridTemplateRows"}),v7=Wt({prop:"gridTemplateAreas"}),_7=Wt({prop:"gridArea"});Mm(Vm,Um,Bm,d7,h7,f7,p7,m7,g7,y7,v7,_7);function sc(n,e){return e==="grey"?e:n}const x7=Wt({prop:"color",themeKey:"palette",transform:sc}),w7=Wt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:sc}),b7=Wt({prop:"backgroundColor",themeKey:"palette",transform:sc});Mm(x7,w7,b7);function _r(n){return n<=1&&n!==0?`${n*100}%`:n}const E7=Wt({prop:"width",transform:_r}),Mx=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var s,i,l,c,h;const r=((l=(i=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:i.values)==null?void 0:l[t])||Lm[t];return r?((h=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:_r(t)}};return Vi(n,n.maxWidth,e)}return null};Mx.filterProps=["maxWidth"];const S7=Wt({prop:"minWidth",transform:_r}),T7=Wt({prop:"height",transform:_r}),C7=Wt({prop:"maxHeight",transform:_r}),I7=Wt({prop:"minHeight",transform:_r});Wt({prop:"size",cssProperty:"width",transform:_r});Wt({prop:"size",cssProperty:"height",transform:_r});const R7=Wt({prop:"boxSizing"});Mm(E7,Mx,S7,T7,C7,I7,R7);const Zd={border:{themeKey:"borders",transform:Wr},borderTop:{themeKey:"borders",transform:Wr},borderRight:{themeKey:"borders",transform:Wr},borderBottom:{themeKey:"borders",transform:Wr},borderLeft:{themeKey:"borders",transform:Wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Fm},color:{themeKey:"palette",transform:sc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:sc},backgroundColor:{themeKey:"palette",transform:sc},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Ft},mt:{style:Ft},mr:{style:Ft},mb:{style:Ft},ml:{style:Ft},mx:{style:Ft},my:{style:Ft},margin:{style:Ft},marginTop:{style:Ft},marginRight:{style:Ft},marginBottom:{style:Ft},marginLeft:{style:Ft},marginX:{style:Ft},marginY:{style:Ft},marginInline:{style:Ft},marginInlineStart:{style:Ft},marginInlineEnd:{style:Ft},marginBlock:{style:Ft},marginBlockStart:{style:Ft},marginBlockEnd:{style:Ft},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vm},rowGap:{style:Bm},columnGap:{style:Um},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_r},maxWidth:{style:Mx},minWidth:{transform:_r},height:{transform:_r},maxHeight:{transform:_r},minHeight:{transform:_r},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function k7(...n){const e=n.reduce((r,s)=>r.concat(Object.keys(s)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function A7(n,e){return typeof n=="function"?n(e):n}function N7(){function n(t,r,s,i){const l={[t]:r,theme:s},c=i[t];if(!c)return{[t]:r};const{cssProperty:h=t,themeKey:f,transform:g,style:y}=c;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const w=Dm(s,f)||{};return y?y(l):Vi(l,r,I=>{let x=Fp(w,g,I);return I===x&&typeof I=="string"&&(x=Fp(w,g,`${t}${I==="default"?"":Es(I)}`,I)),h===!1?x:{[h]:x}})}function e(t){const{sx:r,theme:s={}}=t||{};if(!r)return null;const i=s.unstable_sxConfig??Zd;function l(c){let h=c;if(typeof c=="function")h=c(s);else if(typeof c!="object")return c;if(!h)return null;const f=Wz(s.breakpoints),g=Object.keys(f);let y=f;return Object.keys(h).forEach(w=>{const R=A7(h[w],s);if(R!=null)if(typeof R=="object")if(i[w])y=ad(y,n(w,R,s,i));else{const I=Vi({theme:s},R,x=>({[w]:x}));k7(I,R)?y[w]=e({sx:R,theme:s}):y=ad(y,I)}else y=ad(y,n(w,R,s,i))}),Vz(s,qz(g,y))}return Array.isArray(r)?r.map(l):l(r)}return e}const Ba=N7();Ba.filterProps=["sx"];function P7(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let s=t.getColorSchemeSelector(n);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return t.palette.mode===n?e:{}}function Fx(n={},...e){const{breakpoints:t={},palette:r={},spacing:s,shape:i={},...l}=n,c=Fz(t),h=PA(s);let f=Cr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:h,shape:{...zz,...i}},l);return f=$z(f),f.applyStyles=P7,f=e.reduce((g,y)=>Cr(g,y),f),f.unstable_sxConfig={...Zd,...l==null?void 0:l.unstable_sxConfig},f.unstable_sx=function(y){return Ba({sx:y,theme:this})},f}function j7(n){return Object.keys(n).length===0}function O7(n=null){const e=C.useContext(IA);return!e||j7(e)?n:e}const L7=Fx();function D7(n=L7){return O7(n)}const M7=n=>{var r;const e={systemProps:{},otherProps:{}},t=((r=n==null?void 0:n.theme)==null?void 0:r.unstable_sxConfig)??Zd;return Object.keys(n).forEach(s=>{t[s]?e.systemProps[s]=n[s]:e.otherProps[s]=n[s]}),e};function jA(n){const{sx:e,...t}=n,{systemProps:r,otherProps:s}=M7(t);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...l)=>{const c=e(...l);return Ws(c)?{...r,...c}:r}:i={...r,...e},{...s,sx:i}}const uT=n=>n,F7=()=>{let n=uT;return{configure(e){n=e},generate(e){return n(e)},reset(){n=uT}}},OA=F7();function V7(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:s}=n,i=RA("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Ba);return C.forwardRef(function(h,f){const g=D7(t),{className:y,component:w="div",...R}=jA(h);return u.jsx(i,{as:w,ref:f,className:xs(y,s?s(r):r),theme:e&&g[e]||g,...R})})}const U7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $m(n,e,t="Mui"){const r=U7[e];return r?`${t}-${r}`:`${OA.generate(n)}-${e}`}function zm(n,e,t="Mui"){const r={};return e.forEach(s=>{r[s]=$m(n,s,t)}),r}function LA(n){const{variants:e,...t}=n,r={variants:e,style:iT(t),isProcessed:!0};return r.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=iT(s.style))}),r}const B7=Fx();function u0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function $7(n){return n?(e,t)=>t[n]:null}function z7(n,e,t){n.theme=q7(n.theme)?t:n.theme[e]||n.theme}function Zf(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Zf(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:s,...i}=t;r=i}return DA(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function DA(n,e,t=[]){var s;let r;e:for(let i=0;i<e.length;i+=1){const l=e[i];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const c in l.props)if(n[c]!==l.props[c]&&((s=n.ownerState)==null?void 0:s[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function H7(n={}){const{themeId:e,defaultTheme:t=B7,rootShouldForwardProp:r=u0,slotShouldForwardProp:s=u0}=n;function i(c){z7(c,e,t)}return(c,h={})=>{Oz(c,U=>U.filter(z=>z!==Ba));const{name:f,slot:g,skipVariantsResolver:y,skipSx:w,overridesResolver:R=$7(K7(g)),...I}=h,x=y!==void 0?y:g&&g!=="Root"&&g!=="root"||!1,_=w||!1;let E=u0;g==="Root"||g==="root"?E=r:g?E=s:G7(c)&&(E=void 0);const P=RA(c,{shouldForwardProp:E,label:W7(),...I}),A=U=>{if(typeof U=="function"&&U.__emotion_real!==U)return function(M){return Zf(M,U)};if(Ws(U)){const z=LA(U);return z.variants?function(L){return Zf(L,z)}:z.style}return U},O=(...U)=>{const z=[],M=U.map(A),L=[];if(z.push(i),f&&R&&L.push(function(V){var Ie,ke;const te=(ke=(Ie=V.theme.components)==null?void 0:Ie[f])==null?void 0:ke.styleOverrides;if(!te)return null;const de={};for(const ae in te)de[ae]=Zf(V,te[ae]);return R(V,de)}),f&&!x&&L.push(function(V){var de,Ie;const B=V.theme,te=(Ie=(de=B==null?void 0:B.components)==null?void 0:de[f])==null?void 0:Ie.variants;return te?DA(V,te):null}),_||L.push(Ba),Array.isArray(M[0])){const D=M.shift(),V=new Array(z.length).fill(""),B=new Array(L.length).fill("");let te;te=[...V,...D,...B],te.raw=[...V,...D.raw,...B],z.unshift(te)}const N=[...z,...M,...L],b=P(...N);return c.muiName&&(b.muiName=c.muiName),b};return P.withConfig&&(O.withConfig=P.withConfig),O}}function W7(n,e){return void 0}function q7(n){for(const e in n)return!1;return!0}function G7(n){return typeof n=="string"&&n.charCodeAt(0)>96}function K7(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function wv(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")t[s]={...n[s],...t[s]};else if(s==="componentsProps"||s==="slotProps"){const i=n[s],l=e[s];if(!l)t[s]=i||{};else if(!i)t[s]=l;else{t[s]={...l};for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)){const h=c;t[s][h]=wv(i[h],l[h])}}}else t[s]===void 0&&(t[s]=n[s])}return t}function MA(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Vx(n,e=0,t=1){return MA(n,e,t)}function Q7(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Bo(n){if(n.type)return n;if(n.charAt(0)==="#")return Bo(Q7(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Ua(9,n));let r=n.substring(e+1,n.length-1),s;if(t==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Ua(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:t,values:r,colorSpace:s}}const Y7=n=>{const e=Bo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Ku=(n,e)=>{try{return Y7(n)}catch{return n}};function Hm(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function FA(n){n=Bo(n);const{values:e}=n,t=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),l=(f,g=(f+t/30)%12)=>s-i*Math.max(Math.min(g-3,9-g,1),-1);let c="rgb";const h=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(c+="a",h.push(e[3])),Hm({type:c,values:h})}function bv(n){n=Bo(n);let e=n.type==="hsl"||n.type==="hsla"?Bo(FA(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function X7(n,e){const t=bv(n),r=bv(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function J7(n,e){return n=Bo(n),e=Vx(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Hm(n)}function Pf(n,e,t){try{return J7(n,e)}catch{return n}}function Ux(n,e){if(n=Bo(n),e=Vx(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Hm(n)}function pt(n,e,t){try{return Ux(n,e)}catch{return n}}function Bx(n,e){if(n=Bo(n),e=Vx(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Hm(n)}function mt(n,e,t){try{return Bx(n,e)}catch{return n}}function Z7(n,e=.15){return bv(n)>.5?Ux(n,e):Bx(n,e)}function jf(n,e,t){try{return Z7(n,e)}catch{return n}}const eH=C.createContext(),tH=()=>C.useContext(eH)??!1,nH=C.createContext(void 0);function rH(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const s=e.components[t];return s.defaultProps?wv(s.defaultProps,r):!s.styleOverrides&&!s.variants?wv(s,r):r}function sH({props:n,name:e}){const t=C.useContext(nH);return rH({props:n,name:e,theme:{components:t}})}const dT={theme:void 0};function iH(n){let e,t;return function(s){let i=e;return(i===void 0||s.theme!==t)&&(dT.theme=s.theme,i=LA(n(dT)),e=i,t=s.theme),i}}function oH(n=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${n?`${n}-`:""}${r}${e(...s)})`}const hT=(n,e,t,r=[])=>{let s=n;e.forEach((i,l)=>{l===e.length-1?Array.isArray(s)?s[Number(i)]=t:s&&typeof s=="object"&&(s[i]=t):s&&typeof s=="object"&&(s[i]||(s[i]=r.includes(i)?[]:{}),s=s[i])})},aH=(n,e,t)=>{function r(s,i=[],l=[]){Object.entries(s).forEach(([c,h])=>{(!t||t&&!t([...i,c]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?r(h,[...i,c],Array.isArray(h)?[...l,c]:l):e([...i,c],h,l))})}r(n)},lH=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function d0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},s={},i={},l={};return aH(n,(c,h,f)=>{if((typeof h=="string"||typeof h=="number")&&(!r||!r(c,h))){const g=`--${t?`${t}-`:""}${c.join("-")}`,y=lH(c,h);Object.assign(s,{[g]:y}),hT(i,c,`var(${g})`,f),hT(l,c,`var(${g}, ${y})`,f)}},c=>c[0]==="vars"),{css:s,vars:i,varsWithDefaults:l}}function cH(n,e={}){const{getSelector:t=_,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:i={},components:l,defaultColorScheme:c="light",...h}=n,{vars:f,css:g,varsWithDefaults:y}=d0(h,e);let w=y;const R={},{[c]:I,...x}=i;if(Object.entries(x||{}).forEach(([A,O])=>{const{vars:U,css:z,varsWithDefaults:M}=d0(O,e);w=Cr(w,M),R[A]={css:z,vars:U}}),I){const{css:A,vars:O,varsWithDefaults:U}=d0(I,e);w=Cr(w,U),R[c]={css:A,vars:O}}function _(A,O){var z,M;let U=s;if(s==="class"&&(U=".%s"),s==="data"&&(U="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(U=`[${s}="%s"]`),A){if(U==="media")return n.defaultColorScheme===A?":root":{[`@media (prefers-color-scheme: ${((M=(z=i[A])==null?void 0:z.palette)==null?void 0:M.mode)||A})`]:{":root":O}};if(U)return n.defaultColorScheme===A?`:root, ${U.replace("%s",String(A))}`:U.replace("%s",String(A))}return":root"}return{vars:w,generateThemeVars:()=>{let A={...f};return Object.entries(R).forEach(([,{vars:O}])=>{A=Cr(A,O)}),A},generateStyleSheets:()=>{var L,N;const A=[],O=n.defaultColorScheme||"light";function U(b,D){Object.keys(D).length&&A.push(typeof b=="string"?{[b]:{...D}}:b)}U(t(void 0,{...g}),g);const{[O]:z,...M}=R;if(z){const{css:b}=z,D=(N=(L=i[O])==null?void 0:L.palette)==null?void 0:N.mode,V=!r&&D?{colorScheme:D,...b}:{...b};U(t(O,{...V}),V)}return Object.entries(M).forEach(([b,{css:D}])=>{var te,de;const V=(de=(te=i[b])==null?void 0:te.palette)==null?void 0:de.mode,B=!r&&V?{colorScheme:V,...D}:{...D};U(t(b,{...B}),B)}),A}}}function uH(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function $x(n,e,t=void 0){const r={};for(const s in n){const i=n[s];let l="",c=!0;for(let h=0;h<i.length;h+=1){const f=i[h];f&&(l+=(c===!0?"":" ")+e(f),c=!1,t&&t[f]&&(l+=" "+t[f]))}r[s]=l}return r}const VA="$$material",Cd={black:"#000",white:"#fff"},dH={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ml={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Fl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Vu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Vl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ul={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Bl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function UA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cd.white,default:Cd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const hH=UA();function BA(){return{text:{primary:Cd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const fT=BA();function pT(n,e,t,r){const s=r.light||r,i=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Bx(n.main,s):e==="dark"&&(n.dark=Ux(n.main,i)))}function fH(n="light"){return n==="dark"?{main:Vl[200],light:Vl[50],dark:Vl[400]}:{main:Vl[700],light:Vl[400],dark:Vl[800]}}function pH(n="light"){return n==="dark"?{main:Ml[200],light:Ml[50],dark:Ml[400]}:{main:Ml[500],light:Ml[300],dark:Ml[700]}}function mH(n="light"){return n==="dark"?{main:Fl[500],light:Fl[300],dark:Fl[700]}:{main:Fl[700],light:Fl[400],dark:Fl[800]}}function gH(n="light"){return n==="dark"?{main:Ul[400],light:Ul[300],dark:Ul[700]}:{main:Ul[700],light:Ul[500],dark:Ul[900]}}function yH(n="light"){return n==="dark"?{main:Bl[400],light:Bl[300],dark:Bl[700]}:{main:Bl[800],light:Bl[500],dark:Bl[900]}}function vH(n="light"){return n==="dark"?{main:Vu[400],light:Vu[300],dark:Vu[700]}:{main:"#ed6c02",light:Vu[500],dark:Vu[900]}}function zx(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...s}=n,i=n.primary||fH(e),l=n.secondary||pH(e),c=n.error||mH(e),h=n.info||gH(e),f=n.success||yH(e),g=n.warning||vH(e);function y(x){return X7(x,fT.text.primary)>=t?fT.text.primary:hH.text.primary}const w=({color:x,name:_,mainShade:E=500,lightShade:P=300,darkShade:A=700})=>{if(x={...x},!x.main&&x[E]&&(x.main=x[E]),!x.hasOwnProperty("main"))throw new Error(Ua(11,_?` (${_})`:"",E));if(typeof x.main!="string")throw new Error(Ua(12,_?` (${_})`:"",JSON.stringify(x.main)));return pT(x,"light",P,r),pT(x,"dark",A,r),x.contrastText||(x.contrastText=y(x.main)),x};let R;return e==="light"?R=UA():e==="dark"&&(R=BA()),Cr({common:{...Cd},mode:e,primary:w({color:i,name:"primary"}),secondary:w({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:w({color:c,name:"error"}),warning:w({color:g,name:"warning"}),info:w({color:h,name:"info"}),success:w({color:f,name:"success"}),grey:dH,contrastThreshold:t,getContrastText:y,augmentColor:w,tonalOffset:r,...R},s)}function _H(n){const e={};return Object.entries(n).forEach(r=>{const[s,i]=r;typeof i=="object"&&(e[s]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function xH(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function wH(n){return Math.round(n*1e5)/1e5}const mT={textTransform:"uppercase"},gT='"Roboto", "Helvetica", "Arial", sans-serif';function bH(n,e){const{fontFamily:t=gT,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:h=16,allVariants:f,pxToRem:g,...y}=typeof e=="function"?e(n):e,w=r/14,R=g||(_=>`${_/h*w}rem`),I=(_,E,P,A,O)=>({fontFamily:t,fontWeight:_,fontSize:R(E),lineHeight:P,...t===gT?{letterSpacing:`${wH(A/E)}em`}:{},...O,...f}),x={h1:I(s,96,1.167,-1.5),h2:I(s,60,1.2,-.5),h3:I(i,48,1.167,0),h4:I(i,34,1.235,.25),h5:I(i,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(i,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(i,16,1.5,.15),body2:I(i,14,1.43,.15),button:I(l,14,1.75,.4,mT),caption:I(i,12,1.66,.4),overline:I(i,12,2.66,1,mT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:h,pxToRem:R,fontFamily:t,fontSize:r,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:l,fontWeightBold:c,...x},y,{clone:!1})}const EH=.2,SH=.14,TH=.12;function At(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${EH})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${SH})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${TH})`].join(",")}const CH=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],IH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},RH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yT(n){return`${Math.round(n)}ms`}function kH(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function AH(n){const e={...IH,...n.easing},t={...RH,...n.duration};return{getAutoHeightDuration:kH,create:(s=["all"],i={})=>{const{duration:l=t.standard,easing:c=e.easeInOut,delay:h=0,...f}=i;return(Array.isArray(s)?s:[s]).map(g=>`${g} ${typeof l=="string"?l:yT(l)} ${c} ${typeof h=="string"?h:yT(h)}`).join(",")},...n,easing:e,duration:t}}const NH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function PH(n){return Ws(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function $A(n={}){const e={...n};function t(r){const s=Object.entries(r);for(let i=0;i<s.length;i++){const[l,c]=s[i];!PH(c)||l.startsWith("unstable_")?delete r[l]:Ws(c)&&(r[l]={...c},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Ev(n={},...e){const{breakpoints:t,mixins:r={},spacing:s,palette:i={},transitions:l={},typography:c={},shape:h,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Ua(20));const g=zx(i),y=Fx(n);let w=Cr(y,{mixins:xH(y.breakpoints,r),palette:g,shadows:CH.slice(),typography:bH(g,c),transitions:AH(l),zIndex:{...NH}});return w=Cr(w,f),w=e.reduce((R,I)=>Cr(R,I),w),w.unstable_sxConfig={...Zd,...f==null?void 0:f.unstable_sxConfig},w.unstable_sx=function(I){return Ba({sx:I,theme:this})},w.toRuntimeSource=$A,w}function jH(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const OH=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=jH(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function zA(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function HA(n){return n==="dark"?OH:[]}function LH(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...s}=n,i=zx(e);return{palette:i,opacity:{...zA(i.mode),...t},overlays:r||HA(i.mode),...s}}function DH(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const MH=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],FH=n=>(e,t)=>{const r=n.rootSelector||":root",s=n.colorSchemeSelector;let i=s;if(s==="class"&&(i=".%s"),s==="data"&&(i="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(i=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return MH(n.cssVarPrefix).forEach(c=>{l[c]=t[c],delete t[c]}),i==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:i?{[i.replace("%s",e)]:l,[`${r}, ${i.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(i)return i.replace("%s",String(e))}return r};function VH(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Z(n,e,t){!n[e]&&t&&(n[e]=t)}function Qu(n){return typeof n!="string"||!n.startsWith("hsl")?n:FA(n)}function xi(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Ku(Qu(n[e])))}function UH(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Fs=n=>{try{return n()}catch{}},BH=(n="mui")=>oH(n);function h0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!t){n[r]=LH({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:i,...l}=Ev({...t,palette:{mode:s,...e==null?void 0:e.palette}});return n[r]={...e,palette:i,opacity:{...zA(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||HA(s)},l}function $H(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:l=DH,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:h=":root",...f}=n,g=Object.keys(t)[0],y=r||(t.light&&g!=="light"?"light":g),w=BH(i),{[y]:R,light:I,dark:x,..._}=t,E={..._};let P=R;if((y==="dark"&&!("dark"in t)||y==="light"&&!("light"in t))&&(P=!0),!P)throw new Error(Ua(21,y));const A=h0(E,P,f,y);I&&!E.light&&h0(E,I,void 0,"light"),x&&!E.dark&&h0(E,x,void 0,"dark");let O={defaultColorScheme:y,...A,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:h,getCssVar:w,colorSchemes:E,font:{..._H(A.typography),...A.font},spacing:UH(f.spacing)};Object.keys(O.colorSchemes).forEach(N=>{const b=O.colorSchemes[N].palette,D=V=>{const B=V.split("-"),te=B[1],de=B[2];return w(V,b[te][de])};if(b.mode==="light"&&(Z(b.common,"background","#fff"),Z(b.common,"onBackground","#000")),b.mode==="dark"&&(Z(b.common,"background","#000"),Z(b.common,"onBackground","#fff")),VH(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){Z(b.Alert,"errorColor",pt(b.error.light,.6)),Z(b.Alert,"infoColor",pt(b.info.light,.6)),Z(b.Alert,"successColor",pt(b.success.light,.6)),Z(b.Alert,"warningColor",pt(b.warning.light,.6)),Z(b.Alert,"errorFilledBg",D("palette-error-main")),Z(b.Alert,"infoFilledBg",D("palette-info-main")),Z(b.Alert,"successFilledBg",D("palette-success-main")),Z(b.Alert,"warningFilledBg",D("palette-warning-main")),Z(b.Alert,"errorFilledColor",Fs(()=>b.getContrastText(b.error.main))),Z(b.Alert,"infoFilledColor",Fs(()=>b.getContrastText(b.info.main))),Z(b.Alert,"successFilledColor",Fs(()=>b.getContrastText(b.success.main))),Z(b.Alert,"warningFilledColor",Fs(()=>b.getContrastText(b.warning.main))),Z(b.Alert,"errorStandardBg",mt(b.error.light,.9)),Z(b.Alert,"infoStandardBg",mt(b.info.light,.9)),Z(b.Alert,"successStandardBg",mt(b.success.light,.9)),Z(b.Alert,"warningStandardBg",mt(b.warning.light,.9)),Z(b.Alert,"errorIconColor",D("palette-error-main")),Z(b.Alert,"infoIconColor",D("palette-info-main")),Z(b.Alert,"successIconColor",D("palette-success-main")),Z(b.Alert,"warningIconColor",D("palette-warning-main")),Z(b.AppBar,"defaultBg",D("palette-grey-100")),Z(b.Avatar,"defaultBg",D("palette-grey-400")),Z(b.Button,"inheritContainedBg",D("palette-grey-300")),Z(b.Button,"inheritContainedHoverBg",D("palette-grey-A100")),Z(b.Chip,"defaultBorder",D("palette-grey-400")),Z(b.Chip,"defaultAvatarColor",D("palette-grey-700")),Z(b.Chip,"defaultIconColor",D("palette-grey-700")),Z(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Z(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Z(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Z(b.LinearProgress,"primaryBg",mt(b.primary.main,.62)),Z(b.LinearProgress,"secondaryBg",mt(b.secondary.main,.62)),Z(b.LinearProgress,"errorBg",mt(b.error.main,.62)),Z(b.LinearProgress,"infoBg",mt(b.info.main,.62)),Z(b.LinearProgress,"successBg",mt(b.success.main,.62)),Z(b.LinearProgress,"warningBg",mt(b.warning.main,.62)),Z(b.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.11)`),Z(b.Slider,"primaryTrack",mt(b.primary.main,.62)),Z(b.Slider,"secondaryTrack",mt(b.secondary.main,.62)),Z(b.Slider,"errorTrack",mt(b.error.main,.62)),Z(b.Slider,"infoTrack",mt(b.info.main,.62)),Z(b.Slider,"successTrack",mt(b.success.main,.62)),Z(b.Slider,"warningTrack",mt(b.warning.main,.62));const V=jf(b.background.default,.8);Z(b.SnackbarContent,"bg",V),Z(b.SnackbarContent,"color",Fs(()=>b.getContrastText(V))),Z(b.SpeedDialAction,"fabHoverBg",jf(b.background.paper,.15)),Z(b.StepConnector,"border",D("palette-grey-400")),Z(b.StepContent,"border",D("palette-grey-400")),Z(b.Switch,"defaultColor",D("palette-common-white")),Z(b.Switch,"defaultDisabledColor",D("palette-grey-100")),Z(b.Switch,"primaryDisabledColor",mt(b.primary.main,.62)),Z(b.Switch,"secondaryDisabledColor",mt(b.secondary.main,.62)),Z(b.Switch,"errorDisabledColor",mt(b.error.main,.62)),Z(b.Switch,"infoDisabledColor",mt(b.info.main,.62)),Z(b.Switch,"successDisabledColor",mt(b.success.main,.62)),Z(b.Switch,"warningDisabledColor",mt(b.warning.main,.62)),Z(b.TableCell,"border",mt(Pf(b.divider,1),.88)),Z(b.Tooltip,"bg",Pf(b.grey[700],.92))}if(b.mode==="dark"){Z(b.Alert,"errorColor",mt(b.error.light,.6)),Z(b.Alert,"infoColor",mt(b.info.light,.6)),Z(b.Alert,"successColor",mt(b.success.light,.6)),Z(b.Alert,"warningColor",mt(b.warning.light,.6)),Z(b.Alert,"errorFilledBg",D("palette-error-dark")),Z(b.Alert,"infoFilledBg",D("palette-info-dark")),Z(b.Alert,"successFilledBg",D("palette-success-dark")),Z(b.Alert,"warningFilledBg",D("palette-warning-dark")),Z(b.Alert,"errorFilledColor",Fs(()=>b.getContrastText(b.error.dark))),Z(b.Alert,"infoFilledColor",Fs(()=>b.getContrastText(b.info.dark))),Z(b.Alert,"successFilledColor",Fs(()=>b.getContrastText(b.success.dark))),Z(b.Alert,"warningFilledColor",Fs(()=>b.getContrastText(b.warning.dark))),Z(b.Alert,"errorStandardBg",pt(b.error.light,.9)),Z(b.Alert,"infoStandardBg",pt(b.info.light,.9)),Z(b.Alert,"successStandardBg",pt(b.success.light,.9)),Z(b.Alert,"warningStandardBg",pt(b.warning.light,.9)),Z(b.Alert,"errorIconColor",D("palette-error-main")),Z(b.Alert,"infoIconColor",D("palette-info-main")),Z(b.Alert,"successIconColor",D("palette-success-main")),Z(b.Alert,"warningIconColor",D("palette-warning-main")),Z(b.AppBar,"defaultBg",D("palette-grey-900")),Z(b.AppBar,"darkBg",D("palette-background-paper")),Z(b.AppBar,"darkColor",D("palette-text-primary")),Z(b.Avatar,"defaultBg",D("palette-grey-600")),Z(b.Button,"inheritContainedBg",D("palette-grey-800")),Z(b.Button,"inheritContainedHoverBg",D("palette-grey-700")),Z(b.Chip,"defaultBorder",D("palette-grey-700")),Z(b.Chip,"defaultAvatarColor",D("palette-grey-300")),Z(b.Chip,"defaultIconColor",D("palette-grey-300")),Z(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Z(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Z(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Z(b.LinearProgress,"primaryBg",pt(b.primary.main,.5)),Z(b.LinearProgress,"secondaryBg",pt(b.secondary.main,.5)),Z(b.LinearProgress,"errorBg",pt(b.error.main,.5)),Z(b.LinearProgress,"infoBg",pt(b.info.main,.5)),Z(b.LinearProgress,"successBg",pt(b.success.main,.5)),Z(b.LinearProgress,"warningBg",pt(b.warning.main,.5)),Z(b.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.13)`),Z(b.Slider,"primaryTrack",pt(b.primary.main,.5)),Z(b.Slider,"secondaryTrack",pt(b.secondary.main,.5)),Z(b.Slider,"errorTrack",pt(b.error.main,.5)),Z(b.Slider,"infoTrack",pt(b.info.main,.5)),Z(b.Slider,"successTrack",pt(b.success.main,.5)),Z(b.Slider,"warningTrack",pt(b.warning.main,.5));const V=jf(b.background.default,.98);Z(b.SnackbarContent,"bg",V),Z(b.SnackbarContent,"color",Fs(()=>b.getContrastText(V))),Z(b.SpeedDialAction,"fabHoverBg",jf(b.background.paper,.15)),Z(b.StepConnector,"border",D("palette-grey-600")),Z(b.StepContent,"border",D("palette-grey-600")),Z(b.Switch,"defaultColor",D("palette-grey-300")),Z(b.Switch,"defaultDisabledColor",D("palette-grey-600")),Z(b.Switch,"primaryDisabledColor",pt(b.primary.main,.55)),Z(b.Switch,"secondaryDisabledColor",pt(b.secondary.main,.55)),Z(b.Switch,"errorDisabledColor",pt(b.error.main,.55)),Z(b.Switch,"infoDisabledColor",pt(b.info.main,.55)),Z(b.Switch,"successDisabledColor",pt(b.success.main,.55)),Z(b.Switch,"warningDisabledColor",pt(b.warning.main,.55)),Z(b.TableCell,"border",pt(Pf(b.divider,1),.68)),Z(b.Tooltip,"bg",Pf(b.grey[700],.92))}xi(b.background,"default"),xi(b.background,"paper"),xi(b.common,"background"),xi(b.common,"onBackground"),xi(b,"divider"),Object.keys(b).forEach(V=>{const B=b[V];V!=="tonalOffset"&&B&&typeof B=="object"&&(B.main&&Z(b[V],"mainChannel",Ku(Qu(B.main))),B.light&&Z(b[V],"lightChannel",Ku(Qu(B.light))),B.dark&&Z(b[V],"darkChannel",Ku(Qu(B.dark))),B.contrastText&&Z(b[V],"contrastTextChannel",Ku(Qu(B.contrastText))),V==="text"&&(xi(b[V],"primary"),xi(b[V],"secondary")),V==="action"&&(B.active&&xi(b[V],"active"),B.selected&&xi(b[V],"selected")))})}),O=e.reduce((N,b)=>Cr(N,b),O);const U={prefix:i,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:FH(O)},{vars:z,generateThemeVars:M,generateStyleSheets:L}=cH(O,U);return O.vars=z,Object.entries(O.colorSchemes[O.defaultColorScheme]).forEach(([N,b])=>{O[N]=b}),O.generateThemeVars=M,O.generateStyleSheets=L,O.generateSpacing=function(){return PA(f.spacing,Dx(this))},O.getColorSchemeSelector=uH(c),O.spacing=O.generateSpacing(),O.shouldSkipGeneratingVar=l,O.unstable_sxConfig={...Zd,...f==null?void 0:f.unstable_sxConfig},O.unstable_sx=function(b){return Ba({sx:b,theme:this})},O.toRuntimeSource=$A,O}function vT(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:zx({...t===!0?{}:t.palette,mode:e})})}function WA(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:i=t==null?void 0:t.mode,...l}=n,c=i||"light",h=s==null?void 0:s[c],f={...s,...t?{[c]:{...typeof h!="boolean"&&h,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Ev(n,...e);let g=t;"palette"in n||f[c]&&(f[c]!==!0?g=f[c].palette:c==="dark"&&(g={mode:"dark"}));const y=Ev({...n,palette:g},...e);return y.defaultColorScheme=c,y.colorSchemes=f,y.palette.mode==="light"&&(y.colorSchemes.light={...f.light!==!0&&f.light,palette:y.palette},vT(y,"dark",f.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:y.palette},vT(y,"light",f.light)),y}return!t&&!("light"in f)&&c==="light"&&(f.light=!0),$H({...l,colorSchemes:f,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const zH=WA();function qA(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const HH=n=>qA(n)&&n!=="classes",Lc=H7({themeId:VA,defaultTheme:zH,rootShouldForwardProp:HH}),WH=zm("MuiBox",["root"]),qH=WA(),GH=V7({themeId:VA,defaultTheme:qH,defaultClassName:WH.root,generateClassName:OA.generate}),KH={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function _T(n){try{return n.matches(":focus-visible")}catch{}return!1}function QH(){return jA}const Wm=iH;function Hx(n){return sH(n)}function YH(n){return $m("MuiSvgIcon",n)}zm("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const XH=n=>{const{color:e,fontSize:t,classes:r}=n,s={root:["root",e!=="inherit"&&`color${Es(e)}`,`fontSize${Es(t)}`]};return $x(s,YH,r)},JH=Lc("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Es(t.color)}`],e[`fontSize${Es(t.fontSize)}`]]}})(Wm(({theme:n})=>{var e,t,r,s,i,l,c,h,f,g,y,w,R,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=n.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(i=n.typography)==null?void 0:i.pxToRem)==null?void 0:l.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((h=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,x])=>x&&x.main).map(([x])=>{var _,E;return{props:{color:x},style:{color:(E=(_=(n.vars??n).palette)==null?void 0:_[x])==null?void 0:E.main}}}),{props:{color:"action"},style:{color:(w=(y=(n.vars??n).palette)==null?void 0:y.action)==null?void 0:w.active}},{props:{color:"disabled"},style:{color:(I=(R=(n.vars??n).palette)==null?void 0:R.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Sv=C.forwardRef(function(e,t){const r=Hx({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:l="inherit",component:c="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:y,viewBox:w="0 0 24 24",...R}=r,I=C.isValidElement(s)&&s.type==="svg",x={...r,color:l,component:c,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:w,hasSvgAsChild:I},_={};g||(_.viewBox=w);const E=XH(x);return u.jsxs(JH,{as:c,className:xs(E.root,i),focusable:"false",color:f,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:t,..._,...R,...I&&s.props,ownerState:x,children:[I?s.props.children:s,y?u.jsx("title",{children:y}):null]})});Sv.muiName="SvgIcon";function GA(n,e){function t(r,s){return u.jsx(Sv,{"data-testid":void 0,ref:s,...r,children:n})}return t.muiName=Sv.muiName,C.memo(C.forwardRef(t))}let xT=0;function ZH(n){const[e,t]=C.useState(n),r=n||e;return C.useEffect(()=>{e==null&&(xT+=1,t(`mui-${xT}`))},[e]),r}const eW={...v0},wT=eW.useId;function KA(n){if(wT!==void 0){const e=wT();return n??e}return ZH(n)}function tW(n){const{controlled:e,default:t}=n,{current:r}=C.useRef(e!==void 0),[s,i]=C.useState(t),l=r?e:s,c=C.useCallback(h=>{r||i(h)},[]);return[l,c]}function QA(...n){const e=C.useRef(void 0),t=C.useCallback(r=>{const s=n.map(i=>{if(i==null)return null;if(typeof i=="function"){const l=i,c=l(r);return typeof c=="function"?c:()=>{l(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},n);return C.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const nW=GA(u.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),rW=GA(u.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function sW(n){return $m("MuiRating",n)}const Uu=zm("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function iW(n){return typeof n=="string"}function oW(n,e,t){return n===void 0||iW(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function aW(n,e,t){return typeof n=="function"?n(e,t):n}function lW(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function bT(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function cW(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:s,className:i}=n;if(!e){const R=xs(t==null?void 0:t.className,i,s==null?void 0:s.className,r==null?void 0:r.className),I={...t==null?void 0:t.style,...s==null?void 0:s.style,...r==null?void 0:r.style},x={...t,...s,...r};return R.length>0&&(x.className=R),Object.keys(I).length>0&&(x.style=I),{props:x,internalRef:void 0}}const l=lW({...s,...r}),c=bT(r),h=bT(s),f=e(l),g=xs(f==null?void 0:f.className,t==null?void 0:t.className,i,s==null?void 0:s.className,r==null?void 0:r.className),y={...f==null?void 0:f.style,...t==null?void 0:t.style,...s==null?void 0:s.style,...r==null?void 0:r.style},w={...f,...t,...h,...c};return g.length>0&&(w.className=g),Object.keys(y).length>0&&(w.style=y),{props:w,internalRef:f.ref}}function ld(n,e){const{className:t,elementType:r,ownerState:s,externalForwardedProps:i,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...h}=e,{component:f,slots:g={[n]:void 0},slotProps:y={[n]:void 0},...w}=i,R=g[n]||r,I=aW(y[n],s),{props:{component:x,..._},internalRef:E}=cW({className:t,...h,externalForwardedProps:n==="root"?w:void 0,externalSlotProps:I}),P=QA(E,I==null?void 0:I.ref,e.ref),A=n==="root"?x||f:x,O=oW(R,{...n==="root"&&!f&&!g[n]&&l,...n!=="root"&&!g[n]&&l,..._,...A&&!c&&{as:A},...A&&c&&{component:A},ref:P},s);return[R,O]}function uW(n){const e=n.toString().split(".")[1];return e?e.length:0}function f0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(uW(e)))}const dW=n=>{const{classes:e,size:t,readOnly:r,disabled:s,emptyValueFocused:i,focusVisible:l}=n,c={root:["root",`size${Es(t)}`,s&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[i&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return $x(c,sW,e)},hW=Lc("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Uu.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Es(t.size)}`],t.readOnly&&e.readOnly]}})(Wm(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Uu.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Uu.focusVisible} .${Uu.iconActive}`]:{outline:"1px solid #999"},[`& .${Uu.visuallyHidden}`]:KH,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),YA=Lc("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),fW=Lc("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Wm(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),pW=Lc("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>qA(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function mW(n){const{value:e,...t}=n;return u.jsx("span",{...t})}function ET(n){const{classes:e,disabled:t,emptyIcon:r,focus:s,getLabelText:i,highlightSelectedOnly:l,hover:c,icon:h,IconContainerComponent:f,isActive:g,itemValue:y,labelProps:w,name:R,onBlur:I,onChange:x,onClick:_,onFocus:E,readOnly:P,ownerState:A,ratingValue:O,ratingValueRounded:U,slots:z={},slotProps:M={}}=n,L=l?y===O:y<=O,N=y<=c,b=y<=s,D=y===U,V=`${R}-${KA()}`,B={slots:z,slotProps:M},[te,de]=ld("icon",{elementType:fW,className:xs(e.icon,L?e.iconFilled:e.iconEmpty,N&&e.iconHover,b&&e.iconFocus,g&&e.iconActive),externalForwardedProps:B,ownerState:{...A,iconEmpty:!L,iconFilled:L,iconHover:N,iconFocus:b,iconActive:g},additionalProps:{value:y},internalForwardedProps:{as:f}}),[Ie,ke]=ld("label",{elementType:YA,externalForwardedProps:B,ownerState:{...A,emptyValueFocused:void 0},additionalProps:{style:w==null?void 0:w.style,htmlFor:V}}),ae=u.jsx(te,{...de,children:r&&!L?r:h});return P?u.jsx("span",{...w,children:ae}):u.jsxs(C.Fragment,{children:[u.jsxs(Ie,{...ke,children:[ae,u.jsx("span",{className:e.visuallyHidden,children:i(y)})]}),u.jsx("input",{className:e.visuallyHidden,onFocus:E,onBlur:I,onChange:x,onClick:_,disabled:t,value:y,id:V,type:"radio",name:R,checked:D})]})}const gW=u.jsx(nW,{fontSize:"inherit"}),yW=u.jsx(rW,{fontSize:"inherit"});function vW(n){return`${n||"0"} Star${n!==1?"s":""}`}const _W=C.forwardRef(function(e,t){const r=Hx({name:"MuiRating",props:e}),{component:s="span",className:i,defaultValue:l=null,disabled:c=!1,emptyIcon:h=yW,emptyLabelText:f="Empty",getLabelText:g=vW,highlightSelectedOnly:y=!1,icon:w=gW,IconContainerComponent:R=mW,max:I=5,name:x,onChange:_,onChangeActive:E,onMouseLeave:P,onMouseMove:A,precision:O=1,readOnly:U=!1,size:z="medium",value:M,slots:L={},slotProps:N={},...b}=r,D=KA(x),[V,B]=tW({controlled:M,default:l}),te=f0(V,O),de=tH(),[{hover:Ie,focus:ke},ae]=C.useState({hover:-1,focus:-1});let pe=te;Ie!==-1&&(pe=Ie),ke!==-1&&(pe=ke);const[he,q]=C.useState(!1),ne=C.useRef(),xe=QA(ne,t),Pe=Me=>{A&&A(Me);const ct=ne.current,{right:It,left:Zr,width:Or}=ct.getBoundingClientRect();let gt;de?gt=(It-Me.clientX)/Or:gt=(Me.clientX-Zr)/Or;let it=f0(I*gt+O/2,O);it=MA(it,O,I),ae(mn=>mn.hover===it&&mn.focus===it?mn:{hover:it,focus:it}),q(!1),E&&Ie!==it&&E(Me,it)},De=Me=>{P&&P(Me);const ct=-1;ae({hover:ct,focus:ct}),E&&Ie!==ct&&E(Me,ct)},Ve=Me=>{let ct=Me.target.value===""?null:parseFloat(Me.target.value);Ie!==-1&&(ct=Ie),B(ct),_&&_(Me,ct)},Xe=Me=>{Me.clientX===0&&Me.clientY===0||(ae({hover:-1,focus:-1}),B(null),_&&parseFloat(Me.target.value)===te&&_(Me,null))},Je=Me=>{_T(Me.target)&&q(!0);const ct=parseFloat(Me.target.value);ae(It=>({hover:It.hover,focus:ct}))},lt=Me=>{if(Ie!==-1)return;_T(Me.target)||q(!1);const ct=-1;ae(It=>({hover:It.hover,focus:ct}))},[qt,Nr]=C.useState(!1),Pr={...r,component:s,defaultValue:l,disabled:c,emptyIcon:h,emptyLabelText:f,emptyValueFocused:qt,focusVisible:he,getLabelText:g,icon:w,IconContainerComponent:R,max:I,precision:O,readOnly:U,size:z},pn=dW(Pr),Jr={slots:L,slotProps:N},[zi,Ko]=ld("root",{ref:xe,className:xs(pn.root,i),elementType:hW,externalForwardedProps:{...Jr,...b,component:s},getSlotProps:Me=>({...Me,onMouseMove:ct=>{var It;Pe(ct),(It=Me.onMouseMove)==null||It.call(Me,ct)},onMouseLeave:ct=>{var It;De(ct),(It=Me.onMouseLeave)==null||It.call(Me,ct)}}),ownerState:Pr,additionalProps:{role:U?"img":null,"aria-label":U?g(pe):null}}),[Qo,Ka]=ld("label",{className:xs(pn.label,pn.labelEmptyValue),elementType:YA,externalForwardedProps:Jr,ownerState:Pr}),[Hi,jr]=ld("decimal",{className:pn.decimal,elementType:pW,externalForwardedProps:Jr,ownerState:Pr});return u.jsxs(zi,{...Ko,children:[Array.from(new Array(I)).map((Me,ct)=>{const It=ct+1,Zr={classes:pn,disabled:c,emptyIcon:h,focus:ke,getLabelText:g,highlightSelectedOnly:y,hover:Ie,icon:w,IconContainerComponent:R,name:D,onBlur:lt,onChange:Ve,onClick:Xe,onFocus:Je,ratingValue:pe,ratingValueRounded:te,readOnly:U,ownerState:Pr,slots:L,slotProps:N},Or=It===Math.ceil(pe)&&(Ie!==-1||ke!==-1);if(O<1){const gt=Array.from(new Array(1/O));return C.createElement(Hi,{...jr,key:It,className:xs(jr.className,Or&&pn.iconActive),iconActive:Or},gt.map((it,mn)=>{const si=f0(It-1+(mn+1)*O,O);return u.jsx(ET,{...Zr,isActive:!1,itemValue:si,labelProps:{style:gt.length-1===mn?{}:{width:si===pe?`${(mn+1)*O*100}%`:"0%",overflow:"hidden",position:"absolute"}}},si)}))}return u.jsx(ET,{...Zr,isActive:Or,itemValue:It},It)}),!U&&!c&&u.jsxs(Qo,{...Ka,children:[u.jsx("input",{className:pn.visuallyHidden,value:"",id:`${D}-empty`,type:"radio",name:D,checked:te==null,onFocus:()=>Nr(!0),onBlur:()=>Nr(!1),onChange:Ve}),u.jsx("span",{className:pn.visuallyHidden,children:f})]})]})});function xW(n){return typeof n.main=="string"}function wW(n,e=[]){if(!xW(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function bW(n=[]){return([,e])=>e&&wW(e,n)}function EW(n){return $m("MuiTypography",n)}zm("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const SW={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},TW=QH(),CW=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:s,variant:i,classes:l}=n,c={root:["root",i,n.align!=="inherit"&&`align${Es(e)}`,t&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return $x(c,EW,l)},IW=Lc("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Es(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Wm(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(n.palette).filter(bW()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Es(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),ST={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},RW=C.forwardRef(function(e,t){const{color:r,...s}=Hx({props:e,name:"MuiTypography"}),i=!SW[r],l=TW({...s,...i&&{color:r}}),{align:c="inherit",className:h,component:f,gutterBottom:g=!1,noWrap:y=!1,paragraph:w=!1,variant:R="body1",variantMapping:I=ST,...x}=l,_={...l,align:c,color:r,className:h,component:f,gutterBottom:g,noWrap:y,paragraph:w,variant:R,variantMapping:I},E=f||(w?"p":I[R]||ST[R])||"span",P=CW(_);return u.jsx(IW,{as:E,ref:t,className:xs(P.root,h),...x,ownerState:_,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})});function kW({value:n=0}){return u.jsxs(GH,{sx:{"& > legend":{mt:2}},children:[u.jsx(RW,{component:"legend",children:"Rating"}),u.jsx(_W,{name:"read-only",value:n,readOnly:!0})]})}const AW=()=>{const{profile:n}=C.useContext(Ga),{currentUser:e}=sn(),t=Ye(),[r,s]=C.useState([]),[i,l]=C.useState([]),[c,h]=C.useState([]),[f,g]=C.useState([]),[y,w]=C.useState(!0),[R,I]=C.useState(null);C.useEffect(()=>{if(!(n!=null&&n.role)||n.role!=="contractor"||!e){w(!1);return}(async()=>{try{console.log("Fetching projects for contractor:",e.uid),w(!0);const E=wr(sr(Pt,"projects"),Pn("status","==","submitted")),P=wr(sr(Pt,"projects"),Pn("status","==","inquiry"),Pn("inquiredBy","array-contains",e.uid)),A=wr(sr(Pt,"projects"),Pn("status","==","pending_approval"),Pn("requestedBy","array-contains",e.uid)),O=wr(sr(Pt,"projects"),Pn("status","==","in progress"),Pn("contractorId","==",e.uid));try{const[U,z,M,L]=await Promise.all([br(E),br(P),br(A),br(O)]);console.log("Available projects count:",U.size),console.log("Inquired projects count:",z.size),console.log("Pending approval projects count:",M.size),console.log("In Progress projects count:",L.size);const N=U.docs.map(B=>({id:B.id,...B.data()})),b=z.docs.map(B=>({id:B.id,...B.data()})),D=M.docs.map(B=>({id:B.id,...B.data()})),V=L.docs.map(B=>({id:B.id,...B.data()}));s(N),l(b),h(D),g(V),I(null)}catch(U){console.error("Error in queries:",U),I("Failed to load projects. Please try again later."),s([]),l([]),h([]),g([])}}catch(E){console.error("Error fetching projects:",E),I(E.message),s([]),l([]),h([]),g([])}finally{w(!1)}})()},[e,n]);const x=_=>{t(`/projects/view/${_}`)};return u.jsxs(u.Fragment,{children:[u.jsx(s$,{}),u.jsxs("div",{className:"main-content max-w-6xl mx-auto p-6 pb-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-24",children:[u.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center p-4 border rounded shadow",children:[u.jsx("h2",{className:"text-2xl font-bold mt-4",children:(n==null?void 0:n.username)||(n==null?void 0:n.firstName)||"Contractor"}),u.jsx("img",{src:V8,alt:"profile",className:"w-24 h-24 rounded-full my-2"}),u.jsx("p",{className:"text-gray-500",children:n==null?void 0:n.email}),(n==null?void 0:n.role)==="contractor"&&u.jsxs("div",{className:"mt-2",children:[u.jsx(kW,{value:n.rating||0,readOnly:!0}),u.jsxs("p",{className:"text-sm text-gray-500",children:[n.reviewCount||0," review",n.reviewCount===1?"":"s"]})]}),u.jsx(at,{to:"/edit-profile",children:u.jsx("button",{className:"mt-2 bg-blue-500 text-white px-4 py-2 rounded",children:"Edit Profile"})})]}),u.jsxs("div",{className:"p-4 border rounded shadow md:col-span-2",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Quick Stats"}),u.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[u.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[u.jsx("p",{className:"text-blue-700 font-medium",children:r.length}),u.jsx("p",{className:"text-sm text-gray-600",children:"Available"})]}),u.jsxs("div",{className:"bg-yellow-50 p-3 rounded",children:[u.jsx("p",{className:"text-yellow-700 font-medium",children:i.length}),u.jsx("p",{className:"text-sm text-gray-600",children:"Inquired"})]}),u.jsxs("div",{className:"bg-orange-50 p-3 rounded",children:[u.jsx("p",{className:"text-orange-700 font-medium",children:c.length}),u.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"})]}),u.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[u.jsx("p",{className:"text-green-700 font-medium",children:f.length}),u.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"})]})]}),u.jsxs("div",{className:"mt-4 flex gap-4",children:[u.jsx(at,{to:"/available-projects",children:u.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Browse All Projects"})}),u.jsx(at,{to:"/messages",children:u.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Messages"})})]})]})]}),y?u.jsx("div",{className:"text-center mt-8 p-4",children:"Loading projects..."}):R?u.jsx("div",{className:"text-center mt-8 p-4 text-red-500",children:R}):u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Available Projects"}),u.jsx(at,{to:"/available-projects",className:"text-blue-500 hover:underline",children:"View All"})]}),r.length===0?u.jsx("p",{className:"text-gray-500",children:"No available projects at the moment."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.slice(0,3).map(_=>{var E;return u.jsxs("div",{className:"border p-4 rounded shadow relative",children:[u.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-blue-100 text-blue-800",children:"New"}),u.jsx("h3",{className:"font-semibold mb-2",children:_.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:_.description}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:((E=_.flooringOption)==null?void 0:E.title)||"Not specified"}),u.jsx("button",{onClick:()=>x(_.id),className:"text-blue-600 hover:underline text-sm",children:"View Details"})]})]},_.id)})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects You've Inquired About"}),i.length===0?u.jsx("p",{className:"text-gray-500",children:"You haven't inquired about any projects yet."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(_=>{var E;return u.jsxs("div",{className:"border p-4 rounded shadow relative",children:[u.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-yellow-100 text-yellow-800",children:"Inquired"}),u.jsx("h3",{className:"font-semibold mb-2",children:_.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:_.description}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:((E=_.flooringOption)==null?void 0:E.title)||"Not specified"}),u.jsx("button",{onClick:()=>x(_.id),className:"text-yellow-600 hover:underline text-sm",children:"View Inquiry"})]})]},_.id)})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects Pending Approval"}),c.length===0?u.jsx("p",{className:"text-gray-500",children:"No projects pending approval."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(_=>{var E;return u.jsxs("div",{className:"border p-4 rounded shadow relative",children:[u.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-orange-100 text-orange-800",children:"Pending Approval"}),u.jsx("h3",{className:"font-semibold mb-2",children:_.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:_.description}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:((E=_.flooringOption)==null?void 0:E.title)||"Not specified"}),u.jsx("button",{onClick:()=>x(_.id),className:"text-orange-600 hover:underline text-sm",children:"View Details"})]})]},_.id)})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects In Progress"}),f.length===0?u.jsx("p",{className:"text-gray-500",children:"No projects in progress."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(_=>{var E;return u.jsxs("div",{className:"border p-4 rounded shadow relative",children:[u.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:"In Progress"}),u.jsx("h3",{className:"font-semibold mb-2",children:_.title}),u.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:_.description}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:((E=_.flooringOption)==null?void 0:E.title)||"Not specified"}),u.jsx("button",{onClick:()=>x(_.id),className:"text-green-600 hover:underline text-sm",children:"View Project"})]})]},_.id)})})]})]})]})]})},Tv=async({projectId:n,customerId:e,contractorId:t,status:r="inquiry"})=>{const s=`${n}_${t}`,i=Nt(Pt,"conversations",s);return(await Fn(i)).exists()||await z_(i,{projectId:n,customerId:e,contractorId:t,participants:[e,t],status:r,createdAt:b6()}),s},NW=()=>{var g,y,w,R;const{projectId:n}=xc();console.log("Project ID from URL:",n);const e=Ye(),{profile:t,user:r}=Kd(),[s,i]=C.useState(null),[l,c]=C.useState(!0);C.useEffect(()=>{(async()=>{if(!n){console.error("No project ID provided in URL"),c(!1);return}try{const x=Nt(Pt,"projects",n),_=await Fn(x);_.exists()&&i({id:_.id,..._.data()})}catch(x){console.error("Error fetching project:",x.message)}finally{c(!1)}})()},[n]);const h=async()=>{try{const I=Nt(Pt,"projects",n);await vs(I,{status:"inquiry",inquiredBy:[...s.inquiredBy||[],r.uid]});const x=await Tv({projectId:n,customerId:s.ownerId,contractorId:r.uid,status:"inquiry"});e("/messages")}catch(I){console.error("Error inquiring about project:",I.message)}},f=async()=>{try{const I=Nt(Pt,"projects",n);await vs(I,{status:"pending_approval",requestedBy:[...s.requestedBy||[],r.uid]}),e("/contractor-dashboard")}catch(I){console.error("Error requestin acceptance:",I.message)}};return l?u.jsx("div",{children:"Loading project..."}):s?u.jsxs("div",{className:"p-6 max-w-4xl mx-auto mt-24",children:[u.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:u.jsx("div",{className:"logo cursor-pointer",onClick:()=>e(-1),children:" return "})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:s.title}),u.jsx("p",{className:"text-gray-700 mb-4",children:s.description}),u.jsxs("p",{children:["Material: ",(g=s.flooringOption)==null?void 0:g.title]}),u.jsxs("p",{children:["Area: ",(y=s.roomDimensions)==null?void 0:y.length," x ",(w=s.roomDimensions)==null?void 0:w.width," ft"]}),(t==null?void 0:t.role)==="contractor"&&u.jsx("div",{className:"mt-6 flex gap-4",children:s.status==="in progress"&&s.contractorId===r.uid?u.jsx("button",{onClick:()=>e("/messages/"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"View Conversation"}):s.status==="inquiry"&&((R=s.inquiredBy)!=null&&R.includes(r.uid))?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>e("/messages/"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"View Conversation"}),u.jsx("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Request Acceptance"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:h,className:"bg-yellow-500 text-white px-4 py-2 rounded",children:"Inquire"}),u.jsx("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Request Acceptance"})]})})]}):u.jsx("div",{children:"Project not found."})},PW=()=>{const{id:n}=xc(),[e,t]=C.useState([]),[r,s]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const h=Nt(Pt,"projects",n),f=await Fn(h);if(!f.exists()){console.error("Project not found"),s(!1);return}const y=f.data().requestedBy||[],w=await Promise.all(y.map(async R=>{const I=await Fn(Nt(Pt,"users",R));return I.exists()?{uid:R,...I.data()}:null}));t(w.filter(Boolean))}catch(h){console.error("Error fetching contractor requests:",h)}finally{s(!1)}})()},[n]);const i=async c=>{try{const h=Nt(Pt,"projects",n);await vs(h,{contractorId:c,status:"in progress"});const f=await Fn(h);if(f.exists()){const y=(f.data().requestedBy||[]).filter(w=>w!==c);await vs(h,{requestedBy:y}),t(w=>w.filter(R=>R.uid!==c))}}catch(h){console.error("Error approving contractor:",h)}},l=async c=>{try{const h=Nt(Pt,"projects",n),f=await Fn(h);if(!f.exists())return;const y=(f.data().requestedBy||[]).filter(w=>w!==c);await vs(h,{requestedBy:y}),t(w=>w.filter(R=>R.uid!==c))}catch(h){console.error("Error denying contractor:",h)}};return r?u.jsx("div",{className:"p-4",children:"Loading contractor requests..."}):u.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contractor Requests"}),e.length===0?u.jsx("p",{children:"No contractor requests yet."}):u.jsx("ul",{className:"space-y-4",children:e.map(c=>u.jsxs("li",{className:"p-4 border rounded shadow",children:[u.jsxs("h2",{className:"text-lg font-semibold",children:[c.firstName," ",c.lastName]}),u.jsx("p",{className:"text-sm text-gray-600",children:c.email}),u.jsx("p",{className:"text-sm text-gray-500",children:c.role}),u.jsxs("div",{className:"mt-2 flex gap-2",children:[u.jsx("button",{onClick:()=>i(c.uid),className:"bg-green-600 text-white px-4 py-1 rounded",children:"Approve"}),u.jsx("button",{onClick:()=>l(c.uid),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Deny"})]})]},c.uid))})]})},jW=()=>{const{id:n}=xc(),e=Ye(),{user:t}=Kd(),[r,s]=C.useState([]),[i,l]=C.useState(null),[c,h]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const R=Nt(Pt,"projects",n),I=await Fn(R);if(!I.exists()){console.error("Project not found"),h(!1);return}const x={id:I.id,...I.data()};l(x);const _=x.inquiredBy||[],E=await Promise.all(_.map(async O=>{const U=await Fn(Nt(Pt,"users",O));return U.exists()?{uid:O,...U.data()}:null})),P=[],A=new Set;for(const O of E)O&&!A.has(O.uid)&&(A.add(O.uid),P.push(O));s(P)}catch(R){console.error("Error fetching contractor inquiries:",R)}finally{h(!1)}})()},[n]);const f=async w=>{try{const R=await Tv({projectId:n,customerId:t.uid,contractorId:w,status:"inquiry"});e("/messages")}catch(R){console.error("Error viewing messages:",R)}},g=async w=>{try{const R=Nt(Pt,"projects",n);await vs(R,{contractorId:w,status:"in progress"}),await Tv({projectId:n,customerId:t.uid,contractorId:w,status:"in_progress"});const I=await Fn(R);if(I.exists()){const _=(I.data().inquiredBy||[]).filter(E=>E!==w);await vs(R,{inquiredBy:_})}e("/projects")}catch(R){console.error("Error accepting contractor:",R)}},y=async w=>{try{const R=Nt(Pt,"projects",n),I=await Fn(R);if(!I.exists())return;const _=(I.data().inquiredBy||[]).filter(E=>E!==w);await vs(R,{inquiredBy:_}),s(E=>E.filter(P=>P.uid!==w))}catch(R){console.error("Error removing contractor inquiry:",R)}};return c?u.jsx("div",{className:"p-4",children:"Loading contractor inquiries..."}):u.jsxs("div",{className:"p-6 max-w-3xl mx-auto mt-24",children:[u.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:u.jsx(at,{to:"/ProfileDashboard",children:u.jsx("div",{className:"logo",children:" return "})})}),u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contractor Inquiries"}),i&&u.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h2",{className:"font-semibold text-lg",children:i.title}),u.jsx("p",{className:"text-sm text-gray-600",children:i.description})]}),r.length===0?u.jsx("p",{children:"No contractor inquiries yet."}):u.jsx("ul",{className:"space-y-4",children:r.map(w=>u.jsxs("li",{className:"p-4 border rounded shadow",children:[u.jsxs("h2",{className:"text-lg font-semibold",children:[w.firstName," ",w.lastName]}),u.jsx("p",{className:"text-sm text-gray-600",children:w.email}),u.jsx("p",{className:"text-sm text-gray-500",children:w.role}),u.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>f(w.uid),className:"bg-blue-600 text-white px-4 py-1 rounded",children:"View Message"}),u.jsx("button",{onClick:()=>g(w.uid),className:"bg-green-600 text-white px-4 py-1 rounded",children:"Accept"}),u.jsx("button",{onClick:()=>y(w.uid),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Decline"})]})]},w.uid))})]})};function XA(n,e){return function(){return n.apply(e,arguments)}}const{toString:OW}=Object.prototype,{getPrototypeOf:Wx}=Object,qm=(n=>e=>{const t=OW.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Cs=n=>(n=n.toLowerCase(),e=>qm(e)===n),Gm=n=>e=>typeof e===n,{isArray:Dc}=Array,Id=Gm("undefined");function LW(n){return n!==null&&!Id(n)&&n.constructor!==null&&!Id(n.constructor)&&Ir(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const JA=Cs("ArrayBuffer");function DW(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&JA(n.buffer),e}const MW=Gm("string"),Ir=Gm("function"),ZA=Gm("number"),Km=n=>n!==null&&typeof n=="object",FW=n=>n===!0||n===!1,ep=n=>{if(qm(n)!=="object")return!1;const e=Wx(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},VW=Cs("Date"),UW=Cs("File"),BW=Cs("Blob"),$W=Cs("FileList"),zW=n=>Km(n)&&Ir(n.pipe),HW=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ir(n.append)&&((e=qm(n))==="formdata"||e==="object"&&Ir(n.toString)&&n.toString()==="[object FormData]"))},WW=Cs("URLSearchParams"),[qW,GW,KW,QW]=["ReadableStream","Request","Response","Headers"].map(Cs),YW=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Dc(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),l=i.length;let c;for(r=0;r<l;r++)c=i[r],e.call(null,n[c],c,n)}}function eN(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tN=n=>!Id(n)&&n!==Ra;function Cv(){const{caseless:n}=tN(this)&&this||{},e={},t=(r,s)=>{const i=n&&eN(e,s)||s;ep(e[i])&&ep(r)?e[i]=Cv(e[i],r):ep(r)?e[i]=Cv({},r):Dc(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&eh(arguments[r],t);return e}const XW=(n,e,t,{allOwnKeys:r}={})=>(eh(e,(s,i)=>{t&&Ir(s)?n[i]=XA(s,t):n[i]=s},{allOwnKeys:r}),n),JW=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ZW=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},eq=(n,e,t,r)=>{let s,i,l;const c={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),i=s.length;i-- >0;)l=s[i],(!r||r(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=t!==!1&&Wx(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},tq=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},nq=n=>{if(!n)return null;if(Dc(n))return n;let e=n.length;if(!ZA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},rq=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Wx(Uint8Array)),sq=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(n,i[0],i[1])}},iq=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},oq=Cs("HTMLFormElement"),aq=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),TT=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),lq=Cs("RegExp"),nN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};eh(t,(s,i)=>{let l;(l=e(s,i,n))!==!1&&(r[i]=l||s)}),Object.defineProperties(n,r)},cq=n=>{nN(n,(e,t)=>{if(Ir(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ir(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},uq=(n,e)=>{const t={},r=s=>{s.forEach(i=>{t[i]=!0})};return Dc(n)?r(n):r(String(n).split(e)),t},dq=()=>{},hq=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function fq(n){return!!(n&&Ir(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const pq=n=>{const e=new Array(10),t=(r,s)=>{if(Km(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Dc(r)?[]:{};return eh(r,(l,c)=>{const h=t(l,s+1);!Id(h)&&(i[c]=h)}),e[s]=void 0,i}}return r};return t(n,0)},mq=Cs("AsyncFunction"),gq=n=>n&&(Km(n)||Ir(n))&&Ir(n.then)&&Ir(n.catch),rN=((n,e)=>n?setImmediate:e?((t,r)=>(Ra.addEventListener("message",({source:s,data:i})=>{s===Ra&&i===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Ra.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ir(Ra.postMessage)),yq=typeof queueMicrotask<"u"?queueMicrotask.bind(Ra):typeof process<"u"&&process.nextTick||rN,J={isArray:Dc,isArrayBuffer:JA,isBuffer:LW,isFormData:HW,isArrayBufferView:DW,isString:MW,isNumber:ZA,isBoolean:FW,isObject:Km,isPlainObject:ep,isReadableStream:qW,isRequest:GW,isResponse:KW,isHeaders:QW,isUndefined:Id,isDate:VW,isFile:UW,isBlob:BW,isRegExp:lq,isFunction:Ir,isStream:zW,isURLSearchParams:WW,isTypedArray:rq,isFileList:$W,forEach:eh,merge:Cv,extend:XW,trim:YW,stripBOM:JW,inherits:ZW,toFlatObject:eq,kindOf:qm,kindOfTest:Cs,endsWith:tq,toArray:nq,forEachEntry:sq,matchAll:iq,isHTMLForm:oq,hasOwnProperty:TT,hasOwnProp:TT,reduceDescriptors:nN,freezeMethods:cq,toObjectSet:uq,toCamelCase:aq,noop:dq,toFiniteNumber:hq,findKey:eN,global:Ra,isContextDefined:tN,isSpecCompliantForm:fq,toJSONObject:pq,isAsyncFn:mq,isThenable:gq,setImmediate:rN,asap:yq};function Oe(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}J.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const sN=Oe.prototype,iN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{iN[n]={value:n}});Object.defineProperties(Oe,iN);Object.defineProperty(sN,"isAxiosError",{value:!0});Oe.from=(n,e,t,r,s,i)=>{const l=Object.create(sN);return J.toFlatObject(n,l,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),Oe.call(l,n.message,e,t,r,s),l.cause=n,l.name=n.name,i&&Object.assign(l,i),l};const vq=null;function Iv(n){return J.isPlainObject(n)||J.isArray(n)}function oN(n){return J.endsWith(n,"[]")?n.slice(0,-2):n}function CT(n,e,t){return n?n.concat(e).map(function(s,i){return s=oN(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function _q(n){return J.isArray(n)&&!n.some(Iv)}const xq=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function Qm(n,e,t){if(!J.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=J.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,_){return!J.isUndefined(_[x])});const r=t.metaTokens,s=t.visitor||g,i=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(s))throw new TypeError("visitor must be a function");function f(I){if(I===null)return"";if(J.isDate(I))return I.toISOString();if(!h&&J.isBlob(I))throw new Oe("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(I)||J.isTypedArray(I)?h&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function g(I,x,_){let E=I;if(I&&!_&&typeof I=="object"){if(J.endsWith(x,"{}"))x=r?x:x.slice(0,-2),I=JSON.stringify(I);else if(J.isArray(I)&&_q(I)||(J.isFileList(I)||J.endsWith(x,"[]"))&&(E=J.toArray(I)))return x=oN(x),E.forEach(function(A,O){!(J.isUndefined(A)||A===null)&&e.append(l===!0?CT([x],O,i):l===null?x:x+"[]",f(A))}),!1}return Iv(I)?!0:(e.append(CT(_,x,i),f(I)),!1)}const y=[],w=Object.assign(xq,{defaultVisitor:g,convertValue:f,isVisitable:Iv});function R(I,x){if(!J.isUndefined(I)){if(y.indexOf(I)!==-1)throw Error("Circular reference detected in "+x.join("."));y.push(I),J.forEach(I,function(E,P){(!(J.isUndefined(E)||E===null)&&s.call(e,E,J.isString(P)?P.trim():P,x,w))===!0&&R(E,x?x.concat(P):[P])}),y.pop()}}if(!J.isObject(n))throw new TypeError("data must be an object");return R(n),e}function IT(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function qx(n,e){this._pairs=[],n&&Qm(n,this,e)}const aN=qx.prototype;aN.append=function(e,t){this._pairs.push([e,t])};aN.toString=function(e){const t=e?function(r){return e.call(this,r,IT)}:IT;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function wq(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lN(n,e,t){if(!e)return n;const r=t&&t.encode||wq;J.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=J.isURLSearchParams(e)?e.toString():new qx(e,t).toString(r),i){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class RT{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bq=typeof URLSearchParams<"u"?URLSearchParams:qx,Eq=typeof FormData<"u"?FormData:null,Sq=typeof Blob<"u"?Blob:null,Tq={isBrowser:!0,classes:{URLSearchParams:bq,FormData:Eq,Blob:Sq},protocols:["http","https","file","blob","url","data"]},Gx=typeof window<"u"&&typeof document<"u",Rv=typeof navigator=="object"&&navigator||void 0,Cq=Gx&&(!Rv||["ReactNative","NativeScript","NS"].indexOf(Rv.product)<0),Iq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rq=Gx&&window.location.href||"http://localhost",kq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gx,hasStandardBrowserEnv:Cq,hasStandardBrowserWebWorkerEnv:Iq,navigator:Rv,origin:Rq},Symbol.toStringTag,{value:"Module"})),Mn={...kq,...Tq};function Aq(n,e){return Qm(n,new Mn.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,i){return Mn.isNode&&J.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Nq(n){return J.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Pq(n){const e={},t=Object.keys(n);let r;const s=t.length;let i;for(r=0;r<s;r++)i=t[r],e[i]=n[i];return e}function uN(n){function e(t,r,s,i){let l=t[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),h=i>=t.length;return l=!l&&J.isArray(s)?s.length:l,h?(J.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!J.isObject(s[l]))&&(s[l]=[]),e(t,r,s[l],i)&&J.isArray(s[l])&&(s[l]=Pq(s[l])),!c)}if(J.isFormData(n)&&J.isFunction(n.entries)){const t={};return J.forEachEntry(n,(r,s)=>{e(Nq(r),s,t,0)}),t}return null}function jq(n,e,t){if(J.isString(n))try{return(e||JSON.parse)(n),J.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const th={transitional:cN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,i=J.isObject(e);if(i&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return s?JSON.stringify(uN(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Aq(e,this.formSerializer).toString();if((c=J.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Qm(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),jq(e)):e}],transformResponse:[function(e){const t=this.transitional||th.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(r&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Oe.from(c,Oe.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],n=>{th.headers[n]={}});const Oq=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lq=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!t||e[t]&&Oq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},kT=Symbol("internals");function Bu(n){return n&&String(n).trim().toLowerCase()}function tp(n){return n===!1||n==null?n:J.isArray(n)?n.map(tp):String(n)}function Dq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Mq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function p0(n,e,t,r,s){if(J.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!J.isString(e)){if(J.isString(r))return e.indexOf(r)!==-1;if(J.isRegExp(r))return r.test(e)}}function Fq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Vq(n,e){const t=J.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,i,l){return this[r].call(this,e,s,i,l)},configurable:!0})})}let ar=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(c,h,f){const g=Bu(h);if(!g)throw new Error("header name must be a non-empty string");const y=J.findKey(s,g);(!y||s[y]===void 0||f===!0||f===void 0&&s[y]!==!1)&&(s[y||h]=tp(c))}const l=(c,h)=>J.forEach(c,(f,g)=>i(f,g,h));if(J.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(J.isString(e)&&(e=e.trim())&&!Mq(e))l(Lq(e),t);else if(J.isHeaders(e))for(const[c,h]of e.entries())i(h,c,r);else e!=null&&i(t,e,r);return this}get(e,t){if(e=Bu(e),e){const r=J.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return Dq(s);if(J.isFunction(t))return t.call(this,s,r);if(J.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bu(e),e){const r=J.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||p0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function i(l){if(l=Bu(l),l){const c=J.findKey(r,l);c&&(!t||p0(r,r[c],c,t))&&(delete r[c],s=!0)}}return J.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];(!e||p0(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return J.forEach(this,(s,i)=>{const l=J.findKey(r,i);if(l){t[l]=tp(s),delete t[i];return}const c=e?Fq(i):String(i).trim();c!==i&&delete t[i],t[c]=tp(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return J.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&J.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[kT]=this[kT]={accessors:{}}).accessors,s=this.prototype;function i(l){const c=Bu(l);r[c]||(Vq(s,l),r[c]=!0)}return J.isArray(e)?e.forEach(i):i(e),this}};ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(ar.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});J.freezeMethods(ar);function m0(n,e){const t=this||th,r=e||t,s=ar.from(r.headers);let i=r.data;return J.forEach(n,function(c){i=c.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function dN(n){return!!(n&&n.__CANCEL__)}function Mc(n,e,t){Oe.call(this,n??"canceled",Oe.ERR_CANCELED,e,t),this.name="CanceledError"}J.inherits(Mc,Oe,{__CANCEL__:!0});function hN(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Oe("Request failed with status code "+t.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Uq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Bq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,i=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),g=r[i];l||(l=f),t[s]=h,r[s]=f;let y=i,w=0;for(;y!==s;)w+=t[y++],y=y%n;if(s=(s+1)%n,s===i&&(i=(i+1)%n),f-l<e)return;const R=g&&f-g;return R?Math.round(w*1e3/R):void 0}}function $q(n,e){let t=0,r=1e3/e,s,i;const l=(f,g=Date.now())=>{t=g,s=null,i&&(clearTimeout(i),i=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),y=g-t;y>=r?l(f,g):(s=f,i||(i=setTimeout(()=>{i=null,l(s)},r-y)))},()=>s&&l(s)]}const Vp=(n,e,t=3)=>{let r=0;const s=Bq(50,250);return $q(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,h=l-r,f=s(h),g=l<=c;r=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:h,rate:f||void 0,estimated:f&&c&&g?(c-l)/f:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(y)},t)},AT=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},NT=n=>(...e)=>J.asap(()=>n(...e)),zq=Mn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Mn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,Hq=Mn.hasStandardBrowserEnv?{write(n,e,t,r,s,i){const l=[n+"="+encodeURIComponent(e)];J.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),J.isString(r)&&l.push("path="+r),J.isString(s)&&l.push("domain="+s),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wq(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function qq(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function fN(n,e,t){let r=!Wq(e);return n&&r||t==!1?qq(n,e):e}const PT=n=>n instanceof ar?{...n}:n;function $a(n,e){e=e||{};const t={};function r(f,g,y,w){return J.isPlainObject(f)&&J.isPlainObject(g)?J.merge.call({caseless:w},f,g):J.isPlainObject(g)?J.merge({},g):J.isArray(g)?g.slice():g}function s(f,g,y,w){if(J.isUndefined(g)){if(!J.isUndefined(f))return r(void 0,f,y,w)}else return r(f,g,y,w)}function i(f,g){if(!J.isUndefined(g))return r(void 0,g)}function l(f,g){if(J.isUndefined(g)){if(!J.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function c(f,g,y){if(y in e)return r(f,g);if(y in n)return r(void 0,f)}const h={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,g,y)=>s(PT(f),PT(g),y,!0)};return J.forEach(Object.keys(Object.assign({},n,e)),function(g){const y=h[g]||s,w=y(n[g],e[g],g);J.isUndefined(w)&&y!==c||(t[g]=w)}),t}const pN=n=>{const e=$a({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:c}=e;e.headers=l=ar.from(l),e.url=lN(fN(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let h;if(J.isFormData(t)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[f,...g]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...g].join("; "))}}if(Mn.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(e)),r||r!==!1&&zq(e.url))){const f=s&&i&&Hq.read(i);f&&l.set(s,f)}return e},Gq=typeof XMLHttpRequest<"u",Kq=Gq&&function(n){return new Promise(function(t,r){const s=pN(n);let i=s.data;const l=ar.from(s.headers).normalize();let{responseType:c,onUploadProgress:h,onDownloadProgress:f}=s,g,y,w,R,I;function x(){R&&R(),I&&I(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function E(){if(!_)return;const A=ar.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),U={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:A,config:n,request:_};hN(function(M){t(M),x()},function(M){r(M),x()},U),_=null}"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(r(new Oe("Request aborted",Oe.ECONNABORTED,n,_)),_=null)},_.onerror=function(){r(new Oe("Network Error",Oe.ERR_NETWORK,n,_)),_=null},_.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const U=s.transitional||cN;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),r(new Oe(O,U.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,n,_)),_=null},i===void 0&&l.setContentType(null),"setRequestHeader"in _&&J.forEach(l.toJSON(),function(O,U){_.setRequestHeader(U,O)}),J.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),c&&c!=="json"&&(_.responseType=s.responseType),f&&([w,I]=Vp(f,!0),_.addEventListener("progress",w)),h&&_.upload&&([y,R]=Vp(h),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",R)),(s.cancelToken||s.signal)&&(g=A=>{_&&(r(!A||A.type?new Mc(null,n,_):A),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const P=Uq(s.url);if(P&&Mn.protocols.indexOf(P)===-1){r(new Oe("Unsupported protocol "+P+":",Oe.ERR_BAD_REQUEST,n));return}_.send(i||null)})},Qq=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const i=function(f){if(!s){s=!0,c();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Oe?g:new Mc(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,i(new Oe(`timeout ${e} of ms exceeded`,Oe.ETIMEDOUT))},e);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),n=null)};n.forEach(f=>f.addEventListener("abort",i));const{signal:h}=r;return h.unsubscribe=()=>J.asap(c),h}},Yq=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},Xq=async function*(n,e){for await(const t of Jq(n))yield*Yq(t,e)},Jq=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},jT=(n,e,t,r)=>{const s=Xq(n,e);let i=0,l,c=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:f,value:g}=await s.next();if(f){c(),h.close();return}let y=g.byteLength;if(t){let w=i+=y;t(w)}h.enqueue(new Uint8Array(g))}catch(f){throw c(f),f}},cancel(h){return c(h),s.return()}},{highWaterMark:2})},Ym=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mN=Ym&&typeof ReadableStream=="function",Zq=Ym&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),gN=(n,...e)=>{try{return!!n(...e)}catch{return!1}},eG=mN&&gN(()=>{let n=!1;const e=new Request(Mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),OT=64*1024,kv=mN&&gN(()=>J.isReadableStream(new Response("").body)),Up={stream:kv&&(n=>n.body)};Ym&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Up[e]&&(Up[e]=J.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Oe(`Response type '${e}' is not supported`,Oe.ERR_NOT_SUPPORT,r)})})})(new Response);const tG=async n=>{if(n==null)return 0;if(J.isBlob(n))return n.size;if(J.isSpecCompliantForm(n))return(await new Request(Mn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(J.isArrayBufferView(n)||J.isArrayBuffer(n))return n.byteLength;if(J.isURLSearchParams(n)&&(n=n+""),J.isString(n))return(await Zq(n)).byteLength},nG=async(n,e)=>{const t=J.toFiniteNumber(n.getContentLength());return t??tG(e)},rG=Ym&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:i,timeout:l,onDownloadProgress:c,onUploadProgress:h,responseType:f,headers:g,withCredentials:y="same-origin",fetchOptions:w}=pN(n);f=f?(f+"").toLowerCase():"text";let R=Qq([s,i&&i.toAbortSignal()],l),I;const x=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let _;try{if(h&&eG&&t!=="get"&&t!=="head"&&(_=await nG(g,r))!==0){let U=new Request(e,{method:"POST",body:r,duplex:"half"}),z;if(J.isFormData(r)&&(z=U.headers.get("content-type"))&&g.setContentType(z),U.body){const[M,L]=AT(_,Vp(NT(h)));r=jT(U.body,OT,M,L)}}J.isString(y)||(y=y?"include":"omit");const E="credentials"in Request.prototype;I=new Request(e,{...w,signal:R,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:E?y:void 0});let P=await fetch(I);const A=kv&&(f==="stream"||f==="response");if(kv&&(c||A&&x)){const U={};["status","statusText","headers"].forEach(N=>{U[N]=P[N]});const z=J.toFiniteNumber(P.headers.get("content-length")),[M,L]=c&&AT(z,Vp(NT(c),!0))||[];P=new Response(jT(P.body,OT,M,()=>{L&&L(),x&&x()}),U)}f=f||"text";let O=await Up[J.findKey(Up,f)||"text"](P,n);return!A&&x&&x(),await new Promise((U,z)=>{hN(U,z,{data:O,headers:ar.from(P.headers),status:P.status,statusText:P.statusText,config:n,request:I})})}catch(E){throw x&&x(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,n,I),{cause:E.cause||E}):Oe.from(E,E&&E.code,n,I)}}),Av={http:vq,xhr:Kq,fetch:rG};J.forEach(Av,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const LT=n=>`- ${n}`,sG=n=>J.isFunction(n)||n===null||n===!1,yN={getAdapter:n=>{n=J.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let i=0;i<e;i++){t=n[i];let l;if(r=t,!sG(t)&&(r=Av[(l=String(t)).toLowerCase()],r===void 0))throw new Oe(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?i.length>1?`since :
`+i.map(LT).join(`
`):" "+LT(i[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Av};function g0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Mc(null,n)}function DT(n){return g0(n),n.headers=ar.from(n.headers),n.data=m0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),yN.getAdapter(n.adapter||th.adapter)(n).then(function(r){return g0(n),r.data=m0.call(n,n.transformResponse,r),r.headers=ar.from(r.headers),r},function(r){return dN(r)||(g0(n),r&&r.response&&(r.response.data=m0.call(n,n.transformResponse,r.response),r.response.headers=ar.from(r.response.headers))),Promise.reject(r)})}const vN="1.8.3",Xm={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Xm[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const MT={};Xm.transitional=function(e,t,r){function s(i,l){return"[Axios v"+vN+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,c)=>{if(e===!1)throw new Oe(s(l," has been removed"+(t?" in "+t:"")),Oe.ERR_DEPRECATED);return t&&!MT[l]&&(MT[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,l,c):!0}};Xm.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function iG(n,e,t){if(typeof n!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const i=r[s],l=e[i];if(l){const c=n[i],h=c===void 0||l(c,i,n);if(h!==!0)throw new Oe("option "+i+" must be "+h,Oe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Oe("Unknown option "+i,Oe.ERR_BAD_OPTION)}}const np={assertOptions:iG,validators:Xm},Vs=np.validators;let Aa=class{constructor(e){this.defaults=e,this.interceptors={request:new RT,response:new RT}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=$a(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:i}=t;r!==void 0&&np.assertOptions(r,{silentJSONParsing:Vs.transitional(Vs.boolean),forcedJSONParsing:Vs.transitional(Vs.boolean),clarifyTimeoutError:Vs.transitional(Vs.boolean)},!1),s!=null&&(J.isFunction(s)?t.paramsSerializer={serialize:s}:np.assertOptions(s,{encode:Vs.function,serialize:Vs.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),np.assertOptions(t,{baseUrl:Vs.spelling("baseURL"),withXsrfToken:Vs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=i&&J.merge(i.common,i[t.method]);i&&J.forEach(["delete","get","head","post","put","patch","common"],I=>{delete i[I]}),t.headers=ar.concat(l,i);const c=[];let h=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(h=h&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let g,y=0,w;if(!h){const I=[DT.bind(this),void 0];for(I.unshift.apply(I,c),I.push.apply(I,f),w=I.length,g=Promise.resolve(t);y<w;)g=g.then(I[y++],I[y++]);return g}w=c.length;let R=t;for(y=0;y<w;){const I=c[y++],x=c[y++];try{R=I(R)}catch(_){x.call(this,_);break}}try{g=DT.call(this,R)}catch(I){return Promise.reject(I)}for(y=0,w=f.length;y<w;)g=g.then(f[y++],f[y++]);return g}getUri(e){e=$a(this.defaults,e);const t=fN(e.baseURL,e.url,e.allowAbsoluteUrls);return lN(t,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){Aa.prototype[e]=function(t,r){return this.request($a(r||{},{method:e,url:t,data:(r||{}).data}))}});J.forEach(["post","put","patch"],function(e){function t(r){return function(i,l,c){return this.request($a(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Aa.prototype[e]=t(),Aa.prototype[e+"Form"]=t(!0)});let oG=class _N{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(c=>{r.subscribe(c),i=c}).then(s);return l.cancel=function(){r.unsubscribe(i)},l},e(function(i,l,c){r.reason||(r.reason=new Mc(i,l,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new _N(function(s){e=s}),cancel:e}}};function aG(n){return function(t){return n.apply(null,t)}}function lG(n){return J.isObject(n)&&n.isAxiosError===!0}const Nv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nv).forEach(([n,e])=>{Nv[e]=n});function xN(n){const e=new Aa(n),t=XA(Aa.prototype.request,e);return J.extend(t,Aa.prototype,e,{allOwnKeys:!0}),J.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return xN($a(n,s))},t}const Dt=xN(th);Dt.Axios=Aa;Dt.CanceledError=Mc;Dt.CancelToken=oG;Dt.isCancel=dN;Dt.VERSION=vN;Dt.toFormData=Qm;Dt.AxiosError=Oe;Dt.Cancel=Dt.CanceledError;Dt.all=function(e){return Promise.all(e)};Dt.spread=aG;Dt.isAxiosError=lG;Dt.mergeConfig=$a;Dt.AxiosHeaders=ar;Dt.formToJSON=n=>uN(J.isHTMLForm(n)?new FormData(n):n);Dt.getAdapter=yN.getAdapter;Dt.HttpStatusCode=Nv;Dt.default=Dt;const{Axios:XK,AxiosError:JK,CanceledError:ZK,isCancel:eQ,CancelToken:tQ,VERSION:nQ,all:rQ,Cancel:sQ,isAxiosError:iQ,spread:oQ,toFormData:aQ,AxiosHeaders:lQ,HttpStatusCode:cQ,formToJSON:uQ,getAdapter:dQ,mergeConfig:hQ}=Dt,cG=async n=>{var e,t;try{console.log("Sending prompt to API:",n);const r=await Dt.post("/api/ask-openai",{prompt:n});return console.log("raw response from API:",r.data),r.data.response}catch(r){throw Dt.isAxiosError(r)?console.error("Axios error:",{message:r.message,status:(e=r.response)==null?void 0:e.status,data:(t=r.response)==null?void 0:t.data}):console.error("unexepcted error:",r),r}},uG=async n=>{try{return(await Dt.post("/api/generate-image",{prompt:n})).data.imageUrl}catch(e){throw console.error("Error generating image:",e),e}},dG=()=>{const[n,e]=C.useState([]),[t,r]=C.useState(""),[s,i]=C.useState(!1),[l,c]=C.useState(""),[h,f]=C.useState(""),g=C.useRef(null),y=()=>{var E;(E=g.current)==null||E.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{y()},[n]),C.useEffect(()=>{const E={id:Date.now(),text:"Hi! I'm Ureno AI Assistant. I can help you with renovation ideas, budget planning, and design suggestions. What would you like to know about your project?",isPersonal:!1,timestamp:w()};e([E])},[]);const w=()=>{const E=new Date;return`${E.getHours()}:${E.getMinutes().toString().padStart(2,"0")}`},R=async()=>{if(t.trim()==="")return;const E={id:Date.now(),text:t,isPersonal:!0,timestamp:w()};e(A=>[...A,E]),i(!0);const P=l&&h?`I am planning a ${l} renovation with a budget of $${h}. ${t}`:l?`I am planning a ${l} renovation. ${t}`:h?`I am planning a renovation with a budget of $${h}. ${t}`:`I am planning a renovation. ${t}`;try{const A=await cG(P);setTimeout(()=>{const O={id:Date.now()+1,text:A,isPersonal:!1,timestamp:w()};e(U=>[...U,O]),i(!1)},1e3)}catch(A){console.error("Error:",A),setTimeout(()=>{const O={id:Date.now()+1,text:"Sorry, I'm having trouble connecting right now. Please try again later.",isPersonal:!1,timestamp:w()};e(U=>[...U,O]),i(!1)},1e3)}r("")},I=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),R())},x={container:{margin:0,padding:0,height:"100vh",background:"linear-gradient(135deg, #000000, #404040, #ffffff)",backgroundSize:"cover",fontFamily:"'Open Sans', sans-serif",fontSize:"12px",lineHeight:1.3,overflow:"hidden",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},bg:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1,backgroundImage:'url("background.jpeg")',backgroundRepeat:"no-repeat",backgroundPosition:"0 0",filter:"blur(80px)",transform:"scale(1.2)"},chat:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"350px",height:"80vh",maxHeight:"600px",zIndex:2,overflow:"hidden",boxShadow:"0 5px 30px rgba(0, 0, 0, .2)",background:"rgba(0, 0, 0, .5)",borderRadius:"20px",display:"flex",justifyContent:"space-between",flexDirection:"column"},chatTitle:{flex:"0 1 60px",position:"relative",zIndex:2,background:"rgba(0, 0, 0, 0.2)",color:"#fff",textTransform:"uppercase",textAlign:"left",padding:"10px 10px 10px 60px"},titleH1:{fontWeight:"normal",fontSize:"12px",margin:0,padding:0},titleH2:{color:"rgba(255, 255, 255, .5)",fontSize:"9px",letterSpacing:"1px",fontWeight:"normal",margin:0,padding:0},avatar:{position:"absolute",zIndex:1,top:"10px",left:"15px",borderRadius:"30px",width:"35px",height:"35px",overflow:"hidden",margin:0,padding:0,border:"2px solid rgba(255, 255, 255, 0.24)",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #000000, #404040)",fontSize:"18px"},settingsBar:{background:"rgba(0, 0, 0, 0.1)",padding:"8px 10px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",gap:"10px",fontSize:"10px"},settingItem:{display:"flex",flexDirection:"column",gap:"2px"},settingLabel:{color:"rgba(255, 255, 255, .7)",fontSize:"8px"},settingSelect:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"9px",padding:"2px 4px",borderRadius:"4px",outline:"none"},settingInput:{background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"9px",padding:"2px 4px",borderRadius:"4px",outline:"none",width:"60px"},messages:{flex:"1 1 auto",color:"rgba(255, 255, 255, .5)",overflow:"hidden",position:"relative",width:"100%"},messagesContent:{position:"absolute",top:0,left:0,height:"101%",width:"100%",overflowY:"auto",padding:"0 10px"},message:{clear:"both",float:"left",padding:"8px 12px",borderRadius:"12px 12px 12px 4px",background:"rgba(0, 0, 0, .3)",margin:"8px 0",fontSize:"11px",lineHeight:1.4,marginLeft:"40px",position:"relative",textShadow:"0 1px 1px rgba(0, 0, 0, .2)",animation:"bounce 500ms linear both",maxWidth:"250px",wordWrap:"break-word"},messagePersonal:{float:"right",color:"#fff",textAlign:"right",background:"linear-gradient(135deg, #000000, #404040)",borderRadius:"12px 12px 4px 12px",marginLeft:0,marginRight:"10px"},messageAvatar:{position:"absolute",zIndex:1,bottom:"-15px",left:"-35px",borderRadius:"30px",width:"25px",height:"25px",overflow:"hidden",margin:0,padding:0,border:"2px solid rgba(255, 255, 255, 0.24)",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #000000, #404040)",fontSize:"12px",color:"white"},timestamp:{position:"absolute",bottom:"-15px",fontSize:"8px",color:"rgba(255, 255, 255, .3)",left:0},timestampPersonal:{right:0,left:"auto"},messageBox:{flex:"0 1 50px",width:"100%",background:"rgba(0, 0, 0, 0.3)",padding:"12px",position:"relative"},messageInput:{background:"none",border:"none",outline:"none",resize:"none",color:"rgba(255, 255, 255, .7)",fontSize:"11px",height:"20px",margin:0,paddingRight:"60px",width:"100%",boxSizing:"border-box"},messageSubmit:{position:"absolute",zIndex:1,top:"12px",right:"12px",color:"#fff",border:"none",background:"#248A52",fontSize:"10px",textTransform:"uppercase",lineHeight:1,padding:"8px 12px",borderRadius:"10px",outline:"none",transition:"background .2s ease",cursor:"pointer"},loadingMessage:{clear:"both",float:"left",padding:"8px 12px",borderRadius:"12px 12px 12px 4px",background:"rgba(0, 0, 0, .3)",margin:"8px 0",fontSize:"11px",lineHeight:1.4,marginLeft:"40px",position:"relative",textShadow:"0 1px 1px rgba(0, 0, 0, .2)"},loadingDots:{display:"block",fontSize:0,width:"20px",height:"10px",position:"relative"},loadingDot:{display:"inline-block",width:"3px",height:"3px",borderRadius:"50%",background:"rgba(255, 255, 255, .5)",margin:"0 1px",animation:"ball 0.45s cubic-bezier(0, 0, 0.15, 1) alternate infinite"}};return u.jsxs("div",{style:x.container,children:[u.jsx("style",{children:`
    @keyframes bounce { 
      0% { transform: matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      4.7% { transform: matrix3d(0.45, 0, 0, 0, 0, 0.45, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      9.41% { transform: matrix3d(0.883, 0, 0, 0, 0, 0.883, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      14.11% { transform: matrix3d(1.141, 0, 0, 0, 0, 1.141, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      18.72% { transform: matrix3d(1.212, 0, 0, 0, 0, 1.212, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      24.32% { transform: matrix3d(1.151, 0, 0, 0, 0, 1.151, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      29.93% { transform: matrix3d(1.048, 0, 0, 0, 0, 1.048, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      35.54% { transform: matrix3d(0.979, 0, 0, 0, 0, 0.979, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      41.04% { transform: matrix3d(0.961, 0, 0, 0, 0, 0.961, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      52.15% { transform: matrix3d(0.991, 0, 0, 0, 0, 0.991, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      63.26% { transform: matrix3d(1.007, 0, 0, 0, 0, 1.007, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      85.49% { transform: matrix3d(0.999, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      100% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1); } 
    }

    @keyframes ball { 
      from {
        transform: translateY(0) scaleY(.8);
      }
      to {
        transform: translateY(-10px);
      }
    }
  `}),u.jsx("div",{style:x.bg}),u.jsxs("div",{style:x.chat,children:[u.jsxs("div",{style:x.chatTitle,children:[u.jsx("h1",{style:x.titleH1,children:"Ureno AI Assistant"}),u.jsx("h2",{style:x.titleH2,children:"Renovation Helper"}),u.jsx("div",{style:x.avatar,children:"🏠"})]}),u.jsxs("div",{style:x.settingsBar,children:[u.jsxs("div",{style:x.settingItem,children:[u.jsx("label",{style:x.settingLabel,children:"Room Type:"}),u.jsxs("select",{style:x.settingSelect,value:l,onChange:E=>c(E.target.value),children:[u.jsx("option",{value:"",children:"Any Room"}),u.jsx("option",{children:"Kitchen"}),u.jsx("option",{children:"Bathroom"}),u.jsx("option",{children:"Living Room"}),u.jsx("option",{children:"Bedroom"}),u.jsx("option",{children:"Basement"})]})]}),u.jsxs("div",{style:x.settingItem,children:[u.jsx("label",{style:x.settingLabel,children:"Budget ($):"}),u.jsx("input",{style:x.settingInput,type:"number",value:h,onChange:E=>f(E.target.value),placeholder:"10000"})]})]}),u.jsx("div",{style:x.messages,children:u.jsxs("div",{style:x.messagesContent,children:[n.map(E=>u.jsxs("div",{style:{...x.message,...E.isPersonal?x.messagePersonal:{}},children:[!E.isPersonal&&u.jsx("div",{style:x.messageAvatar,children:"🤖"}),E.text,u.jsx("div",{style:{...x.timestamp,...E.isPersonal?x.timestampPersonal:{}},children:E.timestamp})]},E.id)),s&&u.jsxs("div",{style:x.loadingMessage,children:[u.jsx("div",{style:x.messageAvatar,children:"🤖"}),u.jsxs("div",{style:x.loadingDots,children:[u.jsx("span",{style:{...x.loadingDot,animationDelay:"0s"}}),u.jsx("span",{style:{...x.loadingDot,animationDelay:"0.15s"}}),u.jsx("span",{style:{...x.loadingDot,animationDelay:"0.3s"}})]})]}),u.jsx("div",{ref:g})]})}),u.jsxs("div",{style:x.messageBox,children:[u.jsx("textarea",{type:"text",style:x.messageInput,placeholder:"Ask about your renovation...",value:t,onChange:E=>r(E.target.value),onKeyPress:I}),u.jsx("button",{type:"submit",style:x.messageSubmit,onClick:R,onMouseEnter:E=>E.target.style.background="#1D7745",onMouseLeave:E=>E.target.style.background="#248A52",disabled:s,children:s?"...":"Send"})]})]})]})},hG=()=>{const[n,e]=C.useState(""),[t,r]=C.useState(""),[s,i]=C.useState(!1),l=async c=>{c.preventDefault(),i(!0);try{const h=await uG(n);r(h)}catch(h){console.error("Error:",h)}finally{i(!1)}};return u.jsxs("div",{children:[u.jsxs("form",{onSubmit:l,children:[u.jsx("input",{type:"text",value:n,onChange:c=>e(c.target.value),placeholder:"Describe the room or design you want to visualize..."}),u.jsx("button",{type:"submit",disabled:s,children:s?"Generating...":"Generate Image"})]}),t&&u.jsxs("div",{className:"image-result",children:[u.jsx("h3",{children:"Generated Image:"}),u.jsx("img",{src:t,alt:"AI Generated"})]})]})},fG=()=>{const[n,e]=C.useState([]),[t,r]=C.useState(""),[s,i]=C.useState(!1),[l,c]=C.useState(0),h=C.useRef(null),f=["Hi there, I'm Fabio and you?","Nice to meet you","How are you?","Not too bad, thanks","What do you do?","That's awesome","Codepen is a nice place to stay","I think you're a nice person","Why do you think that?","Can you explain?","Anyway I've gotta go now","It was a pleasure chat with you","Time to make a new codepen","Bye",":)"],g=()=>{var E;(E=h.current)==null||E.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{g()},[n]),C.useEffect(()=>{const E=setTimeout(()=>{w()},100);return()=>clearTimeout(E)},[]);const y=()=>{const E=new Date;return`${E.getHours()}:${E.getMinutes().toString().padStart(2,"0")}`},w=()=>{if(t!==""||l>=f.length)return;i(!0);const E=1e3+Math.random()*2e3;setTimeout(()=>{i(!1);const P={id:Date.now(),text:f[l],isPersonal:!1,timestamp:y()};e(A=>[...A,P]),c(A=>A+1)},E)},R=()=>{if(t.trim()==="")return;const E={id:Date.now(),text:t,isPersonal:!0,timestamp:y()};e(P=>[...P,E]),r(""),setTimeout(()=>{w()},1e3+Math.random()*2e3)},I=E=>{E.key==="Enter"&&(E.preventDefault(),R())},x={container:{margin:0,padding:0,height:"100vh",background:"linear-gradient(135deg, #000000, #404040, #ffffff)",backgroundSize:"cover",fontFamily:"'Open Sans', sans-serif",fontSize:"12px",lineHeight:1.3,overflow:"hidden",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},bg:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1,backgroundImage:'url("background.jpeg")',backgroundRepeat:"no-repeat",backgroundPosition:"0 0",filter:"blur(80px)",transform:"scale(1.2)"},chat:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",height:"80vh",maxHeight:"500px",zIndex:2,overflow:"hidden",boxShadow:"0 5px 30px rgba(0, 0, 0, .2)",background:"rgba(0, 0, 0, .5)",borderRadius:"20px",display:"flex",justifyContent:"space-between",flexDirection:"column"},chatTitle:{flex:"0 1 45px",position:"relative",zIndex:2,background:"rgba(0, 0, 0, 0.2)",color:"#fff",textTransform:"uppercase",textAlign:"left",padding:"10px 10px 10px 50px"},titleH1:{fontWeight:"normal",fontSize:"10px",margin:0,padding:0},titleH2:{color:"rgba(255, 255, 255, .5)",fontSize:"8px",letterSpacing:"1px",fontWeight:"normal",margin:0,padding:0},avatar:{position:"absolute",zIndex:1,top:"8px",left:"9px",borderRadius:"30px",width:"30px",height:"30px",overflow:"hidden",margin:0,padding:0,border:"2px solid rgba(255, 255, 255, 0.24)"},avatarImg:{width:"100%",height:"auto"},messages:{flex:"1 1 auto",color:"rgba(255, 255, 255, .5)",overflow:"hidden",position:"relative",width:"100%"},messagesContent:{position:"absolute",top:0,left:0,height:"101%",width:"100%",overflowY:"auto",padding:"0 10px"},message:{clear:"both",float:"left",padding:"6px 10px 7px",borderRadius:"10px 10px 10px 0",background:"rgba(0, 0, 0, .3)",margin:"8px 0",fontSize:"11px",lineHeight:1.4,marginLeft:"35px",position:"relative",textShadow:"0 1px 1px rgba(0, 0, 0, .2)",animation:"bounce 500ms linear both"},messagePersonal:{float:"right",color:"#fff",textAlign:"right",background:"linear-gradient(135deg, #000000, #404040, #ffffff)",borderRadius:"10px 10px 0 10px",marginLeft:0,marginRight:"10px"},messageAvatar:{position:"absolute",zIndex:1,bottom:"-15px",left:"-35px",borderRadius:"30px",width:"30px",height:"30px",overflow:"hidden",margin:0,padding:0,border:"2px solid rgba(255, 255, 255, 0.24)"},timestamp:{position:"absolute",bottom:"-15px",fontSize:"9px",color:"rgba(255, 255, 255, .3)",left:0},timestampPersonal:{right:0,left:"auto"},messageBox:{flex:"0 1 40px",width:"100%",background:"rgba(0, 0, 0, 0.3)",padding:"10px",position:"relative"},messageInput:{background:"none",border:"none",outline:"none",resize:"none",color:"rgba(255, 255, 255, .7)",fontSize:"11px",height:"17px",margin:0,paddingRight:"20px",width:"265px"},messageSubmit:{position:"absolute",zIndex:1,top:"9px",right:"10px",color:"#fff",border:"none",background:"#248A52",fontSize:"10px",textTransform:"uppercase",lineHeight:1,padding:"6px 10px",borderRadius:"10px",outline:"none",transition:"background .2s ease",cursor:"pointer"},loadingMessage:{clear:"both",float:"left",padding:"6px 10px 7px",borderRadius:"10px 10px 10px 0",background:"rgba(0, 0, 0, .3)",margin:"8px 0",fontSize:"11px",lineHeight:1.4,marginLeft:"35px",position:"relative",textShadow:"0 1px 1px rgba(0, 0, 0, .2)"},loadingDots:{display:"block",fontSize:0,width:"20px",height:"10px",position:"relative"},loadingDot:{display:"inline-block",width:"3px",height:"3px",borderRadius:"50%",background:"rgba(255, 255, 255, .5)",margin:"0 1px",animation:"ball 0.45s cubic-bezier(0, 0, 0.15, 1) alternate infinite"}};return u.jsxs("div",{style:x.container,children:[u.jsx("style",{children:`
    @keyframes bounce { 
      0% { transform: matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      4.7% { transform: matrix3d(0.45, 0, 0, 0, 0, 0.45, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      9.41% { transform: matrix3d(0.883, 0, 0, 0, 0, 0.883, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      14.11% { transform: matrix3d(1.141, 0, 0, 0, 0, 1.141, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      18.72% { transform: matrix3d(1.212, 0, 0, 0, 0, 1.212, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      24.32% { transform: matrix3d(1.151, 0, 0, 0, 0, 1.151, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      29.93% { transform: matrix3d(1.048, 0, 0, 0, 0, 1.048, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      35.54% { transform: matrix3d(0.979, 0, 0, 0, 0, 0.979, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      41.04% { transform: matrix3d(0.961, 0, 0, 0, 0, 0.961, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      52.15% { transform: matrix3d(0.991, 0, 0, 0, 0, 0.991, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      63.26% { transform: matrix3d(1.007, 0, 0, 0, 0, 1.007, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      85.49% { transform: matrix3d(0.999, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
      100% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); } 
    }

    @keyframes ball { 
      from {
        transform: translateY(0) scaleY(.8);
      }
      to {
        transform: translateY(-10px);
      }
    }
  `}),u.jsx("div",{style:x.bg}),u.jsxs("div",{style:x.chat,children:[u.jsxs("div",{style:x.chatTitle,children:[u.jsx("h1",{style:x.titleH1,children:"Fabio Ottaviani"}),u.jsx("h2",{style:x.titleH2,children:"Supah"}),u.jsx("figure",{style:x.avatar,children:u.jsx("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg",alt:"Avatar",style:x.avatarImg})})]}),u.jsx("div",{style:x.messages,children:u.jsxs("div",{style:x.messagesContent,children:[n.map(E=>u.jsxs("div",{style:{...x.message,...E.isPersonal?x.messagePersonal:{}},children:[!E.isPersonal&&u.jsx("figure",{style:x.messageAvatar,children:u.jsx("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg",alt:"Avatar",style:x.avatarImg})}),E.text,u.jsx("div",{style:{...x.timestamp,...E.isPersonal?x.timestampPersonal:{}},children:E.timestamp})]},E.id)),s&&u.jsxs("div",{style:x.loadingMessage,children:[u.jsx("figure",{style:x.messageAvatar,children:u.jsx("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/156381/profile/profile-80.jpg",alt:"Avatar",style:x.avatarImg})}),u.jsxs("div",{style:x.loadingDots,children:[u.jsx("span",{style:{...x.loadingDot,animationDelay:"0s"}}),u.jsx("span",{style:{...x.loadingDot,animationDelay:"0.15s"}}),u.jsx("span",{style:{...x.loadingDot,animationDelay:"0.3s"}})]})]}),u.jsx("div",{ref:h})]})}),u.jsxs("div",{style:x.messageBox,children:[u.jsx("textarea",{type:"text",style:x.messageInput,placeholder:"Type message...",value:t,onChange:E=>r(E.target.value),onKeyPress:I}),u.jsx("button",{type:"submit",style:x.messageSubmit,onClick:R,onMouseEnter:E=>E.target.style.background="#1D7745",onMouseLeave:E=>E.target.style.background="#248A52",children:"Send"})]})]})]})},pG=()=>{const n=Ye(),[e,t]=C.useState([]),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null),f=x=>{if(!x.length)return[];const _=x.map(N=>({...N,hsl:g(N.hex)})),E={};_.forEach(N=>{const b=N.hsl.h;let D;b>=345||b<=15?D="pure-red":b>15&&b<=30?D="orange-red":b>=300&&b<345?D="pink-red":D="other",E[D]||(E[D]=[]),E[D].push(N)}),Object.keys(E).forEach(N=>{E[N].sort((b,D)=>{const V=D.hsl.s-b.hsl.s;return Math.abs(V)>10?V:D.hsl.l-b.hsl.l})});const P=["pink-red","pure-red","orange-red","other"],A=[];P.forEach(N=>{E[N]&&A.push(...E[N])});const O=Math.min(10,Math.ceil(A.length/9)),U=Math.ceil(A.length/O),z=[];for(let N=0;N<O;N++){const b=N*U,D=Math.min(b+U,A.length);let V=A.slice(b,D);V.sort((te,de)=>de.hsl.l-te.hsl.l);const B=V.map((te,de)=>({...te,strip:N,position:de}));z.push(B)}const M=Math.max(...z.map(N=>N.length)),L=z.map(N=>{const b=[...N];for(;b.length<M;)b.push(null);return b});t(L)},g=x=>{const _=parseInt(x.slice(1,3),16)/255,E=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255,A=Math.max(_,E,P),O=Math.min(_,E,P);let U,z,M=(A+O)/2;if(A===O)U=z=0;else{const L=A-O;switch(z=M>.5?L/(2-A-O):L/(A+O),A){case _:U=(E-P)/L+(E<P?6:0);break;case E:U=(P-_)/L+2;break;case P:U=(_-E)/L+4;break}U/=6}return{h:Math.round(U*360),s:Math.round(z*100),l:Math.round(M*100)}},y=(x,_,E)=>{E/=100;const P=_*Math.min(E,1-E)/100,A=O=>{const U=(O+x/30)%12,z=E-P*Math.max(Math.min(U-3,9-U,1),-1);return Math.round(255*z).toString(16).padStart(2,"0")};return`#${A(0)}${A(8)}${A(4)}`},w=x=>{n(`/colorDetail/${x.id}`)},R=x=>{navigator.clipboard.writeText(x)};C.useEffect(()=>{(async()=>{try{l(!0),h(null);const _=await Go("reds");if(_.length>0){const E=f(_)}else{console.warn("No red paint colors found in database, using generated colors");const E=I();t(E)}}catch(_){console.error("Error fetching paint colors:",_),h(_.message);const E=I();t(E)}finally{l(!1)}})()},[]);const I=()=>{const x=[];for(let _=0;_<10;_++){const E=0+_*4,P=70+_*3,A=[];for(let O=0;O<9;O++){const U=90-O*10,z=Math.min(P+O*2,100);A.push({id:`fallback-${_}-${O}`,name:`Red ${_+1}-${O+1}`,hex:y(E,z,U),lightness:U,strip:_,position:O})}x.push(A)}return x};return u.jsxs(u.Fragment,{children:[u.jsx("style",{jsx:!0,children:`
        .container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 2rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          margin-bottom: 2rem;
          background: white;
          padding: 2rem;
          border-radius: 12px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
          font-size: 2.5rem;
          font-weight: 700;
          color: #c53030;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .color-wall {
          background: white;
          border-radius: 12px;
          padding: 2rem;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          overflow: hidden;
        }

        .color-strips-container {
          /* Removed flex layout */
          /* display: flex;
          gap: 2px;
          justify-content: center;
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px; */
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }

        .color-strip {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          max-width: 120px;
        }

        .color-chip {
          aspect-ratio: 1;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          border: 1px solid rgba(255,255,255,0.2);
        }

        .color-chip:hover {
          transform: scale(1.05);
          z-index: 10;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          border: 2px solid #333;
        }

        .color-chip:first-child {
          border-top-left-radius: 6px;
          border-top-right-radius: 6px;
        }

        .color-chip:last-child {
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .color-info-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.9);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s ease;
          z-index: 1000;
        }

        .color-chip:hover .color-info-tooltip {
          opacity: 1;
        }

        .selected-color-panel {
          position: fixed;
          top: 20px;
          right: 20px;
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          z-index: 1000;
          min-width: 250px;
          border: 1px solid #e2e8f0;
        }

        .selected-color-panel h3 {
          margin: 0 0 1rem 0;
          font-size: 1.2rem;
          color: #333;
        }

        .color-preview {
          width: 100%;
          height: 80px;
          border-radius: 8px;
          margin-bottom: 1rem;
          border: 1px solid #e2e8f0;
        }

        .color-details {
          font-size: 0.9rem;
          color: #666;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          background: #f7fafc;
          padding: 0.5rem;
          border-radius: 6px;
          margin: 0.5rem 0;
          cursor: pointer;
          text-align: center;
          border: 1px solid #e2e8f0;
        }

        .hex-value:hover {
          background: #edf2f7;
          border-color: #cbd5e0;
        }

        .strip-labels {
          display: flex;
          gap: 2px;
          justify-content: center;
          margin-bottom: 1rem;
          padding: 0 1rem;
        }

        .strip-label {
          flex: 1;
          max-width: 120px;
          text-align: center;
          font-size: 0.8rem;
          color: #666;
          font-weight: 500;
        }

        .close-button {
          position: absolute;
          top: 10px;
          right: 10px;
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: #999;
          padding: 0;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-button:hover {
          color: #333;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),u.jsxs("div",{className:"container",children:[i?u.jsx("div",{className:"color-wall",children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#666"},children:[u.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Loading paint colors..."}),u.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #c53030",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):u.jsxs("div",{className:"color-wall",children:[u.jsx("div",{className:"strip-labels",children:e.map((x,_)=>u.jsxs("div",{className:"strip-label",children:["Strip ",_+1]},_))}),u.jsx("div",{className:"color-strips-container",style:{display:"grid",gridTemplateColumns:`repeat(${e.length}, 1fr)`,gap:"4px"},children:Array.from({length:e[0].length}).map((x,_)=>e.map((E,P)=>{const A=E[_];return A?u.jsx("div",{className:"color-chip",style:{backgroundColor:A.hex},onClick:()=>w(A),children:u.jsxs("div",{className:"color-info-tooltip",children:[A.name,u.jsx("br",{}),A.hex]})},`${P}-${_}`):u.jsx("div",{className:"color-chip",style:{backgroundColor:"transparent",border:"none"}},`${P}-${_}`)}))})]}),r&&u.jsxs("div",{className:"selected-color-panel",children:[u.jsx("button",{className:"close-button",onClick:()=>s(null),children:"×"}),u.jsx("h3",{children:r.name}),u.jsx("div",{className:"color-preview",style:{backgroundColor:r.hex}}),u.jsx("div",{className:"hex-value",onClick:()=>R(r.hex),title:"Click to copy",children:r.hex}),u.jsxs("div",{className:"color-details",children:[r.brand&&u.jsxs("span",{children:["Brand: ",r.brand,u.jsx("br",{})]}),r.finish&&u.jsxs("span",{children:["Finish: ",r.finish,u.jsx("br",{})]}),"Strip: ",r.strip+1,u.jsx("br",{}),"Position: ",r.position+1,u.jsx("br",{}),"Click hex code to copy"]})]})]})]})};function mG(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye();C.useEffect(()=>{const i=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:s,children:[u.jsx("div",{style:{color:"white",padding:"6rem 2rem 2rem",marginBottom:"2rem"},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:u.jsx("button",{onClick:()=>r("/paint-page"),style:{background:"rgba(255,255,255,0.2)",border:"1px solid black",color:"black",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"1rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:i=>{i.target.style.background="rgba(0,0,0,0.1)"},onMouseOut:i=>{i.target.style.background="transparent"},children:"← Back to All Colors"})})}),u.jsx("h2",{style:{textAlign:"center",fontSize:"1.8rem",marginBottom:"1.5rem",color:"#333"},children:"Explore our shades of red."}),u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 1rem 4rem"},children:u.jsx(pG,{})}),u.jsx("div",{style:{background:"white",padding:"3rem 2rem",marginTop:"2rem"},children:u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#333"},children:"About Red Paint Colors"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginTop:"2rem",textAlign:"left"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fef2f2",border:"1px solid #fecaca"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#dc2626"},children:"Bold & Energetic"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Red colors bring energy and warmth to any space. Perfect for accent walls, dining rooms, or anywhere you want to make a bold statement."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fef2f2",border:"1px solid #fecaca"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#dc2626"},children:"Versatile Shades"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"From deep burgundy to bright crimson, our red collection offers shades for every style and preference."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fef2f2",border:"1px solid #fecaca"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#dc2626"},children:"Design Tips"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Use lighter reds for larger spaces and deeper reds for cozy areas. Pair with neutral colors for balance."})]})]})]})})]}),u.jsx(kr,{})]})}const gG=()=>{const n=Ye(),[e,t]=C.useState([]),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null),f=x=>{if(!x.length)return[];const _=x.map(N=>({...N,hsl:g(N.hex)})),E={};_.forEach(N=>{const b=N.hsl.h;let D;b>=15&&b<=30?D="red-orange":b>30&&b<=45?D="pure-orange":b>45&&b<=60?D="yellow-orange":D="other",E[D]||(E[D]=[]),E[D].push(N)}),Object.keys(E).forEach(N=>{E[N].sort((b,D)=>{const V=D.hsl.s-b.hsl.s;return Math.abs(V)>10?V:D.hsl.l-b.hsl.l})});const P=["red-orange","pure-orange","yellow-orange","other"],A=[];P.forEach(N=>{E[N]&&A.push(...E[N])});const O=Math.min(10,Math.ceil(A.length/9)),U=Math.ceil(A.length/O),z=[];for(let N=0;N<O;N++){const b=N*U,D=Math.min(b+U,A.length);let V=A.slice(b,D);V.sort((te,de)=>de.hsl.l-te.hsl.l);const B=V.map((te,de)=>({...te,strip:N,position:de}));z.push(B)}const M=Math.max(...z.map(N=>N.length)),L=z.map(N=>{const b=[...N];for(;b.length<M;)b.push(null);return b});t(L)},g=x=>{const _=parseInt(x.slice(1,3),16)/255,E=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255,A=Math.max(_,E,P),O=Math.min(_,E,P);let U,z,M=(A+O)/2;if(A===O)U=z=0;else{const L=A-O;switch(z=M>.5?L/(2-A-O):L/(A+O),A){case _:U=(E-P)/L+(E<P?6:0);break;case E:U=(P-_)/L+2;break;case P:U=(_-E)/L+4;break}U/=6}return{h:Math.round(U*360),s:Math.round(z*100),l:Math.round(M*100)}},y=(x,_,E)=>{E/=100;const P=_*Math.min(E,1-E)/100,A=O=>{const U=(O+x/30)%12,z=E-P*Math.max(Math.min(U-3,9-U,1),-1);return Math.round(255*z).toString(16).padStart(2,"0")};return`#${A(0)}${A(8)}${A(4)}`},w=x=>{n(`/colorDetail/${x.id}`)},R=x=>{navigator.clipboard.writeText(x)};C.useEffect(()=>{(async()=>{try{l(!0),h(null);const _=await Go("oranges");if(_.length>0){const E=f(_)}else{console.warn("No orange paint colors found in database, using generated colors");const E=I();t(E)}}catch(_){console.error("Error fetching paint colors:",_),h(_.message);const E=I();t(E)}finally{l(!1)}})()},[]);const I=()=>{const x=[];for(let _=0;_<10;_++){const E=30+_*4,P=70+_*3,A=[];for(let O=0;O<9;O++){const U=90-O*10,z=Math.min(P+O*2,100);A.push({id:`fallback-${_}-${O}`,name:`Orange ${_+1}-${O+1}`,hex:y(E,z,U),lightness:U,strip:_,position:O})}x.push(A)}return x};return u.jsxs(u.Fragment,{children:[u.jsx("style",{jsx:!0,children:`
        .container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 2rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          margin-bottom: 2rem;
          background: white;
          padding: 2rem;
          border-radius: 12px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
          font-size: 2.5rem;
          font-weight: 700;
          color: #ea580c;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .color-wall {
          background: white;
          border-radius: 12px;
          padding: 2rem;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          overflow: hidden;
        }

        .color-strips-container {
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }

        .color-strip {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          max-width: 120px;
        }

        .color-chip {
          aspect-ratio: 1;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          border: 1px solid rgba(255,255,255,0.2);
        }

        .color-chip:hover {
          transform: scale(1.05);
          z-index: 10;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          border: 2px solid #333;
        }

        .color-chip:first-child {
          border-top-left-radius: 6px;
          border-top-right-radius: 6px;
        }

        .color-chip:last-child {
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .color-info-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.9);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s ease;
          z-index: 1000;
        }

        .color-chip:hover .color-info-tooltip {
          opacity: 1;
        }

        .selected-color-panel {
          position: fixed;
          top: 20px;
          right: 20px;
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          z-index: 1000;
          min-width: 250px;
          border: 1px solid #e2e8f0;
        }

        .selected-color-panel h3 {
          margin: 0 0 1rem 0;
          font-size: 1.2rem;
          color: #333;
        }

        .color-preview {
          width: 100%;
          height: 80px;
          border-radius: 8px;
          margin-bottom: 1rem;
          border: 1px solid #e2e8f0;
        }

        .color-details {
          font-size: 0.9rem;
          color: #666;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          background: #f7fafc;
          padding: 0.5rem;
          border-radius: 6px;
          margin: 0.5rem 0;
          cursor: pointer;
          text-align: center;
          border: 1px solid #e2e8f0;
        }

        .hex-value:hover {
          background: #edf2f7;
          border-color: #cbd5e0;
        }

        .strip-labels {
          display: flex;
          gap: 2px;
          justify-content: center;
          margin-bottom: 1rem;
          padding: 0 1rem;
        }

        .strip-label {
          flex: 1;
          max-width: 120px;
          text-align: center;
          font-size: 0.8rem;
          color: #666;
          font-weight: 500;
        }

        .close-button {
          position: absolute;
          top: 10px;
          right: 10px;
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: #999;
          padding: 0;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-button:hover {
          color: #333;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),u.jsxs("div",{className:"container",children:[i?u.jsx("div",{className:"color-wall",children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#666"},children:[u.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Loading paint colors..."}),u.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #ea580c",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):u.jsxs("div",{className:"color-wall",children:[u.jsx("div",{className:"strip-labels",children:e.map((x,_)=>u.jsxs("div",{className:"strip-label",children:["Strip ",_+1]},_))}),u.jsx("div",{className:"color-strips-container",style:{display:"grid",gridTemplateColumns:`repeat(${e.length}, 1fr)`,gap:"4px"},children:Array.from({length:e[0].length}).map((x,_)=>e.map((E,P)=>{const A=E[_];return A?u.jsx("div",{className:"color-chip",style:{backgroundColor:A.hex},onClick:()=>w(A),children:u.jsxs("div",{className:"color-info-tooltip",children:[A.name,u.jsx("br",{}),A.hex]})},`${P}-${_}`):u.jsx("div",{className:"color-chip",style:{backgroundColor:"transparent",border:"none"}},`${P}-${_}`)}))})]}),r&&u.jsxs("div",{className:"selected-color-panel",children:[u.jsx("button",{className:"close-button",onClick:()=>s(null),children:"×"}),u.jsx("h3",{children:r.name}),u.jsx("div",{className:"color-preview",style:{backgroundColor:r.hex}}),u.jsx("div",{className:"hex-value",onClick:()=>R(r.hex),title:"Click to copy",children:r.hex}),u.jsxs("div",{className:"color-details",children:[r.brand&&u.jsxs("span",{children:["Brand: ",r.brand,u.jsx("br",{})]}),r.finish&&u.jsxs("span",{children:["Finish: ",r.finish,u.jsx("br",{})]}),"Strip: ",r.strip+1,u.jsx("br",{}),"Position: ",r.position+1,u.jsx("br",{}),"Click hex code to copy"]})]})]})]})};function yG(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye();C.useEffect(()=>{const i=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:s,children:[u.jsx("div",{style:{color:"white",padding:"6rem 2rem 2rem",marginBottom:"2rem"},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:u.jsx("button",{onClick:()=>r("/paint-page"),style:{background:"rgba(255,255,255,0.2)",border:"1px solid black",color:"black",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"1rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:i=>{i.target.style.background="rgba(0,0,0,0.1)"},onMouseOut:i=>{i.target.style.background="transparent"},children:"← Back to All Colors"})})}),u.jsx("h2",{style:{textAlign:"center",fontSize:"1.8rem",marginBottom:"1.5rem",color:"#333"},children:"Explore our shades of orange."}),u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 1rem 4rem"},children:u.jsx(gG,{})}),u.jsx("div",{style:{background:"white",padding:"3rem 2rem",marginTop:"2rem"},children:u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#333"},children:"About Orange Paint Colors"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginTop:"2rem",textAlign:"left"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fff7ed",border:"1px solid #fed7aa"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#ea580c"},children:"Warm & Inviting"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Orange colors create a welcoming and energetic atmosphere. Perfect for kitchens, living rooms, or any space where you want to inspire creativity and warmth."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fff7ed",border:"1px solid #fed7aa"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#ea580c"},children:"Versatile Tones"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"From soft peach to vibrant tangerine, our orange collection offers a range of tones to complement any design style."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fff7ed",border:"1px solid #fed7aa"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#ea580c"},children:"Design Tips"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Use lighter oranges for open spaces and deeper oranges for accent walls. Pair with creams and browns for a natural, earthy feel."})]})]})]})})]}),u.jsx(kr,{})]})}const vG=()=>{const n=Ye(),[e,t]=C.useState([]),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null),f=x=>{if(!x.length)return[];const _=x.map(N=>({...N,hsl:g(N.hex)})),E={};_.forEach(N=>{const b=N.hsl.h;let D;b>=45&&b<=65?D="pure-yellow":b>65&&b<=85?D="yellow-green":b>=25&&b<45?D="yellow-orange":D="other",E[D]||(E[D]=[]),E[D].push(N)}),Object.keys(E).forEach(N=>{E[N].sort((b,D)=>{const V=D.hsl.s-b.hsl.s;return Math.abs(V)>10?V:D.hsl.l-b.hsl.l})});const P=["yellow-orange","pure-yellow","yellow-green","other"],A=[];P.forEach(N=>{E[N]&&A.push(...E[N])});const O=Math.min(10,Math.ceil(A.length/9)),U=Math.ceil(A.length/O),z=[];for(let N=0;N<O;N++){const b=N*U,D=Math.min(b+U,A.length);let V=A.slice(b,D);V.sort((te,de)=>de.hsl.l-te.hsl.l);const B=V.map((te,de)=>({...te,strip:N,position:de}));z.push(B)}const M=Math.max(...z.map(N=>N.length)),L=z.map(N=>{const b=[...N];for(;b.length<M;)b.push(null);return b});t(L)},g=x=>{const _=parseInt(x.slice(1,3),16)/255,E=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255,A=Math.max(_,E,P),O=Math.min(_,E,P);let U,z,M=(A+O)/2;if(A===O)U=z=0;else{const L=A-O;switch(z=M>.5?L/(2-A-O):L/(A+O),A){case _:U=(E-P)/L+(E<P?6:0);break;case E:U=(P-_)/L+2;break;case P:U=(_-E)/L+4;break}U/=6}return{h:Math.round(U*360),s:Math.round(z*100),l:Math.round(M*100)}},y=(x,_,E)=>{E/=100;const P=_*Math.min(E,1-E)/100,A=O=>{const U=(O+x/30)%12,z=E-P*Math.max(Math.min(U-3,9-U,1),-1);return Math.round(255*z).toString(16).padStart(2,"0")};return`#${A(0)}${A(8)}${A(4)}`},w=x=>{n(`/colorDetail/${x.id}`)},R=x=>{navigator.clipboard.writeText(x)};C.useEffect(()=>{(async()=>{try{l(!0),h(null);const _=await Go("yellows");if(_.length>0){const E=f(_)}else{console.warn("No yellow paint colors found in database, using generated colors");const E=I();t(E)}}catch(_){console.error("Error fetching paint colors:",_),h(_.message);const E=I();t(E)}finally{l(!1)}})()},[]);const I=()=>{const x=[];for(let _=0;_<10;_++){const E=55+_*3,P=70+_*3,A=[];for(let O=0;O<9;O++){const U=90-O*10,z=Math.min(P+O*2,100);A.push({id:`fallback-${_}-${O}`,name:`Yellow ${_+1}-${O+1}`,hex:y(E,z,U),lightness:U,strip:_,position:O})}x.push(A)}return x};return u.jsxs(u.Fragment,{children:[u.jsx("style",{jsx:!0,children:`
        .container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 2rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          margin-bottom: 2rem;
          background: white;
          padding: 2rem;
          border-radius: 12px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
          font-size: 2.5rem;
          font-weight: 700;
          color: #d69e2e;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .color-wall {
          background: white;
          border-radius: 12px;
          padding: 2rem;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          overflow: hidden;
        }

        .color-strips-container {
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }

        .color-strip {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          max-width: 120px;
        }

        .color-chip {
          aspect-ratio: 1;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          border: 1px solid rgba(255,255,255,0.2);
        }

        .color-chip:hover {
          transform: scale(1.05);
          z-index: 10;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          border: 2px solid #333;
        }

        .color-chip:first-child {
          border-top-left-radius: 6px;
          border-top-right-radius: 6px;
        }

        .color-chip:last-child {
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .color-info-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.9);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s ease;
          z-index: 1000;
        }

        .color-chip:hover .color-info-tooltip {
          opacity: 1;
        }

        .selected-color-panel {
          position: fixed;
          top: 20px;
          right: 20px;
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          z-index: 1000;
          min-width: 250px;
          border: 1px solid #e2e8f0;
        }

        .selected-color-panel h3 {
          margin: 0 0 1rem 0;
          font-size: 1.2rem;
          color: #333;
        }

        .color-preview {
          width: 100%;
          height: 80px;
          border-radius: 8px;
          margin-bottom: 1rem;
          border: 1px solid #e2e8f0;
        }

        .color-details {
          font-size: 0.9rem;
          color: #666;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          background: #f7fafc;
          padding: 0.5rem;
          border-radius: 6px;
          margin: 0.5rem 0;
          cursor: pointer;
          text-align: center;
          border: 1px solid #e2e8f0;
        }

        .hex-value:hover {
          background: #edf2f7;
          border-color: #cbd5e0;
        }

        .strip-labels {
          display: flex;
          gap: 2px;
          justify-content: center;
          margin-bottom: 1rem;
          padding: 0 1rem;
        }

        .strip-label {
          flex: 1;
          max-width: 120px;
          text-align: center;
          font-size: 0.8rem;
          color: #666;
          font-weight: 500;
        }

        .close-button {
          position: absolute;
          top: 10px;
          right: 10px;
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: #999;
          padding: 0;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-button:hover {
          color: #333;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),u.jsxs("div",{className:"container",children:[i?u.jsx("div",{className:"color-wall",children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#666"},children:[u.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Loading paint colors..."}),u.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #d69e2e",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):u.jsxs("div",{className:"color-wall",children:[u.jsx("div",{className:"strip-labels",children:e.map((x,_)=>u.jsxs("div",{className:"strip-label",children:["Strip ",_+1]},_))}),u.jsx("div",{className:"color-strips-container",style:{display:"grid",gridTemplateColumns:`repeat(${e.length}, 1fr)`,gap:"4px"},children:Array.from({length:e[0].length}).map((x,_)=>e.map((E,P)=>{const A=E[_];return A?u.jsx("div",{className:"color-chip",style:{backgroundColor:A.hex},onClick:()=>w(A),children:u.jsxs("div",{className:"color-info-tooltip",children:[A.name,u.jsx("br",{}),A.hex]})},`${P}-${_}`):u.jsx("div",{className:"color-chip",style:{backgroundColor:"transparent",border:"none"}},`${P}-${_}`)}))})]}),r&&u.jsxs("div",{className:"selected-color-panel",children:[u.jsx("button",{className:"close-button",onClick:()=>s(null),children:"×"}),u.jsx("h3",{children:r.name}),u.jsx("div",{className:"color-preview",style:{backgroundColor:r.hex}}),u.jsx("div",{className:"hex-value",onClick:()=>R(r.hex),title:"Click to copy",children:r.hex}),u.jsxs("div",{className:"color-details",children:[r.brand&&u.jsxs("span",{children:["Brand: ",r.brand,u.jsx("br",{})]}),r.finish&&u.jsxs("span",{children:["Finish: ",r.finish,u.jsx("br",{})]}),"Strip: ",r.strip+1,u.jsx("br",{}),"Position: ",r.position+1,u.jsx("br",{}),"Click hex code to copy"]})]})]})]})};function _G(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye();C.useEffect(()=>{const i=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:s,children:[u.jsx("div",{style:{color:"white",padding:"6rem 2rem 2rem",marginBottom:"2rem"},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:u.jsx("button",{onClick:()=>r("/paint-page"),style:{background:"rgba(255,255,255,0.2)",border:"1px solid black",color:"black",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"1rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:i=>{i.target.style.background="rgba(0,0,0,0.1)"},onMouseOut:i=>{i.target.style.background="transparent"},children:"← Back to All Colors"})})}),u.jsx("h2",{style:{textAlign:"center",fontSize:"1.8rem",marginBottom:"1.5rem",color:"#333"},children:"Explore our shades of yellow."}),u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 1rem 4rem"},children:u.jsx(vG,{})}),u.jsx("div",{style:{background:"white",padding:"3rem 2rem",marginTop:"2rem"},children:u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#333"},children:"About Yellow Paint Colors"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginTop:"2rem",textAlign:"left"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fffbeb",border:"1px solid #fde68a"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#d69e2e"},children:"Bright & Cheerful"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Yellow colors bring sunshine and positivity to any space. Perfect for kitchens, children's rooms, or anywhere you want to create an uplifting atmosphere."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fffbeb",border:"1px solid #fde68a"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#d69e2e"},children:"Versatile Tones"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"From soft butter to vibrant lemon, our yellow collection offers a range of tones from subtle to bold."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fffbeb",border:"1px solid #fde68a"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#d69e2e"},children:"Design Tips"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Use lighter yellows to brighten dark spaces and deeper yellows for warmth. Pair with whites and grays for a modern look."})]})]})]})})]}),u.jsx(kr,{})]})}const xG=()=>{const n=Ye(),[e,t]=C.useState([]),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null),f=x=>{if(!x.length)return[];const _=x.map(N=>({...N,hsl:g(N.hex)})),E={};_.forEach(N=>{const b=N.hsl.h;let D;b>=90&&b<=120?D="pure-green":b>120&&b<=180?D="blue-green":b>=60&&b<90?D="yellow-green":D="other",E[D]||(E[D]=[]),E[D].push(N)}),Object.keys(E).forEach(N=>{E[N].sort((b,D)=>{const V=D.hsl.s-b.hsl.s;return Math.abs(V)>10?V:D.hsl.l-b.hsl.l})});const P=["yellow-green","pure-green","blue-green","other"],A=[];P.forEach(N=>{E[N]&&A.push(...E[N])});const O=Math.min(10,Math.ceil(A.length/9)),U=Math.ceil(A.length/O),z=[];for(let N=0;N<O;N++){const b=N*U,D=Math.min(b+U,A.length);let V=A.slice(b,D);V.sort((te,de)=>de.hsl.l-te.hsl.l);const B=V.map((te,de)=>({...te,strip:N,position:de}));z.push(B)}const M=Math.max(...z.map(N=>N.length)),L=z.map(N=>{const b=[...N];for(;b.length<M;)b.push(null);return b});t(L)},g=x=>{const _=parseInt(x.slice(1,3),16)/255,E=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255,A=Math.max(_,E,P),O=Math.min(_,E,P);let U,z,M=(A+O)/2;if(A===O)U=z=0;else{const L=A-O;switch(z=M>.5?L/(2-A-O):L/(A+O),A){case _:U=(E-P)/L+(E<P?6:0);break;case E:U=(P-_)/L+2;break;case P:U=(_-E)/L+4;break}U/=6}return{h:Math.round(U*360),s:Math.round(z*100),l:Math.round(M*100)}},y=(x,_,E)=>{E/=100;const P=_*Math.min(E,1-E)/100,A=O=>{const U=(O+x/30)%12,z=E-P*Math.max(Math.min(U-3,9-U,1),-1);return Math.round(255*z).toString(16).padStart(2,"0")};return`#${A(0)}${A(8)}${A(4)}`},w=x=>{n(`/colorDetail/${x.id}`)},R=x=>{navigator.clipboard.writeText(x)};C.useEffect(()=>{(async()=>{try{l(!0),h(null);const _=await Go("greens");if(_.length>0){const E=f(_)}else{console.warn("No green paint colors found in database, using generated colors");const E=I();t(E)}}catch(_){console.error("Error fetching paint colors:",_),h(_.message);const E=I();t(E)}finally{l(!1)}})()},[]);const I=()=>{const x=[];for(let _=0;_<10;_++){const E=90+_*3,P=70+_*3,A=[];for(let O=0;O<9;O++){const U=90-O*10,z=Math.min(P+O*2,100);A.push({id:`fallback-${_}-${O}`,name:`Green ${_+1}-${O+1}`,hex:y(E,z,U),lightness:U,strip:_,position:O})}x.push(A)}return x};return u.jsxs(u.Fragment,{children:[u.jsx("style",{jsx:!0,children:`
        .container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 2rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          margin-bottom: 2rem;
          background: white;
          padding: 2rem;
          border-radius: 12px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
          font-size: 2.5rem;
          font-weight: 700;
          color: #38a169;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .color-wall {
          background: white;
          border-radius: 12px;
          padding: 2rem;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          overflow: hidden;
        }

        .color-strips-container {
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }

        .color-strip {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          max-width: 120px;
        }

        .color-chip {
          aspect-ratio: 1;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          border: 1px solid rgba(255,255,255,0.2);
        }

        .color-chip:hover {
          transform: scale(1.05);
          z-index: 10;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          border: 2px solid #333;
        }

        .color-chip:first-child {
          border-top-left-radius: 6px;
          border-top-right-radius: 6px;
        }

        .color-chip:last-child {
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .color-info-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.9);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s ease;
          z-index: 1000;
        }

        .color-chip:hover .color-info-tooltip {
          opacity: 1;
        }

        .selected-color-panel {
          position: fixed;
          top: 20px;
          right: 20px;
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          z-index: 1000;
          min-width: 250px;
          border: 1px solid #e2e8f0;
        }

        .selected-color-panel h3 {
          margin: 0 0 1rem 0;
          font-size: 1.2rem;
          color: #333;
        }

        .color-preview {
          width: 100%;
          height: 80px;
          border-radius: 8px;
          margin-bottom: 1rem;
          border: 1px solid #e2e8f0;
        }

        .color-details {
          font-size: 0.9rem;
          color: #666;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          background: #f7fafc;
          padding: 0.5rem;
          border-radius: 6px;
          margin: 0.5rem 0;
          cursor: pointer;
          text-align: center;
          border: 1px solid #e2e8f0;
        }

        .hex-value:hover {
          background: #edf2f7;
          border-color: #cbd5e0;
        }

        .strip-labels {
          display: flex;
          gap: 2px;
          justify-content: center;
          margin-bottom: 1rem;
          padding: 0 1rem;
        }

        .strip-label {
          flex: 1;
          max-width: 120px;
          text-align: center;
          font-size: 0.8rem;
          color: #666;
          font-weight: 500;
        }

        .close-button {
          position: absolute;
          top: 10px;
          right: 10px;
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: #999;
          padding: 0;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-button:hover {
          color: #333;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),u.jsxs("div",{className:"container",children:[i?u.jsx("div",{className:"color-wall",children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#666"},children:[u.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Loading paint colors..."}),u.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #38a169",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):u.jsxs("div",{className:"color-wall",children:[u.jsx("div",{className:"strip-labels",children:e.map((x,_)=>u.jsxs("div",{className:"strip-label",children:["Strip ",_+1]},_))}),u.jsx("div",{className:"color-strips-container",style:{display:"grid",gridTemplateColumns:`repeat(${e.length}, 1fr)`,gap:"4px"},children:Array.from({length:e[0].length}).map((x,_)=>e.map((E,P)=>{const A=E[_];return A?u.jsx("div",{className:"color-chip",style:{backgroundColor:A.hex},onClick:()=>w(A),children:u.jsxs("div",{className:"color-info-tooltip",children:[A.name,u.jsx("br",{}),A.hex]})},`${P}-${_}`):u.jsx("div",{className:"color-chip",style:{backgroundColor:"transparent",border:"none"}},`${P}-${_}`)}))})]}),r&&u.jsxs("div",{className:"selected-color-panel",children:[u.jsx("button",{className:"close-button",onClick:()=>s(null),children:"×"}),u.jsx("h3",{children:r.name}),u.jsx("div",{className:"color-preview",style:{backgroundColor:r.hex}}),u.jsx("div",{className:"hex-value",onClick:()=>R(r.hex),title:"Click to copy",children:r.hex}),u.jsxs("div",{className:"color-details",children:[r.brand&&u.jsxs("span",{children:["Brand: ",r.brand,u.jsx("br",{})]}),r.finish&&u.jsxs("span",{children:["Finish: ",r.finish,u.jsx("br",{})]}),"Strip: ",r.strip+1,u.jsx("br",{}),"Position: ",r.position+1,u.jsx("br",{}),"Click hex code to copy"]})]})]})]})};function wG(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye();C.useEffect(()=>{const i=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:s,children:[u.jsx("div",{style:{color:"white",padding:"6rem 2rem 2rem",marginBottom:"2rem"},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:u.jsx("button",{onClick:()=>r("/paint-page"),style:{background:"rgba(255,255,255,0.2)",border:"1px solid black",color:"black",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"1rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:i=>{i.target.style.background="rgba(0,0,0,0.1)"},onMouseOut:i=>{i.target.style.background="transparent"},children:"← Back to All Colors"})})}),u.jsx("h2",{style:{textAlign:"center",fontSize:"1.8rem",marginBottom:"1.5rem",color:"#333"},children:"Explore our shades of green."}),u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 1rem 4rem"},children:u.jsx(xG,{})}),u.jsx("div",{style:{background:"white",padding:"3rem 2rem",marginTop:"2rem"},children:u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#333"},children:"About Green Paint Colors"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginTop:"2rem",textAlign:"left"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#f0fff4",border:"1px solid #9ae6b4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#38a169"},children:"Natural & Calming"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Green colors bring nature indoors and create a peaceful, restorative atmosphere. Perfect for bedrooms, bathrooms, or any space where you want to promote relaxation and well-being."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#f0fff4",border:"1px solid #9ae6b4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#38a169"},children:"Versatile Palette"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"From sage to emerald, our green collection offers colors that work in both traditional and modern settings."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#f0fff4",border:"1px solid #9ae6b4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#38a169"},children:"Design Tips"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Use lighter greens to create airiness and deeper greens for sophistication. Pair with natural wood tones and whites for a fresh, organic feel."})]})]})]})})]}),u.jsx(kr,{})]})}const bG=()=>{const n=Ye(),[e,t]=C.useState([]),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null),f=x=>{if(!x.length)return[];const _=x.map(N=>({...N,hsl:g(N.hex)})),E={};_.forEach(N=>{const b=N.hsl.h;let D;b>=210&&b<=250?D="pure-blue":b>=180&&b<210?D="blue-green":b>250&&b<=280?D="blue-purple":D="other",E[D]||(E[D]=[]),E[D].push(N)}),Object.keys(E).forEach(N=>{E[N].sort((b,D)=>{const V=D.hsl.s-b.hsl.s;return Math.abs(V)>10?V:D.hsl.l-b.hsl.l})});const P=["blue-green","pure-blue","blue-purple","other"],A=[];P.forEach(N=>{E[N]&&A.push(...E[N])});const O=Math.min(10,Math.ceil(A.length/9)),U=Math.ceil(A.length/O),z=[];for(let N=0;N<O;N++){const b=N*U,D=Math.min(b+U,A.length);let V=A.slice(b,D);V.sort((te,de)=>de.hsl.l-te.hsl.l);const B=V.map((te,de)=>({...te,strip:N,position:de}));z.push(B)}const M=Math.max(...z.map(N=>N.length)),L=z.map(N=>{const b=[...N];for(;b.length<M;)b.push(null);return b});t(L)},g=x=>{const _=parseInt(x.slice(1,3),16)/255,E=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255,A=Math.max(_,E,P),O=Math.min(_,E,P);let U,z,M=(A+O)/2;if(A===O)U=z=0;else{const L=A-O;switch(z=M>.5?L/(2-A-O):L/(A+O),A){case _:U=(E-P)/L+(E<P?6:0);break;case E:U=(P-_)/L+2;break;case P:U=(_-E)/L+4;break}U/=6}return{h:Math.round(U*360),s:Math.round(z*100),l:Math.round(M*100)}},y=(x,_,E)=>{E/=100;const P=_*Math.min(E,1-E)/100,A=O=>{const U=(O+x/30)%12,z=E-P*Math.max(Math.min(U-3,9-U,1),-1);return Math.round(255*z).toString(16).padStart(2,"0")};return`#${A(0)}${A(8)}${A(4)}`},w=x=>{n(`/colorDetail/${x.id}`)},R=x=>{navigator.clipboard.writeText(x)};C.useEffect(()=>{(async()=>{try{l(!0),h(null);const _=await Go("blues");if(_.length>0){const E=f(_)}else{console.warn("No blue paint colors found in database, using generated colors");const E=I();t(E)}}catch(_){console.error("Error fetching paint colors:",_),h(_.message);const E=I();t(E)}finally{l(!1)}})()},[]);const I=()=>{const x=[];for(let _=0;_<10;_++){const E=200+_*5,P=70+_*3,A=[];for(let O=0;O<9;O++){const U=90-O*10,z=Math.min(P+O*2,100);A.push({id:`fallback-${_}-${O}`,name:`Blue ${_+1}-${O+1}`,hex:y(E,z,U),lightness:U,strip:_,position:O})}x.push(A)}return x};return u.jsxs(u.Fragment,{children:[u.jsx("style",{jsx:!0,children:`
        .container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 2rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          margin-bottom: 2rem;
          background: white;
          padding: 2rem;
          border-radius: 12px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
          font-size: 2.5rem;
          font-weight: 700;
          color: #3182ce;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .color-wall {
          background: white;
          border-radius: 12px;
          padding: 2rem;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          overflow: hidden;
        }

        .color-strips-container {
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }

        .color-strip {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          max-width: 120px;
        }

        .color-chip {
          aspect-ratio: 1;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          border: 1px solid rgba(255,255,255,0.2);
        }

        .color-chip:hover {
          transform: scale(1.05);
          z-index: 10;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          border: 2px solid #333;
        }

        .color-chip:first-child {
          border-top-left-radius: 6px;
          border-top-right-radius: 6px;
        }

        .color-chip:last-child {
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .color-info-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.9);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s ease;
          z-index: 1000;
        }

        .color-chip:hover .color-info-tooltip {
          opacity: 1;
        }

        .selected-color-panel {
          position: fixed;
          top: 20px;
          right: 20px;
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          z-index: 1000;
          min-width: 250px;
          border: 1px solid #e2e8f0;
        }

        .selected-color-panel h3 {
          margin: 0 0 1rem 0;
          font-size: 1.2rem;
          color: #333;
        }

        .color-preview {
          width: 100%;
          height: 80px;
          border-radius: 8px;
          margin-bottom: 1rem;
          border: 1px solid #e2e8f0;
        }

        .color-details {
          font-size: 0.9rem;
          color: #666;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          background: #f7fafc;
          padding: 0.5rem;
          border-radius: 6px;
          margin: 0.5rem 0;
          cursor: pointer;
          text-align: center;
          border: 1px solid #e2e8f0;
        }

        .hex-value:hover {
          background: #edf2f7;
          border-color: #cbd5e0;
        }

        .strip-labels {
          display: flex;
          gap: 2px;
          justify-content: center;
          margin-bottom: 1rem;
          padding: 0 1rem;
        }

        .strip-label {
          flex: 1;
          max-width: 120px;
          text-align: center;
          font-size: 0.8rem;
          color: #666;
          font-weight: 500;
        }

        .close-button {
          position: absolute;
          top: 10px;
          right: 10px;
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: #999;
          padding: 0;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-button:hover {
          color: #333;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),u.jsxs("div",{className:"container",children:[i?u.jsx("div",{className:"color-wall",children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#666"},children:[u.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Loading paint colors..."}),u.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #3182ce",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):u.jsxs("div",{className:"color-wall",children:[u.jsx("div",{className:"strip-labels",children:e.map((x,_)=>u.jsxs("div",{className:"strip-label",children:["Strip ",_+1]},_))}),u.jsx("div",{className:"color-strips-container",style:{display:"grid",gridTemplateColumns:`repeat(${e.length}, 1fr)`,gap:"4px"},children:Array.from({length:e[0].length}).map((x,_)=>e.map((E,P)=>{const A=E[_];return A?u.jsx("div",{className:"color-chip",style:{backgroundColor:A.hex},onClick:()=>w(A),children:u.jsxs("div",{className:"color-info-tooltip",children:[A.name,u.jsx("br",{}),A.hex]})},`${P}-${_}`):u.jsx("div",{className:"color-chip",style:{backgroundColor:"transparent",border:"none"}},`${P}-${_}`)}))})]}),r&&u.jsxs("div",{className:"selected-color-panel",children:[u.jsx("button",{className:"close-button",onClick:()=>s(null),children:"×"}),u.jsx("h3",{children:r.name}),u.jsx("div",{className:"color-preview",style:{backgroundColor:r.hex}}),u.jsx("div",{className:"hex-value",onClick:()=>R(r.hex),title:"Click to copy",children:r.hex}),u.jsxs("div",{className:"color-details",children:[r.brand&&u.jsxs("span",{children:["Brand: ",r.brand,u.jsx("br",{})]}),r.finish&&u.jsxs("span",{children:["Finish: ",r.finish,u.jsx("br",{})]}),"Strip: ",r.strip+1,u.jsx("br",{}),"Position: ",r.position+1,u.jsx("br",{}),"Click hex code to copy"]})]})]})]})};function EG(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye();C.useEffect(()=>{const i=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:s,children:[u.jsx("div",{style:{color:"white",padding:"6rem 2rem 2rem",marginBottom:"2rem"},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:u.jsx("button",{onClick:()=>r("/paint-page"),style:{background:"rgba(255,255,255,0.2)",border:"1px solid black",color:"black",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"1rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:i=>{i.target.style.background="rgba(0,0,0,0.1)"},onMouseOut:i=>{i.target.style.background="transparent"},children:"← Back to All Colors"})})}),u.jsx("h2",{style:{textAlign:"center",fontSize:"1.8rem",marginBottom:"1.5rem",color:"#333"},children:"Explore our shades of blue."}),u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 1rem 4rem"},children:u.jsx(bG,{})}),u.jsx("div",{style:{background:"white",padding:"3rem 2rem",marginTop:"2rem"},children:u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#333"},children:"About Blue Paint Colors"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginTop:"2rem",textAlign:"left"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#ebf8ff",border:"1px solid #90cdf4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#3182ce"},children:"Serene & Peaceful"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Blue colors evoke tranquility and spaciousness. Perfect for bedrooms, bathrooms, or any space where you want to create a calm, relaxing atmosphere."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#ebf8ff",border:"1px solid #90cdf4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#3182ce"},children:"Timeless Appeal"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"From navy to sky blue, our blue collection offers classic colors that never go out of style and work in any decor."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#ebf8ff",border:"1px solid #90cdf4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#3182ce"},children:"Design Tips"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Use lighter blues to make spaces feel larger and deeper blues for drama. Pair with whites and silvers for a crisp, clean aesthetic."})]})]})]})})]}),u.jsx(kr,{})]})}const SG=()=>{const n=Ye(),[e,t]=C.useState([]),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null),f=x=>{if(!x.length)return[];const _=x.map(N=>({...N,hsl:g(N.hex)})),E={};_.forEach(N=>{const b=N.hsl.h;let D;b>=280&&b<=320?D="pure-purple":b>=250&&b<280?D="blue-purple":b>320||b<20?D="red-purple":D="other",E[D]||(E[D]=[]),E[D].push(N)}),Object.keys(E).forEach(N=>{E[N].sort((b,D)=>{const V=D.hsl.s-b.hsl.s;return Math.abs(V)>10?V:D.hsl.l-b.hsl.l})});const P=["blue-purple","pure-purple","red-purple","other"],A=[];P.forEach(N=>{E[N]&&A.push(...E[N])});const O=Math.min(10,Math.ceil(A.length/9)),U=Math.ceil(A.length/O),z=[];for(let N=0;N<O;N++){const b=N*U,D=Math.min(b+U,A.length);let V=A.slice(b,D);V.sort((te,de)=>de.hsl.l-te.hsl.l);const B=V.map((te,de)=>({...te,strip:N,position:de}));z.push(B)}const M=Math.max(...z.map(N=>N.length)),L=z.map(N=>{const b=[...N];for(;b.length<M;)b.push(null);return b});t(L)},g=x=>{const _=parseInt(x.slice(1,3),16)/255,E=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255,A=Math.max(_,E,P),O=Math.min(_,E,P);let U,z,M=(A+O)/2;if(A===O)U=z=0;else{const L=A-O;switch(z=M>.5?L/(2-A-O):L/(A+O),A){case _:U=(E-P)/L+(E<P?6:0);break;case E:U=(P-_)/L+2;break;case P:U=(_-E)/L+4;break}U/=6}return{h:Math.round(U*360),s:Math.round(z*100),l:Math.round(M*100)}},y=(x,_,E)=>{E/=100;const P=_*Math.min(E,1-E)/100,A=O=>{const U=(O+x/30)%12,z=E-P*Math.max(Math.min(U-3,9-U,1),-1);return Math.round(255*z).toString(16).padStart(2,"0")};return`#${A(0)}${A(8)}${A(4)}`},w=x=>{n(`/colorDetail/${x.id}`)},R=x=>{navigator.clipboard.writeText(x)};C.useEffect(()=>{(async()=>{try{l(!0),h(null);const _=await Go("purples");if(_.length>0){const E=f(_)}else{console.warn("No purple paint colors found in database, using generated colors");const E=I();t(E)}}catch(_){console.error("Error fetching paint colors:",_),h(_.message);const E=I();t(E)}finally{l(!1)}})()},[]);const I=()=>{const x=[];for(let _=0;_<10;_++){const E=270+_*5,P=70+_*3,A=[];for(let O=0;O<9;O++){const U=90-O*10,z=Math.min(P+O*2,100);A.push({id:`fallback-${_}-${O}`,name:`Purple ${_+1}-${O+1}`,hex:y(E,z,U),lightness:U,strip:_,position:O})}x.push(A)}return x};return u.jsxs(u.Fragment,{children:[u.jsx("style",{jsx:!0,children:`
        .container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 2rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          margin-bottom: 2rem;
          background: white;
          padding: 2rem;
          border-radius: 12px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
          font-size: 2.5rem;
          font-weight: 700;
          color: #805ad5;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .color-wall {
          background: white;
          border-radius: 12px;
          padding: 2rem;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          overflow: hidden;
        }

        .color-strips-container {
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }

        .color-strip {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          max-width: 120px;
        }

        .color-chip {
          aspect-ratio: 1;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          border: 1px solid rgba(255,255,255,0.2);
        }

        .color-chip:hover {
          transform: scale(1.05);
          z-index: 10;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          border: 2px solid #333;
        }

        .color-chip:first-child {
          border-top-left-radius: 6px;
          border-top-right-radius: 6px;
        }

        .color-chip:last-child {
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .color-info-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.9);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s ease;
          z-index: 1000;
        }

        .color-chip:hover .color-info-tooltip {
          opacity: 1;
        }

        .selected-color-panel {
          position: fixed;
          top: 20px;
          right: 20px;
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          z-index: 1000;
          min-width: 250px;
          border: 1px solid #e2e8f0;
        }

        .selected-color-panel h3 {
          margin: 0 0 1rem 0;
          font-size: 1.2rem;
          color: #333;
        }

        .color-preview {
          width: 100%;
          height: 80px;
          border-radius: 8px;
          margin-bottom: 1rem;
          border: 1px solid #e2e8f0;
        }

        .color-details {
          font-size: 0.9rem;
          color: #666;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          background: #f7fafc;
          padding: 0.5rem;
          border-radius: 6px;
          margin: 0.5rem 0;
          cursor: pointer;
          text-align: center;
          border: 1px solid #e2e8f0;
        }

        .hex-value:hover {
          background: #edf2f7;
          border-color: #cbd5e0;
        }

        .strip-labels {
          display: flex;
          gap: 2px;
          justify-content: center;
          margin-bottom: 1rem;
          padding: 0 1rem;
        }

        .strip-label {
          flex: 1;
          max-width: 120px;
          text-align: center;
          font-size: 0.8rem;
          color: #666;
          font-weight: 500;
        }

        .close-button {
          position: absolute;
          top: 10px;
          right: 10px;
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: #999;
          padding: 0;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-button:hover {
          color: #333;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),u.jsxs("div",{className:"container",children:[i?u.jsx("div",{className:"color-wall",children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#666"},children:[u.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Loading paint colors..."}),u.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #805ad5",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):u.jsxs("div",{className:"color-wall",children:[u.jsx("div",{className:"strip-labels",children:e.map((x,_)=>u.jsxs("div",{className:"strip-label",children:["Strip ",_+1]},_))}),u.jsx("div",{className:"color-strips-container",style:{display:"grid",gridTemplateColumns:`repeat(${e.length}, 1fr)`,gap:"4px"},children:Array.from({length:e[0].length}).map((x,_)=>e.map((E,P)=>{const A=E[_];return A?u.jsx("div",{className:"color-chip",style:{backgroundColor:A.hex},onClick:()=>w(A),children:u.jsxs("div",{className:"color-info-tooltip",children:[A.name,u.jsx("br",{}),A.hex]})},`${P}-${_}`):u.jsx("div",{className:"color-chip",style:{backgroundColor:"transparent",border:"none"}},`${P}-${_}`)}))})]}),r&&u.jsxs("div",{className:"selected-color-panel",children:[u.jsx("button",{className:"close-button",onClick:()=>s(null),children:"×"}),u.jsx("h3",{children:r.name}),u.jsx("div",{className:"color-preview",style:{backgroundColor:r.hex}}),u.jsx("div",{className:"hex-value",onClick:()=>R(r.hex),title:"Click to copy",children:r.hex}),u.jsxs("div",{className:"color-details",children:[r.brand&&u.jsxs("span",{children:["Brand: ",r.brand,u.jsx("br",{})]}),r.finish&&u.jsxs("span",{children:["Finish: ",r.finish,u.jsx("br",{})]}),"Strip: ",r.strip+1,u.jsx("br",{}),"Position: ",r.position+1,u.jsx("br",{}),"Click hex code to copy"]})]})]})]})};function TG(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye();C.useEffect(()=>{const i=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:s,children:[u.jsx("div",{style:{color:"white",padding:"6rem 2rem 2rem",marginBottom:"2rem"},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:u.jsx("button",{onClick:()=>r("/paint-page"),style:{background:"rgba(255,255,255,0.2)",border:"1px solid black",color:"black",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"1rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:i=>{i.target.style.background="rgba(0,0,0,0.1)"},onMouseOut:i=>{i.target.style.background="transparent"},children:"← Back to All Colors"})})}),u.jsx("h2",{style:{textAlign:"center",fontSize:"1.8rem",marginBottom:"1.5rem",color:"#333"},children:"Explore our shades of purple."}),u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 1rem 4rem"},children:u.jsx(SG,{})}),u.jsx("div",{style:{background:"white",padding:"3rem 2rem",marginTop:"2rem"},children:u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#333"},children:"About Purple Paint Colors"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginTop:"2rem",textAlign:"left"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#faf5ff",border:"1px solid #d6bcfa"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#805ad5"},children:"Luxurious & Creative"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Purple colors add sophistication and creativity to any space. Perfect for accent walls, bedrooms, or creative spaces where you want to inspire imagination."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#faf5ff",border:"1px solid #d6bcfa"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#805ad5"},children:"Rich Variety"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"From lavender to eggplant, our purple collection offers colors that range from soft and romantic to bold and dramatic."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#faf5ff",border:"1px solid #d6bcfa"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#805ad5"},children:"Design Tips"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Use lighter purples to create romance and deeper purples for drama. Pair with golds and creams for elegance, or with grays for modern sophistication."})]})]})]})})]}),u.jsx(kr,{})]})}const CG=()=>{const n=Ye(),[e,t]=C.useState([]),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null),f=x=>{if(!x.length)return[];const _=x.map(N=>({...N,hsl:g(N.hex)})),E={};_.forEach(N=>{const b=N.hsl.h,D=N.hsl.s;let V;D<=15?V="true-neutral":b>=15&&b<=65||b>=280&&b<=360?V="warm-neutral":b>=180&&b<=240?V="cool-neutral":V="other-neutral",E[V]||(E[V]=[]),E[V].push(N)}),Object.keys(E).forEach(N=>{E[N].sort((b,D)=>{const V=D.hsl.l-b.hsl.l;return Math.abs(V)>5?V:b.hsl.s-D.hsl.s})});const P=["warm-neutral","true-neutral","cool-neutral","other-neutral"],A=[];P.forEach(N=>{E[N]&&A.push(...E[N])});const O=Math.min(10,Math.ceil(A.length/9)),U=Math.ceil(A.length/O),z=[];for(let N=0;N<O;N++){const b=N*U,D=Math.min(b+U,A.length);let V=A.slice(b,D);V.sort((te,de)=>de.hsl.l-te.hsl.l);const B=V.map((te,de)=>({...te,strip:N,position:de}));z.push(B)}const M=Math.max(...z.map(N=>N.length)),L=z.map(N=>{const b=[...N];for(;b.length<M;)b.push(null);return b});t(L)},g=x=>{const _=parseInt(x.slice(1,3),16)/255,E=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255,A=Math.max(_,E,P),O=Math.min(_,E,P);let U,z,M=(A+O)/2;if(A===O)U=z=0;else{const L=A-O;switch(z=M>.5?L/(2-A-O):L/(A+O),A){case _:U=(E-P)/L+(E<P?6:0);break;case E:U=(P-_)/L+2;break;case P:U=(_-E)/L+4;break}U/=6}return{h:Math.round(U*360),s:Math.round(z*100),l:Math.round(M*100)}},y=(x,_,E)=>{E/=100;const P=_*Math.min(E,1-E)/100,A=O=>{const U=(O+x/30)%12,z=E-P*Math.max(Math.min(U-3,9-U,1),-1);return Math.round(255*z).toString(16).padStart(2,"0")};return`#${A(0)}${A(8)}${A(4)}`},w=x=>{n(`/colorDetail/${x.id}`)},R=x=>{navigator.clipboard.writeText(x)};C.useEffect(()=>{(async()=>{try{l(!0),h(null);const _=await Go("neutrals");if(_.length>0){const E=f(_)}else{console.warn("No neutral paint colors found in database, using generated colors");const E=I();t(E)}}catch(_){console.error("Error fetching paint colors:",_),h(_.message);const E=I();t(E)}finally{l(!1)}})()},[]);const I=()=>{const x=[];for(let _=0;_<10;_++){const E=[];for(let P=0;P<9;P++){const A=90-P*10;let O,U;_<3?(O=35+_*10,U=15+_*5):_<6?(O=0,U=0):(O=200+_*5,U=8+_*2),E.push({id:`fallback-${_}-${P}`,name:`Neutral ${_+1}-${P+1}`,hex:y(O,U,A),lightness:A,strip:_,position:P})}x.push(E)}return x};return u.jsxs(u.Fragment,{children:[u.jsx("style",{jsx:!0,children:`
        .container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 2rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          margin-bottom: 2rem;
          background: white;
          padding: 2rem;
          border-radius: 12px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
          font-size: 2.5rem;
          font-weight: 700;
          color: #8d7053;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .color-wall {
          background: white;
          border-radius: 12px;
          padding: 2rem;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          overflow: hidden;
        }

        .color-strips-container {
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }

        .color-strip {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          max-width: 120px;
        }

        .color-chip {
          aspect-ratio: 1;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          border: 1px solid rgba(255,255,255,0.2);
        }

        .color-chip:hover {
          transform: scale(1.05);
          z-index: 10;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          border: 2px solid #333;
        }

        .color-chip:first-child {
          border-top-left-radius: 6px;
          border-top-right-radius: 6px;
        }

        .color-chip:last-child {
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .color-info-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.9);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s ease;
          z-index: 1000;
        }

        .color-chip:hover .color-info-tooltip {
          opacity: 1;
        }

        .selected-color-panel {
          position: fixed;
          top: 20px;
          right: 20px;
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          z-index: 1000;
          min-width: 250px;
          border: 1px solid #e2e8f0;
        }

        .selected-color-panel h3 {
          margin: 0 0 1rem 0;
          font-size: 1.2rem;
          color: #333;
        }

        .color-preview {
          width: 100%;
          height: 80px;
          border-radius: 8px;
          margin-bottom: 1rem;
          border: 1px solid #e2e8f0;
        }

        .color-details {
          font-size: 0.9rem;
          color: #666;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          background: #f7fafc;
          padding: 0.5rem;
          border-radius: 6px;
          margin: 0.5rem 0;
          cursor: pointer;
          text-align: center;
          border: 1px solid #e2e8f0;
        }

        .hex-value:hover {
          background: #edf2f7;
          border-color: #cbd5e0;
        }

        .strip-labels {
          display: flex;
          gap: 2px;
          justify-content: center;
          margin-bottom: 1rem;
          padding: 0 1rem;
        }

        .strip-label {
          flex: 1;
          max-width: 120px;
          text-align: center;
          font-size: 0.8rem;
          color: #666;
          font-weight: 500;
        }

        .close-button {
          position: absolute;
          top: 10px;
          right: 10px;
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: #999;
          padding: 0;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-button:hover {
          color: #333;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),u.jsxs("div",{className:"container",children:[i?u.jsx("div",{className:"color-wall",children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#666"},children:[u.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Loading paint colors..."}),u.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #8d7053",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):u.jsxs("div",{className:"color-wall",children:[u.jsx("div",{className:"strip-labels",children:e.map((x,_)=>u.jsxs("div",{className:"strip-label",children:["Strip ",_+1]},_))}),u.jsx("div",{className:"color-strips-container",style:{display:"grid",gridTemplateColumns:`repeat(${e.length}, 1fr)`,gap:"4px"},children:Array.from({length:e[0].length}).map((x,_)=>e.map((E,P)=>{const A=E[_];return A?u.jsx("div",{className:"color-chip",style:{backgroundColor:A.hex},onClick:()=>w(A),children:u.jsxs("div",{className:"color-info-tooltip",children:[A.name,u.jsx("br",{}),A.hex]})},`${P}-${_}`):u.jsx("div",{className:"color-chip",style:{backgroundColor:"transparent",border:"none"}},`${P}-${_}`)}))})]}),r&&u.jsxs("div",{className:"selected-color-panel",children:[u.jsx("button",{className:"close-button",onClick:()=>s(null),children:"×"}),u.jsx("h3",{children:r.name}),u.jsx("div",{className:"color-preview",style:{backgroundColor:r.hex}}),u.jsx("div",{className:"hex-value",onClick:()=>R(r.hex),title:"Click to copy",children:r.hex}),u.jsxs("div",{className:"color-details",children:[r.brand&&u.jsxs("span",{children:["Brand: ",r.brand,u.jsx("br",{})]}),r.finish&&u.jsxs("span",{children:["Finish: ",r.finish,u.jsx("br",{})]}),"Strip: ",r.strip+1,u.jsx("br",{}),"Position: ",r.position+1,u.jsx("br",{}),"Click hex code to copy"]})]})]})]})};function IG(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye();C.useEffect(()=>{const i=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:s,children:[u.jsx("div",{style:{color:"white",padding:"6rem 2rem 2rem",marginBottom:"2rem"},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:u.jsx("button",{onClick:()=>r("/paint-page"),style:{background:"rgba(255,255,255,0.2)",border:"1px solid black",color:"black",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"1rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:i=>{i.target.style.background="rgba(0,0,0,0.1)"},onMouseOut:i=>{i.target.style.background="transparent"},children:"← Back to All Colors"})})}),u.jsx("h2",{style:{textAlign:"center",fontSize:"1.8rem",marginBottom:"1.5rem",color:"#333"},children:"Explore our neutral shades."}),u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 1rem 4rem"},children:u.jsx(CG,{})}),u.jsx("div",{style:{background:"white",padding:"3rem 2rem",marginTop:"2rem"},children:u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#333"},children:"About Neutral Paint Colors"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginTop:"2rem",textAlign:"left"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fafaf9",border:"1px solid #e7e5e4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#8d7053"},children:"Timeless & Versatile"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Neutral colors provide the perfect backdrop for any design style. From warm beiges to cool grays, they work beautifully in every room and complement any decor."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fafaf9",border:"1px solid #e7e5e4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#8d7053"},children:"Endless Flexibility"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"From crisp whites to rich taupes, our neutral collection offers colors that adapt to changing trends and personal preferences."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fafaf9",border:"1px solid #e7e5e4"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#8d7053"},children:"Design Tips"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Layer different neutral tones for depth and interest. Use warm neutrals for coziness and cool neutrals for a fresh, modern feel."})]})]})]})})]}),u.jsx(kr,{})]})}const RG=()=>{const n=Ye(),[e,t]=C.useState([]),[r,s]=C.useState(null),[i,l]=C.useState(!0),[c,h]=C.useState(null),f=x=>{if(!x.length)return[];const _=x.map(N=>({...N,hsl:g(N.hex)})),E={};_.forEach(N=>{N.hsl.h;const b=N.hsl.s,D=N.hsl.l;let V;D>=85&&b<=10?V="pure-white":D>=75&&b<=25?V="off-white":D>=70&&b<=40?V="light-pastel":D>=60&&b<=60?V="medium-pastel":V="other",E[V]||(E[V]=[]),E[V].push(N)}),Object.keys(E).forEach(N=>{E[N].sort((b,D)=>{const V=D.hsl.l-b.hsl.l;return Math.abs(V)>5?V:N.includes("pastel")?b.hsl.h-D.hsl.h:b.hsl.s-D.hsl.s})});const P=["pure-white","off-white","light-pastel","medium-pastel","other"],A=[];P.forEach(N=>{E[N]&&A.push(...E[N])});const O=Math.min(10,Math.ceil(A.length/9)),U=Math.ceil(A.length/O),z=[];for(let N=0;N<O;N++){const b=N*U,D=Math.min(b+U,A.length);let V=A.slice(b,D);V.sort((te,de)=>de.hsl.l-te.hsl.l);const B=V.map((te,de)=>({...te,strip:N,position:de}));z.push(B)}const M=Math.max(...z.map(N=>N.length)),L=z.map(N=>{const b=[...N];for(;b.length<M;)b.push(null);return b});t(L)},g=x=>{const _=parseInt(x.slice(1,3),16)/255,E=parseInt(x.slice(3,5),16)/255,P=parseInt(x.slice(5,7),16)/255,A=Math.max(_,E,P),O=Math.min(_,E,P);let U,z,M=(A+O)/2;if(A===O)U=z=0;else{const L=A-O;switch(z=M>.5?L/(2-A-O):L/(A+O),A){case _:U=(E-P)/L+(E<P?6:0);break;case E:U=(P-_)/L+2;break;case P:U=(_-E)/L+4;break}U/=6}return{h:Math.round(U*360),s:Math.round(z*100),l:Math.round(M*100)}},y=(x,_,E)=>{E/=100;const P=_*Math.min(E,1-E)/100,A=O=>{const U=(O+x/30)%12,z=E-P*Math.max(Math.min(U-3,9-U,1),-1);return Math.round(255*z).toString(16).padStart(2,"0")};return`#${A(0)}${A(8)}${A(4)}`},w=x=>{n(`/colorDetail/${x.id}`)},R=x=>{navigator.clipboard.writeText(x)};C.useEffect(()=>{(async()=>{try{l(!0),h(null);const _=await Go("white_pastels");if(_.length>0){const E=f(_)}else{console.warn("No white & pastel paint colors found in database, using generated colors");const E=I();t(E)}}catch(_){console.error("Error fetching paint colors:",_),h(_.message);const E=I();t(E)}finally{l(!1)}})()},[]);const I=()=>{const x=[];for(let _=0;_<10;_++){const E=[];for(let P=0;P<9;P++){let A,O,U;_<2?(A=0,O=0,U=95-P*2):_<4?(A=45,O=5+P*2,U=92-P*3):_<6?(A=210,O=8+P*2,U=90-P*3):(A=(_-6)*90,O=20+P*5,U=85-P*3),E.push({id:`fallback-${_}-${P}`,name:`White/Pastel ${_+1}-${P+1}`,hex:y(A,O,U),lightness:U,strip:_,position:P})}x.push(E)}return x};return u.jsxs(u.Fragment,{children:[u.jsx("style",{jsx:!0,children:`
        .container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 2rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: #f8f9fa;
          min-height: 100vh;
        }

        .header {
          text-align: center;
          margin-bottom: 2rem;
          background: white;
          padding: 2rem;
          border-radius: 12px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .title {
          font-size: 2.5rem;
          font-weight: 700;
          color: #4a5568;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          font-size: 1rem;
          color: #666;
          margin-bottom: 1rem;
        }

        .color-wall {
          background: white;
          border-radius: 12px;
          padding: 2rem;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          overflow: hidden;
        }

        .color-strips-container {
          background: #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }

        .color-strip {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          max-width: 120px;
        }

        .color-chip {
          aspect-ratio: 1;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          border: 1px solid rgba(0,0,0,0.1);
        }

        .color-chip:hover {
          transform: scale(1.05);
          z-index: 10;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
          border: 2px solid #333;
        }

        .color-chip:first-child {
          border-top-left-radius: 6px;
          border-top-right-radius: 6px;
        }

        .color-chip:last-child {
          border-bottom-left-radius: 6px;
          border-bottom-right-radius: 6px;
        }

        .color-info-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.9);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s ease;
          z-index: 1000;
        }

        .color-chip:hover .color-info-tooltip {
          opacity: 1;
        }

        .selected-color-panel {
          position: fixed;
          top: 20px;
          right: 20px;
          background: white;
          padding: 1.5rem;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          z-index: 1000;
          min-width: 250px;
          border: 1px solid #e2e8f0;
        }

        .selected-color-panel h3 {
          margin: 0 0 1rem 0;
          font-size: 1.2rem;
          color: #333;
        }

        .color-preview {
          width: 100%;
          height: 80px;
          border-radius: 8px;
          margin-bottom: 1rem;
          border: 1px solid #e2e8f0;
        }

        .color-details {
          font-size: 0.9rem;
          color: #666;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          background: #f7fafc;
          padding: 0.5rem;
          border-radius: 6px;
          margin: 0.5rem 0;
          cursor: pointer;
          text-align: center;
          border: 1px solid #e2e8f0;
        }

        .hex-value:hover {
          background: #edf2f7;
          border-color: #cbd5e0;
        }

        .strip-labels {
          display: flex;
          gap: 2px;
          justify-content: center;
          margin-bottom: 1rem;
          padding: 0 1rem;
        }

        .strip-label {
          flex: 1;
          max-width: 120px;
          text-align: center;
          font-size: 0.8rem;
          color: #666;
          font-weight: 500;
        }

        .close-button {
          position: absolute;
          top: 10px;
          right: 10px;
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: #999;
          padding: 0;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-button:hover {
          color: #333;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),u.jsxs("div",{className:"container",children:[i?u.jsx("div",{className:"color-wall",children:u.jsxs("div",{style:{textAlign:"center",padding:"4rem",color:"#666"},children:[u.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Loading paint colors..."}),u.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #f3f3f3",borderTop:"3px solid #4a5568",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):u.jsxs("div",{className:"color-wall",children:[u.jsx("div",{className:"strip-labels",children:e.map((x,_)=>u.jsxs("div",{className:"strip-label",children:["Strip ",_+1]},_))}),u.jsx("div",{className:"color-strips-container",style:{display:"grid",gridTemplateColumns:`repeat(${e.length}, 1fr)`,gap:"4px"},children:Array.from({length:e[0].length}).map((x,_)=>e.map((E,P)=>{const A=E[_];return A?u.jsx("div",{className:"color-chip",style:{backgroundColor:A.hex},onClick:()=>w(A),children:u.jsxs("div",{className:"color-info-tooltip",children:[A.name,u.jsx("br",{}),A.hex]})},`${P}-${_}`):u.jsx("div",{className:"color-chip",style:{backgroundColor:"transparent",border:"none"}},`${P}-${_}`)}))})]}),r&&u.jsxs("div",{className:"selected-color-panel",children:[u.jsx("button",{className:"close-button",onClick:()=>s(null),children:"×"}),u.jsx("h3",{children:r.name}),u.jsx("div",{className:"color-preview",style:{backgroundColor:r.hex}}),u.jsx("div",{className:"hex-value",onClick:()=>R(r.hex),title:"Click to copy",children:r.hex}),u.jsxs("div",{className:"color-details",children:[r.brand&&u.jsxs("span",{children:["Brand: ",r.brand,u.jsx("br",{})]}),r.finish&&u.jsxs("span",{children:["Finish: ",r.finish,u.jsx("br",{})]}),"Strip: ",r.strip+1,u.jsx("br",{}),"Position: ",r.position+1,u.jsx("br",{}),"Click hex code to copy"]})]})]})]})};function kG(){const[n,e]=C.useState(0),{userLoggedIn:t}=sn()||{userLoggedIn:!1},r=Ye();C.useEffect(()=>{const i=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const s={marginTop:`${n}px`,backgroundColor:"#f8f9fa",minHeight:"100vh"};return u.jsxs(u.Fragment,{children:[u.jsx(Ar,{}),u.jsxs("div",{className:"page-container",style:s,children:[u.jsx("div",{style:{color:"white",padding:"6rem 2rem 2rem",marginBottom:"2rem"},children:u.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:u.jsx("button",{onClick:()=>r("/paint-page"),style:{background:"rgba(255,255,255,0.2)",border:"1px solid black",color:"black",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",marginBottom:"1rem",fontSize:"0.9rem",transition:"all 0.2s ease"},onMouseOver:i=>{i.target.style.background="rgba(0,0,0,0.1)"},onMouseOut:i=>{i.target.style.background="transparent"},children:"← Back to All Colors"})})}),u.jsx("h2",{style:{textAlign:"center",fontSize:"1.8rem",marginBottom:"1.5rem",color:"#333"},children:"Explore our whites and pastels."}),u.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 1rem 4rem"},children:u.jsx(RG,{})}),u.jsx("div",{style:{background:"white",padding:"3rem 2rem",marginTop:"2rem"},children:u.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[u.jsx("h2",{style:{fontSize:"2rem",marginBottom:"1.5rem",color:"#333"},children:"About White & Pastel Paint Colors"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginTop:"2rem",textAlign:"left"},children:[u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fefefe",border:"1px solid #f0f0f0"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#4a5568"},children:"Pure & Fresh"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"White and pastel colors create bright, airy spaces that feel clean and open. Perfect for making rooms appear larger and bringing natural light to any environment."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fefefe",border:"1px solid #f0f0f0"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#4a5568"},children:"Soft Elegance"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"From crisp whites to gentle pastels, our collection offers subtle sophistication and endless decorating possibilities."})]}),u.jsxs("div",{style:{padding:"1.5rem",borderRadius:"8px",background:"#fefefe",border:"1px solid #f0f0f0"},children:[u.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"1rem",color:"#4a5568"},children:"Design Tips"}),u.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0"},children:"Use pure whites for modern minimalism and soft pastels for gentle charm. Layer different white tones for depth and visual interest."})]})]})]})})]}),u.jsx(kr,{})]})}function Fc(n,e=0){return e>0?C.lazy(()=>Promise.all([n(),new Promise(t=>setTimeout(t,e))]).then(([t])=>t)):C.lazy(async()=>{try{return await n()}catch(t){return console.error("Error loading component:",t),{}}})}const AG=()=>{const{user:n,profile:e,loading:t}=Kd(),r=Ye(),s=Ui();return C.useEffect(()=>{if(t)return;if(n&&e&&!e.role&&s.pathname!=="/choose-role"){r("/choose-role");return}const i=["/contractor-dashboard","/available-projects"];n&&e&&e.role!=="contractor"&&i.includes(s.pathname)&&r("/"),console.log("RoleRedirectGate check:",{user:!!n,profile:!!e,role:e==null?void 0:e.role,path:s.pathname})},[n,e,t,s.pathname,r]),null},NG="/Ureno_webdesign/assets/seo_image-CsD-BWBl.png",PG="/Ureno_webdesign/assets/Rocket-BhKaQXGh.png",jG="/Ureno_webdesign/assets/metrics-CwuTjVOH.png",OG="/Ureno_webdesign/assets/Estimate-euYWEMZK.png";var wN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FT=Nn.createContext&&Nn.createContext(wN),LG=["attr","size","title"];function DG(n,e){if(n==null)return{};var t=MG(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function MG(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Bp(){return Bp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bp.apply(this,arguments)}function VT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function $p(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(t),!0).forEach(function(r){FG(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FG(n,e,t){return e=VG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VG(n){var e=UG(n,"string");return typeof e=="symbol"?e:e+""}function UG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bN(n){return n&&n.map((e,t)=>Nn.createElement(e.tag,$p({key:t},e.attr),bN(e.child)))}function Jm(n){return e=>Nn.createElement(BG,Bp({attr:$p({},n.attr)},e),bN(n.child))}function BG(n){var e=t=>{var{attr:r,size:s,title:i}=n,l=DG(n,LG),c=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Nn.createElement("svg",Bp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:$p($p({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Nn.createElement("title",null,i),n.children)};return FT!==void 0?Nn.createElement(FT.Consumer,null,t=>e(t)):e(wN)}function $G(n){return Jm({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(n)}function zG(n){return Jm({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M32 32v432a16 16 0 0 0 16 16h432"},child:[]},{tag:"rect",attr:{width:"80",height:"192",x:"96",y:"224",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]},{tag:"rect",attr:{width:"80",height:"240",x:"240",y:"176",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]},{tag:"rect",attr:{width:"80",height:"304",x:"383.64",y:"112",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]}]})(n)}function HG(n){return Jm({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256.05 80.65Q263.94 80 272 80c106 0 192 86 192 192s-86 192-192 192A192.09 192.09 0 0 1 89.12 330.65"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48C141.12 48 48 141.12 48 256a207.29 207.29 0 0 0 18.09 85L256 256z"},child:[]}]})(n)}function WG(n){return Jm({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.622 1.602a.75.75 0 0 1 .756 0l2.25 1.313a.75.75 0 0 1-.756 1.295L12 3.118 10.128 4.21a.75.75 0 1 1-.756-1.295l2.25-1.313ZM5.898 5.81a.75.75 0 0 1-.27 1.025l-1.14.665 1.14.665a.75.75 0 1 1-.756 1.295L3.75 8.806v.944a.75.75 0 0 1-1.5 0V7.5a.75.75 0 0 1 .372-.648l2.25-1.312a.75.75 0 0 1 1.026.27Zm12.204 0a.75.75 0 0 1 1.026-.27l2.25 1.312a.75.75 0 0 1 .372.648v2.25a.75.75 0 0 1-1.5 0v-.944l-1.122.654a.75.75 0 1 1-.756-1.295l1.14-.665-1.14-.665a.75.75 0 0 1-.27-1.025Zm-9 5.25a.75.75 0 0 1 1.026-.27L12 11.882l1.872-1.092a.75.75 0 1 1 .756 1.295l-1.878 1.096V15a.75.75 0 0 1-1.5 0v-1.82l-1.878-1.095a.75.75 0 0 1-.27-1.025ZM3 13.5a.75.75 0 0 1 .75.75v1.82l1.878 1.095a.75.75 0 1 1-.756 1.295l-2.25-1.312a.75.75 0 0 1-.372-.648v-2.25A.75.75 0 0 1 3 13.5Zm18 0a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.372.648l-2.25 1.312a.75.75 0 1 1-.756-1.295l1.878-1.096V14.25a.75.75 0 0 1 .75-.75Zm-9 5.25a.75.75 0 0 1 .75.75v.944l1.122-.654a.75.75 0 1 1 .756 1.295l-2.25 1.313a.75.75 0 0 1-.756 0l-2.25-1.313a.75.75 0 1 1 .756-1.295l1.122.654V19.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(n)}const qG="_container_5qn3e_63",GG="_btn_5qn3e_65",KG="_btnPrimary_5qn3e_75",QG="_h1_5qn3e_90",YG="_h2_5qn3e_90",XG="_h3_5qn3e_90",JG="_h4_5qn3e_90",ZG="_sectionText_5qn3e_96",eK="_active_5qn3e_127",tK="_navOpenBtn_5qn3e_137",nK="_navCloseBtn_5qn3e_137",rK="_navbar_5qn3e_141",sK="_overlay_5qn3e_161",iK="_hero_5qn3e_173",oK="_heroContent_5qn3e_184",aK="_heroTitle_5qn3e_185",lK="_heroForm_5qn3e_186",cK="_inputField_5qn3e_188",uK="_heroBanner_5qn3e_203",dK="_service_5qn3e_207",hK="_sectionTitle_5qn3e_208",fK="_cardIcon_5qn3e_217",pK="_serviceList_5qn3e_228",mK="_serviceCard_5qn3e_236",gK="_cardTitle_5qn3e_256",yK="_cardText_5qn3e_257",vK="_about_5qn3e_268",_K="_aboutTop_5qn3e_271",xK="_aboutBottom_5qn3e_273",wK="_aboutBanner_5qn3e_273",bK="_features_5qn3e_280",EK="_pricing_5qn3e_294",SK="_faq_5qn3e_303",ee={container:qG,btn:GG,btnPrimary:KG,h1:QG,h2:YG,h3:XG,h4:JG,sectionText:ZG,active:eK,navOpenBtn:tK,navCloseBtn:nK,navbar:rK,overlay:sK,hero:iK,heroContent:oK,heroTitle:aK,heroForm:lK,inputField:cK,heroBanner:uK,service:dK,sectionTitle:hK,cardIcon:fK,serviceList:pK,serviceCard:mK,cardTitle:gK,cardText:yK,about:vK,aboutTop:_K,aboutBottom:xK,aboutBanner:wK,features:bK,pricing:EK,faq:SK},TK=()=>{const[n,e]=C.useState(!1),[t,r]=C.useState(!1),[s,i]=C.useState(!1),l=()=>{e(!n)};C.useEffect(()=>{const h=()=>{window.scrollY>=10?r(!0):r(!1),window.scrollY>=800?i(!0):i(!1)};return window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]);const c=()=>{window.scrollTo({top:0,behavior:"smooth"})};return u.jsxs(u.Fragment,{children:[u.jsxs("header",{className:`${t?"active":""}`,"data-header":!0,children:[u.jsx("div",{className:`${ee.overlay} ${n?"active":""}`,"data-overlay":!0,onClick:l}),u.jsxs("div",{className:`${ee.container}`,children:[u.jsx("a",{href:"#",className:`${ee.logo}`,children:u.jsx("img",{src:xx,alt:"SEO illustration"})}),u.jsx("button",{className:`${ee.navOpenBtn}`,"data-nav-open-btn":!0,onClick:l,children:u.jsx("ion-icon",{name:"menu-outline"})}),u.jsxs("nav",{className:`${ee.navbar} ${n?"active":""}`,"data-navbar":!0,children:[u.jsx("button",{className:`${ee.navCloseBtn}`,"data-nav-close-btn":!0,onClick:l,children:u.jsx("ion-icon",{name:"close-outline"})}),u.jsx("button",{className:`${ee.btn} ${ee.btnPrimary}`,children:"Let's Get Started"})]})]})]}),u.jsx("main",{children:u.jsxs("article",{children:[u.jsx("section",{className:`${ee.hero}`,id:"hero",children:u.jsxs("div",{className:`${ee.container}`,children:[u.jsxs("div",{className:`${ee.heroContent}`,children:[u.jsx("h1",{className:`${ee.h1} ${ee.heroTitle}`,children:"Make renovations faster, cheaper, and radically more transparent!"}),u.jsxs("form",{action:"",className:`${ee.heroForm}`,children:[u.jsx("input",{type:"text",name:"name",placeholder:"Enter your name",required:!0,className:ee.inputField}),u.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",required:!0,className:ee.inputField}),u.jsx("button",{type:"submit",className:`${ee.btn} ${ee.btnPrimary}`,children:"Get Started Now"})]})]}),u.jsx("figure",{className:`${ee.heroBanner}`,children:u.jsx("img",{src:NG,alt:"SEO illustration"})})]})}),u.jsx("section",{className:`${ee.service}`,id:"service",children:u.jsxs("div",{className:`${ee.container}`,children:[u.jsx("h2",{className:`${ee.h2} ${ee.sectionTitle}`,children:"Launch Renovation Projects with Confidence"}),u.jsx("p",{className:`${ee.sectionText}`,children:"Say goodbye to phone-tag and unclear estimates. URENO gives homeowners instant pricing, contractor matching, and a real-time dashboard so projects start faster and finish smarter."}),u.jsxs("ul",{className:`${ee.serviceList}`,children:[u.jsx("li",{children:u.jsxs("div",{className:`${ee.serviceCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx($G,{size:80})}),u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Connect with Trusted Contractors"}),u.jsx("p",{className:`${ee.cardText}`,children:"URENO connects homeowners with vetted local contractors—ranked by availability, cost, and performance, with no hidden fees."})]})}),u.jsx("li",{children:u.jsxs("div",{className:`${ee.serviceCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx(zG,{size:80})}),u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Track Progress"}),u.jsx("p",{className:`${ee.cardText}`,children:"From permit status to paint drying, timelines, payments, and milestones—all in one place."})]})}),u.jsx("li",{children:u.jsxs("div",{className:`${ee.serviceCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx(HG,{size:80})}),u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Shop Renovation Materials Seamlessly"}),u.jsx("p",{className:`${ee.cardText}`,children:"Choose from transparent, pre-priced flooring and paint options sourced from vetted manufacturers. "})]})}),u.jsx("li",{children:u.jsxs("div",{className:`${ee.serviceCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx(WG,{size:80})}),u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Built-In Cost Transparency and Fair Pricing"}),u.jsx("p",{className:`${ee.cardText}`,children:"Contractors save time bidding, and homeowners avoid surprise costs—thanks to milestone-based billing and upfront estimates."})]})})]})]})}),u.jsx("section",{className:`${ee.about}`,id:"about",children:u.jsxs("div",{className:`${ee.container}`,children:[u.jsxs("div",{className:`${ee.aboutTop}`,children:[u.jsx("figure",{className:`${ee.aboutBanner}`,children:u.jsx("img",{src:PG,alt:"SEO illustration"})}),u.jsxs("div",{className:`${ee.aboutContent}`,children:[u.jsx("p",{className:`${ee.sectionSubtitle}`,children:"Quick and Transparent"}),u.jsx("h2",{className:`${ee.h3} ${ee.sectionTitle}`,children:"From Click to Contractor - Renocvation, Simplified"}),u.jsx("p",{className:`${ee.sectionText}`,children:"URENO skips the search engine race and puts homeowners directly in control. With instant square-footage pricing, verified local contractors, and real-time dashboards, projects start faster and stay on track."}),u.jsx("p",{className:`${ee.sectionText}`,children:"Forget chasing—URENO brings the full renovation journey into one seamless, digital workflow. Ready to cut costs, save time, and rebuild trust in the renovation process?"})]})]}),u.jsxs("div",{className:`${ee.aboutBottom}`,children:[u.jsx("figure",{className:`${ee.aboutBanner}`,children:u.jsx("img",{src:jG,alt:"SEO illustration"})}),u.jsxs("div",{className:`${ee.aboutContent}`,children:[u.jsx("h3",{className:`${ee.h4} ${ee.aboutBottomTitle}`,children:"Project Insights & Smart Tracking"}),u.jsx("p",{className:`${ee.sectionText}`,children:"Use a set of sophisticated techniques and tools used to analyze complex data sets and extract valuable insights that go beyond traditional business intelligence methods. Here we can include machine learning, and data mining techniques to uncover patterns, predict future trends, and support decision-making processes"}),u.jsx("h3",{className:`${ee.h4} ${ee.aboutBottomTitle}`,children:"Data That Drives Every Decision"}),u.jsxs("ul",{className:`${ee.aboutBottomList}`,children:[u.jsx("li",{className:`${ee.aboutBottomItem}`,children:u.jsx("p",{className:`${ee.sectionText}`,children:"Predict renovation timelines based on project size and complexity"})}),u.jsx("li",{className:`${ee.aboutBottomItem}`,children:u.jsx("p",{className:`${ee.sectionText}`,children:"Monitor license status, materials, and progress in real time"})}),u.jsx("li",{className:`${ee.aboutBottomItem}`,children:u.jsx("p",{className:`${ee.sectionText}`,children:"Support smarter decision-making with transparent cost breakdowns"})}),u.jsx("li",{className:`${ee.aboutBottomItem}`,children:u.jsx("p",{className:`${ee.sectionText}`,children:" Automate payments tied to verified milestones"})})]})]})]})]})}),u.jsx("section",{className:`${ee.features}`,id:"features",children:u.jsxs("div",{className:`${ee.container}`,children:[u.jsx("p",{className:`${ee.sectionSubtitle}`,children:"Market Research"}),u.jsx("h2",{className:`${ee.h3} ${ee.sectionTitle}`,children:"URENO isn’t just a platform, it’s a full-stack solution for modernizing renovation."}),u.jsxs("ul",{className:`${ee.featuresList}`,children:[u.jsx("li",{children:u.jsxs("div",{className:`${ee.featuresCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx("ion-icon",{name:"analytics-outline"})}),u.jsxs("div",{className:"card-content",children:[u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Real-Time Project Intelligence"}),u.jsx("p",{className:`${ee.sectionText}`,children:"Use URENO’s milestone-based dashboards and smart algorithms to track permits, materials, and contractor timelines—turning raw data into decisions that cut delays and save money."})]})]})}),u.jsx("li",{children:u.jsxs("div",{className:`${ee.featuresCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx("ion-icon",{name:"mail-open-outline"})}),u.jsxs("div",{className:"card-content",children:[u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Transparent Cost Breakdown"}),u.jsx("p",{className:`${ee.sectionText}`,children:"From square footage estimates to labor margins, URENO keeps homeowners informed and contractors accountable—with every dollar tied to a verified step in the process."})]})]})}),u.jsx("li",{children:u.jsxs("div",{className:`${ee.featuresCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx("ion-icon",{name:"film-outline"})}),u.jsxs("div",{className:"card-content",children:[u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Built-In Customer Communication"}),u.jsx("p",{className:`${ee.sectionText}`,children:"Automated notifications and project updates keep homeowners engaged, informed, and stress-free—no follow-up calls or email chains required."})]})]})}),u.jsx("li",{children:u.jsxs("div",{className:`${ee.featuresCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx("ion-icon",{name:"globe-outline"})}),u.jsxs("div",{className:"card-content",children:[u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Visual Progress Tracking"}),u.jsx("p",{className:`${ee.sectionText}`,children:"Photos, updates, and contractor check-ins show exactly what’s happening on site—so there’s no confusion at the finish line."})]})]})}),u.jsx("li",{children:u.jsxs("div",{className:`${ee.featuresCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx("ion-icon",{name:"magnet-outline"})}),u.jsxs("div",{className:"card-content",children:[u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Smart Discovery Tools"}),u.jsx("p",{className:`${ee.sectionText}`,children:"Homeowners can browse pre-priced renovation options, compare contractor availability, and schedule projects—all from one interface."})]})]})}),u.jsx("li",{children:u.jsxs("div",{className:`${ee.featuresCard}`,children:[u.jsx("div",{className:`${ee.cardIcon}`,children:u.jsx("ion-icon",{name:"layers-outline"})}),u.jsxs("div",{className:"card-content",children:[u.jsx("h3",{className:`${ee.h4} ${ee.cardTitle}`,children:"Dynamic Contractor Matching"}),u.jsx("p",{className:`${ee.sectionText}`,children:"Projects are routed to licensed contractors based on availability, location, and past performance—boosting job satisfaction and completion speed on both sides."})]})]})})]})]})}),u.jsx("section",{className:`${ee.pricing}`,id:"pricing",children:u.jsxs("div",{className:`${ee.container}`,children:[u.jsxs("div",{className:`${ee.pricingContent}`,children:[u.jsx("p",{className:`${ee.sectionSubtitle}`,children:"Renovation Made Effortless"}),u.jsx("h2",{className:`${ee.h3} ${ee.sectionTitle}`,children:"One seamless platform for every project"}),u.jsx("p",{className:`${ee.sectionText}`,children:"URENO simplifies the entire renovation journey—from estimate to final walkthrough. Every feature is built with clarity and speed in mind, whether you’re a first-time homeowner or a seasoned contractor."}),u.jsx("button",{className:`${ee.btn} ${ee.btnPrimary}`,children:"Pricing & Packages"})]}),u.jsx("figure",{className:`${ee.pricingBanner}`,children:u.jsx("img",{src:OG,alt:"SEO illustration"})})]})}),u.jsx("section",{className:`${ee.faq}`,id:"faq",children:u.jsxs("div",{className:`${ee.container}`,children:[u.jsx("p",{className:`${ee.sectionSubtitle}`,children:"Frequently Asked Questions"}),u.jsxs("p",{className:`${ee.faqBottomLink}`,children:["Have any more questions?",u.jsx("a",{href:"#",children:"Ask your question here"})]})]})})]})}),u.jsx("button",{className:`${ee.goTopBtn} ${s?ee.active:""}`,"data-go-top":!0,onClick:c,children:u.jsx("ion-icon",{name:"arrow-up-outline"})})]})},CK=Fc(()=>gc(()=>import("./designer-Dv4XcWPx.js"),[])),IK=Fc(()=>gc(()=>import("./profile-1AvtoaAd.js"),[])),RK=Fc(()=>gc(()=>import("./projectsDashboard-sqRPXGri.js"),[])),kK=Fc(()=>gc(()=>import("./CreateProject-CHTdevwc.js"),[])),AK=Fc(()=>gc(()=>import("./MessagePage-3GmRQU7D.js"),[])),NK=Fc(()=>gc(()=>import("./AdminDashboard-BwCgH8dG.js"),[])),PK=({children:n})=>{const{currentUser:e}=sn(),{profile:t}=C.useContext(Ga);return!e||(t==null?void 0:t.role)!=="admin"?null:n},y0=({children:n})=>{const{currentUser:e}=sn(),{profile:t}=C.useContext(Ga);return!e||!t||typeof t.role!="string"?u.jsx(HR,{}):t.role!=="contractor"?u.jsx(YT,{to:"/"}):n},jK=document.getElementById("root"),OK=MP.createRoot(jK);OK.render(u.jsx(C.StrictMode,{children:u.jsx(u9,{children:u.jsx(h9,{children:u.jsx(m9,{children:u.jsxs(Xj,{basename:"/Ureno_webdesign/",children:[u.jsx(AG,{}),u.jsx(C.Suspense,{fallback:u.jsx(HR,{}),children:u.jsxs(Ij,{children:[u.jsx(Ue,{path:"/",element:u.jsx(PB,{})}),u.jsx(Ue,{path:"/product-page",element:u.jsx(zB,{})}),u.jsx(Ue,{path:"/paint-page",element:u.jsx(HB,{})}),u.jsx(Ue,{path:"/productDetail/:productId",element:u.jsx(QB,{})}),u.jsx(Ue,{path:"/colorDetail/:colorId",element:u.jsx(XB,{})}),u.jsx(Ue,{path:"/designerPage",element:u.jsx(CK,{})}),u.jsx(Ue,{path:"/ProfileDashboard",element:u.jsx(IK,{})}),u.jsx(Ue,{path:"/edit-profile",element:u.jsx(_8,{})}),u.jsx(Ue,{path:"/sign-in",element:u.jsx(qB,{})}),u.jsx(Ue,{path:"/Login",element:u.jsx(L8,{})}),u.jsx(Ue,{path:"/sign-up",element:u.jsx(KB,{})}),u.jsx(Ue,{path:"/admin",element:u.jsx(PK,{children:u.jsx(NK,{})})}),u.jsx(Ue,{path:"/projects",element:u.jsx(RK,{})}),u.jsx(Ue,{path:"/projects/new",element:u.jsx(kK,{})}),u.jsx(Ue,{path:"/savedItems",element:u.jsx(x8,{})}),u.jsx(Ue,{path:"/messages",element:u.jsx(AK,{})}),u.jsx(Ue,{path:"/choose-role",element:u.jsx(D8,{})}),u.jsx(Ue,{path:"/projects/edit/:projectId",element:u.jsx(M8,{})}),u.jsx(Ue,{path:"/contractor-dashboard",element:u.jsx(y0,{children:u.jsx(AW,{})})}),u.jsx(Ue,{path:"/available-projects",element:u.jsx(y0,{children:u.jsx(F8,{})})}),u.jsx(Ue,{path:"/projects/view/:projectId",element:u.jsx(y0,{children:u.jsx(NW,{})})}),u.jsx(Ue,{path:"/projects/:id/requests",element:u.jsx(PW,{})}),u.jsx(Ue,{path:"/projects/:id/inquiries",element:u.jsx(jW,{})}),u.jsx(Ue,{path:"/LandingPage",element:u.jsx(TK,{})}),u.jsx(Ue,{path:"/TestChat",element:u.jsx(dG,{})}),u.jsx(Ue,{path:"/TestImage",element:u.jsx(hG,{})}),u.jsx(Ue,{path:"/ChatUI",element:u.jsx(fG,{})}),u.jsx(Ue,{path:"/Paint",element:u.jsx(Uk,{})}),u.jsx(Ue,{path:"/red-shades",element:u.jsx(mG,{})}),u.jsx(Ue,{path:"/orange-shades",element:u.jsx(yG,{})}),u.jsx(Ue,{path:"/yellow-shades",element:u.jsx(_G,{})}),u.jsx(Ue,{path:"/green-shades",element:u.jsx(wG,{})}),u.jsx(Ue,{path:"/blue-shades",element:u.jsx(EG,{})}),u.jsx(Ue,{path:"/purple-shades",element:u.jsx(TG,{})}),u.jsx(Ue,{path:"/neutral-shades",element:u.jsx(IG,{})}),u.jsx(Ue,{path:"/white-shades",element:u.jsx(kG,{})})]})}),u.jsx(Pk,{})]})})})})}));export{II as A,wB as B,Fn as C,kW as D,UK as E,kr as F,vs as G,Bd as H,HR as L,s$ as P,Nn as R,Ga as U,mv as _,Ok as a,gv as b,Gn as c,KK as d,Ye as e,sn as f,fx as g,at as h,jk as i,u as j,Kd as k,zK as l,V8 as m,sr as n,Pt as o,uB as p,wr as q,C as r,Pn as s,br as t,Rr as u,Nt as v,WK as w,BK as x,$K as y,b6 as z};
