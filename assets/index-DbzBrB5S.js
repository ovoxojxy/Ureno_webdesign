(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const ZN="modulepreload",eP=function(n){return"/Ureno_webdesign/"+n},qE={},zl=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(t.map(h=>{if(h=eP(h),h in qE)return;qE[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":ZN,g||(E.as="script"),E.crossOrigin="",E.href=h,d&&E.setAttribute("nonce",d),document.head.appendChild(E),g)return new Promise((I,C)=>{E.addEventListener("load",I),E.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Gu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ag={exports:{}},Jc={},bg={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function tP(){if(HE)return Ve;HE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function x(W,ee,ge){this.props=W,this.context=ee,this.refs=A,this.updater=ge||I}x.prototype.isReactComponent={},x.prototype.setState=function(W,ee){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ee,"setState")},x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function O(){}O.prototype=x.prototype;function F(W,ee,ge){this.props=W,this.context=ee,this.refs=A,this.updater=ge||I}var U=F.prototype=new O;U.constructor=F,C(U,x.prototype),U.isPureReactComponent=!0;var B=Array.isArray,G=Object.prototype.hasOwnProperty,X={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function N(W,ee,ge){var Se,Ne={},je=null,Ue=null;if(ee!=null)for(Se in ee.ref!==void 0&&(Ue=ee.ref),ee.key!==void 0&&(je=""+ee.key),ee)G.call(ee,Se)&&!k.hasOwnProperty(Se)&&(Ne[Se]=ee[Se]);var Me=arguments.length-2;if(Me===1)Ne.children=ge;else if(1<Me){for(var Xe=Array(Me),Dt=0;Dt<Me;Dt++)Xe[Dt]=arguments[Dt+2];Ne.children=Xe}if(W&&W.defaultProps)for(Se in Me=W.defaultProps,Me)Ne[Se]===void 0&&(Ne[Se]=Me[Se]);return{$$typeof:n,type:W,key:je,ref:Ue,props:Ne,_owner:X.current}}function P(W,ee){return{$$typeof:n,type:W.type,key:ee,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function M(W){var ee={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ge){return ee[ge]})}var V=/\/+/g;function D(W,ee){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):ee.toString(36)}function ue(W,ee,ge,Se,Ne){var je=typeof W;(je==="undefined"||je==="boolean")&&(W=null);var Ue=!1;if(W===null)Ue=!0;else switch(je){case"string":case"number":Ue=!0;break;case"object":switch(W.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=W,Ne=Ne(Ue),W=Se===""?"."+D(Ue,0):Se,B(Ne)?(ge="",W!=null&&(ge=W.replace(V,"$&/")+"/"),ue(Ne,ee,ge,"",function(Dt){return Dt})):Ne!=null&&(L(Ne)&&(Ne=P(Ne,ge+(!Ne.key||Ue&&Ue.key===Ne.key?"":(""+Ne.key).replace(V,"$&/")+"/")+W)),ee.push(Ne)),1;if(Ue=0,Se=Se===""?".":Se+":",B(W))for(var Me=0;Me<W.length;Me++){je=W[Me];var Xe=Se+D(je,Me);Ue+=ue(je,ee,ge,Xe,Ne)}else if(Xe=E(W),typeof Xe=="function")for(W=Xe.call(W),Me=0;!(je=W.next()).done;)je=je.value,Xe=Se+D(je,Me++),Ue+=ue(je,ee,ge,Xe,Ne);else if(je==="object")throw ee=String(W),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Re(W,ee,ge){if(W==null)return W;var Se=[],Ne=0;return ue(W,Se,"","",function(je){return ee.call(ge,je,Ne++)}),Se}function be(W){if(W._status===-1){var ee=W._result;ee=ee(),ee.then(function(ge){(W._status===0||W._status===-1)&&(W._status=1,W._result=ge)},function(ge){(W._status===0||W._status===-1)&&(W._status=2,W._result=ge)}),W._status===-1&&(W._status=0,W._result=ee)}if(W._status===1)return W._result.default;throw W._result}var Ie={current:null},oe={transition:null},de={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:oe,ReactCurrentOwner:X};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Re,forEach:function(W,ee,ge){Re(W,function(){ee.apply(this,arguments)},ge)},count:function(W){var ee=0;return Re(W,function(){ee++}),ee},toArray:function(W){return Re(W,function(ee){return ee})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ve.Component=x,Ve.Fragment=t,Ve.Profiler=s,Ve.PureComponent=F,Ve.StrictMode=r,Ve.Suspense=d,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ve.act=ae,Ve.cloneElement=function(W,ee,ge){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Se=C({},W.props),Ne=W.key,je=W.ref,Ue=W._owner;if(ee!=null){if(ee.ref!==void 0&&(je=ee.ref,Ue=X.current),ee.key!==void 0&&(Ne=""+ee.key),W.type&&W.type.defaultProps)var Me=W.type.defaultProps;for(Xe in ee)G.call(ee,Xe)&&!k.hasOwnProperty(Xe)&&(Se[Xe]=ee[Xe]===void 0&&Me!==void 0?Me[Xe]:ee[Xe])}var Xe=arguments.length-2;if(Xe===1)Se.children=ge;else if(1<Xe){Me=Array(Xe);for(var Dt=0;Dt<Xe;Dt++)Me[Dt]=arguments[Dt+2];Se.children=Me}return{$$typeof:n,type:W.type,key:Ne,ref:je,props:Se,_owner:Ue}},Ve.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Ve.createElement=N,Ve.createFactory=function(W){var ee=N.bind(null,W);return ee.type=W,ee},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(W){return{$$typeof:c,render:W}},Ve.isValidElement=L,Ve.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:be}},Ve.memo=function(W,ee){return{$$typeof:h,type:W,compare:ee===void 0?null:ee}},Ve.startTransition=function(W){var ee=oe.transition;oe.transition={};try{W()}finally{oe.transition=ee}},Ve.unstable_act=ae,Ve.useCallback=function(W,ee){return Ie.current.useCallback(W,ee)},Ve.useContext=function(W){return Ie.current.useContext(W)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(W){return Ie.current.useDeferredValue(W)},Ve.useEffect=function(W,ee){return Ie.current.useEffect(W,ee)},Ve.useId=function(){return Ie.current.useId()},Ve.useImperativeHandle=function(W,ee,ge){return Ie.current.useImperativeHandle(W,ee,ge)},Ve.useInsertionEffect=function(W,ee){return Ie.current.useInsertionEffect(W,ee)},Ve.useLayoutEffect=function(W,ee){return Ie.current.useLayoutEffect(W,ee)},Ve.useMemo=function(W,ee){return Ie.current.useMemo(W,ee)},Ve.useReducer=function(W,ee,ge){return Ie.current.useReducer(W,ee,ge)},Ve.useRef=function(W){return Ie.current.useRef(W)},Ve.useState=function(W){return Ie.current.useState(W)},Ve.useSyncExternalStore=function(W,ee,ge){return Ie.current.useSyncExternalStore(W,ee,ge)},Ve.useTransition=function(){return Ie.current.useTransition()},Ve.version="18.3.1",Ve}var KE;function Rv(){return KE||(KE=1,bg.exports=tP()),bg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function nP(){if(GE)return Jc;GE=1;var n=Rv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var g,v={},E=null,I=null;h!==void 0&&(E=""+h),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(I=d.ref);for(g in d)r.call(d,g)&&!o.hasOwnProperty(g)&&(v[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:c,key:E,ref:I,props:v,_owner:s.current}}return Jc.Fragment=t,Jc.jsx=l,Jc.jsxs=l,Jc}var QE;function rP(){return QE||(QE=1,Ag.exports=nP()),Ag.exports}var m=rP(),S=Rv();const Rt=Gu(S);var Mh={},Ng={exports:{}},Fn={},Pg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function sP(){return YE||(YE=1,function(n){function e(oe,de){var ae=oe.length;oe.push(de);e:for(;0<ae;){var W=ae-1>>>1,ee=oe[W];if(0<s(ee,de))oe[W]=de,oe[ae]=ee,ae=W;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var de=oe[0],ae=oe.pop();if(ae!==de){oe[0]=ae;e:for(var W=0,ee=oe.length,ge=ee>>>1;W<ge;){var Se=2*(W+1)-1,Ne=oe[Se],je=Se+1,Ue=oe[je];if(0>s(Ne,ae))je<ee&&0>s(Ue,Ne)?(oe[W]=Ue,oe[je]=ae,W=je):(oe[W]=Ne,oe[Se]=ae,W=Se);else if(je<ee&&0>s(Ue,ae))oe[W]=Ue,oe[je]=ae,W=je;else break e}}return de}function s(oe,de){var ae=oe.sortIndex-de.sortIndex;return ae!==0?ae:oe.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],h=[],g=1,v=null,E=3,I=!1,C=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(oe){for(var de=t(h);de!==null;){if(de.callback===null)r(h);else if(de.startTime<=oe)r(h),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(h)}}function B(oe){if(A=!1,U(oe),!C)if(t(d)!==null)C=!0,be(G);else{var de=t(h);de!==null&&Ie(B,de.startTime-oe)}}function G(oe,de){C=!1,A&&(A=!1,O(N),N=-1),I=!0;var ae=E;try{for(U(de),v=t(d);v!==null&&(!(v.expirationTime>de)||oe&&!M());){var W=v.callback;if(typeof W=="function"){v.callback=null,E=v.priorityLevel;var ee=W(v.expirationTime<=de);de=n.unstable_now(),typeof ee=="function"?v.callback=ee:v===t(d)&&r(d),U(de)}else r(d);v=t(d)}if(v!==null)var ge=!0;else{var Se=t(h);Se!==null&&Ie(B,Se.startTime-de),ge=!1}return ge}finally{v=null,E=ae,I=!1}}var X=!1,k=null,N=-1,P=5,L=-1;function M(){return!(n.unstable_now()-L<P)}function V(){if(k!==null){var oe=n.unstable_now();L=oe;var de=!0;try{de=k(!0,oe)}finally{de?D():(X=!1,k=null)}}else X=!1}var D;if(typeof F=="function")D=function(){F(V)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Re=ue.port2;ue.port1.onmessage=V,D=function(){Re.postMessage(null)}}else D=function(){x(V,0)};function be(oe){k=oe,X||(X=!0,D())}function Ie(oe,de){N=x(function(){oe(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){C||I||(C=!0,be(G))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(oe){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var ae=E;E=de;try{return oe()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,de){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ae=E;E=oe;try{return de()}finally{E=ae}},n.unstable_scheduleCallback=function(oe,de,ae){var W=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?W+ae:W):ae=W,oe){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,oe={id:g++,callback:de,priorityLevel:oe,startTime:ae,expirationTime:ee,sortIndex:-1},ae>W?(oe.sortIndex=ae,e(h,oe),t(d)===null&&oe===t(h)&&(A?(O(N),N=-1):A=!0,Ie(B,ae-W))):(oe.sortIndex=ee,e(d,oe),C||I||(C=!0,be(G))),oe},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(oe){var de=E;return function(){var ae=E;E=de;try{return oe.apply(this,arguments)}finally{E=ae}}}}(kg)),kg}var XE;function iP(){return XE||(XE=1,Pg.exports=sP()),Pg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function oP(){if(JE)return Fn;JE=1;var n=Rv(),e=iP();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function E(i){return d.call(v,i)?!0:d.call(g,i)?!1:h.test(i)?v[i]=!0:(g[i]=!0,!1)}function I(i,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,a,u,p){if(a===null||typeof a>"u"||I(i,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(i,a,u,p,y,w,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=w,this.removeEmptyString=R}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];x[a]=new A(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(O,F);x[a]=new A(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(O,F);x[a]=new A(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(O,F);x[a]=new A(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function U(i,a,u,p){var y=x.hasOwnProperty(a)?x[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,u,y,p)&&(u=null),p||y===null?E(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):y.mustUseProperty?i[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,p=y.attributeNamespace,u===null?i.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?i.setAttributeNS(p,a,u):i.setAttribute(a,u))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),X=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),oe=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,W;function ee(i){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+i}var ge=!1;function Se(i,a){if(!i||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Q){var p=Q}Reflect.construct(i,[],a)}else{try{a.call()}catch(Q){p=Q}i.call(a.prototype)}else{try{throw Error()}catch(Q){p=Q}i()}}catch(Q){if(Q&&p&&typeof Q.stack=="string"){for(var y=Q.stack.split(`
`),w=p.stack.split(`
`),R=y.length-1,j=w.length-1;1<=R&&0<=j&&y[R]!==w[j];)j--;for(;1<=R&&0<=j;R--,j--)if(y[R]!==w[j]){if(R!==1||j!==1)do if(R--,j--,0>j||y[R]!==w[j]){var $=`
`+y[R].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=R&&0<=j);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function Ne(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case X:return"Portal";case P:return"Profiler";case N:return"StrictMode";case D:return"Suspense";case ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case V:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Re:return a=i.displayName||null,a!==null?a:je(i.type)||"Memo";case be:a=i._payload,i=i._init;try{return je(i(a))}catch{}}return null}function Ue(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(a);case 8:return a===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xe(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Dt(i){var a=Xe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(R){p=""+R,w.call(this,R)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Gn(i){i._valueTracker||(i._valueTracker=Dt(i))}function mi(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return i&&(p=Xe(i)?i.checked?"true":"false":i.value),i=p,i!==u?(a.setValue(i),!0):!1}function Rr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function bs(i,a){var u=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function gi(i,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=Me(a.value!=null?a.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function yi(i,a){a=a.checked,a!=null&&U(i,"checked",a,!1)}function vi(i,a){yi(i,a);var u=Me(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?_i(i,a.type,u):a.hasOwnProperty("defaultValue")&&_i(i,a.type,Me(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Sa(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function _i(i,a,u){(a!=="number"||Rr(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var en=Array.isArray;function Pn(i,a,u,p){if(i=i.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=a.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Me(u),a=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function wi(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ns(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(en(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:Me(u)}}function Zr(i,a){var u=Me(a.value),p=Me(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function Ei(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function It(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?It(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var cr,lc=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,y){MSApp.execUnsafeLocalFunction(function(){return i(a,u,p,y)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=cr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Ti(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ao=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(i){Ao.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Ro[a]=Ro[i]})});function cc(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Ro.hasOwnProperty(i)&&Ro[i]?(""+a).trim():a+"px"}function uc(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=cc(u,a[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,y):i[u]=y}}var dc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hc(i,a){if(a){if(dc[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function fc(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=null;function Ca(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ra=null,ur=null,es=null;function Aa(i){if(i=Mc(i)){if(typeof Ra!="function")throw Error(t(280));var a=i.stateNode;a&&(a=Jd(a),Ra(i.stateNode,i.type,a))}}function ts(i){ur?es?es.push(i):es=[i]:ur=i}function pc(){if(ur){var i=ur,a=es;if(es=ur=null,Aa(i),a)for(i=0;i<a.length;i++)Aa(a[i])}}function No(i,a){return i(a)}function mc(){}var Ps=!1;function gc(i,a,u){if(Ps)return i(a,u);Ps=!0;try{return No(i,a,u)}finally{Ps=!1,(ur!==null||es!==null)&&(mc(),pc())}}function Pt(i,a){var u=i.stateNode;if(u===null)return null;var p=Jd(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var ba=!1;if(c)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){ba=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{ba=!1}function Po(i,a,u,p,y,w,R,j,$){var Q=Array.prototype.slice.call(arguments,3);try{a.apply(u,Q)}catch(se){this.onError(se)}}var ko=!1,Na=null,br=!1,yc=null,nm={onError:function(i){ko=!0,Na=i}};function Pa(i,a,u,p,y,w,R,j,$){ko=!1,Na=null,Po.apply(nm,arguments)}function xd(i,a,u,p,y,w,R,j,$){if(Pa.apply(this,arguments),ko){if(ko){var Q=Na;ko=!1,Na=null}else throw Error(t(198));br||(br=!0,yc=Q)}}function Nr(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Oo(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Pr(i){if(Nr(i)!==i)throw Error(t(188))}function Id(i){var a=i.alternate;if(!a){if(a=Nr(i),a===null)throw Error(t(188));return a!==i?null:i}for(var u=i,p=a;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return Pr(y),i;if(w===p)return Pr(y),a;w=w.sibling}throw Error(t(188))}if(u.return!==p.return)u=y,p=w;else{for(var R=!1,j=y.child;j;){if(j===u){R=!0,u=y,p=w;break}if(j===p){R=!0,p=y,u=w;break}j=j.sibling}if(!R){for(j=w.child;j;){if(j===u){R=!0,u=w,p=y;break}if(j===p){R=!0,p=w,u=y;break}j=j.sibling}if(!R)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:a}function vc(i){return i=Id(i),i!==null?ka(i):null}function ka(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ka(i);if(a!==null)return a;i=i.sibling}return null}var Oa=e.unstable_scheduleCallback,_c=e.unstable_cancelCallback,Sd=e.unstable_shouldYield,rm=e.unstable_requestPaint,st=e.unstable_now,Cd=e.unstable_getCurrentPriorityLevel,Do=e.unstable_ImmediatePriority,xi=e.unstable_UserBlockingPriority,dr=e.unstable_NormalPriority,wc=e.unstable_LowPriority,Rd=e.unstable_IdlePriority,Lo=null,Qn=null;function Ad(i){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Lo,i,void 0,(i.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Nd,Ec=Math.log,bd=Math.LN2;function Nd(i){return i>>>=0,i===0?32:31-(Ec(i)/bd|0)|0}var Da=64,La=4194304;function Ii(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function jo(i,a){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes,R=u&268435455;if(R!==0){var j=R&~y;j!==0?p=Ii(j):(w&=R,w!==0&&(p=Ii(w)))}else R=u&~y,R!==0?p=Ii(R):w!==0&&(p=Ii(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)u=31-Sn(a),y=1<<u,p|=i[u],a&=~y;return p}function sm(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(i,a){for(var u=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes;0<w;){var R=31-Sn(w),j=1<<R,$=y[R];$===-1?((j&u)===0||(j&p)!==0)&&(y[R]=sm(j,a)):$<=a&&(i.expiredLanes|=j),w&=~j}}function Yn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Mo(){var i=Da;return Da<<=1,(Da&4194240)===0&&(Da=64),i}function Si(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Ci(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Sn(a),i[a]=u}function rt(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var y=31-Sn(u),w=1<<y;a[y]=0,p[y]=-1,i[y]=-1,u&=~w}}function Ri(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var p=31-Sn(u),y=1<<p;y&a|i[p]&a&&(i[p]|=a),u&=~y}}var Be=0;function Ai(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Pd,ja,kd,Od,Dd,Tc=!1,ns=[],tn=null,kr=null,Or=null,bi=new Map,hr=new Map,rs=[],im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ld(i,a){switch(i){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":bi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(a.pointerId)}}function kn(i,a,u,p,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=Mc(a),a!==null&&ja(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function om(i,a,u,p,y){switch(a){case"focusin":return tn=kn(tn,i,a,u,p,y),!0;case"dragenter":return kr=kn(kr,i,a,u,p,y),!0;case"mouseover":return Or=kn(Or,i,a,u,p,y),!0;case"pointerover":var w=y.pointerId;return bi.set(w,kn(bi.get(w)||null,i,a,u,p,y)),!0;case"gotpointercapture":return w=y.pointerId,hr.set(w,kn(hr.get(w)||null,i,a,u,p,y)),!0}return!1}function jd(i){var a=Bo(i.target);if(a!==null){var u=Nr(a);if(u!==null){if(a=u.tag,a===13){if(a=Oo(u),a!==null){i.blockedOn=a,Dd(i.priority,function(){kd(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Os(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=Ma(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);bo=p,u.target.dispatchEvent(p),bo=null}else return a=Mc(u),a!==null&&ja(a),i.blockedOn=u,!1;a.shift()}return!0}function Vo(i,a,u){Os(i)&&u.delete(a)}function Md(){Tc=!1,tn!==null&&Os(tn)&&(tn=null),kr!==null&&Os(kr)&&(kr=null),Or!==null&&Os(Or)&&(Or=null),bi.forEach(Vo),hr.forEach(Vo)}function Dr(i,a){i.blockedOn===a&&(i.blockedOn=null,Tc||(Tc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Md)))}function Lr(i){function a(y){return Dr(y,i)}if(0<ns.length){Dr(ns[0],i);for(var u=1;u<ns.length;u++){var p=ns[u];p.blockedOn===i&&(p.blockedOn=null)}}for(tn!==null&&Dr(tn,i),kr!==null&&Dr(kr,i),Or!==null&&Dr(Or,i),bi.forEach(a),hr.forEach(a),u=0;u<rs.length;u++)p=rs[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<rs.length&&(u=rs[0],u.blockedOn===null);)jd(u),u.blockedOn===null&&rs.shift()}var Ds=B.ReactCurrentBatchConfig,Ni=!0;function mt(i,a,u,p){var y=Be,w=Ds.transition;Ds.transition=null;try{Be=1,xc(i,a,u,p)}finally{Be=y,Ds.transition=w}}function am(i,a,u,p){var y=Be,w=Ds.transition;Ds.transition=null;try{Be=4,xc(i,a,u,p)}finally{Be=y,Ds.transition=w}}function xc(i,a,u,p){if(Ni){var y=Ma(i,a,u,p);if(y===null)vm(i,a,p,Fo,u),Ld(i,p);else if(om(y,i,a,u,p))p.stopPropagation();else if(Ld(i,p),a&4&&-1<im.indexOf(i)){for(;y!==null;){var w=Mc(y);if(w!==null&&Pd(w),w=Ma(i,a,u,p),w===null&&vm(i,a,p,Fo,u),w===y)break;y=w}y!==null&&p.stopPropagation()}else vm(i,a,p,null,u)}}var Fo=null;function Ma(i,a,u,p){if(Fo=null,i=Ca(p),i=Bo(i),i!==null)if(a=Nr(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Oo(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Fo=i,null}function Ic(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cd()){case Do:return 1;case xi:return 4;case dr:case wc:return 16;case Rd:return 536870912;default:return 16}default:return 16}}var Xn=null,Va=null,On=null;function Sc(){if(On)return On;var i,a=Va,u=a.length,p,y="value"in Xn?Xn.value:Xn.textContent,w=y.length;for(i=0;i<u&&a[i]===y[i];i++);var R=u-i;for(p=1;p<=R&&a[u-p]===y[w-p];p++);return On=y.slice(i,1<p?1-p:void 0)}function Fa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function Cc(){return!1}function nn(i){function a(u,p,y,w,R){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(u=i[j],this[j]=u?u(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ss:Cc,this.isPropagationStopped=Cc,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),a}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=nn(jr),is=ae({},jr,{view:0,detail:0}),lm=nn(is),$a,Ls,Pi,Uo=ae({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?($a=i.screenX-Pi.screenX,Ls=i.screenY-Pi.screenY):Ls=$a=0,Pi=i),$a)},movementY:function(i){return"movementY"in i?i.movementY:Ls}}),Ba=nn(Uo),Rc=ae({},Uo,{dataTransfer:0}),Vd=nn(Rc),za=ae({},is,{relatedTarget:0}),Wa=nn(za),Fd=ae({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),js=nn(Fd),Ud=ae({},jr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$d=nn(Ud),Bd=ae({},jr,{data:0}),Ac=nn(Bd),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wd(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=zd[i])?!!a[i]:!1}function os(){return Wd}var f=ae({},is,{key:function(i){if(i.key){var a=qa[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(i){return i.type==="keypress"?Fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_=nn(f),T=ae({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=nn(T),q=ae({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),Y=nn(q),ce=ae({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=nn(ce),$t=ae({},Uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=nn($t),Ht=[9,13,27,32],Lt=c&&"CompositionEvent"in window,fr=null;c&&"documentMode"in document&&(fr=document.documentMode);var Jn=c&&"TextEvent"in window&&!fr,$o=c&&(!Lt||fr&&8<fr&&11>=fr),Ha=" ",F0=!1;function U0(i,a){switch(i){case"keyup":return Ht.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ka=!1;function Y2(i,a){switch(i){case"compositionend":return $0(a);case"keypress":return a.which!==32?null:(F0=!0,Ha);case"textInput":return i=a.data,i===Ha&&F0?null:i;default:return null}}function X2(i,a){if(Ka)return i==="compositionend"||!Lt&&U0(i,a)?(i=Sc(),On=Va=Xn=null,Ka=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return $o&&a.locale!=="ko"?null:a.data;default:return null}}var J2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!J2[i.type]:a==="textarea"}function z0(i,a,u,p){ts(p),a=Qd(a,"onChange"),0<a.length&&(u=new Ua("onChange","change",null,u,p),i.push({event:u,listeners:a}))}var bc=null,Nc=null;function Z2(i){aw(i,0)}function qd(i){var a=Ja(i);if(mi(a))return i}function eN(i,a){if(i==="change")return a}var W0=!1;if(c){var cm;if(c){var um="oninput"in document;if(!um){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),um=typeof q0.oninput=="function"}cm=um}else cm=!1;W0=cm&&(!document.documentMode||9<document.documentMode)}function H0(){bc&&(bc.detachEvent("onpropertychange",K0),Nc=bc=null)}function K0(i){if(i.propertyName==="value"&&qd(Nc)){var a=[];z0(a,Nc,i,Ca(i)),gc(Z2,a)}}function tN(i,a,u){i==="focusin"?(H0(),bc=a,Nc=u,bc.attachEvent("onpropertychange",K0)):i==="focusout"&&H0()}function nN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qd(Nc)}function rN(i,a){if(i==="click")return qd(a)}function sN(i,a){if(i==="input"||i==="change")return qd(a)}function iN(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Mr=typeof Object.is=="function"?Object.is:iN;function Pc(i,a){if(Mr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!d.call(a,y)||!Mr(i[y],a[y]))return!1}return!0}function G0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Q0(i,a){var u=G0(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=a&&p>=a)return{node:u,offset:a-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=G0(u)}}function Y0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Y0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function X0(){for(var i=window,a=Rr();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=Rr(i.document)}return a}function dm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function oN(i){var a=X0(),u=i.focusedElem,p=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&Y0(u.ownerDocument.documentElement,u)){if(p!==null&&dm(u)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=u.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!i.extend&&w>p&&(y=p,p=w,w=y),y=Q0(u,w);var R=Q0(u,p);y&&R&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),w>p?(i.addRange(a),i.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var aN=c&&"documentMode"in document&&11>=document.documentMode,Ga=null,hm=null,kc=null,fm=!1;function J0(i,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fm||Ga==null||Ga!==Rr(p)||(p=Ga,"selectionStart"in p&&dm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),kc&&Pc(kc,p)||(kc=p,p=Qd(hm,"onSelect"),0<p.length&&(a=new Ua("onSelect","select",null,a,u),i.push({event:a,listeners:p}),a.target=Ga)))}function Hd(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var Qa={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},pm={},Z0={};c&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Kd(i){if(pm[i])return pm[i];if(!Qa[i])return i;var a=Qa[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in Z0)return pm[i]=a[u];return i}var ew=Kd("animationend"),tw=Kd("animationiteration"),nw=Kd("animationstart"),rw=Kd("transitionend"),sw=new Map,iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(i,a){sw.set(i,a),o(a,[i])}for(var mm=0;mm<iw.length;mm++){var gm=iw[mm],lN=gm.toLowerCase(),cN=gm[0].toUpperCase()+gm.slice(1);ki(lN,"on"+cN)}ki(ew,"onAnimationEnd"),ki(tw,"onAnimationIteration"),ki(nw,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(rw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function ow(i,a,u){var p=i.type||"unknown-event";i.currentTarget=u,xd(p,a,void 0,i),i.currentTarget=null}function aw(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var R=p.length-1;0<=R;R--){var j=p[R],$=j.instance,Q=j.currentTarget;if(j=j.listener,$!==w&&y.isPropagationStopped())break e;ow(y,j,Q),w=$}else for(R=0;R<p.length;R++){if(j=p[R],$=j.instance,Q=j.currentTarget,j=j.listener,$!==w&&y.isPropagationStopped())break e;ow(y,j,Q),w=$}}}if(br)throw i=yc,br=!1,yc=null,i}function at(i,a){var u=a[Im];u===void 0&&(u=a[Im]=new Set);var p=i+"__bubble";u.has(p)||(lw(a,i,2,!1),u.add(p))}function ym(i,a,u){var p=0;a&&(p|=4),lw(u,i,p,a)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Dc(i){if(!i[Gd]){i[Gd]=!0,r.forEach(function(u){u!=="selectionchange"&&(uN.has(u)||ym(u,!1,i),ym(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Gd]||(a[Gd]=!0,ym("selectionchange",!1,a))}}function lw(i,a,u,p){switch(Ic(a)){case 1:var y=mt;break;case 4:y=am;break;default:y=xc}u=y.bind(null,a,u,i),y=void 0,!ba||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(a,u,{capture:!0,passive:y}):i.addEventListener(a,u,!0):y!==void 0?i.addEventListener(a,u,{passive:y}):i.addEventListener(a,u,!1)}function vm(i,a,u,p,y){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var j=p.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(R===4)for(R=p.return;R!==null;){var $=R.tag;if(($===3||$===4)&&($=R.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;R=R.return}for(;j!==null;){if(R=Bo(j),R===null)return;if($=R.tag,$===5||$===6){p=w=R;continue e}j=j.parentNode}}p=p.return}gc(function(){var Q=w,se=Ca(u),ie=[];e:{var re=sw.get(i);if(re!==void 0){var fe=Ua,ve=i;switch(i){case"keypress":if(Fa(u)===0)break e;case"keydown":case"keyup":fe=_;break;case"focusin":ve="focus",fe=Wa;break;case"focusout":ve="blur",fe=Wa;break;case"beforeblur":case"afterblur":fe=Wa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Y;break;case ew:case tw:case nw:fe=js;break;case rw:fe=et;break;case"scroll":fe=lm;break;case"wheel":fe=qe;break;case"copy":case"cut":case"paste":fe=$d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=b}var _e=(a&4)!==0,kt=!_e&&i==="scroll",H=_e?re!==null?re+"Capture":null:re;_e=[];for(var z=Q,K;z!==null;){K=z;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,H!==null&&(le=Pt(z,H),le!=null&&_e.push(Lc(z,le,K)))),kt)break;z=z.return}0<_e.length&&(re=new fe(re,ve,null,u,se),ie.push({event:re,listeners:_e}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",re&&u!==bo&&(ve=u.relatedTarget||u.fromElement)&&(Bo(ve)||ve[Ms]))break e;if((fe||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,fe?(ve=u.relatedTarget||u.toElement,fe=Q,ve=ve?Bo(ve):null,ve!==null&&(kt=Nr(ve),ve!==kt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(fe=null,ve=Q),fe!==ve)){if(_e=Ba,le="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(_e=b,le="onPointerLeave",H="onPointerEnter",z="pointer"),kt=fe==null?re:Ja(fe),K=ve==null?re:Ja(ve),re=new _e(le,z+"leave",fe,u,se),re.target=kt,re.relatedTarget=K,le=null,Bo(se)===Q&&(_e=new _e(H,z+"enter",ve,u,se),_e.target=K,_e.relatedTarget=kt,le=_e),kt=le,fe&&ve)t:{for(_e=fe,H=ve,z=0,K=_e;K;K=Ya(K))z++;for(K=0,le=H;le;le=Ya(le))K++;for(;0<z-K;)_e=Ya(_e),z--;for(;0<K-z;)H=Ya(H),K--;for(;z--;){if(_e===H||H!==null&&_e===H.alternate)break t;_e=Ya(_e),H=Ya(H)}_e=null}else _e=null;fe!==null&&cw(ie,re,fe,_e,!1),ve!==null&&kt!==null&&cw(ie,kt,ve,_e,!0)}}e:{if(re=Q?Ja(Q):window,fe=re.nodeName&&re.nodeName.toLowerCase(),fe==="select"||fe==="input"&&re.type==="file")var we=eN;else if(B0(re))if(W0)we=sN;else{we=nN;var Te=tN}else(fe=re.nodeName)&&fe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(we=rN);if(we&&(we=we(i,Q))){z0(ie,we,u,se);break e}Te&&Te(i,re,Q),i==="focusout"&&(Te=re._wrapperState)&&Te.controlled&&re.type==="number"&&_i(re,"number",re.value)}switch(Te=Q?Ja(Q):window,i){case"focusin":(B0(Te)||Te.contentEditable==="true")&&(Ga=Te,hm=Q,kc=null);break;case"focusout":kc=hm=Ga=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,J0(ie,u,se);break;case"selectionchange":if(aN)break;case"keydown":case"keyup":J0(ie,u,se)}var xe;if(Lt)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ka?U0(i,u)&&(Pe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&($o&&u.locale!=="ko"&&(Ka||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ka&&(xe=Sc()):(Xn=se,Va="value"in Xn?Xn.value:Xn.textContent,Ka=!0)),Te=Qd(Q,Pe),0<Te.length&&(Pe=new Ac(Pe,i,null,u,se),ie.push({event:Pe,listeners:Te}),xe?Pe.data=xe:(xe=$0(u),xe!==null&&(Pe.data=xe)))),(xe=Jn?Y2(i,u):X2(i,u))&&(Q=Qd(Q,"onBeforeInput"),0<Q.length&&(se=new Ac("onBeforeInput","beforeinput",null,u,se),ie.push({event:se,listeners:Q}),se.data=xe))}aw(ie,a)})}function Lc(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Qd(i,a){for(var u=a+"Capture",p=[];i!==null;){var y=i,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Pt(i,u),w!=null&&p.unshift(Lc(i,w,y)),w=Pt(i,a),w!=null&&p.push(Lc(i,w,y))),i=i.return}return p}function Ya(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function cw(i,a,u,p,y){for(var w=a._reactName,R=[];u!==null&&u!==p;){var j=u,$=j.alternate,Q=j.stateNode;if($!==null&&$===p)break;j.tag===5&&Q!==null&&(j=Q,y?($=Pt(u,w),$!=null&&R.unshift(Lc(u,$,j))):y||($=Pt(u,w),$!=null&&R.push(Lc(u,$,j)))),u=u.return}R.length!==0&&i.push({event:a,listeners:R})}var dN=/\r\n?/g,hN=/\u0000|\uFFFD/g;function uw(i){return(typeof i=="string"?i:""+i).replace(dN,`
`).replace(hN,"")}function Yd(i,a,u){if(a=uw(a),uw(i)!==a&&u)throw Error(t(425))}function Xd(){}var _m=null,wm=null;function Em(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,fN=typeof clearTimeout=="function"?clearTimeout:void 0,dw=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof dw<"u"?function(i){return dw.resolve(null).then(i).catch(mN)}:Tm;function mN(i){setTimeout(function(){throw i})}function xm(i,a){var u=a,p=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){i.removeChild(y),Lr(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);Lr(a)}function Oi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function hw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),as="__reactFiber$"+Xa,jc="__reactProps$"+Xa,Ms="__reactContainer$"+Xa,Im="__reactEvents$"+Xa,gN="__reactListeners$"+Xa,yN="__reactHandles$"+Xa;function Bo(i){var a=i[as];if(a)return a;for(var u=i.parentNode;u;){if(a=u[Ms]||u[as]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=hw(i);i!==null;){if(u=i[as])return u;i=hw(i)}return a}i=u,u=i.parentNode}return null}function Mc(i){return i=i[as]||i[Ms],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ja(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Jd(i){return i[jc]||null}var Sm=[],Za=-1;function Di(i){return{current:i}}function lt(i){0>Za||(i.current=Sm[Za],Sm[Za]=null,Za--)}function it(i,a){Za++,Sm[Za]=i.current,i.current=a}var Li={},cn=Di(Li),Dn=Di(!1),zo=Li;function el(i,a){var u=i.type.contextTypes;if(!u)return Li;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in u)y[w]=a[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Ln(i){return i=i.childContextTypes,i!=null}function Zd(){lt(Dn),lt(cn)}function fw(i,a,u){if(cn.current!==Li)throw Error(t(168));it(cn,a),it(Dn,u)}function pw(i,a,u){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Ue(i)||"Unknown",y));return ae({},u,p)}function eh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Li,zo=cn.current,it(cn,i),it(Dn,Dn.current),!0}function mw(i,a,u){var p=i.stateNode;if(!p)throw Error(t(169));u?(i=pw(i,a,zo),p.__reactInternalMemoizedMergedChildContext=i,lt(Dn),lt(cn),it(cn,i)):lt(Dn),it(Dn,u)}var Vs=null,th=!1,Cm=!1;function gw(i){Vs===null?Vs=[i]:Vs.push(i)}function vN(i){th=!0,gw(i)}function ji(){if(!Cm&&Vs!==null){Cm=!0;var i=0,a=Be;try{var u=Vs;for(Be=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}Vs=null,th=!1}catch(y){throw Vs!==null&&(Vs=Vs.slice(i+1)),Oa(Do,ji),y}finally{Be=a,Cm=!1}}return null}var tl=[],nl=0,nh=null,rh=0,pr=[],mr=0,Wo=null,Fs=1,Us="";function qo(i,a){tl[nl++]=rh,tl[nl++]=nh,nh=i,rh=a}function yw(i,a,u){pr[mr++]=Fs,pr[mr++]=Us,pr[mr++]=Wo,Wo=i;var p=Fs;i=Us;var y=32-Sn(p)-1;p&=~(1<<y),u+=1;var w=32-Sn(a)+y;if(30<w){var R=y-y%5;w=(p&(1<<R)-1).toString(32),p>>=R,y-=R,Fs=1<<32-Sn(a)+y|u<<y|p,Us=w+i}else Fs=1<<w|u<<y|p,Us=i}function Rm(i){i.return!==null&&(qo(i,1),yw(i,1,0))}function Am(i){for(;i===nh;)nh=tl[--nl],tl[nl]=null,rh=tl[--nl],tl[nl]=null;for(;i===Wo;)Wo=pr[--mr],pr[mr]=null,Us=pr[--mr],pr[mr]=null,Fs=pr[--mr],pr[mr]=null}var Zn=null,er=null,gt=!1,Vr=null;function vw(i,a){var u=_r(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function _w(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Zn=i,er=Oi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Zn=i,er=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Wo!==null?{id:Fs,overflow:Us}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=_r(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,Zn=i,er=null,!0):!1;default:return!1}}function bm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Nm(i){if(gt){var a=er;if(a){var u=a;if(!_w(i,a)){if(bm(i))throw Error(t(418));a=Oi(u.nextSibling);var p=Zn;a&&_w(i,a)?vw(p,u):(i.flags=i.flags&-4097|2,gt=!1,Zn=i)}}else{if(bm(i))throw Error(t(418));i.flags=i.flags&-4097|2,gt=!1,Zn=i}}}function ww(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Zn=i}function sh(i){if(i!==Zn)return!1;if(!gt)return ww(i),gt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Em(i.type,i.memoizedProps)),a&&(a=er)){if(bm(i))throw Ew(),Error(t(418));for(;a;)vw(i,a),a=Oi(a.nextSibling)}if(ww(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){er=Oi(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}er=null}}else er=Zn?Oi(i.stateNode.nextSibling):null;return!0}function Ew(){for(var i=er;i;)i=Oi(i.nextSibling)}function rl(){er=Zn=null,gt=!1}function Pm(i){Vr===null?Vr=[i]:Vr.push(i)}var _N=B.ReactCurrentBatchConfig;function Vc(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,i));var y=p,w=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(R){var j=y.refs;R===null?delete j[w]:j[w]=R},a._stringRef=w,a)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function ih(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Tw(i){var a=i._init;return a(i._payload)}function xw(i){function a(H,z){if(i){var K=H.deletions;K===null?(H.deletions=[z],H.flags|=16):K.push(z)}}function u(H,z){if(!i)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function p(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function y(H,z){return H=Wi(H,z),H.index=0,H.sibling=null,H}function w(H,z,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<z?(H.flags|=2,z):K):(H.flags|=2,z)):(H.flags|=1048576,z)}function R(H){return i&&H.alternate===null&&(H.flags|=2),H}function j(H,z,K,le){return z===null||z.tag!==6?(z=Tg(K,H.mode,le),z.return=H,z):(z=y(z,K),z.return=H,z)}function $(H,z,K,le){var we=K.type;return we===k?se(H,z,K.props.children,le,K.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===be&&Tw(we)===z.type)?(le=y(z,K.props),le.ref=Vc(H,z,K),le.return=H,le):(le=bh(K.type,K.key,K.props,null,H.mode,le),le.ref=Vc(H,z,K),le.return=H,le)}function Q(H,z,K,le){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=xg(K,H.mode,le),z.return=H,z):(z=y(z,K.children||[]),z.return=H,z)}function se(H,z,K,le,we){return z===null||z.tag!==7?(z=Zo(K,H.mode,le,we),z.return=H,z):(z=y(z,K),z.return=H,z)}function ie(H,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Tg(""+z,H.mode,K),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return K=bh(z.type,z.key,z.props,null,H.mode,K),K.ref=Vc(H,null,z),K.return=H,K;case X:return z=xg(z,H.mode,K),z.return=H,z;case be:var le=z._init;return ie(H,le(z._payload),K)}if(en(z)||de(z))return z=Zo(z,H.mode,K,null),z.return=H,z;ih(H,z)}return null}function re(H,z,K,le){var we=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return we!==null?null:j(H,z,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return K.key===we?$(H,z,K,le):null;case X:return K.key===we?Q(H,z,K,le):null;case be:return we=K._init,re(H,z,we(K._payload),le)}if(en(K)||de(K))return we!==null?null:se(H,z,K,le,null);ih(H,K)}return null}function fe(H,z,K,le,we){if(typeof le=="string"&&le!==""||typeof le=="number")return H=H.get(K)||null,j(z,H,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case G:return H=H.get(le.key===null?K:le.key)||null,$(z,H,le,we);case X:return H=H.get(le.key===null?K:le.key)||null,Q(z,H,le,we);case be:var Te=le._init;return fe(H,z,K,Te(le._payload),we)}if(en(le)||de(le))return H=H.get(K)||null,se(z,H,le,we,null);ih(z,le)}return null}function ve(H,z,K,le){for(var we=null,Te=null,xe=z,Pe=z=0,Qt=null;xe!==null&&Pe<K.length;Pe++){xe.index>Pe?(Qt=xe,xe=null):Qt=xe.sibling;var Ye=re(H,xe,K[Pe],le);if(Ye===null){xe===null&&(xe=Qt);break}i&&xe&&Ye.alternate===null&&a(H,xe),z=w(Ye,z,Pe),Te===null?we=Ye:Te.sibling=Ye,Te=Ye,xe=Qt}if(Pe===K.length)return u(H,xe),gt&&qo(H,Pe),we;if(xe===null){for(;Pe<K.length;Pe++)xe=ie(H,K[Pe],le),xe!==null&&(z=w(xe,z,Pe),Te===null?we=xe:Te.sibling=xe,Te=xe);return gt&&qo(H,Pe),we}for(xe=p(H,xe);Pe<K.length;Pe++)Qt=fe(xe,H,Pe,K[Pe],le),Qt!==null&&(i&&Qt.alternate!==null&&xe.delete(Qt.key===null?Pe:Qt.key),z=w(Qt,z,Pe),Te===null?we=Qt:Te.sibling=Qt,Te=Qt);return i&&xe.forEach(function(qi){return a(H,qi)}),gt&&qo(H,Pe),we}function _e(H,z,K,le){var we=de(K);if(typeof we!="function")throw Error(t(150));if(K=we.call(K),K==null)throw Error(t(151));for(var Te=we=null,xe=z,Pe=z=0,Qt=null,Ye=K.next();xe!==null&&!Ye.done;Pe++,Ye=K.next()){xe.index>Pe?(Qt=xe,xe=null):Qt=xe.sibling;var qi=re(H,xe,Ye.value,le);if(qi===null){xe===null&&(xe=Qt);break}i&&xe&&qi.alternate===null&&a(H,xe),z=w(qi,z,Pe),Te===null?we=qi:Te.sibling=qi,Te=qi,xe=Qt}if(Ye.done)return u(H,xe),gt&&qo(H,Pe),we;if(xe===null){for(;!Ye.done;Pe++,Ye=K.next())Ye=ie(H,Ye.value,le),Ye!==null&&(z=w(Ye,z,Pe),Te===null?we=Ye:Te.sibling=Ye,Te=Ye);return gt&&qo(H,Pe),we}for(xe=p(H,xe);!Ye.done;Pe++,Ye=K.next())Ye=fe(xe,H,Pe,Ye.value,le),Ye!==null&&(i&&Ye.alternate!==null&&xe.delete(Ye.key===null?Pe:Ye.key),z=w(Ye,z,Pe),Te===null?we=Ye:Te.sibling=Ye,Te=Ye);return i&&xe.forEach(function(JN){return a(H,JN)}),gt&&qo(H,Pe),we}function kt(H,z,K,le){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case G:e:{for(var we=K.key,Te=z;Te!==null;){if(Te.key===we){if(we=K.type,we===k){if(Te.tag===7){u(H,Te.sibling),z=y(Te,K.props.children),z.return=H,H=z;break e}}else if(Te.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===be&&Tw(we)===Te.type){u(H,Te.sibling),z=y(Te,K.props),z.ref=Vc(H,Te,K),z.return=H,H=z;break e}u(H,Te);break}else a(H,Te);Te=Te.sibling}K.type===k?(z=Zo(K.props.children,H.mode,le,K.key),z.return=H,H=z):(le=bh(K.type,K.key,K.props,null,H.mode,le),le.ref=Vc(H,z,K),le.return=H,H=le)}return R(H);case X:e:{for(Te=K.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){u(H,z.sibling),z=y(z,K.children||[]),z.return=H,H=z;break e}else{u(H,z);break}else a(H,z);z=z.sibling}z=xg(K,H.mode,le),z.return=H,H=z}return R(H);case be:return Te=K._init,kt(H,z,Te(K._payload),le)}if(en(K))return ve(H,z,K,le);if(de(K))return _e(H,z,K,le);ih(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(u(H,z.sibling),z=y(z,K),z.return=H,H=z):(u(H,z),z=Tg(K,H.mode,le),z.return=H,H=z),R(H)):u(H,z)}return kt}var sl=xw(!0),Iw=xw(!1),oh=Di(null),ah=null,il=null,km=null;function Om(){km=il=ah=null}function Dm(i){var a=oh.current;lt(oh),i._currentValue=a}function Lm(i,a,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===u)break;i=i.return}}function ol(i,a){ah=i,km=il=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(jn=!0),i.firstContext=null)}function gr(i){var a=i._currentValue;if(km!==i)if(i={context:i,memoizedValue:a,next:null},il===null){if(ah===null)throw Error(t(308));il=i,ah.dependencies={lanes:0,firstContext:i}}else il=il.next=i;return a}var Ho=null;function jm(i){Ho===null?Ho=[i]:Ho.push(i)}function Sw(i,a,u,p){var y=a.interleaved;return y===null?(u.next=u,jm(a)):(u.next=y.next,y.next=u),a.interleaved=u,$s(i,p)}function $s(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Mi=!1;function Mm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Bs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Vi(i,a,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Qe&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,$s(i,u)}return y=p.interleaved,y===null?(a.next=a,jm(p)):(a.next=y.next,y.next=a),p.interleaved=a,$s(i,u)}function lh(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,Ri(i,u)}}function Rw(i,a){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?y=w=R:w=w.next=R,u=u.next}while(u!==null);w===null?y=w=a:w=w.next=a}else y=w=a;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function ch(i,a,u,p){var y=i.updateQueue;Mi=!1;var w=y.firstBaseUpdate,R=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var $=j,Q=$.next;$.next=null,R===null?w=Q:R.next=Q,R=$;var se=i.alternate;se!==null&&(se=se.updateQueue,j=se.lastBaseUpdate,j!==R&&(j===null?se.firstBaseUpdate=Q:j.next=Q,se.lastBaseUpdate=$))}if(w!==null){var ie=y.baseState;R=0,se=Q=$=null,j=w;do{var re=j.lane,fe=j.eventTime;if((p&re)===re){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ve=i,_e=j;switch(re=a,fe=u,_e.tag){case 1:if(ve=_e.payload,typeof ve=="function"){ie=ve.call(fe,ie,re);break e}ie=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=_e.payload,re=typeof ve=="function"?ve.call(fe,ie,re):ve,re==null)break e;ie=ae({},ie,re);break e;case 2:Mi=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,re=y.effects,re===null?y.effects=[j]:re.push(j))}else fe={eventTime:fe,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},se===null?(Q=se=fe,$=ie):se=se.next=fe,R|=re;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;re=j,j=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);if(se===null&&($=ie),y.baseState=$,y.firstBaseUpdate=Q,y.lastBaseUpdate=se,a=y.shared.interleaved,a!==null){y=a;do R|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Qo|=R,i.lanes=R,i.memoizedState=ie}}function Aw(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var Fc={},ls=Di(Fc),Uc=Di(Fc),$c=Di(Fc);function Ko(i){if(i===Fc)throw Error(t(174));return i}function Vm(i,a){switch(it($c,a),it(Uc,i),it(ls,Fc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:St(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=St(a,i)}lt(ls),it(ls,a)}function al(){lt(ls),lt(Uc),lt($c)}function bw(i){Ko($c.current);var a=Ko(ls.current),u=St(a,i.type);a!==u&&(it(Uc,i),it(ls,u))}function Fm(i){Uc.current===i&&(lt(ls),lt(Uc))}var wt=Di(0);function uh(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Um=[];function $m(){for(var i=0;i<Um.length;i++)Um[i]._workInProgressVersionPrimary=null;Um.length=0}var dh=B.ReactCurrentDispatcher,Bm=B.ReactCurrentBatchConfig,Go=0,Et=null,Bt=null,Kt=null,hh=!1,Bc=!1,zc=0,wN=0;function un(){throw Error(t(321))}function zm(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Mr(i[u],a[u]))return!1;return!0}function Wm(i,a,u,p,y,w){if(Go=w,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,dh.current=i===null||i.memoizedState===null?IN:SN,i=u(p,y),Bc){w=0;do{if(Bc=!1,zc=0,25<=w)throw Error(t(301));w+=1,Kt=Bt=null,a.updateQueue=null,dh.current=CN,i=u(p,y)}while(Bc)}if(dh.current=mh,a=Bt!==null&&Bt.next!==null,Go=0,Kt=Bt=Et=null,hh=!1,a)throw Error(t(300));return i}function qm(){var i=zc!==0;return zc=0,i}function cs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Et.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function yr(){if(Bt===null){var i=Et.alternate;i=i!==null?i.memoizedState:null}else i=Bt.next;var a=Kt===null?Et.memoizedState:Kt.next;if(a!==null)Kt=a,Bt=i;else{if(i===null)throw Error(t(310));Bt=i,i={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Kt===null?Et.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function Wc(i,a){return typeof a=="function"?a(i):a}function Hm(i){var a=yr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=Bt,y=p.baseQueue,w=u.pending;if(w!==null){if(y!==null){var R=y.next;y.next=w.next,w.next=R}p.baseQueue=y=w,u.pending=null}if(y!==null){w=y.next,p=p.baseState;var j=R=null,$=null,Q=w;do{var se=Q.lane;if((Go&se)===se)$!==null&&($=$.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),p=Q.hasEagerState?Q.eagerState:i(p,Q.action);else{var ie={lane:se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};$===null?(j=$=ie,R=p):$=$.next=ie,Et.lanes|=se,Qo|=se}Q=Q.next}while(Q!==null&&Q!==w);$===null?R=p:$.next=j,Mr(p,a.memoizedState)||(jn=!0),a.memoizedState=p,a.baseState=R,a.baseQueue=$,u.lastRenderedState=p}if(i=u.interleaved,i!==null){y=i;do w=y.lane,Et.lanes|=w,Qo|=w,y=y.next;while(y!==i)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Km(i){var a=yr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=u.dispatch,y=u.pending,w=a.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do w=i(w,R.action),R=R.next;while(R!==y);Mr(w,a.memoizedState)||(jn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,p]}function Nw(){}function Pw(i,a){var u=Et,p=yr(),y=a(),w=!Mr(p.memoizedState,y);if(w&&(p.memoizedState=y,jn=!0),p=p.queue,Gm(Dw.bind(null,u,p,i),[i]),p.getSnapshot!==a||w||Kt!==null&&Kt.memoizedState.tag&1){if(u.flags|=2048,qc(9,Ow.bind(null,u,p,y,a),void 0,null),Gt===null)throw Error(t(349));(Go&30)!==0||kw(u,a,y)}return y}function kw(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function Ow(i,a,u,p){a.value=u,a.getSnapshot=p,Lw(a)&&jw(i)}function Dw(i,a,u){return u(function(){Lw(a)&&jw(i)})}function Lw(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Mr(i,u)}catch{return!0}}function jw(i){var a=$s(i,1);a!==null&&Br(a,i,1,-1)}function Mw(i){var a=cs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:i},a.queue=i,i=i.dispatch=xN.bind(null,Et,i),[a.memoizedState,i]}function qc(i,a,u,p){return i={tag:i,create:a,destroy:u,deps:p,next:null},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,a.lastEffect=i)),i}function Vw(){return yr().memoizedState}function fh(i,a,u,p){var y=cs();Et.flags|=i,y.memoizedState=qc(1|a,u,void 0,p===void 0?null:p)}function ph(i,a,u,p){var y=yr();p=p===void 0?null:p;var w=void 0;if(Bt!==null){var R=Bt.memoizedState;if(w=R.destroy,p!==null&&zm(p,R.deps)){y.memoizedState=qc(a,u,w,p);return}}Et.flags|=i,y.memoizedState=qc(1|a,u,w,p)}function Fw(i,a){return fh(8390656,8,i,a)}function Gm(i,a){return ph(2048,8,i,a)}function Uw(i,a){return ph(4,2,i,a)}function $w(i,a){return ph(4,4,i,a)}function Bw(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function zw(i,a,u){return u=u!=null?u.concat([i]):null,ph(4,4,Bw.bind(null,a,i),u)}function Qm(){}function Ww(i,a){var u=yr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&zm(a,p[1])?p[0]:(u.memoizedState=[i,a],i)}function qw(i,a){var u=yr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&zm(a,p[1])?p[0]:(i=i(),u.memoizedState=[i,a],i)}function Hw(i,a,u){return(Go&21)===0?(i.baseState&&(i.baseState=!1,jn=!0),i.memoizedState=u):(Mr(u,a)||(u=Mo(),Et.lanes|=u,Qo|=u,i.baseState=!0),a)}function EN(i,a){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var p=Bm.transition;Bm.transition={};try{i(!1),a()}finally{Be=u,Bm.transition=p}}function Kw(){return yr().memoizedState}function TN(i,a,u){var p=Bi(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Gw(i))Qw(a,u);else if(u=Sw(i,a,u,p),u!==null){var y=An();Br(u,i,p,y),Yw(u,a,p)}}function xN(i,a,u){var p=Bi(i),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gw(i))Qw(a,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var R=a.lastRenderedState,j=w(R,u);if(y.hasEagerState=!0,y.eagerState=j,Mr(j,R)){var $=a.interleaved;$===null?(y.next=y,jm(a)):(y.next=$.next,$.next=y),a.interleaved=y;return}}catch{}finally{}u=Sw(i,a,y,p),u!==null&&(y=An(),Br(u,i,p,y),Yw(u,a,p))}}function Gw(i){var a=i.alternate;return i===Et||a!==null&&a===Et}function Qw(i,a){Bc=hh=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function Yw(i,a,u){if((u&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,Ri(i,u)}}var mh={readContext:gr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},IN={readContext:gr,useCallback:function(i,a){return cs().memoizedState=[i,a===void 0?null:a],i},useContext:gr,useEffect:Fw,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,fh(4194308,4,Bw.bind(null,a,i),u)},useLayoutEffect:function(i,a){return fh(4194308,4,i,a)},useInsertionEffect:function(i,a){return fh(4,2,i,a)},useMemo:function(i,a){var u=cs();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var p=cs();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=TN.bind(null,Et,i),[p.memoizedState,i]},useRef:function(i){var a=cs();return i={current:i},a.memoizedState=i},useState:Mw,useDebugValue:Qm,useDeferredValue:function(i){return cs().memoizedState=i},useTransition:function(){var i=Mw(!1),a=i[0];return i=EN.bind(null,i[1]),cs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var p=Et,y=cs();if(gt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Gt===null)throw Error(t(349));(Go&30)!==0||kw(p,a,u)}y.memoizedState=u;var w={value:u,getSnapshot:a};return y.queue=w,Fw(Dw.bind(null,p,w,i),[i]),p.flags|=2048,qc(9,Ow.bind(null,p,w,u,a),void 0,null),u},useId:function(){var i=cs(),a=Gt.identifierPrefix;if(gt){var u=Us,p=Fs;u=(p&~(1<<32-Sn(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=zc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=wN++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},SN={readContext:gr,useCallback:Ww,useContext:gr,useEffect:Gm,useImperativeHandle:zw,useInsertionEffect:Uw,useLayoutEffect:$w,useMemo:qw,useReducer:Hm,useRef:Vw,useState:function(){return Hm(Wc)},useDebugValue:Qm,useDeferredValue:function(i){var a=yr();return Hw(a,Bt.memoizedState,i)},useTransition:function(){var i=Hm(Wc)[0],a=yr().memoizedState;return[i,a]},useMutableSource:Nw,useSyncExternalStore:Pw,useId:Kw,unstable_isNewReconciler:!1},CN={readContext:gr,useCallback:Ww,useContext:gr,useEffect:Gm,useImperativeHandle:zw,useInsertionEffect:Uw,useLayoutEffect:$w,useMemo:qw,useReducer:Km,useRef:Vw,useState:function(){return Km(Wc)},useDebugValue:Qm,useDeferredValue:function(i){var a=yr();return Bt===null?a.memoizedState=i:Hw(a,Bt.memoizedState,i)},useTransition:function(){var i=Km(Wc)[0],a=yr().memoizedState;return[i,a]},useMutableSource:Nw,useSyncExternalStore:Pw,useId:Kw,unstable_isNewReconciler:!1};function Fr(i,a){if(i&&i.defaultProps){a=ae({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function Ym(i,a,u,p){a=i.memoizedState,u=u(p,a),u=u==null?a:ae({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var gh={isMounted:function(i){return(i=i._reactInternals)?Nr(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var p=An(),y=Bi(i),w=Bs(p,y);w.payload=a,u!=null&&(w.callback=u),a=Vi(i,w,y),a!==null&&(Br(a,i,y,p),lh(a,i,y))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var p=An(),y=Bi(i),w=Bs(p,y);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=Vi(i,w,y),a!==null&&(Br(a,i,y,p),lh(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=An(),p=Bi(i),y=Bs(u,p);y.tag=2,a!=null&&(y.callback=a),a=Vi(i,y,p),a!==null&&(Br(a,i,p,u),lh(a,i,p))}};function Xw(i,a,u,p,y,w,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,R):a.prototype&&a.prototype.isPureReactComponent?!Pc(u,p)||!Pc(y,w):!0}function Jw(i,a,u){var p=!1,y=Li,w=a.contextType;return typeof w=="object"&&w!==null?w=gr(w):(y=Ln(a)?zo:cn.current,p=a.contextTypes,w=(p=p!=null)?el(i,y):Li),a=new a(u,w),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=gh,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=w),a}function Zw(i,a,u,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==i&&gh.enqueueReplaceState(a,a.state,null)}function Xm(i,a,u,p){var y=i.stateNode;y.props=u,y.state=i.memoizedState,y.refs={},Mm(i);var w=a.contextType;typeof w=="object"&&w!==null?y.context=gr(w):(w=Ln(a)?zo:cn.current,y.context=el(i,w)),y.state=i.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Ym(i,a,w,u),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&gh.enqueueReplaceState(y,y.state,null),ch(i,u,y,p),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function ll(i,a){try{var u="",p=a;do u+=Ne(p),p=p.return;while(p);var y=u}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:a,stack:y,digest:null}}function Jm(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function Zm(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var RN=typeof WeakMap=="function"?WeakMap:Map;function eE(i,a,u){u=Bs(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){xh||(xh=!0,pg=p),Zm(i,a)},u}function tE(i,a,u){u=Bs(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;u.payload=function(){return p(y)},u.callback=function(){Zm(i,a)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Zm(i,a),typeof p!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),u}function nE(i,a,u){var p=i.pingCache;if(p===null){p=i.pingCache=new RN;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(u)||(y.add(u),i=$N.bind(null,i,a,u),a.then(i,i))}function rE(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function sE(i,a,u,p,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Bs(-1,1),a.tag=2,Vi(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var AN=B.ReactCurrentOwner,jn=!1;function Rn(i,a,u,p){a.child=i===null?Iw(a,null,u,p):sl(a,i.child,u,p)}function iE(i,a,u,p,y){u=u.render;var w=a.ref;return ol(a,y),p=Wm(i,a,u,p,w,y),u=qm(),i!==null&&!jn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,zs(i,a,y)):(gt&&u&&Rm(a),a.flags|=1,Rn(i,a,p,y),a.child)}function oE(i,a,u,p,y){if(i===null){var w=u.type;return typeof w=="function"&&!Eg(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=w,aE(i,a,w,p,y)):(i=bh(u.type,null,p,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,(i.lanes&y)===0){var R=w.memoizedProps;if(u=u.compare,u=u!==null?u:Pc,u(R,p)&&i.ref===a.ref)return zs(i,a,y)}return a.flags|=1,i=Wi(w,p),i.ref=a.ref,i.return=a,a.child=i}function aE(i,a,u,p,y){if(i!==null){var w=i.memoizedProps;if(Pc(w,p)&&i.ref===a.ref)if(jn=!1,a.pendingProps=p=w,(i.lanes&y)!==0)(i.flags&131072)!==0&&(jn=!0);else return a.lanes=i.lanes,zs(i,a,y)}return eg(i,a,u,p,y)}function lE(i,a,u){var p=a.pendingProps,y=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ul,tr),tr|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,it(ul,tr),tr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,it(ul,tr),tr|=p}else w!==null?(p=w.baseLanes|u,a.memoizedState=null):p=u,it(ul,tr),tr|=p;return Rn(i,a,y,u),a.child}function cE(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function eg(i,a,u,p,y){var w=Ln(u)?zo:cn.current;return w=el(a,w),ol(a,y),u=Wm(i,a,u,p,w,y),p=qm(),i!==null&&!jn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,zs(i,a,y)):(gt&&p&&Rm(a),a.flags|=1,Rn(i,a,u,y),a.child)}function uE(i,a,u,p,y){if(Ln(u)){var w=!0;eh(a)}else w=!1;if(ol(a,y),a.stateNode===null)vh(i,a),Jw(a,u,p),Xm(a,u,p,y),p=!0;else if(i===null){var R=a.stateNode,j=a.memoizedProps;R.props=j;var $=R.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=gr(Q):(Q=Ln(u)?zo:cn.current,Q=el(a,Q));var se=u.getDerivedStateFromProps,ie=typeof se=="function"||typeof R.getSnapshotBeforeUpdate=="function";ie||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==p||$!==Q)&&Zw(a,R,p,Q),Mi=!1;var re=a.memoizedState;R.state=re,ch(a,p,R,y),$=a.memoizedState,j!==p||re!==$||Dn.current||Mi?(typeof se=="function"&&(Ym(a,u,se,p),$=a.memoizedState),(j=Mi||Xw(a,u,j,p,re,$,Q))?(ie||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=$),R.props=p,R.state=$,R.context=Q,p=j):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{R=a.stateNode,Cw(i,a),j=a.memoizedProps,Q=a.type===a.elementType?j:Fr(a.type,j),R.props=Q,ie=a.pendingProps,re=R.context,$=u.contextType,typeof $=="object"&&$!==null?$=gr($):($=Ln(u)?zo:cn.current,$=el(a,$));var fe=u.getDerivedStateFromProps;(se=typeof fe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==ie||re!==$)&&Zw(a,R,p,$),Mi=!1,re=a.memoizedState,R.state=re,ch(a,p,R,y);var ve=a.memoizedState;j!==ie||re!==ve||Dn.current||Mi?(typeof fe=="function"&&(Ym(a,u,fe,p),ve=a.memoizedState),(Q=Mi||Xw(a,u,Q,p,re,ve,$)||!1)?(se||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,ve,$),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,ve,$)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||j===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ve),R.props=p,R.state=ve,R.context=$,p=Q):(typeof R.componentDidUpdate!="function"||j===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),p=!1)}return tg(i,a,u,p,w,y)}function tg(i,a,u,p,y,w){cE(i,a);var R=(a.flags&128)!==0;if(!p&&!R)return y&&mw(a,u,!1),zs(i,a,w);p=a.stateNode,AN.current=a;var j=R&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&R?(a.child=sl(a,i.child,null,w),a.child=sl(a,null,j,w)):Rn(i,a,j,w),a.memoizedState=p.state,y&&mw(a,u,!0),a.child}function dE(i){var a=i.stateNode;a.pendingContext?fw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&fw(i,a.context,!1),Vm(i,a.containerInfo)}function hE(i,a,u,p,y){return rl(),Pm(y),a.flags|=256,Rn(i,a,u,p),a.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function rg(i){return{baseLanes:i,cachePool:null,transitions:null}}function fE(i,a,u){var p=a.pendingProps,y=wt.current,w=!1,R=(a.flags&128)!==0,j;if((j=R)||(j=i!==null&&i.memoizedState===null?!1:(y&2)!==0),j?(w=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),it(wt,y&1),i===null)return Nm(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=p.children,i=p.fallback,w?(p=a.mode,w=a.child,R={mode:"hidden",children:R},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=R):w=Nh(R,p,0,null),i=Zo(i,p,u,null),w.return=a,i.return=a,w.sibling=i,a.child=w,a.child.memoizedState=rg(u),a.memoizedState=ng,i):sg(a,R));if(y=i.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return bN(i,a,R,p,j,y,u);if(w){w=p.fallback,R=a.mode,y=i.child,j=y.sibling;var $={mode:"hidden",children:p.children};return(R&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=$,a.deletions=null):(p=Wi(y,$),p.subtreeFlags=y.subtreeFlags&14680064),j!==null?w=Wi(j,w):(w=Zo(w,R,u,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,R=i.child.memoizedState,R=R===null?rg(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},w.memoizedState=R,w.childLanes=i.childLanes&~u,a.memoizedState=ng,p}return w=i.child,i=w.sibling,p=Wi(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=p,a.memoizedState=null,p}function sg(i,a){return a=Nh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function yh(i,a,u,p){return p!==null&&Pm(p),sl(a,i.child,null,u),i=sg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function bN(i,a,u,p,y,w,R){if(u)return a.flags&256?(a.flags&=-257,p=Jm(Error(t(422))),yh(i,a,R,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=Nh({mode:"visible",children:p.children},y,0,null),w=Zo(w,y,R,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&sl(a,i.child,null,R),a.child.memoizedState=rg(R),a.memoizedState=ng,w);if((a.mode&1)===0)return yh(i,a,R,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var j=p.dgst;return p=j,w=Error(t(419)),p=Jm(w,p,void 0),yh(i,a,R,p)}if(j=(R&i.childLanes)!==0,jn||j){if(p=Gt,p!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|R))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,$s(i,y),Br(p,i,y,-1))}return wg(),p=Jm(Error(t(421))),yh(i,a,R,p)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=BN.bind(null,i),y._reactRetry=a,null):(i=w.treeContext,er=Oi(y.nextSibling),Zn=a,gt=!0,Vr=null,i!==null&&(pr[mr++]=Fs,pr[mr++]=Us,pr[mr++]=Wo,Fs=i.id,Us=i.overflow,Wo=a),a=sg(a,p.children),a.flags|=4096,a)}function pE(i,a,u){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),Lm(i.return,a,u)}function ig(i,a,u,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=y)}function mE(i,a,u){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(Rn(i,a,p.children,u),p=wt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pE(i,u,a);else if(i.tag===19)pE(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(it(wt,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)i=u.alternate,i!==null&&uh(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),ig(a,!1,y,u,w);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&uh(i)===null){a.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}ig(a,!0,u,null,w);break;case"together":ig(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function vh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function zs(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Qo|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,u=Wi(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Wi(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function NN(i,a,u){switch(a.tag){case 3:dE(a),rl();break;case 5:bw(a);break;case 1:Ln(a.type)&&eh(a);break;case 4:Vm(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;it(oh,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(it(wt,wt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?fE(i,a,u):(it(wt,wt.current&1),i=zs(i,a,u),i!==null?i.sibling:null);it(wt,wt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(i.flags&128)!==0){if(p)return mE(i,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),it(wt,wt.current),p)break;return null;case 22:case 23:return a.lanes=0,lE(i,a,u)}return zs(i,a,u)}var gE,og,yE,vE;gE=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},og=function(){},yE=function(i,a,u,p){var y=i.memoizedProps;if(y!==p){i=a.stateNode,Ko(ls.current);var w=null;switch(u){case"input":y=bs(i,y),p=bs(i,p),w=[];break;case"select":y=ae({},y,{value:void 0}),p=ae({},p,{value:void 0}),w=[];break;case"textarea":y=wi(i,y),p=wi(i,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Xd)}hc(u,p);var R;u=null;for(Q in y)if(!p.hasOwnProperty(Q)&&y.hasOwnProperty(Q)&&y[Q]!=null)if(Q==="style"){var j=y[Q];for(R in j)j.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?w||(w=[]):(w=w||[]).push(Q,null));for(Q in p){var $=p[Q];if(j=y!=null?y[Q]:void 0,p.hasOwnProperty(Q)&&$!==j&&($!=null||j!=null))if(Q==="style")if(j){for(R in j)!j.hasOwnProperty(R)||$&&$.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in $)$.hasOwnProperty(R)&&j[R]!==$[R]&&(u||(u={}),u[R]=$[R])}else u||(w||(w=[]),w.push(Q,u)),u=$;else Q==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(w=w||[]).push(Q,$)):Q==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(Q,""+$):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?($!=null&&Q==="onScroll"&&at("scroll",i),w||j===$||(w=[])):(w=w||[]).push(Q,$))}u&&(w=w||[]).push("style",u);var Q=w;(a.updateQueue=Q)&&(a.flags|=4)}},vE=function(i,a,u,p){u!==p&&(a.flags|=4)};function Hc(i,a){if(!gt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function dn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(a)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=u,a}function PN(i,a,u){var p=a.pendingProps;switch(Am(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(a),null;case 1:return Ln(a.type)&&Zd(),dn(a),null;case 3:return p=a.stateNode,al(),lt(Dn),lt(cn),$m(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(sh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vr!==null&&(yg(Vr),Vr=null))),og(i,a),dn(a),null;case 5:Fm(a);var y=Ko($c.current);if(u=a.type,i!==null&&a.stateNode!=null)yE(i,a,u,p,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return dn(a),null}if(i=Ko(ls.current),sh(a)){p=a.stateNode,u=a.type;var w=a.memoizedProps;switch(p[as]=a,p[jc]=w,i=(a.mode&1)!==0,u){case"dialog":at("cancel",p),at("close",p);break;case"iframe":case"object":case"embed":at("load",p);break;case"video":case"audio":for(y=0;y<Oc.length;y++)at(Oc[y],p);break;case"source":at("error",p);break;case"img":case"image":case"link":at("error",p),at("load",p);break;case"details":at("toggle",p);break;case"input":gi(p,w),at("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},at("invalid",p);break;case"textarea":Ns(p,w),at("invalid",p)}hc(u,w),y=null;for(var R in w)if(w.hasOwnProperty(R)){var j=w[R];R==="children"?typeof j=="string"?p.textContent!==j&&(w.suppressHydrationWarning!==!0&&Yd(p.textContent,j,i),y=["children",j]):typeof j=="number"&&p.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&Yd(p.textContent,j,i),y=["children",""+j]):s.hasOwnProperty(R)&&j!=null&&R==="onScroll"&&at("scroll",p)}switch(u){case"input":Gn(p),Sa(p,w,!0);break;case"textarea":Gn(p),Ei(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Xd)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=It(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=R.createElement(u,{is:p.is}):(i=R.createElement(u),u==="select"&&(R=i,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):i=R.createElementNS(i,u),i[as]=a,i[jc]=p,gE(i,a,!1,!1),a.stateNode=i;e:{switch(R=fc(u,p),u){case"dialog":at("cancel",i),at("close",i),y=p;break;case"iframe":case"object":case"embed":at("load",i),y=p;break;case"video":case"audio":for(y=0;y<Oc.length;y++)at(Oc[y],i);y=p;break;case"source":at("error",i),y=p;break;case"img":case"image":case"link":at("error",i),at("load",i),y=p;break;case"details":at("toggle",i),y=p;break;case"input":gi(i,p),y=bs(i,p),at("invalid",i);break;case"option":y=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},y=ae({},p,{value:void 0}),at("invalid",i);break;case"textarea":Ns(i,p),y=wi(i,p),at("invalid",i);break;default:y=p}hc(u,y),j=y;for(w in j)if(j.hasOwnProperty(w)){var $=j[w];w==="style"?uc(i,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&lc(i,$)):w==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&Ti(i,$):typeof $=="number"&&Ti(i,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?$!=null&&w==="onScroll"&&at("scroll",i):$!=null&&U(i,w,$,R))}switch(u){case"input":Gn(i),Sa(i,p,!1);break;case"textarea":Gn(i),Ei(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Me(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?Pn(i,!!p.multiple,w,!1):p.defaultValue!=null&&Pn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=Xd)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return dn(a),null;case 6:if(i&&a.stateNode!=null)vE(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=Ko($c.current),Ko(ls.current),sh(a)){if(p=a.stateNode,u=a.memoizedProps,p[as]=a,(w=p.nodeValue!==u)&&(i=Zn,i!==null))switch(i.tag){case 3:Yd(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yd(p.nodeValue,u,(i.mode&1)!==0)}w&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[as]=a,a.stateNode=p}return dn(a),null;case 13:if(lt(wt),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(gt&&er!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ew(),rl(),a.flags|=98560,w=!1;else if(w=sh(a),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[as]=a}else rl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dn(a),w=!1}else Vr!==null&&(yg(Vr),Vr=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(wt.current&1)!==0?zt===0&&(zt=3):wg())),a.updateQueue!==null&&(a.flags|=4),dn(a),null);case 4:return al(),og(i,a),i===null&&Dc(a.stateNode.containerInfo),dn(a),null;case 10:return Dm(a.type._context),dn(a),null;case 17:return Ln(a.type)&&Zd(),dn(a),null;case 19:if(lt(wt),w=a.memoizedState,w===null)return dn(a),null;if(p=(a.flags&128)!==0,R=w.rendering,R===null)if(p)Hc(w,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(R=uh(i),R!==null){for(a.flags|=128,Hc(w,!1),p=R.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)w=u,i=p,w.flags&=14680066,R=w.alternate,R===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=R.childLanes,w.lanes=R.lanes,w.child=R.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=R.memoizedProps,w.memoizedState=R.memoizedState,w.updateQueue=R.updateQueue,w.type=R.type,i=R.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return it(wt,wt.current&1|2),a.child}i=i.sibling}w.tail!==null&&st()>dl&&(a.flags|=128,p=!0,Hc(w,!1),a.lanes=4194304)}else{if(!p)if(i=uh(R),i!==null){if(a.flags|=128,p=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Hc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!R.alternate&&!gt)return dn(a),null}else 2*st()-w.renderingStartTime>dl&&u!==1073741824&&(a.flags|=128,p=!0,Hc(w,!1),a.lanes=4194304);w.isBackwards?(R.sibling=a.child,a.child=R):(u=w.last,u!==null?u.sibling=R:a.child=R,w.last=R)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=st(),a.sibling=null,u=wt.current,it(wt,p?u&1|2:u&1),a):(dn(a),null);case 22:case 23:return _g(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(tr&1073741824)!==0&&(dn(a),a.subtreeFlags&6&&(a.flags|=8192)):dn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function kN(i,a){switch(Am(a),a.tag){case 1:return Ln(a.type)&&Zd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return al(),lt(Dn),lt(cn),$m(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Fm(a),null;case 13:if(lt(wt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));rl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return lt(wt),null;case 4:return al(),null;case 10:return Dm(a.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var _h=!1,hn=!1,ON=typeof WeakSet=="function"?WeakSet:Set,ye=null;function cl(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Ct(i,a,p)}else u.current=null}function ag(i,a,u){try{u()}catch(p){Ct(i,a,p)}}var _E=!1;function DN(i,a){if(_m=Ni,i=X0(),dm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var R=0,j=-1,$=-1,Q=0,se=0,ie=i,re=null;t:for(;;){for(var fe;ie!==u||y!==0&&ie.nodeType!==3||(j=R+y),ie!==w||p!==0&&ie.nodeType!==3||($=R+p),ie.nodeType===3&&(R+=ie.nodeValue.length),(fe=ie.firstChild)!==null;)re=ie,ie=fe;for(;;){if(ie===i)break t;if(re===u&&++Q===y&&(j=R),re===w&&++se===p&&($=R),(fe=ie.nextSibling)!==null)break;ie=re,re=ie.parentNode}ie=fe}u=j===-1||$===-1?null:{start:j,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(wm={focusedElem:i,selectionRange:u},Ni=!1,ye=a;ye!==null;)if(a=ye,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ye=i;else for(;ye!==null;){a=ye;try{var ve=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var _e=ve.memoizedProps,kt=ve.memoizedState,H=a.stateNode,z=H.getSnapshotBeforeUpdate(a.elementType===a.type?_e:Fr(a.type,_e),kt);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){Ct(a,a.return,le)}if(i=a.sibling,i!==null){i.return=a.return,ye=i;break}ye=a.return}return ve=_E,_E=!1,ve}function Kc(i,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&i)===i){var w=y.destroy;y.destroy=void 0,w!==void 0&&ag(a,u,w)}y=y.next}while(y!==p)}}function wh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function lg(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function wE(i){var a=i.alternate;a!==null&&(i.alternate=null,wE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[as],delete a[jc],delete a[Im],delete a[gN],delete a[yN])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function EE(i){return i.tag===5||i.tag===3||i.tag===4}function TE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||EE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cg(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Xd));else if(p!==4&&(i=i.child,i!==null))for(cg(i,a,u),i=i.sibling;i!==null;)cg(i,a,u),i=i.sibling}function ug(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(ug(i,a,u),i=i.sibling;i!==null;)ug(i,a,u),i=i.sibling}var rn=null,Ur=!1;function Fi(i,a,u){for(u=u.child;u!==null;)xE(i,a,u),u=u.sibling}function xE(i,a,u){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Lo,u)}catch{}switch(u.tag){case 5:hn||cl(u,a);case 6:var p=rn,y=Ur;rn=null,Fi(i,a,u),rn=p,Ur=y,rn!==null&&(Ur?(i=rn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):rn.removeChild(u.stateNode));break;case 18:rn!==null&&(Ur?(i=rn,u=u.stateNode,i.nodeType===8?xm(i.parentNode,u):i.nodeType===1&&xm(i,u),Lr(i)):xm(rn,u.stateNode));break;case 4:p=rn,y=Ur,rn=u.stateNode.containerInfo,Ur=!0,Fi(i,a,u),rn=p,Ur=y;break;case 0:case 11:case 14:case 15:if(!hn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,R=w.destroy;w=w.tag,R!==void 0&&((w&2)!==0||(w&4)!==0)&&ag(u,a,R),y=y.next}while(y!==p)}Fi(i,a,u);break;case 1:if(!hn&&(cl(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(j){Ct(u,a,j)}Fi(i,a,u);break;case 21:Fi(i,a,u);break;case 22:u.mode&1?(hn=(p=hn)||u.memoizedState!==null,Fi(i,a,u),hn=p):Fi(i,a,u);break;default:Fi(i,a,u)}}function IE(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new ON),a.forEach(function(p){var y=zN.bind(null,i,p);u.has(p)||(u.add(p),p.then(y,y))})}}function $r(i,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var w=i,R=a,j=R;e:for(;j!==null;){switch(j.tag){case 5:rn=j.stateNode,Ur=!1;break e;case 3:rn=j.stateNode.containerInfo,Ur=!0;break e;case 4:rn=j.stateNode.containerInfo,Ur=!0;break e}j=j.return}if(rn===null)throw Error(t(160));xE(w,R,y),rn=null,Ur=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(Q){Ct(y,a,Q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)SE(a,i),a=a.sibling}function SE(i,a){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if($r(a,i),us(i),p&4){try{Kc(3,i,i.return),wh(3,i)}catch(_e){Ct(i,i.return,_e)}try{Kc(5,i,i.return)}catch(_e){Ct(i,i.return,_e)}}break;case 1:$r(a,i),us(i),p&512&&u!==null&&cl(u,u.return);break;case 5:if($r(a,i),us(i),p&512&&u!==null&&cl(u,u.return),i.flags&32){var y=i.stateNode;try{Ti(y,"")}catch(_e){Ct(i,i.return,_e)}}if(p&4&&(y=i.stateNode,y!=null)){var w=i.memoizedProps,R=u!==null?u.memoizedProps:w,j=i.type,$=i.updateQueue;if(i.updateQueue=null,$!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&yi(y,w),fc(j,R);var Q=fc(j,w);for(R=0;R<$.length;R+=2){var se=$[R],ie=$[R+1];se==="style"?uc(y,ie):se==="dangerouslySetInnerHTML"?lc(y,ie):se==="children"?Ti(y,ie):U(y,se,ie,Q)}switch(j){case"input":vi(y,w);break;case"textarea":Zr(y,w);break;case"select":var re=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Pn(y,!!w.multiple,fe,!1):re!==!!w.multiple&&(w.defaultValue!=null?Pn(y,!!w.multiple,w.defaultValue,!0):Pn(y,!!w.multiple,w.multiple?[]:"",!1))}y[jc]=w}catch(_e){Ct(i,i.return,_e)}}break;case 6:if($r(a,i),us(i),p&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,w=i.memoizedProps;try{y.nodeValue=w}catch(_e){Ct(i,i.return,_e)}}break;case 3:if($r(a,i),us(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Lr(a.containerInfo)}catch(_e){Ct(i,i.return,_e)}break;case 4:$r(a,i),us(i);break;case 13:$r(a,i),us(i),y=i.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(fg=st())),p&4&&IE(i);break;case 22:if(se=u!==null&&u.memoizedState!==null,i.mode&1?(hn=(Q=hn)||se,$r(a,i),hn=Q):$r(a,i),us(i),p&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!se&&(i.mode&1)!==0)for(ye=i,se=i.child;se!==null;){for(ie=ye=se;ye!==null;){switch(re=ye,fe=re.child,re.tag){case 0:case 11:case 14:case 15:Kc(4,re,re.return);break;case 1:cl(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){p=re,u=re.return;try{a=p,ve.props=a.memoizedProps,ve.state=a.memoizedState,ve.componentWillUnmount()}catch(_e){Ct(p,u,_e)}}break;case 5:cl(re,re.return);break;case 22:if(re.memoizedState!==null){AE(ie);continue}}fe!==null?(fe.return=re,ye=fe):AE(ie)}se=se.sibling}e:for(se=null,ie=i;;){if(ie.tag===5){if(se===null){se=ie;try{y=ie.stateNode,Q?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=ie.stateNode,$=ie.memoizedProps.style,R=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=cc("display",R))}catch(_e){Ct(i,i.return,_e)}}}else if(ie.tag===6){if(se===null)try{ie.stateNode.nodeValue=Q?"":ie.memoizedProps}catch(_e){Ct(i,i.return,_e)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;se===ie&&(se=null),ie=ie.return}se===ie&&(se=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:$r(a,i),us(i),p&4&&IE(i);break;case 21:break;default:$r(a,i),us(i)}}function us(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(EE(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Ti(y,""),p.flags&=-33);var w=TE(i);ug(i,w,y);break;case 3:case 4:var R=p.stateNode.containerInfo,j=TE(i);cg(i,j,R);break;default:throw Error(t(161))}}catch($){Ct(i,i.return,$)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function LN(i,a,u){ye=i,CE(i)}function CE(i,a,u){for(var p=(i.mode&1)!==0;ye!==null;){var y=ye,w=y.child;if(y.tag===22&&p){var R=y.memoizedState!==null||_h;if(!R){var j=y.alternate,$=j!==null&&j.memoizedState!==null||hn;j=_h;var Q=hn;if(_h=R,(hn=$)&&!Q)for(ye=y;ye!==null;)R=ye,$=R.child,R.tag===22&&R.memoizedState!==null?bE(y):$!==null?($.return=R,ye=$):bE(y);for(;w!==null;)ye=w,CE(w),w=w.sibling;ye=y,_h=j,hn=Q}RE(i)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,ye=w):RE(i)}}function RE(i){for(;ye!==null;){var a=ye;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:hn||wh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!hn)if(u===null)p.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:Fr(a.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&Aw(a,w,p);break;case 3:var R=a.updateQueue;if(R!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Aw(a,R,u)}break;case 5:var j=a.stateNode;if(u===null&&a.flags&4){u=j;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Q=a.alternate;if(Q!==null){var se=Q.memoizedState;if(se!==null){var ie=se.dehydrated;ie!==null&&Lr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}hn||a.flags&512&&lg(a)}catch(re){Ct(a,a.return,re)}}if(a===i){ye=null;break}if(u=a.sibling,u!==null){u.return=a.return,ye=u;break}ye=a.return}}function AE(i){for(;ye!==null;){var a=ye;if(a===i){ye=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ye=u;break}ye=a.return}}function bE(i){for(;ye!==null;){var a=ye;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{wh(4,a)}catch($){Ct(a,u,$)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch($){Ct(a,y,$)}}var w=a.return;try{lg(a)}catch($){Ct(a,w,$)}break;case 5:var R=a.return;try{lg(a)}catch($){Ct(a,R,$)}}}catch($){Ct(a,a.return,$)}if(a===i){ye=null;break}var j=a.sibling;if(j!==null){j.return=a.return,ye=j;break}ye=a.return}}var jN=Math.ceil,Eh=B.ReactCurrentDispatcher,dg=B.ReactCurrentOwner,vr=B.ReactCurrentBatchConfig,Qe=0,Gt=null,jt=null,sn=0,tr=0,ul=Di(0),zt=0,Gc=null,Qo=0,Th=0,hg=0,Qc=null,Mn=null,fg=0,dl=1/0,Ws=null,xh=!1,pg=null,Ui=null,Ih=!1,$i=null,Sh=0,Yc=0,mg=null,Ch=-1,Rh=0;function An(){return(Qe&6)!==0?st():Ch!==-1?Ch:Ch=st()}function Bi(i){return(i.mode&1)===0?1:(Qe&2)!==0&&sn!==0?sn&-sn:_N.transition!==null?(Rh===0&&(Rh=Mo()),Rh):(i=Be,i!==0||(i=window.event,i=i===void 0?16:Ic(i.type)),i)}function Br(i,a,u,p){if(50<Yc)throw Yc=0,mg=null,Error(t(185));Ci(i,u,p),((Qe&2)===0||i!==Gt)&&(i===Gt&&((Qe&2)===0&&(Th|=u),zt===4&&zi(i,sn)),Vn(i,p),u===1&&Qe===0&&(a.mode&1)===0&&(dl=st()+500,th&&ji()))}function Vn(i,a){var u=i.callbackNode;ks(i,a);var p=jo(i,i===Gt?sn:0);if(p===0)u!==null&&_c(u),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(u!=null&&_c(u),a===1)i.tag===0?vN(PE.bind(null,i)):gw(PE.bind(null,i)),pN(function(){(Qe&6)===0&&ji()}),u=null;else{switch(Ai(p)){case 1:u=Do;break;case 4:u=xi;break;case 16:u=dr;break;case 536870912:u=Rd;break;default:u=dr}u=FE(u,NE.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function NE(i,a){if(Ch=-1,Rh=0,(Qe&6)!==0)throw Error(t(327));var u=i.callbackNode;if(hl()&&i.callbackNode!==u)return null;var p=jo(i,i===Gt?sn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=Ah(i,p);else{a=p;var y=Qe;Qe|=2;var w=OE();(Gt!==i||sn!==a)&&(Ws=null,dl=st()+500,Xo(i,a));do try{FN();break}catch(j){kE(i,j)}while(!0);Om(),Eh.current=w,Qe=y,jt!==null?a=0:(Gt=null,sn=0,a=zt)}if(a!==0){if(a===2&&(y=Yn(i),y!==0&&(p=y,a=gg(i,y))),a===1)throw u=Gc,Xo(i,0),zi(i,p),Vn(i,st()),u;if(a===6)zi(i,p);else{if(y=i.current.alternate,(p&30)===0&&!MN(y)&&(a=Ah(i,p),a===2&&(w=Yn(i),w!==0&&(p=w,a=gg(i,w))),a===1))throw u=Gc,Xo(i,0),zi(i,p),Vn(i,st()),u;switch(i.finishedWork=y,i.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Jo(i,Mn,Ws);break;case 3:if(zi(i,p),(p&130023424)===p&&(a=fg+500-st(),10<a)){if(jo(i,0)!==0)break;if(y=i.suspendedLanes,(y&p)!==p){An(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Tm(Jo.bind(null,i,Mn,Ws),a);break}Jo(i,Mn,Ws);break;case 4:if(zi(i,p),(p&4194240)===p)break;for(a=i.eventTimes,y=-1;0<p;){var R=31-Sn(p);w=1<<R,R=a[R],R>y&&(y=R),p&=~w}if(p=y,p=st()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*jN(p/1960))-p,10<p){i.timeoutHandle=Tm(Jo.bind(null,i,Mn,Ws),p);break}Jo(i,Mn,Ws);break;case 5:Jo(i,Mn,Ws);break;default:throw Error(t(329))}}}return Vn(i,st()),i.callbackNode===u?NE.bind(null,i):null}function gg(i,a){var u=Qc;return i.current.memoizedState.isDehydrated&&(Xo(i,a).flags|=256),i=Ah(i,a),i!==2&&(a=Mn,Mn=u,a!==null&&yg(a)),i}function yg(i){Mn===null?Mn=i:Mn.push.apply(Mn,i)}function MN(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],w=y.getSnapshot;y=y.value;try{if(!Mr(w(),y))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zi(i,a){for(a&=~hg,a&=~Th,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-Sn(a),p=1<<u;i[u]=-1,a&=~p}}function PE(i){if((Qe&6)!==0)throw Error(t(327));hl();var a=jo(i,0);if((a&1)===0)return Vn(i,st()),null;var u=Ah(i,a);if(i.tag!==0&&u===2){var p=Yn(i);p!==0&&(a=p,u=gg(i,p))}if(u===1)throw u=Gc,Xo(i,0),zi(i,a),Vn(i,st()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Jo(i,Mn,Ws),Vn(i,st()),null}function vg(i,a){var u=Qe;Qe|=1;try{return i(a)}finally{Qe=u,Qe===0&&(dl=st()+500,th&&ji())}}function Yo(i){$i!==null&&$i.tag===0&&(Qe&6)===0&&hl();var a=Qe;Qe|=1;var u=vr.transition,p=Be;try{if(vr.transition=null,Be=1,i)return i()}finally{Be=p,vr.transition=u,Qe=a,(Qe&6)===0&&ji()}}function _g(){tr=ul.current,lt(ul)}function Xo(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,fN(u)),jt!==null)for(u=jt.return;u!==null;){var p=u;switch(Am(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Zd();break;case 3:al(),lt(Dn),lt(cn),$m();break;case 5:Fm(p);break;case 4:al();break;case 13:lt(wt);break;case 19:lt(wt);break;case 10:Dm(p.type._context);break;case 22:case 23:_g()}u=u.return}if(Gt=i,jt=i=Wi(i.current,null),sn=tr=a,zt=0,Gc=null,hg=Th=Qo=0,Mn=Qc=null,Ho!==null){for(a=0;a<Ho.length;a++)if(u=Ho[a],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,w=u.pending;if(w!==null){var R=w.next;w.next=y,p.next=R}u.pending=p}Ho=null}return i}function kE(i,a){do{var u=jt;try{if(Om(),dh.current=mh,hh){for(var p=Et.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}hh=!1}if(Go=0,Kt=Bt=Et=null,Bc=!1,zc=0,dg.current=null,u===null||u.return===null){zt=1,Gc=a,jt=null;break}e:{var w=i,R=u.return,j=u,$=a;if(a=sn,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Q=$,se=j,ie=se.tag;if((se.mode&1)===0&&(ie===0||ie===11||ie===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=rE(R);if(fe!==null){fe.flags&=-257,sE(fe,R,j,w,a),fe.mode&1&&nE(w,Q,a),a=fe,$=Q;var ve=a.updateQueue;if(ve===null){var _e=new Set;_e.add($),a.updateQueue=_e}else ve.add($);break e}else{if((a&1)===0){nE(w,Q,a),wg();break e}$=Error(t(426))}}else if(gt&&j.mode&1){var kt=rE(R);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),sE(kt,R,j,w,a),Pm(ll($,j));break e}}w=$=ll($,j),zt!==4&&(zt=2),Qc===null?Qc=[w]:Qc.push(w),w=R;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var H=eE(w,$,a);Rw(w,H);break e;case 1:j=$;var z=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ui===null||!Ui.has(K)))){w.flags|=65536,a&=-a,w.lanes|=a;var le=tE(w,j,a);Rw(w,le);break e}}w=w.return}while(w!==null)}LE(u)}catch(we){a=we,jt===u&&u!==null&&(jt=u=u.return);continue}break}while(!0)}function OE(){var i=Eh.current;return Eh.current=mh,i===null?mh:i}function wg(){(zt===0||zt===3||zt===2)&&(zt=4),Gt===null||(Qo&268435455)===0&&(Th&268435455)===0||zi(Gt,sn)}function Ah(i,a){var u=Qe;Qe|=2;var p=OE();(Gt!==i||sn!==a)&&(Ws=null,Xo(i,a));do try{VN();break}catch(y){kE(i,y)}while(!0);if(Om(),Qe=u,Eh.current=p,jt!==null)throw Error(t(261));return Gt=null,sn=0,zt}function VN(){for(;jt!==null;)DE(jt)}function FN(){for(;jt!==null&&!Sd();)DE(jt)}function DE(i){var a=VE(i.alternate,i,tr);i.memoizedProps=i.pendingProps,a===null?LE(i):jt=a,dg.current=null}function LE(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=PN(u,a,tr),u!==null){jt=u;return}}else{if(u=kN(u,a),u!==null){u.flags&=32767,jt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{zt=6,jt=null;return}}if(a=a.sibling,a!==null){jt=a;return}jt=a=i}while(a!==null);zt===0&&(zt=5)}function Jo(i,a,u){var p=Be,y=vr.transition;try{vr.transition=null,Be=1,UN(i,a,u,p)}finally{vr.transition=y,Be=p}return null}function UN(i,a,u,p){do hl();while($i!==null);if((Qe&6)!==0)throw Error(t(327));u=i.finishedWork;var y=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(rt(i,w),i===Gt&&(jt=Gt=null,sn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ih||(Ih=!0,FE(dr,function(){return hl(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=vr.transition,vr.transition=null;var R=Be;Be=1;var j=Qe;Qe|=4,dg.current=null,DN(i,u),SE(u,i),oN(wm),Ni=!!_m,wm=_m=null,i.current=u,LN(u),rm(),Qe=j,Be=R,vr.transition=w}else i.current=u;if(Ih&&(Ih=!1,$i=i,Sh=y),w=i.pendingLanes,w===0&&(Ui=null),Ad(u.stateNode),Vn(i,st()),a!==null)for(p=i.onRecoverableError,u=0;u<a.length;u++)y=a[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(xh)throw xh=!1,i=pg,pg=null,i;return(Sh&1)!==0&&i.tag!==0&&hl(),w=i.pendingLanes,(w&1)!==0?i===mg?Yc++:(Yc=0,mg=i):Yc=0,ji(),null}function hl(){if($i!==null){var i=Ai(Sh),a=vr.transition,u=Be;try{if(vr.transition=null,Be=16>i?16:i,$i===null)var p=!1;else{if(i=$i,$i=null,Sh=0,(Qe&6)!==0)throw Error(t(331));var y=Qe;for(Qe|=4,ye=i.current;ye!==null;){var w=ye,R=w.child;if((ye.flags&16)!==0){var j=w.deletions;if(j!==null){for(var $=0;$<j.length;$++){var Q=j[$];for(ye=Q;ye!==null;){var se=ye;switch(se.tag){case 0:case 11:case 15:Kc(8,se,w)}var ie=se.child;if(ie!==null)ie.return=se,ye=ie;else for(;ye!==null;){se=ye;var re=se.sibling,fe=se.return;if(wE(se),se===Q){ye=null;break}if(re!==null){re.return=fe,ye=re;break}ye=fe}}}var ve=w.alternate;if(ve!==null){var _e=ve.child;if(_e!==null){ve.child=null;do{var kt=_e.sibling;_e.sibling=null,_e=kt}while(_e!==null)}}ye=w}}if((w.subtreeFlags&2064)!==0&&R!==null)R.return=w,ye=R;else e:for(;ye!==null;){if(w=ye,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Kc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,ye=H;break e}ye=w.return}}var z=i.current;for(ye=z;ye!==null;){R=ye;var K=R.child;if((R.subtreeFlags&2064)!==0&&K!==null)K.return=R,ye=K;else e:for(R=z;ye!==null;){if(j=ye,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:wh(9,j)}}catch(we){Ct(j,j.return,we)}if(j===R){ye=null;break e}var le=j.sibling;if(le!==null){le.return=j.return,ye=le;break e}ye=j.return}}if(Qe=y,ji(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Lo,i)}catch{}p=!0}return p}finally{Be=u,vr.transition=a}}return!1}function jE(i,a,u){a=ll(u,a),a=eE(i,a,1),i=Vi(i,a,1),a=An(),i!==null&&(Ci(i,1,a),Vn(i,a))}function Ct(i,a,u){if(i.tag===3)jE(i,i,u);else for(;a!==null;){if(a.tag===3){jE(a,i,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ui===null||!Ui.has(p))){i=ll(u,i),i=tE(a,i,1),a=Vi(a,i,1),i=An(),a!==null&&(Ci(a,1,i),Vn(a,i));break}}a=a.return}}function $N(i,a,u){var p=i.pingCache;p!==null&&p.delete(a),a=An(),i.pingedLanes|=i.suspendedLanes&u,Gt===i&&(sn&u)===u&&(zt===4||zt===3&&(sn&130023424)===sn&&500>st()-fg?Xo(i,0):hg|=u),Vn(i,a)}function ME(i,a){a===0&&((i.mode&1)===0?a=1:(a=La,La<<=1,(La&130023424)===0&&(La=4194304)));var u=An();i=$s(i,a),i!==null&&(Ci(i,a,u),Vn(i,u))}function BN(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),ME(i,u)}function zN(i,a){var u=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),ME(i,u)}var VE;VE=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||Dn.current)jn=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return jn=!1,NN(i,a,u);jn=(i.flags&131072)!==0}else jn=!1,gt&&(a.flags&1048576)!==0&&yw(a,rh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;vh(i,a),i=a.pendingProps;var y=el(a,cn.current);ol(a,u),y=Wm(null,a,p,i,y,u);var w=qm();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ln(p)?(w=!0,eh(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Mm(a),y.updater=gh,a.stateNode=y,y._reactInternals=a,Xm(a,p,i,u),a=tg(null,a,p,!0,w,u)):(a.tag=0,gt&&w&&Rm(a),Rn(null,a,y,u),a=a.child),a;case 16:p=a.elementType;e:{switch(vh(i,a),i=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=qN(p),i=Fr(p,i),y){case 0:a=eg(null,a,p,i,u);break e;case 1:a=uE(null,a,p,i,u);break e;case 11:a=iE(null,a,p,i,u);break e;case 14:a=oE(null,a,p,Fr(p.type,i),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Fr(p,y),eg(i,a,p,y,u);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Fr(p,y),uE(i,a,p,y,u);case 3:e:{if(dE(a),i===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,Cw(i,a),ch(a,p,null,u);var R=a.memoizedState;if(p=R.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=ll(Error(t(423)),a),a=hE(i,a,p,u,y);break e}else if(p!==y){y=ll(Error(t(424)),a),a=hE(i,a,p,u,y);break e}else for(er=Oi(a.stateNode.containerInfo.firstChild),Zn=a,gt=!0,Vr=null,u=Iw(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(rl(),p===y){a=zs(i,a,u);break e}Rn(i,a,p,u)}a=a.child}return a;case 5:return bw(a),i===null&&Nm(a),p=a.type,y=a.pendingProps,w=i!==null?i.memoizedProps:null,R=y.children,Em(p,y)?R=null:w!==null&&Em(p,w)&&(a.flags|=32),cE(i,a),Rn(i,a,R,u),a.child;case 6:return i===null&&Nm(a),null;case 13:return fE(i,a,u);case 4:return Vm(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=sl(a,null,p,u):Rn(i,a,p,u),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Fr(p,y),iE(i,a,p,y,u);case 7:return Rn(i,a,a.pendingProps,u),a.child;case 8:return Rn(i,a,a.pendingProps.children,u),a.child;case 12:return Rn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,R=y.value,it(oh,p._currentValue),p._currentValue=R,w!==null)if(Mr(w.value,R)){if(w.children===y.children&&!Dn.current){a=zs(i,a,u);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var j=w.dependencies;if(j!==null){R=w.child;for(var $=j.firstContext;$!==null;){if($.context===p){if(w.tag===1){$=Bs(-1,u&-u),$.tag=2;var Q=w.updateQueue;if(Q!==null){Q=Q.shared;var se=Q.pending;se===null?$.next=$:($.next=se.next,se.next=$),Q.pending=$}}w.lanes|=u,$=w.alternate,$!==null&&($.lanes|=u),Lm(w.return,u,a),j.lanes|=u;break}$=$.next}}else if(w.tag===10)R=w.type===a.type?null:w.child;else if(w.tag===18){if(R=w.return,R===null)throw Error(t(341));R.lanes|=u,j=R.alternate,j!==null&&(j.lanes|=u),Lm(R,u,a),R=w.sibling}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===a){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}Rn(i,a,y.children,u),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,ol(a,u),y=gr(y),p=p(y),a.flags|=1,Rn(i,a,p,u),a.child;case 14:return p=a.type,y=Fr(p,a.pendingProps),y=Fr(p.type,y),oE(i,a,p,y,u);case 15:return aE(i,a,a.type,a.pendingProps,u);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Fr(p,y),vh(i,a),a.tag=1,Ln(p)?(i=!0,eh(a)):i=!1,ol(a,u),Jw(a,p,y),Xm(a,p,y,u),tg(null,a,p,!0,i,u);case 19:return mE(i,a,u);case 22:return lE(i,a,u)}throw Error(t(156,a.tag))};function FE(i,a){return Oa(i,a)}function WN(i,a,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(i,a,u,p){return new WN(i,a,u,p)}function Eg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qN(i){if(typeof i=="function")return Eg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===Re)return 14}return 2}function Wi(i,a){var u=i.alternate;return u===null?(u=_r(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function bh(i,a,u,p,y,w){var R=2;if(p=i,typeof i=="function")Eg(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case k:return Zo(u.children,y,w,a);case N:R=8,y|=8;break;case P:return i=_r(12,u,a,y|2),i.elementType=P,i.lanes=w,i;case D:return i=_r(13,u,a,y),i.elementType=D,i.lanes=w,i;case ue:return i=_r(19,u,a,y),i.elementType=ue,i.lanes=w,i;case Ie:return Nh(u,y,w,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:R=10;break e;case M:R=9;break e;case V:R=11;break e;case Re:R=14;break e;case be:R=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=_r(R,u,a,y),a.elementType=i,a.type=p,a.lanes=w,a}function Zo(i,a,u,p){return i=_r(7,i,p,a),i.lanes=u,i}function Nh(i,a,u,p){return i=_r(22,i,p,a),i.elementType=Ie,i.lanes=u,i.stateNode={isHidden:!1},i}function Tg(i,a,u){return i=_r(6,i,null,a),i.lanes=u,i}function xg(i,a,u){return a=_r(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function HN(i,a,u,p,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Ig(i,a,u,p,y,w,R,j,$){return i=new HN(i,a,u,j,$),a===1?(a=1,w===!0&&(a|=8)):a=0,w=_r(3,null,null,a),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mm(w),i}function KN(i,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:p==null?null:""+p,children:i,containerInfo:a,implementation:u}}function UE(i){if(!i)return Li;i=i._reactInternals;e:{if(Nr(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ln(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(Ln(u))return pw(i,u,a)}return a}function $E(i,a,u,p,y,w,R,j,$){return i=Ig(u,p,!0,i,y,w,R,j,$),i.context=UE(null),u=i.current,p=An(),y=Bi(u),w=Bs(p,y),w.callback=a??null,Vi(u,w,y),i.current.lanes=y,Ci(i,y,p),Vn(i,p),i}function Ph(i,a,u,p){var y=a.current,w=An(),R=Bi(y);return u=UE(u),a.context===null?a.context=u:a.pendingContext=u,a=Bs(w,R),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=Vi(y,a,R),i!==null&&(Br(i,y,R,w),lh(i,y,R)),R}function kh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function BE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Sg(i,a){BE(i,a),(i=i.alternate)&&BE(i,a)}function GN(){return null}var zE=typeof reportError=="function"?reportError:function(i){console.error(i)};function Cg(i){this._internalRoot=i}Oh.prototype.render=Cg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));Ph(i,a,null,null)},Oh.prototype.unmount=Cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Yo(function(){Ph(null,i,null,null)}),a[Ms]=null}};function Oh(i){this._internalRoot=i}Oh.prototype.unstable_scheduleHydration=function(i){if(i){var a=Od();i={blockedOn:null,target:i,priority:a};for(var u=0;u<rs.length&&a!==0&&a<rs[u].priority;u++);rs.splice(u,0,i),u===0&&jd(i)}};function Rg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Dh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function WE(){}function QN(i,a,u,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Q=kh(R);w.call(Q)}}var R=$E(a,p,i,0,null,!1,!1,"",WE);return i._reactRootContainer=R,i[Ms]=R.current,Dc(i.nodeType===8?i.parentNode:i),Yo(),R}for(;y=i.lastChild;)i.removeChild(y);if(typeof p=="function"){var j=p;p=function(){var Q=kh($);j.call(Q)}}var $=Ig(i,0,!1,null,null,!1,!1,"",WE);return i._reactRootContainer=$,i[Ms]=$.current,Dc(i.nodeType===8?i.parentNode:i),Yo(function(){Ph(a,$,u,p)}),$}function Lh(i,a,u,p,y){var w=u._reactRootContainer;if(w){var R=w;if(typeof y=="function"){var j=y;y=function(){var $=kh(R);j.call($)}}Ph(a,R,i,y)}else R=QN(u,a,i,y,p);return kh(R)}Pd=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=Ii(a.pendingLanes);u!==0&&(Ri(a,u|1),Vn(a,st()),(Qe&6)===0&&(dl=st()+500,ji()))}break;case 13:Yo(function(){var p=$s(i,1);if(p!==null){var y=An();Br(p,i,1,y)}}),Sg(i,1)}},ja=function(i){if(i.tag===13){var a=$s(i,134217728);if(a!==null){var u=An();Br(a,i,134217728,u)}Sg(i,134217728)}},kd=function(i){if(i.tag===13){var a=Bi(i),u=$s(i,a);if(u!==null){var p=An();Br(u,i,a,p)}Sg(i,a)}},Od=function(){return Be},Dd=function(i,a){var u=Be;try{return Be=i,a()}finally{Be=u}},Ra=function(i,a,u){switch(a){case"input":if(vi(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==i&&p.form===i.form){var y=Jd(p);if(!y)throw Error(t(90));mi(p),vi(p,y)}}}break;case"textarea":Zr(i,u);break;case"select":a=u.value,a!=null&&Pn(i,!!u.multiple,a,!1)}},No=vg,mc=Yo;var YN={usingClientEntryPoint:!1,Events:[Mc,Ja,Jd,ts,pc,vg]},Xc={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XN={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=vc(i),i===null?null:i.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||GN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{Lo=jh.inject(XN),Qn=jh}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YN,Fn.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rg(a))throw Error(t(200));return KN(i,a,null,u)},Fn.createRoot=function(i,a){if(!Rg(i))throw Error(t(299));var u=!1,p="",y=zE;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Ig(i,1,!1,null,null,u,!1,p,y),i[Ms]=a.current,Dc(i.nodeType===8?i.parentNode:i),new Cg(a)},Fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=vc(a),i=i===null?null:i.stateNode,i},Fn.flushSync=function(i){return Yo(i)},Fn.hydrate=function(i,a,u){if(!Dh(a))throw Error(t(200));return Lh(null,i,a,!0,u)},Fn.hydrateRoot=function(i,a,u){if(!Rg(i))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,y=!1,w="",R=zE;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),a=$E(a,null,i,1,u??null,y,!1,w,R),i[Ms]=a.current,Dc(i),p)for(i=0;i<p.length;i++)u=p[i],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new Oh(a)},Fn.render=function(i,a,u){if(!Dh(a))throw Error(t(200));return Lh(null,i,a,!1,u)},Fn.unmountComponentAtNode=function(i){if(!Dh(i))throw Error(t(40));return i._reactRootContainer?(Yo(function(){Lh(null,null,i,!1,function(){i._reactRootContainer=null,i[Ms]=null})}),!0):!1},Fn.unstable_batchedUpdates=vg,Fn.unstable_renderSubtreeIntoContainer=function(i,a,u,p){if(!Dh(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Lh(i,a,u,!1,p)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var ZE;function wS(){if(ZE)return Ng.exports;ZE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ng.exports=oP(),Ng.exports}var eT;function aP(){if(eT)return Mh;eT=1;var n=wS();return Mh.createRoot=n.createRoot,Mh.hydrateRoot=n.hydrateRoot,Mh}var lP=aP(),Zc={},tT;function cP(){if(tT)return Zc;tT=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.parse=l,Zc.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,I){const C=new o,A=E.length;if(A<2)return C;const x=(I==null?void 0:I.decode)||g;let O=0;do{const F=E.indexOf("=",O);if(F===-1)break;const U=E.indexOf(";",O),B=U===-1?A:U;if(F>B){O=E.lastIndexOf(";",F-1)+1;continue}const G=c(E,O,F),X=d(E,F,G),k=E.slice(G,X);if(C[k]===void 0){let N=c(E,F+1,B),P=d(E,B,N);const L=x(E.slice(N,P));C[k]=L}O=B+1}while(O<A);return C}function c(E,I,C){do{const A=E.charCodeAt(I);if(A!==32&&A!==9)return I}while(++I<C);return C}function d(E,I,C){for(;I>C;){const A=E.charCodeAt(--I);if(A!==32&&A!==9)return I+1}return C}function h(E,I,C){const A=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=A(I);if(!e.test(x))throw new TypeError(`argument val is invalid: ${I}`);let O=E+"="+x;if(!C)return O;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);O+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);O+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);O+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);O+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(O+="; HttpOnly"),C.secure&&(O+="; Secure"),C.partitioned&&(O+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return O}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return s.call(E)==="[object Date]"}return Zc}cP();var nT="popstate";function uP(n={}){function e(r,s){let{pathname:o,search:l,hash:c}=r.location;return yy("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Nu(s)}return hP(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dP(){return Math.random().toString(36).substring(2,10)}function rT(n,e){return{usr:n.state,key:n.key,idx:e}}function yy(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wl(e):e,state:t,key:e&&e.key||r||dP()}}function Nu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function hP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c="POP",d=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function v(){c="POP";let x=g(),O=x==null?null:x-h;h=x,d&&d({action:c,location:A.location,delta:O})}function E(x,O){c="PUSH";let F=yy(A.location,x,O);h=g()+1;let U=rT(F,h),B=A.createHref(F);try{l.pushState(U,"",B)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(B)}o&&d&&d({action:c,location:A.location,delta:1})}function I(x,O){c="REPLACE";let F=yy(A.location,x,O);h=g();let U=rT(F,h),B=A.createHref(F);l.replaceState(U,"",B),o&&d&&d({action:c,location:A.location,delta:0})}function C(x){let O=s.location.origin!=="null"?s.location.origin:s.location.href,F=typeof x=="string"?x:Nu(x);return F=F.replace(/ $/,"%20"),_t(O,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,O)}let A={get action(){return c},get location(){return n(s,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(nT,v),d=x,()=>{s.removeEventListener(nT,v),d=null}},createHref(x){return e(s,x)},createURL:C,encodeLocation(x){let O=C(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:I,go(x){return l.go(x)}};return A}function ES(n,e,t="/"){return fP(n,e,t,!1)}function fP(n,e,t,r){let s=typeof e=="string"?Wl(e):e,o=ni(s.pathname||"/",t);if(o==null)return null;let l=TS(n);pP(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=SP(o);c=xP(l[d],h,r)}return c}function TS(n,e=[],t=[],r=""){let s=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(_t(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Zs([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),TS(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:EP(h,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of xS(o.path))s(o,l,d)}),e}function xS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=xS(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function pP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mP=/^:[\w-]+$/,gP=3,yP=2,vP=1,_P=10,wP=-2,sT=n=>n==="*";function EP(n,e){let t=n.split("/"),r=t.length;return t.some(sT)&&(r+=wP),e&&(r+=yP),t.filter(s=>!sT(s)).reduce((s,o)=>s+(mP.test(o)?gP:o===""?vP:_P),r)}function TP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function xP(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=_f({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),E=d.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=_f({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Zs([o,v.pathname]),pathnameBase:bP(Zs([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Zs([o,v.pathnameBase]))}return l}function _f(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=IP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:v},E)=>{if(g==="*"){let C=c[E]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const I=c[E];return v&&!I?h[g]=void 0:h[g]=(I||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function IP(n,e=!1,t=!0){Gr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ni(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function CP(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Wl(n):n;return{pathname:t?t.startsWith("/")?t:RP(t,e):e,search:NP(r),hash:PP(s)}}function RP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Og(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Av(n){let e=AP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function bv(n,e,t,r=!1){let s;typeof n=="string"?s=Wl(n):(s={...n},_t(!s.pathname||!s.pathname.includes("?"),Og("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),Og("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),Og("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}c=v>=0?e[v]:"/"}let d=CP(s,c),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}var Zs=n=>n.join("/").replace(/\/\/+/g,"/"),bP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var IS=["POST","PUT","PATCH","DELETE"];new Set(IS);var OP=["GET",...IS];new Set(OP);var ql=S.createContext(null);ql.displayName="DataRouter";var ip=S.createContext(null);ip.displayName="DataRouterState";var SS=S.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var DP=S.createContext(new Map);DP.displayName="Fetchers";var LP=S.createContext(null);LP.displayName="Await";var Yr=S.createContext(null);Yr.displayName="Navigation";var Qu=S.createContext(null);Qu.displayName="Location";var Xr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Xr.displayName="Route";var Nv=S.createContext(null);Nv.displayName="RouteError";function jP(n,{relative:e}={}){_t(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=S.useContext(Yr),{hash:s,pathname:o,search:l}=Xu(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Zs([t,o])),r.createHref({pathname:c,search:l,hash:s})}function Hl(){return S.useContext(Qu)!=null}function fi(){return _t(Hl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Qu).location}var CS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RS(n){S.useContext(Yr).static||S.useLayoutEffect(n)}function In(){let{isDataRoute:n}=S.useContext(Xr);return n?QP():MP()}function MP(){_t(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(ql),{basename:e,navigator:t}=S.useContext(Yr),{matches:r}=S.useContext(Xr),{pathname:s}=fi(),o=JSON.stringify(Av(r)),l=S.useRef(!1);return RS(()=>{l.current=!0}),S.useCallback((d,h={})=>{if(Gr(l.current,CS),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=bv(d,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zs([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,s,n])}S.createContext(null);function Yu(){let{matches:n}=S.useContext(Xr),e=n[n.length-1];return e?e.params:{}}function Xu(n,{relative:e}={}){let{matches:t}=S.useContext(Xr),{pathname:r}=fi(),s=JSON.stringify(Av(t));return S.useMemo(()=>bv(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function VP(n,e){return AS(n,e)}function AS(n,e,t,r){var F;_t(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=S.useContext(Yr),{matches:l}=S.useContext(Xr),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let U=v&&v.path||"";bS(h,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let E=fi(),I;if(e){let U=typeof e=="string"?Wl(e):e;_t(g==="/"||((F=U.pathname)==null?void 0:F.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),I=U}else I=E;let C=I.pathname||"/",A=C;if(g!=="/"){let U=g.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:ES(n,{pathname:A});Gr(v||x!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Gr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=zP(x&&x.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Zs([g,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Zs([g,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,r);return e&&O?S.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},O):O}function FP(){let n=GP(),e=kP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:s},t):null,l)}var UP=S.createElement(FP,null),$P=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(Xr.Provider,{value:this.props.routeContext},S.createElement(Nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BP({routeContext:n,match:e,children:t}){let r=S.useContext(ql);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Xr.Provider,{value:n},t)}function zP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);_t(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:g,errors:v}=t,E=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||E){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,g)=>{let v,E=!1,I=null,C=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,I=h.route.errorElement||UP,l&&(c<0&&g===0?(bS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):c===g&&(E=!0,C=h.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,g+1)),x=()=>{let O;return v?O=I:E?O=C:h.route.Component?O=S.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=d,S.createElement(BP,{match:h,routeContext:{outlet:d,matches:A,isDataRoute:t!=null},children:O})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?S.createElement($P,{location:t.location,revalidation:t.revalidation,component:I,error:v,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):x()},null)}function Pv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WP(n){let e=S.useContext(ql);return _t(e,Pv(n)),e}function qP(n){let e=S.useContext(ip);return _t(e,Pv(n)),e}function HP(n){let e=S.useContext(Xr);return _t(e,Pv(n)),e}function kv(n){let e=HP(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function KP(){return kv("useRouteId")}function GP(){var r;let n=S.useContext(Nv),e=qP("useRouteError"),t=kv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function QP(){let{router:n}=WP("useNavigate"),e=kv("useNavigate"),t=S.useRef(!1);return RS(()=>{t.current=!0}),S.useCallback(async(s,o={})=>{Gr(t.current,CS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var iT={};function bS(n,e,t){!e&&!iT[n]&&(iT[n]=!0,Gr(!1,t))}S.memo(YP);function YP({routes:n,future:e,state:t}){return AS(n,void 0,t,e)}function NS({to:n,replace:e,state:t,relative:r}){_t(Hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Yr);Gr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=S.useContext(Xr),{pathname:l}=fi(),c=In(),d=bv(n,Av(o),l,r==="path"),h=JSON.stringify(d);return S.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:r})},[c,h,r,e,t]),null}function ut(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){_t(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=Wl(t));let{pathname:d="/",search:h="",hash:g="",state:v=null,key:E="default"}=t,I=S.useMemo(()=>{let C=ni(d,l);return C==null?null:{location:{pathname:C,search:h,hash:g,state:v,key:E},navigationType:r}},[l,d,h,g,v,E,r]);return Gr(I!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:S.createElement(Yr.Provider,{value:c},S.createElement(Qu.Provider,{children:e,value:I}))}function JP({children:n,location:e}){return VP(vy(n),e)}function vy(n,e=[]){let t=[];return S.Children.forEach(n,(r,s)=>{if(!S.isValidElement(r))return;let o=[...e,s];if(r.type===S.Fragment){t.push.apply(t,vy(r.props.children,o));return}_t(r.type===ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=vy(r.props.children,o)),t.push(l)}),t}var Zh="get",ef="application/x-www-form-urlencoded";function op(n){return n!=null&&typeof n.tagName=="string"}function ZP(n){return op(n)&&n.tagName.toLowerCase()==="button"}function ek(n){return op(n)&&n.tagName.toLowerCase()==="form"}function tk(n){return op(n)&&n.tagName.toLowerCase()==="input"}function nk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rk(n,e){return n.button===0&&(!e||e==="_self")&&!nk(n)}var Vh=null;function sk(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var ik=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(n){return n!=null&&!ik.has(n)?(Gr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):n}function ok(n,e){let t,r,s,o,l;if(ek(n)){let c=n.getAttribute("action");r=c?ni(c,e):null,t=n.getAttribute("method")||Zh,s=Dg(n.getAttribute("enctype"))||ef,o=new FormData(n)}else if(ZP(n)||tk(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?ni(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Zh,s=Dg(n.getAttribute("formenctype"))||Dg(c.getAttribute("enctype"))||ef,o=new FormData(c,n),!sk()){let{name:h,type:g,value:v}=n;if(g==="image"){let E=h?`${h}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else h&&o.append(h,v)}}else{if(op(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zh,r=null,s=ef,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:l}}function Ov(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ak(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ck(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await ak(o,t);return l.links?l.links():[]}return[]}));return fk(r.flat(1).filter(lk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function oT(n,e,t,r,s,o){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,c=(d,h)=>{var g;return t[h].pathname!==d.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{var v;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function uk(n,e,{includeHydrateFallback:t}={}){return dk(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function dk(n){return[...new Set(n)]}function hk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function fk(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(hk(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}var pk=new Set([100,101,204,205]);function mk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ni(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function PS(){let n=S.useContext(ql);return Ov(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gk(){let n=S.useContext(ip);return Ov(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Dv=S.createContext(void 0);Dv.displayName="FrameworkContext";function kS(){let n=S.useContext(Dv);return Ov(n,"You must render this element inside a <HydratedRouter> element"),n}function yk(n,e){let t=S.useContext(Dv),[r,s]=S.useState(!1),[o,l]=S.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=e,E=S.useRef(null);S.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=O=>{O.forEach(F=>{l(F.isIntersecting)})},x=new IntersectionObserver(A,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),S.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let I=()=>{s(!0)},C=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:eu(c,I),onBlur:eu(d,C),onMouseEnter:eu(h,I),onMouseLeave:eu(g,C),onTouchStart:eu(v,I)}]:[!1,E,{}]}function eu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vk({page:n,...e}){let{router:t}=PS(),r=S.useMemo(()=>ES(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?S.createElement(wk,{page:n,matches:r,...e}):null}function _k(n){let{manifest:e,routeModules:t}=kS(),[r,s]=S.useState([]);return S.useEffect(()=>{let o=!1;return ck(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),r}function wk({page:n,matches:e,...t}){let r=fi(),{manifest:s,routeModules:o}=kS(),{basename:l}=PS(),{loaderData:c,matches:d}=gk(),h=S.useMemo(()=>oT(n,e,d,s,r,"data"),[n,e,d,s,r]),g=S.useMemo(()=>oT(n,e,d,s,r,"assets"),[n,e,d,s,r]),v=S.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,A=!1;if(e.forEach(O=>{var U;let F=s.routes[O.route.id];!F||!F.hasLoader||(!h.some(B=>B.route.id===O.route.id)&&O.route.id in c&&((U=o[O.route.id])!=null&&U.shouldRevalidate)||F.hasClientLoader?A=!0:C.add(O.route.id))}),C.size===0)return[];let x=mk(n,l);return A&&C.size>0&&x.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[x.pathname+x.search]},[l,c,r,s,h,e,n,o]),E=S.useMemo(()=>uk(g,s),[g,s]),I=_k(g);return S.createElement(S.Fragment,null,v.map(C=>S.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>S.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:A})=>S.createElement("link",{key:C,...A})))}function Ek(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var OS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OS&&(window.__reactRouterVersion="7.5.3")}catch{}function Tk({basename:n,children:e,window:t}){let r=S.useRef();r.current==null&&(r.current=uP({window:t,v5Compat:!0}));let s=r.current,[o,l]=S.useState({action:s.action,location:s.location}),c=S.useCallback(d=>{S.startTransition(()=>l(d))},[l]);return S.useLayoutEffect(()=>s.listen(c),[s,c]),S.createElement(XP,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=S.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:c,target:d,to:h,preventScrollReset:g,viewTransition:v,...E},I){let{basename:C}=S.useContext(Yr),A=typeof h=="string"&&DS.test(h),x,O=!1;if(typeof h=="string"&&A&&(x=h,OS))try{let P=new URL(window.location.href),L=h.startsWith("//")?new URL(P.protocol+h):new URL(h),M=ni(L.pathname,C);L.origin===P.origin&&M!=null?h=M+L.search+L.hash:O=!0}catch{Gr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=jP(h,{relative:s}),[U,B,G]=yk(r,E),X=Ck(h,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:v});function k(P){e&&e(P),P.defaultPrevented||X(P)}let N=S.createElement("a",{...E,...G,href:x||F,onClick:O||o?e:k,ref:Ek(I,B),target:d,"data-discover":!A&&t==="render"?"true":void 0});return U&&!A?S.createElement(S.Fragment,null,N,S.createElement(vk,{page:F})):N});yt.displayName="Link";var xk=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:d,...h},g){let v=Xu(l,{relative:h.relative}),E=fi(),I=S.useContext(ip),{navigator:C,basename:A}=S.useContext(Yr),x=I!=null&&Pk(v)&&c===!0,O=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,F=E.pathname,U=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(F=F.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&A&&(U=ni(U,A)||U);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let G=F===O||!s&&F.startsWith(O)&&F.charAt(B)==="/",X=U!=null&&(U===O||!s&&U.startsWith(O)&&U.charAt(O.length)==="/"),k={isActive:G,isPending:X,isTransitioning:x},N=G?e:void 0,P;typeof r=="function"?P=r(k):P=[r,G?"active":null,X?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(k):o;return S.createElement(yt,{...h,"aria-current":N,className:P,ref:g,style:L,to:l,viewTransition:c},typeof d=="function"?d(k):d)});xk.displayName="NavLink";var Ik=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:l=Zh,action:c,onSubmit:d,relative:h,preventScrollReset:g,viewTransition:v,...E},I)=>{let C=bk(),A=Nk(c,{relative:h}),x=l.toLowerCase()==="get"?"get":"post",O=typeof c=="string"&&DS.test(c),F=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let B=U.nativeEvent.submitter,G=(B==null?void 0:B.getAttribute("formmethod"))||l;C(B||U.currentTarget,{fetcherKey:e,method:G,navigate:t,replace:s,state:o,relative:h,preventScrollReset:g,viewTransition:v})};return S.createElement("form",{ref:I,method:x,action:A,onSubmit:r?d:F,...E,"data-discover":!O&&n==="render"?"true":void 0})});Ik.displayName="Form";function Sk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(n){let e=S.useContext(ql);return _t(e,Sk(n)),e}function Ck(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=In(),d=fi(),h=Xu(n,{relative:o});return S.useCallback(g=>{if(rk(g,e)){g.preventDefault();let v=t!==void 0?t:Nu(d)===Nu(h);c(n,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,h,t,r,e,n,s,o,l])}var Rk=0,Ak=()=>`__${String(++Rk)}__`;function bk(){let{router:n}=LS("useSubmit"),{basename:e}=S.useContext(Yr),t=KP();return S.useCallback(async(r,s={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=ok(r,e);if(s.navigate===!1){let g=s.fetcherKey||Ak();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Nk(n,{relative:e}={}){let{basename:t}=S.useContext(Yr),r=S.useContext(Xr);_t(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Xu(n||".",{relative:e})},l=fi();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Zs([t,o.pathname])),Nu(o)}function Pk(n,e={}){let t=S.useContext(SS);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LS("useViewTransitionState"),s=Xu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ni(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ni(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _f(s.pathname,l)!=null||_f(s.pathname,o)!=null}new TextEncoder;[...pk];var Lv=wS();const kk=Gu(Lv),Ok=()=>{};var aT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(n,e){if(!n)throw Kl(e)},Kl=function(n){return new Error("Firebase Database ("+jS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Dk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],c=n[t++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,c=l?n[s+1]:0,d=s+2<n.length,h=d?n[s+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let E=(c&15)<<2|h>>6,I=h&63;d||(I=64,l||(E=64)),r.push(t[g],t[v],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Dk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||h==null||v==null)throw new Lk;const E=o<<2|c>>4;if(r.push(E),h!==64){const I=c<<4&240|h>>2;if(r.push(I),v!==64){const C=h<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Lk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(n){const e=MS(n);return jv.encodeByteArray(e,!0)},wf=function(n){return VS(n).replace(/\./g,"")},Ef=function(n){try{return jv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n){return FS(void 0,n)}function FS(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Mk(t)||(n[t]=FS(n[t],e[t]));return n}function Mk(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=()=>Vk().__FIREBASE_DEFAULTS__,Uk=()=>{if(typeof process>"u"||typeof aT>"u")return;const n=aT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$k=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ef(n[1]);return e&&JSON.parse(e)},ap=()=>{try{return Ok()||Fk()||Uk()||$k()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},US=n=>{var e,t;return(t=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Mv=n=>{const e=US(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$S=()=>{var n;return(n=ap())===null||n===void 0?void 0:n.config},BS=n=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wf(JSON.stringify(t)),wf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function Bk(){var n;const e=(n=ap())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qk(){const n=xn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Hk(){return jS.NODE_ADMIN===!0}function Kk(){return!Bk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gk(){try{return typeof indexedDB=="object"}catch{return!1}}function Qk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="FirebaseError";class Ss extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Yk,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?Xk(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Ss(s,c,r)}}function Xk(n,e){return n.replace(Jk,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Jk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n){return JSON.parse(n)}function on(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=function(n){let e={},t={},r={},s="";try{const o=n.split(".");e=Pu(Ef(o[0])||""),t=Pu(Ef(o[1])||""),s=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:s}},Zk=function(n){const e=WS(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},eO=function(n){const e=WS(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function bl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function _y(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Tf(n,e,t){const r={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=e.call(t,n[s],s,n));return r}function ao(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],l=e[s];if(lT(o)&&lT(l)){if(!ao(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function lT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function du(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let v=0;v<16;v++)r[v]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let v=16;v<80;v++){const E=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(E<<1|E>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],d=this.chain_[4],h,g;for(let v=0;v<80;v++){v<40?v<20?(h=c^o&(l^c),g=1518500249):(h=o^l^c,g=1859775393):v<60?(h=o&l|c&(o|l),g=2400959708):(h=o^l^c,g=3395469782);const E=(s<<5|s>>>27)+h+d+g+r[v]&4294967295;d=c,c=l,l=(o<<30|o>>>2)&4294967295,o=s,s=E}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<t;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<t;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function nO(n,e){const t=new rO(n,e);return t.subscribe.bind(t)}class rO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");sO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Lg),s.error===void 0&&(s.error=Lg),s.complete===void 0&&(s.complete=Lg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Lg(){}function iO(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,he(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;s=65536+(o<<10)+l}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},lp=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(n){return n&&n._delegate?n._delegate:n}class ri{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aO=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Vv;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cO(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lO(n){return n===ea?void 0:n}function cO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const dO={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},hO=Fe.INFO,fO={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},pO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=fO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=hO,this._logHandler=pO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const mO=(n,e)=>e.some(t=>n instanceof t);let cT,uT;function gO(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yO(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,wy=new WeakMap,HS=new WeakMap,jg=new WeakMap,$v=new WeakMap;function vO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(eo(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&qS.set(t,n)}).catch(()=>{}),$v.set(e,n),e}function _O(n){if(wy.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});wy.set(n,e)}let Ey={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||HS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wO(n){Ey=n(Ey)}function EO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Mg(this),e,...t);return HS.set(r,e.sort?e.sort():[e]),eo(r)}:yO().includes(n)?function(...e){return n.apply(Mg(this),e),eo(qS.get(this))}:function(...e){return eo(n.apply(Mg(this),e))}}function TO(n){return typeof n=="function"?EO(n):(n instanceof IDBTransaction&&_O(n),mO(n,gO())?new Proxy(n,Ey):n)}function eo(n){if(n instanceof IDBRequest)return vO(n);if(jg.has(n))return jg.get(n);const e=TO(n);return e!==n&&(jg.set(n,e),$v.set(e,n)),e}const Mg=n=>$v.get(n);function xO(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),c=eo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(eo(l.result),d.oldVersion,d.newVersion,eo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const IO=["get","getKey","getAll","getAllKeys","count"],SO=["put","add","delete","clear"],Vg=new Map;function dT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=SO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||IO.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),s&&d.done]))[0]};return Vg.set(e,o),o}wO(n=>({...n,get:(e,t,r)=>dT(e,t)||n.get(e,t,r),has:(e,t)=>!!dT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function RO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ty="@firebase/app",hT="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new cp("@firebase/app"),AO="@firebase/app-compat",bO="@firebase/analytics-compat",NO="@firebase/analytics",PO="@firebase/app-check-compat",kO="@firebase/app-check",OO="@firebase/auth",DO="@firebase/auth-compat",LO="@firebase/database",jO="@firebase/data-connect",MO="@firebase/database-compat",VO="@firebase/functions",FO="@firebase/functions-compat",UO="@firebase/installations",$O="@firebase/installations-compat",BO="@firebase/messaging",zO="@firebase/messaging-compat",WO="@firebase/performance",qO="@firebase/performance-compat",HO="@firebase/remote-config",KO="@firebase/remote-config-compat",GO="@firebase/storage",QO="@firebase/storage-compat",YO="@firebase/firestore",XO="@firebase/vertexai",JO="@firebase/firestore-compat",ZO="firebase",eD="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="[DEFAULT]",tD={[Ty]:"fire-core",[AO]:"fire-core-compat",[NO]:"fire-analytics",[bO]:"fire-analytics-compat",[kO]:"fire-app-check",[PO]:"fire-app-check-compat",[OO]:"fire-auth",[DO]:"fire-auth-compat",[LO]:"fire-rtdb",[jO]:"fire-data-connect",[MO]:"fire-rtdb-compat",[VO]:"fire-fn",[FO]:"fire-fn-compat",[UO]:"fire-iid",[$O]:"fire-iid-compat",[BO]:"fire-fcm",[zO]:"fire-fcm-compat",[WO]:"fire-perf",[qO]:"fire-perf-compat",[HO]:"fire-rc",[KO]:"fire-rc-compat",[GO]:"fire-gcs",[QO]:"fire-gcs-compat",[YO]:"fire-fst",[JO]:"fire-fst-compat",[XO]:"fire-vertex","fire-js":"fire-js",[ZO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Map,nD=new Map,Iy=new Map;function fT(n,e){try{n.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lo(n){const e=n.name;if(Iy.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,n);for(const t of xf.values())fT(t,n);for(const t of nD.values())fT(t,n);return!0}function Zu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new Ju("app","Firebase",rD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=eD;function KS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xy,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw to.create("bad-app-name",{appName:String(s)});if(t||(t=$S()),!t)throw to.create("no-options");const o=xf.get(s);if(o){if(ao(t,o.options)&&ao(r,o.config))return o;throw to.create("duplicate-app",{appName:s})}const l=new uO(s);for(const d of Iy.values())l.addComponent(d);const c=new sD(t,r,l);return xf.set(s,c),c}function up(n=xy){const e=xf.get(n);if(!e&&n===xy&&$S())return KS();if(!e)throw to.create("no-app",{appName:n});return e}function Er(n,e,t){var r;let s=(r=tD[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(c.join(" "));return}lo(new ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="firebase-heartbeat-database",oD=1,ku="firebase-heartbeat-store";let Fg=null;function GS(){return Fg||(Fg=xO(iD,oD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ku)}catch(t){console.warn(t)}}}}).catch(n=>{throw to.create("idb-open",{originalErrorMessage:n.message})})),Fg}async function aD(n){try{const t=(await GS()).transaction(ku),r=await t.objectStore(ku).get(QS(n));return await t.done,r}catch(e){if(e instanceof Ss)si.warn(e.message);else{const t=to.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(t.message)}}}async function pT(n,e){try{const r=(await GS()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,QS(n)),await r.done}catch(t){if(t instanceof Ss)si.warn(t.message);else{const r=to.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});si.warn(r.message)}}}function QS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=1024,cD=30;class uD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>cD){const l=fD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mT(),{heartbeatsToSend:r,unsentEntries:s}=dD(this._heartbeatsCache.heartbeats),o=wf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return si.warn(t),""}}}function mT(){return new Date().toISOString().substring(0,10)}function dD(n,e=lD){const t=[];let r=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),gT(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),gT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class hD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gk()?Qk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return pT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return pT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gT(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function fD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(n){lo(new ri("platform-logger",e=>new CO(e),"PRIVATE")),lo(new ri("heartbeat",e=>new uD(e),"PRIVATE")),Er(Ty,hT,n),Er(Ty,hT,"esm2017"),Er("fire-js","")}pD("");function Bv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function YS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mD=YS,XS=new Ju("auth","Firebase",YS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new cp("@firebase/auth");function gD(n,...e){If.logLevel<=Fe.WARN&&If.warn(`Auth (${_o}): ${n}`,...e)}function tf(n,...e){If.logLevel<=Fe.ERROR&&If.error(`Auth (${_o}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(n,...e){throw Wv(n,...e)}function qr(n,...e){return Wv(n,...e)}function zv(n,e,t){const r=Object.assign(Object.assign({},mD()),{[e]:t});return new Ju("auth","Firebase",r).create(e,{appName:n.name})}function vs(n){return zv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yD(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&xr(n,"argument-error"),zv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XS.create(n,...e)}function Ce(n,e,...t){if(!n)throw Wv(e,...t)}function Gs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw tf(e),new Error(e)}function ii(n,e){n||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function vD(){return yT()==="http:"||yT()==="https:"}function yT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vD()||Wk()||"connection"in navigator)?navigator.onLine:!0}function wD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=Uv()||zS()}get(){return _D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n,e){ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new ed(3e4,6e4);function wo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Cs(n,e,t,r,s={}){return ZS(n,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Gl(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},o);return zk()||(h.referrerPolicy="no-referrer"),JS.fetch()(eC(n,n.config.apiHost,t,c),h)})}async function ZS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ED),e);try{const s=new ID(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Fh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Fh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Fh(n,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw zv(n,g,h);xr(n,g)}}catch(s){if(s instanceof Ss)throw s;xr(n,"network-request-failed",{message:String(s)})}}async function td(n,e,t,r,s={}){const o=await Cs(n,e,t,r,s);return"mfaPendingCredential"in o&&xr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function eC(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?qv(n.config,s):`${n.config.apiScheme}://${s}`}function xD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ID{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),TD.get())})}}function Fh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=qr(n,e,r);return s.customData._tokenResponse=t,s}function vT(n){return n!==void 0&&n.enterprise!==void 0}class SD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CD(n,e){return Cs(n,"GET","/v2/recaptchaConfig",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(n,e){return Cs(n,"POST","/v1/accounts:delete",e)}async function tC(n,e){return Cs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AD(n,e=!1){const t=ot(n),r=await t.getIdToken(e),s=dp(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:gu(Ug(s.auth_time)),issuedAtTime:gu(Ug(s.iat)),expirationTime:gu(Ug(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ug(n){return Number(n)*1e3}function dp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ef(t);return s?JSON.parse(s):(tf("Failed to decode base64 JWT payload"),null)}catch(s){return tf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _T(n){const e=dp(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ss&&bD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(n){var e;const t=n.auth,r=await n.getIdToken(),s=await ca(n,tC(t,{idToken:r}));Ce(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nC(o.providerUserInfo):[],c=kD(n.providerData,l),d=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cy(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function PD(n){const e=ot(n);await Sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kD(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nC(n){return n.map(e=>{var{providerId:t}=e,r=Bv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(n,e){const t=await ZS(n,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=eC(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",JS.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DD(n,e){return Cs(n,"POST","/v2/accounts:revokeToken",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=_T(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await OD(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,l=new wl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qs{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Bv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ND(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ca(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AD(this,e)}reload(){return PD(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await ca(this,RD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,l,c,d,h,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(l=t.photoURL)!==null&&l!==void 0?l:void 0,A=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,O=(h=t.createdAt)!==null&&h!==void 0?h:void 0,F=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:B,isAnonymous:G,providerData:X,stsTokenManager:k}=t;Ce(U&&k,e,"internal-error");const N=wl.fromJSON(this.name,k);Ce(typeof U=="string",e,"internal-error"),Hi(v,e.name),Hi(E,e.name),Ce(typeof B=="boolean",e,"internal-error"),Ce(typeof G=="boolean",e,"internal-error"),Hi(I,e.name),Hi(C,e.name),Hi(A,e.name),Hi(x,e.name),Hi(O,e.name),Hi(F,e.name);const P=new Qs({uid:U,auth:e,email:E,emailVerified:B,displayName:v,isAnonymous:G,photoURL:C,phoneNumber:I,tenantId:A,stsTokenManager:N,createdAt:O,lastLoginAt:F});return X&&Array.isArray(X)&&(P.providerData=X.map(L=>Object.assign({},L))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new wl;s.updateFromServerResponse(t);const o=new Qs({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?nC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new wl;c.updateFromIdToken(r);const d=new Qs({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Cy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;function Ys(n){ii(n instanceof Function,"Expected a class definition");let e=wT.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rC.type="NONE";const ET=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(n,e,t){return`firebase:${n}:${e}:${t}`}class El{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=nf(this.userKey,s.apiKey,o),this.fullPersistenceKey=nf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new El(Ys(ET),e,r);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||Ys(ET);const l=nf(r,e.config.apiKey,e.name);let c=null;for(const h of t)try{const g=await h._get(l);if(g){const v=Qs._fromJSON(e,g);h!==o&&(c=v),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new El(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new El(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cC(e))return"Blackberry";if(uC(e))return"Webos";if(iC(e))return"Safari";if((e.includes("chrome/")||oC(e))&&!e.includes("edge/"))return"Chrome";if(lC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sC(n=xn()){return/firefox\//i.test(n)}function iC(n=xn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oC(n=xn()){return/crios\//i.test(n)}function aC(n=xn()){return/iemobile/i.test(n)}function lC(n=xn()){return/android/i.test(n)}function cC(n=xn()){return/blackberry/i.test(n)}function uC(n=xn()){return/webos/i.test(n)}function Hv(n=xn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LD(n=xn()){var e;return Hv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jD(){return qk()&&document.documentMode===10}function dC(n=xn()){return Hv(n)||lC(n)||uC(n)||cC(n)||/windows phone/i.test(n)||aC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n,e=[]){let t;switch(n){case"Browser":t=TT(xn());break;case"Worker":t=`${TT(xn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e={}){return Cs(n,"GET","/v2/passwordPolicy",wo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=6;class UD{constructor(e){var t,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:FD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xT(this),this.idTokenSubscription=new xT(this),this.beforeStateQueue=new MD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ys(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await El.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tC(this,{idToken:e}),r=await Qs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_n(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(vs(this));const t=e?ot(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VD(this),t=new UD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await DD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ys(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[Ys(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&gD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Eo(n){return ot(n)}class xT{constructor(e){this.auth=e,this.observer=null,this.addObserver=nO(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BD(n){hp=n}function fC(n){return hp.loadJS(n)}function zD(){return hp.recaptchaEnterpriseScript}function WD(){return hp.gapiScript}function qD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class HD{constructor(){this.enterprise=new KD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GD="recaptcha-enterprise",pC="NO_RECAPTCHA";class QD{constructor(e){this.type=GD,this.auth=Eo(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{CD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new SD(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;vT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(pC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HD().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&vT(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=zD();d.length!==0&&(d+=c),fC(d).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function IT(n,e,t,r=!1,s=!1){const o=new QD(n);let l;if(s)l=pC;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ry(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await IT(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await IT(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n,e){const t=Zu(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(ao(o,e??{}))return s;xr(s,"already-initialized")}return t.initialize({options:e})}function XD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ys);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JD(n,e,t){const r=Eo(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=mC(e),{host:l,port:c}=ZD(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(ao(h,r.config.emulator)&&ao(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,eL()}function mC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ZD(n){const e=mC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:ST(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:ST(l)}}}function ST(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,t){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function tL(n,e){return Cs(n,"POST","/v1/accounts:update",e)}async function nL(n,e){return Cs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(n,e){return td(n,"POST","/v1/accounts:signInWithPassword",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(n,e){return td(n,"POST","/v1/accounts:signInWithEmailLink",wo(n,e))}async function iL(n,e){return td(n,"POST","/v1/accounts:signInWithEmailLink",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Kv{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Ou(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ou(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ry(e,t,"signInWithPassword",rL);case"emailLink":return sL(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ry(e,r,"signUpPassword",nL);case"emailLink":return iL(e,{idToken:t,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n,e){return td(n,"POST","/v1/accounts:signInWithIdp",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="http://localhost";class ua extends Kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Bv(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new ua(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Tl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Tl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tl(e,t)}buildRequest(){const e={requestUri:oL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lL(n){const e=uu(du(n)).link,t=e?uu(du(e)).deep_link_id:null,r=uu(du(n)).deep_link_id;return(r?uu(du(r)).link:null)||r||t||e||n}class Gv{constructor(e){var t,r,s,o,l,c;const d=uu(du(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,v=aL((s=d.mode)!==null&&s!==void 0?s:null);Ce(h&&g&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=lL(e);try{return new Gv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.providerId=Ql.PROVIDER_ID}static credential(e,t){return Ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Gv.parseLink(t);return Ce(r,"argument-error"),Ou._fromEmailAndCode(e,r.code,r.tenantId)}}Ql.PROVIDER_ID="password";Ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Qv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends nd{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return fs.credential(t,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends nd{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends nd{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Xi.credential(t,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(n,e){return td(n,"POST","/v1/accounts:signUp",wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Qs._fromIdTokenResponse(e,r,s),l=CT(r);return new da({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=CT(r);return new da({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function CT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends Ss{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Cf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Cf(e,t,r,s)}}function gC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cf._fromErrorAndOperation(n,o,e,r):o})}async function uL(n,e,t=!1){const r=await ca(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return da._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(n,e,t=!1){const{auth:r}=n;if(_n(r.app))return Promise.reject(vs(r));const s="reauthenticate";try{const o=await ca(n,gC(r,s,e,n),t);Ce(o.idToken,r,"internal-error");const l=dp(o.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),da._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e,t=!1){if(_n(n.app))return Promise.reject(vs(n));const r="signIn",s=await gC(n,r,e),o=await da._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function hL(n,e){return yC(Eo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n){const e=Eo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fL(n,e,t){if(_n(n.app))return Promise.reject(vs(n));const r=Eo(n),l=await Ry(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&vC(n),d}),c=await da._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function pL(n,e,t){return _n(n.app)?Promise.reject(vs(n)):hL(ot(n),Ql.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vC(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(n,e){return Cs(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ay(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ot(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await ca(r,mL(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function gL(n,e){const t=ot(n);return _n(t.auth.app)?Promise.reject(vs(t.auth)):yL(t,e)}async function yL(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e);const l=await ca(n,tL(r,o));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=dp(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new xl(o,c)}}if(!r)return null;switch(r){case"facebook.com":return new _L(o,s);case"github.com":return new wL(o,s);case"google.com":return new EL(o,s);case"twitter.com":return new TL(o,s,n.screenName||null);case"custom":case"anonymous":return new xl(o,null);default:return new xl(o,r,s)}}class xl{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class _C extends xl{constructor(e,t,r,s){super(e,t,r),this.username=s}}class _L extends xl{constructor(e,t){super(e,"facebook.com",t)}}class wL extends _C{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class EL extends xl{constructor(e,t){super(e,"google.com",t)}}class TL extends _C{constructor(e,t,r){super(e,"twitter.com",t,r)}}function xL(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:vL(t)}function IL(n,e,t,r){return ot(n).onIdTokenChanged(e,t,r)}function SL(n,e,t){return ot(n).beforeAuthStateChanged(e,t)}function wC(n,e,t,r){return ot(n).onAuthStateChanged(e,t,r)}const Rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=1e3,RL=10;class TC extends EC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);jD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,RL):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}TC.type="LOCAL";const AL=TC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC extends EC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xC.type="SESSION";const IC=xC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new fp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(t.origin,o)),d=await bL(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=Yv("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===h)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function PL(n){_s().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function kL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DL(){return SC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebaseLocalStorageDb",LL=1,Af="firebaseLocalStorage",RC="fbase_key";class rd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pp(n,e){return n.transaction([Af],e?"readwrite":"readonly").objectStore(Af)}function jL(){const n=indexedDB.deleteDatabase(CC);return new rd(n).toPromise()}function by(){const n=indexedDB.open(CC,LL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Af,{keyPath:RC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Af)?e(r):(r.close(),await jL(),e(await by()))})})}async function RT(n,e,t){const r=pp(n,!0).put({[RC]:e,value:t});return new rd(r).toPromise()}async function ML(n,e){const t=pp(n,!1).get(e),r=await new rd(t).toPromise();return r===void 0?null:r.value}function AT(n,e){const t=pp(n,!0).delete(e);return new rd(t).toPromise()}const VL=800,FL=3;class AC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await by(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>FL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fp._getInstance(DL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await kL(),!this.activeServiceWorker)return;this.sender=new NL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await by();return await RT(e,Rf,"1"),await AT(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>RT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ML(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>AT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=pp(s,!1).getAll();return new rd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AC.type="LOCAL";const UL=AC;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n,e){return e?Ys(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $L(n){return yC(n.auth,new Xv(n),n.bypassAuthState)}function BL(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),dL(t,new Xv(n),n.bypassAuthState)}async function zL(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),uL(t,new Xv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $L;case"linkViaPopup":case"linkViaRedirect":return zL;case"reauthViaPopup":case"reauthViaRedirect":return BL;default:xr(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new ed(2e3,1e4);async function qL(n,e,t){if(_n(n.app))return Promise.reject(qr(n,"operation-not-supported-in-this-environment"));const r=Eo(n);yD(n,e,Qv);const s=bC(r,t);return new na(r,"signInViaPopup",e,s).executeNotNull()}class na extends NC{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WL.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="pendingRedirect",rf=new Map;class KL extends NC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=rf.get(this.auth._key());if(!e){try{const r=await GL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}rf.set(this.auth._key(),e)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GL(n,e){const t=XL(e),r=YL(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function QL(n,e){rf.set(n._key(),e)}function YL(n){return Ys(n._redirectPersistence)}function XL(n){return nf(HL,n.config.apiKey,n.name)}async function JL(n,e,t=!1){if(_n(n.app))return Promise.reject(vs(n));const r=Eo(n),s=bC(r,e),l=await new KL(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=10*60*1e3;class ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!PC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZL&&this.cachedEventUids.clear(),this.cachedEventUids.has(bT(e))}saveEventToCache(e){this.cachedEventUids.add(bT(e)),this.lastProcessedEventTime=Date.now()}}function bT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(n,e={}){return Cs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sj=/^https?/;async function ij(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nj(n);for(const t of e)try{if(oj(t))return}catch{}xr(n,"unauthorized-domain")}function oj(n){const e=Sy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!sj.test(t))return!1;if(rj.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new ed(3e4,6e4);function NT(){const n=_s().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lj(n){return new Promise((e,t)=>{var r,s,o;function l(){NT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NT(),t(qr(n,"network-request-failed"))},timeout:aj.get()})}if(!((s=(r=_s().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=_s().gapi)===null||o===void 0)&&o.load)l();else{const c=qD("iframefcb");return _s()[c]=()=>{gapi.load?l():t(qr(n,"network-request-failed"))},fC(`${WD()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw sf=null,e})}let sf=null;function cj(n){return sf=sf||lj(n),sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new ed(5e3,15e3),dj="__/auth/iframe",hj="emulator/auth/iframe",fj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mj(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qv(e,hj):`https://${n.config.authDomain}/${dj}`,r={apiKey:e.apiKey,appName:n.name,v:_o},s=pj.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Gl(r).slice(1)}`}async function gj(n){const e=await cj(n),t=_s().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:mj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fj,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=qr(n,"network-request-failed"),c=_s().setTimeout(()=>{o(l)},uj.get());function d(){_s().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vj=500,_j=600,wj="_blank",Ej="http://localhost";class PT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tj(n,e,t,r=vj,s=_j){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},yj),{width:r.toString(),height:s.toString(),top:o,left:l}),h=xn().toLowerCase();t&&(c=oC(h)?wj:t),sC(h)&&(e=e||Ej,d.scrollbars="yes");const g=Object.entries(d).reduce((E,[I,C])=>`${E}${I}=${C},`,"");if(LD(h)&&c!=="_self")return xj(e||"",c),new PT(null);const v=window.open(e||"",c,g);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new PT(v)}function xj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="__/auth/handler",Sj="emulator/auth/handler",Cj=encodeURIComponent("fac");async function kT(n,e,t,r,s,o){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:_o,eventId:s};if(e instanceof Qv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_y(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof nd){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await n._getAppCheckToken(),h=d?`#${Cj}=${encodeURIComponent(d)}`:"";return`${Rj(n)}?${Gl(c).slice(1)}${h}`}function Rj({config:n}){return n.emulator?qv(n,Sj):`https://${n.authDomain}/${Ij}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class Aj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IC,this._completeRedirectFn=JL,this._overrideRedirectResult=QL}async _openPopup(e,t,r,s){var o;ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await kT(e,t,r,Sy(),s);return Tj(e,l,Yv())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await kT(e,t,r,Sy(),s);return PL(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await gj(e),r=new ej(e);return t.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($g,{type:$g},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[$g];l!==void 0&&t(!!l),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ij(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dC()||iC()||Hv()}}const bj=Aj;var OT="@firebase/auth",DT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kj(n){lo(new ri("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hC(n)},h=new $D(r,s,o,d);return XD(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),lo(new ri("auth-internal",e=>{const t=Eo(e.getProvider("auth").getImmediate());return(r=>new Nj(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(OT,DT,Pj(n)),Er(OT,DT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=5*60,Dj=BS("authIdTokenMaxAge")||Oj;let LT=null;const Lj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Dj)return;const s=t==null?void 0:t.token;LT!==s&&(LT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mp(n=up()){const e=Zu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=YD(n,{popupRedirectResolver:bj,persistence:[UL,AL,IC]}),r=BS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=Lj(o.toString());SL(t,l,()=>l(t.currentUser)),IL(t,c=>l(c))}}const s=US("auth");return s&&JD(t,`http://${s}`),t}function jj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}BD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=qr("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",jj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kj("Browser");var Mj="firebase",Vj="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(Mj,Vj,"app");var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,kC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function P(){}P.prototype=N.prototype,k.D=N.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(L,M,V){for(var D=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)D[ue-2]=arguments[ue];return N.prototype[M].apply(L,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,N,P){P||(P=0);var L=Array(16);if(typeof N=="string")for(var M=0;16>M;++M)L[M]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(M=0;16>M;++M)L[M]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=k.g[0],P=k.g[1],M=k.g[2];var V=k.g[3],D=N+(V^P&(M^V))+L[0]+3614090360&4294967295;N=P+(D<<7&4294967295|D>>>25),D=V+(M^N&(P^M))+L[1]+3905402710&4294967295,V=N+(D<<12&4294967295|D>>>20),D=M+(P^V&(N^P))+L[2]+606105819&4294967295,M=V+(D<<17&4294967295|D>>>15),D=P+(N^M&(V^N))+L[3]+3250441966&4294967295,P=M+(D<<22&4294967295|D>>>10),D=N+(V^P&(M^V))+L[4]+4118548399&4294967295,N=P+(D<<7&4294967295|D>>>25),D=V+(M^N&(P^M))+L[5]+1200080426&4294967295,V=N+(D<<12&4294967295|D>>>20),D=M+(P^V&(N^P))+L[6]+2821735955&4294967295,M=V+(D<<17&4294967295|D>>>15),D=P+(N^M&(V^N))+L[7]+4249261313&4294967295,P=M+(D<<22&4294967295|D>>>10),D=N+(V^P&(M^V))+L[8]+1770035416&4294967295,N=P+(D<<7&4294967295|D>>>25),D=V+(M^N&(P^M))+L[9]+2336552879&4294967295,V=N+(D<<12&4294967295|D>>>20),D=M+(P^V&(N^P))+L[10]+4294925233&4294967295,M=V+(D<<17&4294967295|D>>>15),D=P+(N^M&(V^N))+L[11]+2304563134&4294967295,P=M+(D<<22&4294967295|D>>>10),D=N+(V^P&(M^V))+L[12]+1804603682&4294967295,N=P+(D<<7&4294967295|D>>>25),D=V+(M^N&(P^M))+L[13]+4254626195&4294967295,V=N+(D<<12&4294967295|D>>>20),D=M+(P^V&(N^P))+L[14]+2792965006&4294967295,M=V+(D<<17&4294967295|D>>>15),D=P+(N^M&(V^N))+L[15]+1236535329&4294967295,P=M+(D<<22&4294967295|D>>>10),D=N+(M^V&(P^M))+L[1]+4129170786&4294967295,N=P+(D<<5&4294967295|D>>>27),D=V+(P^M&(N^P))+L[6]+3225465664&4294967295,V=N+(D<<9&4294967295|D>>>23),D=M+(N^P&(V^N))+L[11]+643717713&4294967295,M=V+(D<<14&4294967295|D>>>18),D=P+(V^N&(M^V))+L[0]+3921069994&4294967295,P=M+(D<<20&4294967295|D>>>12),D=N+(M^V&(P^M))+L[5]+3593408605&4294967295,N=P+(D<<5&4294967295|D>>>27),D=V+(P^M&(N^P))+L[10]+38016083&4294967295,V=N+(D<<9&4294967295|D>>>23),D=M+(N^P&(V^N))+L[15]+3634488961&4294967295,M=V+(D<<14&4294967295|D>>>18),D=P+(V^N&(M^V))+L[4]+3889429448&4294967295,P=M+(D<<20&4294967295|D>>>12),D=N+(M^V&(P^M))+L[9]+568446438&4294967295,N=P+(D<<5&4294967295|D>>>27),D=V+(P^M&(N^P))+L[14]+3275163606&4294967295,V=N+(D<<9&4294967295|D>>>23),D=M+(N^P&(V^N))+L[3]+4107603335&4294967295,M=V+(D<<14&4294967295|D>>>18),D=P+(V^N&(M^V))+L[8]+1163531501&4294967295,P=M+(D<<20&4294967295|D>>>12),D=N+(M^V&(P^M))+L[13]+2850285829&4294967295,N=P+(D<<5&4294967295|D>>>27),D=V+(P^M&(N^P))+L[2]+4243563512&4294967295,V=N+(D<<9&4294967295|D>>>23),D=M+(N^P&(V^N))+L[7]+1735328473&4294967295,M=V+(D<<14&4294967295|D>>>18),D=P+(V^N&(M^V))+L[12]+2368359562&4294967295,P=M+(D<<20&4294967295|D>>>12),D=N+(P^M^V)+L[5]+4294588738&4294967295,N=P+(D<<4&4294967295|D>>>28),D=V+(N^P^M)+L[8]+2272392833&4294967295,V=N+(D<<11&4294967295|D>>>21),D=M+(V^N^P)+L[11]+1839030562&4294967295,M=V+(D<<16&4294967295|D>>>16),D=P+(M^V^N)+L[14]+4259657740&4294967295,P=M+(D<<23&4294967295|D>>>9),D=N+(P^M^V)+L[1]+2763975236&4294967295,N=P+(D<<4&4294967295|D>>>28),D=V+(N^P^M)+L[4]+1272893353&4294967295,V=N+(D<<11&4294967295|D>>>21),D=M+(V^N^P)+L[7]+4139469664&4294967295,M=V+(D<<16&4294967295|D>>>16),D=P+(M^V^N)+L[10]+3200236656&4294967295,P=M+(D<<23&4294967295|D>>>9),D=N+(P^M^V)+L[13]+681279174&4294967295,N=P+(D<<4&4294967295|D>>>28),D=V+(N^P^M)+L[0]+3936430074&4294967295,V=N+(D<<11&4294967295|D>>>21),D=M+(V^N^P)+L[3]+3572445317&4294967295,M=V+(D<<16&4294967295|D>>>16),D=P+(M^V^N)+L[6]+76029189&4294967295,P=M+(D<<23&4294967295|D>>>9),D=N+(P^M^V)+L[9]+3654602809&4294967295,N=P+(D<<4&4294967295|D>>>28),D=V+(N^P^M)+L[12]+3873151461&4294967295,V=N+(D<<11&4294967295|D>>>21),D=M+(V^N^P)+L[15]+530742520&4294967295,M=V+(D<<16&4294967295|D>>>16),D=P+(M^V^N)+L[2]+3299628645&4294967295,P=M+(D<<23&4294967295|D>>>9),D=N+(M^(P|~V))+L[0]+4096336452&4294967295,N=P+(D<<6&4294967295|D>>>26),D=V+(P^(N|~M))+L[7]+1126891415&4294967295,V=N+(D<<10&4294967295|D>>>22),D=M+(N^(V|~P))+L[14]+2878612391&4294967295,M=V+(D<<15&4294967295|D>>>17),D=P+(V^(M|~N))+L[5]+4237533241&4294967295,P=M+(D<<21&4294967295|D>>>11),D=N+(M^(P|~V))+L[12]+1700485571&4294967295,N=P+(D<<6&4294967295|D>>>26),D=V+(P^(N|~M))+L[3]+2399980690&4294967295,V=N+(D<<10&4294967295|D>>>22),D=M+(N^(V|~P))+L[10]+4293915773&4294967295,M=V+(D<<15&4294967295|D>>>17),D=P+(V^(M|~N))+L[1]+2240044497&4294967295,P=M+(D<<21&4294967295|D>>>11),D=N+(M^(P|~V))+L[8]+1873313359&4294967295,N=P+(D<<6&4294967295|D>>>26),D=V+(P^(N|~M))+L[15]+4264355552&4294967295,V=N+(D<<10&4294967295|D>>>22),D=M+(N^(V|~P))+L[6]+2734768916&4294967295,M=V+(D<<15&4294967295|D>>>17),D=P+(V^(M|~N))+L[13]+1309151649&4294967295,P=M+(D<<21&4294967295|D>>>11),D=N+(M^(P|~V))+L[4]+4149444226&4294967295,N=P+(D<<6&4294967295|D>>>26),D=V+(P^(N|~M))+L[11]+3174756917&4294967295,V=N+(D<<10&4294967295|D>>>22),D=M+(N^(V|~P))+L[2]+718787259&4294967295,M=V+(D<<15&4294967295|D>>>17),D=P+(V^(M|~N))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+V&4294967295}r.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var P=N-this.blockSize,L=this.B,M=this.h,V=0;V<N;){if(M==0)for(;V<=P;)s(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<N;)if(L[M++]=k.charCodeAt(V++),M==this.blockSize){s(this,L),M=0;break}}else for(;V<N;)if(L[M++]=k[V++],M==this.blockSize){s(this,L),M=0;break}}this.h=M,this.o+=N},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var P=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=P&255,P/=256;for(this.u(k),k=Array(16),N=P=0;4>N;++N)for(var L=0;32>L;L+=8)k[P++]=this.g[N]>>>L&255;return k};function o(k,N){var P=c;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=N(k)}function l(k,N){this.h=N;for(var P=[],L=!0,M=k.length-1;0<=M;M--){var V=k[M]|0;L&&V==N||(P[M]=V,L=!1)}this.g=P}var c={};function d(k){return-128<=k&&128>k?o(k,function(N){return new l([N|0],0>N?-1:0)}):new l([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return x(h(-k));for(var N=[],P=1,L=0;k>=P;L++)N[L]=k/P|0,P*=4294967296;return new l(N,0)}function g(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return x(g(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=h(Math.pow(N,8)),L=v,M=0;M<k.length;M+=8){var V=Math.min(8,k.length-M),D=parseInt(k.substring(M,M+V),N);8>V?(V=h(Math.pow(N,V)),L=L.j(V).add(h(D))):(L=L.j(P),L=L.add(h(D)))}return L}var v=d(0),E=d(1),I=d(16777216);n=l.prototype,n.m=function(){if(A(this))return-x(this).m();for(var k=0,N=1,P=0;P<this.g.length;P++){var L=this.i(P);k+=(0<=L?L:4294967296+L)*N,N*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C(this))return"0";if(A(this))return"-"+x(this).toString(k);for(var N=h(Math.pow(k,6)),P=this,L="";;){var M=B(P,N).g;P=O(P,M.j(N));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=M,C(P))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function C(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function A(k){return k.h==-1}n.l=function(k){return k=O(this,k),A(k)?-1:C(k)?0:1};function x(k){for(var N=k.g.length,P=[],L=0;L<N;L++)P[L]=~k.g[L];return new l(P,~k.h).add(E)}n.abs=function(){return A(this)?x(this):this},n.add=function(k){for(var N=Math.max(this.g.length,k.g.length),P=[],L=0,M=0;M<=N;M++){var V=L+(this.i(M)&65535)+(k.i(M)&65535),D=(V>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);L=D>>>16,V&=65535,D&=65535,P[M]=D<<16|V}return new l(P,P[P.length-1]&-2147483648?-1:0)};function O(k,N){return k.add(x(N))}n.j=function(k){if(C(this)||C(k))return v;if(A(this))return A(k)?x(this).j(x(k)):x(x(this).j(k));if(A(k))return x(this.j(x(k)));if(0>this.l(I)&&0>k.l(I))return h(this.m()*k.m());for(var N=this.g.length+k.g.length,P=[],L=0;L<2*N;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<k.g.length;M++){var V=this.i(L)>>>16,D=this.i(L)&65535,ue=k.i(M)>>>16,Re=k.i(M)&65535;P[2*L+2*M]+=D*Re,F(P,2*L+2*M),P[2*L+2*M+1]+=V*Re,F(P,2*L+2*M+1),P[2*L+2*M+1]+=D*ue,F(P,2*L+2*M+1),P[2*L+2*M+2]+=V*ue,F(P,2*L+2*M+2)}for(L=0;L<N;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=N;L<2*N;L++)P[L]=0;return new l(P,0)};function F(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function U(k,N){this.g=k,this.h=N}function B(k,N){if(C(N))throw Error("division by zero");if(C(k))return new U(v,v);if(A(k))return N=B(x(k),N),new U(x(N.g),x(N.h));if(A(N))return N=B(k,x(N)),new U(x(N.g),N.h);if(30<k.g.length){if(A(k)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var P=E,L=N;0>=L.l(k);)P=G(P),L=G(L);var M=X(P,1),V=X(L,1);for(L=X(L,2),P=X(P,2);!C(L);){var D=V.add(L);0>=D.l(k)&&(M=M.add(P),V=D),L=X(L,1),P=X(P,1)}return N=O(k,M.j(N)),new U(M,N)}for(M=v;0<=k.l(N);){for(P=Math.max(1,Math.floor(k.m()/N.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=h(P),D=V.j(N);A(D)||0<D.l(k);)P-=L,V=h(P),D=V.j(N);C(V)&&(V=E),M=M.add(V),k=O(k,D)}return new U(M,k)}n.A=function(k){return B(this,k).h},n.and=function(k){for(var N=Math.max(this.g.length,k.g.length),P=[],L=0;L<N;L++)P[L]=this.i(L)&k.i(L);return new l(P,this.h&k.h)},n.or=function(k){for(var N=Math.max(this.g.length,k.g.length),P=[],L=0;L<N;L++)P[L]=this.i(L)|k.i(L);return new l(P,this.h|k.h)},n.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),P=[],L=0;L<N;L++)P[L]=this.i(L)^k.i(L);return new l(P,this.h^k.h)};function G(k){for(var N=k.g.length+1,P=[],L=0;L<N;L++)P[L]=k.i(L)<<1|k.i(L-1)>>>31;return new l(P,k.h)}function X(k,N){var P=N>>5;N%=32;for(var L=k.g.length-P,M=[],V=0;V<L;V++)M[V]=0<N?k.i(V+P)>>>N|k.i(V+P+1)<<32-N:k.i(V+P);return new l(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=g,no=l}).apply(typeof jT<"u"?jT:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OC,hu,DC,of,Ny,LC,jC,MC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,T){return f==Array.prototype||f==Object.prototype||(f[_]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var _=0;_<f.length;++_){var T=f[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(f,_){if(_)e:{var T=r;f=f.split(".");for(var b=0;b<f.length-1;b++){var q=f[b];if(!(q in T))break e;T=T[q]}f=f[f.length-1],b=T[f],_=_(b),_!=b&&_!=null&&e(T,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var T=0,b=!1,q={next:function(){if(!b&&T<f.length){var Y=T++;return{value:_(Y,f[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(f){return f||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function g(f,_,T){return f.call.apply(f.bind,arguments)}function v(f,_,T){if(!f)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),f.apply(_,q)}}return function(){return f.apply(_,arguments)}}function E(f,_,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function I(f,_){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),f.apply(this,b)}}function C(f,_){function T(){}T.prototype=_.prototype,f.aa=_.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(b,q,Y){for(var ce=Array(arguments.length-2),et=2;et<arguments.length;et++)ce[et-2]=arguments[et];return _.prototype[q].apply(b,ce)}}function A(f){const _=f.length;if(0<_){const T=Array(_);for(let b=0;b<_;b++)T[b]=f[b];return T}return[]}function x(f,_){for(let T=1;T<arguments.length;T++){const b=arguments[T];if(d(b)){const q=f.length||0,Y=b.length||0;f.length=q+Y;for(let ce=0;ce<Y;ce++)f[q+ce]=b[ce]}else f.push(b)}}class O{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(f){return/^[\s\xa0]*$/.test(f)}function U(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var G=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function X(f,_,T){for(const b in f)_.call(T,f[b],b,f)}function k(f,_){for(const T in f)_.call(void 0,f[T],T,f)}function N(f){const _={};for(const T in f)_[T]=f[T];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,_){let T,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(T in b)f[T]=b[T];for(let Y=0;Y<P.length;Y++)T=P[Y],Object.prototype.hasOwnProperty.call(b,T)&&(f[T]=b[T])}}function M(f){var _=1;f=f.split(":");const T=[];for(;0<_&&f.length;)T.push(f.shift()),_--;return f.length&&T.push(f.join(":")),T}function V(f){c.setTimeout(()=>{throw f},0)}function D(){var f=de;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ue{constructor(){this.h=this.g=null}add(_,T){const b=Re.get();b.set(_,T),this.h?this.h.next=b:this.g=b,this.h=b}}var Re=new O(()=>new be,f=>f.reset());class be{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,oe=!1,de=new ue,ae=()=>{const f=c.Promise.resolve(void 0);Ie=()=>{f.then(W)}};var W=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){V(T)}var _=Re;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}oe=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return f}();function Ne(f,_){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,b=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(G){e:{try{B(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else T=="mouseover"?_=f.fromElement:T=="mouseout"&&(_=f.toElement);this.relatedTarget=_,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:je[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ne.aa.h.call(this)}}C(Ne,ge);var je={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Xe(f,_,T,b,q){this.listener=f,this.proxy=null,this.src=_,this.type=T,this.capture=!!b,this.ha=q,this.key=++Me,this.da=this.fa=!1}function Dt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gn(f){this.src=f,this.g={},this.h=0}Gn.prototype.add=function(f,_,T,b,q){var Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);var ce=Rr(f,_,b,q);return-1<ce?(_=f[ce],T||(_.fa=!1)):(_=new Xe(_,this.src,Y,!!b,q),_.fa=T,f.push(_)),_};function mi(f,_){var T=_.type;if(T in f.g){var b=f.g[T],q=Array.prototype.indexOf.call(b,_,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(b,q,1),Y&&(Dt(_),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Rr(f,_,T,b){for(var q=0;q<f.length;++q){var Y=f[q];if(!Y.da&&Y.listener==_&&Y.capture==!!T&&Y.ha==b)return q}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),gi={};function yi(f,_,T,b,q){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)yi(f,_[Y],T,b,q);return null}return T=Ei(T),f&&f[Ue]?f.K(_,T,h(b)?!!b.capture:!1,q):vi(f,_,T,!1,b,q)}function vi(f,_,T,b,q,Y){if(!_)throw Error("Invalid event type");var ce=h(q)?!!q.capture:!!q,et=Ns(f);if(et||(f[bs]=et=new Gn(f)),T=et.add(_,T,b,ce,Y),T.proxy)return T;if(b=Sa(),T.proxy=b,b.src=f,b.listener=T,f.addEventListener)Se||(q=ce),q===void 0&&(q=!1),f.addEventListener(_.toString(),b,q);else if(f.attachEvent)f.attachEvent(Pn(_.toString()),b);else if(f.addListener&&f.removeListener)f.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Sa(){function f(T){return _.call(f.src,f.listener,T)}const _=wi;return f}function _i(f,_,T,b,q){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)_i(f,_[Y],T,b,q);else b=h(b)?!!b.capture:!!b,T=Ei(T),f&&f[Ue]?(f=f.i,_=String(_).toString(),_ in f.g&&(Y=f.g[_],T=Rr(Y,T,b,q),-1<T&&(Dt(Y[T]),Array.prototype.splice.call(Y,T,1),Y.length==0&&(delete f.g[_],f.h--)))):f&&(f=Ns(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Rr(_,T,b,q)),(T=-1<f?_[f]:null)&&en(T))}function en(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ue])mi(_.i,f);else{var T=f.type,b=f.proxy;_.removeEventListener?_.removeEventListener(T,b,f.capture):_.detachEvent?_.detachEvent(Pn(T),b):_.addListener&&_.removeListener&&_.removeListener(b),(T=Ns(_))?(mi(T,f),T.h==0&&(T.src=null,_[bs]=null)):Dt(f)}}}function Pn(f){return f in gi?gi[f]:gi[f]="on"+f}function wi(f,_){if(f.da)f=!0;else{_=new Ne(_,this);var T=f.listener,b=f.ha||f.src;f.fa&&en(f),f=T.call(b,_)}return f}function Ns(f){return f=f[bs],f instanceof Gn?f:null}var Zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ei(f){return typeof f=="function"?f:(f[Zr]||(f[Zr]=function(_){return f.handleEvent(_)}),f[Zr])}function It(){ee.call(this),this.i=new Gn(this),this.M=this,this.F=null}C(It,ee),It.prototype[Ue]=!0,It.prototype.removeEventListener=function(f,_,T,b){_i(this,f,_,T,b)};function St(f,_){var T,b=f.F;if(b)for(T=[];b;b=b.F)T.push(b);if(f=f.M,b=_.type||_,typeof _=="string")_=new ge(_,f);else if(_ instanceof ge)_.target=_.target||f;else{var q=_;_=new ge(b,f),L(_,q)}if(q=!0,T)for(var Y=T.length-1;0<=Y;Y--){var ce=_.g=T[Y];q=cr(ce,b,!0,_)&&q}if(ce=_.g=f,q=cr(ce,b,!0,_)&&q,q=cr(ce,b,!1,_)&&q,T)for(Y=0;Y<T.length;Y++)ce=_.g=T[Y],q=cr(ce,b,!1,_)&&q}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var T=f.g[_],b=0;b<T.length;b++)Dt(T[b]);delete f.g[_],f.h--}}this.F=null},It.prototype.K=function(f,_,T,b){return this.i.add(String(f),_,!1,T,b)},It.prototype.L=function(f,_,T,b){return this.i.add(String(f),_,!0,T,b)};function cr(f,_,T,b){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,Y=0;Y<_.length;++Y){var ce=_[Y];if(ce&&!ce.da&&ce.capture==T){var et=ce.listener,$t=ce.ha||ce.src;ce.fa&&mi(f.i,ce),q=et.call($t,b)!==!1&&q}}return q&&!b.defaultPrevented}function lc(f,_,T){if(typeof f=="function")T&&(f=E(f,T));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(f,_||0)}function Ti(f){f.g=lc(()=>{f.g=null,f.i&&(f.i=!1,Ti(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Ro extends ee{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ti(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(f){ee.call(this),this.h=f,this.g={}}C(Ao,ee);var cc=[];function uc(f){X(f.g,function(_,T){this.g.hasOwnProperty(T)&&en(_)},f),f.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),uc(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dc=c.JSON.stringify,hc=c.JSON.parse,fc=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function bo(){}bo.prototype.h=null;function Ca(f){return f.h||(f.h=f.i())}function Ra(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){ge.call(this,"d")}C(es,ge);function Aa(){ge.call(this,"c")}C(Aa,ge);var ts={},pc=null;function No(){return pc=pc||new It}ts.La="serverreachability";function mc(f){ge.call(this,ts.La,f)}C(mc,ge);function Ps(f){const _=No();St(_,new mc(_))}ts.STAT_EVENT="statevent";function gc(f,_){ge.call(this,ts.STAT_EVENT,f),this.stat=_}C(gc,ge);function Pt(f){const _=No();St(_,new gc(_,f))}ts.Ma="timingevent";function ba(f,_){ge.call(this,ts.Ma,f),this.size=_}C(ba,ge);function Ar(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function Po(){this.g=!0}Po.prototype.xa=function(){this.g=!1};function ko(f,_,T,b,q,Y){f.info(function(){if(f.g)if(Y)for(var ce="",et=Y.split("&"),$t=0;$t<et.length;$t++){var qe=et[$t].split("=");if(1<qe.length){var Ht=qe[0];qe=qe[1];var Lt=Ht.split("_");ce=2<=Lt.length&&Lt[1]=="type"?ce+(Ht+"="+qe+"&"):ce+(Ht+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+_+`
`+T+`
`+ce})}function Na(f,_,T,b,q,Y,ce){f.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+_+`
`+T+`
`+Y+" "+ce})}function br(f,_,T,b){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+nm(f,T)+(b?" "+b:"")})}function yc(f,_){f.info(function(){return"TIMEOUT: "+_})}Po.prototype.info=function(){};function nm(f,_){if(!f.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var b=T[f];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return dc(T)}catch{return _}}var Pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function Oo(){}C(Oo,bo),Oo.prototype.g=function(){return new XMLHttpRequest},Oo.prototype.i=function(){return{}},Nr=new Oo;function Pr(f,_,T,b){this.j=f,this.i=_,this.l=T,this.R=b||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Id}function Id(){this.i=null,this.g="",this.h=!1}var vc={},ka={};function Oa(f,_,T){f.L=1,f.v=Ri(Yn(_)),f.m=T,f.P=!0,_c(f,null)}function _c(f,_){f.F=Date.now(),st(f),f.A=Yn(f.v);var T=f.A,b=f.R;Array.isArray(b)||(b=[String(b)]),bi(T.i,"t",b),f.C=0,T=f.j.J,f.h=new Id,f.g=Bd(f.j,T?_:null,!f.m),0<f.O&&(f.M=new Ro(E(f.Y,f,f.g),f.O)),_=f.U,T=f.g,b=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(cc[0]=q.toString()),q=cc);for(var Y=0;Y<q.length;Y++){var ce=yi(T,q[Y],b||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Ps(),ko(f.i,f.u,f.A,f.l,f.R,f.m)}Pr.prototype.ca=function(f){f=f.target;const _=this.M;_&&On(f)==3?_.j():this.Y(f)},Pr.prototype.Y=function(f){try{if(f==this.g)e:{const Lt=On(this.g);var _=this.g.Ba();const fr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Sc(this.g)))){this.J||Lt!=4||_==7||(_==8||0>=fr?Ps(3):Ps(2)),Do(this);var T=this.g.Z();this.X=T;t:if(Sd(this)){var b=Sc(this.g);f="";var q=b.length,Y=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),xi(this);var ce="";break t}this.h.i=new c.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,f+=this.h.i.decode(b[_],{stream:!(Y&&_==q-1)});b.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=T==200,Na(this.i,this.u,this.A,this.l,this.R,Lt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var et,$t=this.g;if((et=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(et)){var qe=et;break t}}qe=null}if(T=qe)br(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wc(this,T);else{this.o=!1,this.s=3,Pt(12),dr(this),xi(this);break e}}if(this.P){T=!0;let Jn;for(;!this.J&&this.C<ce.length;)if(Jn=rm(this,ce),Jn==ka){Lt==4&&(this.s=4,Pt(14),T=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==vc){this.s=4,Pt(15),br(this.i,this.l,ce,"[Invalid Chunk]"),T=!1;break}else br(this.i,this.l,Jn,null),wc(this,Jn);if(Sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ce.length!=0||this.h.h||(this.s=1,Pt(16),T=!1),this.o=this.o&&T,!T)br(this.i,this.l,ce,"[Invalid Chunked Response]"),dr(this),xi(this);else if(0<ce.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Rc(Ht),Ht.M=!0,Pt(11))}}else br(this.i,this.l,ce,null),wc(this,ce);Lt==4&&dr(this),this.o&&!this.J&&(Lt==4?Wa(this.j,this):(this.o=!1,st(this)))}else Fa(this.g),T==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),dr(this),xi(this)}}}catch{}finally{}};function Sd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function rm(f,_){var T=f.C,b=_.indexOf(`
`,T);return b==-1?ka:(T=Number(_.substring(T,b)),isNaN(T)?vc:(b+=1,b+T>_.length?ka:(_=_.slice(b,b+T),f.C=b+T,_)))}Pr.prototype.cancel=function(){this.J=!0,dr(this)};function st(f){f.S=Date.now()+f.I,Cd(f,f.I)}function Cd(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ar(E(f.ba,f),_)}function Do(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Pr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(yc(this.i,this.A),this.L!=2&&(Ps(),Pt(17)),dr(this),this.s=2,xi(this)):Cd(this,this.S-f)};function xi(f){f.j.G==0||f.J||Wa(f.j,f)}function dr(f){Do(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,uc(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function wc(f,_){try{var T=f.j;if(T.G!=0&&(T.g==f||Sn(T.h,f))){if(!f.K&&Sn(T.h,f)&&T.G==3){try{var b=T.Da.g.parse(_)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)za(T),jr(T);else break e;Ba(T),Pt(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ar(E(T.Za,T),6e3));if(1>=Ad(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else js(T,11)}else if((f.K||T.g==f)&&za(T),!F(_))for(q=T.Da.g.parse(_),_=0;_<q.length;_++){let qe=q[_];if(T.T=qe[0],qe=qe[1],T.G==2)if(qe[0]=="c"){T.K=qe[1],T.ia=qe[2];const Ht=qe[3];Ht!=null&&(T.la=Ht,T.j.info("VER="+T.la));const Lt=qe[4];Lt!=null&&(T.Aa=Lt,T.j.info("SVER="+T.Aa));const fr=qe[5];fr!=null&&typeof fr=="number"&&0<fr&&(b=1.5*fr,T.L=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const Jn=f.g;if(Jn){const $o=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($o){var Y=b.h;Y.g||$o.indexOf("spdy")==-1&&$o.indexOf("quic")==-1&&$o.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ec(Y,Y.h),Y.h=null))}if(b.D){const Ha=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(b.ya=Ha,rt(b.I,b.D,Ha))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),b=T;var ce=f;if(b.qa=$d(b,b.J?b.ia:null,b.W),ce.K){bd(b.h,ce);var et=ce,$t=b.L;$t&&(et.I=$t),et.B&&(Do(et),st(et)),b.g=ce}else Uo(b);0<T.i.length&&is(T)}else qe[0]!="stop"&&qe[0]!="close"||js(T,7);else T.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?js(T,7):nn(T):qe[0]!="noop"&&T.l&&T.l.ta(qe),T.v=0)}}Ps(4)}catch{}}var Rd=class{constructor(f,_){this.g=f,this.map=_}};function Lo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ad(f){return f.h?1:f.g?f.g.size:0}function Sn(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ec(f,_){f.g?f.g.add(_):f.h=_}function bd(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Lo.prototype.cancel=function(){if(this.i=Nd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const T of f.g.values())_=_.concat(T.D);return _}return A(f.i)}function Da(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],T=f.length,b=0;b<T;b++)_.push(f[b]);return _}_=[],T=0;for(b in f)_[T++]=f[b];return _}function La(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var T=0;T<f;T++)_.push(T);return _}_=[],T=0;for(const b in f)_[T++]=b;return _}}}function Ii(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var T=La(f),b=Da(f),q=b.length,Y=0;Y<q;Y++)_.call(void 0,b[Y],T&&T[Y],f)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sm(f,_){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var b=f[T].indexOf("="),q=null;if(0<=b){var Y=f[T].substring(0,b);q=f[T].substring(b+1)}else Y=f[T];_(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ks(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ks){this.h=f.h,Mo(this,f.j),this.o=f.o,this.g=f.g,Si(this,f.s),this.l=f.l;var _=f.i,T=new ns;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Ci(this,T),this.m=f.m}else f&&(_=String(f).match(jo))?(this.h=!1,Mo(this,_[1]||"",!0),this.o=Be(_[2]||""),this.g=Be(_[3]||"",!0),Si(this,_[4]),this.l=Be(_[5]||"",!0),Ci(this,_[6]||"",!0),this.m=Be(_[7]||"")):(this.h=!1,this.i=new ns(null,this.h))}ks.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Ai(_,ja,!0),":");var T=this.g;return(T||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ai(_,ja,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Ai(T,T.charAt(0)=="/"?Od:kd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Ai(T,Tc)),f.join("")};function Yn(f){return new ks(f)}function Mo(f,_,T){f.j=T?Be(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Si(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Ci(f,_,T){_ instanceof ns?(f.i=_,rs(f.i,f.h)):(T||(_=Ai(_,Dd)),f.i=new ns(_,f.h))}function rt(f,_,T){f.i.set(_,T)}function Ri(f){return rt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Be(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ai(f,_,T){return typeof f=="string"?(f=encodeURI(f).replace(_,Pd),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Pd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ja=/[#\/\?@]/g,kd=/[#\?:]/g,Od=/[#\?]/g,Dd=/[#\?@]/g,Tc=/#/g;function ns(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function tn(f){f.g||(f.g=new Map,f.h=0,f.i&&sm(f.i,function(_,T){f.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=ns.prototype,n.add=function(f,_){tn(this),this.i=null,f=hr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(_),this.h+=1,this};function kr(f,_){tn(f),_=hr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Or(f,_){return tn(f),_=hr(f,_),f.g.has(_)}n.forEach=function(f,_){tn(this),this.g.forEach(function(T,b){T.forEach(function(q){f.call(_,q,b,this)},this)},this)},n.na=function(){tn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let b=0;b<_.length;b++){const q=f[b];for(let Y=0;Y<q.length;Y++)T.push(_[b])}return T},n.V=function(f){tn(this);let _=[];if(typeof f=="string")Or(this,f)&&(_=_.concat(this.g.get(hr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)_=_.concat(f[T])}return _},n.set=function(f,_){return tn(this),this.i=null,f=hr(this,f),Or(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function bi(f,_,T){kr(f,_),0<T.length&&(f.i=null,f.g.set(hr(f,_),A(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var b=_[T];const Y=encodeURIComponent(String(b)),ce=this.V(b);for(b=0;b<ce.length;b++){var q=Y;ce[b]!==""&&(q+="="+encodeURIComponent(String(ce[b]))),f.push(q)}}return this.i=f.join("&")};function hr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function rs(f,_){_&&!f.j&&(tn(f),f.i=null,f.g.forEach(function(T,b){var q=b.toLowerCase();b!=q&&(kr(this,b),bi(this,q,T))},f)),f.j=_}function im(f,_){const T=new Po;if(c.Image){const b=new Image;b.onload=I(kn,T,"TestLoadImage: loaded",!0,_,b),b.onerror=I(kn,T,"TestLoadImage: error",!1,_,b),b.onabort=I(kn,T,"TestLoadImage: abort",!1,_,b),b.ontimeout=I(kn,T,"TestLoadImage: timeout",!1,_,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=f}else _(!1)}function Ld(f,_){const T=new Po,b=new AbortController,q=setTimeout(()=>{b.abort(),kn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:b.signal}).then(Y=>{clearTimeout(q),Y.ok?kn(T,"TestPingServer: ok",!0,_):kn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),kn(T,"TestPingServer: error",!1,_)})}function kn(f,_,T,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(T)}catch{}}function om(){this.g=new fc}function jd(f,_,T){const b=T||"";try{Ii(f,function(q,Y){let ce=q;h(q)&&(ce=dc(q)),_.push(b+Y+"="+encodeURIComponent(ce))})}catch(q){throw _.push(b+"type="+encodeURIComponent("_badmap")),q}}function Os(f){this.l=f.Ub||null,this.j=f.eb||!1}C(Os,bo),Os.prototype.g=function(){return new Vo(this.l,this.j)},Os.prototype.i=function(f){return function(){return f}}({});function Vo(f,_){It.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Vo,It),n=Vo.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Lr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Md(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Md(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Dr(this):Lr(this),this.readyState==3&&Md(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Dr(this))},n.Qa=function(f){this.g&&(this.response=f,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Lr(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=_.next();return f.join(`\r
`)};function Lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ds(f){let _="";return X(f,function(T,b){_+=b,_+=":",_+=T,_+=`\r
`}),_}function Ni(f,_,T){e:{for(b in T){var b=!1;break e}b=!0}b||(T=Ds(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):rt(f,_,T))}function mt(f){It.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(mt,It);var am=/^https?$/i,xc=["POST","PUT"];n=mt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?Ca(this.o):Ca(Nr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Y){Fo(this,Y);return}if(f=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)T.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())T.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xc,_,void 0))||b||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of T)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Va(this),this.u=!0,this.g.send(f),this.u=!1}catch(Y){Fo(this,Y)}};function Fo(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Ma(f),Xn(f)}function Ma(f){f.A||(f.A=!0,St(f,"complete"),St(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,St(this,"complete"),St(this,"abort"),Xn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ic(this):this.bb())},n.bb=function(){Ic(this)};function Ic(f){if(f.h&&typeof l<"u"&&(!f.v[1]||On(f)!=4||f.Z()!=2)){if(f.u&&On(f)==4)lc(f.Ea,0,f);else if(St(f,"readystatechange"),On(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var b;if(b=ce===0){var q=String(f.D).match(jo)[1]||null;!q&&c.self&&c.self.location&&(q=c.self.location.protocol.slice(0,-1)),b=!am.test(q?q.toLowerCase():"")}T=b}if(T)St(f,"complete"),St(f,"success");else{f.m=6;try{var Y=2<On(f)?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.Z()+"]",Ma(f)}}finally{Xn(f)}}}}function Xn(f,_){if(f.g){Va(f);const T=f.g,b=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||St(f,"ready");try{T.onreadystatechange=b}catch{}}}function Va(f){f.I&&(c.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function On(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),hc(_)}};function Sc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Fa(f){const _={};f=(f.g&&2<=On(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<f.length;b++){if(F(f[b]))continue;var T=M(f[b]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=_[q]||[];_[q]=Y,Y.push(T)}k(_,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(f,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||_}function Cc(f){this.Aa=0,this.i=[],this.j=new Po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,f),this.cb=ss("retryDelaySeedMs",1e4,f),this.Wa=ss("forwardChannelMaxRetries",2,f),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Lo(f&&f.concurrentRequestLimit),this.Da=new om,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cc.prototype,n.la=8,n.G=1,n.connect=function(f,_,T,b){Pt(0),this.W=f,this.H=_||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.I=$d(this,null,this.W),is(this)};function nn(f){if(Ua(f),f.G==3){var _=f.U++,T=Yn(f.I);if(rt(T,"SID",f.K),rt(T,"RID",_),rt(T,"TYPE","terminate"),Ls(f,T),_=new Pr(f,f.j,_),_.L=2,_.v=Ri(Yn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.v,T=!0),T||(_.g=Bd(_.j,null),_.g.ea(_.v)),_.F=Date.now(),st(_)}Ud(f)}function jr(f){f.g&&(Rc(f),f.g.cancel(),f.g=null)}function Ua(f){jr(f),f.u&&(c.clearTimeout(f.u),f.u=null),za(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function is(f){if(!Qn(f.h)&&!f.s){f.s=!0;var _=f.Ga;Ie||ae(),oe||(Ie(),oe=!0),de.add(_,f),f.B=0}}function lm(f,_){return Ad(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ar(E(f.Ga,f,_),Fd(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new Pr(this,this.j,f);let Y=this.o;if(this.S&&(Y?(Y=N(Y),L(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(_+=b,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Pi(this,q,_),T=Yn(this.I),rt(T,"RID",f),rt(T,"CVER",22),this.D&&rt(T,"X-HTTP-Session-Id",this.D),Ls(this,T),Y&&(this.O?_="headers="+encodeURIComponent(String(Ds(Y)))+"&"+_:this.m&&Ni(T,this.m,Y)),Ec(this.h,q),this.Ua&&rt(T,"TYPE","init"),this.P?(rt(T,"$req",_),rt(T,"SID","null"),q.T=!0,Oa(q,T,null)):Oa(q,T,_),this.G=2}}else this.G==3&&(f?$a(this,f):this.i.length==0||Qn(this.h)||$a(this))};function $a(f,_){var T;_?T=_.l:T=f.U++;const b=Yn(f.I);rt(b,"SID",f.K),rt(b,"RID",T),rt(b,"AID",f.T),Ls(f,b),f.m&&f.o&&Ni(b,f.m,f.o),T=new Pr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Pi(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ec(f.h,T),Oa(T,b,_)}function Ls(f,_){f.H&&X(f.H,function(T,b){rt(_,b,T)}),f.l&&Ii({},function(T,b){rt(_,b,T)})}function Pi(f,_,T){T=Math.min(f.i.length,T);var b=f.l?E(f.l.Na,f.l,f):null;e:{var q=f.i;let Y=-1;for(;;){const ce=["count="+T];Y==-1?0<T?(Y=q[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let et=!0;for(let $t=0;$t<T;$t++){let qe=q[$t].g;const Ht=q[$t].map;if(qe-=Y,0>qe)Y=Math.max(0,q[$t].g-100),et=!1;else try{jd(Ht,ce,"req"+qe+"_")}catch{b&&b(Ht)}}if(et){b=ce.join("&");break e}}}return f=f.i.splice(0,T),_.D=f,b}function Uo(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;Ie||ae(),oe||(Ie(),oe=!0),de.add(_,f),f.v=0}}function Ba(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ar(E(f.Fa,f),Fd(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Vd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ar(E(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),jr(this),Vd(this))};function Rc(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Vd(f){f.g=new Pr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Yn(f.qa);rt(_,"RID","rpc"),rt(_,"SID",f.K),rt(_,"AID",f.T),rt(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&rt(_,"TO",f.ja),rt(_,"TYPE","xmlhttp"),Ls(f,_),f.m&&f.o&&Ni(_,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Ri(Yn(_)),T.m=null,T.P=!0,_c(T,f)}n.Za=function(){this.C!=null&&(this.C=null,jr(this),Ba(this),Pt(19))};function za(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Wa(f,_){var T=null;if(f.g==_){za(f),Rc(f),f.g=null;var b=2}else if(Sn(f.h,_))T=_.D,bd(f.h,_),b=1;else return;if(f.G!=0){if(_.o)if(b==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var q=f.B;b=No(),St(b,new ba(b,T)),is(f)}else Uo(f);else if(q=_.s,q==3||q==0&&0<_.X||!(b==1&&lm(f,_)||b==2&&Ba(f)))switch(T&&0<T.length&&(_=f.h,_.i=_.i.concat(T)),q){case 1:js(f,5);break;case 4:js(f,10);break;case 3:js(f,6);break;default:js(f,2)}}}function Fd(f,_){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*_}function js(f,_){if(f.j.info("Error code "+_),_==2){var T=E(f.fb,f),b=f.Xa;const q=!b;b=new ks(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Mo(b,"https"),Ri(b),q?im(b.toString(),T):Ld(b.toString(),T)}else Pt(2);f.G=0,f.l&&f.l.sa(_),Ud(f),Ua(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Ud(f){if(f.G=0,f.ka=[],f.l){const _=Nd(f.h);(_.length!=0||f.i.length!=0)&&(x(f.ka,_),x(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function $d(f,_,T){var b=T instanceof ks?Yn(T):new ks(T);if(b.g!="")_&&(b.g=_+"."+b.g),Si(b,b.s);else{var q=c.location;b=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var Y=new ks(null);b&&Mo(Y,b),_&&(Y.g=_),q&&Si(Y,q),T&&(Y.l=T),b=Y}return T=f.D,_=f.ya,T&&_&&rt(b,T,_),rt(b,"VER",f.la),Ls(f,b),b}function Bd(f,_,T){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new mt(new Os({eb:T})):new mt(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}n=Ac.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qa(){}qa.prototype.g=function(f,_){return new Cn(f,_)};function Cn(f,_){It.call(this),this.g=new Cc(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!F(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!F(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new os(this)}C(Cn,It),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){nn(this.g)},Cn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=dc(f),f=T);_.i.push(new Rd(_.Ya++,f)),_.G==3&&is(_)},Cn.prototype.N=function(){this.g.l=null,delete this.j,nn(this.g),delete this.g,Cn.aa.N.call(this)};function zd(f){es.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const T in _){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}C(zd,es);function Wd(){Aa.call(this),this.status=1}C(Wd,Aa);function os(f){this.g=f}C(os,Ac),os.prototype.ua=function(){St(this.g,"a")},os.prototype.ta=function(f){St(this.g,new zd(f))},os.prototype.sa=function(f){St(this.g,new Wd)},os.prototype.ra=function(){St(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,MC=function(){return new qa},jC=function(){return No()},LC=ts,Ny={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,of=Pa,xd.COMPLETE="complete",DC=xd,Ra.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",It.prototype.listen=It.prototype.K,hu=Ra,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,OC=mt}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const MT="@firebase/firestore",VT="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new cp("@firebase/firestore");function pl(){return co.logLevel}function Fj(n){co.setLogLevel(n)}function pe(n,...e){if(co.logLevel<=Fe.DEBUG){const t=e.map(Jv);co.debug(`Firestore (${Yl}): ${n}`,...t)}}function oi(n,...e){if(co.logLevel<=Fe.ERROR){const t=e.map(Jv);co.error(`Firestore (${Yl}): ${n}`,...t)}}function Nl(n,...e){if(co.logLevel<=Fe.WARN){const t=e.map(Jv);co.warn(`Firestore (${Yl}): ${n}`,...t)}}function Jv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function Ze(n,e){n||Ae()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}}class $j{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bj{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ei,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ei)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new VC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new mn(e)}}class zj{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Wj{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new zj(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qj{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_n(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new FT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new FT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Hj(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function Pl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=-62135596800,$T=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$T);return new Wt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UT)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$T}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Wt(0,0))}static max(){return new ke(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__name__";class hs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(),r===void 0?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return hs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=hs.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=hs.isNumericId(e),s=hs.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?hs.extractNumericId(e).compare(hs.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class ft extends hs{construct(e,t,r){return new ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends hs{construct(e,t,r){return new an(e,t,r)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new an([BT])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ft.fromString(e))}static fromName(e){return new Ee(ft.fromString(e).popFirst(5))}static empty(){return new Ee(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function Gj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Wt(t+1,0):new Wt(t,r));return new uo(s,Ee.empty(),e)}function Qj(n){return new uo(n.readTime,n.key,Du)}class uo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new uo(ke.min(),Ee.empty(),Du)}static max(){return new uo(ke.max(),Ee.empty(),Du)}}function Yj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Xj)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&t()},d=>r(d))}),l=!0,o===s&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(s=>s?ne.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;t(e[h]).next(g=>{l[h]=g,++c,c===o&&r(l)},g=>s(g))}})}static doWhile(e,t){return new ne((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function Zj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}gp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-1;function yp(n){return n==null}function bf(n){return n===0&&1/n==-1/0}function eM(n){return typeof n=="number"&&Number.isInteger(n)&&!bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="";function tM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zT(e)),e=nM(n.get(t),e);return zT(e)}function nM(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case UC:t+="";break;default:t+=o}}return t}function zT(n){return n+UC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function To(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $C(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ft=class Py{constructor(e,t){this.comparator=e,this.root=t||ro.EMPTY}insert(e,t){return new Py(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(e){return new Py(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ro.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}},$h=class{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ro=class Ks{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Ks.RED,this.left=s??Ks.EMPTY,this.right=o??Ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Ks(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ks.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}};ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1;ro.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,s,o){return this}insert(e,t,r){return new ro(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(e){return new qT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class qT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new sr([])}unionWith(e){let t=new qt(an.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BC("Invalid base64 string: "+o):o}}(e);return new ln(t)}static fromUint8Array(e){const t=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const rM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=rM.exec(n);if(Ze(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fo(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="server_timestamp",WC="__type__",qC="__previous_value__",HC="__local_write_time__";function e_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[WC])===null||t===void 0?void 0:t.stringValue)===zC}function vp(n){const e=n.mapValue.fields[qC];return e_(e)?vp(e):e}function Lu(n){const e=ho(n.mapValue.fields[HC].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t,r,s,o,l,c,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}const Nf="(default)";class ju{constructor(e,t){this.projectId=e,this.database=t||Nf}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===Nf}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__type__",iM="__max__",Bh={mapValue:{}},GC="__vector__",Pf="value";function po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?e_(n)?4:aM(n)?9007199254740991:oM(n)?10:11:Ae()}function Is(n,e){if(n===e)return!0;const t=po(n);if(t!==po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lu(n).isEqual(Lu(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=ho(s.timestampValue),c=ho(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return fo(s.bytesValue).isEqual(fo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Ot(s.geoPointValue.latitude)===Ot(o.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ot(s.integerValue)===Ot(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Ot(s.doubleValue),c=Ot(o.doubleValue);return l===c?bf(l)===bf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Pl(n.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(WT(l)!==WT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Is(l[d],c[d])))return!1;return!0}(n,e);default:return Ae()}}function Mu(n,e){return(n.values||[]).find(t=>Is(t,e))!==void 0}function kl(n,e){if(n===e)return 0;const t=po(n),r=po(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Ot(o.integerValue||o.doubleValue),d=Ot(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return HT(n.timestampValue,e.timestampValue);case 4:return HT(Lu(n),Lu(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(o,l){const c=fo(o),d=fo(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const g=ze(c[h],d[h]);if(g!==0)return g}return ze(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=ze(Ot(o.latitude),Ot(l.latitude));return c!==0?c:ze(Ot(o.longitude),Ot(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return KT(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,h,g;const v=o.fields||{},E=l.fields||{},I=(c=v[Pf])===null||c===void 0?void 0:c.arrayValue,C=(d=E[Pf])===null||d===void 0?void 0:d.arrayValue,A=ze(((h=I==null?void 0:I.values)===null||h===void 0?void 0:h.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:KT(I,C)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Bh.mapValue&&l===Bh.mapValue)return 0;if(o===Bh.mapValue)return 1;if(l===Bh.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const E=ze(d[v],g[v]);if(E!==0)return E;const I=kl(c[d[v]],h[g[v]]);if(I!==0)return I}return ze(d.length,g.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function HT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=ho(n),r=ho(e),s=ze(t.seconds,r.seconds);return s!==0?s:ze(t.nanos,r.nanos)}function KT(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=kl(t[s],r[s]);if(o)return o}return ze(t.length,r.length)}function Ol(n){return ky(n)}function ky(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ho(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return fo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=ky(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${ky(t.fields[l])}`;return s+"}"}(n.mapValue):Ae()}function af(n){switch(po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vp(n);return e?16+af(e):16;case 5:return 2*n.stringValue.length;case 6:return fo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+af(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return To(r.fields,(o,l)=>{s+=o.length+af(l)}),s}(n.mapValue);default:throw Ae()}}function GT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Oy(n){return!!n&&"integerValue"in n}function t_(n){return!!n&&"arrayValue"in n}function QT(n){return!!n&&"nullValue"in n}function YT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lf(n){return!!n&&"mapValue"in n}function oM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KC])===null||t===void 0?void 0:t.stringValue)===GC}function yu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return To(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(t)}setAll(e){let t=an.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=yu(l):s.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];lf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){To(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Bn(yu(this.value))}}function QC(n){const e=[];return To(n.fields,(t,r)=>{const s=new an([t]);if(lf(r)){const o=QC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t,r,s,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new gn(e,0,ke.min(),ke.min(),ke.min(),Bn.empty(),0)}static newFoundDocument(e,t,r,s){return new gn(e,1,t,ke.min(),r,s,0)}static newNoDocument(e,t){return new gn(e,2,t,ke.min(),ke.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,ke.min(),ke.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.position=e,this.inclusive=t}}function XT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=kl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Is(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function lM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{}class Vt extends YC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uM(e,t,r):t==="array-contains"?new fM(e,r):t==="in"?new pM(e,r):t==="not-in"?new mM(e,r):t==="array-contains-any"?new gM(e,r):new Vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dM(e,r):new hM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(kl(t,this.value)):t!==null&&po(this.value)===po(t)&&this.matchesComparison(kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends YC{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Qr(e,t)}matches(e){return XC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function XC(n){return n.op==="and"}function JC(n){return cM(n)&&XC(n)}function cM(n){for(const e of n.filters)if(e instanceof Qr)return!1;return!0}function Dy(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+Ol(n.value);if(JC(n))return n.filters.map(e=>Dy(e)).join(",");{const e=n.filters.map(t=>Dy(t)).join(",");return`${n.op}(${e})`}}function ZC(n,e){return n instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&Is(r.value,s.value)}(n,e):n instanceof Qr?function(r,s){return s instanceof Qr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,c)=>o&&ZC(l,s.filters[c]),!0):!1}(n,e):void Ae()}function e1(n){return n instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ol(t.value)}`}(n):n instanceof Qr?function(t){return t.op.toString()+" {"+t.getFilters().map(e1).join(" ,")+"}"}(n):"Filter"}class uM extends Vt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class dM extends Vt{constructor(e,t){super(e,"in",t),this.keys=t1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hM extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=t1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function t1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class fM extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return t_(t)&&Mu(t.arrayValue,this.value)}}class pM extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Mu(this.value.arrayValue,t)}}class mM extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Mu(this.value.arrayValue,t)}}class gM extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!t_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function ZT(n,e=null,t=[],r=[],s=null,o=null,l=null){return new yM(n,e,t,r,s,o,l)}function n_(n){const e=Oe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ol(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ol(r)).join(",")),e.le=t}return e.le}function r_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JT(n.startAt,e.startAt)&&JT(n.endAt,e.endAt)}function Ly(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t=null,r=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vM(n,e,t,r,s,o,l,c){return new Zl(n,e,t,r,s,o,l,c)}function _p(n){return new Zl(n)}function ex(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function n1(n){return n.collectionGroup!==null}function vu(n){const e=Oe(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new qt(an.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Vu(o,r))}),t.has(an.keyField().canonicalString())||e.he.push(new Vu(an.keyField(),r))}return e.he}function ws(n){const e=Oe(n);return e.Pe||(e.Pe=_M(e,vu(n))),e.Pe}function _M(n,e){if(n.limitType==="F")return ZT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Vu(s.field,o)});const t=n.endAt?new kf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new kf(n.startAt.position,n.startAt.inclusive):null;return ZT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jy(n,e){const t=n.filters.concat([e]);return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function My(n,e,t){return new Zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wp(n,e){return r_(ws(n),ws(e))&&n.limitType===e.limitType}function r1(n){return`${n_(ws(n))}|lt:${n.limitType}`}function ml(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>e1(s)).join(", ")}]`),yp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Ol(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Ol(s)).join(",")),`Target(${r})`}(ws(n))}; limitType=${n.limitType})`}function Ep(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of vu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const h=XT(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,vu(r),s)||r.endAt&&!function(l,c,d){const h=XT(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,vu(r),s))}(n,e)}function wM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s1(n){return(e,t)=>{let r=!1;for(const s of vu(n)){const o=EM(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function EM(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?kl(d,h):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return $C(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Ft(Ee.comparator);function ai(){return TM}const i1=new Ft(Ee.comparator);function fu(...n){let e=i1;for(const t of n)e=e.insert(t.key,t);return e}function o1(n){let e=i1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ra(){return _u()}function a1(){return _u()}function _u(){return new wa(n=>n.toString(),(n,e)=>n.isEqual(e))}const xM=new Ft(Ee.comparator),IM=new qt(Ee.comparator);function $e(...n){let e=IM;for(const t of n)e=e.add(t);return e}const SM=new qt(ze);function CM(){return SM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function l1(n){return{integerValue:""+n}}function RM(n,e){return eM(e)?l1(e):s_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function AM(n,e,t){return n instanceof Fu?function(s,o){const l={fields:{[WC]:{stringValue:zC},[HC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&e_(o)&&(o=vp(o)),o&&(l.fields[qC]=o),{mapValue:l}}(t,e):n instanceof Uu?u1(n,e):n instanceof $u?d1(n,e):function(s,o){const l=c1(s,o),c=tx(l)+tx(s.Ie);return Oy(l)&&Oy(s.Ie)?l1(c):s_(s.serializer,c)}(n,e)}function bM(n,e,t){return n instanceof Uu?u1(n,e):n instanceof $u?d1(n,e):t}function c1(n,e){return n instanceof Of?function(r){return Oy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Fu extends Tp{}class Uu extends Tp{constructor(e){super(),this.elements=e}}function u1(n,e){const t=h1(e);for(const r of n.elements)t.some(s=>Is(s,r))||t.push(r);return{arrayValue:{values:t}}}class $u extends Tp{constructor(e){super(),this.elements=e}}function d1(n,e){let t=h1(e);for(const r of n.elements)t=t.filter(s=>!Is(s,r));return{arrayValue:{values:t}}}class Of extends Tp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function tx(n){return Ot(n.integerValue||n.doubleValue)}function h1(n){return t_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t){this.field=e,this.transform=t}}function PM(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Uu&&s instanceof Uu||r instanceof $u&&s instanceof $u?Pl(r.elements,s.elements,Is):r instanceof Of&&s instanceof Of?Is(r.Ie,s.Ie):r instanceof Fu&&s instanceof Fu}(n.transform,e.transform)}class kM{constructor(e,t){this.version=e,this.transformResults=t}}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xp{}function f1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new i_(n.key,Tr.none()):new sd(n.key,n.data,Tr.none());{const t=n.data,r=Bn.empty();let s=new qt(an.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new xo(n.key,r,new sr(s.toArray()),Tr.none())}}function OM(n,e,t){n instanceof sd?function(s,o,l){const c=s.value.clone(),d=rx(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof xo?function(s,o,l){if(!cf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=rx(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(p1(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function wu(n,e,t,r){return n instanceof sd?function(o,l,c,d){if(!cf(o.precondition,l))return c;const h=o.value.clone(),g=sx(o.fieldTransforms,d,l);return h.setAll(g),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof xo?function(o,l,c,d){if(!cf(o.precondition,l))return c;const h=sx(o.fieldTransforms,d,l),g=l.data;return g.setAll(p1(o)),g.setAll(h),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,c){return cf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function DM(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=c1(r.transform,s||null);o!=null&&(t===null&&(t=Bn.empty()),t.set(r.field,o))}return t||null}function nx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Pl(r,s,(o,l)=>PM(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sd extends xp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xo extends xp{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function p1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rx(n,e,t){const r=new Map;Ze(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,bM(l,c,t[s]))}return r}function sx(n,e,t){const r=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);r.set(s.field,AM(o,l,e))}return r}class i_ extends xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LM extends xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&OM(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=a1();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(s.key)?null:c;const d=f1(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,(t,r)=>nx(t,r))&&Pl(this.baseMutations,e.baseMutations,(t,r)=>nx(t,r))}}class o_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ze(e.mutations.length===r.length);let s=function(){return xM}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new o_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,He;function FM(n){switch(n){case te.OK:return Ae();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ae()}}function m1(n){if(n===void 0)return oi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Mt.OK:return te.OK;case Mt.CANCELLED:return te.CANCELLED;case Mt.UNKNOWN:return te.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return te.INTERNAL;case Mt.UNAVAILABLE:return te.UNAVAILABLE;case Mt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Mt.NOT_FOUND:return te.NOT_FOUND;case Mt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Mt.ABORTED:return te.ABORTED;case Mt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Mt.DATA_LOSS:return te.DATA_LOSS;default:return Ae()}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new no([4294967295,4294967295],0);function ix(n){const e=UM().encode(n),t=new kC;return t.update(e),new Uint8Array(t.digest())}function ox(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([t,r],0),new no([s,o],0)]}class a_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pu(`Invalid padding: ${t}`);if(r<0)throw new pu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=no.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(no.fromNumber(r)));return s.compare($M)===1&&(s=new no([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ix(e),[r,s]=ox(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,s,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new a_(o,s,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=ix(e),[r,s]=ox(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,s,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ip(ke.min(),s,new Ft(ze),ai(),$e())}}class id{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new id(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class g1{constructor(e,t){this.targetId=e,this.ge=t}}class y1{constructor(e,t,r=ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class ax{constructor(){this.pe=0,this.ye=lx(),this.we=ln.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=$e(),t=$e(),r=$e();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new id(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=lx()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class BM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ai(),this.$e=zh(),this.Ke=zh(),this.Ue=new Ft(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(Ly(o))if(r===0){const l=new Ee(o.path);this.ze(t,l,gn.newNoDocument(l,ke.min()))}else Ze(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let l,c;try{l=fo(r).toUint8Array()}catch(d){if(d instanceof BC)return Nl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new a_(l,s,o)}catch(d){return Nl(d instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&Ly(c.target)){const d=new Ee(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,gn.newNoDocument(d,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=$e();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const s=new Ip(e,t,this.Ue,this.Qe,r);return this.Qe=ai(),this.$e=zh(),this.Ke=zh(),this.Ue=new Ft(ze),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ax,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new qt(ze),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qt(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ax),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function zh(){return new Ft(Ee.comparator)}function lx(){return new Ft(Ee.comparator)}const zM={asc:"ASCENDING",desc:"DESCENDING"},WM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qM={and:"AND",or:"OR"};class HM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vy(n,e){return n.useProto3Json||yp(e)?e:{value:e}}function Df(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KM(n,e){return Df(n,e.toTimestamp())}function Es(n){return Ze(!!n),ke.fromTimestamp(function(t){const r=ho(t);return new Wt(r.seconds,r.nanos)}(n))}function l_(n,e){return Fy(n,e).canonicalString()}function Fy(n,e){const t=function(s){return new ft(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _1(n){const e=ft.fromString(n);return Ze(I1(e)),e}function Uy(n,e){return l_(n.databaseId,e.path)}function Bg(n,e){const t=_1(e);if(t.get(1)!==n.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(E1(t))}function w1(n,e){return l_(n.databaseId,e)}function GM(n){const e=_1(n);return e.length===4?ft.emptyPath():E1(e)}function $y(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function E1(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function cx(n,e,t){return{name:Uy(n,e),fields:t.value.mapValue.fields}}function QM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(Ze(g===void 0||typeof g=="string"),ln.fromBase64String(g||"")):(Ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array),ln.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const g=h.code===void 0?te.UNKNOWN:m1(h.code);return new me(g,h.message||"")}(l);t=new y1(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bg(n,r.document.name),o=Es(r.document.updateTime),l=r.document.createTime?Es(r.document.createTime):ke.min(),c=new Bn({mapValue:{fields:r.document.fields}}),d=gn.newFoundDocument(s,o,l,c),h=r.targetIds||[],g=r.removedTargetIds||[];t=new uf(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Bg(n,r.document),o=r.readTime?Es(r.readTime):ke.min(),l=gn.newNoDocument(s,o),c=r.removedTargetIds||[];t=new uf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Bg(n,r.document),o=r.removedTargetIds||[];t=new uf([],o,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new VM(s,o),c=r.targetId;t=new g1(c,l)}}return t}function YM(n,e){let t;if(e instanceof sd)t={update:cx(n,e.key,e.value)};else if(e instanceof i_)t={delete:Uy(n,e.key)};else if(e instanceof xo)t={update:cx(n,e.key,e.data),updateMask:i4(e.fieldMask)};else{if(!(e instanceof LM))return Ae();t={verify:Uy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Fu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Uu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $u)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Of)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:KM(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae()}(n,e.precondition)),t}function XM(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(s,o){let l=s.updateTime?Es(s.updateTime):Es(o);return l.isEqual(ke.min())&&(l=Es(o)),new kM(l,s.transformResults||[])}(t,e))):[]}function JM(n,e){return{documents:[w1(n,e.path)]}}function ZM(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=w1(n,s);const o=function(h){if(h.length!==0)return x1(Qr.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(g=>function(E){return{field:gl(E.field),direction:n4(E.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Vy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:s}}function e4(n){let e=GM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ze(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const E=T1(v);return E instanceof Qr&&JC(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(E=>function(C){return new Vu(yl(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,yp(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(v){const E=!!v.before,I=v.values||[];return new kf(I,E)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const E=!v.before,I=v.values||[];return new kf(I,E)}(t.endAt)),vM(e,s,l,o,c,"F",d,h)}function t4(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function T1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=yl(t.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yl(t.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yl(t.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=yl(t.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return Vt.create(yl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qr.create(t.compositeFilter.filters.map(r=>T1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function n4(n){return zM[n]}function r4(n){return WM[n]}function s4(n){return qM[n]}function gl(n){return{fieldPath:n.canonicalString()}}function yl(n){return an.fromServerFormat(n.fieldPath)}function x1(n){return n instanceof Vt?function(t){if(t.op==="=="){if(YT(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NAN"}};if(QT(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(YT(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NAN"}};if(QT(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(t.field),op:r4(t.op),value:t.value}}}(n):n instanceof Qr?function(t){const r=t.getFilters().map(s=>x1(s));return r.length===1?r[0]:{compositeFilter:{op:s4(t.op),filters:r}}}(n):Ae()}function i4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function I1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t,r,s,o=ke.min(),l=ke.min(),c=ln.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.Tt=e}}function a4(n){const e=e4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?My(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.Tn=new c4}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(uo.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class c4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new qt(ft.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},S1=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(S1,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Dl(0)}static Un(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="LruGarbageCollector",u4=1048576;function hx([n,e],[t,r]){const s=ze(n,t);return s===0?ze(e,r):s}class d4{constructor(e){this.Hn=e,this.buffer=new qt(hx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class h4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(dx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jl(t)?pe(dx,"Ignoring IndexedDB error during garbage collection: ",t):await Xl(t)}await this.er(3e5)})}}class f4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(gp.ae);const r=new d4(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(ux)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ux):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,o,l,c,d,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),pl()<=Fe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${v} documents in `+(h-d)+`ms
Total Duration: ${h-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function p4(n,e){return new f4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&wu(r.mutation,s,sr.empty(),Wt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){const s=ra();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let l=fu();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ra();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,s){let o=ai();const l=_u(),c=function(){return _u()}();return t.forEach((d,h)=>{const g=r.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof xo)?o=o.insert(h.key,h):g!==void 0?(l.set(h.key,g.mutation.getFieldMask()),wu(g.mutation,h,g.mutation.getFieldMask(),Wt.now())):l.set(h.key,sr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,g)=>l.set(h,g)),t.forEach((h,g)=>{var v;return c.set(h,new g4(g,(v=l.get(h))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=_u();let s=new Ft((l,c)=>l-c),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let g=r.get(d)||sr.empty();g=c.applyToLocalView(h,g),r.set(d,g);const v=(s.get(c.batchId)||$e()).add(d);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,g=d.value,v=a1();g.forEach(E=>{if(!o.has(E)){const I=f1(t.get(E),r.get(E));I!==null&&v.set(E,I),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return ne.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):n1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):ne.resolve(ra());let c=Du,d=o;return l.next(h=>ne.forEach(h,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{d=d.insert(g,E)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,$e())).next(g=>({batchId:c,changes:o1(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let s=fu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let l=fu();return this.indexManager.getCollectionParents(e,o).next(c=>ne.forEach(c,d=>{const h=function(v,E){return new Zl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(g=>{g.forEach((v,E)=>{l=l.insert(v,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(l=>{o.forEach((d,h)=>{const g=h.getKey();l.get(g)===null&&(l=l.insert(g,gn.newInvalidDocument(g)))});let c=fu();return l.forEach((d,h)=>{const g=o.get(d);g!==void 0&&wu(g.mutation,h,sr.empty(),Wt.now()),Ep(t,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Es(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:a4(s.bundledQuery),readTime:Es(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.overlays=new Ft(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ra();return ne.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.Et(e,t,o)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const s=ra(),o=t.length+1,l=new Ee(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Ft((h,g)=>h-g);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=ra(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=ra(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=s)););return ne.resolve(c)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new MM(t,r));let o=this.Rr.get(t);o===void 0&&(o=$e(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.Vr=new qt(Xt.mr),this.gr=new qt(Xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Xt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Xt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Ee(new ft([])),r=new Xt(t,e),s=new Xt(t,e+1),o=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new ft([])),r=new Xt(t,e),s=new Xt(t,e+1);let o=$e();return this.gr.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Xt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qt(Xt.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new jM(o,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new Xt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),o=s<0?0:s;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Zv:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xt(t,0),s=new Xt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,s],l=>{const c=this.Or(l.Cr);o.push(c)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(ze);return t.forEach(s=>{const o=new Xt(s,0),l=new Xt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),ne.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const l=new Xt(new Ee(o),0);let c=new qt(ze);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Cr)),!0)},l),ne.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ne.forEach(t.mutations,s=>{const o=new Xt(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Xt(t,0),s=this.Mr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.kr=e,this.docs=function(){return new Ft(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():gn.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=ai();const l=t.path,c=new Ee(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Yj(Qj(g),r)<=0||(s.has(g.key)||Ep(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Ae()}qr(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new x4(this)}getSize(e){return ne.resolve(this.size)}}class x4 extends m4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.persistence=e,this.Qr=new wa(t=>n_(t),r_),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new c_,this.targetCount=0,this.Ur=Dl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Dl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ne.waitFor(o).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new gp(0),this.zr=!1,this.zr=!0,this.jr=new w4,this.referenceDelegate=e(this),this.Hr=new I4(this),this.indexManager=new l4,this.remoteDocumentCache=function(s){return new T4(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new o4(t),this.Yr=new v4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new E4(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const s=new S4(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return ne.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class S4 extends Jj{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.ti=new c_,this.ni=null}static ri(e){return new u_(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,r=>{const s=Ee.fromPath(r);return this.si(e,s).next(o=>{o||t.removeEntry(s,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Lf{constructor(e,t){this.persistence=e,this.oi=new wa(r=>tM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=p4(this,t)}static ri(e,t){return new Lf(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(o=>o?ne.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,o.removeEntry(l,ke.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=af(e.data.value)),t}ar(e,t,r){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=$e(),s=$e();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new d_(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Kk()?8:Zj(xn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new C4;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,r,s){return r.documentReadCount<this.es?(pl()<=Fe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(pl()<=Fe.DEBUG&&pe("QueryEngine","Query:",ml(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(pl()<=Fe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(t))):ne.resolve())}rs(e,t){if(ex(t))return ne.resolve(null);let r=ws(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=My(t,null,"F"),r=ws(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=$e(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(t,c);return this.ls(t,h,l,d.readTime)?this.rs(e,My(t,null,"F")):this.hs(e,h,t,d)}))})))}ss(e,t,r,s){return ex(t)||s.isEqual(ke.min())?ne.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,s)?ne.resolve(null):(pl()<=Fe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ml(t)),this.hs(e,l,t,Gj(s,Du)).next(c=>c))})}cs(e,t){let r=new qt(s1(e));return t.forEach((s,o)=>{Ep(e,o)&&(r=r.add(o))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,r){return pl()<=Fe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ml(t)),this.ns.getDocumentsMatchingQuery(e,t,uo.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LocalStore",A4=3e8;class b4{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Ft(ze),this.Is=new wa(o=>n_(o),r_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function N4(n,e,t,r){return new b4(n,e,t,r)}async function R1(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=$e();for(const h of s){l.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of o){c.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:c}))})})}function P4(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,h,g){const v=h.batch,E=v.keys();let I=ne.resolve();return E.forEach(C=>{I=I.next(()=>g.getEntry(d,C)).next(A=>{const x=h.docVersions.get(C);Ze(x!==null),A.version.compareTo(x)<0&&(v.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),g.addEntry(A)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=$e();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function A1(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function k4(n,e){const t=Oe(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const c=[];e.targetChanges.forEach((g,v)=>{const E=s.get(v);if(!E)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,v)));let I=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(ln.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(v,I),function(A,x,O){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=A4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,I,g)&&c.push(t.Hr.updateTargetData(o,I))});let d=ai(),h=$e();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(O4(o,l,e.documentUpdates).next(g=>{d=g.Vs,h=g.fs})),!r.isEqual(ke.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return ne.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(t.Ts=s,o))}function O4(n,e,t){let r=$e(),s=$e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=ai();return t.forEach((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):pe(h_,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:s}})}function D4(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Zv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L4(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(o=>o?(s=o,ne.resolve(s)):t.Hr.allocateTargetId(r).next(l=>(s=new Zi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function By(n,e,t){const r=Oe(n),s=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Jl(l))throw l;pe(h_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function fx(n,e,t){const r=Oe(n);let s=ke.min(),o=$e();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,g){const v=Oe(d),E=v.Is.get(g);return E!==void 0?ne.resolve(v.Ts.get(E)):v.Hr.getTargetData(h,g)}(r,l,ws(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?s:ke.min(),t?o:$e())).next(c=>(j4(r,wM(e),c),{documents:c,gs:o})))}function j4(n,e,t){let r=n.Es.get(e)||ke.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class px{constructor(){this.activeTargetIds=CM()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M4{constructor(){this.ho=new px,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new px,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="ConnectivityMonitor";class gx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(mx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(mx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function zy(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="RestConnection",F4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Nf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,t,r,s,o){const l=zy(),c=this.So(e,t.toUriEncodedString());pe(zg,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,o),this.vo(e,c,d,r).then(h=>(pe(zg,`Received RPC '${e}' ${l}: `,h),h),h=>{throw Nl(zg,`RPC '${e}' ${l} failed with error: `,h,"url: ",c,"request:",r),h})}Co(e,t,r,s,o,l){return this.bo(e,t,r,s,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,t){const r=F4[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class B4 extends U4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const o=zy();return new Promise((l,c)=>{const d=new OC;d.setWithCredentials(!0),d.listenOnce(DC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case of.NO_ERROR:const g=d.getResponseJson();pe(fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case of.TIMEOUT:pe(fn,`RPC '${e}' ${o} timed out`),c(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const v=d.getStatus();if(pe(fn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const C=function(x){const O=x.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(O)>=0?O:te.UNKNOWN}(I.status);c(new me(C,I.message))}else c(new me(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new me(te.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{pe(fn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);pe(fn,`RPC '${e}' ${o} sending request:`,s),d.send(t,"POST",h,r,15)})}Wo(e,t,r){const s=zy(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=MC(),c=jC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(fn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=l.createWebChannel(g,d);let E=!1,I=!1;const C=new $4({Fo:x=>{I?pe(fn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(E||(pe(fn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),pe(fn,`RPC '${e}' stream ${s} sending:`,x),v.send(x))},Mo:()=>v.close()}),A=(x,O,F)=>{x.listen(O,U=>{try{F(U)}catch(B){setTimeout(()=>{throw B},0)}})};return A(v,hu.EventType.OPEN,()=>{I||(pe(fn,`RPC '${e}' stream ${s} transport opened.`),C.Qo())}),A(v,hu.EventType.CLOSE,()=>{I||(I=!0,pe(fn,`RPC '${e}' stream ${s} transport closed`),C.Ko())}),A(v,hu.EventType.ERROR,x=>{I||(I=!0,Nl(fn,`RPC '${e}' stream ${s} transport errored:`,x),C.Ko(new me(te.UNAVAILABLE,"The operation could not be completed")))}),A(v,hu.EventType.MESSAGE,x=>{var O;if(!I){const F=x.data[0];Ze(!!F);const U=F,B=(U==null?void 0:U.error)||((O=U[0])===null||O===void 0?void 0:O.error);if(B){pe(fn,`RPC '${e}' stream ${s} received error:`,B);const G=B.status;let X=function(P){const L=Mt[P];if(L!==void 0)return m1(L)}(G),k=B.message;X===void 0&&(X=te.INTERNAL,k="Unknown error status: "+G+" with message "+B.message),I=!0,C.Ko(new me(X,k)),v.close()}else pe(fn,`RPC '${e}' stream ${s} received:`,F),C.Uo(F)}}),A(c,LC.STAT_EVENT,x=>{x.stat===Ny.PROXY?pe(fn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Ny.NOPROXY&&pe(fn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function Wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n){return new HM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="PersistentStream";class N1{constructor(e,t,r,s,o,l,c,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new b1(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new me(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(yx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(yx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z4 extends N1{constructor(e,t,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=QM(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Es(l.readTime):ke.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=$y(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=Ly(d)?{documents:JM(o,d)}:{query:ZM(o,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=v1(o,l.resumeToken);const h=Vy(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Df(o,l.snapshotVersion.toTimestamp());const h=Vy(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=t4(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=$y(this.serializer),t.removeTarget=e,this.I_(t)}}class W4 extends N1{constructor(e,t,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=XM(e.writeResults,e.commitTime),r=Es(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=$y(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>YM(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{}class H4 extends q4{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.bo(e,Fy(t,r),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(te.UNKNOWN,o.toString())})}Co(e,t,r,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Fy(t,r),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class K4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(oi(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class G4{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ea(this)&&(pe(ha,"Restarting streams for network reachability change."),await async function(d){const h=Oe(d);h.W_.add(4),await od(h),h.j_.set("Unknown"),h.W_.delete(4),await Cp(h)}(this))})}),this.j_=new K4(r,s)}}async function Cp(n){if(Ea(n))for(const e of n.G_)await e(!0)}async function od(n){for(const e of n.G_)await e(!1)}function P1(n,e){const t=Oe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),g_(t)?m_(t):ec(t).c_()&&p_(t,e))}function f_(n,e){const t=Oe(n),r=ec(t);t.U_.delete(e),r.c_()&&k1(t,e),t.U_.size===0&&(r.c_()?r.P_():Ea(t)&&t.j_.set("Unknown"))}function p_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ec(n).y_(e)}function k1(n,e){n.H_.Ne(e),ec(n).w_(e)}function m_(n){n.H_=new BM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ec(n).start(),n.j_.B_()}function g_(n){return Ea(n)&&!ec(n).u_()&&n.U_.size>0}function Ea(n){return Oe(n).W_.size===0}function O1(n){n.H_=void 0}async function Q4(n){n.j_.set("Online")}async function Y4(n){n.U_.forEach((e,t)=>{p_(n,e)})}async function X4(n,e){O1(n),g_(n)?(n.j_.q_(e),m_(n)):n.j_.set("Unknown")}async function J4(n,e,t){if(n.j_.set("Online"),e instanceof y1&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.U_.delete(c),s.H_.removeTarget(c))}(n,e)}catch(r){pe(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jf(n,r)}else if(e instanceof uf?n.H_.We(e):e instanceof g1?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ke.min()))try{const r=await A1(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(h);g&&o.U_.set(h,g.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken(ln.EMPTY_BYTE_STRING,g.snapshotVersion)),k1(o,d);const v=new Zi(g.target,d,h,g.sequenceNumber);p_(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){pe(ha,"Failed to raise snapshot:",r),await jf(n,r)}}async function jf(n,e,t){if(!Jl(e))throw e;n.W_.add(1),await od(n),n.j_.set("Offline"),t||(t=()=>A1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(ha,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Cp(n)})}function D1(n,e){return e().catch(t=>jf(n,t,e))}async function Rp(n){const e=Oe(n),t=mo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Zv;for(;Z4(e);)try{const s=await D4(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,e3(e,s)}catch(s){await jf(e,s)}L1(e)&&j1(e)}function Z4(n){return Ea(n)&&n.K_.length<10}function e3(n,e){n.K_.push(e);const t=mo(n);t.c_()&&t.b_&&t.S_(e.mutations)}function L1(n){return Ea(n)&&!mo(n).u_()&&n.K_.length>0}function j1(n){mo(n).start()}async function t3(n){mo(n).C_()}async function n3(n){const e=mo(n);for(const t of n.K_)e.S_(t.mutations)}async function r3(n,e,t){const r=n.K_.shift(),s=o_.from(r,e,t);await D1(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Rp(n)}async function s3(n,e){e&&mo(n).b_&&await async function(r,s){if(function(l){return FM(l)&&l!==te.ABORTED}(s.code)){const o=r.K_.shift();mo(r).h_(),await D1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Rp(r)}}(n,e),L1(n)&&j1(n)}async function vx(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),pe(ha,"RemoteStore received new credentials");const r=Ea(t);t.W_.add(3),await od(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Cp(t)}async function i3(n,e){const t=Oe(n);e?(t.W_.delete(2),await Cp(t)):e||(t.W_.add(2),await od(t),t.j_.set("Unknown"))}function ec(n){return n.J_||(n.J_=function(t,r,s){const o=Oe(t);return o.M_(),new z4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:Q4.bind(null,n),No:Y4.bind(null,n),Lo:X4.bind(null,n),p_:J4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),g_(n)?m_(n):n.j_.set("Unknown")):(await n.J_.stop(),O1(n))})),n.J_}function mo(n){return n.Y_||(n.Y_=function(t,r,s){const o=Oe(t);return o.M_(),new W4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:t3.bind(null,n),Lo:s3.bind(null,n),D_:n3.bind(null,n),v_:r3.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Rp(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(ha,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const l=Date.now()+r,c=new y_(e,t,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(n,e){if(oi("AsyncQueue",`${e}: ${n}`),Jl(n))return new me(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=fu(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.Z_=new Ft(Ee.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ll{constructor(e,t,r,s,o,l,c,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,s,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Ll(e,t,Il.emptySet(t),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class a3{constructor(){this.queries=wx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=Oe(t),o=s.queries;s.queries=wx(),o.forEach((l,c)=>{for(const d of c.ta)d.onError(r)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function wx(){return new wa(n=>r1(n),wp)}async function __(n,e){const t=Oe(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(r=2):(o=new o3,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=v_(l,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&E_(t)}async function w_(n,e){const t=Oe(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function l3(n,e){const t=Oe(n);let r=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(s)&&(r=!0);l.ea=s}}r&&E_(t)}function c3(n,e,t){const r=Oe(n),s=r.queries.get(e);if(s)for(const o of s.ta)o.onError(t);r.queries.delete(e)}function E_(n){n.ia.forEach(e=>{e.next()})}var Wy,Ex;(Ex=Wy||(Wy={}))._a="default",Ex.Cache="cache";class T_{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.key=e}}class V1{constructor(e){this.key=e}}class u3{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$e(),this.mutatedKeys=$e(),this.ya=s1(e),this.wa=new Il(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new _x,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const E=s.get(g),I=Ep(this.query,v)?v:null,C=!!E&&this.mutatedKeys.has(E.key),A=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let x=!1;E&&I?E.data.isEqual(I.data)?C!==A&&(r.track({type:3,doc:I}),x=!0):this.va(E,I)||(r.track({type:2,doc:I}),x=!0,(d&&this.ya(I,d)>0||h&&this.ya(I,h)<0)&&(c=!0)):!E&&I?(r.track({type:0,doc:I}),x=!0):E&&!I&&(r.track({type:1,doc:E}),x=!0,(d||h)&&(c=!0)),x&&(I?(l=l.add(I),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,v)=>function(I,C){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return A(I)-A(C)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),s=s!=null&&s;const c=t&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new Ll(this.query,e.wa,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _x,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=$e(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new V1(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new M1(r))}),t}Oa(e){this.fa=e.gs,this.pa=$e();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Ll.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const x_="SyncEngine";class d3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class h3{constructor(e){this.key=e,this.Ba=!1}}class f3{constructor(e,t,r,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new wa(c=>r1(c),wp),this.qa=new Map,this.Qa=new Set,this.$a=new Ft(Ee.comparator),this.Ka=new Map,this.Ua=new c_,this.Wa={},this.Ga=new Map,this.za=Dl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function p3(n,e,t=!0){const r=W1(n);let s;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await F1(r,e,t,!0),s}async function m3(n,e){const t=W1(n);await F1(t,e,!0,!1)}async function F1(n,e,t,r){const s=await L4(n.localStore,ws(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await g3(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&P1(n.remoteStore,s),c}async function g3(n,e,t,r,s){n.Ha=(v,E,I)=>async function(A,x,O,F){let U=x.view.Sa(O);U.ls&&(U=await fx(A.localStore,x.query,!1).then(({documents:k})=>x.view.Sa(k,U)));const B=F&&F.targetChanges.get(x.targetId),G=F&&F.targetMismatches.get(x.targetId)!=null,X=x.view.applyChanges(U,A.isPrimaryClient,B,G);return xx(A,x.targetId,X.Ma),X.snapshot}(n,v,E,I);const o=await fx(n.localStore,e,!0),l=new u3(e,o.gs),c=l.Sa(o.documents),d=id.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),h=l.applyChanges(c,n.isPrimaryClient,d);xx(n,t,h.Ma);const g=new d3(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function y3(n,e,t){const r=Oe(n),s=r.ka.get(e),o=r.qa.get(s.targetId);if(o.length>1)return r.qa.set(s.targetId,o.filter(l=>!wp(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await By(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&f_(r.remoteStore,s.targetId),qy(r,s.targetId)}).catch(Xl)):(qy(r,s.targetId),await By(r.localStore,s.targetId,!0))}async function v3(n,e){const t=Oe(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),f_(t.remoteStore,r.targetId))}async function _3(n,e,t){const r=C3(n);try{const s=await function(l,c){const d=Oe(l),h=Wt.now(),g=c.reduce((I,C)=>I.add(C.key),$e());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=ai(),A=$e();return d.ds.getEntries(I,g).next(x=>{C=x,C.forEach((O,F)=>{F.isValidDocument()||(A=A.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,C)).next(x=>{v=x;const O=[];for(const F of c){const U=DM(F,v.get(F.key).overlayedDocument);U!=null&&O.push(new xo(F.key,U,QC(U.value.mapValue),Tr.exists(!0)))}return d.mutationQueue.addMutationBatch(I,h,O,c)}).next(x=>{E=x;const O=x.applyToLocalDocumentSet(v,A);return d.documentOverlayCache.saveOverlays(I,x.batchId,O)})}).then(()=>({batchId:E.batchId,changes:o1(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new Ft(ze)),h=h.insert(c,d),l.Wa[l.currentUser.toKey()]=h}(r,s.batchId,t),await ad(r,s.changes),await Rp(r.remoteStore)}catch(s){const o=v_(s,"Failed to persist write");t.reject(o)}}async function U1(n,e){const t=Oe(n);try{const r=await k4(t.localStore,e);e.targetChanges.forEach((s,o)=>{const l=t.Ka.get(o);l&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Ze(l.Ba):s.removedDocuments.size>0&&(Ze(l.Ba),l.Ba=!1))}),await ad(t,r,e)}catch(r){await Xl(r)}}function Tx(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=Oe(l);d.onlineState=c;let h=!1;d.queries.forEach((g,v)=>{for(const E of v.ta)E.sa(c)&&(h=!0)}),h&&E_(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w3(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),o=s&&s.key;if(o){let l=new Ft(Ee.comparator);l=l.insert(o,gn.newNoDocument(o,ke.min()));const c=$e().add(o),d=new Ip(ke.min(),new Map,new Ft(ze),l,c);await U1(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),I_(r)}else await By(r.localStore,e,!1).then(()=>qy(r,e,t)).catch(Xl)}async function E3(n,e){const t=Oe(n),r=e.batch.batchId;try{const s=await P4(t.localStore,e);B1(t,r,null),$1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ad(t,s)}catch(s){await Xl(s)}}async function T3(n,e,t){const r=Oe(n);try{const s=await function(l,c){const d=Oe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return d.mutationQueue.lookupMutationBatch(h,c).next(v=>(Ze(v!==null),g=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>d.localDocuments.getDocuments(h,g))})}(r.localStore,e);B1(r,e,t),$1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ad(r,s)}catch(s){await Xl(s)}}function $1(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function B1(n,e,t){const r=Oe(n);let s=r.Wa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function qy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||z1(n,r)})}function z1(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(f_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),I_(n))}function xx(n,e,t){for(const r of t)r instanceof M1?(n.Ua.addReference(r.key,e),x3(n,r)):r instanceof V1?(pe(x_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||z1(n,r.key)):Ae()}function x3(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(x_,"New document in limbo: "+t),n.Qa.add(r),I_(n))}function I_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(ft.fromString(e)),r=n.za.next();n.Ka.set(r,new h3(t)),n.$a=n.$a.insert(t,r),P1(n.remoteStore,new Zi(ws(_p(t.path)),r,"TargetPurposeLimboResolution",gp.ae))}}async function ad(n,e,t){const r=Oe(n),s=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,d)=>{l.push(r.Ha(d,e,t).then(h=>{var g;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(h){s.push(h);const v=d_.Yi(d.targetId,h);o.push(v)}}))}),await Promise.all(l),r.La.p_(s),await async function(d,h){const g=Oe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ne.forEach(h,E=>ne.forEach(E.Hi,I=>g.persistence.referenceDelegate.addReference(v,E.targetId,I)).next(()=>ne.forEach(E.Ji,I=>g.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))}catch(v){if(!Jl(v))throw v;pe(h_,"Failed to update sequence numbers: "+v)}for(const v of h){const E=v.targetId;if(!v.fromCache){const I=g.Ts.get(E),C=I.snapshotVersion,A=I.withLastLimboFreeSnapshotVersion(C);g.Ts=g.Ts.insert(E,A)}}}(r.localStore,o))}async function I3(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){pe(x_,"User change. New user:",e.toKey());const r=await R1(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(d=>{d.reject(new me(te.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ad(t,r.Rs)}}function S3(n,e){const t=Oe(n),r=t.Ka.get(e);if(r&&r.Ba)return $e().add(r.key);{let s=$e();const o=t.qa.get(e);if(!o)return s;for(const l of o){const c=t.ka.get(l);s=s.unionWith(c.view.ba)}return s}}function W1(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w3.bind(null,e),e.La.p_=l3.bind(null,e.eventManager),e.La.Ja=c3.bind(null,e.eventManager),e}function C3(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T3.bind(null,e),e}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return N4(this.persistence,new R4,e.initialUser,this.serializer)}Xa(e){return new C1(u_.ri,this.serializer)}Za(e){return new M4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class R3 extends Mf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof Lf);const r=this.persistence.referenceDelegate.garbageCollector;return new h4(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new C1(r=>Lf.ri(r,t),this.serializer)}}class Hy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I3.bind(null,this.syncEngine),await i3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a3}()}createDatastore(e){const t=Sp(e.databaseInfo.databaseId),r=function(o){return new B4(o)}(e.databaseInfo);return function(o,l,c,d){return new H4(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,l,c){return new G4(r,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Tx(this.syncEngine,t,0),function(){return gx.D()?new gx:new V4}())}createSyncEngine(e,t){return function(s,o,l,c,d,h,g){const v=new f3(s,o,l,c,d,h);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Oe(s);pe(ha,"RemoteStore shutting down."),o.W_.add(5),await od(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Hy.provider={build:()=>new Hy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="FirestoreClient";class A3{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=mn.UNAUTHENTICATED,this.clientId=FC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{pe(go,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe(go,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=v_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qg(n,e){n.asyncQueue.verifyOperationInProgress(),pe(go,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await R1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ix(n,e){n.asyncQueue.verifyOperationInProgress();const t=await b3(n);pe(go,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>vx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>vx(e.remoteStore,s)),n._onlineComponents=e}async function b3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(go,"Using user provided OfflineComponentProvider");try{await qg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Nl("Error using user provided cache. Falling back to memory cache: "+t),await qg(n,new Mf)}}else pe(go,"Using default OfflineComponentProvider"),await qg(n,new R3(void 0));return n._offlineComponents}async function q1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(go,"Using user provided OnlineComponentProvider"),await Ix(n,n._uninitializedComponentsProvider._online)):(pe(go,"Using default OnlineComponentProvider"),await Ix(n,new Hy))),n._onlineComponents}function N3(n){return q1(n).then(e=>e.syncEngine)}async function Vf(n){const e=await q1(n),t=e.eventManager;return t.onListen=p3.bind(null,e.syncEngine),t.onUnlisten=y3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=m3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=v3.bind(null,e.syncEngine),t}function P3(n,e,t={}){const r=new ei;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const g=new S_({next:E=>{g.su(),l.enqueueAndForget(()=>w_(o,v));const I=E.docs.has(c);!I&&E.fromCache?h.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?h.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(E)},error:E=>h.reject(E)}),v=new T_(_p(c.path),g,{includeMetadataChanges:!0,Ta:!0});return __(o,v)}(await Vf(n),n.asyncQueue,e,t,r)),r.promise}function k3(n,e,t={}){const r=new ei;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const g=new S_({next:E=>{g.su(),l.enqueueAndForget(()=>w_(o,v)),E.fromCache&&d.source==="server"?h.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(E)},error:E=>h.reject(E)}),v=new T_(c,g,{includeMetadataChanges:!0,Ta:!0});return __(o,v)}(await Vf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n,e,t){if(!t)throw new me(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O3(n,e,t,r){if(e===!0&&r===!0)throw new me(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Cx(n){if(!Ee.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rx(n){if(Ee.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ap(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ap(n);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firestore.googleapis.com",Ax=!0;class bx{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G1,this.ssl=Ax}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ax;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=S1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u4)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Uj;switch(r.type){case"firstParty":return new Wj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Sx.get(t);r&&(pe("ComponentProvider","Removing Datastore"),Sx.delete(t),r.terminate())}(this),Promise.resolve()}}function D3(n,e,t,r={}){var s;const o=(n=Wn(n,bp))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==G1&&o.host!==c&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!ao(d,l)&&(n._setSettings(d),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=mn.MOCK_USER;else{h=Fv(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new mn(v)}n._authCredentials=new $j(new VC(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Tn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class so extends Io{constructor(e,t,r){super(e,t,_p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ee(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function ps(n,e,...t){if(n=ot(n),K1("collection","path",e),n instanceof bp){const r=ft.fromString(e,...t);return Rx(r),new so(n,null,r)}{if(!(n instanceof Tn||n instanceof so))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return Rx(r),new so(n.firestore,null,r)}}function Tt(n,e,...t){if(n=ot(n),arguments.length===1&&(e=FC.newId()),K1("doc","path",e),n instanceof bp){const r=ft.fromString(e,...t);return Cx(r),new Tn(n,null,new Ee(r))}{if(!(n instanceof Tn||n instanceof so))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return Cx(r),new Tn(n.firestore,n instanceof so?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="AsyncQueue";class Px{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new b1(this,"async_queue_retry"),this.bu=()=>{const r=Wg();r&&pe(Nx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Wg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Wg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ei;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jl(e))throw e;pe(Nx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw oi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=y_.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function kx(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class li extends bp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Px,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Px(e),this._firestoreClient=void 0,await e}}}function ld(n,e){const t=typeof n=="object"?n:up(),r=typeof n=="string"?n:Nf,s=Zu(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Mv("firestore");o&&D3(s,...o)}return s}function Np(n){if(n._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L3(n),n._firestoreClient}function L3(n){var e,t,r;const s=n._freezeSettings(),o=function(c,d,h,g){return new sM(c,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,H1(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new A3(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(ln.fromBase64String(e))}catch(t){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=/^__.*__$/;class M3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new sd(e,this.data,t,this.fieldTransforms)}}class Q1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Y1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class A_{constructor(e,t,r,s,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new A_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ff(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Y1(this.Lu)&&j3.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class V3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sp(e)}ju(e,t,r,s=!1){return new A_({Lu:e,methodName:t,zu:r,path:an.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Op(n){const e=n._freezeSettings(),t=Sp(n._databaseId);return new V3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function X1(n,e,t,r,s,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,s);N_("Data must be an object, but it was:",l,r);const c=J1(r,l);let d,h;if(o.merge)d=new sr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const E=Ky(e,v,t);if(!l.contains(E))throw new me(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);eR(g,E)||g.push(E)}d=new sr(g),h=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=l.fieldTransforms;return new M3(new Bn(c),d,h)}class Dp extends kp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dp}}class b_ extends kp{_toFieldTransform(e){return new NM(e.path,new Fu)}isEqual(e){return e instanceof b_}}function F3(n,e,t,r){const s=n.ju(1,e,t);N_("Data must be an object, but it was:",s,r);const o=[],l=Bn.empty();To(r,(d,h)=>{const g=P_(e,d,t);h=ot(h);const v=s.Ku(g);if(h instanceof Dp)o.push(g);else{const E=cd(h,v);E!=null&&(o.push(g),l.set(g,E))}});const c=new sr(o);return new Q1(l,c,s.fieldTransforms)}function U3(n,e,t,r,s,o){const l=n.ju(1,e,t),c=[Ky(e,r,t)],d=[s];if(o.length%2!=0)throw new me(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(Ky(e,o[E])),d.push(o[E+1]);const h=[],g=Bn.empty();for(let E=c.length-1;E>=0;--E)if(!eR(h,c[E])){const I=c[E];let C=d[E];C=ot(C);const A=l.Ku(I);if(C instanceof Dp)h.push(I);else{const x=cd(C,A);x!=null&&(h.push(I),g.set(I,x))}}const v=new sr(h);return new Q1(g,v,l.fieldTransforms)}function $3(n,e,t,r=!1){return cd(t,n.ju(r?4:3,e))}function cd(n,e){if(Z1(n=ot(n)))return N_("Unsupported field value:",e,n),J1(n,e);if(n instanceof kp)return function(r,s){if(!Y1(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const o=[];let l=0;for(const c of r){let d=cd(c,s.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Wt.fromDate(r);return{timestampValue:Df(s.serializer,o)}}if(r instanceof Wt){const o=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Df(s.serializer,o)}}if(r instanceof C_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jl)return{bytesValue:v1(s.serializer,r._byteString)};if(r instanceof Tn){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:l_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof R_)return function(l,c){return{mapValue:{fields:{[KC]:{stringValue:GC},[Pf]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.Wu("VectorValues must only contain numeric values.");return s_(c.serializer,h)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Ap(r)}`)}(n,e)}function J1(n,e){const t={};return $C(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(n,(r,s)=>{const o=cd(s,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Z1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wt||n instanceof C_||n instanceof jl||n instanceof Tn||n instanceof kp||n instanceof R_)}function N_(n,e,t){if(!Z1(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Ap(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Ky(n,e,t){if((e=ot(e))instanceof Pp)return e._internalPath;if(typeof e=="string")return P_(n,e);throw Ff("Field path arguments must be of type string or ",n,!1,void 0,t)}const B3=new RegExp("[~\\*/\\[\\]]");function P_(n,e,t){if(e.search(B3)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pp(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ff(n,e,t,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new me(te.INVALID_ARGUMENT,c+n+d)}function eR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class z3 extends tR{data(){return super.data()}}function Lp(n,e){return typeof e=="string"?P_(n,e):e instanceof Pp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k_{}class rR extends k_{}function Xs(n,e,...t){let r=[];e instanceof k_&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof O_).length,c=o.filter(d=>d instanceof jp).length;if(l>1||l>0&&c>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class jp extends rR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jp(e,t,r)}_apply(e){const t=this._parse(e);return sR(e._query,t),new Io(e.firestore,e.converter,jy(e._query,t))}_parse(e){const t=Op(e.firestore);return function(o,l,c,d,h,g,v){let E;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Dx(v,g);const C=[];for(const A of v)C.push(Ox(d,o,A));E={arrayValue:{values:C}}}else E=Ox(d,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Dx(v,g),E=$3(c,l,v,g==="in"||g==="not-in");return Vt.create(h,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $n(n,e,t){const r=e,s=Lp("where",n);return jp._create(s,r,t)}class O_ extends k_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new O_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)sR(l,d),l=jy(l,d)}(e._query,t),new Io(e.firestore,e.converter,jy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends rR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new D_(e,t)}_apply(e){const t=function(s,o,l){if(s.startAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(o,l)}(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Zl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function UW(n,e="asc"){const t=e,r=Lp("orderBy",n);return D_._create(r,t)}function Ox(n,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n1(e)&&t.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ft.fromString(t));if(!Ee.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GT(n,new Ee(r))}if(t instanceof Tn)return GT(n,t._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ap(t)}.`)}function Dx(n,e){if(!Array.isArray(n)||n.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sR(n,e){const t=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class W3{convertValue(e,t="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return To(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Pf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Ot(l.doubleValue));return new R_(o)}convertGeoPoint(e){return new C_(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const t=ho(e);return new Wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ft.fromString(e);Ze(I1(r));const s=new ju(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return s.isEqual(t)||oi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oR extends tR{constructor(e,t,r,s,o,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Lp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class df extends oR{data(e={}){return super.data(e)}}class aR{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new mu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new df(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new df(s._firestore,s._userDataWriter,c.doc.key,c.doc,new mu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new df(s._firestore,s._userDataWriter,c.doc.key,c.doc,new mu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,g=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:q3(c.type),doc:d,oldIndex:h,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function q3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n){n=Wn(n,Tn);const e=Wn(n.firestore,li);return P3(Np(e),n._key).then(t=>cR(e,n,t))}class L_ extends W3{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function ms(n){n=Wn(n,Io);const e=Wn(n.firestore,li),t=Np(e),r=new L_(e);return nR(n._query),k3(t,n._query).then(s=>new aR(e,r,n,s))}function j_(n,e,t){n=Wn(n,Tn);const r=Wn(n.firestore,li),s=iR(n.converter,e,t);return Mp(r,[X1(Op(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Tr.none())])}function Hr(n,e,t,...r){n=Wn(n,Tn);const s=Wn(n.firestore,li),o=Op(s);let l;return l=typeof(e=ot(e))=="string"||e instanceof Pp?U3(o,"updateDoc",n._key,e,t,r):F3(o,"updateDoc",n._key,e),Mp(s,[l.toMutation(n._key,Tr.exists(!0))])}function $W(n){return Mp(Wn(n.firestore,li),[new i_(n._key,Tr.none())])}function BW(n,e){const t=Wn(n.firestore,li),r=Tt(n),s=iR(n.converter,e);return Mp(t,[X1(Op(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function lR(n,...e){var t,r,s;n=ot(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||kx(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(kx(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let d,h,g;if(n instanceof Tn)h=Wn(n.firestore,li),g=_p(n._key.path),d={next:v=>{e[l]&&e[l](cR(h,n,v))},error:e[l+1],complete:e[l+2]};else{const v=Wn(n,Io);h=Wn(v.firestore,li),g=v._query;const E=new L_(h);d={next:I=>{e[l]&&e[l](new aR(h,E,v,I))},error:e[l+1],complete:e[l+2]},nR(n._query)}return function(E,I,C,A){const x=new S_(A),O=new T_(I,x,C);return E.asyncQueue.enqueueAndForget(async()=>__(await Vf(E),O)),()=>{x.su(),E.asyncQueue.enqueueAndForget(async()=>w_(await Vf(E),O))}}(Np(h),g,c,d)}function Mp(n,e){return function(r,s){const o=new ei;return r.asyncQueue.enqueueAndForget(async()=>_3(await N3(r),s,o)),o.promise}(Np(n),e)}function cR(n,e,t){const r=t.docs.get(e._key),s=new L_(n);return new oR(n,s,e._key,r,new mu(t.hasPendingWrites,t.fromCache),e.converter)}function H3(){return new b_("serverTimestamp")}(function(e,t=!0){(function(s){Yl=s})(_o),lo(new ri("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new li(new Bj(r.getProvider("auth-internal")),new qj(l,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(h.options.projectId,g)}(l,s),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Er(MT,VT,e),Er(MT,VT,"esm2017")})();var Lx={};const jx="@firebase/database",Mx="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uR="";function K3(n){uR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),on(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Pu(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return pi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new G3(e)}}catch{}return new Q3},sa=dR("localStorage"),Y3=dR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new cp("@firebase/database"),X3=function(){let n=1;return function(){return n++}}(),hR=function(n){const e=oO(n),t=new tO;t.update(e);const r=t.digest();return jv.encodeByteArray(r)},ud=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ud.apply(null,r):typeof r=="object"?e+=on(r):e+=r,e+=" "}return e};let Eu=null,Vx=!0;const J3=function(n,e){he(!0,"Can't turn on custom loggers persistently."),Sl.logLevel=Fe.VERBOSE,Eu=Sl.log.bind(Sl)},yn=function(...n){if(Vx===!0&&(Vx=!1,Eu===null&&Y3.get("logging_enabled")===!0&&J3()),Eu){const e=ud.apply(null,n);Eu(e)}},dd=function(n){return function(...e){yn(n,...e)}},Gy=function(...n){const e="FIREBASE INTERNAL ERROR: "+ud(...n);Sl.error(e)},ci=function(...n){const e=`FIREBASE FATAL ERROR: ${ud(...n)}`;throw Sl.error(e),new Error(e)},or=function(...n){const e="FIREBASE WARNING: "+ud(...n);Sl.warn(e)},Z3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&or("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fR=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},eV=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Ml="[MIN_NAME]",fa="[MAX_NAME]",tc=function(n,e){if(n===e)return 0;if(n===Ml||e===fa)return-1;if(e===Ml||n===fa)return 1;{const t=Fx(n),r=Fx(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},tV=function(n,e){return n===e?0:n<e?-1:1},tu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+on(e))},M_=function(n){if(typeof n!="object"||n===null)return on(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=on(e[r]),t+=":",t+=M_(n[e[r]]);return t+="}",t},pR=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let s=0;s<t;s+=e)s+e>t?r.push(n.substring(s,t)):r.push(n.substring(s,s+e));return r};function Ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const mR=function(n){he(!fR(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let s,o,l,c,d;n===0?(o=0,l=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=c+r,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-r-t))));const h=[];for(d=t;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);for(d=e;d;d-=1)h.push(o%2?1:0),o=Math.floor(o/2);h.push(s?1:0),h.reverse();const g=h.join("");let v="";for(d=0;d<64;d+=8){let E=parseInt(g.substr(d,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},nV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},sV=new RegExp("^-?(0*)\\d{1,10}$"),iV=-2147483648,oV=2147483647,Fx=function(n){if(sV.test(n)){const e=Number(n);if(e>=iV&&e<=oV)return e}return null},hd=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw or("Exception was thrown by user callback.",t),e},Math.floor(0))}},aV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tu=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,_n(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){or(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',or(e)}}class hf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="5",gR="v",yR="s",vR="r",_R="f",wR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ER="ls",TR="p",Qy="ac",xR="websocket",IR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t,r,s,o=!1,l="",c=!1,d=!1,h=null){this.secure=t,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function uV(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function CR(n,e,t){he(typeof e=="string","typeof type must == string"),he(typeof t=="object","typeof params must == object");let r;if(e===xR)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===IR)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);uV(n)&&(t.ns=n.namespace);const s=[];return Ir(t,(o,l)=>{s.push(o+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.counters_={}}incrementCounter(e,t=1){pi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return jk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg={},Kg={};function F_(n){const e=n.toString();return Hg[e]||(Hg[e]=new dV),Hg[e]}function hV(n,e){const t=n.toString();return Kg[t]||(Kg[t]=e()),Kg[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&hd(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="start",pV="close",mV="pLPCommand",gV="pRTLPCB",RR="id",AR="pw",bR="ser",yV="cb",vV="seg",_V="ts",wV="d",EV="dframe",NR=1870,PR=30,TV=NR-PR,xV=25e3,IV=3e4;class vl{constructor(e,t,r,s,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dd(e),this.stats_=F_(t),this.urlFn=d=>(this.appCheckToken&&(d[Qy]=this.appCheckToken),CR(t,IR,d))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new fV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IV)),eV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new U_((...o)=>{const[l,c,d,h,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Ux)this.id=c,this.password=d;else if(l===pV)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ux]="t",r[bR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[yV]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gR]=V_,this.transportSessionId&&(r[yR]=this.transportSessionId),this.lastSessionId&&(r[ER]=this.lastSessionId),this.applicationId&&(r[TR]=this.applicationId),this.appCheckToken&&(r[Qy]=this.appCheckToken),typeof location<"u"&&location.hostname&&wR.test(location.hostname)&&(r[vR]=_R);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vl.forceAllow_=!0}static forceDisallow(){vl.forceDisallow_=!0}static isAvailable(){return vl.forceAllow_?!0:!vl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nV()&&!rV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=on(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=VS(t),s=pR(r,TV);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[EV]="t",r[RR]=e,r[AR]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=on(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class U_{constructor(e,t,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=X3(),window[mV+this.uniqueCallbackIdentifier]=e,window[gV+this.uniqueCallbackIdentifier]=t,this.myIFrame=U_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){yn("frame writing exception"),c.stack&&yn(c.stack),yn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[RR]=this.myID,e[AR]=this.myPW,e[bR]=this.currentSerial;let t=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+PR+r.length<=NR;){const l=this.pendingSegs.shift();r=r+"&"+vV+s+"="+l.seg+"&"+_V+s+"="+l.ts+"&"+wV+s+"="+l.d,s++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(r,Math.floor(xV)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=16384,CV=45e3;let Uf=null;typeof MozWebSocket<"u"?Uf=MozWebSocket:typeof WebSocket<"u"&&(Uf=WebSocket);class zr{constructor(e,t,r,s,o,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dd(this.connId),this.stats_=F_(t),this.connURL=zr.connectionURL_(t,l,c,s,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,s,o){const l={};return l[gR]=V_,typeof location<"u"&&location.hostname&&wR.test(location.hostname)&&(l[vR]=_R),t&&(l[yR]=t),r&&(l[ER]=r),s&&(l[Qy]=s),o&&(l[TR]=o),CR(e,xR,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sa.set("previous_websocket_failure",!0);try{let r;Hk(),this.mySock=new Uf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){zr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Uf!==null&&!zr.forceDisallow_}static previouslyFailed(){return sa.isInMemoryStorage||sa.get("previous_websocket_failure")===!0}markConnectionHealthy(){sa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=Pu(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=on(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=pR(t,SV);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CV))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zr.responsesRequiredToBeHealthy=2;zr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{static get ALL_TRANSPORTS(){return[vl,zr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=zr&&zr.isAvailable();let r=t&&!zr.previouslyFailed();if(e.webSocketOnly&&(t||or("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zr];else{const s=this.transports_=[];for(const o of Bu.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Bu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=6e4,AV=5e3,bV=10*1024,NV=100*1024,Gg="t",$x="d",PV="s",Bx="r",kV="e",zx="o",Wx="a",qx="n",Hx="p",OV="h";class DV{constructor(e,t,r,s,o,l,c,d,h,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dd("c:"+this.id+":"),this.transportManager_=new Bu(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Tu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>NV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Gg in e){const t=e[Gg];t===Wx?this.upgradeIfSecondaryHealthy_():t===Bx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===zx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=tu("t",e),r=tu("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=tu("t",e),r=tu("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=tu(Gg,e);if($x in e){const r=e[$x];if(t===OV){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===qx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===PV?this.onConnectionShutdown_(r):t===Bx?this.onReset_(r):t===kV?Gy("Server Error: "+r):t===zx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gy("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),V_!==r&&or("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Tu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(AV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{put(e,t,r,s){}merge(e,t,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const s=this.getInitialEvent(e);s&&t.apply(r,s)}off(e,t,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===t&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){he(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends OR{static getInstance(){return new $f}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Uv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=32,Gx=768;class pt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function nt(){return new pt("")}function Ke(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function yo(n){return n.pieces_.length-n.pieceNum_}function ht(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new pt(n.pieces_,e)}function DR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function LV(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function LR(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function jR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new pt(e,0)}function Zt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof pt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&t.push(r[s])}return new pt(t,0)}function We(n){return n.pieceNum_>=n.pieces_.length}function wr(n,e){const t=Ke(n),r=Ke(e);if(t===null)return e;if(t===r)return wr(ht(n),ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function MR(n,e){if(yo(n)!==yo(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Wr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(yo(n)>yo(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class jV{constructor(e,t){this.errorPrefix_=t,this.parts_=LR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lp(this.parts_[r]);VR(this)}}function MV(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=lp(e),VR(n)}function VV(n){const e=n.parts_.pop();n.byteLength_-=lp(e),n.parts_.length>0&&(n.byteLength_-=1)}function VR(n){if(n.byteLength_>Gx)throw new Error(n.errorPrefix_+"has a key path longer than "+Gx+" bytes ("+n.byteLength_+").");if(n.parts_.length>Kx)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kx+") or object contains a cycle "+ta(n))}function ta(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends OR{static getInstance(){return new $_}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=1e3,FV=60*5*1e3,Qx=30*1e3,UV=1.3,$V=3e4,BV="server_kill",Yx=3;class ti extends kR{constructor(e,t,r,s,o,l,c,d){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=ti.nextPersistentConnectionId_++,this.log_=dd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nu,this.maxReconnectDelay_=FV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&$f.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const s=++this.requestNumber_,o={r:s,a:e,b:t};this.log_(on(o)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const t=new Vv,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,r,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:t,query:e,tag:r};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const d=c.d,h=c.s;ti.warnOnListenWarnings_(d,t),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&pi(e,"w")){const r=bl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();or(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||eO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Zk(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,t)}sendUnlisten_(e,t,r,s){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";s&&(o.q=r,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,s){const o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,t,r,s){this.putInternal("p",e,t,r,s)}merge(e,t,r,s){this.putInternal("m",e,t,r,s)}putInternal(e,t,r,s,o){this.initConnection_();const l={p:t,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+on(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Gy("Unrecognized action received from server: "+on(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$V&&(this.reconnectDelay_=nu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*UV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ti.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const d=function(){c?c.close():(l=!0,r())},h=function(v){he(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(v)};this.realtime_={close:d,sendRequest:h};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,c=new DV(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,I=>{or(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(BV)},o))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&or(v),d())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_y(this.interruptReasons_)&&(this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(o=>M_(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const r=new pt(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(t),o.delete(t),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,t){yn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yx&&(this.reconnectDelay_=Qx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){yn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+uR.replace(/\./g,"-")]=1,Uv()?e["framework.cordova"]=1:zS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$f.getInstance().currentlyOnline();return _y(this.interruptReasons_)&&e}}ti.nextPersistentConnectionId_=0;ti.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ge(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ge(Ml,e),s=new Ge(Ml,t);return this.compare(r,s)!==0}minPost(){return Ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh;class FR extends Vp{static get __EMPTY_NODE(){return qh}static set __EMPTY_NODE(e){qh=e}compare(e,t){return tc(e.name,t.name)}isDefinedOn(e){throw Kl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ge.MIN}maxPost(){return new Ge(fa,qh)}makePost(e,t){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new Ge(e,qh)}toString(){return".key"}}const Cl=new FR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Jt{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Jt.RED,this.left=s??zn.EMPTY_NODE,this.right=o??zn.EMPTY_NODE}copy(e,t,r,s,o){return new Jt(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return zn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,s;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return zn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Jt.RED=!0;Jt.BLACK=!1;class zV{copy(e,t,r,s,o){return this}insert(e,t,r){return new Jt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class zn{constructor(e,t=zn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new zn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Jt.BLACK,null,null))}remove(e){return new zn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Jt.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,s=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Hh(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Hh(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Hh(this.root_,null,this.comparator_,!0,e)}}zn.EMPTY_NODE=new zV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(n,e){return tc(n.name,e.name)}function B_(n,e){return tc(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy;function qV(n){Yy=n}const UR=function(n){return typeof n=="number"?"number:"+mR(n):"string:"+n},$R=function(n){if(n.isLeafNode()){const e=n.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pi(e,".sv"),"Priority must be a string or number.")}else he(n===Yy||n.isEmpty(),"priority of unexpected type.");he(n===Yy||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xx;class Yt{static set __childrenNodeConstructor(e){Xx=e}static get __childrenNodeConstructor(){return Xx}constructor(e,t=Yt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$R(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Yt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Yt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return We(e)?this:Ke(e)===".priority"?this.priorityNode_:Yt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Yt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Ke(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(he(r!==".priority"||yo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Yt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ht(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+UR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=mR(this.value_):e+=this.value_,this.lazyHash_=hR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Yt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Yt.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,s=Yt.VALUE_TYPE_ORDER.indexOf(t),o=Yt.VALUE_TYPE_ORDER.indexOf(r);return he(s>=0,"Unknown leaf type: "+t),he(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Yt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BR,zR;function HV(n){BR=n}function KV(n){zR=n}class GV extends Vp{compare(e,t){const r=e.node.getPriority(),s=t.node.getPriority(),o=r.compareTo(s);return o===0?tc(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ge.MIN}maxPost(){return new Ge(fa,new Yt("[PRIORITY-POST]",zR))}makePost(e,t){const r=BR(e);return new Ge(t,new Yt("[PRIORITY-POST]",r))}toString(){return".priority"}}const En=new GV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=Math.log(2);class YV{constructor(e){const t=o=>parseInt(Math.log(o)/QV,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bf=function(n,e,t,r){n.sort(e);const s=function(d,h){const g=h-d;let v,E;if(g===0)return null;if(g===1)return v=n[d],E=t?t(v):v,new Jt(E,v.node,Jt.BLACK,null,null);{const I=parseInt(g/2,10)+d,C=s(d,I),A=s(I+1,h);return v=n[I],E=t?t(v):v,new Jt(E,v.node,Jt.BLACK,C,A)}},o=function(d){let h=null,g=null,v=n.length;const E=function(C,A){const x=v-C,O=v;v-=C;const F=s(x+1,O),U=n[x],B=t?t(U):U;I(new Jt(B,U.node,A,null,F))},I=function(C){h?(h.left=C,h=C):(g=C,h=C)};for(let C=0;C<d.count;++C){const A=d.nextBitIsOne(),x=Math.pow(2,d.count-(C+1));A?E(x,Jt.BLACK):(E(x,Jt.BLACK),E(x,Jt.RED))}return g},l=new YV(n.length),c=o(l);return new zn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg;const fl={};class Js{static get Default(){return he(fl&&En,"ChildrenNode.ts has not been loaded"),Qg=Qg||new Js({".priority":fl},{".priority":En}),Qg}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=bl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof zn?t:null}hasIndex(e){return pi(this.indexSet_,e.toString())}addIndex(e,t){he(e!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=t.getIterator(Ge.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let c;s?c=Bf(r,e.getCompare()):c=fl;const d=e.toString(),h=Object.assign({},this.indexSet_);h[d]=e;const g=Object.assign({},this.indexes_);return g[d]=c,new Js(g,h)}addToIndexes(e,t){const r=Tf(this.indexes_,(s,o)=>{const l=bl(this.indexSet_,o);if(he(l,"Missing index implementation for "+o),s===fl)if(l.isDefinedOn(e.node)){const c=[],d=t.getIterator(Ge.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&c.push(h),h=d.getNext();return c.push(e),Bf(c,l.getCompare())}else return fl;else{const c=t.get(e.name);let d=s;return c&&(d=d.remove(new Ge(e.name,c))),d.insert(e,e.node)}});return new Js(r,this.indexSet_)}removeFromIndexes(e,t){const r=Tf(this.indexes_,s=>{if(s===fl)return s;{const o=t.get(e.name);return o?s.remove(new Ge(e.name,o)):s}});return new Js(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class Je{static get EMPTY_NODE(){return ru||(ru=new Je(new zn(B_),null,Js.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$R(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ru}updatePriority(e){return this.children_.isEmpty()?this:new Je(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?ru:t}}getChild(e){const t=Ke(e);return t===null?this:this.getImmediateChild(t).getChild(ht(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(he(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new Ge(e,t);let s,o;t.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?ru:this.priorityNode_;return new Je(s,l,o)}}updateChild(e,t){const r=Ke(e);if(r===null)return t;{he(Ke(e)!==".priority"||yo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ht(e),t);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,s=0,o=!0;if(this.forEachChild(En,(l,c)=>{t[l]=c.val(e),r++,o&&Je.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*r){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+UR(this.getPriority().val())+":"),this.forEachChild(En,(t,r)=>{const s=r.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":hR(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Ge(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ge(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ge(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ge.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ge.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fd?-1:0}withIndex(e){if(e===Cl||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Je(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Cl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(En),s=t.getIterator(En);let o=r.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Cl?null:this.indexMap_.get(e.toString())}}Je.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class XV extends Je{constructor(){super(new zn(B_),Je.EMPTY_NODE,Js.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Je.EMPTY_NODE}isEmpty(){return!1}}const fd=new XV;Object.defineProperties(Ge,{MIN:{value:new Ge(Ml,Je.EMPTY_NODE)},MAX:{value:new Ge(fa,fd)}});FR.__EMPTY_NODE=Je.EMPTY_NODE;Yt.__childrenNodeConstructor=Je;qV(fd);KV(fd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=!0;function vn(n,e=null){if(n===null)return Je.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Yt(t,vn(e))}if(!(n instanceof Array)&&JV){const t=[];let r=!1;if(Ir(n,(l,c)=>{if(l.substring(0,1)!=="."){const d=vn(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),t.push(new Ge(l,d)))}}),t.length===0)return Je.EMPTY_NODE;const o=Bf(t,WV,l=>l.name,B_);if(r){const l=Bf(t,En.getCompare());return new Je(o,vn(e),new Js({".priority":l},{".priority":En}))}else return new Je(o,vn(e),Js.Default)}else{let t=Je.EMPTY_NODE;return Ir(n,(r,s)=>{if(pi(n,r)&&r.substring(0,1)!=="."){const o=vn(s);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(vn(e))}}HV(vn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV extends Vp{constructor(e){super(),this.indexPath_=e,he(!We(e)&&Ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),s=this.extractChild(t.node),o=r.compareTo(s);return o===0?tc(e.name,t.name):o}makePost(e,t){const r=vn(e),s=Je.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ge(t,s)}maxPost(){const e=Je.EMPTY_NODE.updateChild(this.indexPath_,fd);return new Ge(fa,e)}toString(){return LR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF extends Vp{compare(e,t){const r=e.node.compareTo(t.node);return r===0?tc(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ge.MIN}maxPost(){return Ge.MAX}makePost(e,t){const r=vn(e);return new Ge(t,r)}toString(){return".value"}}const tF=new eF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(n){return{type:"value",snapshotNode:n}}function rF(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function sF(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Jx(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function iF(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=En}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ml}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===En}copy(){const e=new z_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Zx(n){const e={};if(n.isDefault())return e;let t;if(n.index_===En?t="$priority":n.index_===tF?t="$value":n.index_===Cl?t="$key":(he(n.index_ instanceof ZV,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=on(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=on(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+on(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=on(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+on(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function eI(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==En&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends kR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=dd("p:rest:"),this.listens_={}}listen(e,t,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=zf.getListenId_(e,r),c={};this.listens_[l]=c;const d=Zx(e._queryParams);this.restRequest_(o+".json",d,(h,g)=>{let v=g;if(h===404&&(v=null,h=null),h===null&&this.onDataUpdate_(o,v,!1,r),bl(this.listens_,l)===c){let E;h?h===401?E="permission_denied":E="rest_error:"+h:E="ok",s(E,null)}})}unlisten(e,t){const r=zf.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Zx(e._queryParams),r=e._path.toString(),s=new Vv;return this.restRequest_(r+".json",t,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Gl(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Pu(c.responseText)}catch{or("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&or("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.rootNode_=Je.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){return{value:null,children:new Map}}function WR(n,e,t){if(We(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=Ke(e);n.children.has(r)||n.children.set(r,Wf());const s=n.children.get(r);e=ht(e),WR(s,e,t)}}function Xy(n,e,t){n.value!==null?t(e,n.value):aF(n,(r,s)=>{const o=new pt(e.toString()+"/"+r);Xy(s,o,t)})}function aF(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ir(this.last_,(r,s)=>{t[r]=t[r]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=10*1e3,cF=30*1e3,uF=5*60*1e3;class dF{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new lF(e);const r=tI+(cF-tI)*Math.random();Tu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Ir(e,(s,o)=>{o>0&&pi(this.statsToReport_,s)&&(t[s]=o,r=!0)}),r&&this.server_.reportStats(t),Tu(this.reportStats_.bind(this),Math.floor(Math.random()*2*uF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gs||(gs={}));function qR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function HR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function KR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=gs.ACK_USER_WRITE,this.source=qR()}operationForChild(e){if(We(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new pt(e));return new qf(nt(),t,this.revert)}}else return he(Ke(this.path)===e,"operationForChild called for unrelated child."),new qf(ht(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=gs.OVERWRITE}operationForChild(e){return We(this.path)?new pa(this.source,nt(),this.snap.getImmediateChild(e)):new pa(this.source,ht(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=gs.MERGE}operationForChild(e){if(We(this.path)){const t=this.children.subtree(new pt(e));return t.isEmpty()?null:t.value?new pa(this.source,nt(),t.value):new zu(this.source,nt(),t)}else return he(Ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zu(this.source,ht(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(We(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ke(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function hF(n,e,t,r){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(iF(l.childName,l.snapshotNode))}),su(n,s,"child_removed",e,r,t),su(n,s,"child_added",e,r,t),su(n,s,"child_moved",o,r,t),su(n,s,"child_changed",e,r,t),su(n,s,"value",e,r,t),s}function su(n,e,t,r,s,o){const l=r.filter(c=>c.type===t);l.sort((c,d)=>pF(n,c,d)),l.forEach(c=>{const d=fF(n,c,o);s.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(d,n.query_))})})}function fF(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function pF(n,e,t){if(e.childName==null||t.childName==null)throw Kl("Should only compare child_ events.");const r=new Ge(e.childName,e.snapshotNode),s=new Ge(t.childName,t.snapshotNode);return n.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n,e){return{eventCache:n,serverCache:e}}function xu(n,e,t,r){return GR(new W_(e,t,r),n.serverCache)}function QR(n,e,t,r){return GR(n.eventCache,new W_(e,t,r))}function Jy(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ma(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg;const mF=()=>(Yg||(Yg=new zn(tV)),Yg);class dt{static fromObject(e){let t=new dt(null);return Ir(e,(r,s)=>{t=t.set(new pt(r),s)}),t}constructor(e,t=mF()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:nt(),value:this.value};if(We(e))return null;{const r=Ke(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(ht(e),t);return o!=null?{path:Zt(new pt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(We(e))return this;{const t=Ke(e),r=this.children.get(t);return r!==null?r.subtree(ht(e)):new dt(null)}}set(e,t){if(We(e))return new dt(t,this.children);{const r=Ke(e),o=(this.children.get(r)||new dt(null)).set(ht(e),t),l=this.children.insert(r,o);return new dt(this.value,l)}}remove(e){if(We(e))return this.children.isEmpty()?new dt(null):new dt(null,this.children);{const t=Ke(e),r=this.children.get(t);if(r){const s=r.remove(ht(e));let o;return s.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,s),this.value===null&&o.isEmpty()?new dt(null):new dt(this.value,o)}else return this}}get(e){if(We(e))return this.value;{const t=Ke(e),r=this.children.get(t);return r?r.get(ht(e)):null}}setTree(e,t){if(We(e))return t;{const r=Ke(e),o=(this.children.get(r)||new dt(null)).setTree(ht(e),t);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new dt(this.value,l)}}fold(e){return this.fold_(nt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(Zt(e,s),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,nt(),t)}findOnPath_(e,t,r){const s=this.value?r(t,this.value):!1;if(s)return s;if(We(e))return null;{const o=Ke(e),l=this.children.get(o);return l?l.findOnPath_(ht(e),Zt(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,nt(),t)}foreachOnPath_(e,t,r){if(We(e))return this;{this.value&&r(t,this.value);const s=Ke(e),o=this.children.get(s);return o?o.foreachOnPath_(ht(e),Zt(t,s),r):new dt(null)}}foreach(e){this.foreach_(nt(),e)}foreach_(e,t){this.children.inorderTraversal((r,s)=>{s.foreach_(Zt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.writeTree_=e}static empty(){return new Kr(new dt(null))}}function Iu(n,e,t){if(We(e))return new Kr(new dt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const l=wr(s,e);return o=o.updateChild(l,t),new Kr(n.writeTree_.set(s,o))}else{const s=new dt(t),o=n.writeTree_.setTree(e,s);return new Kr(o)}}}function nI(n,e,t){let r=n;return Ir(t,(s,o)=>{r=Iu(r,Zt(e,s),o)}),r}function rI(n,e){if(We(e))return Kr.empty();{const t=n.writeTree_.setTree(e,new dt(null));return new Kr(t)}}function Zy(n,e){return Ta(n,e)!=null}function Ta(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(wr(t.path,e)):null}function sI(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(En,(r,s)=>{e.push(new Ge(r,s))}):n.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ge(r,s.value))}),e}function io(n,e){if(We(e))return n;{const t=Ta(n,e);return t!=null?new Kr(new dt(t)):new Kr(n.writeTree_.subtree(e))}}function ev(n){return n.writeTree_.isEmpty()}function Vl(n,e){return YR(nt(),n.writeTree_,e)}function YR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(he(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=YR(Zt(n,s),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Zt(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,e){return nA(e,n)}function gF(n,e,t,r,s){he(r>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:s}),s&&(n.visibleWrites=Iu(n.visibleWrites,e,t)),n.lastWriteId=r}function yF(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function vF(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);he(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let s=r.visible,o=!1,l=n.allWrites.length-1;for(;s&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&_F(c,r.path)?s=!1:Wr(r.path,c.path)&&(o=!0)),l--}if(s){if(o)return wF(n),!0;if(r.snap)n.visibleWrites=rI(n.visibleWrites,r.path);else{const c=r.children;Ir(c,d=>{n.visibleWrites=rI(n.visibleWrites,Zt(r.path,d))})}return!0}else return!1}function _F(n,e){if(n.snap)return Wr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Wr(Zt(n.path,t),e))return!0;return!1}function wF(n){n.visibleWrites=JR(n.allWrites,EF,nt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function EF(n){return n.visible}function JR(n,e,t){let r=Kr.empty();for(let s=0;s<n.length;++s){const o=n[s];if(e(o)){const l=o.path;let c;if(o.snap)Wr(t,l)?(c=wr(t,l),r=Iu(r,c,o.snap)):Wr(l,t)&&(c=wr(l,t),r=Iu(r,nt(),o.snap.getChild(c)));else if(o.children){if(Wr(t,l))c=wr(t,l),r=nI(r,c,o.children);else if(Wr(l,t))if(c=wr(l,t),We(c))r=nI(r,nt(),o.children);else{const d=bl(o.children,Ke(c));if(d){const h=d.getChild(ht(c));r=Iu(r,nt(),h)}}}else throw Kl("WriteRecord should have .snap or .children")}}return r}function ZR(n,e,t,r,s){if(!r&&!s){const o=Ta(n.visibleWrites,e);if(o!=null)return o;{const l=io(n.visibleWrites,e);if(ev(l))return t;if(t==null&&!Zy(l,nt()))return null;{const c=t||Je.EMPTY_NODE;return Vl(l,c)}}}else{const o=io(n.visibleWrites,e);if(!s&&ev(o))return t;if(!s&&t==null&&!Zy(o,nt()))return null;{const l=function(h){return(h.visible||s)&&(!r||!~r.indexOf(h.writeId))&&(Wr(h.path,e)||Wr(e,h.path))},c=JR(n.allWrites,l,e),d=t||Je.EMPTY_NODE;return Vl(c,d)}}}function TF(n,e,t){let r=Je.EMPTY_NODE;const s=Ta(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(En,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(t){const o=io(n.visibleWrites,e);return t.forEachChild(En,(l,c)=>{const d=Vl(io(o,new pt(l)),c);r=r.updateImmediateChild(l,d)}),sI(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=io(n.visibleWrites,e);return sI(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function xF(n,e,t,r,s){he(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=Zt(e,t);if(Zy(n.visibleWrites,o))return null;{const l=io(n.visibleWrites,o);return ev(l)?s.getChild(t):Vl(l,s.getChild(t))}}function IF(n,e,t,r){const s=Zt(e,t),o=Ta(n.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(t)){const l=io(n.visibleWrites,s);return Vl(l,r.getNode().getImmediateChild(t))}else return null}function SF(n,e){return Ta(n.visibleWrites,e)}function CF(n,e,t,r,s,o,l){let c;const d=io(n.visibleWrites,e),h=Ta(d,nt());if(h!=null)c=h;else if(t!=null)c=Vl(d,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],v=l.getCompare(),E=o?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let I=E.getNext();for(;I&&g.length<s;)v(I,r)!==0&&g.push(I),I=E.getNext();return g}else return[]}function RF(){return{visibleWrites:Kr.empty(),allWrites:[],lastWriteId:-1}}function tv(n,e,t,r){return ZR(n.writeTree,n.treePath,e,t,r)}function eA(n,e){return TF(n.writeTree,n.treePath,e)}function iI(n,e,t,r){return xF(n.writeTree,n.treePath,e,t,r)}function Hf(n,e){return SF(n.writeTree,Zt(n.treePath,e))}function AF(n,e,t,r,s,o){return CF(n.writeTree,n.treePath,e,t,r,s,o)}function q_(n,e,t){return IF(n.writeTree,n.treePath,e,t)}function tA(n,e){return nA(Zt(n.treePath,e),n.writeTree)}function nA(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;he(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),he(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,Jx(r,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,sF(r,s.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,rF(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,Jx(r,e.snapshotNode,s.oldSnap));else throw Kl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const rA=new NF;class H_{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new W_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q_(this.writes_,e,r)}}getChildAfterChild(e,t,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ma(this.viewCache_),o=AF(this.writes_,s,t,1,r,e);return o.length===0?null:o[0]}}function PF(n,e){he(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function kF(n,e,t,r,s){const o=new bF;let l,c;if(t.type===gs.OVERWRITE){const h=t;h.source.fromUser?l=nv(n,e,h.path,h.snap,r,s,o):(he(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!We(h.path),l=Kf(n,e,h.path,h.snap,r,s,c,o))}else if(t.type===gs.MERGE){const h=t;h.source.fromUser?l=DF(n,e,h.path,h.children,r,s,o):(he(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),l=rv(n,e,h.path,h.children,r,s,c,o))}else if(t.type===gs.ACK_USER_WRITE){const h=t;h.revert?l=MF(n,e,h.path,r,s,o):l=LF(n,e,h.path,h.affectedTree,r,s,o)}else if(t.type===gs.LISTEN_COMPLETE)l=jF(n,e,t.path,r,o);else throw Kl("Unknown operation type: "+t.type);const d=o.getChanges();return OF(e,l,d),{viewCache:l,changes:d}}function OF(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Jy(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(nF(Jy(e)))}}function sA(n,e,t,r,s,o){const l=e.eventCache;if(Hf(r,t)!=null)return e;{let c,d;if(We(t))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=ma(e),g=h instanceof Je?h:Je.EMPTY_NODE,v=eA(r,g);c=n.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{const h=tv(r,ma(e));c=n.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{const h=Ke(t);if(h===".priority"){he(yo(t)===1,"Can't have a priority with additional path components");const g=l.getNode();d=e.serverCache.getNode();const v=iI(r,t,g,d);v!=null?c=n.filter.updatePriority(g,v):c=l.getNode()}else{const g=ht(t);let v;if(l.isCompleteForChild(h)){d=e.serverCache.getNode();const E=iI(r,t,l.getNode(),d);E!=null?v=l.getNode().getImmediateChild(h).updateChild(g,E):v=l.getNode().getImmediateChild(h)}else v=q_(r,h,e.serverCache);v!=null?c=n.filter.updateChild(l.getNode(),h,v,g,s,o):c=l.getNode()}}return xu(e,c,l.isFullyInitialized()||We(t),n.filter.filtersNodes())}}function Kf(n,e,t,r,s,o,l,c){const d=e.serverCache;let h;const g=l?n.filter:n.filter.getIndexedFilter();if(We(t))h=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const I=d.getNode().updateChild(t,r);h=g.updateFullNode(d.getNode(),I,null)}else{const I=Ke(t);if(!d.isCompleteForPath(t)&&yo(t)>1)return e;const C=ht(t),x=d.getNode().getImmediateChild(I).updateChild(C,r);I===".priority"?h=g.updatePriority(d.getNode(),x):h=g.updateChild(d.getNode(),I,x,C,rA,null)}const v=QR(e,h,d.isFullyInitialized()||We(t),g.filtersNodes()),E=new H_(s,v,o);return sA(n,v,t,s,E,c)}function nv(n,e,t,r,s,o,l){const c=e.eventCache;let d,h;const g=new H_(s,e,o);if(We(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,l),d=xu(e,h,!0,n.filter.filtersNodes());else{const v=Ke(t);if(v===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),r),d=xu(e,h,c.isFullyInitialized(),c.isFiltered());else{const E=ht(t),I=c.getNode().getImmediateChild(v);let C;if(We(E))C=r;else{const A=g.getCompleteChild(v);A!=null?DR(E)===".priority"&&A.getChild(jR(E)).isEmpty()?C=A:C=A.updateChild(E,r):C=Je.EMPTY_NODE}if(I.equals(C))d=e;else{const A=n.filter.updateChild(c.getNode(),v,C,E,g,l);d=xu(e,A,c.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function oI(n,e){return n.eventCache.isCompleteForChild(e)}function DF(n,e,t,r,s,o,l){let c=e;return r.foreach((d,h)=>{const g=Zt(t,d);oI(e,Ke(g))&&(c=nv(n,c,g,h,s,o,l))}),r.foreach((d,h)=>{const g=Zt(t,d);oI(e,Ke(g))||(c=nv(n,c,g,h,s,o,l))}),c}function aI(n,e,t){return t.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function rv(n,e,t,r,s,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;We(t)?h=r:h=new dt(null).setTree(t,r);const g=e.serverCache.getNode();return h.children.inorderTraversal((v,E)=>{if(g.hasChild(v)){const I=e.serverCache.getNode().getImmediateChild(v),C=aI(n,I,E);d=Kf(n,d,new pt(v),C,s,o,l,c)}}),h.children.inorderTraversal((v,E)=>{const I=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!g.hasChild(v)&&!I){const C=e.serverCache.getNode().getImmediateChild(v),A=aI(n,C,E);d=Kf(n,d,new pt(v),A,s,o,l,c)}}),d}function LF(n,e,t,r,s,o,l){if(Hf(s,t)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(We(t)&&d.isFullyInitialized()||d.isCompleteForPath(t))return Kf(n,e,t,d.getNode().getChild(t),s,o,c,l);if(We(t)){let h=new dt(null);return d.getNode().forEachChild(Cl,(g,v)=>{h=h.set(new pt(g),v)}),rv(n,e,t,h,s,o,c,l)}else return e}else{let h=new dt(null);return r.foreach((g,v)=>{const E=Zt(t,g);d.isCompleteForPath(E)&&(h=h.set(g,d.getNode().getChild(E)))}),rv(n,e,t,h,s,o,c,l)}}function jF(n,e,t,r,s){const o=e.serverCache,l=QR(e,o.getNode(),o.isFullyInitialized()||We(t),o.isFiltered());return sA(n,l,t,r,rA,s)}function MF(n,e,t,r,s,o){let l;if(Hf(r,t)!=null)return e;{const c=new H_(r,e,s),d=e.eventCache.getNode();let h;if(We(t)||Ke(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=tv(r,ma(e));else{const v=e.serverCache.getNode();he(v instanceof Je,"serverChildren would be complete if leaf node"),g=eA(r,v)}g=g,h=n.filter.updateFullNode(d,g,o)}else{const g=Ke(t);let v=q_(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=d.getImmediateChild(g)),v!=null?h=n.filter.updateChild(d,g,v,ht(t),c,o):e.eventCache.getNode().hasChild(g)?h=n.filter.updateChild(d,g,Je.EMPTY_NODE,ht(t),c,o):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=tv(r,ma(e)),l.isLeafNode()&&(h=n.filter.updateFullNode(h,l,o)))}return l=e.serverCache.isFullyInitialized()||Hf(r,nt())!=null,xu(e,h,l,n.filter.filtersNodes())}}function VF(n,e){const t=ma(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!We(e)&&!t.getImmediateChild(Ke(e)).isEmpty())?t.getChild(e):null}function lI(n,e,t,r){e.type===gs.MERGE&&e.source.queryId!==null&&(he(ma(n.viewCache_),"We should always have a full cache before handling merges"),he(Jy(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=kF(n.processor_,s,e,t,r);return PF(n.processor_,o.viewCache),he(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,FF(n,o.changes,o.viewCache.eventCache.getNode())}function FF(n,e,t,r){const s=n.eventRegistrations_;return hF(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cI;function UF(n){he(!cI,"__referenceConstructor has already been defined"),cI=n}function K_(n,e,t,r){const s=e.source.queryId;if(s!==null){const o=n.views.get(s);return he(o!=null,"SyncTree gave us an op for an invalid query."),lI(o,e,t,r)}else{let o=[];for(const l of n.views.values())o=o.concat(lI(l,e,t,r));return o}}function G_(n,e){let t=null;for(const r of n.views.values())t=t||VF(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uI;function $F(n){he(!uI,"__referenceConstructor has already been defined"),uI=n}class dI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dt(null),this.pendingWriteTree_=RF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BF(n,e,t,r,s){return gF(n.pendingWriteTree_,e,t,r,s),s?Up(n,new pa(qR(),e,t)):[]}function _l(n,e,t=!1){const r=yF(n.pendingWriteTree_,e);if(vF(n.pendingWriteTree_,e)){let o=new dt(null);return r.snap!=null?o=o.set(nt(),!0):Ir(r.children,l=>{o=o.set(new pt(l),!0)}),Up(n,new qf(r.path,o,t))}else return[]}function Fp(n,e,t){return Up(n,new pa(HR(),e,t))}function zF(n,e,t){const r=dt.fromObject(t);return Up(n,new zu(HR(),e,r))}function WF(n,e,t,r){const s=lA(n,r);if(s!=null){const o=cA(s),l=o.path,c=o.queryId,d=wr(l,e),h=new pa(KR(c),d,t);return uA(n,l,h)}else return[]}function qF(n,e,t,r){const s=lA(n,r);if(s){const o=cA(s),l=o.path,c=o.queryId,d=wr(l,e),h=dt.fromObject(t),g=new zu(KR(c),d,h);return uA(n,l,g)}else return[]}function iA(n,e,t){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,c)=>{const d=wr(l,e),h=G_(c,d);if(h)return h});return ZR(s,e,o,t,!0)}function Up(n,e){return oA(e,n.syncPointTree_,null,XR(n.pendingWriteTree_,nt()))}function oA(n,e,t,r){if(We(n.path))return aA(n,e,t,r);{const s=e.get(nt());t==null&&s!=null&&(t=G_(s,nt()));let o=[];const l=Ke(n.path),c=n.operationForChild(l),d=e.children.get(l);if(d&&c){const h=t?t.getImmediateChild(l):null,g=tA(r,l);o=o.concat(oA(c,d,h,g))}return s&&(o=o.concat(K_(s,n,r,t))),o}}function aA(n,e,t,r){const s=e.get(nt());t==null&&s!=null&&(t=G_(s,nt()));let o=[];return e.children.inorderTraversal((l,c)=>{const d=t?t.getImmediateChild(l):null,h=tA(r,l),g=n.operationForChild(l);g&&(o=o.concat(aA(g,c,d,h)))}),s&&(o=o.concat(K_(s,n,r,t))),o}function lA(n,e){return n.tagToQueryMap.get(e)}function cA(n){const e=n.indexOf("$");return he(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new pt(n.substr(0,e))}}function uA(n,e,t){const r=n.syncPointTree_.get(e);he(r,"Missing sync point for query tag that we're tracking");const s=XR(n.pendingWriteTree_,e);return K_(r,t,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Q_(t)}node(){return this.node_}}class Y_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Zt(this.path_,e);return new Y_(this.syncTree_,t)}node(){return iA(this.syncTree_,this.path_)}}const HF=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},hI=function(n,e,t){if(!n||typeof n!="object")return n;if(he(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return KF(n[".sv"],e,t);if(typeof n[".sv"]=="object")return GF(n[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},KF=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:he(!1,"Unexpected server value: "+n)}},GF=function(n,e,t){n.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&he(!1,"Unexpected increment value: "+r);const s=e.node();if(he(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},QF=function(n,e,t,r){return X_(e,new Y_(t,n),r)},YF=function(n,e,t){return X_(n,new Q_(e),t)};function X_(n,e,t){const r=n.getPriority().val(),s=hI(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,c=hI(l.getValue(),e,t);return c!==l.getValue()||s!==l.getPriority().val()?new Yt(c,vn(s)):n}else{const l=n;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new Yt(s))),l.forEachChild(En,(c,d)=>{const h=X_(d,e.getImmediateChild(c),t);h!==d&&(o=o.updateImmediateChild(c,h))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Z_(n,e){let t=e instanceof pt?e:new pt(e),r=n,s=Ke(t);for(;s!==null;){const o=bl(r.node.children,s)||{children:{},childCount:0};r=new J_(s,r,o),t=ht(t),s=Ke(t)}return r}function nc(n){return n.node.value}function dA(n,e){n.node.value=e,sv(n)}function hA(n){return n.node.childCount>0}function XF(n){return nc(n)===void 0&&!hA(n)}function $p(n,e){Ir(n.node.children,(t,r)=>{e(new J_(t,n,r))})}function fA(n,e,t,r){t&&e(n),$p(n,s=>{fA(s,e,!0)})}function JF(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function pd(n){return new pt(n.parent===null?n.name:pd(n.parent)+"/"+n.name)}function sv(n){n.parent!==null&&ZF(n.parent,n.name,n)}function ZF(n,e,t){const r=XF(t),s=pi(n.node.children,e);r&&s?(delete n.node.children[e],n.node.childCount--,sv(n)):!r&&!s&&(n.node.children[e]=t.node,n.node.childCount++,sv(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=/[\[\].#$\/\u0000-\u001F\u007F]/,t5=/[\[\].#$\u0000-\u001F\u007F]/,Xg=10*1024*1024,pA=function(n){return typeof n=="string"&&n.length!==0&&!e5.test(n)},n5=function(n){return typeof n=="string"&&n.length!==0&&!t5.test(n)},r5=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),n5(n)},mA=function(n,e,t){const r=t instanceof pt?new jV(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ta(r));if(typeof e=="function")throw new Error(n+"contains a function "+ta(r)+" with contents = "+e.toString());if(fR(e))throw new Error(n+"contains "+e.toString()+" "+ta(r));if(typeof e=="string"&&e.length>Xg/3&&lp(e)>Xg)throw new Error(n+"contains a string greater than "+Xg+" utf8 bytes "+ta(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Ir(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!pA(l)))throw new Error(n+" contains an invalid key ("+l+") "+ta(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);MV(r,l),mA(n,c,r),VV(r)}),s&&o)throw new Error(n+' contains ".value" child '+ta(r)+" in addition to actual children.")}},s5=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!pA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!r5(t))throw new Error(iO(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function o5(n,e){let t=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();t!==null&&!MR(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(s)}t&&n.eventLists_.push(t)}function xa(n,e,t){o5(n,t),a5(n,r=>Wr(r,e)||Wr(e,r))}function a5(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const s=n.eventLists_[r];if(s){const o=s.path;e(o)?(l5(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function l5(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Eu&&yn("event: "+t.toString()),hd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="repo_interrupt",u5=25;class d5{constructor(e,t,r,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new i5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wf(),this.transactionQueueTree_=new J_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function h5(n,e,t){if(n.stats_=F_(n.repoInfo_),n.forceRestClient_||aV())n.server_=new zf(n.repoInfo_,(r,s,o,l)=>{fI(n,r,s,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>pI(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{on(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ti(n.repoInfo_,e,(r,s,o,l)=>{fI(n,r,s,o,l)},r=>{pI(n,r)},r=>{p5(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=hV(n.repoInfo_,()=>new dF(n.stats_,n.server_)),n.infoData_=new oF,n.infoSyncTree_=new dI({startListening:(r,s,o,l)=>{let c=[];const d=n.infoData_.getNode(r._path);return d.isEmpty()||(c=Fp(n.infoSyncTree_,r._path,d),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),e0(n,"connected",!1),n.serverSyncTree_=new dI({startListening:(r,s,o,l)=>(n.server_.listen(r,o,s,(c,d)=>{const h=l(c,d);xa(n.eventQueue_,r._path,h)}),[]),stopListening:(r,s)=>{n.server_.unlisten(r,s)}})}function f5(n){const t=n.infoData_.getNode(new pt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function gA(n){return HF({timestamp:f5(n)})}function fI(n,e,t,r,s){n.dataUpdateCount++;const o=new pt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(s)if(r){const d=Tf(t,h=>vn(h));l=qF(n.serverSyncTree_,o,d,s)}else{const d=vn(t);l=WF(n.serverSyncTree_,o,d,s)}else if(r){const d=Tf(t,h=>vn(h));l=zF(n.serverSyncTree_,o,d)}else{const d=vn(t);l=Fp(n.serverSyncTree_,o,d)}let c=o;l.length>0&&(c=n0(n,o)),xa(n.eventQueue_,c,l)}function pI(n,e){e0(n,"connected",e),e===!1&&g5(n)}function p5(n,e){Ir(e,(t,r)=>{e0(n,t,r)})}function e0(n,e,t){const r=new pt("/.info/"+e),s=vn(t);n.infoData_.updateSnapshot(r,s);const o=Fp(n.infoSyncTree_,r,s);xa(n.eventQueue_,r,o)}function m5(n){return n.nextWriteId_++}function g5(n){yA(n,"onDisconnectEvents");const e=gA(n),t=Wf();Xy(n.onDisconnect_,nt(),(s,o)=>{const l=QF(s,o,n.serverSyncTree_,e);WR(t,s,l)});let r=[];Xy(t,nt(),(s,o)=>{r=r.concat(Fp(n.serverSyncTree_,s,o));const l=w5(n,s);n0(n,l)}),n.onDisconnect_=Wf(),xa(n.eventQueue_,nt(),r)}function y5(n){n.persistentConnection_&&n.persistentConnection_.interrupt(c5)}function yA(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),yn(t,...e)}function vA(n,e,t){return iA(n.serverSyncTree_,e,t)||Je.EMPTY_NODE}function t0(n,e=n.transactionQueueTree_){if(e||Bp(n,e),nc(e)){const t=wA(n,e);he(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&v5(n,pd(e),t)}else hA(e)&&$p(e,t=>{t0(n,t)})}function v5(n,e,t){const r=t.map(h=>h.currentWriteId),s=vA(n,e,r);let o=s;const l=s.hash();for(let h=0;h<t.length;h++){const g=t[h];he(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=wr(e,g.path);o=o.updateChild(v,g.currentOutputSnapshotRaw)}const c=o.val(!0),d=e;n.server_.put(d.toString(),c,h=>{yA(n,"transaction put response",{path:d.toString(),status:h});let g=[];if(h==="ok"){const v=[];for(let E=0;E<t.length;E++)t[E].status=2,g=g.concat(_l(n.serverSyncTree_,t[E].currentWriteId)),t[E].onComplete&&v.push(()=>t[E].onComplete(null,!0,t[E].currentOutputSnapshotResolved)),t[E].unwatcher();Bp(n,Z_(n.transactionQueueTree_,e)),t0(n,n.transactionQueueTree_),xa(n.eventQueue_,e,g);for(let E=0;E<v.length;E++)hd(v[E])}else{if(h==="datastale")for(let v=0;v<t.length;v++)t[v].status===3?t[v].status=4:t[v].status=0;else{or("transaction at "+d.toString()+" failed: "+h);for(let v=0;v<t.length;v++)t[v].status=4,t[v].abortReason=h}n0(n,e)}},l)}function n0(n,e){const t=_A(n,e),r=pd(t),s=wA(n,t);return _5(n,s,r),r}function _5(n,e,t){if(e.length===0)return;const r=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],h=wr(t,d.path);let g=!1,v;if(he(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,v=d.abortReason,s=s.concat(_l(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=u5)g=!0,v="maxretry",s=s.concat(_l(n.serverSyncTree_,d.currentWriteId,!0));else{const E=vA(n,d.path,l);d.currentInputSnapshot=E;const I=e[c].update(E.val());if(I!==void 0){mA("transaction failed: Data returned ",I,d.path);let C=vn(I);typeof I=="object"&&I!=null&&pi(I,".priority")||(C=C.updatePriority(E.getPriority()));const x=d.currentWriteId,O=gA(n),F=YF(C,E,O);d.currentOutputSnapshotRaw=C,d.currentOutputSnapshotResolved=F,d.currentWriteId=m5(n),l.splice(l.indexOf(x),1),s=s.concat(BF(n.serverSyncTree_,d.path,F,d.currentWriteId,d.applyLocally)),s=s.concat(_l(n.serverSyncTree_,x,!0))}else g=!0,v="nodata",s=s.concat(_l(n.serverSyncTree_,d.currentWriteId,!0))}xa(n.eventQueue_,t,s),s=[],g&&(e[c].status=2,function(E){setTimeout(E,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(v==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(v),!1,null))))}Bp(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)hd(r[c]);t0(n,n.transactionQueueTree_)}function _A(n,e){let t,r=n.transactionQueueTree_;for(t=Ke(e);t!==null&&nc(r)===void 0;)r=Z_(r,t),e=ht(e),t=Ke(e);return r}function wA(n,e){const t=[];return EA(n,e,t),t.sort((r,s)=>r.order-s.order),t}function EA(n,e,t){const r=nc(e);if(r)for(let s=0;s<r.length;s++)t.push(r[s]);$p(e,s=>{EA(n,s,t)})}function Bp(n,e){const t=nc(e);if(t){let r=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[r]=t[s],r++);t.length=r,dA(e,t.length>0?t:void 0)}$p(e,r=>{Bp(n,r)})}function w5(n,e){const t=pd(_A(n,e)),r=Z_(n.transactionQueueTree_,e);return JF(r,s=>{Jg(n,s)}),Jg(n,r),fA(r,s=>{Jg(n,s)}),t}function Jg(n,e){const t=nc(e);if(t){const r=[];let s=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(he(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(he(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),s=s.concat(_l(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?dA(e,void 0):t.length=o+1,xa(n.eventQueue_,pd(e),s);for(let l=0;l<r.length;l++)hd(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let s=t[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function T5(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):or(`Invalid query segment '${t}' in query '${n}'`)}return e}const mI=function(n,e){const t=x5(n),r=t.namespace;t.domain==="firebase.com"&&ci(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Z3();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new SR(t.host,t.secure,r,s,e,"",r!==t.subdomain),path:new pt(t.pathString)}},x5=function(n){let e="",t="",r="",s="",o="",l=!0,c="https",d=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(c=n.substring(0,h-1),n=n.substring(h+2));let g=n.indexOf("/");g===-1&&(g=n.length);let v=n.indexOf("?");v===-1&&(v=n.length),e=n.substring(0,Math.min(g,v)),g<v&&(s=E5(n.substring(g,v)));const E=T5(n.substring(Math.min(n.length,v)));h=e.indexOf(":"),h>=0?(l=c==="https"||c==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const I=e.slice(0,h);if(I.toLowerCase()==="localhost")t="localhost";else if(I.split(".").length<=2)t=I;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),t=e.substring(C+1),o=r}"ns"in E&&(o=E.ns)}return{host:e,port:d,domain:t,subdomain:r,secure:l,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,r,s){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=s}get key(){return We(this._path)?null:DR(this._path)}get ref(){return new rc(this._repo,this._path)}get _queryIdentifier(){const e=eI(this._queryParams),t=M_(e);return t==="{}"?"default":t}get _queryObject(){return eI(this._queryParams)}isEqual(e){if(e=ot(e),!(e instanceof r0))return!1;const t=this._repo===e._repo,r=MR(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+LV(this._path)}}class rc extends r0{constructor(e,t){super(e,t,new z_,!1)}get parent(){const e=jR(this._path);return e===null?null:new rc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}UF(rc);$F(rc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="FIREBASE_DATABASE_EMULATOR_HOST",iv={};let S5=!1;function C5(n,e,t,r){n.repoInfo_=new SR(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function R5(n,e,t,r,s){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=mI(o,s),c=l.repoInfo,d;typeof process<"u"&&Lx&&(d=Lx[I5]),d?(o=`http://${d}?ns=${c.namespace}`,l=mI(o,s),c=l.repoInfo):l.repoInfo.secure;const h=new cV(n.name,n.options,e);s5("Invalid Firebase Database URL",l),We(l.path)||ci("Database URL must point to the root of a Firebase Database (not including a child path).");const g=b5(c,n,h,new lV(n,t));return new N5(g,n)}function A5(n,e){const t=iv[e];(!t||t[n.key]!==n)&&ci(`Database ${e}(${n.repoInfo_}) has already been deleted.`),y5(n),delete t[n.key]}function b5(n,e,t,r){let s=iv[e.name];s||(s={},iv[e.name]=s);let o=s[n.toURLString()];return o&&ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new d5(n,S5,t,r),s[n.toURLString()]=o,o}class N5{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(h5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rc(this._repo,nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(A5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ci("Cannot call "+e+" on a deleted database.")}}function P5(n=up(),e){const t=Zu(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=Mv("database");r&&k5(t,...r)}return t}function k5(n,e,t,r={}){n=ot(n),n._checkNotDeleted("useEmulator");const s=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&ao(r,o.repoInfo_.emulatorOptions))return;ci("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new hf(hf.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:Fv(r.mockUserToken,n.app.options.projectId);l=new hf(c)}C5(o,s,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(n){K3(_o),lo(new ri("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return R5(r,s,o,t)},"PUBLIC").setMultipleInstances(!0)),Er(jx,Mx,n),Er(jx,Mx,"esm2017")}ti.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};ti.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};O5();const s0=async(n,e,t,r,s,o,l)=>{const c=ld();let d;e||t?d=`${e||""} ${t||""}`.trim():d=o||"";const h={uid:n,displayName:d,firstName:e||(o?o.split(" ")[0]:""),lastName:t||(o?o.split(" ").slice(1).join(" "):""),email:r,phoneNumber:s,createdAt:new Date,...l?{role:l}:{}};await j_(Tt(c,"users",n),h,{merge:!0})},TA={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-b0c23.firebaseio.com"};console.log("FIREBASE CONFIG:",TA);const i0=KS(TA),zp=mp(i0);new fs;const vt=ld(i0);Fj("debug");const xA=Rt.createContext();function Rs(){return S.useContext(xA)}function D5({children:n}){const[e,t]=S.useState(null),[r,s]=S.useState(!1),[o,l]=S.useState(!0),[c,d]=S.useState(!1),[h,g]=S.useState(!1),[v,E]=S.useState(!1),I={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:h,loading:o,redirectAfterAuth:v,setRedirectAfterAuth:E};return S.useEffect(()=>{const C=mp(),A=wC(C,x=>{var O;if(t(x),s(!!x),x){const F=(O=x.providerData[0])==null?void 0:O.providerId;d(F==="password"),g(F==="google.com")}else d(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLoggedIn =",!!x,"user:",x==null?void 0:x.uid)});return()=>A},[]),m.jsx(xA.Provider,{value:I,children:!o&&n})}const Wu=ld(i0),L5=async n=>{try{const e=Tt(Wu,"users",n),t=await Nn(e);return t.exists()?t.data():null}catch(e){throw console.error("Error fetching user profile:",e),e}},Ia=S.createContext(),md=()=>S.useContext(Ia),j5=({children:n})=>{const[e,t]=S.useState(null),[r,s]=S.useState(null),[o,l]=S.useState(!0),[c,d]=S.useState(null);return S.useEffect(()=>{const h=wC(zp,async g=>{if(c&&(console.log("Cleaning up previous Firestore listener"),c(),d(null)),t(g),!g){t(null),s(null),l(!1);return}t(g),console.log("Current user UID:",g==null?void 0:g.uid);let v=null,E=null;if(g.displayName){const A=g.displayName.split(" ");v=A[0]||"",E=A.slice(1).join(" ")||""}const I=Tt(Wu,"users",g.uid);(await Nn(I)).exists()?console.log("User profile already exists, skipping creation."):(console.log("User profile doesn't exist yet, creating it."),await s0(g.uid,v,E,g.email,null,g.displayName));try{const A=await L5(g.uid),x={displayName:g.displayName||"",email:g.email||"",photoURL:g.photoURL||""};s(A||x),l(!1);try{const O=Tt(Wu,"users",g.uid);console.log("Setting up Firestore listener on: /users/"+g.uid),(await Nn(O)).exists()||(console.log("Document doesn't exist yet, creating it first"),await j_(O,{displayName:r.displayName,email:r.email,photoURL:r.photoURL,createdAt:new Date},{merge:!0}));const U=lR(O,B=>{B.exists()?(console.log("Received profile update for UID:",g.uid,"Data:",B.data()),s(B.data())):console.warn("User document does not exist for UID:",g.uid)},B=>{console.error("Error listening to profile updates:",B)});d(()=>U)}catch(O){console.error("Error setting up profile listener:",O)}}catch(A){console.error("Failed to fetch user profile:",A.message),l(!1)}});return()=>{h(),c&&(console.log("Cleaning up Firestore listener on component unmount"),c())}},[]),m.jsx(Ia.Provider,{value:{user:e,profile:r,loading:o},children:n})},IA=S.createContext(),M5={conversations:[],selectedConversation:null,messages:[],loading:!1,currentConversationData:null};function V5(n,e){switch(e.type){case"SET_CONVERSATIONS":const t=[...e.payload].sort((c,d)=>{var v,E,I,C,A,x,O,F,U,B,G,X;const h=((I=(E=(v=c.lastMessage)==null?void 0:v.timestamp)==null?void 0:E.toMillis)==null?void 0:I.call(E))||(((C=c.lastMessage)==null?void 0:C.timestamp)instanceof Date?c.lastMessage.timestamp.getTime():0)||((x=(A=c.updatedAt)==null?void 0:A.toMillis)==null?void 0:x.call(A))||0;return(((U=(F=(O=d.lastMessage)==null?void 0:O.timestamp)==null?void 0:F.toMillis)==null?void 0:U.call(F))||(((B=d.lastMessage)==null?void 0:B.timestamp)instanceof Date?d.lastMessage.timestamp.getTime():0)||((X=(G=d.updatedAt)==null?void 0:G.toMillis)==null?void 0:X.call(G))||0)-h});let r=n.currentConversationData;if(n.selectedConversation){const c=t.find(d=>d.id===n.selectedConversation);c&&(r=c)}return{...n,conversations:t,currentConversationData:r};case"UPDATE_LAST_MESSAGE":const s=n.conversations.map(c=>c.id===e.payload.conversationId?{...c,lastMessage:e.payload.lastMessage,updatedAt:e.payload.lastMessage.timestamp}:c).sort((c,d)=>{var v,E,I,C,A,x,O,F,U,B,G,X;const h=((I=(E=(v=c.lastMessage)==null?void 0:v.timestamp)==null?void 0:E.toMillis)==null?void 0:I.call(E))||(((C=c.lastMessage)==null?void 0:C.timestamp)instanceof Date?c.lastMessage.timestamp.getTime():0)||((x=(A=c.updatedAt)==null?void 0:A.toMillis)==null?void 0:x.call(A))||0;return(((U=(F=(O=d.lastMessage)==null?void 0:O.timestamp)==null?void 0:F.toMillis)==null?void 0:U.call(F))||(((B=d.lastMessage)==null?void 0:B.timestamp)instanceof Date?d.lastMessage.timestamp.getTime():0)||((X=(G=d.updatedAt)==null?void 0:G.toMillis)==null?void 0:X.call(G))||0)-h});return{...n,conversations:s};case"SELECT_CONVERSATION":if(n.selectedConversation===e.payload)return n;const o=n.conversations.find(c=>c.id===e.payload)||null;return{...n,selectedConversation:e.payload,messages:[],currentConversationData:o};case"SET_CURRENT_CONVERSATION_DATA":return{...n,currentConversationData:e.payload};case"SET_MESSAGES":return{...n,messages:e.payload};case"ADD_MESSAGE":return n.messages.some(c=>{var d,h,g,v,E,I;return c.id===e.payload.id||c.senderId===e.payload.senderId&&c.text===e.payload.text&&Math.abs(((g=((h=(d=c.timestamp)==null?void 0:d.toDate)==null?void 0:h.call(d))||c.timestamp)==null?void 0:g.getTime())-((I=((E=(v=e.payload.timestamp)==null?void 0:v.toDate)==null?void 0:E.call(v))||e.payload.timestamp)==null?void 0:I.getTime()))<5e3})?n:{...n,messages:[...n.messages,e.payload].sort((c,d)=>{var v,E,I,C;const h=((E=(v=c.timestamp)==null?void 0:v.toMillis)==null?void 0:E.call(v))||(c.timestamp instanceof Date?c.timestamp.getTime():0),g=((C=(I=d.timestamp)==null?void 0:I.toMillis)==null?void 0:C.call(I))||(d.timestamp instanceof Date?d.timestamp.getTime():0);return h-g})};case"SET_LOADING":return{...n,loading:e.payload};default:return n}}function F5({children:n}){const[e,t]=S.useReducer(V5,M5);return S.useEffect(()=>{const r=e.selectedConversation;if(!r)return;console.log(`Setting up listener for conversation ${r}`);const s=Tt(vt,"conversations",r),o=lR(s,l=>{if(l.exists()){const c={id:l.id,...l.data()};if(console.log("Conversation data updated:",c),t({type:"SET_CURRENT_CONVERSATION_DATA",payload:c}),e.conversations.length>0){const d=e.conversations.map(h=>h.id===r?c:h);t({type:"SET_CONVERSATIONS",payload:d})}}else console.log(`Conversation ${r} does not exist`)},l=>{console.error("Error listening to conversation:",l)});return()=>{console.log(`Cleaning up listener for conversation ${r}`),o()}},[e.selectedConversation]),m.jsx(IA.Provider,{value:{state:e,dispatch:t},children:n})}function zW(){return S.useContext(IA)}function o0(){return m.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}const U5=1,$5=1e6;let Zg=0;function B5(){return Zg=(Zg+1)%Number.MAX_SAFE_INTEGER,Zg.toString()}const ey=new Map,gI=n=>{if(ey.has(n))return;const e=setTimeout(()=>{ey.delete(n),Su({type:"REMOVE_TOAST",toastId:n})},$5);ey.set(n,e)},z5=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,U5)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?gI(t):n.toasts.forEach(r=>{gI(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ff=[];let pf={toasts:[]};function Su(n){pf=z5(pf,n),ff.forEach(e=>{e(pf)})}function W5({...n}){const e=B5(),t=s=>Su({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Su({type:"DISMISS_TOAST",toastId:e});return Su({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function a0(){const[n,e]=S.useState(pf);return S.useEffect(()=>(ff.push(e),()=>{const t=ff.indexOf(e);t>-1&&ff.splice(t,1)}),[n]),{...n,toast:W5,dismiss:t=>Su({type:"DISMISS_TOAST",toastId:t})}}function rr(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function yI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function SA(...n){return e=>{let t=!1;const r=n.map(s=>{const o=yI(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():yI(n[s],null)}}}}function ga(...n){return S.useCallback(SA(...n),n)}function CA(n,e=[]){let t=[];function r(o,l){const c=S.createContext(l),d=t.length;t=[...t,l];const h=v=>{var O;const{scope:E,children:I,...C}=v,A=((O=E==null?void 0:E[n])==null?void 0:O[d])||c,x=S.useMemo(()=>C,Object.values(C));return m.jsx(A.Provider,{value:x,children:I})};h.displayName=o+"Provider";function g(v,E){var A;const I=((A=E==null?void 0:E[n])==null?void 0:A[d])||c,C=S.useContext(I);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=t.map(l=>S.createContext(l));return function(c){const d=(c==null?void 0:c[n])||o;return S.useMemo(()=>({[`__scope${n}`]:{...c,[n]:d}}),[c,d])}};return s.scopeName=n,[r,q5(s,...e)]}function q5(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const v=d(o)[`__scope${h}`];return{...c,...v}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Gf=S.forwardRef((n,e)=>{const{children:t,...r}=n,s=S.Children.toArray(t),o=s.find(K5);if(o){const l=o.props.children,c=s.map(d=>d===o?S.Children.count(l)>1?S.Children.only(null):S.isValidElement(l)?l.props.children:null:d);return m.jsx(ov,{...r,ref:e,children:S.isValidElement(l)?S.cloneElement(l,void 0,c):null})}return m.jsx(ov,{...r,ref:e,children:t})});Gf.displayName="Slot";var ov=S.forwardRef((n,e)=>{const{children:t,...r}=n;if(S.isValidElement(t)){const s=Q5(t),o=G5(r,t.props);return t.type!==S.Fragment&&(o.ref=e?SA(e,s):s),S.cloneElement(t,o)}return S.Children.count(t)>1?S.Children.only(null):null});ov.displayName="SlotClone";var H5=({children:n})=>m.jsx(m.Fragment,{children:n});function K5(n){return S.isValidElement(n)&&n.type===H5}function G5(n,e){const t={...e};for(const r in e){const s=n[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?t[r]=(...c)=>{o(...c),s(...c)}:s&&(t[r]=s):r==="style"?t[r]={...s,...o}:r==="className"&&(t[r]=[s,o].filter(Boolean).join(" "))}return{...n,...t}}function Q5(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Y5(n){const e=n+"CollectionProvider",[t,r]=CA(e),[s,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:C,children:A}=I,x=Rt.useRef(null),O=Rt.useRef(new Map).current;return m.jsx(s,{scope:C,itemMap:O,collectionRef:x,children:A})};l.displayName=e;const c=n+"CollectionSlot",d=Rt.forwardRef((I,C)=>{const{scope:A,children:x}=I,O=o(c,A),F=ga(C,O.collectionRef);return m.jsx(Gf,{ref:F,children:x})});d.displayName=c;const h=n+"CollectionItemSlot",g="data-radix-collection-item",v=Rt.forwardRef((I,C)=>{const{scope:A,children:x,...O}=I,F=Rt.useRef(null),U=ga(C,F),B=o(h,A);return Rt.useEffect(()=>(B.itemMap.set(F,{ref:F,...O}),()=>void B.itemMap.delete(F))),m.jsx(Gf,{[g]:"",ref:U,children:x})});v.displayName=h;function E(I){const C=o(n+"CollectionConsumer",I);return Rt.useCallback(()=>{const x=C.collectionRef.current;if(!x)return[];const O=Array.from(x.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((B,G)=>O.indexOf(B.ref.current)-O.indexOf(G.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:d,ItemSlot:v},E,r]}var X5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],As=X5.reduce((n,e)=>{const t=S.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?Gf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...l,ref:s})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function RA(n,e){n&&Lv.flushSync(()=>n.dispatchEvent(e))}function ui(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function J5(n,e=globalThis==null?void 0:globalThis.document){const t=ui(n);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Z5="DismissableLayer",av="dismissableLayer.update",eU="dismissableLayer.pointerDownOutside",tU="dismissableLayer.focusOutside",vI,AA=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bA=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=n,h=S.useContext(AA),[g,v]=S.useState(null),E=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=S.useState({}),C=ga(e,k=>v(k)),A=Array.from(h.layers),[x]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),O=A.indexOf(x),F=g?A.indexOf(g):-1,U=h.layersWithOutsidePointerEventsDisabled.size>0,B=F>=O,G=rU(k=>{const N=k.target,P=[...h.branches].some(L=>L.contains(N));!B||P||(s==null||s(k),l==null||l(k),k.defaultPrevented||c==null||c())},E),X=sU(k=>{const N=k.target;[...h.branches].some(L=>L.contains(N))||(o==null||o(k),l==null||l(k),k.defaultPrevented||c==null||c())},E);return J5(k=>{F===h.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},E),S.useEffect(()=>{if(g)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(vI=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),_I(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=vI)}},[g,E,t,h]),S.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),_I())},[g,h]),S.useEffect(()=>{const k=()=>I({});return document.addEventListener(av,k),()=>document.removeEventListener(av,k)},[]),m.jsx(As.div,{...d,ref:C,style:{pointerEvents:U?B?"auto":"none":void 0,...n.style},onFocusCapture:rr(n.onFocusCapture,X.onFocusCapture),onBlurCapture:rr(n.onBlurCapture,X.onBlurCapture),onPointerDownCapture:rr(n.onPointerDownCapture,G.onPointerDownCapture)})});bA.displayName=Z5;var nU="DismissableLayerBranch",NA=S.forwardRef((n,e)=>{const t=S.useContext(AA),r=S.useRef(null),s=ga(e,r);return S.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),m.jsx(As.div,{...n,ref:s})});NA.displayName=nU;function rU(n,e=globalThis==null?void 0:globalThis.document){const t=ui(n),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let d=function(){PA(eU,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function sU(n,e=globalThis==null?void 0:globalThis.document){const t=ui(n),r=S.useRef(!1);return S.useEffect(()=>{const s=o=>{o.target&&!r.current&&PA(tU,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _I(){const n=new CustomEvent(av);document.dispatchEvent(n)}function PA(n,e,t,{discrete:r}){const s=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?RA(s,o):s.dispatchEvent(o)}var iU=bA,oU=NA,Qf=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},aU="Portal",kA=S.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[s,o]=S.useState(!1);Qf(()=>o(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?kk.createPortal(m.jsx(As.div,{...r,ref:e}),l):null});kA.displayName=aU;function lU(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var OA=n=>{const{present:e,children:t}=n,r=cU(e),s=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),o=ga(r.ref,uU(s));return typeof t=="function"||r.isPresent?S.cloneElement(s,{ref:o}):null};OA.displayName="Presence";function cU(n){const[e,t]=S.useState(),r=S.useRef({}),s=S.useRef(n),o=S.useRef("none"),l=n?"mounted":"unmounted",[c,d]=lU(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const h=Kh(r.current);o.current=c==="mounted"?h:"none"},[c]),Qf(()=>{const h=r.current,g=s.current;if(g!==n){const E=o.current,I=Kh(h);n?d("MOUNT"):I==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(g&&E!==I?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,d]),Qf(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,v=I=>{const A=Kh(r.current).includes(I.animationName);if(I.target===e&&A&&(d("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},E=I=>{I.target===e&&(o.current=Kh(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(h=>{h&&(r.current=getComputedStyle(h)),t(h)},[])}}function Kh(n){return(n==null?void 0:n.animationName)||"none"}function uU(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function dU({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=hU({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:r,c=ui(t),d=S.useCallback(h=>{if(o){const v=typeof h=="function"?h(n):h;v!==n&&c(v)}else s(h)},[o,n,s,c]);return[l,d]}function hU({defaultProp:n,onChange:e}){const t=S.useState(n),[r]=t,s=S.useRef(r),o=ui(e);return S.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),t}var fU="VisuallyHidden",l0=S.forwardRef((n,e)=>m.jsx(As.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));l0.displayName=fU;var c0="ToastProvider",[u0,pU,mU]=Y5("Toast"),[DA,WW]=CA("Toast",[mU]),[gU,Wp]=DA(c0),LA=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=n,[c,d]=S.useState(null),[h,g]=S.useState(0),v=S.useRef(!1),E=S.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${c0}\`. Expected non-empty \`string\`.`),m.jsx(u0.Provider,{scope:e,children:m.jsx(gU,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:S.useCallback(()=>g(I=>I+1),[]),onToastRemove:S.useCallback(()=>g(I=>I-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:l})})};LA.displayName=c0;var jA="ToastViewport",yU=["F8"],lv="toast.viewportPause",cv="toast.viewportResume",MA=S.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=yU,label:s="Notifications ({hotkey})",...o}=n,l=Wp(jA,t),c=pU(t),d=S.useRef(null),h=S.useRef(null),g=S.useRef(null),v=S.useRef(null),E=ga(e,v,l.onViewportChange),I=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=l.toastCount>0;S.useEffect(()=>{const x=O=>{var U;r.length!==0&&r.every(B=>O[B]||O.code===B)&&((U=v.current)==null||U.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),S.useEffect(()=>{const x=d.current,O=v.current;if(C&&x&&O){const F=()=>{if(!l.isClosePausedRef.current){const X=new CustomEvent(lv);O.dispatchEvent(X),l.isClosePausedRef.current=!0}},U=()=>{if(l.isClosePausedRef.current){const X=new CustomEvent(cv);O.dispatchEvent(X),l.isClosePausedRef.current=!1}},B=X=>{!x.contains(X.relatedTarget)&&U()},G=()=>{x.contains(document.activeElement)||U()};return x.addEventListener("focusin",F),x.addEventListener("focusout",B),x.addEventListener("pointermove",F),x.addEventListener("pointerleave",G),window.addEventListener("blur",F),window.addEventListener("focus",U),()=>{x.removeEventListener("focusin",F),x.removeEventListener("focusout",B),x.removeEventListener("pointermove",F),x.removeEventListener("pointerleave",G),window.removeEventListener("blur",F),window.removeEventListener("focus",U)}}},[C,l.isClosePausedRef]);const A=S.useCallback(({tabbingDirection:x})=>{const F=c().map(U=>{const B=U.ref.current,G=[B,...NU(B)];return x==="forwards"?G:G.reverse()});return(x==="forwards"?F.reverse():F).flat()},[c]);return S.useEffect(()=>{const x=v.current;if(x){const O=F=>{var G,X,k;const U=F.altKey||F.ctrlKey||F.metaKey;if(F.key==="Tab"&&!U){const N=document.activeElement,P=F.shiftKey;if(F.target===x&&P){(G=h.current)==null||G.focus();return}const V=A({tabbingDirection:P?"backwards":"forwards"}),D=V.findIndex(ue=>ue===N);ty(V.slice(D+1))?F.preventDefault():P?(X=h.current)==null||X.focus():(k=g.current)==null||k.focus()}};return x.addEventListener("keydown",O),()=>x.removeEventListener("keydown",O)}},[c,A]),m.jsxs(oU,{ref:d,role:"region","aria-label":s.replace("{hotkey}",I),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&m.jsx(uv,{ref:h,onFocusFromOutsideViewport:()=>{const x=A({tabbingDirection:"forwards"});ty(x)}}),m.jsx(u0.Slot,{scope:t,children:m.jsx(As.ol,{tabIndex:-1,...o,ref:E})}),C&&m.jsx(uv,{ref:g,onFocusFromOutsideViewport:()=>{const x=A({tabbingDirection:"backwards"});ty(x)}})]})});MA.displayName=jA;var VA="ToastFocusProxy",uv=S.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,o=Wp(VA,t);return m.jsx(l0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(c))&&r()}})});uv.displayName=VA;var qp="Toast",vU="toast.swipeStart",_U="toast.swipeMove",wU="toast.swipeCancel",EU="toast.swipeEnd",FA=S.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:o,...l}=n,[c=!0,d]=dU({prop:r,defaultProp:s,onChange:o});return m.jsx(OA,{present:t||c,children:m.jsx(IU,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:ui(n.onPause),onResume:ui(n.onResume),onSwipeStart:rr(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:rr(n.onSwipeMove,h=>{const{x:g,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:rr(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:rr(n.onSwipeEnd,h=>{const{x:g,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),d(!1)})})})});FA.displayName=qp;var[TU,xU]=DA(qp,{onClose(){}}),IU=S.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:I,...C}=n,A=Wp(qp,t),[x,O]=S.useState(null),F=ga(e,ue=>O(ue)),U=S.useRef(null),B=S.useRef(null),G=s||A.duration,X=S.useRef(0),k=S.useRef(G),N=S.useRef(0),{onToastAdd:P,onToastRemove:L}=A,M=ui(()=>{var Re;(x==null?void 0:x.contains(document.activeElement))&&((Re=A.viewport)==null||Re.focus()),l()}),V=S.useCallback(ue=>{!ue||ue===1/0||(window.clearTimeout(N.current),X.current=new Date().getTime(),N.current=window.setTimeout(M,ue))},[M]);S.useEffect(()=>{const ue=A.viewport;if(ue){const Re=()=>{V(k.current),h==null||h()},be=()=>{const Ie=new Date().getTime()-X.current;k.current=k.current-Ie,window.clearTimeout(N.current),d==null||d()};return ue.addEventListener(lv,be),ue.addEventListener(cv,Re),()=>{ue.removeEventListener(lv,be),ue.removeEventListener(cv,Re)}}},[A.viewport,G,d,h,V]),S.useEffect(()=>{o&&!A.isClosePausedRef.current&&V(G)},[o,G,A.isClosePausedRef,V]),S.useEffect(()=>(P(),()=>L()),[P,L]);const D=S.useMemo(()=>x?HA(x):null,[x]);return A.viewport?m.jsxs(m.Fragment,{children:[D&&m.jsx(SU,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),m.jsx(TU,{scope:t,onClose:M,children:Lv.createPortal(m.jsx(u0.ItemSlot,{scope:t,children:m.jsx(iU,{asChild:!0,onEscapeKeyDown:rr(c,()=>{A.isFocusedToastEscapeKeyDownRef.current||M(),A.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(As.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":A.swipeDirection,...C,ref:F,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:rr(n.onKeyDown,ue=>{ue.key==="Escape"&&(c==null||c(ue.nativeEvent),ue.nativeEvent.defaultPrevented||(A.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:rr(n.onPointerDown,ue=>{ue.button===0&&(U.current={x:ue.clientX,y:ue.clientY})}),onPointerMove:rr(n.onPointerMove,ue=>{if(!U.current)return;const Re=ue.clientX-U.current.x,be=ue.clientY-U.current.y,Ie=!!B.current,oe=["left","right"].includes(A.swipeDirection),de=["left","up"].includes(A.swipeDirection)?Math.min:Math.max,ae=oe?de(0,Re):0,W=oe?0:de(0,be),ee=ue.pointerType==="touch"?10:2,ge={x:ae,y:W},Se={originalEvent:ue,delta:ge};Ie?(B.current=ge,Gh(_U,v,Se,{discrete:!1})):wI(ge,A.swipeDirection,ee)?(B.current=ge,Gh(vU,g,Se,{discrete:!1}),ue.target.setPointerCapture(ue.pointerId)):(Math.abs(Re)>ee||Math.abs(be)>ee)&&(U.current=null)}),onPointerUp:rr(n.onPointerUp,ue=>{const Re=B.current,be=ue.target;if(be.hasPointerCapture(ue.pointerId)&&be.releasePointerCapture(ue.pointerId),B.current=null,U.current=null,Re){const Ie=ue.currentTarget,oe={originalEvent:ue,delta:Re};wI(Re,A.swipeDirection,A.swipeThreshold)?Gh(EU,I,oe,{discrete:!0}):Gh(wU,E,oe,{discrete:!0}),Ie.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),A.viewport)})]}):null}),SU=n=>{const{__scopeToast:e,children:t,...r}=n,s=Wp(qp,e),[o,l]=S.useState(!1),[c,d]=S.useState(!1);return AU(()=>l(!0)),S.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:m.jsx(kA,{asChild:!0,children:m.jsx(l0,{...r,children:o&&m.jsxs(m.Fragment,{children:[s.label," ",t]})})})},CU="ToastTitle",UA=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return m.jsx(As.div,{...r,ref:e})});UA.displayName=CU;var RU="ToastDescription",$A=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return m.jsx(As.div,{...r,ref:e})});$A.displayName=RU;var BA="ToastAction",zA=S.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?m.jsx(qA,{altText:t,asChild:!0,children:m.jsx(d0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BA}\`. Expected non-empty \`string\`.`),null)});zA.displayName=BA;var WA="ToastClose",d0=S.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=xU(WA,t);return m.jsx(qA,{asChild:!0,children:m.jsx(As.button,{type:"button",...r,ref:e,onClick:rr(n.onClick,s.onClose)})})});d0.displayName=WA;var qA=S.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return m.jsx(As.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function HA(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...HA(r))}}),e}function Gh(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,o=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?RA(s,o):s.dispatchEvent(o)}var wI=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),o=r>s;return e==="left"||e==="right"?o&&r>t:!o&&s>t};function AU(n=()=>{}){const e=ui(n);Qf(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function bU(n){return n.nodeType===n.ELEMENT_NODE}function NU(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ty(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var PU=LA,KA=MA,GA=FA,QA=UA,YA=$A,XA=zA,JA=d0;function ZA(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=ZA(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function eb(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=ZA(n))&&(r&&(r+=" "),r+=e);return r}const EI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,TI=eb,tb=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return TI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const g=t==null?void 0:t[h],v=o==null?void 0:o[h];if(g===null)return null;const E=EI(g)||EI(v);return s[h][E]}),c=t&&Object.entries(t).reduce((h,g)=>{let[v,E]=g;return E===void 0||(h[v]=E),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:v,className:E,...I}=g;return Object.entries(I).every(C=>{let[A,x]=C;return Array.isArray(x)?x.includes({...o,...c}[A]):{...o,...c}[A]===x})?[...h,v,E]:h},[]);return TI(n,l,d,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nb=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},d)=>S.createElement("svg",{ref:d,...OU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:nb("lucide",s),...c},[...l.map(([h,g])=>S.createElement(h,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=(n,e)=>{const t=S.forwardRef(({className:r,...s},o)=>S.createElement(DU,{ref:o,iconNode:e,className:nb(`lucide-${kU(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jU=gd("Bell",LU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],VU=gd("LoaderCircle",MU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],UU=gd("LogOut",FU);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BU=gd("Settings",$U);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WU=gd("X",zU),h0="-",qU=n=>{const e=KU(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(h0);return c[0]===""&&c.length!==1&&c.shift(),rb(c,e)||HU(l)},getConflictingClassGroupIds:(l,c)=>{const d=t[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},rb=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?rb(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(h0);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},xI=/^\[(.+)\]$/,HU=n=>{if(xI.test(n)){const e=xI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},KU=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return QU(Object.entries(n.classGroups),t).forEach(([o,l])=>{dv(l,r,o,e)}),r},dv=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:II(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(GU(s)){dv(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,l])=>{dv(l,II(e,o),t,r)})})},II=(n,e)=>{let t=n;return e.split(h0).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},GU=n=>n.isThemeGetter,QU=(n,e)=>e?n.map(([t,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[e+l,c])):o);return[t,s]}):n,YU=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){t.has(o)?t.set(o,l):s(o,l)}}},sb="!",XU=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],o=e.length,l=c=>{const d=[];let h=0,g=0,v;for(let x=0;x<c.length;x++){let O=c[x];if(h===0){if(O===s&&(r||c.slice(x,x+o)===e)){d.push(c.slice(g,x)),g=x+o;continue}if(O==="/"){v=x;continue}}O==="["?h++:O==="]"&&h--}const E=d.length===0?c:c.substring(g),I=E.startsWith(sb),C=I?E.substring(1):E,A=v&&v>g?v-g:void 0;return{modifiers:d,hasImportantModifier:I,baseClassName:C,maybePostfixModifierPosition:A}};return t?c=>t({className:c,parseClassName:l}):l},JU=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},ZU=n=>({cache:YU(n.cacheSize),parseClassName:XU(n),...qU(n)}),e6=/\s+/,t6=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],l=n.trim().split(e6);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:g,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:I}=t(h);let C=!!I,A=r(C?E.substring(0,I):E);if(!A){if(!C){c=h+(c.length>0?" "+c:c);continue}if(A=r(E),!A){c=h+(c.length>0?" "+c:c);continue}C=!1}const x=JU(g).join(":"),O=v?x+sb:x,F=O+A;if(o.includes(F))continue;o.push(F);const U=s(A,C);for(let B=0;B<U.length;++B){const G=U[B];o.push(O+G)}c=h+(c.length>0?" "+c:c)}return c};function n6(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=ib(e))&&(r&&(r+=" "),r+=t);return r}const ib=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=ib(n[r]))&&(t&&(t+=" "),t+=e);return t};function r6(n,...e){let t,r,s,o=l;function l(d){const h=e.reduce((g,v)=>v(g),n());return t=ZU(h),r=t.cache.get,s=t.cache.set,o=c,c(d)}function c(d){const h=r(d);if(h)return h;const g=t6(d,t);return s(d,g),g}return function(){return o(n6.apply(null,arguments))}}const ct=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},ob=/^\[(?:([a-z-]+):)?(.+)\]$/i,s6=/^\d+\/\d+$/,i6=new Set(["px","full","screen"]),o6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qs=n=>Rl(n)||i6.has(n)||s6.test(n),Ki=n=>sc(n,"length",v6),Rl=n=>!!n&&!Number.isNaN(Number(n)),ny=n=>sc(n,"number",Rl),iu=n=>!!n&&Number.isInteger(Number(n)),d6=n=>n.endsWith("%")&&Rl(n.slice(0,-1)),Le=n=>ob.test(n),Gi=n=>o6.test(n),h6=new Set(["length","size","percentage"]),f6=n=>sc(n,h6,ab),p6=n=>sc(n,"position",ab),m6=new Set(["image","url"]),g6=n=>sc(n,m6,w6),y6=n=>sc(n,"",_6),ou=()=>!0,sc=(n,e,t)=>{const r=ob.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},v6=n=>a6.test(n)&&!l6.test(n),ab=()=>!1,_6=n=>c6.test(n),w6=n=>u6.test(n),E6=()=>{const n=ct("colors"),e=ct("spacing"),t=ct("blur"),r=ct("brightness"),s=ct("borderColor"),o=ct("borderRadius"),l=ct("borderSpacing"),c=ct("borderWidth"),d=ct("contrast"),h=ct("grayscale"),g=ct("hueRotate"),v=ct("invert"),E=ct("gap"),I=ct("gradientColorStops"),C=ct("gradientColorStopPositions"),A=ct("inset"),x=ct("margin"),O=ct("opacity"),F=ct("padding"),U=ct("saturate"),B=ct("scale"),G=ct("sepia"),X=ct("skew"),k=ct("space"),N=ct("translate"),P=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Le,e],V=()=>[Le,e],D=()=>["",qs,Ki],ue=()=>["auto",Rl,Le],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],be=()=>["solid","dashed","dotted","double","none"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>["start","end","center","between","around","evenly","stretch"],de=()=>["","0",Le],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Rl,Le];return{cacheSize:500,separator:":",theme:{colors:[ou],spacing:[qs,Ki],blur:["none","",Gi,Le],brightness:W(),borderColor:[n],borderRadius:["none","","full",Gi,Le],borderSpacing:V(),borderWidth:D(),contrast:W(),grayscale:de(),hueRotate:W(),invert:de(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[d6,Ki],inset:M(),margin:M(),opacity:W(),padding:V(),saturate:W(),scale:W(),sepia:de(),skew:W(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Gi]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),Le]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",iu,Le]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",iu,Le]}],"grid-cols":[{"grid-cols":[ou]}],"col-start-end":[{col:["auto",{span:["full",iu,Le]},Le]}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":[ou]}],"row-start-end":[{row:["auto",{span:[iu,Le]},Le]}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...oe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...oe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...oe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[Gi]},Gi]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gi,Ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ny]}],"font-family":[{font:[ou]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",Rl,ny]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qs,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qs,Ki]}],"underline-offset":[{"underline-offset":["auto",qs,Le]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),p6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g6]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...be(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:be()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...be()]}],"outline-offset":[{"outline-offset":[qs,Le]}],"outline-w":[{outline:[qs,Ki]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[qs,Ki]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Gi,y6]}],"shadow-color":[{shadow:[ou]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ie()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Gi,Le]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[U]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[U]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[iu,Le]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[qs,Ki,ny]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},T6=r6(E6);function So(...n){return T6(eb(n))}const x6=PU,lb=S.forwardRef(({className:n,...e},t)=>m.jsx(KA,{ref:t,className:So("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));lb.displayName=KA.displayName;const I6=tb("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cb=S.forwardRef(({className:n,variant:e,...t},r)=>m.jsx(GA,{ref:r,className:So(I6({variant:e}),n),...t}));cb.displayName=GA.displayName;const S6=S.forwardRef(({className:n,...e},t)=>m.jsx(XA,{ref:t,className:So("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));S6.displayName=XA.displayName;const ub=S.forwardRef(({className:n,...e},t)=>m.jsx(JA,{ref:t,className:So("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:m.jsx(WU,{className:"h-4 w-4"})}));ub.displayName=JA.displayName;const db=S.forwardRef(({className:n,...e},t)=>m.jsx(QA,{ref:t,className:So("text-sm font-semibold [&+div]:text-xs",n),...e}));db.displayName=QA.displayName;const hb=S.forwardRef(({className:n,...e},t)=>m.jsx(YA,{ref:t,className:So("text-sm opacity-90",n),...e}));hb.displayName=YA.displayName;function fb(){const{toasts:n}=a0();return m.jsxs(x6,{children:[n.map(function({id:e,title:t,description:r,action:s,...o}){return m.jsxs(cb,{...o,children:[m.jsxs("div",{className:"grid gap-1",children:[t&&m.jsx(db,{children:t}),r&&m.jsx(hb,{children:r})]}),s,m.jsx(ub,{})]},e)}),m.jsx(lb,{})]})}const C6="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",R6="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",SI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",CI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",RI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",AI="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",f0=()=>m.jsxs("div",{className:"footer",children:[m.jsxs("div",{className:"left",children:[m.jsx("div",{className:"logo",children:"URENO"}),m.jsxs("div",{className:"social-sites",children:[m.jsx("object",{data:SI,type:"image/svg+xml",children:m.jsx("img",{src:SI})}),m.jsx("object",{data:CI,type:"image/svg+xml",children:m.jsx("img",{src:CI})}),m.jsx("object",{data:RI,type:"image/svg+xml",children:m.jsx("img",{src:RI})}),m.jsx("object",{data:AI,type:"image/svg+xml",children:m.jsx("img",{src:AI})})]})]}),m.jsxs("div",{className:"right",children:[m.jsxs("menu",{children:[m.jsx("li",{children:"Topic"}),m.jsx("li",{children:"Page"}),m.jsx("li",{children:"Page"}),m.jsx("li",{children:"Page"})]}),m.jsxs("menu",{children:[m.jsx("li",{children:"Topic"}),m.jsx("li",{children:"Page"}),m.jsx("li",{children:"Page"}),m.jsx("li",{children:"Page"})]}),m.jsxs("menu",{children:[m.jsx("li",{children:"Topic"}),m.jsx("li",{children:"Page"}),m.jsx("li",{children:"Page"}),m.jsx("li",{children:"Page"})]})]})]}),hv="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",A6=async(n,e)=>fL(zp,n,e),b6=(n,e)=>pL(zp,n,e),N6=async()=>{var t;const n=mp(),e=new fs;try{const r=await qL(n,e),s=(t=xL(r))==null?void 0:t.isNewUser,o=r.user;return s?(console.log("New user signed up with Google:",r.user),await s0(o.uid,o.displayname||"Google User",o.email,o.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},p0=async()=>{try{return await zp.signOut(),{success:!0}}catch(n){return console.error("sign-out error: ",n),{success:!1,error:n}}};var ry={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var bI;function P6(){return bI||(bI=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=s(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=s(l,c));return l}function s(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(ry)),ry.exports}var k6=P6();const bt=Gu(k6);var O6=Function.prototype.bind.call(Function.prototype.call,[].slice);function NI(n,e){return O6(n.querySelectorAll(e))}const pb=!!(typeof window<"u"&&window.document&&window.document.createElement);var fv=!1,pv=!1;try{var sy={get passive(){return fv=!0},get once(){return pv=fv=!0}};pb&&(window.addEventListener("test",sy,sy),window.removeEventListener("test",sy,!0))}catch{}function mb(n,e,t,r){if(r&&typeof r!="boolean"&&!pv){var s=r.once,o=r.capture,l=t;!pv&&s&&(l=t.__once||function c(d){this.removeEventListener(e,c,o),t.call(this,d)},t.__once=l),n.addEventListener(e,l,fv?r:o)}n.addEventListener(e,t,r)}function D6(n,e,t){const r=S.useRef(n!==void 0),[s,o]=S.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&s!==e&&o(e),[l?n:s,S.useCallback((...d)=>{const[h,...g]=d;let v=t==null?void 0:t(h,...g);return o(h),v},[t])]}function L6(n){const e=S.useRef(null);return S.useEffect(()=>{e.current=n}),e.current}function j6(){const[,n]=S.useReducer(e=>e+1,0);return n}function M6(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n},[n]),e}function oo(n){const e=M6(n);return S.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function V6(n,e,t,r=!1){const s=oo(t);S.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,s,r),()=>o.removeEventListener(e,s,r)},[n])}const Hp=S.createContext(null);function F6(){return S.useState(null)}var PI=Object.prototype.hasOwnProperty;function kI(n,e,t){for(t of n.keys())if(Cu(t,e))return t}function Cu(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Cu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=kI(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=kI(e,s),!s)||!Cu(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(PI.call(n,t)&&++r&&!PI.call(e,t)||!(t in e)||!Cu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function U6(){const n=S.useRef(!0),e=S.useRef(()=>n.current);return S.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function $6(n){const e=U6();return[n[0],S.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var qn="top",Sr="bottom",Cr="right",Hn="left",m0="auto",yd=[qn,Sr,Cr,Hn],Fl="start",qu="end",B6="clippingParents",gb="viewport",au="popper",z6="reference",OI=yd.reduce(function(n,e){return n.concat([e+"-"+Fl,e+"-"+qu])},[]),yb=[].concat(yd,[m0]).reduce(function(n,e){return n.concat([e,e+"-"+Fl,e+"-"+qu])},[]),W6="beforeRead",q6="read",H6="afterRead",K6="beforeMain",G6="main",Q6="afterMain",Y6="beforeWrite",X6="write",J6="afterWrite",Z6=[W6,q6,H6,K6,G6,Q6,Y6,X6,J6];function Ts(n){return n.split("-")[0]}function lr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ya(n){var e=lr(n).Element;return n instanceof e||n instanceof Element}function xs(n){var e=lr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function g0(n){if(typeof ShadowRoot>"u")return!1;var e=lr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var oa=Math.max,Yf=Math.min,Ul=Math.round;function mv(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function vb(){return!/^((?!chrome|android).)*safari/i.test(mv())}function $l(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,o=1;e&&xs(n)&&(s=n.offsetWidth>0&&Ul(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Ul(r.height)/n.offsetHeight||1);var l=ya(n)?lr(n):window,c=l.visualViewport,d=!vb()&&t,h=(r.left+(d&&c?c.offsetLeft:0))/s,g=(r.top+(d&&c?c.offsetTop:0))/o,v=r.width/s,E=r.height/o;return{width:v,height:E,top:g,right:h+v,bottom:g+E,left:h,x:h,y:g}}function y0(n){var e=$l(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function _b(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&g0(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function vo(n){return n?(n.nodeName||"").toLowerCase():null}function di(n){return lr(n).getComputedStyle(n)}function e9(n){return["table","td","th"].indexOf(vo(n))>=0}function Co(n){return((ya(n)?n.ownerDocument:n.document)||window.document).documentElement}function Kp(n){return vo(n)==="html"?n:n.assignedSlot||n.parentNode||(g0(n)?n.host:null)||Co(n)}function DI(n){return!xs(n)||di(n).position==="fixed"?null:n.offsetParent}function t9(n){var e=/firefox/i.test(mv()),t=/Trident/i.test(mv());if(t&&xs(n)){var r=di(n);if(r.position==="fixed")return null}var s=Kp(n);for(g0(s)&&(s=s.host);xs(s)&&["html","body"].indexOf(vo(s))<0;){var o=di(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function vd(n){for(var e=lr(n),t=DI(n);t&&e9(t)&&di(t).position==="static";)t=DI(t);return t&&(vo(t)==="html"||vo(t)==="body"&&di(t).position==="static")?e:t||t9(n)||e}function v0(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ru(n,e,t){return oa(n,Yf(e,t))}function n9(n,e,t){var r=Ru(n,e,t);return r>t?t:r}function wb(){return{top:0,right:0,bottom:0,left:0}}function Eb(n){return Object.assign({},wb(),n)}function Tb(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var r9=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Eb(typeof e!="number"?e:Tb(e,yd))};function s9(n){var e,t=n.state,r=n.name,s=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,c=Ts(t.placement),d=v0(c),h=[Hn,Cr].indexOf(c)>=0,g=h?"height":"width";if(!(!o||!l)){var v=r9(s.padding,t),E=y0(o),I=d==="y"?qn:Hn,C=d==="y"?Sr:Cr,A=t.rects.reference[g]+t.rects.reference[d]-l[d]-t.rects.popper[g],x=l[d]-t.rects.reference[d],O=vd(o),F=O?d==="y"?O.clientHeight||0:O.clientWidth||0:0,U=A/2-x/2,B=v[I],G=F-E[g]-v[C],X=F/2-E[g]/2+U,k=Ru(B,X,G),N=d;t.modifiersData[r]=(e={},e[N]=k,e.centerOffset=k-X,e)}}function i9(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||_b(e.elements.popper,s)&&(e.elements.arrow=s))}const o9={name:"arrow",enabled:!0,phase:"main",fn:s9,effect:i9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bl(n){return n.split("-")[1]}var a9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function l9(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:Ul(t*s)/s||0,y:Ul(r*s)/s||0}}function LI(n){var e,t=n.popper,r=n.popperRect,s=n.placement,o=n.variation,l=n.offsets,c=n.position,d=n.gpuAcceleration,h=n.adaptive,g=n.roundOffsets,v=n.isFixed,E=l.x,I=E===void 0?0:E,C=l.y,A=C===void 0?0:C,x=typeof g=="function"?g({x:I,y:A}):{x:I,y:A};I=x.x,A=x.y;var O=l.hasOwnProperty("x"),F=l.hasOwnProperty("y"),U=Hn,B=qn,G=window;if(h){var X=vd(t),k="clientHeight",N="clientWidth";if(X===lr(t)&&(X=Co(t),di(X).position!=="static"&&c==="absolute"&&(k="scrollHeight",N="scrollWidth")),X=X,s===qn||(s===Hn||s===Cr)&&o===qu){B=Sr;var P=v&&X===G&&G.visualViewport?G.visualViewport.height:X[k];A-=P-r.height,A*=d?1:-1}if(s===Hn||(s===qn||s===Sr)&&o===qu){U=Cr;var L=v&&X===G&&G.visualViewport?G.visualViewport.width:X[N];I-=L-r.width,I*=d?1:-1}}var M=Object.assign({position:c},h&&a9),V=g===!0?l9({x:I,y:A},lr(t)):{x:I,y:A};if(I=V.x,A=V.y,d){var D;return Object.assign({},M,(D={},D[B]=F?"0":"",D[U]=O?"0":"",D.transform=(G.devicePixelRatio||1)<=1?"translate("+I+"px, "+A+"px)":"translate3d("+I+"px, "+A+"px, 0)",D))}return Object.assign({},M,(e={},e[B]=F?A+"px":"",e[U]=O?I+"px":"",e.transform="",e))}function c9(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,c=t.roundOffsets,d=c===void 0?!0:c,h={placement:Ts(e.placement),variation:Bl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,LI(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,LI(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const u9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:c9,data:{}};var Qh={passive:!0};function d9(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,o=s===void 0?!0:s,l=r.resize,c=l===void 0?!0:l,d=lr(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",t.update,Qh)}),c&&d.addEventListener("resize",t.update,Qh),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",t.update,Qh)}),c&&d.removeEventListener("resize",t.update,Qh)}}const h9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d9,data:{}};var f9={left:"right",right:"left",bottom:"top",top:"bottom"};function mf(n){return n.replace(/left|right|bottom|top/g,function(e){return f9[e]})}var p9={start:"end",end:"start"};function jI(n){return n.replace(/start|end/g,function(e){return p9[e]})}function _0(n){var e=lr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function w0(n){return $l(Co(n)).left+_0(n).scrollLeft}function m9(n,e){var t=lr(n),r=Co(n),s=t.visualViewport,o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;var h=vb();(h||!h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:c+w0(n),y:d}}function g9(n){var e,t=Co(n),r=_0(n),s=(e=n.ownerDocument)==null?void 0:e.body,o=oa(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=oa(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+w0(n),d=-r.scrollTop;return di(s||t).direction==="rtl"&&(c+=oa(t.clientWidth,s?s.clientWidth:0)-o),{width:o,height:l,x:c,y:d}}function E0(n){var e=di(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function xb(n){return["html","body","#document"].indexOf(vo(n))>=0?n.ownerDocument.body:xs(n)&&E0(n)?n:xb(Kp(n))}function Au(n,e){var t;e===void 0&&(e=[]);var r=xb(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),o=lr(r),l=s?[o].concat(o.visualViewport||[],E0(r)?r:[]):r,c=e.concat(l);return s?c:c.concat(Au(Kp(l)))}function gv(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function y9(n,e){var t=$l(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function MI(n,e,t){return e===gb?gv(m9(n,t)):ya(e)?y9(e,t):gv(g9(Co(n)))}function v9(n){var e=Au(Kp(n)),t=["absolute","fixed"].indexOf(di(n).position)>=0,r=t&&xs(n)?vd(n):n;return ya(r)?e.filter(function(s){return ya(s)&&_b(s,r)&&vo(s)!=="body"}):[]}function _9(n,e,t,r){var s=e==="clippingParents"?v9(n):[].concat(e),o=[].concat(s,[t]),l=o[0],c=o.reduce(function(d,h){var g=MI(n,h,r);return d.top=oa(g.top,d.top),d.right=Yf(g.right,d.right),d.bottom=Yf(g.bottom,d.bottom),d.left=oa(g.left,d.left),d},MI(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Ib(n){var e=n.reference,t=n.element,r=n.placement,s=r?Ts(r):null,o=r?Bl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,d;switch(s){case qn:d={x:l,y:e.y-t.height};break;case Sr:d={x:l,y:e.y+e.height};break;case Cr:d={x:e.x+e.width,y:c};break;case Hn:d={x:e.x-t.width,y:c};break;default:d={x:e.x,y:e.y}}var h=s?v0(s):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Fl:d[h]=d[h]-(e[g]/2-t[g]/2);break;case qu:d[h]=d[h]+(e[g]/2-t[g]/2);break}}return d}function Hu(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,c=t.boundary,d=c===void 0?B6:c,h=t.rootBoundary,g=h===void 0?gb:h,v=t.elementContext,E=v===void 0?au:v,I=t.altBoundary,C=I===void 0?!1:I,A=t.padding,x=A===void 0?0:A,O=Eb(typeof x!="number"?x:Tb(x,yd)),F=E===au?z6:au,U=n.rects.popper,B=n.elements[C?F:E],G=_9(ya(B)?B:B.contextElement||Co(n.elements.popper),d,g,l),X=$l(n.elements.reference),k=Ib({reference:X,element:U,placement:s}),N=gv(Object.assign({},U,k)),P=E===au?N:X,L={top:G.top-P.top+O.top,bottom:P.bottom-G.bottom+O.bottom,left:G.left-P.left+O.left,right:P.right-G.right+O.right},M=n.modifiersData.offset;if(E===au&&M){var V=M[s];Object.keys(L).forEach(function(D){var ue=[Cr,Sr].indexOf(D)>=0?1:-1,Re=[qn,Sr].indexOf(D)>=0?"y":"x";L[D]+=V[Re]*ue})}return L}function w9(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,o=t.rootBoundary,l=t.padding,c=t.flipVariations,d=t.allowedAutoPlacements,h=d===void 0?yb:d,g=Bl(r),v=g?c?OI:OI.filter(function(C){return Bl(C)===g}):yd,E=v.filter(function(C){return h.indexOf(C)>=0});E.length===0&&(E=v);var I=E.reduce(function(C,A){return C[A]=Hu(n,{placement:A,boundary:s,rootBoundary:o,padding:l})[Ts(A)],C},{});return Object.keys(I).sort(function(C,A){return I[C]-I[A]})}function E9(n){if(Ts(n)===m0)return[];var e=mf(n);return[jI(n),e,jI(e)]}function T9(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,o=s===void 0?!0:s,l=t.altAxis,c=l===void 0?!0:l,d=t.fallbackPlacements,h=t.padding,g=t.boundary,v=t.rootBoundary,E=t.altBoundary,I=t.flipVariations,C=I===void 0?!0:I,A=t.allowedAutoPlacements,x=e.options.placement,O=Ts(x),F=O===x,U=d||(F||!C?[mf(x)]:E9(x)),B=[x].concat(U).reduce(function(Se,Ne){return Se.concat(Ts(Ne)===m0?w9(e,{placement:Ne,boundary:g,rootBoundary:v,padding:h,flipVariations:C,allowedAutoPlacements:A}):Ne)},[]),G=e.rects.reference,X=e.rects.popper,k=new Map,N=!0,P=B[0],L=0;L<B.length;L++){var M=B[L],V=Ts(M),D=Bl(M)===Fl,ue=[qn,Sr].indexOf(V)>=0,Re=ue?"width":"height",be=Hu(e,{placement:M,boundary:g,rootBoundary:v,altBoundary:E,padding:h}),Ie=ue?D?Cr:Hn:D?Sr:qn;G[Re]>X[Re]&&(Ie=mf(Ie));var oe=mf(Ie),de=[];if(o&&de.push(be[V]<=0),c&&de.push(be[Ie]<=0,be[oe]<=0),de.every(function(Se){return Se})){P=M,N=!1;break}k.set(M,de)}if(N)for(var ae=C?3:1,W=function(Ne){var je=B.find(function(Ue){var Me=k.get(Ue);if(Me)return Me.slice(0,Ne).every(function(Xe){return Xe})});if(je)return P=je,"break"},ee=ae;ee>0;ee--){var ge=W(ee);if(ge==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const x9={name:"flip",enabled:!0,phase:"main",fn:T9,requiresIfExists:["offset"],data:{_skip:!1}};function VI(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function FI(n){return[qn,Cr,Sr,Hn].some(function(e){return n[e]>=0})}function I9(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,l=Hu(e,{elementContext:"reference"}),c=Hu(e,{altBoundary:!0}),d=VI(l,r),h=VI(c,s,o),g=FI(d),v=FI(h);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const S9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:I9};function C9(n,e,t){var r=Ts(n),s=[Hn,qn].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],c=o[1];return l=l||0,c=(c||0)*s,[Hn,Cr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function R9(n){var e=n.state,t=n.options,r=n.name,s=t.offset,o=s===void 0?[0,0]:s,l=yb.reduce(function(g,v){return g[v]=C9(v,e.rects,o),g},{}),c=l[e.placement],d=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=l}const A9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:R9};function b9(n){var e=n.state,t=n.name;e.modifiersData[t]=Ib({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const N9={name:"popperOffsets",enabled:!0,phase:"read",fn:b9,data:{}};function P9(n){return n==="x"?"y":"x"}function k9(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,o=s===void 0?!0:s,l=t.altAxis,c=l===void 0?!1:l,d=t.boundary,h=t.rootBoundary,g=t.altBoundary,v=t.padding,E=t.tether,I=E===void 0?!0:E,C=t.tetherOffset,A=C===void 0?0:C,x=Hu(e,{boundary:d,rootBoundary:h,padding:v,altBoundary:g}),O=Ts(e.placement),F=Bl(e.placement),U=!F,B=v0(O),G=P9(B),X=e.modifiersData.popperOffsets,k=e.rects.reference,N=e.rects.popper,P=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,L=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(X){if(o){var D,ue=B==="y"?qn:Hn,Re=B==="y"?Sr:Cr,be=B==="y"?"height":"width",Ie=X[B],oe=Ie+x[ue],de=Ie-x[Re],ae=I?-N[be]/2:0,W=F===Fl?k[be]:N[be],ee=F===Fl?-N[be]:-k[be],ge=e.elements.arrow,Se=I&&ge?y0(ge):{width:0,height:0},Ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:wb(),je=Ne[ue],Ue=Ne[Re],Me=Ru(0,k[be],Se[be]),Xe=U?k[be]/2-ae-Me-je-L.mainAxis:W-Me-je-L.mainAxis,Dt=U?-k[be]/2+ae+Me+Ue+L.mainAxis:ee+Me+Ue+L.mainAxis,Gn=e.elements.arrow&&vd(e.elements.arrow),mi=Gn?B==="y"?Gn.clientTop||0:Gn.clientLeft||0:0,Rr=(D=M==null?void 0:M[B])!=null?D:0,bs=Ie+Xe-Rr-mi,gi=Ie+Dt-Rr,yi=Ru(I?Yf(oe,bs):oe,Ie,I?oa(de,gi):de);X[B]=yi,V[B]=yi-Ie}if(c){var vi,Sa=B==="x"?qn:Hn,_i=B==="x"?Sr:Cr,en=X[G],Pn=G==="y"?"height":"width",wi=en+x[Sa],Ns=en-x[_i],Zr=[qn,Hn].indexOf(O)!==-1,Ei=(vi=M==null?void 0:M[G])!=null?vi:0,It=Zr?wi:en-k[Pn]-N[Pn]-Ei+L.altAxis,St=Zr?en+k[Pn]+N[Pn]-Ei-L.altAxis:Ns,cr=I&&Zr?n9(It,en,St):Ru(I?It:wi,en,I?St:Ns);X[G]=cr,V[G]=cr-en}e.modifiersData[r]=V}}const O9={name:"preventOverflow",enabled:!0,phase:"main",fn:k9,requiresIfExists:["offset"]};function D9(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function L9(n){return n===lr(n)||!xs(n)?_0(n):D9(n)}function j9(n){var e=n.getBoundingClientRect(),t=Ul(e.width)/n.offsetWidth||1,r=Ul(e.height)/n.offsetHeight||1;return t!==1||r!==1}function M9(n,e,t){t===void 0&&(t=!1);var r=xs(e),s=xs(e)&&j9(e),o=Co(e),l=$l(n,s,t),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((vo(e)!=="body"||E0(o))&&(c=L9(e)),xs(e)?(d=$l(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=w0(o))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function V9(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function s(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var d=e.get(c);d&&s(d)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||s(o)}),r}function F9(n){var e=V9(n);return Z6.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function U9(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function $9(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var UI={placement:"bottom",modifiers:[],strategy:"absolute"};function $I(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function B9(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,o=s===void 0?UI:s;return function(c,d,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},UI,o),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},v=[],E=!1,I={state:g,setOptions:function(O){var F=typeof O=="function"?O(g.options):O;A(),g.options=Object.assign({},o,g.options,F),g.scrollParents={reference:ya(c)?Au(c):c.contextElement?Au(c.contextElement):[],popper:Au(d)};var U=F9($9([].concat(r,g.options.modifiers)));return g.orderedModifiers=U.filter(function(B){return B.enabled}),C(),I.update()},forceUpdate:function(){if(!E){var O=g.elements,F=O.reference,U=O.popper;if($I(F,U)){g.rects={reference:M9(F,vd(U),g.options.strategy==="fixed"),popper:y0(U)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(L){return g.modifiersData[L.name]=Object.assign({},L.data)});for(var B=0;B<g.orderedModifiers.length;B++){if(g.reset===!0){g.reset=!1,B=-1;continue}var G=g.orderedModifiers[B],X=G.fn,k=G.options,N=k===void 0?{}:k,P=G.name;typeof X=="function"&&(g=X({state:g,options:N,name:P,instance:I})||g)}}}},update:U9(function(){return new Promise(function(x){I.forceUpdate(),x(g)})}),destroy:function(){A(),E=!0}};if(!$I(c,d))return I;I.setOptions(h).then(function(x){!E&&h.onFirstUpdate&&h.onFirstUpdate(x)});function C(){g.orderedModifiers.forEach(function(x){var O=x.name,F=x.options,U=F===void 0?{}:F,B=x.effect;if(typeof B=="function"){var G=B({state:g,name:O,instance:I,options:U}),X=function(){};v.push(G||X)}})}function A(){v.forEach(function(x){return x()}),v=[]}return I}}const z9=B9({defaultModifiers:[S9,N9,u9,h9,A9,x9,O9,o9]}),W9=["enabled","placement","strategy","modifiers"];function q9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const H9={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},K9={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,s=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&s==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},G9=[];function Q9(n,e,t={}){let{enabled:r=!0,placement:s="bottom",strategy:o="absolute",modifiers:l=G9}=t,c=q9(t,W9);const d=S.useRef(l),h=S.useRef(),g=S.useCallback(()=>{var x;(x=h.current)==null||x.update()},[]),v=S.useCallback(()=>{var x;(x=h.current)==null||x.forceUpdate()},[]),[E,I]=$6(S.useState({placement:s,update:g,forceUpdate:v,attributes:{},styles:{popper:{},arrow:{}}})),C=S.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const O={},F={};Object.keys(x.elements).forEach(U=>{O[U]=x.styles[U],F[U]=x.attributes[U]}),I({state:x,styles:O,attributes:F,update:g,forceUpdate:v,placement:x.placement})}}),[g,v,I]),A=S.useMemo(()=>(Cu(d.current,l)||(d.current=l),d.current),[l]);return S.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:s,strategy:o,modifiers:[...A,C,H9]})},[o,s,C,r,A]),S.useEffect(()=>{if(!(!r||n==null||e==null))return h.current=z9(n,e,Object.assign({},c,{placement:s,strategy:o,modifiers:[...A,K9,C]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,I(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),E}function BI(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function Y9(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function Yh(n,e,t,r){return mb(n,e,t,r),function(){Y9(n,e,t,r)}}function X9(n){return n&&n.ownerDocument||document}var iy,zI;function J9(){if(zI)return iy;zI=1;var n=function(){};return iy=n,iy}var Z9=J9();const e$=Gu(Z9),WI=()=>{};function t$(n){return n.button===0}function n$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const oy=n=>n&&("current"in n?n.current:n),qI={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function r$(n,e=WI,{disabled:t,clickTrigger:r="click"}={}){const s=S.useRef(!1),o=S.useRef(!1),l=S.useCallback(h=>{const g=oy(n);e$(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!g||n$(h)||!t$(h)||!!BI(g,h.target)||o.current,o.current=!1},[n]),c=oo(h=>{const g=oy(n);g&&BI(g,h.target)?o.current=!0:o.current=!1}),d=oo(h=>{s.current||e(h)});S.useEffect(()=>{var h,g;if(t||n==null)return;const v=X9(oy(n)),E=v.defaultView||window;let I=(h=E.event)!=null?h:(g=E.parent)==null?void 0:g.event,C=null;qI[r]&&(C=Yh(v,qI[r],c,!0));const A=Yh(v,r,l,!0),x=Yh(v,r,F=>{if(F===I){I=void 0;return}d(F)});let O=[];return"ontouchstart"in v.documentElement&&(O=[].slice.call(v.body.children).map(F=>Yh(F,"mousemove",WI))),()=>{C==null||C(),A(),x(),O.forEach(F=>F())}},[n,t,r,l,c,d])}function s$(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function i$(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function o$({enabled:n,enableEvents:e,placement:t,flip:r,offset:s,fixed:o,containerPadding:l,arrowElement:c,popperConfig:d={}}){var h,g,v,E,I;const C=s$(d.modifiers);return Object.assign({},d,{placement:t,enabled:n,strategy:o?"fixed":d.strategy,modifiers:i$(Object.assign({},C,{eventListeners:{enabled:e,options:(h=C.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},C.preventOverflow,{options:l?Object.assign({padding:l},(g=C.preventOverflow)==null?void 0:g.options):(v=C.preventOverflow)==null?void 0:v.options}),offset:{options:Object.assign({offset:s},(E=C.offset)==null?void 0:E.options)},arrow:Object.assign({},C.arrow,{enabled:!!c,options:Object.assign({},(I=C.arrow)==null?void 0:I.options,{element:c})}),flip:Object.assign({enabled:!!r},C.flip)}))})}const a$=["children","usePopper"];function l$(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const c$=()=>{};function Sb(n={}){const e=S.useContext(Hp),[t,r]=F6(),s=S.useRef(!1),{flip:o,offset:l,rootCloseEvent:c,fixed:d=!1,placement:h,popperConfig:g={},enableEventListeners:v=!0,usePopper:E=!!e}=n,I=(e==null?void 0:e.show)==null?!!n.show:e.show;I&&!s.current&&(s.current=!0);const C=X=>{e==null||e.toggle(!1,X)},{placement:A,setMenu:x,menuElement:O,toggleElement:F}=e||{},U=Q9(F,O,o$({placement:h||A||"bottom-start",enabled:E,enableEvents:v??I,offset:l,flip:o,fixed:d,arrowElement:t,popperConfig:g})),B=Object.assign({ref:x||c$,"aria-labelledby":F==null?void 0:F.id},U.attributes.popper,{style:U.styles.popper}),G={show:I,placement:A,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:E?U:null,arrowProps:E?Object.assign({ref:r},U.attributes.arrow,{style:U.styles.arrow}):{}};return r$(O,C,{clickTrigger:c,disabled:!I}),[B,G]}function Cb(n){let{children:e,usePopper:t=!0}=n,r=l$(n,a$);const[s,o]=Sb(Object.assign({},r,{usePopper:t}));return m.jsx(m.Fragment,{children:e(s,o)})}Cb.displayName="DropdownMenu";const T0={prefix:String(Math.round(Math.random()*1e10)),current:0},Rb=Rt.createContext(T0),u$=Rt.createContext(!1);let d$=!!(typeof window<"u"&&window.document&&window.document.createElement),ay=new WeakMap;function h$(n=!1){let e=S.useContext(Rb),t=S.useRef(null);if(t.current===null&&!n){var r,s;let o=(s=Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=ay.get(o);l==null?ay.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,ay.delete(o))}t.current=++e.current}return t.current}function f$(n){let e=S.useContext(Rb);e===T0&&!d$&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=h$(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function p$(n){let e=Rt.useId(),[t]=S.useState(_$()),r=t?"react-aria":`react-aria${T0.prefix}`;return n||`${r}-${e}`}const m$=typeof Rt.useId=="function"?p$:f$;function g$(){return!1}function y$(){return!0}function v$(n){return()=>{}}function _$(){return typeof Rt.useSyncExternalStore=="function"?Rt.useSyncExternalStore(v$,g$,y$):S.useContext(u$)}const Ab=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},HI=()=>{};function bb(){const n=m$(),{show:e=!1,toggle:t=HI,setToggle:r,menuElement:s}=S.useContext(Hp)||{},o=S.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||HI,onClick:o,"aria-expanded":!!e};return s&&Ab(s)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function Nb({children:n}){const[e,t]=bb();return m.jsx(m.Fragment,{children:n(e,t)})}Nb.displayName="DropdownToggle";const yv=S.createContext(null),KI=(n,e=null)=>n!=null?String(n):e||null,Pb=S.createContext(null);Pb.displayName="NavContext";const w$=["as","disabled"];function E$(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function T$(n){return!n||n.trim()==="#"}function x0({tagName:n,disabled:e,href:t,target:r,rel:s,role:o,onClick:l,tabIndex:c=0,type:d}){n||(t!=null||r!=null||s!=null?n="a":n="button");const h={tagName:n};if(n==="button")return[{type:d||"button",disabled:e},h];const g=E=>{if((e||n==="a"&&T$(t))&&E.preventDefault(),e){E.stopPropagation();return}l==null||l(E)},v=E=>{E.key===" "&&(E.preventDefault(),g(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:g,onKeyDown:v},h]}const kb=S.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=E$(n,w$);const[o,{tagName:l}]=x0(Object.assign({tagName:t,disabled:r},s));return m.jsx(l,Object.assign({},s,o,{ref:e}))});kb.displayName="Button";const x$="data-rr-ui-";function Ob(n){return`${x$}${n}`}const I$=["eventKey","disabled","onClick","active","as"];function S$(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Db({key:n,href:e,active:t,disabled:r,onClick:s}){const o=S.useContext(yv),l=S.useContext(Pb),{activeKey:c}=l||{},d=KI(n,e),h=t==null&&n!=null?KI(c)===d:t;return[{onClick:oo(v=>{r||(s==null||s(v),o&&!v.isPropagationStopped()&&o(d,v))}),"aria-disabled":r||void 0,"aria-selected":h,[Ob("dropdown-item")]:""},{isActive:h}]}const Lb=S.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:s,active:o,as:l=kb}=n,c=S$(n,I$);const[d]=Db({key:t,href:c.href,disabled:r,onClick:s,active:o});return m.jsx(l,Object.assign({},c,{ref:e},d))});Lb.displayName="DropdownItem";const jb=S.createContext(pb?window:void 0);jb.Provider;function C$(){return S.useContext(jb)}function GI(){const n=j6(),e=S.useRef(null),t=S.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function _d({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:s=`* [${Ob("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:c}){const d=C$(),[h,g]=D6(e,n,r),[v,E]=GI(),I=v.current,[C,A]=GI(),x=C.current,O=L6(h),F=S.useRef(null),U=S.useRef(!1),B=S.useContext(yv),G=S.useCallback((M,V,D=V==null?void 0:V.type)=>{g(M,{originalEvent:V,source:D})},[g]),X=oo((M,V)=>{t==null||t(M,V),G(!1,V,"select"),V.isPropagationStopped()||B==null||B(M,V)}),k=S.useMemo(()=>({toggle:G,placement:l,show:h,menuElement:I,toggleElement:x,setMenu:E,setToggle:A}),[G,l,h,I,x,E,A]);I&&O&&!h&&(U.current=I.contains(I.ownerDocument.activeElement));const N=oo(()=>{x&&x.focus&&x.focus()}),P=oo(()=>{const M=F.current;let V=o;if(V==null&&(V=v.current&&Ab(v.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(M))return;const D=NI(v.current,s)[0];D&&D.focus&&D.focus()});S.useEffect(()=>{h?P():U.current&&(U.current=!1,N())},[h,U,N,P]),S.useEffect(()=>{F.current=null});const L=(M,V)=>{if(!v.current)return null;const D=NI(v.current,s);let ue=D.indexOf(M)+V;return ue=Math.max(0,Math.min(ue,D.length)),D[ue]};return V6(S.useCallback(()=>d.document,[d]),"keydown",M=>{var V,D;const{key:ue}=M,Re=M.target,be=(V=v.current)==null?void 0:V.contains(Re),Ie=(D=C.current)==null?void 0:D.contains(Re);if(/input|textarea/i.test(Re.tagName)&&(ue===" "||ue!=="Escape"&&be||ue==="Escape"&&Re.type==="search")||!be&&!Ie||ue==="Tab"&&(!v.current||!h))return;F.current=M.type;const de={originalEvent:M,source:M.type};switch(ue){case"ArrowUp":{const ae=L(Re,-1);ae&&ae.focus&&ae.focus(),M.preventDefault();return}case"ArrowDown":if(M.preventDefault(),!h)g(!0,de);else{const ae=L(Re,1);ae&&ae.focus&&ae.focus()}return;case"Tab":mb(Re.ownerDocument,"keyup",ae=>{var W;(ae.key==="Tab"&&!ae.target||!((W=v.current)!=null&&W.contains(ae.target)))&&g(!1,de)},{once:!0});break;case"Escape":ue==="Escape"&&(M.preventDefault(),M.stopPropagation()),g(!1,de);break}}),m.jsx(yv.Provider,{value:X,children:m.jsx(Hp.Provider,{value:k,children:c})})}_d.displayName="Dropdown";_d.Menu=Cb;_d.Toggle=Nb;_d.Item=Lb;function vv(){return vv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vv.apply(null,arguments)}function R$(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function QI(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function A$(n){var e=b$(n,"string");return typeof e=="symbol"?e:String(e)}function b$(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function N$(n,e,t){var r=S.useRef(n!==void 0),s=S.useState(e),o=s[0],l=s[1],c=n!==void 0,d=r.current;return r.current=c,!c&&d&&o!==e&&l(e),[c?n:o,S.useCallback(function(h){for(var g=arguments.length,v=new Array(g>1?g-1:0),E=1;E<g;E++)v[E-1]=arguments[E];t&&t.apply(void 0,[h].concat(v)),l(h)},[t])]}function P$(n,e){return Object.keys(e).reduce(function(t,r){var s,o=t,l=o[QI(r)],c=o[r],d=R$(o,[QI(r),r].map(A$)),h=e[r],g=N$(c,l,n[h]),v=g[0],E=g[1];return vv({},d,(s={},s[r]=v,s[h]=E,s))},n)}function k$(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n},[n]),e}function O$(n){const e=k$(n);return S.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const I0=S.createContext({});I0.displayName="DropdownContext";const D$=["xxl","xl","lg","md","sm","xs"],L$="xs",wd=S.createContext({prefixes:{},breakpoints:D$,minBreakpoint:L$}),{Consumer:qW,Provider:HW}=wd;function Ut(n,e){const{prefixes:t}=S.useContext(wd);return n||t[e]||e}function j$(){const{breakpoints:n}=S.useContext(wd);return n}function M$(){const{minBreakpoint:n}=S.useContext(wd);return n}function V$(){const{dir:n}=S.useContext(wd);return n==="rtl"}const Mb=S.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...s},o)=>(e=Ut(e,"dropdown-divider"),m.jsx(t,{ref:o,className:bt(n,e),role:r,...s})));Mb.displayName="DropdownDivider";const Vb=S.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...s},o)=>(e=Ut(e,"dropdown-header"),m.jsx(t,{ref:o,className:bt(n,e),role:r,...s})));Vb.displayName="DropdownHeader";const F$=["onKeyDown"];function U$(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function $$(n){return!n||n.trim()==="#"}const Fb=S.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=U$(n,F$);const[s]=x0(Object.assign({tagName:"a"},r)),o=oo(l=>{s.onKeyDown(l),t==null||t(l)});return $$(r.href)||r.role==="button"?m.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:o})):m.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});Fb.displayName="Anchor";const Ub=S.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:s,active:o,as:l=Fb,...c},d)=>{const h=Ut(n,"dropdown-item"),[g,v]=Db({key:t,href:c.href,disabled:r,onClick:s,active:o});return m.jsx(l,{...c,...g,ref:d,className:bt(e,h,v.isActive&&"active",r&&"disabled")})});Ub.displayName="DropdownItem";const $b=S.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Ut(e,"dropdown-item-text"),m.jsx(t,{ref:s,className:bt(n,e),...r})));$b.displayName="DropdownItemText";const B$=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",z$=typeof document<"u",W$=z$||B$?S.useLayoutEffect:S.useEffect,YI=n=>!n||typeof n=="function"?n:e=>{n.current=e};function q$(n,e){const t=YI(n),r=YI(e);return s=>{t&&t(s),r&&r(s)}}function Bb(n,e){return S.useMemo(()=>q$(n,e),[n,e])}const S0=S.createContext(null);S0.displayName="InputGroupContext";const zb=S.createContext(null);zb.displayName="NavbarContext";function Wb(n,e){return n}var ly={exports:{}},cy,XI;function H$(){if(XI)return cy;XI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cy=n,cy}var uy,JI;function K$(){if(JI)return uy;JI=1;var n=H$();function e(){}function t(){}return t.resetWarningCache=e,uy=function(){function r(l,c,d,h,g,v){if(v!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},uy}var ZI;function G$(){return ZI||(ZI=1,ly.exports=K$()()),ly.exports}var Q$=G$();const Al=Gu(Q$);function qb(n,e,t){const r=t?"top-end":"top-start",s=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",d=t?"right-end":"left-end",h=t?"left-start":"right-start",g=t?"left-end":"right-end";let v=n?l:o;return e==="up"?v=n?s:r:e==="end"?v=n?g:h:e==="start"?v=n?d:c:e==="down-centered"?v="bottom":e==="up-centered"&&(v="top"),v}const Hb=S.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:s=!0,show:o,renderOnMount:l,as:c="div",popperConfig:d,variant:h,...g},v)=>{let E=!1;const I=S.useContext(zb),C=Ut(n,"dropdown-menu"),{align:A,drop:x,isRTL:O}=S.useContext(I0);t=t||A;const F=S.useContext(S0),U=[];if(t)if(typeof t=="object"){const M=Object.keys(t);if(M.length){const V=M[0],D=t[V];E=D==="start",U.push(`${C}-${V}-${D}`)}}else t==="end"&&(E=!0);const B=qb(E,x,O),[G,{hasShown:X,popper:k,show:N,toggle:P}]=Sb({flip:s,rootCloseEvent:r,show:o,usePopper:!I&&U.length===0,offset:[0,2],popperConfig:d,placement:B});if(G.ref=Bb(Wb(v),G.ref),W$(()=>{N&&(k==null||k.update())},[N]),!X&&!l&&!F)return null;typeof c!="string"&&(G.show=N,G.close=()=>P==null?void 0:P(!1),G.align=t);let L=g.style;return k!=null&&k.placement&&(L={...g.style,...G.style},g["x-placement"]=k.placement),m.jsx(c,{...g,...G,style:L,...(U.length||I)&&{"data-bs-popper":"static"},className:bt(e,C,N&&"show",E&&`${C}-end`,h&&`${C}-${h}`,...U)})});Hb.displayName="DropdownMenu";const Xf=S.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:o=!1,className:l,...c},d)=>{const h=Ut(e,"btn"),[g,{tagName:v}]=x0({tagName:n,disabled:o,...c}),E=v;return m.jsx(E,{...g,...c,ref:d,disabled:o,className:bt(l,h,s&&"active",t&&`${h}-${t}`,r&&`${h}-${r}`,c.href&&o&&"disabled")})});Xf.displayName="Button";const Kb=S.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:s=Xf,...o},l)=>{const c=Ut(n,"dropdown-toggle"),d=S.useContext(Hp);r!==void 0&&(o.bsPrefix=r);const[h]=bb();return h.ref=Bb(h.ref,Wb(l)),m.jsx(s,{className:bt(t,c,e&&`${c}-split`,(d==null?void 0:d.show)&&"show"),...h,...o})});Kb.displayName="DropdownToggle";const Gb=S.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:s,className:o,align:l="start",onSelect:c,onToggle:d,focusFirstItemOnShow:h,as:g="div",navbar:v,autoClose:E=!0,...I}=P$(n,{show:"onToggle"}),C=S.useContext(S0),A=Ut(t,"dropdown"),x=V$(),O=k=>E===!1?k==="click":E==="inside"?k!=="rootClose":E==="outside"?k!=="select":!0,F=O$((k,N)=>{var P;!((P=N.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&N.source==="mousedown"||(N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),O(N.source)&&(d==null||d(k,N)))}),B=qb(l==="end",r,x),G=S.useMemo(()=>({align:l,drop:r,isRTL:x}),[l,r,x]),X={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return m.jsx(I0.Provider,{value:G,children:m.jsx(_d,{placement:B,show:s,onSelect:c,onToggle:F,focusFirstItemOnShow:h,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:C?I.children:m.jsx(g,{...I,ref:e,className:bt(o,s&&"show",X[r])})})})});Gb.displayName="Dropdown";const Hs=Object.assign(Gb,{Toggle:Kb,Menu:Hb,Item:Ub,ItemText:$b,Divider:Mb,Header:Vb}),Y$=()=>{const n=In(),{currentUser:e}=Rs(),{profile:t}=S.useContext(Ia),{toast:r}=a0(),[s,o]=S.useState(!1),l=async()=>{try{o(!0),r({title:"Logging out",description:"You are being signed out..."}),await p0(),setTimeout(()=>{n("/"),o(!1)},1e3)}catch(c){console.error("Logout error:",c),r({variant:"destructive",title:"Logout failed",description:"There was an error signing you out."}),o(!1)}};return s?m.jsx(o0,{}):m.jsxs(Hs,{children:[m.jsx(Hs.Toggle,{variant:"success",id:"dropdown-basic",children:m.jsx("img",{src:hv})}),m.jsxs(Hs.Menu,{children:[(t==null?void 0:t.role)==="contractor"?m.jsx(Hs.Item,{as:yt,to:"/contractor-dashboard",children:"Dashboard"}):m.jsx(Hs.Item,{as:yt,to:"/ProfileDashboard",children:"Profile"}),m.jsx(Hs.Item,{as:yt,to:"/designerPage",children:"Designs"}),(e==null?void 0:e.isAdmin)&&m.jsx(Hs.Item,{as:yt,to:"/Admin",children:"Admin"}),m.jsx(Hs.Item,{href:"#/action-3",children:"Action"}),m.jsx(Hs.Item,{onClick:l,children:"Log Out"})]})]})},C0=()=>{const{userLoggedIn:n}=Rs()||{userLoggedIn:!1},e=In(),[t,r]=S.useState(!1),[s,o]=S.useState(!1),l=async()=>{r(!0);const c=await p0();r(!1),c.success?(o(!0),setTimeout(()=>{e("/")},1500)):alert("Logout failed. Please try again.")};return m.jsxs("div",{className:"nav",children:[m.jsx(yt,{to:"/",children:m.jsx("div",{className:"logo",children:"URENO"})}),m.jsxs("div",{className:"Right",children:[m.jsxs("menu",{children:[m.jsx("li",{children:"AI Design"}),n&&m.jsxs(m.Fragment,{children:[m.jsx(yt,{to:"/messages",children:m.jsx("li",{children:"Messages"})}),m.jsx(yt,{to:"/projects",children:m.jsx("li",{children:"Projects"})})]})]}),n?t?m.jsx("span",{className:"text-sm text-gray-500",children:"Logging out..."}):s?m.jsx("span",{className:"text-sm text-green-600",children:"Logged out!"}):m.jsx("button",{className:"btn login-btn",onClick:l,children:"Log Out"}):m.jsx(yt,{to:"/sign-in",children:m.jsx("button",{className:"btn login-btn",children:"Log In"})}),n?m.jsx(Y$,{}):m.jsx("button",{className:"btn profile-btn",children:m.jsx("object",{data:hv,type:"image/svg+xml",children:m.jsx("img",{src:hv})})})]})]})};function X$(){return m.jsxs(m.Fragment,{children:[m.jsx("meta",{charSet:"UTF-8"}),m.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),m.jsx("title",{children:"Ureno"}),m.jsx(C0,{}),m.jsx("div",{className:"center-logo",children:m.jsxs("div",{className:"container",children:[m.jsx("h1",{children:"URENO"}),m.jsx("p",{children:"Renovation Made Simple"}),m.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),m.jsxs("div",{className:"services",children:[m.jsx("div",{className:"our-services",children:m.jsx("p",{children:"Our Services"})}),m.jsxs("div",{className:"floor-content",children:[m.jsx("div",{className:"flooring fadeInRight",children:m.jsx("p",{children:m.jsx(yt,{to:"/product-page",children:m.jsx("img",{src:C6,alt:"light oak wooden floor"})})})}),m.jsxs("div",{className:"floor-txt fadeInRight",children:[m.jsx("h3",{children:"flooring"}),m.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),m.jsxs("div",{className:"paint-content",children:[m.jsx("div",{className:"painting fadeInLeft",children:m.jsx("img",{src:R6,alt:"blue painted walls"})}),m.jsxs("div",{className:"paint-txt fadeInLeft",children:[m.jsx("h3",{children:"paint"}),m.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),m.jsx(f0,{})]})}const J$="/Ureno_webdesign/assets/Harvest-grove-rigid-CaKY0j96.png",Z$="/Ureno_webdesign/assets/tavertine-BlkzyBiO.png",Qb=({productId:n,image:e,title:t,description:r,price:s,link:o})=>m.jsx("div",{className:"products",children:m.jsxs(yt,{to:`/productDetail/${n}`,className:"container",children:[m.jsx("img",{src:e,alt:t}),m.jsx("div",{className:"prod-title",children:t}),m.jsx("p",{children:r}),m.jsx("p",{children:s})]})});Qb.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function eB(){const[n,e]=S.useState(0),{userLoggedIn:t}=Rs()||{userLoggedIn:!1},[r,s]=S.useState([]);return S.useEffect(()=>{(async()=>{try{const l=ld();console.log("Attempting to fetch products from Firestore...");const c=await ms(ps(l,"products"));console.log("Products fetched successfully:",c.size);const d=c.docs.map(h=>({id:h.id,...h.data()}));s(d)}catch(l){console.error("Error fetching products:",l),s([{id:"HarvestGrove",image:J$,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"},{id:"tavertine",image:Z$,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}])}})()},[]),S.useEffect(()=>{const o=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),m.jsxs(m.Fragment,{children:[m.jsx("meta",{charSet:"UTF-8"}),m.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),m.jsx("title",{children:"URENO"}),m.jsx(C0,{}),m.jsxs("div",{className:"body",children:[m.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[m.jsx("h1",{children:"Flooring"}),m.jsxs("div",{className:"search",children:[m.jsx("div",{className:"input",children:m.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),m.jsx("div",{className:"filter",children:"Filter"})]}),m.jsx("p",{children:"Popular"}),m.jsx("div",{className:"products",children:r.map(o=>m.jsx(Qb,{productId:o.id,image:o.image,title:o.title,description:o.description,price:o.price,link:o.link},o.id))})]}),m.jsx(f0,{})]})]})}const tB=tb("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-zinc-900 text-zinc-100 hover:bg-zinc-800",destructive:"text-white hover:bg-red-600 dark:hover:bg-red-600",outline:"bg-zinc-100 text-zinc-900 hover:bg-zinc-200 outline outline-1 outline-zinc-300",subtle:"hover:bg-zinc-200 bg-zinc-100 text-zinc-900",ghost:"bg-transparent hover:bg-zinc-100 text-zinc-800 data-[state=open]:bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent dark:bg-transparent underline-offset-4 hover:underline text-slate-900 dark:text-slate-100 hover:bg-transparent dark:hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",xs:"h-8 px-1.5 rounded-sm",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Jf=S.forwardRef(({className:n,children:e,variant:t,isLoading:r,size:s,...o},l)=>m.jsxs("button",{className:So(tB({variant:t,size:s,className:n})),ref:l,disabled:r,...o,children:[r?m.jsx(VU,{className:"mr-2 h-4 w-4 animate-spin"}):null,e]}));Jf.displayName="Button";const R0={logo:n=>m.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:m.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>m.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),m.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),m.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),m.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),m.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},nB=({className:n,...e})=>{const{userLoggedIn:t}=Rs()||{userLoggedIn:!1},r=In(),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,h]=S.useState(!1),{toast:g}=a0();S.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const v=async()=>{h(!0);try{const I=await N6();r("/")}catch(I){console.error("Google sign-in error:",I),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{h(!1),console.log("Logged in: ",t)}},E=async(I,C)=>{h(!0);try{const A=await b6(I,C);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(A){let x="Error logging in with email and password";console.log(A.code),A.code==="auth/invalid-credential"?x="Incorrect email or password. Please try again.":A.code==="auth/user-not-found"?x="No account found with this email.":A.code==="auth/invalid-email"?x="Invalid email format":A.code==="auth/too-many-requests"&&(x="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:x,variant:"destructive"})}finally{h(!1),console.log("Logged in: ",t)}};return m.jsxs(m.Fragment,{children:[m.jsx(fb,{}),m.jsx("div",{className:So("flex flex-col items-center space-y-4 justify-center",n),...e,children:m.jsxs("div",{className:"flex flex-col space-y-4",children:[m.jsx("input",{type:"email",value:s,onChange:I=>o(I.currentTarget.value),placeholder:"Email",className:"input"}),m.jsx("input",{type:"password",value:l,onChange:I=>c(I.target.value),placeholder:"Password",className:"input"}),m.jsx(Jf,{onClick:()=>E(s,l),isLoading:d,size:"sm",className:"w-full",children:"Login with Email"}),m.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[m.jsx("span",{className:"flex-grow border-t border-gray-300"}),m.jsx("span",{className:"px-3",children:" Or Login with Google "}),m.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),m.jsxs(Jf,{onClick:v,isLoading:d,size:"sm",className:"w-full",children:[d?null:m.jsx(R0.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},rB=()=>{const n=In();return m.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:m.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:m.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[m.jsx("div",{className:"w-full flex justify-center",children:m.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:m.jsx(R0.logo,{className:"h-12 w-auto"})})}),m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),m.jsx(nB,{}),m.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",m.jsx(yt,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),m.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",m.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",m.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},sB=()=>{const n=In();P5();const{userLoggedIn:e,loading:t}=Rs(),[r,s]=S.useState(""),[o,l]=S.useState(""),[c,d]=S.useState(""),[h,g]=S.useState(!1),[v,E]=S.useState(!1),[I,C]=S.useState(""),[A,x]=S.useState(""),[O,F]=S.useState(""),[U,B]=S.useState(!1),[G,X]=S.useState(""),k=async P=>{if(P.preventDefault(),!U){if(X(""),B(!0),!I||!A){X("Email and password are required"),B(!1);return}if(A.length<6){X("Password must be at least 6 characters"),B(!1);return}if(A!==O){X("Passwords don't match"),B(!1);return}try{const M=(await A6(I.trim(),A.trim())).user;await Ay(M,{displayName:`${r} ${o}`}),await s0(M.uid,r,o,I.trim(),c,M.displayName),n("/"),console.log(e)}catch(L){L.code==="auth/email-already-in-use"?X("An account with this email already exists."):L.code==="auth/invalid-email"?X("The email address is not valid."):X("There was a problem creating your account."),B(!1)}}},N=async()=>{E(!0);try{const P=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{E(!1),console.log("Logged in: ",e)}};return S.useEffect(()=>{h&&(n("/"),g(!1))},[h,n,g]),t?m.jsx("div",{children:"Loading..."}):m.jsxs(m.Fragment,{children:[e&&m.jsx(NS,{to:"/",replace:!0}),m.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:m.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[m.jsx("div",{className:"text-center mb-6",children:m.jsxs("div",{className:"mt-2",children:[m.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),m.jsx("p",{children:"Enter your information to sign up"})]})}),m.jsxs("form",{onSubmit:k,className:"space-y-4",children:[G&&m.jsx("span",{className:"text-red-600 font-bold",children:G}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-gray-600 font-bold"}),m.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:P=>{s(P.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-gray-600 font-bold"}),m.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:o,onChange:P=>{l(P.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-gray-600 font-bold"}),m.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:P=>{d(P.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-gray-600 font-bold"}),m.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:I,onChange:P=>{C(P.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-gray-600 font-bold"}),m.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:A,onChange:P=>{x(P.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-gray-600 font-bold"}),m.jsx("input",{disabled:U,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:O,onChange:P=>{F(P.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),G&&m.jsx("span",{className:"text-red-600 font-bold",children:G}),m.jsx("button",{type:"submit",disabled:U,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${U?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:U?"Signing Up...":"Create Account"})]}),m.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[m.jsx("span",{className:"flex-grow border-t border-gray-300"}),m.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),m.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),m.jsxs(Jf,{onClick:N,isLoading:v,size:"sm",className:"w-full",children:[v?null:m.jsx(R0.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),m.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",m.jsx(yt,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),m.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",m.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",m.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},iB=()=>m.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:m.jsx("div",{className:"flex flex-col space-y-2 text-center",children:m.jsx(sB,{})})}),pn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",Yb=()=>{const{productId:n}=Yu(),[e,t]=S.useState(null),[r,s]=S.useState(null);return S.useEffect(()=>{n&&(async()=>{try{const l=Tt(Wu,"products",n),c=await Nn(l);if(c.exists()){const d=c.data();t(d),s(d.image)}else console.error("Product not found")}catch(l){console.error("Error fetching product: ",l)}})()},[n]),e?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"main-content",children:[m.jsxs("div",{id:"left",children:[m.jsx("div",{className:"main-image",children:m.jsx("img",{src:r||e.image,alt:""})}),m.jsxs("div",{className:"thumbnails",children:[m.jsx("img",{src:e.image,alt:"",onClick:()=>s(e.image)}),m.jsx("img",{src:e.image1,alt:"",onClick:()=>s(e.image1)}),m.jsx("img",{src:e.image2,alt:"",onClick:()=>s(e.image2)}),m.jsx("img",{src:e.image3,alt:"",onClick:()=>s(e.image3)})]})]}),m.jsxs("div",{id:"right",children:[m.jsxs("div",{className:"title-section",children:[m.jsxs("div",{className:"title",children:[m.jsx("p",{id:"main",children:e.title}),m.jsx("p",{id:"sub",children:e.description})]}),m.jsxs("div",{className:"price-link",children:[m.jsx("div",{className:"title-left",children:m.jsx("p",{children:e.price})}),m.jsx("div",{className:"title-right",children:m.jsx("a",{href:"",children:"See in my room"})})]}),m.jsx("a",{href:"",children:"View specifications"})]}),m.jsxs("div",{className:"description",children:[m.jsx("p",{children:e.description}),m.jsx("p",{children:e.overview}),m.jsx("a",{href:"",children:"Product Details"}),m.jsx("a",{href:"",children:"Reviews"})]})]})]}),m.jsxs("div",{className:"secondary-content",children:[m.jsx("div",{className:"suggestedProduct",children:m.jsxs("div",{className:"container",children:[m.jsx("img",{src:pn,alt:"{title}"}),m.jsxs("div",{className:"prod-title",children:["{","title","}"]}),m.jsxs("p",{children:["{","description","}"]}),m.jsxs("p",{children:["{","price","}"]})]})}),m.jsx("div",{className:"suggestedProduct",children:m.jsxs("div",{className:"container",children:[m.jsx("img",{src:pn,alt:"{title}"}),m.jsxs("div",{className:"prod-title",children:["{","title","}"]}),m.jsxs("p",{children:["{","description","}"]}),m.jsxs("p",{children:["{","price","}"]})]})}),m.jsx("div",{className:"suggestedProduct",children:m.jsxs("div",{className:"container",children:[m.jsx("img",{src:pn,alt:"{title}"}),m.jsxs("div",{className:"prod-title",children:["{","title","}"]}),m.jsxs("p",{children:["{","description","}"]}),m.jsxs("p",{children:["{","price","}"]})]})})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"main-content",children:[m.jsxs("div",{id:"left",children:[m.jsx("div",{className:"main-image",children:m.jsx("img",{src:pn,alt:""})}),m.jsxs("div",{className:"thumbnails",children:[m.jsx("img",{src:pn,alt:""}),m.jsx("img",{src:pn,alt:""}),m.jsx("img",{src:pn,alt:""})]})]}),m.jsxs("div",{id:"right",children:[m.jsxs("div",{className:"title-section",children:[m.jsxs("div",{className:"title",children:[m.jsx("p",{id:"main",children:"Deafult Title"}),m.jsx("p",{id:"sub",children:"Default Category"})]}),m.jsxs("div",{className:"price-link",children:[m.jsx("div",{className:"title-left",children:m.jsx("p",{children:"$"})}),m.jsx("div",{className:"title-right",children:m.jsx("a",{href:"",children:"See in my room"})})]}),m.jsx("a",{href:"",children:"View specifications"})]}),m.jsxs("div",{className:"description",children:[m.jsx("p",{children:"Default Description"}),m.jsx("a",{href:"",children:"Product Details"}),m.jsx("a",{href:"",children:"Reviews"})]})]})]}),m.jsxs("div",{className:"secondary-content",children:[m.jsx("div",{className:"suggestedProduct",children:m.jsxs("div",{className:"container",children:[m.jsx("img",{src:pn,alt:"{title}"}),m.jsxs("div",{className:"prod-title",children:["{","title","}"]}),m.jsxs("p",{children:["{","description","}"]}),m.jsxs("p",{children:["{","price","}"]})]})}),m.jsx("div",{className:"suggestedProduct",children:m.jsxs("div",{className:"container",children:[m.jsx("img",{src:pn,alt:"{title}"}),m.jsxs("div",{className:"prod-title",children:["{","title","}"]}),m.jsxs("p",{children:["{","description","}"]}),m.jsxs("p",{children:["{","price","}"]})]})}),m.jsx("div",{className:"suggestedProduct",children:m.jsxs("div",{className:"container",children:[m.jsx("img",{src:pn,alt:"{title}"}),m.jsxs("div",{className:"prod-title",children:["{","title","}"]}),m.jsxs("p",{children:["{","description","}"]}),m.jsxs("p",{children:["{","price","}"]})]})})]})]})};Yb.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:pn},alternate1:{defaultImage:pn},alternate2:{defaultImage:pn},suggested1:{defaultImage:pn},suggested2:{defaultImage:pn},suggested3:{defaultImage:pn}};function oB(){return m.jsx(m.Fragment,{children:m.jsxs("div",{className:"product-detail-page",children:[m.jsx("meta",{charSet:"UTF-8"}),m.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),m.jsx("title",{children:"product detail"}),m.jsx(C0,{}),m.jsx(Yb,{}),m.jsx(f0,{})]})})}function aB(n,e){return S.Children.toArray(n).some(t=>S.isValidElement(t)&&t.type===e)}function lB({as:n,bsPrefix:e,className:t,...r}){e=Ut(e,"col");const s=j$(),o=M$(),l=[],c=[];return s.forEach(d=>{const h=r[d];delete r[d];let g,v,E;typeof h=="object"&&h!=null?{span:g,offset:v,order:E}=h:g=h;const I=d!==o?`-${d}`:"";g&&l.push(g===!0?`${e}${I}`:`${e}${I}-${g}`),E!=null&&c.push(`order${I}-${E}`),v!=null&&c.push(`offset${I}-${v}`)}),[{...r,className:bt(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const Xb=S.forwardRef((n,e)=>{const[{className:t,...r},{as:s="div",bsPrefix:o,spans:l}]=lB(n);return m.jsx(s,{...r,ref:e,className:bt(t,!l.length&&o)})});Xb.displayName="Col";const cB={type:Al.string,tooltip:Al.bool,as:Al.elementType},Gp=S.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...s},o)=>m.jsx(n,{...s,ref:o,className:bt(e,`${t}-${r?"tooltip":"feedback"}`)}));Gp.displayName="Feedback";Gp.propTypes=cB;const hi=S.createContext({}),A0=S.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:s=!1,isInvalid:o=!1,as:l="input",...c},d)=>{const{controlId:h}=S.useContext(hi);return e=Ut(e,"form-check-input"),m.jsx(l,{...c,ref:d,type:r,id:n||h,className:bt(t,e,s&&"is-valid",o&&"is-invalid")})});A0.displayName="FormCheckInput";const Zf=S.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},s)=>{const{controlId:o}=S.useContext(hi);return n=Ut(n,"form-check-label"),m.jsx("label",{...r,ref:s,htmlFor:t||o,className:bt(e,n)})});Zf.displayName="FormCheckLabel";const Jb=S.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:s=!1,disabled:o=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:g,className:v,style:E,title:I="",type:C="checkbox",label:A,children:x,as:O="input",...F},U)=>{e=Ut(e,"form-check"),t=Ut(t,"form-switch");const{controlId:B}=S.useContext(hi),G=S.useMemo(()=>({controlId:n||B}),[B,n]),X=!x&&A!=null&&A!==!1||aB(x,Zf),k=m.jsx(A0,{...F,type:C==="switch"?"checkbox":C,ref:U,isValid:l,isInvalid:c,disabled:o,as:O});return m.jsx(hi.Provider,{value:G,children:m.jsx("div",{style:E,className:bt(v,X&&e,r&&`${e}-inline`,s&&`${e}-reverse`,C==="switch"&&t),children:x||m.jsxs(m.Fragment,{children:[k,X&&m.jsx(Zf,{title:I,children:A}),h&&m.jsx(Gp,{type:g,tooltip:d,children:h})]})})})});Jb.displayName="FormCheck";const ep=Object.assign(Jb,{Input:A0,Label:Zf}),Zb=S.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:s,className:o,isValid:l=!1,isInvalid:c=!1,plaintext:d,readOnly:h,as:g="input",...v},E)=>{const{controlId:I}=S.useContext(hi);return n=Ut(n,"form-control"),m.jsx(g,{...v,type:e,size:r,ref:E,readOnly:h,id:s||I,className:bt(o,d?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});Zb.displayName="FormControl";const uB=Object.assign(Zb,{Feedback:Gp}),e2=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Ut(e,"form-floating"),m.jsx(t,{ref:s,className:bt(n,e),...r})));e2.displayName="FormFloating";const b0=S.forwardRef(({controlId:n,as:e="div",...t},r)=>{const s=S.useMemo(()=>({controlId:n}),[n]);return m.jsx(hi.Provider,{value:s,children:m.jsx(e,{...t,ref:r})})});b0.displayName="FormGroup";const t2=S.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:s,htmlFor:o,...l},c)=>{const{controlId:d}=S.useContext(hi);e=Ut(e,"form-label");let h="col-form-label";typeof t=="string"&&(h=`${h} ${h}-${t}`);const g=bt(s,e,r&&"visually-hidden",t&&h);return o=o||d,t?m.jsx(Xb,{ref:c,as:"label",className:g,htmlFor:o,...l}):m.jsx(n,{ref:c,className:g,htmlFor:o,...l})});t2.displayName="FormLabel";const n2=S.forwardRef(({bsPrefix:n,className:e,id:t,...r},s)=>{const{controlId:o}=S.useContext(hi);return n=Ut(n,"form-range"),m.jsx("input",{...r,type:"range",ref:s,className:bt(e,n),id:t||o})});n2.displayName="FormRange";const r2=S.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:s=!1,isInvalid:o=!1,id:l,...c},d)=>{const{controlId:h}=S.useContext(hi);return n=Ut(n,"form-select"),m.jsx("select",{...c,size:t,ref:d,className:bt(r,n,e&&`${n}-${e}`,s&&"is-valid",o&&"is-invalid"),id:l||h})});r2.displayName="FormSelect";const s2=S.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...s},o)=>(n=Ut(n,"form-text"),m.jsx(t,{...s,ref:o,className:bt(e,n,r&&"text-muted")})));s2.displayName="FormText";const i2=S.forwardRef((n,e)=>m.jsx(ep,{...n,ref:e,type:"switch"}));i2.displayName="Switch";const dB=Object.assign(i2,{Input:ep.Input,Label:ep.Label}),o2=S.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:s,...o},l)=>(n=Ut(n,"form-floating"),m.jsxs(b0,{ref:l,className:bt(e,n),controlId:r,...o,children:[t,m.jsx("label",{htmlFor:r,children:s})]})));o2.displayName="FloatingLabel";const hB={_ref:Al.any,validated:Al.bool,as:Al.elementType},N0=S.forwardRef(({className:n,validated:e,as:t="form",...r},s)=>m.jsx(t,{...r,ref:s,className:bt(n,e&&"was-validated")}));N0.displayName="Form";N0.propTypes=hB;const nr=Object.assign(N0,{Group:b0,Control:uB,Floating:e2,Check:ep,Switch:dB,Label:t2,Text:s2,Range:n2,Select:r2,FloatingLabel:o2}),fB=()=>{const n=In(),e=async()=>{await p0(),n("/")};return m.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[m.jsx(yt,{to:"/",className:"text-2xl font-bold",children:m.jsx("div",{className:"logo",children:"URENO"})}),m.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[m.jsxs(yt,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[m.jsx(BU,{className:"w-5 h-5"})," Settings"]}),m.jsxs(yt,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[m.jsx(jU,{className:"w-5 h-5"})," Notifications"]}),m.jsxs(yt,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[m.jsx(UU,{className:"w-5 h-5"})," Log Out"]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebasestorage.googleapis.com",l2="storageBucket",pB=2*60*1e3,mB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends Ss{constructor(e,t,r=0){super(dy(e),`Firebase Storage: ${t} (${dy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function dy(n){return"storage/"+n}function P0(){const n="An unknown error occurred, please check the error payload for server response.";return new Nt(At.UNKNOWN,n)}function gB(n){return new Nt(At.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function yB(n){return new Nt(At.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vB(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(At.UNAUTHENTICATED,n)}function _B(){return new Nt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wB(n){return new Nt(At.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function EB(){return new Nt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TB(){return new Nt(At.CANCELED,"User canceled the upload/download.")}function xB(n){return new Nt(At.INVALID_URL,"Invalid URL '"+n+"'.")}function IB(n){return new Nt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function SB(){return new Nt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+l2+"' property when initializing the app?")}function CB(){return new Nt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RB(){return new Nt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AB(n){return new Nt(At.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _v(n){return new Nt(At.INVALID_ARGUMENT,n)}function c2(){return new Nt(At.APP_DELETED,"The Firebase app was deleted.")}function bB(n){return new Nt(At.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(n,e){return new Nt(At.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function lu(n){throw new Nt(At.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ir.makeFromUrl(e,t)}catch{return new ir(e,"")}if(r.path==="")return r;throw IB(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp(`^https?://${v}/${g}/b/${s}/o${E}`,"i"),C={bucket:1,path:3},A=t===a2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",O=new RegExp(`^https?://${A}/${s}/${x}`,"i"),U=[{regex:c,indices:d,postModify:o},{regex:I,indices:C,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let B=0;B<U.length;B++){const G=U[B],X=G.regex.exec(e);if(X){const k=X[G.indices.bucket];let N=X[G.indices.path];N||(N=""),r=new ir(k,N),G.postModify(r);break}}if(r==null)throw xB(e);return r}}class NB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(n,e,t){let r=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let h=!1;function g(...x){h||(h=!0,e.apply(null,x))}function v(x){s=setTimeout(()=>{s=null,n(I,d())},x)}function E(){o&&clearTimeout(o)}function I(x,...O){if(h){E();return}if(x){E(),g.call(null,x,...O);return}if(d()||l){E(),g.call(null,x,...O);return}r<64&&(r*=2);let U;c===1?(c=2,U=0):U=(r+Math.random())*1e3,v(U)}let C=!1;function A(x){C||(C=!0,E(),!h&&(s!==null?(x||(c=2),clearTimeout(s),v(0)):x||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,A(!0)},t),A}function kB(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(n){return n!==void 0}function DB(n){return typeof n=="object"&&!Array.isArray(n)}function k0(n){return typeof n=="string"||n instanceof String}function eS(n){return O0()&&n instanceof Blob}function O0(){return typeof Blob<"u"}function tS(n,e,t,r){if(r<e)throw _v(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _v(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function u2(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var aa;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(aa||(aa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,t,r,s,o,l,c,d,h,g,v,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=v,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,C)=>{this.resolve_=I,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Xh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===aa.NO_ERROR,d=o.getStatus();if(!c||LB(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===aa.ABORT;r(!1,new Xh(!1,null,g));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Xh(h,o))})},t=(r,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());OB(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=P0();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?c2():TB();l(d)}else{const d=EB();l(d)}};this.canceled_?t(!1,new Xh(!1,null,!0)):this.backoffId_=PB(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function MB(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function VB(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FB(n,e){e&&(n["X-Firebase-GMPID"]=e)}function UB(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function $B(n,e,t,r,s,o,l=!0){const c=u2(n.urlParams),d=n.url+c,h=Object.assign({},n.headers);return FB(h,e),MB(h,t),VB(h,o),UB(h,r),new jB(d,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zB(...n){const e=BB();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(O0())return new Blob(n);throw new Nt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WB(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(n){if(typeof atob>"u")throw AB("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hy{constructor(e,t){this.data=e,this.contentType=t||null}}function HB(n,e){switch(n){case ys.RAW:return new hy(d2(e));case ys.BASE64:case ys.BASE64URL:return new hy(h2(n,e));case ys.DATA_URL:return new hy(GB(e),QB(e))}throw P0()}function d2(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function KB(n){let e;try{e=decodeURIComponent(n)}catch{throw bu(ys.DATA_URL,"Malformed data URL.")}return d2(e)}function h2(n,e){switch(n){case ys.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw bu(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ys.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw bu(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=qB(e)}catch(s){throw s.message.includes("polyfill")?s:bu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class f2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw bu(ys.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=YB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function GB(n){const e=new f2(n);return e.base64?h2(ys.BASE64,e.rest):KB(e.rest)}function QB(n){return new f2(n).contentType}function YB(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){let r=0,s="";eS(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(eS(this.data_)){const r=this.data_,s=WB(r,e,t);return s===null?null:new Ji(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ji(r,!0)}}static getBlob(...e){if(O0()){const t=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(zB.apply(null,t))}else{const t=e.map(l=>k0(l)?HB(ys.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)s[o++]=l[c]}),new Ji(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n){let e;try{e=JSON.parse(n)}catch{return null}return DB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function JB(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function m2(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(n,e){return e}class bn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||ZB}}let Jh=null;function e7(n){return!k0(n)||n.length<2?n:m2(n)}function g2(){if(Jh)return Jh;const n=[];n.push(new bn("bucket")),n.push(new bn("generation")),n.push(new bn("metageneration")),n.push(new bn("name","fullPath",!0));function e(o,l){return e7(l)}const t=new bn("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const s=new bn("size");return s.xform=r,n.push(s),n.push(new bn("timeCreated")),n.push(new bn("updated")),n.push(new bn("md5Hash",null,!0)),n.push(new bn("cacheControl",null,!0)),n.push(new bn("contentDisposition",null,!0)),n.push(new bn("contentEncoding",null,!0)),n.push(new bn("contentLanguage",null,!0)),n.push(new bn("contentType",null,!0)),n.push(new bn("metadata","customMetadata",!0)),Jh=n,Jh}function t7(n,e){function t(){const r=n.bucket,s=n.fullPath,o=new ir(r,s);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function n7(n,e,t){const r={};r.type="file";const s=t.length;for(let o=0;o<s;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return t7(r,n),r}function y2(n,e,t){const r=p2(e);return r===null?null:n7(n,r,t)}function r7(n,e,t,r){const s=p2(e);if(s===null||!k0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(h=>{const g=n.bucket,v=n.fullPath,E="/b/"+l(g)+"/o/"+l(v),I=D0(E,t,r),C=u2({alt:"media",token:h});return I+C})[0]}function s7(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class v2{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n){if(!n)throw P0()}function i7(n,e){function t(r,s){const o=y2(n,s,e);return _2(o!==null),o}return t}function o7(n,e){function t(r,s){const o=y2(n,s,e);return _2(o!==null),r7(o,s,n.host,n._protocol)}return t}function w2(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=_B():s=vB():t.getStatus()===402?s=yB(n.bucket):t.getStatus()===403?s=wB(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function a7(n){const e=w2(n);function t(r,s){let o=e(r,s);return r.getStatus()===404&&(o=gB(n.path)),o.serverResponse=s.serverResponse,o}return t}function l7(n,e,t){const r=e.fullServerUrl(),s=D0(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new v2(s,o,o7(n,t),l);return c.errorHandler=a7(e),c}function c7(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function u7(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=c7(null,e)),r}function d7(n,e,t,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let U="";for(let B=0;B<2;B++)U=U+Math.random().toString().slice(2);return U}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=u7(e,r,s),g=s7(h,t),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,E=`\r
--`+d+"--",I=Ji.getBlob(v,r,E);if(I===null)throw CB();const C={name:h.fullPath},A=D0(o,n.host,n._protocol),x="POST",O=n.maxUploadRetryTime,F=new v2(A,x,i7(n,t),O);return F.urlParams=C,F.headers=l,F.body=I.uploadData(),F.errorHandler=w2(e),F}class h7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw lu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class f7 extends h7{initXhr(){this.xhr_.responseType="text"}}function E2(){return new f7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t){this._service=e,t instanceof ir?this._location=t:this._location=ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new va(e,t)}get root(){const e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m2(this._location.path)}get storage(){return this._service}get parent(){const e=XB(this._location.path);if(e===null)return null;const t=new ir(this._location.bucket,e);return new va(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw bB(e)}}function p7(n,e,t){n._throwIfRoot("uploadBytes");const r=d7(n.storage,n._location,g2(),new Ji(e,!0),t);return n.storage.makeRequestWithTokens(r,E2).then(s=>({metadata:s,ref:n}))}function m7(n){n._throwIfRoot("getDownloadURL");const e=l7(n.storage,n._location,g2());return n.storage.makeRequestWithTokens(e,E2).then(t=>{if(t===null)throw RB();return t})}function g7(n,e){const t=JB(n._location.path,e),r=new ir(n._location.bucket,t);return new va(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(n){return/^[A-Za-z]+:\/\//.test(n)}function v7(n,e){return new va(n,e)}function T2(n,e){if(n instanceof L0){const t=n;if(t._bucket==null)throw SB();const r=new va(t,t._bucket);return e!=null?T2(r,e):r}else return e!==void 0?g7(n,e):n}function _7(n,e){if(e&&y7(e)){if(n instanceof L0)return v7(n,e);throw _v("To use ref(service, url), the first argument must be a Storage instance.")}else return T2(n,e)}function nS(n,e){const t=e==null?void 0:e[l2];return t==null?null:ir.makeFromBucketSpec(t,n)}function w7(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:Fv(s,n.app.options.projectId))}class L0{constructor(e,t,r,s,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=a2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pB,this._maxUploadRetryTime=mB,this._requests=new Set,s!=null?this._bucket=ir.makeFromBucketSpec(s,this._host):this._bucket=nS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,e):this._bucket=nS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new va(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new NB(c2());{const l=$B(e,this._appId,r,s,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const rS="@firebase/storage",sS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="storage";function E7(n,e,t){return n=ot(n),p7(n,e,t)}function T7(n){return n=ot(n),m7(n)}function x7(n,e){return n=ot(n),_7(n,e)}function I7(n=up(),e){n=ot(n);const r=Zu(n,x2).getImmediate({identifier:e}),s=Mv("storage");return s&&S7(r,...s),r}function S7(n,e,t,r={}){w7(n,e,t,r)}function C7(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new L0(t,r,s,e,_o)}function R7(){lo(new ri(x2,C7,"PUBLIC").setMultipleInstances(!0)),Er(rS,sS,""),Er(rS,sS,"esm2017")}R7();function A7(){const{user:n,profile:e}=md(),t=In(),[r,s]=S.useState({displayName:"",email:"",phone:"",profilePicture:null});if(S.useEffect(()=>{e&&s({displayName:n.displayName||"",email:n.email||"",phone:e.phone||"",profilePicture:null})},[e,n]),!n||!e)return m.jsx("p",{children:"Loading profile data..."});const o=async l=>{l.preventDefault();const c=mp(),d=ld(),h=I7(),g=c.currentUser;if(!g)return;const v={};try{if(r.displayName&&r.displayName!==g.displayName&&(await Ay(g,{displayName:r.displayName}),v.displayName=r.displayName),r.email&&r.email!==g.email&&(await gL(g,r.email),v.email=r.email),r.phone&&(v.phone=r.phone),r.profilePicture){const E=x7(h,`profilePictures/${g.uid}`);await E7(E,r.profilePicture);const I=await T7(E);await Ay(g,{photoURL:I}),v.photoURL=I}if(Object.keys(v).length>0){const E=Tt(d,"users",g.uid);await Hr(E,v)}alert("profile updated succesfully"),t(-1)}catch(E){console.error("Error updating profile:",E),alert("Failed to update profile. Check the console for details.")}};return m.jsx(m.Fragment,{children:m.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Edit Profile"}),m.jsxs(nr,{children:[m.jsxs(nr.Group,{controlId:"displayName",className:"mb-3",children:[m.jsx(nr.Label,{children:"Display Name"}),m.jsx(nr.Control,{type:"text",value:r.displayName,onChange:l=>s({...r,displayName:l.target.value})})]}),m.jsxs(nr.Group,{controlId:"email",className:"mb-3",children:[m.jsx(nr.Label,{children:"email"}),m.jsx(nr.Control,{type:"email",value:r.email,onChange:l=>s({...r,email:l.target.value})})]}),m.jsxs(nr.Group,{controlId:"phone",className:"mb-3",children:[m.jsx(nr.Label,{children:"Phone Number"}),m.jsx(nr.Control,{type:"text",value:r.phone,onChange:l=>s({...r,phone:l.target.value})})]}),m.jsxs(nr.Group,{controlId:"profilePicture",className:"mb-3",children:[m.jsx(nr.Label,{children:"Profile Picture"}),m.jsx(nr.Control,{type:"file",onChange:l=>s({...r,profilePicture:l.target.files[0]})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Xf,{variant:"primary",onClick:o,type:"submit",children:"Save Changes"}),m.jsx(Xf,{variant:"secondary",onClick:()=>t("/ProfileDashboard"),children:"Cancel"})]})]})]})})}function b7(){const{currentUser:n}=Rs(),[e,t]=S.useState([]),[r,s]=S.useState(!0);return S.useEffect(()=>{(async()=>{if(!n)return;const l=ps(vt,"savedMaterials"),c=Xs(l,$n("userId","==",n.uid));try{const h=(await ms(c)).docs.map(g=>({id:g.id,...g.data()}));t(h)}catch(d){console.error("Error fetching saved materials:",d)}finally{s(!1)}})()},[n]),r?m.jsx("div",{children:"Loading saved materials..."}):m.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(yt,{to:"/ProfileDashboard",className:"text-blue-500 text-3xl font-bold hover:scale-110 hover:text-blue-700 transition-all duration-200 flex items-center justify-center",children:"<"}),m.jsx("h1",{className:"text-2xl font-bold",children:"Saved Items"})]}),e.length===0?m.jsx("p",{className:"text-gray-500",children:"You don't have any saved materials yet."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(o=>m.jsxs("div",{className:"border p-4 rounded shadow",children:[o.materialImageURL&&m.jsx("img",{src:o.materialImageURL,alt:o.materialName,className:"w-full h-32 object-cover rounded mb-2"}),m.jsx("h2",{className:"text-xl font-semibold",children:o.materialName}),m.jsx("p",{className:"text-gray-600",children:o.materialType})]},o.id))})]})}const N7="_loginWrapper_1063v_3",P7="_container_1063v_11",k7="_form_1063v_32",O7="_formBox_1063v_34",D7="_active_1063v_49",L7="_register_1063v_51",j7="_inputBox_1063v_54",M7="_forgotLink_1063v_84",V7="_btn_1063v_90",F7="_socialIcons_1063v_103",U7="_toggleBox_1063v_118",$7="_togglePanel_1063v_138",B7="_toggleLeft_1063v_152",z7="_toggleRight_1063v_161",tt={loginWrapper:N7,container:P7,form:k7,formBox:O7,active:D7,register:L7,inputBox:j7,forgotLink:M7,btn:V7,socialIcons:F7,toggleBox:U7,togglePanel:$7,toggleLeft:B7,toggleRight:z7},W7=()=>{const[n,e]=S.useState(!1),t=()=>{e(!0)},r=()=>{e(!1)};return m.jsx("div",{className:tt.loginWrapper,children:m.jsxs("div",{className:`${tt.container} ${n?tt.active:""}`,children:[m.jsx("div",{className:`${tt.formBox} ${tt.login}`,children:m.jsxs("form",{className:tt.form,action:"#",children:[m.jsx("h1",{children:"Login"}),m.jsxs("div",{className:tt.inputBox,children:[m.jsx("input",{type:"text",placeholder:"Email",required:!0}),m.jsx("i",{className:"bx bxs-user"})]}),m.jsxs("div",{className:tt.inputBox,children:[m.jsx("input",{type:"password",placeholder:"Password",required:!0}),m.jsx("i",{className:"bx bxs-lock-alt"})]}),m.jsx("div",{className:tt.forgotLink,children:m.jsx("a",{href:"#",children:"Forgot Password?"})}),m.jsx("button",{type:"submit",className:tt.btn,children:"Login"}),m.jsx("p",{children:"or login with social platforms"}),m.jsxs("div",{className:tt.socialIcons,children:[m.jsx("a",{href:"#",children:m.jsx("i",{className:"bx bxl-google"})}),m.jsx("a",{href:"#",children:m.jsx("i",{className:"bx bxl-facebook"})}),m.jsx("a",{href:"#",children:m.jsx("i",{className:"bx bxl-github"})}),m.jsx("a",{href:"#",children:m.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),m.jsx("div",{className:`${tt.formBox} ${tt.register}`,children:m.jsxs("form",{className:tt.form,action:"#",children:[m.jsx("h1",{children:"Registration"}),m.jsxs("div",{className:tt.inputBox,children:[m.jsx("input",{type:"text",placeholder:"First Name",required:!0}),m.jsx("i",{className:"bx bxs-user"})]}),m.jsxs("div",{className:tt.inputBox,children:[m.jsx("input",{type:"text",placeholder:"Last Name",required:!0}),m.jsx("i",{className:"bx bxs-user"})]}),m.jsxs("div",{className:tt.inputBox,children:[m.jsx("input",{type:"email",placeholder:"Email",required:!0}),m.jsx("i",{className:"bx bxs-envelope"})]}),m.jsxs("div",{className:tt.inputBox,children:[m.jsx("input",{type:"password",placeholder:"Password",required:!0}),m.jsx("i",{className:"bx bxs-lock-alt"})]}),m.jsxs("div",{className:tt.inputBox,children:[m.jsx("input",{type:"password",placeholder:"Confirm Password",required:!0}),m.jsx("i",{className:"bx bxs-lock-alt"})]}),m.jsx("button",{type:"submit",className:tt.btn,children:"Register"}),m.jsx("p",{children:"or register with social platforms"}),m.jsxs("div",{className:tt.socialIcons,children:[m.jsx("a",{href:"#",children:m.jsx("i",{className:"bx bxl-google"})}),m.jsx("a",{href:"#",children:m.jsx("i",{className:"bx bxl-facebook"})}),m.jsx("a",{href:"#",children:m.jsx("i",{className:"bx bxl-github"})}),m.jsx("a",{href:"#",children:m.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),m.jsxs("div",{className:tt.toggleBox,children:[m.jsxs("div",{className:`${tt.togglePanel} ${tt.toggleLeft}`,children:[m.jsx("h1",{children:"Hello, Welcome!"}),m.jsx("p",{children:"Don't have an account?"}),m.jsx("button",{className:tt.btn,onClick:t,children:"Register"})]}),m.jsxs("div",{className:`${tt.togglePanel} ${tt.toggleRight}`,children:[m.jsx("h1",{children:"Welcome Back!"}),m.jsx("p",{children:"Already have an account?"}),m.jsx("button",{className:tt.btn,onClick:r,children:"Login"})]})]})]})})},q7=()=>{const{user:n}=S.useContext(Ia),e=In(),t=async r=>{if(n!=null&&n.uid)try{await Hr(Tt(Wu,"users",n.uid),{role:r}),e(r==="contractor"?"/contractor-dashboard":"/")}catch(s){console.error("Failed to update role:",s)}};return m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen px-4 text-center",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Are you a contractor or homeowner?"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsx("button",{onClick:()=>t("contractor"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded",children:"I'm a Contractor"}),m.jsx("button",{onClick:()=>t("customer"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded",children:"I'm a Homeowner"})]})]})},H7=()=>{const{projectId:n}=Yu(),{currentUser:e}=Rs(),t=In(),[r,s]=S.useState(null),[o,l]=S.useState(!0);S.useEffect(()=>{(async()=>{if(!e)return;const h=Tt(vt,"projects",n),g=await Nn(h);g.exists()&&s({id:g.id,...g.data()}),l(!1)})()},[e,n]);const c=async d=>{d.preventDefault();const h=Tt(vt,"projects",n);await Hr(h,{title:r.title,description:r.description}),t("/projects")};return o?m.jsx("div",{children:"Loading..."}):r?m.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Project"}),m.jsxs("form",{onSubmit:c,className:"flex flex-col gap-4",children:[m.jsx("input",{type:"text",value:r.title,onChange:d=>s(h=>({...h,title:d.target.value})),placeholder:"Project Title",className:"border p-2 rounded"}),m.jsx("textarea",{value:r.description,onChange:d=>s(h=>({...h,description:d.target.value})),placeholder:"Project Description",className:"border p-2 rounded"}),m.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Update Project"})]})]}):m.jsx("div",{children:"Project not found"})},K7=()=>{const{profile:n,user:e}=md(),t=In(),[r,s]=S.useState([]),[o,l]=S.useState(!0);if(S.useEffect(()=>{(async()=>{try{if(!n||!e||n.role!=="contractor"){l(!1);return}console.log("Fetching projects for contractor:",e.uid);const g=Xs(ps(vt,"projects"),$n("status","==","submitted")),v=Xs(ps(vt,"projects"),$n("status","==","inquiry")),E=Xs(ps(vt,"projects"),$n("status","==","in progress"),$n("contractorId","==",e.uid)),I=Xs(ps(vt,"projects"),$n("status","==","pending_approval"),$n("requestedBy","array-contains",e.uid)),[C,A,x,O]=await Promise.all([ms(g),ms(v),ms(E),ms(I)]),F=C.docs.map(k=>({id:k.id,...k.data()})),U=A.docs.map(k=>({id:k.id,...k.data()})),B=x.docs.map(k=>({id:k.id,...k.data()})),G=O.docs.map(k=>({id:k.id,...k.data()})),X=[...F,...U,...B,...G];s(X)}catch(g){console.error("Error fetching projects:",g.message),s([])}finally{l(!1)}})()},[n,e]),o)return m.jsx("div",{children:"Loading..."});const c=r.filter(h=>h.status==="in progress"&&h.contractorId===e.uid),d=r.filter(h=>!(h.status==="in progress"&&h.contractorId===e.uid));return m.jsxs("div",{className:"p-4 max-w-4xl mx-auto mt-20",children:[m.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:m.jsx("div",{className:"logo cursor-pointer",onClick:()=>t(-1),children:" return "})}),c.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Accepted Projects"}),m.jsx("div",{className:"mb-8",children:m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:c.map(h=>{var g,v,E;return m.jsxs("div",{className:"border p-4 rounded shadow relative bg-green-50",children:[m.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:"In Progress"}),m.jsx("h2",{className:"text-xl font-semibold mb-2",children:h.title}),m.jsx("p",{className:"text-gray-600 mb-1",children:h.description}),m.jsxs("p",{className:"text-sm",children:["Material: ",(g=h.flooringOption)==null?void 0:g.title]}),m.jsxs("p",{className:"text-sm",children:["Area: ",(v=h.roomDimensions)==null?void 0:v.length," ft x ",(E=h.roomDimensions)==null?void 0:E.width," ft"]}),m.jsx("button",{className:"mt-3 px-4 py-2 bg-green-600 text-white rounded",onClick:()=>t(`/projects/view/${h.id}`),children:"View Project"})]},h.id)})})})]}),m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Available Projects"}),d.length===0?m.jsx("p",{children:"No Submitted projects found."}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(h=>{var g,v,E,I,C,A,x;return m.jsxs("div",{className:"border p-4 rounded shadow relative",children:[m.jsx("div",{className:`absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded ${h.status==="submitted"?"bg-blue-100 text-blue-800":h.status==="inquiry"?"bg-yellow-100 text-yellow-800":h.status==="in progress"?"bg-green-100 text-green-800":h.status==="pending_approval"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:h.status==="submitted"?"New":h.status==="inquiry"?"Inquired":h.status==="in progress"?"In Progress":h.status==="pending_approval"?"Pending Approval":h.status}),m.jsx("h2",{className:"text-xl font-semibold mb-2",children:h.title}),m.jsx("p",{className:"text-gray-600 mb-1",children:h.description}),m.jsxs("p",{className:"text-sm",children:["Material: ",(g=h.flooringOption)==null?void 0:g.title]}),m.jsxs("p",{className:"text-sm",children:["Area: ",(v=h.roomDimensions)==null?void 0:v.length," ft x ",(E=h.roomDimensions)==null?void 0:E.width," ft"]}),m.jsx("button",{className:`mt-3 px-4 py-2 text-white rounded ${h.status==="pending_approval"&&((I=h.requestedBy)!=null&&I.includes(e.uid))?"bg-orange-500":h.status==="inquiry"&&((C=h.inquiredBy)!=null&&C.includes(e.uid))?"bg-yellow-500":"bg-blue-600"}`,onClick:()=>t(`/projects/view/${h.id}`),children:h.status==="pending_approval"&&((A=h.requestedBy)!=null&&A.includes(e.uid))?"Awaiting Customer Approval":h.status==="inquiry"&&((x=h.inquiredBy)!=null&&x.includes(e.uid))?"View Inquiry":h.status==="pending homeowner approval"&&h.contractorId===e.uid?"Pending Approval":"View Project"})]},h.id)})})]})},G7="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png",Q7=()=>{const{profile:n}=S.useContext(Ia),{currentUser:e}=Rs(),t=In(),[r,s]=S.useState([]),[o,l]=S.useState([]),[c,d]=S.useState([]),[h,g]=S.useState([]),[v,E]=S.useState(!0),[I,C]=S.useState(null);S.useEffect(()=>{if(!(n!=null&&n.role)||n.role!=="contractor"||!e){E(!1);return}(async()=>{try{console.log("Fetching projects for contractor:",e.uid),E(!0);const O=Xs(ps(vt,"projects"),$n("status","==","submitted")),F=Xs(ps(vt,"projects"),$n("status","==","inquiry"),$n("inquiredBy","array-contains",e.uid)),U=Xs(ps(vt,"projects"),$n("status","==","pending_approval"),$n("requestedBy","array-contains",e.uid)),B=Xs(ps(vt,"projects"),$n("status","==","in progress"),$n("contractorId","==",e.uid));try{const[G,X,k,N]=await Promise.all([ms(O),ms(F),ms(U),ms(B)]);console.log("Available projects count:",G.size),console.log("Inquired projects count:",X.size),console.log("Pending approval projects count:",k.size),console.log("In Progress projects count:",N.size);const P=G.docs.map(D=>({id:D.id,...D.data()})),L=X.docs.map(D=>({id:D.id,...D.data()})),M=k.docs.map(D=>({id:D.id,...D.data()})),V=N.docs.map(D=>({id:D.id,...D.data()}));s(P),l(L),d(M),g(V),C(null)}catch(G){console.error("Error in queries:",G),C("Failed to load projects. Please try again later."),s([]),l([]),d([]),g([])}}catch(O){console.error("Error fetching projects:",O),C(O.message),s([]),l([]),d([]),g([])}finally{E(!1)}})()},[e,n]);const A=x=>{t(`/projects/view/${x}`)};return m.jsxs(m.Fragment,{children:[m.jsx(fB,{}),m.jsxs("div",{className:"main-content max-w-6xl mx-auto p-6 pb-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-24",children:[m.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center p-4 border rounded shadow",children:[m.jsx("h2",{className:"text-2xl font-bold mt-4",children:(n==null?void 0:n.username)||(n==null?void 0:n.firstName)||"Contractor"}),m.jsx("img",{src:G7,alt:"profile",className:"w-24 h-24 rounded-full my-2"}),m.jsx("p",{className:"text-gray-500",children:n==null?void 0:n.email}),m.jsx(yt,{to:"/edit-profile",children:m.jsx("button",{className:"mt-2 bg-blue-500 text-white px-4 py-2 rounded",children:"Edit Profile"})})]}),m.jsxs("div",{className:"p-4 border rounded shadow md:col-span-2",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Quick Stats"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[m.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[m.jsx("p",{className:"text-blue-700 font-medium",children:r.length}),m.jsx("p",{className:"text-sm text-gray-600",children:"Available"})]}),m.jsxs("div",{className:"bg-yellow-50 p-3 rounded",children:[m.jsx("p",{className:"text-yellow-700 font-medium",children:o.length}),m.jsx("p",{className:"text-sm text-gray-600",children:"Inquired"})]}),m.jsxs("div",{className:"bg-orange-50 p-3 rounded",children:[m.jsx("p",{className:"text-orange-700 font-medium",children:c.length}),m.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"})]}),m.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[m.jsx("p",{className:"text-green-700 font-medium",children:h.length}),m.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"})]})]}),m.jsxs("div",{className:"mt-4 flex gap-4",children:[m.jsx(yt,{to:"/available-projects",children:m.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Browse All Projects"})}),m.jsx(yt,{to:"/messages",children:m.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Messages"})})]})]})]}),v?m.jsx("div",{className:"text-center mt-8 p-4",children:"Loading projects..."}):I?m.jsx("div",{className:"text-center mt-8 p-4 text-red-500",children:I}):m.jsxs("div",{className:"mt-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-bold",children:"Available Projects"}),m.jsx(yt,{to:"/available-projects",className:"text-blue-500 hover:underline",children:"View All"})]}),r.length===0?m.jsx("p",{className:"text-gray-500",children:"No available projects at the moment."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.slice(0,3).map(x=>{var O;return m.jsxs("div",{className:"border p-4 rounded shadow relative",children:[m.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-blue-100 text-blue-800",children:"New"}),m.jsx("h3",{className:"font-semibold mb-2",children:x.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:x.description}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("span",{className:"text-xs text-gray-500",children:((O=x.flooringOption)==null?void 0:O.title)||"Not specified"}),m.jsx("button",{onClick:()=>A(x.id),className:"text-blue-600 hover:underline text-sm",children:"View Details"})]})]},x.id)})})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects You've Inquired About"}),o.length===0?m.jsx("p",{className:"text-gray-500",children:"You haven't inquired about any projects yet."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(x=>{var O;return m.jsxs("div",{className:"border p-4 rounded shadow relative",children:[m.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-yellow-100 text-yellow-800",children:"Inquired"}),m.jsx("h3",{className:"font-semibold mb-2",children:x.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:x.description}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("span",{className:"text-xs text-gray-500",children:((O=x.flooringOption)==null?void 0:O.title)||"Not specified"}),m.jsx("button",{onClick:()=>A(x.id),className:"text-yellow-600 hover:underline text-sm",children:"View Inquiry"})]})]},x.id)})})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects Pending Approval"}),c.length===0?m.jsx("p",{className:"text-gray-500",children:"No projects pending approval."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(x=>{var O;return m.jsxs("div",{className:"border p-4 rounded shadow relative",children:[m.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-orange-100 text-orange-800",children:"Pending Approval"}),m.jsx("h3",{className:"font-semibold mb-2",children:x.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:x.description}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("span",{className:"text-xs text-gray-500",children:((O=x.flooringOption)==null?void 0:O.title)||"Not specified"}),m.jsx("button",{onClick:()=>A(x.id),className:"text-orange-600 hover:underline text-sm",children:"View Details"})]})]},x.id)})})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Projects In Progress"}),h.length===0?m.jsx("p",{className:"text-gray-500",children:"No projects in progress."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(x=>{var O;return m.jsxs("div",{className:"border p-4 rounded shadow relative",children:[m.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:"In Progress"}),m.jsx("h3",{className:"font-semibold mb-2",children:x.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:x.description}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("span",{className:"text-xs text-gray-500",children:((O=x.flooringOption)==null?void 0:O.title)||"Not specified"}),m.jsx("button",{onClick:()=>A(x.id),className:"text-green-600 hover:underline text-sm",children:"View Project"})]})]},x.id)})})]})]})]})]})},wv=async({projectId:n,customerId:e,contractorId:t,status:r="inquiry"})=>{const s=`${n}_${t}`,o=Tt(vt,"conversations",s);return(await Nn(o)).exists()||await j_(o,{projectId:n,customerId:e,contractorId:t,participants:[e,t],status:r,createdAt:H3()}),s},Y7=()=>{var g,v,E,I;const{projectId:n}=Yu();console.log("Project ID from URL:",n);const e=In(),{profile:t,user:r}=md(),[s,o]=S.useState(null),[l,c]=S.useState(!0);S.useEffect(()=>{(async()=>{if(!n){console.error("No project ID provided in URL"),c(!1);return}try{const A=Tt(vt,"projects",n),x=await Nn(A);x.exists()&&o({id:x.id,...x.data()})}catch(A){console.error("Error fetching project:",A.message)}finally{c(!1)}})()},[n]);const d=async()=>{try{const C=Tt(vt,"projects",n);await Hr(C,{status:"inquiry",inquiredBy:[...s.inquiredBy||[],r.uid]});const A=await wv({projectId:n,customerId:s.ownerId,contractorId:r.uid,status:"inquiry"});e("/messages")}catch(C){console.error("Error inquiring about project:",C.message)}},h=async()=>{try{const C=Tt(vt,"projects",n);await Hr(C,{status:"pending_approval",requestedBy:[...s.requestedBy||[],r.uid]}),e("/contractor-dashboard")}catch(C){console.error("Error requestin acceptance:",C.message)}};return l?m.jsx("div",{children:"Loading project..."}):s?m.jsxs("div",{className:"p-6 max-w-4xl mx-auto mt-24",children:[m.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:m.jsx("div",{className:"logo cursor-pointer",onClick:()=>e(-1),children:" return "})}),m.jsx("h1",{className:"text-2xl font-bold mb-2",children:s.title}),m.jsx("p",{className:"text-gray-700 mb-4",children:s.description}),m.jsxs("p",{children:["Material: ",(g=s.flooringOption)==null?void 0:g.title]}),m.jsxs("p",{children:["Area: ",(v=s.roomDimensions)==null?void 0:v.length," x ",(E=s.roomDimensions)==null?void 0:E.width," ft"]}),(t==null?void 0:t.role)==="contractor"&&m.jsx("div",{className:"mt-6 flex gap-4",children:s.status==="in progress"&&s.contractorId===r.uid?m.jsx("button",{onClick:()=>e("/messages/"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"View Conversation"}):s.status==="inquiry"&&((I=s.inquiredBy)!=null&&I.includes(r.uid))?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>e("/messages/"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"View Conversation"}),m.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Request Acceptance"})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:d,className:"bg-yellow-500 text-white px-4 py-2 rounded",children:"Inquire"}),m.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Request Acceptance"})]})})]}):m.jsx("div",{children:"Project not found."})},X7=()=>{const{id:n}=Yu(),[e,t]=S.useState([]),[r,s]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const d=Tt(vt,"projects",n),h=await Nn(d);if(!h.exists()){console.error("Project not found"),s(!1);return}const v=h.data().requestedBy||[],E=await Promise.all(v.map(async I=>{const C=await Nn(Tt(vt,"users",I));return C.exists()?{uid:I,...C.data()}:null}));t(E.filter(Boolean))}catch(d){console.error("Error fetching contractor requests:",d)}finally{s(!1)}})()},[n]);const o=async c=>{try{const d=Tt(vt,"projects",n);await Hr(d,{contractorId:c,status:"in progress"});const h=await Nn(d);if(h.exists()){const v=(h.data().requestedBy||[]).filter(E=>E!==c);await Hr(d,{requestedBy:v}),t(E=>E.filter(I=>I.uid!==c))}}catch(d){console.error("Error approving contractor:",d)}},l=async c=>{try{const d=Tt(vt,"projects",n),h=await Nn(d);if(!h.exists())return;const v=(h.data().requestedBy||[]).filter(E=>E!==c);await Hr(d,{requestedBy:v}),t(E=>E.filter(I=>I.uid!==c))}catch(d){console.error("Error denying contractor:",d)}};return r?m.jsx("div",{className:"p-4",children:"Loading contractor requests..."}):m.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contractor Requests"}),e.length===0?m.jsx("p",{children:"No contractor requests yet."}):m.jsx("ul",{className:"space-y-4",children:e.map(c=>m.jsxs("li",{className:"p-4 border rounded shadow",children:[m.jsxs("h2",{className:"text-lg font-semibold",children:[c.firstName," ",c.lastName]}),m.jsx("p",{className:"text-sm text-gray-600",children:c.email}),m.jsx("p",{className:"text-sm text-gray-500",children:c.role}),m.jsxs("div",{className:"mt-2 flex gap-2",children:[m.jsx("button",{onClick:()=>o(c.uid),className:"bg-green-600 text-white px-4 py-1 rounded",children:"Approve"}),m.jsx("button",{onClick:()=>l(c.uid),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Deny"})]})]},c.uid))})]})},J7=()=>{const{id:n}=Yu(),e=In(),{user:t}=md(),[r,s]=S.useState([]),[o,l]=S.useState(null),[c,d]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const I=Tt(vt,"projects",n),C=await Nn(I);if(!C.exists()){console.error("Project not found"),d(!1);return}const A={id:C.id,...C.data()};l(A);const x=A.inquiredBy||[],O=await Promise.all(x.map(async B=>{const G=await Nn(Tt(vt,"users",B));return G.exists()?{uid:B,...G.data()}:null})),F=[],U=new Set;for(const B of O)B&&!U.has(B.uid)&&(U.add(B.uid),F.push(B));s(F)}catch(I){console.error("Error fetching contractor inquiries:",I)}finally{d(!1)}})()},[n]);const h=async E=>{try{const I=await wv({projectId:n,customerId:t.uid,contractorId:E,status:"inquiry"});e("/messages")}catch(I){console.error("Error viewing messages:",I)}},g=async E=>{try{const I=Tt(vt,"projects",n);await Hr(I,{contractorId:E,status:"in progress"}),await wv({projectId:n,customerId:t.uid,contractorId:E,status:"in_progress"});const C=await Nn(I);if(C.exists()){const x=(C.data().inquiredBy||[]).filter(O=>O!==E);await Hr(I,{inquiredBy:x})}e("/projects")}catch(I){console.error("Error accepting contractor:",I)}},v=async E=>{try{const I=Tt(vt,"projects",n),C=await Nn(I);if(!C.exists())return;const x=(C.data().inquiredBy||[]).filter(O=>O!==E);await Hr(I,{inquiredBy:x}),s(O=>O.filter(F=>F.uid!==E))}catch(I){console.error("Error removing contractor inquiry:",I)}};return c?m.jsx("div",{className:"p-4",children:"Loading contractor inquiries..."}):m.jsxs("div",{className:"p-6 max-w-3xl mx-auto mt-24",children:[m.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:m.jsx(yt,{to:"/ProfileDashboard",children:m.jsx("div",{className:"logo",children:" return "})})}),m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contractor Inquiries"}),o&&m.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[m.jsx("h2",{className:"font-semibold text-lg",children:o.title}),m.jsx("p",{className:"text-sm text-gray-600",children:o.description})]}),r.length===0?m.jsx("p",{children:"No contractor inquiries yet."}):m.jsx("ul",{className:"space-y-4",children:r.map(E=>m.jsxs("li",{className:"p-4 border rounded shadow",children:[m.jsxs("h2",{className:"text-lg font-semibold",children:[E.firstName," ",E.lastName]}),m.jsx("p",{className:"text-sm text-gray-600",children:E.email}),m.jsx("p",{className:"text-sm text-gray-500",children:E.role}),m.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[m.jsx("button",{onClick:()=>h(E.uid),className:"bg-blue-600 text-white px-4 py-1 rounded",children:"View Message"}),m.jsx("button",{onClick:()=>g(E.uid),className:"bg-green-600 text-white px-4 py-1 rounded",children:"Accept"}),m.jsx("button",{onClick:()=>v(E.uid),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Decline"})]})]},E.uid))})]})};function I2(n,e){return function(){return n.apply(e,arguments)}}const{toString:Z7}=Object.prototype,{getPrototypeOf:j0}=Object,Qp=(n=>e=>{const t=Z7.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Jr=n=>(n=n.toLowerCase(),e=>Qp(e)===n),Yp=n=>e=>typeof e===n,{isArray:ic}=Array,Ku=Yp("undefined");function e8(n){return n!==null&&!Ku(n)&&n.constructor!==null&&!Ku(n.constructor)&&ar(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const S2=Jr("ArrayBuffer");function t8(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&S2(n.buffer),e}const n8=Yp("string"),ar=Yp("function"),C2=Yp("number"),Xp=n=>n!==null&&typeof n=="object",r8=n=>n===!0||n===!1,gf=n=>{if(Qp(n)!=="object")return!1;const e=j0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},s8=Jr("Date"),i8=Jr("File"),o8=Jr("Blob"),a8=Jr("FileList"),l8=n=>Xp(n)&&ar(n.pipe),c8=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ar(n.append)&&((e=Qp(n))==="formdata"||e==="object"&&ar(n.toString)&&n.toString()==="[object FormData]"))},u8=Jr("URLSearchParams"),[d8,h8,f8,p8]=["ReadableStream","Request","Response","Headers"].map(Jr),m8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ed(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),ic(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let c;for(r=0;r<l;r++)c=o[r],e.call(null,n[c],c,n)}}function R2(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,A2=n=>!Ku(n)&&n!==ia;function Ev(){const{caseless:n}=A2(this)&&this||{},e={},t=(r,s)=>{const o=n&&R2(e,s)||s;gf(e[o])&&gf(r)?e[o]=Ev(e[o],r):gf(r)?e[o]=Ev({},r):ic(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ed(arguments[r],t);return e}const g8=(n,e,t,{allOwnKeys:r}={})=>(Ed(e,(s,o)=>{t&&ar(s)?n[o]=I2(s,t):n[o]=s},{allOwnKeys:r}),n),y8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),v8=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},_8=(n,e,t,r)=>{let s,o,l;const c={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)l=s[o],(!r||r(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=t!==!1&&j0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},w8=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},E8=n=>{if(!n)return null;if(ic(n))return n;let e=n.length;if(!C2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},T8=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&j0(Uint8Array)),x8=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},I8=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},S8=Jr("HTMLFormElement"),C8=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),iS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),R8=Jr("RegExp"),b2=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Ed(t,(s,o)=>{let l;(l=e(s,o,n))!==!1&&(r[o]=l||s)}),Object.defineProperties(n,r)},A8=n=>{b2(n,(e,t)=>{if(ar(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ar(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},b8=(n,e)=>{const t={},r=s=>{s.forEach(o=>{t[o]=!0})};return ic(n)?r(n):r(String(n).split(e)),t},N8=()=>{},P8=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function k8(n){return!!(n&&ar(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const O8=n=>{const e=new Array(10),t=(r,s)=>{if(Xp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=ic(r)?[]:{};return Ed(r,(l,c)=>{const d=t(l,s+1);!Ku(d)&&(o[c]=d)}),e[s]=void 0,o}}return r};return t(n,0)},D8=Jr("AsyncFunction"),L8=n=>n&&(Xp(n)||ar(n))&&ar(n.then)&&ar(n.catch),N2=((n,e)=>n?setImmediate:e?((t,r)=>(ia.addEventListener("message",({source:s,data:o})=>{s===ia&&o===t&&r.length&&r.shift()()},!1),s=>{r.push(s),ia.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ar(ia.postMessage)),j8=typeof queueMicrotask<"u"?queueMicrotask.bind(ia):typeof process<"u"&&process.nextTick||N2,J={isArray:ic,isArrayBuffer:S2,isBuffer:e8,isFormData:c8,isArrayBufferView:t8,isString:n8,isNumber:C2,isBoolean:r8,isObject:Xp,isPlainObject:gf,isReadableStream:d8,isRequest:h8,isResponse:f8,isHeaders:p8,isUndefined:Ku,isDate:s8,isFile:i8,isBlob:o8,isRegExp:R8,isFunction:ar,isStream:l8,isURLSearchParams:u8,isTypedArray:T8,isFileList:a8,forEach:Ed,merge:Ev,extend:g8,trim:m8,stripBOM:y8,inherits:v8,toFlatObject:_8,kindOf:Qp,kindOfTest:Jr,endsWith:w8,toArray:E8,forEachEntry:x8,matchAll:I8,isHTMLForm:S8,hasOwnProperty:iS,hasOwnProp:iS,reduceDescriptors:b2,freezeMethods:A8,toObjectSet:b8,toCamelCase:C8,noop:N8,toFiniteNumber:P8,findKey:R2,global:ia,isContextDefined:A2,isSpecCompliantForm:k8,toJSONObject:O8,isAsyncFn:D8,isThenable:L8,setImmediate:N2,asap:j8};function De(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}J.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const P2=De.prototype,k2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{k2[n]={value:n}});Object.defineProperties(De,k2);Object.defineProperty(P2,"isAxiosError",{value:!0});De.from=(n,e,t,r,s,o)=>{const l=Object.create(P2);return J.toFlatObject(n,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),De.call(l,n.message,e,t,r,s),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const M8=null;function Tv(n){return J.isPlainObject(n)||J.isArray(n)}function O2(n){return J.endsWith(n,"[]")?n.slice(0,-2):n}function oS(n,e,t){return n?n.concat(e).map(function(s,o){return s=O2(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function V8(n){return J.isArray(n)&&!n.some(Tv)}const F8=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function Jp(n,e,t){if(!J.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=J.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,x){return!J.isUndefined(x[A])});const r=t.metaTokens,s=t.visitor||g,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(s))throw new TypeError("visitor must be a function");function h(C){if(C===null)return"";if(J.isDate(C))return C.toISOString();if(!d&&J.isBlob(C))throw new De("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(C)||J.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,A,x){let O=C;if(C&&!x&&typeof C=="object"){if(J.endsWith(A,"{}"))A=r?A:A.slice(0,-2),C=JSON.stringify(C);else if(J.isArray(C)&&V8(C)||(J.isFileList(C)||J.endsWith(A,"[]"))&&(O=J.toArray(C)))return A=O2(A),O.forEach(function(U,B){!(J.isUndefined(U)||U===null)&&e.append(l===!0?oS([A],B,o):l===null?A:A+"[]",h(U))}),!1}return Tv(C)?!0:(e.append(oS(x,A,o),h(C)),!1)}const v=[],E=Object.assign(F8,{defaultVisitor:g,convertValue:h,isVisitable:Tv});function I(C,A){if(!J.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+A.join("."));v.push(C),J.forEach(C,function(O,F){(!(J.isUndefined(O)||O===null)&&s.call(e,O,J.isString(F)?F.trim():F,A,E))===!0&&I(O,A?A.concat(F):[F])}),v.pop()}}if(!J.isObject(n))throw new TypeError("data must be an object");return I(n),e}function aS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function M0(n,e){this._pairs=[],n&&Jp(n,this,e)}const D2=M0.prototype;D2.append=function(e,t){this._pairs.push([e,t])};D2.toString=function(e){const t=e?function(r){return e.call(this,r,aS)}:aS;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function U8(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function L2(n,e,t){if(!e)return n;const r=t&&t.encode||U8;J.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=J.isURLSearchParams(e)?e.toString():new M0(e,t).toString(r),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class lS{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(r){r!==null&&e(r)})}}const j2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$8=typeof URLSearchParams<"u"?URLSearchParams:M0,B8=typeof FormData<"u"?FormData:null,z8=typeof Blob<"u"?Blob:null,W8={isBrowser:!0,classes:{URLSearchParams:$8,FormData:B8,Blob:z8},protocols:["http","https","file","blob","url","data"]},V0=typeof window<"u"&&typeof document<"u",xv=typeof navigator=="object"&&navigator||void 0,q8=V0&&(!xv||["ReactNative","NativeScript","NS"].indexOf(xv.product)<0),H8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",K8=V0&&window.location.href||"http://localhost",G8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:V0,hasStandardBrowserEnv:q8,hasStandardBrowserWebWorkerEnv:H8,navigator:xv,origin:K8},Symbol.toStringTag,{value:"Module"})),wn={...G8,...W8};function Q8(n,e){return Jp(n,new wn.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,o){return wn.isNode&&J.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Y8(n){return J.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function X8(n){const e={},t=Object.keys(n);let r;const s=t.length;let o;for(r=0;r<s;r++)o=t[r],e[o]=n[o];return e}function M2(n){function e(t,r,s,o){let l=t[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=t.length;return l=!l&&J.isArray(s)?s.length:l,d?(J.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!J.isObject(s[l]))&&(s[l]=[]),e(t,r,s[l],o)&&J.isArray(s[l])&&(s[l]=X8(s[l])),!c)}if(J.isFormData(n)&&J.isFunction(n.entries)){const t={};return J.forEachEntry(n,(r,s)=>{e(Y8(r),s,t,0)}),t}return null}function J8(n,e,t){if(J.isString(n))try{return(e||JSON.parse)(n),J.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Td={transitional:j2,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=J.isObject(e);if(o&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return s?JSON.stringify(M2(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Q8(e,this.formSerializer).toString();if((c=J.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Jp(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),J8(e)):e}],transformResponse:[function(e){const t=this.transitional||Td.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(r&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?De.from(c,De.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],n=>{Td.headers[n]={}});const Z8=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ez=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!t||e[t]&&Z8[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},cS=Symbol("internals");function cu(n){return n&&String(n).trim().toLowerCase()}function yf(n){return n===!1||n==null?n:J.isArray(n)?n.map(yf):String(n)}function tz(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const nz=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function fy(n,e,t,r,s){if(J.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!J.isString(e)){if(J.isString(r))return e.indexOf(r)!==-1;if(J.isRegExp(r))return r.test(e)}}function rz(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function sz(n,e){const t=J.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,o,l){return this[r].call(this,e,s,o,l)},configurable:!0})})}let Kn=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function o(c,d,h){const g=cu(d);if(!g)throw new Error("header name must be a non-empty string");const v=J.findKey(s,g);(!v||s[v]===void 0||h===!0||h===void 0&&s[v]!==!1)&&(s[v||d]=yf(c))}const l=(c,d)=>J.forEach(c,(h,g)=>o(h,g,d));if(J.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(J.isString(e)&&(e=e.trim())&&!nz(e))l(ez(e),t);else if(J.isHeaders(e))for(const[c,d]of e.entries())o(d,c,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=cu(e),e){const r=J.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return tz(s);if(J.isFunction(t))return t.call(this,s,r);if(J.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cu(e),e){const r=J.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||fy(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function o(l){if(l=cu(l),l){const c=J.findKey(r,l);c&&(!t||fy(r,r[c],c,t))&&(delete r[c],s=!0)}}return J.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const o=t[r];(!e||fy(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,r={};return J.forEach(this,(s,o)=>{const l=J.findKey(r,o);if(l){t[l]=yf(s),delete t[o];return}const c=e?rz(o):String(o).trim();c!==o&&delete t[o],t[c]=yf(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return J.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&J.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[cS]=this[cS]={accessors:{}}).accessors,s=this.prototype;function o(l){const c=cu(l);r[c]||(sz(s,l),r[c]=!0)}return J.isArray(e)?e.forEach(o):o(e),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Kn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});J.freezeMethods(Kn);function py(n,e){const t=this||Td,r=e||t,s=Kn.from(r.headers);let o=r.data;return J.forEach(n,function(c){o=c.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function V2(n){return!!(n&&n.__CANCEL__)}function oc(n,e,t){De.call(this,n??"canceled",De.ERR_CANCELED,e,t),this.name="CanceledError"}J.inherits(oc,De,{__CANCEL__:!0});function F2(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new De("Request failed with status code "+t.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function iz(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function oz(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),g=r[o];l||(l=h),t[s]=d,r[s]=h;let v=o,E=0;for(;v!==s;)E+=t[v++],v=v%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),h-l<e)return;const I=g&&h-g;return I?Math.round(E*1e3/I):void 0}}function az(n,e){let t=0,r=1e3/e,s,o;const l=(h,g=Date.now())=>{t=g,s=null,o&&(clearTimeout(o),o=null),n.apply(null,h)};return[(...h)=>{const g=Date.now(),v=g-t;v>=r?l(h,g):(s=h,o||(o=setTimeout(()=>{o=null,l(s)},r-v)))},()=>s&&l(s)]}const tp=(n,e,t=3)=>{let r=0;const s=oz(50,250);return az(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-r,h=s(d),g=l<=c;r=l;const v={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&g?(c-l)/h:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(v)},t)},uS=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},dS=n=>(...e)=>J.asap(()=>n(...e)),lz=wn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,wn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(wn.origin),wn.navigator&&/(msie|trident)/i.test(wn.navigator.userAgent)):()=>!0,cz=wn.hasStandardBrowserEnv?{write(n,e,t,r,s,o){const l=[n+"="+encodeURIComponent(e)];J.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),J.isString(r)&&l.push("path="+r),J.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uz(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function dz(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function U2(n,e,t){let r=!uz(e);return n&&r||t==!1?dz(n,e):e}const hS=n=>n instanceof Kn?{...n}:n;function _a(n,e){e=e||{};const t={};function r(h,g,v,E){return J.isPlainObject(h)&&J.isPlainObject(g)?J.merge.call({caseless:E},h,g):J.isPlainObject(g)?J.merge({},g):J.isArray(g)?g.slice():g}function s(h,g,v,E){if(J.isUndefined(g)){if(!J.isUndefined(h))return r(void 0,h,v,E)}else return r(h,g,v,E)}function o(h,g){if(!J.isUndefined(g))return r(void 0,g)}function l(h,g){if(J.isUndefined(g)){if(!J.isUndefined(h))return r(void 0,h)}else return r(void 0,g)}function c(h,g,v){if(v in e)return r(h,g);if(v in n)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,g,v)=>s(hS(h),hS(g),v,!0)};return J.forEach(Object.keys(Object.assign({},n,e)),function(g){const v=d[g]||s,E=v(n[g],e[g],g);J.isUndefined(E)&&v!==c||(t[g]=E)}),t}const $2=n=>{const e=_a({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Kn.from(l),e.url=L2(U2(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(J.isFormData(t)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...g]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...g].join("; "))}}if(wn.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(e)),r||r!==!1&&lz(e.url))){const h=s&&o&&cz.read(o);h&&l.set(s,h)}return e},hz=typeof XMLHttpRequest<"u",fz=hz&&function(n){return new Promise(function(t,r){const s=$2(n);let o=s.data;const l=Kn.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=s,g,v,E,I,C;function A(){I&&I(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function O(){if(!x)return;const U=Kn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),G={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:U,config:n,request:x};F2(function(k){t(k),A()},function(k){r(k),A()},G),x=null}"onloadend"in x?x.onloadend=O:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(O)},x.onabort=function(){x&&(r(new De("Request aborted",De.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new De("Network Error",De.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let B=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const G=s.transitional||j2;s.timeoutErrorMessage&&(B=s.timeoutErrorMessage),r(new De(B,G.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,n,x)),x=null},o===void 0&&l.setContentType(null),"setRequestHeader"in x&&J.forEach(l.toJSON(),function(B,G){x.setRequestHeader(G,B)}),J.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),c&&c!=="json"&&(x.responseType=s.responseType),h&&([E,C]=tp(h,!0),x.addEventListener("progress",E)),d&&x.upload&&([v,I]=tp(d),x.upload.addEventListener("progress",v),x.upload.addEventListener("loadend",I)),(s.cancelToken||s.signal)&&(g=U=>{x&&(r(!U||U.type?new oc(null,n,x):U),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const F=iz(s.url);if(F&&wn.protocols.indexOf(F)===-1){r(new De("Unsupported protocol "+F+":",De.ERR_BAD_REQUEST,n));return}x.send(o||null)})},pz=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const o=function(h){if(!s){s=!0,c();const g=h instanceof Error?h:this.reason;r.abort(g instanceof De?g:new oc(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,o(new De(`timeout ${e} of ms exceeded`,De.ETIMEDOUT))},e);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>J.asap(c),d}},mz=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},gz=async function*(n,e){for await(const t of yz(n))yield*mz(t,e)},yz=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},fS=(n,e,t,r)=>{const s=gz(n,e);let o=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:g}=await s.next();if(h){c(),d.close();return}let v=g.byteLength;if(t){let E=o+=v;t(E)}d.enqueue(new Uint8Array(g))}catch(h){throw c(h),h}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Zp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",B2=Zp&&typeof ReadableStream=="function",vz=Zp&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),z2=(n,...e)=>{try{return!!n(...e)}catch{return!1}},_z=B2&&z2(()=>{let n=!1;const e=new Request(wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),pS=64*1024,Iv=B2&&z2(()=>J.isReadableStream(new Response("").body)),np={stream:Iv&&(n=>n.body)};Zp&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!np[e]&&(np[e]=J.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new De(`Response type '${e}' is not supported`,De.ERR_NOT_SUPPORT,r)})})})(new Response);const wz=async n=>{if(n==null)return 0;if(J.isBlob(n))return n.size;if(J.isSpecCompliantForm(n))return(await new Request(wn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(J.isArrayBufferView(n)||J.isArrayBuffer(n))return n.byteLength;if(J.isURLSearchParams(n)&&(n=n+""),J.isString(n))return(await vz(n)).byteLength},Ez=async(n,e)=>{const t=J.toFiniteNumber(n.getContentLength());return t??wz(e)},Tz=Zp&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:g,withCredentials:v="same-origin",fetchOptions:E}=$2(n);h=h?(h+"").toLowerCase():"text";let I=pz([s,o&&o.toAbortSignal()],l),C;const A=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let x;try{if(d&&_z&&t!=="get"&&t!=="head"&&(x=await Ez(g,r))!==0){let G=new Request(e,{method:"POST",body:r,duplex:"half"}),X;if(J.isFormData(r)&&(X=G.headers.get("content-type"))&&g.setContentType(X),G.body){const[k,N]=uS(x,tp(dS(d)));r=fS(G.body,pS,k,N)}}J.isString(v)||(v=v?"include":"omit");const O="credentials"in Request.prototype;C=new Request(e,{...E,signal:I,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:O?v:void 0});let F=await fetch(C);const U=Iv&&(h==="stream"||h==="response");if(Iv&&(c||U&&A)){const G={};["status","statusText","headers"].forEach(P=>{G[P]=F[P]});const X=J.toFiniteNumber(F.headers.get("content-length")),[k,N]=c&&uS(X,tp(dS(c),!0))||[];F=new Response(fS(F.body,pS,k,()=>{N&&N(),A&&A()}),G)}h=h||"text";let B=await np[J.findKey(np,h)||"text"](F,n);return!U&&A&&A(),await new Promise((G,X)=>{F2(G,X,{data:B,headers:Kn.from(F.headers),status:F.status,statusText:F.statusText,config:n,request:C})})}catch(O){throw A&&A(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,n,C),{cause:O.cause||O}):De.from(O,O&&O.code,n,C)}}),Sv={http:M8,xhr:fz,fetch:Tz};J.forEach(Sv,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const mS=n=>`- ${n}`,xz=n=>J.isFunction(n)||n===null||n===!1,W2={getAdapter:n=>{n=J.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let o=0;o<e;o++){t=n[o];let l;if(r=t,!xz(t)&&(r=Sv[(l=String(t)).toLowerCase()],r===void 0))throw new De(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+o]=r}if(!r){const o=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(mS).join(`
`):" "+mS(o[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Sv};function my(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new oc(null,n)}function gS(n){return my(n),n.headers=Kn.from(n.headers),n.data=py.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),W2.getAdapter(n.adapter||Td.adapter)(n).then(function(r){return my(n),r.data=py.call(n,n.transformResponse,r),r.headers=Kn.from(r.headers),r},function(r){return V2(r)||(my(n),r&&r.response&&(r.response.data=py.call(n,n.transformResponse,r.response),r.response.headers=Kn.from(r.response.headers))),Promise.reject(r)})}const q2="1.8.3",em={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{em[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const yS={};em.transitional=function(e,t,r){function s(o,l){return"[Axios v"+q2+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(e===!1)throw new De(s(l," has been removed"+(t?" in "+t:"")),De.ERR_DEPRECATED);return t&&!yS[l]&&(yS[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,c):!0}};em.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Iz(n,e,t){if(typeof n!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const o=r[s],l=e[o];if(l){const c=n[o],d=c===void 0||l(c,o,n);if(d!==!0)throw new De("option "+o+" must be "+d,De.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new De("Unknown option "+o,De.ERR_BAD_OPTION)}}const vf={assertOptions:Iz,validators:em},ds=vf.validators;let la=class{constructor(e){this.defaults=e,this.interceptors={request:new lS,response:new lS}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=_a(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:o}=t;r!==void 0&&vf.assertOptions(r,{silentJSONParsing:ds.transitional(ds.boolean),forcedJSONParsing:ds.transitional(ds.boolean),clarifyTimeoutError:ds.transitional(ds.boolean)},!1),s!=null&&(J.isFunction(s)?t.paramsSerializer={serialize:s}:vf.assertOptions(s,{encode:ds.function,serialize:ds.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),vf.assertOptions(t,{baseUrl:ds.spelling("baseURL"),withXsrfToken:ds.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&J.merge(o.common,o[t.method]);o&&J.forEach(["delete","get","head","post","put","patch","common"],C=>{delete o[C]}),t.headers=Kn.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(d=d&&A.synchronous,c.unshift(A.fulfilled,A.rejected))});const h=[];this.interceptors.response.forEach(function(A){h.push(A.fulfilled,A.rejected)});let g,v=0,E;if(!d){const C=[gS.bind(this),void 0];for(C.unshift.apply(C,c),C.push.apply(C,h),E=C.length,g=Promise.resolve(t);v<E;)g=g.then(C[v++],C[v++]);return g}E=c.length;let I=t;for(v=0;v<E;){const C=c[v++],A=c[v++];try{I=C(I)}catch(x){A.call(this,x);break}}try{g=gS.call(this,I)}catch(C){return Promise.reject(C)}for(v=0,E=h.length;v<E;)g=g.then(h[v++],h[v++]);return g}getUri(e){e=_a(this.defaults,e);const t=U2(e.baseURL,e.url,e.allowAbsoluteUrls);return L2(t,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){la.prototype[e]=function(t,r){return this.request(_a(r||{},{method:e,url:t,data:(r||{}).data}))}});J.forEach(["post","put","patch"],function(e){function t(r){return function(o,l,c){return this.request(_a(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}la.prototype[e]=t(),la.prototype[e+"Form"]=t(!0)});let Sz=class H2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(s);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,c){r.reason||(r.reason=new oc(o,l,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new H2(function(s){e=s}),cancel:e}}};function Cz(n){return function(t){return n.apply(null,t)}}function Rz(n){return J.isObject(n)&&n.isAxiosError===!0}const Cv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cv).forEach(([n,e])=>{Cv[e]=n});function K2(n){const e=new la(n),t=I2(la.prototype.request,e);return J.extend(t,la.prototype,e,{allOwnKeys:!0}),J.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return K2(_a(n,s))},t}const xt=K2(Td);xt.Axios=la;xt.CanceledError=oc;xt.CancelToken=Sz;xt.isCancel=V2;xt.VERSION=q2;xt.toFormData=Jp;xt.AxiosError=De;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=Cz;xt.isAxiosError=Rz;xt.mergeConfig=_a;xt.AxiosHeaders=Kn;xt.formToJSON=n=>M2(J.isHTMLForm(n)?new FormData(n):n);xt.getAdapter=W2.getAdapter;xt.HttpStatusCode=Cv;xt.default=xt;const{Axios:QW,AxiosError:YW,CanceledError:XW,isCancel:JW,CancelToken:ZW,VERSION:eq,all:tq,Cancel:nq,isAxiosError:rq,spread:sq,toFormData:iq,AxiosHeaders:oq,HttpStatusCode:aq,formToJSON:lq,getAdapter:cq,mergeConfig:uq}=xt,Az=async n=>{var e,t;try{console.log("Sending prompt to API:",n);const r=await xt.post("/api/ask-openai",{prompt:n});return console.log("raw response from API:",r.data),r.data.response}catch(r){throw xt.isAxiosError(r)?console.error("Axios error:",{message:r.message,status:(e=r.response)==null?void 0:e.status,data:(t=r.response)==null?void 0:t.data}):console.error("unexepcted error:",r),r}},bz=async n=>{try{return(await xt.post("/api/generate-image",{prompt:n})).data.imageUrl}catch(e){throw console.error("Error generating image:",e),e}},Nz=()=>{const[n,e]=S.useState(""),[t,r]=S.useState(""),[s,o]=S.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{const d=await Az(n);r(d)}catch(d){console.error("Error:",d)}finally{o(!1)}};return m.jsxs("div",{children:[m.jsxs("form",{onSubmit:l,children:[m.jsx("input",{type:"text",value:n,onChange:c=>e(c.target.value),placeholder:"Ask about your renovation project..."}),m.jsx("button",{type:"submit",disabled:s,children:s?"Thinking...":"Ask"})]}),t&&m.jsxs("div",{className:"response",children:[m.jsx("h3",{children:"Response:"}),m.jsx("p",{children:t})]})]})},Pz=()=>{const[n,e]=S.useState(""),[t,r]=S.useState(""),[s,o]=S.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{const d=await bz(n);r(d)}catch(d){console.error("Error:",d)}finally{o(!1)}};return m.jsxs("div",{children:[m.jsxs("form",{onSubmit:l,children:[m.jsx("input",{type:"text",value:n,onChange:c=>e(c.target.value),placeholder:"Describe the room or design you want to visualize..."}),m.jsx("button",{type:"submit",disabled:s,children:s?"Generating...":"Generate Image"})]}),t&&m.jsxs("div",{className:"image-result",children:[m.jsx("h3",{children:"Generated Image:"}),m.jsx("img",{src:t,alt:"AI Generated"})]})]})};function ac(n,e=0){return e>0?S.lazy(()=>Promise.all([n(),new Promise(t=>setTimeout(t,e))]).then(([t])=>t)):S.lazy(async()=>{try{return await n()}catch(t){return console.error("Error loading component:",t),{}}})}const kz=()=>{const{user:n,profile:e,loading:t}=md(),r=In(),s=fi();return S.useEffect(()=>{if(t)return;if(n&&e&&!e.role&&s.pathname!=="/choose-role"){r("/choose-role");return}const o=["/contractor-dashboard","/available-projects"];n&&e&&e.role!=="contractor"&&o.includes(s.pathname)&&r("/"),console.log("RoleRedirectGate check:",{user:!!n,profile:!!e,role:e==null?void 0:e.role,path:s.pathname})},[n,e,t,s.pathname,r]),null},Oz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAYCAYAAACyVACzAAAACXBIWXMAAALEAAACxAFbkZ0LAAADKklEQVRYhe1Y7Y3bMAx9KrqAO4JvhHQEd4R2BK/gGyEZwRkhGcEZIR4hGcEegf0RynmWKVlufxQFTEBAjqbIR4of0jkRwU559OVfA/ifaA/WBvrKfzjnGv9bRE6xTc65A4BK/+xF5BbwYjQCuIrIqHoKAHUmVm+nId5VRJ4JnDWAArD9UfsVgJJWrzhvItLPNojItACIrgfzwwWgIdna4KXWAOCge6rMPWyHee0KzkHl7gG/ULzDis3OYxURsAIGflkB0ZHsweCtrcvGAAsAn7khv4xgLK2gaqDuhp6HLotfiMisZx3o9zz9luRlR0rVab+IuHAB4DIoDJvfrX20+kDeU7uCEQCewFR2HX3rAfxS/R8i8gHgG4BP2lvCtwqKeIt3NKtEVvGJdQbvHtn3k2R8Zk0nmcrkCMYhhRfzrK2Ud2Sc0IzJsNX9aWax3G3DXm7+vZ5yGehZI7bDmdqEgmxPB0NBciNeGTUmbF1DBk9DD+S5oqSk388EbyKdYDV9P2Pu+Oici05SEQkP5SYiJ512JYDKOVeLyNnwxx8eT91zaopG6S+be2nwfMr7WudvPAlzm/vdwHhUXk28B2FcNHcL44qfbK+bpmEAvMkcx4PBE+KFTregyQXgkhms1sBYk55HyMe8PzYhnsz+uIiJL0Muo2i/cs6VeE+yPsZTGon/g0rJE5fhJ+LkdcYwnvCeiEfn3DUhu4UW09QqrdSE4LRvjFNsIydzCfQU9K3LPOnpbpT6pna7UBYbMgvzMn5XUFhGK8GyLqNmCWtAzPEOo/9kOBANbqBvgHFz52AhcpGN+Pn2yTqZiILFvWOtcQaB7CL8OgU8N7iwXxCc6eyjOcT0gNnP6fbOPYtvx0d9FHOt+xENvHoR9xi+uYd96ayBKfAa75XKcD84BI/jGcnrAbzsH0s6YfmQZ9kz3r3tp3PuoTxPJV4txffZ5V0sUjKxNY1+o7ZjN/cmlIH9BjPtGVl9sOxEsivM9DbT7t2yE6bgMeLIXZ0uAuNmczdSmw9iy+PZP6eizT1RrqasYrauLYPyo23BqYKdMmj/T+kG2oO1gfZgbaA9WBvoN2Qgod3vFS42AAAAAElFTkSuQmCC",Dz="/Ureno_webdesign/assets/seo_image-CsD-BWBl.png",Lz="/Ureno_webdesign/assets/Rocket-BhKaQXGh.png",jz="/Ureno_webdesign/assets/metrics-CwuTjVOH.png",Mz="/Ureno_webdesign/assets/Estimate-euYWEMZK.png";var G2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vS=Rt.createContext&&Rt.createContext(G2),Vz=["attr","size","title"];function Fz(n,e){if(n==null)return{};var t=Uz(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Uz(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function rp(){return rp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rp.apply(this,arguments)}function _S(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function sp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(t),!0).forEach(function(r){$z(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_S(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $z(n,e,t){return e=Bz(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bz(n){var e=zz(n,"string");return typeof e=="symbol"?e:e+""}function zz(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Q2(n){return n&&n.map((e,t)=>Rt.createElement(e.tag,sp({key:t},e.attr),Q2(e.child)))}function tm(n){return e=>Rt.createElement(Wz,rp({attr:sp({},n.attr)},e),Q2(n.child))}function Wz(n){var e=t=>{var{attr:r,size:s,title:o}=n,l=Fz(n,Vz),c=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Rt.createElement("svg",rp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:sp(sp({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Rt.createElement("title",null,o),n.children)};return vS!==void 0?Rt.createElement(vS.Consumer,null,t=>e(t)):e(G2)}function qz(n){return tm({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(n)}function Hz(n){return tm({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M32 32v432a16 16 0 0 0 16 16h432"},child:[]},{tag:"rect",attr:{width:"80",height:"192",x:"96",y:"224",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]},{tag:"rect",attr:{width:"80",height:"240",x:"240",y:"176",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]},{tag:"rect",attr:{width:"80",height:"304",x:"383.64",y:"112",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"20",ry:"20"},child:[]}]})(n)}function Kz(n){return tm({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256.05 80.65Q263.94 80 272 80c106 0 192 86 192 192s-86 192-192 192A192.09 192.09 0 0 1 89.12 330.65"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48C141.12 48 48 141.12 48 256a207.29 207.29 0 0 0 18.09 85L256 256z"},child:[]}]})(n)}function Gz(n){return tm({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.622 1.602a.75.75 0 0 1 .756 0l2.25 1.313a.75.75 0 0 1-.756 1.295L12 3.118 10.128 4.21a.75.75 0 1 1-.756-1.295l2.25-1.313ZM5.898 5.81a.75.75 0 0 1-.27 1.025l-1.14.665 1.14.665a.75.75 0 1 1-.756 1.295L3.75 8.806v.944a.75.75 0 0 1-1.5 0V7.5a.75.75 0 0 1 .372-.648l2.25-1.312a.75.75 0 0 1 1.026.27Zm12.204 0a.75.75 0 0 1 1.026-.27l2.25 1.312a.75.75 0 0 1 .372.648v2.25a.75.75 0 0 1-1.5 0v-.944l-1.122.654a.75.75 0 1 1-.756-1.295l1.14-.665-1.14-.665a.75.75 0 0 1-.27-1.025Zm-9 5.25a.75.75 0 0 1 1.026-.27L12 11.882l1.872-1.092a.75.75 0 1 1 .756 1.295l-1.878 1.096V15a.75.75 0 0 1-1.5 0v-1.82l-1.878-1.095a.75.75 0 0 1-.27-1.025ZM3 13.5a.75.75 0 0 1 .75.75v1.82l1.878 1.095a.75.75 0 1 1-.756 1.295l-2.25-1.312a.75.75 0 0 1-.372-.648v-2.25A.75.75 0 0 1 3 13.5Zm18 0a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.372.648l-2.25 1.312a.75.75 0 1 1-.756-1.295l1.878-1.096V14.25a.75.75 0 0 1 .75-.75Zm-9 5.25a.75.75 0 0 1 .75.75v.944l1.122-.654a.75.75 0 1 1 .756 1.295l-2.25 1.313a.75.75 0 0 1-.756 0l-2.25-1.313a.75.75 0 1 1 .756-1.295l1.122.654V19.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(n)}const Qz="_container_332ll_57",Yz="_btn_332ll_59",Xz="_btnPrimary_332ll_69",Jz="_h1_332ll_84",Zz="_h2_332ll_84",eW="_h3_332ll_84",tW="_h4_332ll_84",nW="_sectionText_332ll_90",rW="_active_332ll_121",sW="_navOpenBtn_332ll_131",iW="_navCloseBtn_332ll_131",oW="_navbar_332ll_135",aW="_overlay_332ll_155",lW="_hero_332ll_167",cW="_heroContent_332ll_178",uW="_heroTitle_332ll_179",dW="_heroForm_332ll_180",hW="_inputField_332ll_182",fW="_heroText_332ll_194",pW="_heroBanner_332ll_197",mW="_service_332ll_201",gW="_sectionTitle_332ll_202",yW="_cardIcon_332ll_211",vW="_serviceList_332ll_222",_W="_serviceCard_332ll_230",wW="_cardTitle_332ll_250",EW="_cardText_332ll_251",TW="_about_332ll_262",xW="_aboutTop_332ll_265",IW="_features_332ll_273",SW="_pricing_332ll_287",CW="_faq_332ll_296",Z={container:Qz,btn:Yz,btnPrimary:Xz,h1:Jz,h2:Zz,h3:eW,h4:tW,sectionText:nW,active:rW,navOpenBtn:sW,navCloseBtn:iW,navbar:oW,overlay:aW,hero:lW,heroContent:cW,heroTitle:uW,heroForm:dW,inputField:hW,heroText:fW,heroBanner:pW,service:mW,sectionTitle:gW,cardIcon:yW,serviceList:vW,serviceCard:_W,cardTitle:wW,cardText:EW,about:TW,aboutTop:xW,features:IW,pricing:SW,faq:CW},RW=()=>{const[n,e]=S.useState(!1),[t,r]=S.useState(!1),[s,o]=S.useState(!1),l=()=>{e(!n)};S.useEffect(()=>{const d=()=>{window.scrollY>=10?r(!0):r(!1),window.scrollY>=800?o(!0):o(!1)};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]);const c=()=>{window.scrollTo({top:0,behavior:"smooth"})};return m.jsxs(m.Fragment,{children:[m.jsxs("header",{className:`${t?"active":""}`,"data-header":!0,children:[m.jsx("div",{className:`${Z.overlay} ${n?"active":""}`,"data-overlay":!0,onClick:l}),m.jsxs("div",{className:`${Z.container}`,children:[m.jsx("a",{href:"#",className:`${Z.logo}`,children:m.jsx("img",{src:Oz,alt:"SEO illustration"})}),m.jsx("button",{className:`${Z.navOpenBtn}`,"data-nav-open-btn":!0,onClick:l,children:m.jsx("ion-icon",{name:"menu-outline"})}),m.jsxs("nav",{className:`${Z.navbar} ${n?"active":""}`,"data-navbar":!0,children:[m.jsx("button",{className:`${Z.navCloseBtn}`,"data-nav-close-btn":!0,onClick:l,children:m.jsx("ion-icon",{name:"close-outline"})}),m.jsx("button",{className:`${Z.btn} ${Z.btnPrimary}`,children:"Let's Get Started"})]})]})]}),m.jsx("main",{children:m.jsxs("article",{children:[m.jsx("section",{className:`${Z.hero}`,id:"hero",children:m.jsxs("div",{className:`${Z.container}`,children:[m.jsxs("div",{className:`${Z.heroContent}`,children:[m.jsx("h1",{className:`${Z.h1} ${Z.heroTitle}`,children:"Make renovations faster, cheaper, and radically more transparent!"}),m.jsxs("form",{action:"",className:`${Z.heroForm}`,children:[m.jsx("input",{type:"text",name:"name",placeholder:"Enter your name",required:!0,className:Z.inputField}),m.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",required:!0,className:Z.inputField}),m.jsx("button",{type:"submit",className:`${Z.btn} ${Z.btnPrimary}`,children:"Get Started Now"})]}),m.jsxs("p",{className:`${Z.heroText}`,children:[m.jsx("span",{children:"Free 30 days trial"}),m.jsx("span",{children:"Exclusive Support"}),m.jsx("span",{children:"No Fees"})]})]}),m.jsx("figure",{className:`${Z.heroBanner}`,children:m.jsx("img",{src:Dz,alt:"SEO illustration"})})]})}),m.jsx("section",{className:`${Z.service}`,id:"service",children:m.jsxs("div",{className:`${Z.container}`,children:[m.jsx("h2",{className:`${Z.h2} ${Z.sectionTitle}`,children:"Launch Renovation Projects with Confidence"}),m.jsx("p",{className:`${Z.sectionText}`,children:"Say goodbye to phone-tag and unclear estimates. URENO gives homeowners instant pricing, contractor matching, and a real-time dashboard so projects start faster and finish smarter."}),m.jsxs("ul",{className:`${Z.serviceList}`,children:[m.jsx("li",{children:m.jsxs("div",{className:`${Z.serviceCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx(qz,{size:80})}),m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Connect with Trusted Contractors"}),m.jsx("p",{className:`${Z.cardText}`,children:"URENO connects homeowners with vetted local contractors—ranked by availability, cost, and performance, with no hidden fees."})]})}),m.jsx("li",{children:m.jsxs("div",{className:`${Z.serviceCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx(Hz,{size:80})}),m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Track Progress"}),m.jsx("p",{className:`${Z.cardText}`,children:"From permit status to paint drying, timelines, payments, and milestones—all in one place."})]})}),m.jsx("li",{children:m.jsxs("div",{className:`${Z.serviceCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx(Kz,{size:80})}),m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Shop Renovation Materials Seamlessly"}),m.jsx("p",{className:`${Z.cardText}`,children:"Choose from transparent, pre-priced flooring and paint options sourced from vetted manufacturers. "})]})}),m.jsx("li",{children:m.jsxs("div",{className:`${Z.serviceCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx(Gz,{size:80})}),m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Built-In Cost Transparency and Fair Pricing"}),m.jsx("p",{className:`${Z.cardText}`,children:"Contractors save time bidding, and homeowners avoid surprise costs—thanks to milestone-based billing and upfront estimates."})]})})]})]})}),m.jsx("section",{className:`${Z.about}`,id:"about",children:m.jsxs("div",{className:`${Z.container}`,children:[m.jsxs("div",{className:`${Z.aboutTop}`,children:[m.jsx("figure",{className:`${Z.aboutBanner}`,children:m.jsx("img",{src:Lz,alt:"SEO illustration"})}),m.jsxs("div",{className:`${Z.aboutContent}`,children:[m.jsx("p",{className:`${Z.sectionSubtitle}`,children:"Quick and Transparent"}),m.jsx("h2",{className:`${Z.h3} ${Z.sectionTitle}`,children:"From Click to Contractor - Renocvation, Simplified"}),m.jsx("p",{className:`${Z.sectionText}`,children:"URENO skips the search engine race and puts homeowners directly in control. With instant square-footage pricing, verified local contractors, and real-time dashboards, projects start faster and stay on track."}),m.jsx("p",{className:`${Z.sectionText}`,children:"Forget chasing—URENO brings the full renovation journey into one seamless, digital workflow. Ready to cut costs, save time, and rebuild trust in the renovation process?"})]})]}),m.jsxs("div",{className:`${Z.aboutBottom}`,children:[m.jsx("figure",{className:`${Z.aboutBanner}`,children:m.jsx("img",{src:jz,alt:"SEO illustration"})}),m.jsxs("div",{className:`${Z.aboutContent}`,children:[m.jsx("h3",{className:`${Z.h4} ${Z.aboutBottomTitle}`,children:"Project Insights & Smart Tracking"}),m.jsx("p",{className:`${Z.sectionText}`,children:"Use a set of sophisticated techniques and tools used to analyze complex data sets and extract valuable insights that go beyond traditional business intelligence methods. Here we can include machine learning, and data mining techniques to uncover patterns, predict future trends, and support decision-making processes"}),m.jsx("h3",{className:`${Z.h4} ${Z.aboutBottomTitle}`,children:"Data That Drives Every Decision"}),m.jsxs("ul",{className:`${Z.aboutBottomList}`,children:[m.jsx("li",{className:`${Z.aboutBottomItem}`,children:m.jsx("p",{className:`${Z.sectionText}`,children:"Predict renovation timelines based on project size and complexity"})}),m.jsx("li",{className:`${Z.aboutBottomItem}`,children:m.jsx("p",{className:`${Z.sectionText}`,children:"Monitor license status, materials, and progress in real time"})}),m.jsx("li",{className:`${Z.aboutBottomItem}`,children:m.jsx("p",{className:`${Z.sectionText}`,children:"Support smarter decision-making with transparent cost breakdowns"})}),m.jsx("li",{className:`${Z.aboutBottomItem}`,children:m.jsx("p",{className:`${Z.sectionText}`,children:" Automate payments tied to verified milestones"})})]})]})]})]})}),m.jsx("section",{className:`${Z.features}`,id:"features",children:m.jsxs("div",{className:`${Z.container}`,children:[m.jsx("p",{className:`${Z.sectionSubtitle}`,children:"Market Research"}),m.jsx("h2",{className:`${Z.h3} ${Z.sectionTitle}`,children:"URENO isn’t just a platform, it’s a full-stack solution for modernizing renovation."}),m.jsxs("ul",{className:`${Z.featuresList}`,children:[m.jsx("li",{children:m.jsxs("div",{className:`${Z.featuresCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx("ion-icon",{name:"analytics-outline"})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Real-Time Project Intelligence"}),m.jsx("p",{className:`${Z.sectionText}`,children:"Use URENO’s milestone-based dashboards and smart algorithms to track permits, materials, and contractor timelines—turning raw data into decisions that cut delays and save money."})]})]})}),m.jsx("li",{children:m.jsxs("div",{className:`${Z.featuresCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx("ion-icon",{name:"mail-open-outline"})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Transparent Cost Breakdown"}),m.jsx("p",{className:`${Z.sectionText}`,children:"From square footage estimates to labor margins, URENO keeps homeowners informed and contractors accountable—with every dollar tied to a verified step in the process."})]})]})}),m.jsx("li",{children:m.jsxs("div",{className:`${Z.featuresCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx("ion-icon",{name:"film-outline"})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Built-In Customer Communication"}),m.jsx("p",{className:`${Z.sectionText}`,children:"Automated notifications and project updates keep homeowners engaged, informed, and stress-free—no follow-up calls or email chains required."})]})]})}),m.jsx("li",{children:m.jsxs("div",{className:`${Z.featuresCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx("ion-icon",{name:"globe-outline"})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Visual Progress Tracking"}),m.jsx("p",{className:`${Z.sectionText}`,children:"Photos, updates, and contractor check-ins show exactly what’s happening on site—so there’s no confusion at the finish line."})]})]})}),m.jsx("li",{children:m.jsxs("div",{className:`${Z.featuresCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx("ion-icon",{name:"magnet-outline"})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Smart Discovery Tools"}),m.jsx("p",{className:`${Z.sectionText}`,children:"Homeowners can browse pre-priced renovation options, compare contractor availability, and schedule projects—all from one interface."})]})]})}),m.jsx("li",{children:m.jsxs("div",{className:`${Z.featuresCard}`,children:[m.jsx("div",{className:`${Z.cardIcon}`,children:m.jsx("ion-icon",{name:"layers-outline"})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{className:`${Z.h4} ${Z.cardTitle}`,children:"Dynamic Contractor Matching"}),m.jsx("p",{className:`${Z.sectionText}`,children:"Projects are routed to licensed contractors based on availability, location, and past performance—boosting job satisfaction and completion speed on both sides."})]})]})})]})]})}),m.jsx("section",{className:`${Z.pricing}`,id:"pricing",children:m.jsxs("div",{className:`${Z.container}`,children:[m.jsxs("div",{className:`${Z.pricingContent}`,children:[m.jsx("p",{className:`${Z.sectionSubtitle}`,children:"Renovation Made Effortless"}),m.jsx("h2",{className:`${Z.h3} ${Z.sectionTitle}`,children:"One seamless platform for every project"}),m.jsx("p",{className:`${Z.sectionText}`,children:"URENO simplifies the entire renovation journey—from estimate to final walkthrough. Every feature is built with clarity and speed in mind, whether you’re a first-time homeowner or a seasoned contractor."}),m.jsx("button",{className:`${Z.btn} ${Z.btnPrimary}`,children:"Pricing & Packages"})]}),m.jsx("figure",{className:`${Z.pricingBanner}`,children:m.jsx("img",{src:Mz,alt:"SEO illustration"})})]})}),m.jsx("section",{className:`${Z.faq}`,id:"faq",children:m.jsxs("div",{className:`${Z.container}`,children:[m.jsx("p",{className:`${Z.sectionSubtitle}`,children:"Frequently Asked Questions"}),m.jsxs("p",{className:`${Z.faqBottomLink}`,children:["Have any more questions?",m.jsx("a",{href:"#",children:"Ask your question here"})]})]})})]})}),m.jsx("button",{className:`${Z.goTopBtn} ${s?Z.active:""}`,"data-go-top":!0,onClick:c,children:m.jsx("ion-icon",{name:"arrow-up-outline"})})]})},AW=ac(()=>zl(()=>import("./designer-M83Db7Su.js"),[])),bW=ac(()=>zl(()=>import("./profile-DKBRMUjf.js"),[])),NW=ac(()=>zl(()=>import("./projectsDashboard-DuganqYg.js"),[])),PW=ac(()=>zl(()=>import("./CreateProject-Cc6yPdrz.js"),[])),kW=ac(()=>zl(()=>import("./MessagePage-BC4WJN2o.js"),[])),OW=ac(()=>zl(()=>import("./AdminDashboard-DhCFrEZB.js"),[])),DW=({children:n})=>{const{currentUser:e}=Rs(),{profile:t}=S.useContext(Ia);return!e||(t==null?void 0:t.role)!=="admin"?null:n},gy=({children:n})=>{const{currentUser:e}=Rs(),{profile:t}=S.useContext(Ia);return!e||!t||typeof t.role!="string"?m.jsx(o0,{}):t.role!=="contractor"?m.jsx(NS,{to:"/"}):n},LW=document.getElementById("root"),jW=lP.createRoot(LW);jW.render(m.jsx(S.StrictMode,{children:m.jsx(D5,{children:m.jsx(j5,{children:m.jsx(F5,{children:m.jsxs(Tk,{basename:"/Ureno_webdesign/",children:[m.jsx(kz,{}),m.jsx(S.Suspense,{fallback:m.jsx(o0,{}),children:m.jsxs(JP,{children:[m.jsx(ut,{path:"/",element:m.jsx(X$,{})}),m.jsx(ut,{path:"/product-page",element:m.jsx(eB,{})}),m.jsx(ut,{path:"/productDetail/:productId",element:m.jsx(oB,{})}),m.jsx(ut,{path:"/designerPage",element:m.jsx(AW,{})}),m.jsx(ut,{path:"/ProfileDashboard",element:m.jsx(bW,{})}),m.jsx(ut,{path:"/edit-profile",element:m.jsx(A7,{})}),m.jsx(ut,{path:"/sign-in",element:m.jsx(rB,{})}),m.jsx(ut,{path:"/Login",element:m.jsx(W7,{})}),m.jsx(ut,{path:"/sign-up",element:m.jsx(iB,{})}),m.jsx(ut,{path:"/admin",element:m.jsx(DW,{children:m.jsx(OW,{})})}),m.jsx(ut,{path:"/projects",element:m.jsx(NW,{})}),m.jsx(ut,{path:"/projects/new",element:m.jsx(PW,{})}),m.jsx(ut,{path:"/savedItems",element:m.jsx(b7,{})}),m.jsx(ut,{path:"/messages",element:m.jsx(kW,{})}),m.jsx(ut,{path:"/choose-role",element:m.jsx(q7,{})}),m.jsx(ut,{path:"/projects/edit/:projectId",element:m.jsx(H7,{})}),m.jsx(ut,{path:"/contractor-dashboard",element:m.jsx(gy,{children:m.jsx(Q7,{})})}),m.jsx(ut,{path:"/available-projects",element:m.jsx(gy,{children:m.jsx(K7,{})})}),m.jsx(ut,{path:"/projects/view/:projectId",element:m.jsx(gy,{children:m.jsx(Y7,{})})}),m.jsx(ut,{path:"/projects/:id/requests",element:m.jsx(X7,{})}),m.jsx(ut,{path:"/projects/:id/inquiries",element:m.jsx(J7,{})}),m.jsx(ut,{path:"/LandingPage",element:m.jsx(RW,{})}),m.jsx(ut,{path:"/TestChat",element:m.jsx(Nz,{})}),m.jsx(ut,{path:"/TestImage",element:m.jsx(Pz,{})})]})}),m.jsx(fb,{})]})})})})}));export{Xf as B,f0 as F,yt as L,C0 as N,fB as P,Ia as U,md as a,zW as b,bt as c,G7 as d,ps as e,vt as f,ms as g,Rs as h,Tt as i,m as j,$W as k,In as l,BW as m,Nn as n,lR as o,UW as p,Xs as q,S as r,H3 as s,Hr as t,Ut as u,ld as v,$n as w};
