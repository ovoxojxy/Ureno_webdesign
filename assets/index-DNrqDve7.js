(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const EM="modulepreload",TM=function(n){return"/Ureno_webdesign/"+n},YC={},vd=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=a(t.map(h=>{if(h=TM(h),h in YC)return;YC[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":EM,p||(_.as="script"),_.crossOrigin="",_.href=h,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((w,C)=>{_.addEventListener("load",w),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function Uf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dv={exports:{}},fh={},Lv={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC;function xM(){if(XC)return Ze;XC=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function S(q,ee,me){this.props=q,this.context=ee,this.refs=x,this.updater=me||w}S.prototype.isReactComponent={},S.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=S.prototype;function D(q,ee,me){this.props=q,this.context=ee,this.refs=x,this.updater=me||w}var V=D.prototype=new N;V.constructor=D,C(V,S.prototype),V.isPureReactComponent=!0;var F=Array.isArray,$=Object.prototype.hasOwnProperty,W={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(q,ee,me){var _e,Te={},Ae=null,be=null;if(ee!=null)for(_e in ee.ref!==void 0&&(be=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)$.call(ee,_e)&&!P.hasOwnProperty(_e)&&(Te[_e]=ee[_e]);var Pe=arguments.length-2;if(Pe===1)Te.children=me;else if(1<Pe){for(var Be=Array(Pe),Tt=0;Tt<Pe;Tt++)Be[Tt]=arguments[Tt+2];Te.children=Be}if(q&&q.defaultProps)for(_e in Pe=q.defaultProps,Pe)Te[_e]===void 0&&(Te[_e]=Pe[_e]);return{$$typeof:n,type:q,key:Ae,ref:be,props:Te,_owner:W.current}}function b(q,ee){return{$$typeof:n,type:q.type,key:ee,ref:q.ref,props:q.props,_owner:q._owner}}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function U(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return ee[me]})}var M=/\/+/g;function j(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):ee.toString(36)}function ne(q,ee,me,_e,Te){var Ae=typeof q;(Ae==="undefined"||Ae==="boolean")&&(q=null);var be=!1;if(q===null)be=!0;else switch(Ae){case"string":case"number":be=!0;break;case"object":switch(q.$$typeof){case n:case e:be=!0}}if(be)return be=q,Te=Te(be),q=_e===""?"."+j(be,0):_e,F(Te)?(me="",q!=null&&(me=q.replace(M,"$&/")+"/"),ne(Te,ee,me,"",function(Tt){return Tt})):Te!=null&&(O(Te)&&(Te=b(Te,me+(!Te.key||be&&be.key===Te.key?"":(""+Te.key).replace(M,"$&/")+"/")+q)),ee.push(Te)),1;if(be=0,_e=_e===""?".":_e+":",F(q))for(var Pe=0;Pe<q.length;Pe++){Ae=q[Pe];var Be=_e+j(Ae,Pe);be+=ne(Ae,ee,me,Be,Te)}else if(Be=_(q),typeof Be=="function")for(q=Be.call(q),Pe=0;!(Ae=q.next()).done;)Ae=Ae.value,Be=_e+j(Ae,Pe++),be+=ne(Ae,ee,me,Be,Te);else if(Ae==="object")throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return be}function he(q,ee,me){if(q==null)return q;var _e=[],Te=0;return ne(q,_e,"","",function(Ae){return ee.call(me,Ae,Te++)}),_e}function de(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var le={current:null},te={transition:null},oe={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:te,ReactCurrentOwner:W};function B(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:he,forEach:function(q,ee,me){he(q,function(){ee.apply(this,arguments)},me)},count:function(q){var ee=0;return he(q,function(){ee++}),ee},toArray:function(q){return he(q,function(ee){return ee})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ze.Component=S,Ze.Fragment=t,Ze.Profiler=i,Ze.PureComponent=D,Ze.StrictMode=r,Ze.Suspense=c,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ze.act=B,Ze.cloneElement=function(q,ee,me){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var _e=C({},q.props),Te=q.key,Ae=q.ref,be=q._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,be=W.current),ee.key!==void 0&&(Te=""+ee.key),q.type&&q.type.defaultProps)var Pe=q.type.defaultProps;for(Be in ee)$.call(ee,Be)&&!P.hasOwnProperty(Be)&&(_e[Be]=ee[Be]===void 0&&Pe!==void 0?Pe[Be]:ee[Be])}var Be=arguments.length-2;if(Be===1)_e.children=me;else if(1<Be){Pe=Array(Be);for(var Tt=0;Tt<Be;Tt++)Pe[Tt]=arguments[Tt+2];_e.children=Pe}return{$$typeof:n,type:q.type,key:Te,ref:Ae,props:_e,_owner:be}},Ze.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Ze.createElement=A,Ze.createFactory=function(q){var ee=A.bind(null,q);return ee.type=q,ee},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(q){return{$$typeof:u,render:q}},Ze.isValidElement=O,Ze.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:de}},Ze.memo=function(q,ee){return{$$typeof:h,type:q,compare:ee===void 0?null:ee}},Ze.startTransition=function(q){var ee=te.transition;te.transition={};try{q()}finally{te.transition=ee}},Ze.unstable_act=B,Ze.useCallback=function(q,ee){return le.current.useCallback(q,ee)},Ze.useContext=function(q){return le.current.useContext(q)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(q){return le.current.useDeferredValue(q)},Ze.useEffect=function(q,ee){return le.current.useEffect(q,ee)},Ze.useId=function(){return le.current.useId()},Ze.useImperativeHandle=function(q,ee,me){return le.current.useImperativeHandle(q,ee,me)},Ze.useInsertionEffect=function(q,ee){return le.current.useInsertionEffect(q,ee)},Ze.useLayoutEffect=function(q,ee){return le.current.useLayoutEffect(q,ee)},Ze.useMemo=function(q,ee){return le.current.useMemo(q,ee)},Ze.useReducer=function(q,ee,me){return le.current.useReducer(q,ee,me)},Ze.useRef=function(q){return le.current.useRef(q)},Ze.useState=function(q){return le.current.useState(q)},Ze.useSyncExternalStore=function(q,ee,me){return le.current.useSyncExternalStore(q,ee,me)},Ze.useTransition=function(){return le.current.useTransition()},Ze.version="18.3.1",Ze}var JC;function uE(){return JC||(JC=1,Lv.exports=xM()),Lv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function CM(){if(ZC)return fh;ZC=1;var n=uE(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var p,g={},_=null,w=null;h!==void 0&&(_=""+h),c.key!==void 0&&(_=""+c.key),c.ref!==void 0&&(w=c.ref);for(p in c)r.call(c,p)&&!s.hasOwnProperty(p)&&(g[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:u,key:_,ref:w,props:g,_owner:i.current}}return fh.Fragment=t,fh.jsx=a,fh.jsxs=a,fh}var eS;function SM(){return eS||(eS=1,Dv.exports=CM()),Dv.exports}var v=SM(),R=uE();const ni=Uf(R);var wm={},Mv={exports:{}},pi={},jv={exports:{}},Vv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function IM(){return tS||(tS=1,function(n){function e(te,oe){var B=te.length;te.push(oe);e:for(;0<B;){var q=B-1>>>1,ee=te[q];if(0<i(ee,oe))te[q]=oe,te[B]=ee,B=q;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var oe=te[0],B=te.pop();if(B!==oe){te[0]=B;e:for(var q=0,ee=te.length,me=ee>>>1;q<me;){var _e=2*(q+1)-1,Te=te[_e],Ae=_e+1,be=te[Ae];if(0>i(Te,B))Ae<ee&&0>i(be,Te)?(te[q]=be,te[Ae]=B,q=Ae):(te[q]=Te,te[_e]=B,q=_e);else if(Ae<ee&&0>i(be,B))te[q]=be,te[Ae]=B,q=Ae;else break e}}return oe}function i(te,oe){var B=te.sortIndex-oe.sortIndex;return B!==0?B:te.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,g=null,_=3,w=!1,C=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(te){for(var oe=t(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=te)r(h),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=t(h)}}function F(te){if(x=!1,V(te),!C)if(t(c)!==null)C=!0,de($);else{var oe=t(h);oe!==null&&le(F,oe.startTime-te)}}function $(te,oe){C=!1,x&&(x=!1,N(A),A=-1),w=!0;var B=_;try{for(V(oe),g=t(c);g!==null&&(!(g.expirationTime>oe)||te&&!U());){var q=g.callback;if(typeof q=="function"){g.callback=null,_=g.priorityLevel;var ee=q(g.expirationTime<=oe);oe=n.unstable_now(),typeof ee=="function"?g.callback=ee:g===t(c)&&r(c),V(oe)}else r(c);g=t(c)}if(g!==null)var me=!0;else{var _e=t(h);_e!==null&&le(F,_e.startTime-oe),me=!1}return me}finally{g=null,_=B,w=!1}}var W=!1,P=null,A=-1,b=5,O=-1;function U(){return!(n.unstable_now()-O<b)}function M(){if(P!==null){var te=n.unstable_now();O=te;var oe=!0;try{oe=P(!0,te)}finally{oe?j():(W=!1,P=null)}}else W=!1}var j;if(typeof D=="function")j=function(){D(M)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,he=ne.port2;ne.port1.onmessage=M,j=function(){he.postMessage(null)}}else j=function(){S(M,0)};function de(te){P=te,W||(W=!0,j())}function le(te,oe){A=S(function(){te(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){C||w||(C=!0,de($))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(te){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var B=_;_=oe;try{return te()}finally{_=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,oe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var B=_;_=te;try{return oe()}finally{_=B}},n.unstable_scheduleCallback=function(te,oe,B){var q=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,te){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,te={id:p++,callback:oe,priorityLevel:te,startTime:B,expirationTime:ee,sortIndex:-1},B>q?(te.sortIndex=B,e(h,te),t(c)===null&&te===t(h)&&(x?(N(A),A=-1):x=!0,le(F,B-q))):(te.sortIndex=ee,e(c,te),C||w||(C=!0,de($))),te},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(te){var oe=_;return function(){var B=_;_=oe;try{return te.apply(this,arguments)}finally{_=B}}}}(Vv)),Vv}var nS;function RM(){return nS||(nS=1,jv.exports=IM()),jv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function AM(){if(rS)return pi;rS=1;var n=uE(),e=RM();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function _(o){return c.call(g,o)?!0:c.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function w(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function C(o,l,d,m){if(l===null||typeof l>"u"||w(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function x(o,l,d,m,y,T,k){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=k}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new x(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(N,D);S[l]=new x(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(N,D);S[l]=new x(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(N,D);S[l]=new x(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function V(o,l,d,m){var y=S.hasOwnProperty(l)?S[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(C(l,d,y,m)&&(d=null),m||y===null?_(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):y.mustUseProperty?o[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?o.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),W=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),te=Symbol.iterator;function oe(o){return o===null||typeof o!="object"?null:(o=te&&o[te]||o["@@iterator"],typeof o=="function"?o:null)}var B=Object.assign,q;function ee(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var me=!1;function _e(o,l){if(!o||me)return"";me=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(X){var m=X}Reflect.construct(o,[],l)}else{try{l.call()}catch(X){m=X}o.call(l.prototype)}else{try{throw Error()}catch(X){m=X}o()}}catch(X){if(X&&m&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),T=m.stack.split(`
`),k=y.length-1,z=T.length-1;1<=k&&0<=z&&y[k]!==T[z];)z--;for(;1<=k&&0<=z;k--,z--)if(y[k]!==T[z]){if(k!==1||z!==1)do if(k--,z--,0>z||y[k]!==T[z]){var H=`
`+y[k].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=k&&0<=z);break}}}finally{me=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?ee(o):""}function Te(o){switch(o.tag){case 5:return ee(o.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return o=_e(o.type,!1),o;case 11:return o=_e(o.type.render,!1),o;case 1:return o=_e(o.type,!0),o;default:return""}}function Ae(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case W:return"Portal";case b:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case ne:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case U:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case M:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case he:return l=o.displayName||null,l!==null?l:Ae(o.type)||"Memo";case de:l=o._payload,o=o._init;try{return Ae(o(l))}catch{}}return null}function be(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(l);case 8:return l===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Pe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Be(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Tt(o){var l=Be(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,T=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(k){m=""+k,T.call(this,k)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function xt(o){o._valueTracker||(o._valueTracker=Tt(o))}function nn(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Be(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function We(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function _t(o,l){var d=l.checked;return B({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function rn(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=Pe(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function un(o,l){l=l.checked,l!=null&&V(o,"checked",l,!1)}function J(o,l){un(o,l);var d=Pe(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?$n(o,l.type,d):l.hasOwnProperty("defaultValue")&&$n(o,l.type,Pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Tn(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function $n(o,l,d){(l!=="number"||We(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Dt=Array.isArray;function rt(o,l,d,m){if(o=o.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<o.length;d++)y=l.hasOwnProperty("$"+o[d].value),o[d].selected!==y&&(o[d].selected=y),y&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Pe(d),l=null,y=0;y<o.length;y++){if(o[y].value===d){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function Wn(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return B({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function qn(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(t(92));if(Dt(d)){if(1<d.length)throw Error(t(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Pe(d)}}function Hn(o,l){var d=Pe(l.value),m=Pe(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function Pt(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function yt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?yt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Gt,Gn=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,y)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Gt=Gt||document.createElement("div"),Gt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Gt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Kn(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rt=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(o){Rt.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Ai[l]=Ai[o]})});function Ys(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Ai.hasOwnProperty(o)&&Ai[o]?(""+l).trim():l+"px"}function zr(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=Ys(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,y):o[d]=y}}var Zi=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function es(o,l){if(l){if(Zi[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function si(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $r=null;function Ge(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var oi=null,Kt=null,cn=null;function Qn(o){if(o=Jd(o)){if(typeof oi!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Lp(l),oi(o.stateNode,o.type,l))}}function Yn(o){Kt?cn?cn.push(o):cn=[o]:Kt=o}function ts(){if(Kt){var o=Kt,l=cn;if(cn=Kt=null,Qn(o),l)for(o=0;o<l.length;o++)Qn(l[o])}}function dr(o,l){return o(l)}function As(){}var Le=!1;function ke(o,l,d){if(Le)return o(l,d);Le=!0;try{return dr(o,l,d)}finally{Le=!1,(Kt!==null||cn!==null)&&(As(),ts())}}function De(o,l){var d=o.stateNode;if(d===null)return null;var m=Lp(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(t(231,l,typeof d));return d}var pe=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){pe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch{pe=!1}function Ie(o,l,d,m,y,T,k,z,H){var X=Array.prototype.slice.call(arguments,3);try{l.apply(d,X)}catch(ae){this.onError(ae)}}var Ve=!1,Vt=null,ze=!1,kt=null,xn={onError:function(o){Ve=!0,Vt=o}};function Ct(o,l,d,m,y,T,k,z,H){Ve=!1,Vt=null,Ie.apply(xn,arguments)}function St(o,l,d,m,y,T,k,z,H){if(Ct.apply(this,arguments),Ve){if(Ve){var X=Vt;Ve=!1,Vt=null}else throw Error(t(198));ze||(ze=!0,kt=X)}}function Xe(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Ln(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function ot(o){if(Xe(o)!==o)throw Error(t(188))}function Xn(o){var l=o.alternate;if(!l){if(l=Xe(o),l===null)throw Error(t(188));return l!==o?null:o}for(var d=o,m=l;;){var y=d.return;if(y===null)break;var T=y.alternate;if(T===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===T.child){for(T=y.child;T;){if(T===d)return ot(y),o;if(T===m)return ot(y),l;T=T.sibling}throw Error(t(188))}if(d.return!==m.return)d=y,m=T;else{for(var k=!1,z=y.child;z;){if(z===d){k=!0,d=y,m=T;break}if(z===m){k=!0,m=y,d=T;break}z=z.sibling}if(!k){for(z=T.child;z;){if(z===d){k=!0,d=T,m=y;break}if(z===m){k=!0,m=T,d=y;break}z=z.sibling}if(!k)throw Error(t(189))}}if(d.alternate!==m)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?o:l}function Er(o){return o=Xn(o),o!==null?Qt(o):null}function Qt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Qt(o);if(l!==null)return l;o=o.sibling}return null}var Yt=e.unstable_scheduleCallback,dn=e.unstable_cancelCallback,ns=e.unstable_shouldYield,wa=e.unstable_requestPaint,Qe=e.unstable_now,Xt=e.unstable_getCurrentPriorityLevel,Jn=e.unstable_ImmediatePriority,rs=e.unstable_UserBlockingPriority,Wr=e.unstable_NormalPriority,bs=e.unstable_LowPriority,qr=e.unstable_IdlePriority,bi=null,Zn=null;function Pi(o){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(bi,o,void 0,(o.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:fp,Md=Math.log,hp=Math.LN2;function fp(o){return o>>>=0,o===0?32:31-(Md(o)/hp|0)|0}var $u=64,Wu=4194304;function Ea(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Vl(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,y=o.suspendedLanes,T=o.pingedLanes,k=d&268435455;if(k!==0){var z=k&~y;z!==0?m=Ea(z):(T&=k,T!==0&&(m=Ea(T)))}else k=d&~y,k!==0?m=Ea(k):T!==0&&(m=Ea(T));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,T=l&-l,y>=T||y===16&&(T&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-Hr(l),y=1<<d,m|=o[d],l&=~y;return m}function cy(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,T=o.pendingLanes;0<T;){var k=31-Hr(T),z=1<<k,H=y[k];H===-1?((z&d)===0||(z&m)!==0)&&(y[k]=cy(z,l)):H<=l&&(o.expiredLanes|=z),T&=~z}}function ki(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Fl(){var o=$u;return $u<<=1,($u&4194240)===0&&($u=64),o}function Ta(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function xa(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Hr(l),o[l]=d}function Nt(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var y=31-Hr(d),T=1<<y;l[y]=0,m[y]=-1,o[y]=-1,d&=~T}}function Ca(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-Hr(d),y=1<<m;y&l|o[m]&l&&(o[m]|=l),d&=~y}}var at=0;function Sa(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var pp,qu,mp,gp,_p,jd=!1,Xs=[],hr=null,Ps=null,ks=null,Ia=new Map,is=new Map,Js=[],dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yp(o,l){switch(o){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Ia.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(l.pointerId)}}function ai(o,l,d,m,y,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[y]},l!==null&&(l=Jd(l),l!==null&&qu(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function hy(o,l,d,m,y){switch(l){case"focusin":return hr=ai(hr,o,l,d,m,y),!0;case"dragenter":return Ps=ai(Ps,o,l,d,m,y),!0;case"mouseover":return ks=ai(ks,o,l,d,m,y),!0;case"pointerover":var T=y.pointerId;return Ia.set(T,ai(Ia.get(T)||null,o,l,d,m,y)),!0;case"gotpointercapture":return T=y.pointerId,is.set(T,ai(is.get(T)||null,o,l,d,m,y)),!0}return!1}function vp(o){var l=Wl(o.target);if(l!==null){var d=Xe(l);if(d!==null){if(l=d.tag,l===13){if(l=Ln(d),l!==null){o.blockedOn=l,_p(o.priority,function(){mp(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ko(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=Hu(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);$r=m,d.target.dispatchEvent(m),$r=null}else return l=Jd(d),l!==null&&qu(l),o.blockedOn=d,!1;l.shift()}return!0}function Ul(o,l,d){ko(o)&&d.delete(l)}function wp(){jd=!1,hr!==null&&ko(hr)&&(hr=null),Ps!==null&&ko(Ps)&&(Ps=null),ks!==null&&ko(ks)&&(ks=null),Ia.forEach(Ul),is.forEach(Ul)}function Ns(o,l){o.blockedOn===l&&(o.blockedOn=null,jd||(jd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wp)))}function Os(o){function l(y){return Ns(y,o)}if(0<Xs.length){Ns(Xs[0],o);for(var d=1;d<Xs.length;d++){var m=Xs[d];m.blockedOn===o&&(m.blockedOn=null)}}for(hr!==null&&Ns(hr,o),Ps!==null&&Ns(Ps,o),ks!==null&&Ns(ks,o),Ia.forEach(l),is.forEach(l),d=0;d<Js.length;d++)m=Js[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<Js.length&&(d=Js[0],d.blockedOn===null);)vp(d),d.blockedOn===null&&Js.shift()}var No=F.ReactCurrentBatchConfig,Ra=!0;function Jt(o,l,d,m){var y=at,T=No.transition;No.transition=null;try{at=1,Vd(o,l,d,m)}finally{at=y,No.transition=T}}function fy(o,l,d,m){var y=at,T=No.transition;No.transition=null;try{at=4,Vd(o,l,d,m)}finally{at=y,No.transition=T}}function Vd(o,l,d,m){if(Ra){var y=Hu(o,l,d,m);if(y===null)Cy(o,l,m,Bl,d),yp(o,m);else if(hy(y,o,l,d,m))m.stopPropagation();else if(yp(o,m),l&4&&-1<dy.indexOf(o)){for(;y!==null;){var T=Jd(y);if(T!==null&&pp(T),T=Hu(o,l,d,m),T===null&&Cy(o,l,m,Bl,d),T===y)break;y=T}y!==null&&m.stopPropagation()}else Cy(o,l,m,null,d)}}var Bl=null;function Hu(o,l,d,m){if(Bl=null,o=Ge(m),o=Wl(o),o!==null)if(l=Xe(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Ln(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Bl=o,null}function Fd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xt()){case Jn:return 1;case rs:return 4;case Wr:case bs:return 16;case qr:return 536870912;default:return 16}default:return 16}}var Ni=null,Gu=null,li=null;function Ud(){if(li)return li;var o,l=Gu,d=l.length,m,y="value"in Ni?Ni.value:Ni.textContent,T=y.length;for(o=0;o<d&&l[o]===y[o];o++);var k=d-o;for(m=1;m<=k&&l[d-m]===y[T-m];m++);return li=y.slice(o,1<m?1-m:void 0)}function Ku(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Zs(){return!0}function Bd(){return!1}function fr(o){function l(d,m,y,T,k){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=T,this.target=k,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(d=o[z],this[z]=d?d(T):T[z]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Zs:Bd,this.isPropagationStopped=Bd,this}return B(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),l}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=fr(Ds),eo=B({},Ds,{view:0,detail:0}),py=fr(eo),Yu,Oo,Aa,zl=B({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Aa&&(Aa&&o.type==="mousemove"?(Yu=o.screenX-Aa.screenX,Oo=o.screenY-Aa.screenY):Oo=Yu=0,Aa=o),Yu)},movementY:function(o){return"movementY"in o?o.movementY:Oo}}),Xu=fr(zl),zd=B({},zl,{dataTransfer:0}),Ep=fr(zd),Ju=B({},eo,{relatedTarget:0}),Zu=fr(Ju),Tp=B({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=fr(Tp),xp=B({},Ds,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Cp=fr(xp),Sp=B({},Ds,{data:0}),$d=fr(Sp),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rp(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Ip[o])?!!l[o]:!1}function to(){return Rp}var f=B({},eo,{key:function(o){if(o.key){var l=ec[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ku(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Gr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(o){return o.type==="keypress"?Ku(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ku(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),E=fr(f),I=B({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L=fr(I),K=B({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),Z=fr(K),fe=B({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),It=fr(fe),Mn=B({},zl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=fr(Mn),er=[9,13,27,32],Cn=u&&"CompositionEvent"in window,ss=null;u&&"documentMode"in document&&(ss=document.documentMode);var Oi=u&&"TextEvent"in window&&!ss,$l=u&&(!Cn||ss&&8<ss&&11>=ss),tc=" ",Wx=!1;function qx(o,l){switch(o){case"keyup":return er.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var nc=!1;function yL(o,l){switch(o){case"compositionend":return Hx(l);case"keypress":return l.which!==32?null:(Wx=!0,tc);case"textInput":return o=l.data,o===tc&&Wx?null:o;default:return null}}function vL(o,l){if(nc)return o==="compositionend"||!Cn&&qx(o,l)?(o=Ud(),li=Gu=Ni=null,nc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return $l&&l.locale!=="ko"?null:l.data;default:return null}}var wL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gx(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!wL[o.type]:l==="textarea"}function Kx(o,l,d,m){Yn(m),l=Np(l,"onChange"),0<l.length&&(d=new Qu("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var Wd=null,qd=null;function EL(o){h1(o,0)}function Ap(o){var l=ac(o);if(nn(l))return o}function TL(o,l){if(o==="change")return l}var Qx=!1;if(u){var my;if(u){var gy="oninput"in document;if(!gy){var Yx=document.createElement("div");Yx.setAttribute("oninput","return;"),gy=typeof Yx.oninput=="function"}my=gy}else my=!1;Qx=my&&(!document.documentMode||9<document.documentMode)}function Xx(){Wd&&(Wd.detachEvent("onpropertychange",Jx),qd=Wd=null)}function Jx(o){if(o.propertyName==="value"&&Ap(qd)){var l=[];Kx(l,qd,o,Ge(o)),ke(EL,l)}}function xL(o,l,d){o==="focusin"?(Xx(),Wd=l,qd=d,Wd.attachEvent("onpropertychange",Jx)):o==="focusout"&&Xx()}function CL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ap(qd)}function SL(o,l){if(o==="click")return Ap(l)}function IL(o,l){if(o==="input"||o==="change")return Ap(l)}function RL(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Ls=typeof Object.is=="function"?Object.is:RL;function Hd(o,l){if(Ls(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!c.call(l,y)||!Ls(o[y],l[y]))return!1}return!0}function Zx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function e1(o,l){var d=Zx(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Zx(d)}}function t1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?t1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function n1(){for(var o=window,l=We();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=We(o.document)}return l}function _y(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function AL(o){var l=n1(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&t1(d.ownerDocument.documentElement,d)){if(m!==null&&_y(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=d.textContent.length,T=Math.min(m.start,y);m=m.end===void 0?T:Math.min(m.end,y),!o.extend&&T>m&&(y=m,m=T,T=y),y=e1(d,T);var k=e1(d,m);y&&k&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==k.node||o.focusOffset!==k.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),T>m?(o.addRange(l),o.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var bL=u&&"documentMode"in document&&11>=document.documentMode,rc=null,yy=null,Gd=null,vy=!1;function r1(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;vy||rc==null||rc!==We(m)||(m=rc,"selectionStart"in m&&_y(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Gd&&Hd(Gd,m)||(Gd=m,m=Np(yy,"onSelect"),0<m.length&&(l=new Qu("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=rc)))}function bp(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var ic={animationend:bp("Animation","AnimationEnd"),animationiteration:bp("Animation","AnimationIteration"),animationstart:bp("Animation","AnimationStart"),transitionend:bp("Transition","TransitionEnd")},wy={},i1={};u&&(i1=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function Pp(o){if(wy[o])return wy[o];if(!ic[o])return o;var l=ic[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in i1)return wy[o]=l[d];return o}var s1=Pp("animationend"),o1=Pp("animationiteration"),a1=Pp("animationstart"),l1=Pp("transitionend"),u1=new Map,c1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(o,l){u1.set(o,l),s(l,[o])}for(var Ey=0;Ey<c1.length;Ey++){var Ty=c1[Ey],PL=Ty.toLowerCase(),kL=Ty[0].toUpperCase()+Ty.slice(1);ba(PL,"on"+kL)}ba(s1,"onAnimationEnd"),ba(o1,"onAnimationIteration"),ba(a1,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(l1,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kd));function d1(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,St(m,l,void 0,o),o.currentTarget=null}function h1(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],y=m.event;m=m.listeners;e:{var T=void 0;if(l)for(var k=m.length-1;0<=k;k--){var z=m[k],H=z.instance,X=z.currentTarget;if(z=z.listener,H!==T&&y.isPropagationStopped())break e;d1(y,z,X),T=H}else for(k=0;k<m.length;k++){if(z=m[k],H=z.instance,X=z.currentTarget,z=z.listener,H!==T&&y.isPropagationStopped())break e;d1(y,z,X),T=H}}}if(ze)throw o=kt,ze=!1,kt=null,o}function Ft(o,l){var d=l[Py];d===void 0&&(d=l[Py]=new Set);var m=o+"__bubble";d.has(m)||(f1(l,o,2,!1),d.add(m))}function xy(o,l,d){var m=0;l&&(m|=4),f1(d,o,m,l)}var kp="_reactListening"+Math.random().toString(36).slice(2);function Qd(o){if(!o[kp]){o[kp]=!0,r.forEach(function(d){d!=="selectionchange"&&(NL.has(d)||xy(d,!1,o),xy(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[kp]||(l[kp]=!0,xy("selectionchange",!1,l))}}function f1(o,l,d,m){switch(Fd(l)){case 1:var y=Jt;break;case 4:y=fy;break;default:y=Vd}d=y.bind(null,l,d,o),y=void 0,!pe||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(l,d,{capture:!0,passive:y}):o.addEventListener(l,d,!0):y!==void 0?o.addEventListener(l,d,{passive:y}):o.addEventListener(l,d,!1)}function Cy(o,l,d,m,y){var T=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var z=m.stateNode.containerInfo;if(z===y||z.nodeType===8&&z.parentNode===y)break;if(k===4)for(k=m.return;k!==null;){var H=k.tag;if((H===3||H===4)&&(H=k.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;k=k.return}for(;z!==null;){if(k=Wl(z),k===null)return;if(H=k.tag,H===5||H===6){m=T=k;continue e}z=z.parentNode}}m=m.return}ke(function(){var X=T,ae=Ge(d),ue=[];e:{var se=u1.get(o);if(se!==void 0){var ye=Qu,Ce=o;switch(o){case"keypress":if(Ku(d)===0)break e;case"keydown":case"keyup":ye=E;break;case"focusin":Ce="focus",ye=Zu;break;case"focusout":Ce="blur",ye=Zu;break;case"beforeblur":case"afterblur":ye=Zu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Z;break;case s1:case o1:case a1:ye=Do;break;case l1:ye=It;break;case"scroll":ye=py;break;case"wheel":ye=dt;break;case"copy":case"cut":case"paste":ye=Cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=L}var Se=(l&4)!==0,yn=!Se&&o==="scroll",Q=Se?se!==null?se+"Capture":null:se;Se=[];for(var G=X,Y;G!==null;){Y=G;var ce=Y.stateNode;if(Y.tag===5&&ce!==null&&(Y=ce,Q!==null&&(ce=De(G,Q),ce!=null&&Se.push(Yd(G,ce,Y)))),yn)break;G=G.return}0<Se.length&&(se=new ye(se,Ce,null,d,ae),ue.push({event:se,listeners:Se}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",se&&d!==$r&&(Ce=d.relatedTarget||d.fromElement)&&(Wl(Ce)||Ce[Lo]))break e;if((ye||se)&&(se=ae.window===ae?ae:(se=ae.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Ce=d.relatedTarget||d.toElement,ye=X,Ce=Ce?Wl(Ce):null,Ce!==null&&(yn=Xe(Ce),Ce!==yn||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ye=null,Ce=X),ye!==Ce)){if(Se=Xu,ce="onMouseLeave",Q="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(Se=L,ce="onPointerLeave",Q="onPointerEnter",G="pointer"),yn=ye==null?se:ac(ye),Y=Ce==null?se:ac(Ce),se=new Se(ce,G+"leave",ye,d,ae),se.target=yn,se.relatedTarget=Y,ce=null,Wl(ae)===X&&(Se=new Se(Q,G+"enter",Ce,d,ae),Se.target=Y,Se.relatedTarget=yn,ce=Se),yn=ce,ye&&Ce)t:{for(Se=ye,Q=Ce,G=0,Y=Se;Y;Y=sc(Y))G++;for(Y=0,ce=Q;ce;ce=sc(ce))Y++;for(;0<G-Y;)Se=sc(Se),G--;for(;0<Y-G;)Q=sc(Q),Y--;for(;G--;){if(Se===Q||Q!==null&&Se===Q.alternate)break t;Se=sc(Se),Q=sc(Q)}Se=null}else Se=null;ye!==null&&p1(ue,se,ye,Se,!1),Ce!==null&&yn!==null&&p1(ue,yn,Ce,Se,!0)}}e:{if(se=X?ac(X):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var Re=TL;else if(Gx(se))if(Qx)Re=IL;else{Re=CL;var Me=xL}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Re=SL);if(Re&&(Re=Re(o,X))){Kx(ue,Re,d,ae);break e}Me&&Me(o,se,X),o==="focusout"&&(Me=se._wrapperState)&&Me.controlled&&se.type==="number"&&$n(se,"number",se.value)}switch(Me=X?ac(X):window,o){case"focusin":(Gx(Me)||Me.contentEditable==="true")&&(rc=Me,yy=X,Gd=null);break;case"focusout":Gd=yy=rc=null;break;case"mousedown":vy=!0;break;case"contextmenu":case"mouseup":case"dragend":vy=!1,r1(ue,d,ae);break;case"selectionchange":if(bL)break;case"keydown":case"keyup":r1(ue,d,ae)}var je;if(Cn)e:{switch(o){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else nc?qx(o,d)&&($e="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&($l&&d.locale!=="ko"&&(nc||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&nc&&(je=Ud()):(Ni=ae,Gu="value"in Ni?Ni.value:Ni.textContent,nc=!0)),Me=Np(X,$e),0<Me.length&&($e=new $d($e,o,null,d,ae),ue.push({event:$e,listeners:Me}),je?$e.data=je:(je=Hx(d),je!==null&&($e.data=je)))),(je=Oi?yL(o,d):vL(o,d))&&(X=Np(X,"onBeforeInput"),0<X.length&&(ae=new $d("onBeforeInput","beforeinput",null,d,ae),ue.push({event:ae,listeners:X}),ae.data=je))}h1(ue,l)})}function Yd(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Np(o,l){for(var d=l+"Capture",m=[];o!==null;){var y=o,T=y.stateNode;y.tag===5&&T!==null&&(y=T,T=De(o,d),T!=null&&m.unshift(Yd(o,T,y)),T=De(o,l),T!=null&&m.push(Yd(o,T,y))),o=o.return}return m}function sc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function p1(o,l,d,m,y){for(var T=l._reactName,k=[];d!==null&&d!==m;){var z=d,H=z.alternate,X=z.stateNode;if(H!==null&&H===m)break;z.tag===5&&X!==null&&(z=X,y?(H=De(d,T),H!=null&&k.unshift(Yd(d,H,z))):y||(H=De(d,T),H!=null&&k.push(Yd(d,H,z)))),d=d.return}k.length!==0&&o.push({event:l,listeners:k})}var OL=/\r\n?/g,DL=/\u0000|\uFFFD/g;function m1(o){return(typeof o=="string"?o:""+o).replace(OL,`
`).replace(DL,"")}function Op(o,l,d){if(l=m1(l),m1(o)!==l&&d)throw Error(t(425))}function Dp(){}var Sy=null,Iy=null;function Ry(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ay=typeof setTimeout=="function"?setTimeout:void 0,LL=typeof clearTimeout=="function"?clearTimeout:void 0,g1=typeof Promise=="function"?Promise:void 0,ML=typeof queueMicrotask=="function"?queueMicrotask:typeof g1<"u"?function(o){return g1.resolve(null).then(o).catch(jL)}:Ay;function jL(o){setTimeout(function(){throw o})}function by(o,l){var d=l,m=0;do{var y=d.nextSibling;if(o.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){o.removeChild(y),Os(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);Os(l)}function Pa(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function _1(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var oc=Math.random().toString(36).slice(2),no="__reactFiber$"+oc,Xd="__reactProps$"+oc,Lo="__reactContainer$"+oc,Py="__reactEvents$"+oc,VL="__reactListeners$"+oc,FL="__reactHandles$"+oc;function Wl(o){var l=o[no];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Lo]||d[no]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=_1(o);o!==null;){if(d=o[no])return d;o=_1(o)}return l}o=d,d=o.parentNode}return null}function Jd(o){return o=o[no]||o[Lo],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ac(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Lp(o){return o[Xd]||null}var ky=[],lc=-1;function ka(o){return{current:o}}function Ut(o){0>lc||(o.current=ky[lc],ky[lc]=null,lc--)}function Lt(o,l){lc++,ky[lc]=o.current,o.current=l}var Na={},Tr=ka(Na),ui=ka(!1),ql=Na;function uc(o,l){var d=o.type.contextTypes;if(!d)return Na;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},T;for(T in d)y[T]=l[T];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function ci(o){return o=o.childContextTypes,o!=null}function Mp(){Ut(ui),Ut(Tr)}function y1(o,l,d){if(Tr.current!==Na)throw Error(t(168));Lt(Tr,l),Lt(ui,d)}function v1(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(t(108,be(o)||"Unknown",y));return B({},d,m)}function jp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Na,ql=Tr.current,Lt(Tr,o),Lt(ui,ui.current),!0}function w1(o,l,d){var m=o.stateNode;if(!m)throw Error(t(169));d?(o=v1(o,l,ql),m.__reactInternalMemoizedMergedChildContext=o,Ut(ui),Ut(Tr),Lt(Tr,o)):Ut(ui),Lt(ui,d)}var Mo=null,Vp=!1,Ny=!1;function E1(o){Mo===null?Mo=[o]:Mo.push(o)}function UL(o){Vp=!0,E1(o)}function Oa(){if(!Ny&&Mo!==null){Ny=!0;var o=0,l=at;try{var d=Mo;for(at=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}Mo=null,Vp=!1}catch(y){throw Mo!==null&&(Mo=Mo.slice(o+1)),Yt(Jn,Oa),y}finally{at=l,Ny=!1}}return null}var cc=[],dc=0,Fp=null,Up=0,os=[],as=0,Hl=null,jo=1,Vo="";function Gl(o,l){cc[dc++]=Up,cc[dc++]=Fp,Fp=o,Up=l}function T1(o,l,d){os[as++]=jo,os[as++]=Vo,os[as++]=Hl,Hl=o;var m=jo;o=Vo;var y=32-Hr(m)-1;m&=~(1<<y),d+=1;var T=32-Hr(l)+y;if(30<T){var k=y-y%5;T=(m&(1<<k)-1).toString(32),m>>=k,y-=k,jo=1<<32-Hr(l)+y|d<<y|m,Vo=T+o}else jo=1<<T|d<<y|m,Vo=o}function Oy(o){o.return!==null&&(Gl(o,1),T1(o,1,0))}function Dy(o){for(;o===Fp;)Fp=cc[--dc],cc[dc]=null,Up=cc[--dc],cc[dc]=null;for(;o===Hl;)Hl=os[--as],os[as]=null,Vo=os[--as],os[as]=null,jo=os[--as],os[as]=null}var Di=null,Li=null,Zt=!1,Ms=null;function x1(o,l){var d=ds(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function C1(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Di=o,Li=Pa(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Di=o,Li=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Hl!==null?{id:jo,overflow:Vo}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=ds(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Di=o,Li=null,!0):!1;default:return!1}}function Ly(o){return(o.mode&1)!==0&&(o.flags&128)===0}function My(o){if(Zt){var l=Li;if(l){var d=l;if(!C1(o,l)){if(Ly(o))throw Error(t(418));l=Pa(d.nextSibling);var m=Di;l&&C1(o,l)?x1(m,d):(o.flags=o.flags&-4097|2,Zt=!1,Di=o)}}else{if(Ly(o))throw Error(t(418));o.flags=o.flags&-4097|2,Zt=!1,Di=o}}}function S1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Di=o}function Bp(o){if(o!==Di)return!1;if(!Zt)return S1(o),Zt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Ry(o.type,o.memoizedProps)),l&&(l=Li)){if(Ly(o))throw I1(),Error(t(418));for(;l;)x1(o,l),l=Pa(l.nextSibling)}if(S1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Li=Pa(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Li=null}}else Li=Di?Pa(o.stateNode.nextSibling):null;return!0}function I1(){for(var o=Li;o;)o=Pa(o.nextSibling)}function hc(){Li=Di=null,Zt=!1}function jy(o){Ms===null?Ms=[o]:Ms.push(o)}var BL=F.ReactCurrentBatchConfig;function Zd(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var m=d.stateNode}if(!m)throw Error(t(147,o));var y=m,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(k){var z=y.refs;k===null?delete z[T]:z[T]=k},l._stringRef=T,l)}if(typeof o!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,o))}return o}function zp(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function R1(o){var l=o._init;return l(o._payload)}function A1(o){function l(Q,G){if(o){var Y=Q.deletions;Y===null?(Q.deletions=[G],Q.flags|=16):Y.push(G)}}function d(Q,G){if(!o)return null;for(;G!==null;)l(Q,G),G=G.sibling;return null}function m(Q,G){for(Q=new Map;G!==null;)G.key!==null?Q.set(G.key,G):Q.set(G.index,G),G=G.sibling;return Q}function y(Q,G){return Q=Ba(Q,G),Q.index=0,Q.sibling=null,Q}function T(Q,G,Y){return Q.index=Y,o?(Y=Q.alternate,Y!==null?(Y=Y.index,Y<G?(Q.flags|=2,G):Y):(Q.flags|=2,G)):(Q.flags|=1048576,G)}function k(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function z(Q,G,Y,ce){return G===null||G.tag!==6?(G=Av(Y,Q.mode,ce),G.return=Q,G):(G=y(G,Y),G.return=Q,G)}function H(Q,G,Y,ce){var Re=Y.type;return Re===P?ae(Q,G,Y.props.children,ce,Y.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===de&&R1(Re)===G.type)?(ce=y(G,Y.props),ce.ref=Zd(Q,G,Y),ce.return=Q,ce):(ce=hm(Y.type,Y.key,Y.props,null,Q.mode,ce),ce.ref=Zd(Q,G,Y),ce.return=Q,ce)}function X(Q,G,Y,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==Y.containerInfo||G.stateNode.implementation!==Y.implementation?(G=bv(Y,Q.mode,ce),G.return=Q,G):(G=y(G,Y.children||[]),G.return=Q,G)}function ae(Q,G,Y,ce,Re){return G===null||G.tag!==7?(G=tu(Y,Q.mode,ce,Re),G.return=Q,G):(G=y(G,Y),G.return=Q,G)}function ue(Q,G,Y){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Av(""+G,Q.mode,Y),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case $:return Y=hm(G.type,G.key,G.props,null,Q.mode,Y),Y.ref=Zd(Q,null,G),Y.return=Q,Y;case W:return G=bv(G,Q.mode,Y),G.return=Q,G;case de:var ce=G._init;return ue(Q,ce(G._payload),Y)}if(Dt(G)||oe(G))return G=tu(G,Q.mode,Y,null),G.return=Q,G;zp(Q,G)}return null}function se(Q,G,Y,ce){var Re=G!==null?G.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Re!==null?null:z(Q,G,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return Y.key===Re?H(Q,G,Y,ce):null;case W:return Y.key===Re?X(Q,G,Y,ce):null;case de:return Re=Y._init,se(Q,G,Re(Y._payload),ce)}if(Dt(Y)||oe(Y))return Re!==null?null:ae(Q,G,Y,ce,null);zp(Q,Y)}return null}function ye(Q,G,Y,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Q=Q.get(Y)||null,z(G,Q,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case $:return Q=Q.get(ce.key===null?Y:ce.key)||null,H(G,Q,ce,Re);case W:return Q=Q.get(ce.key===null?Y:ce.key)||null,X(G,Q,ce,Re);case de:var Me=ce._init;return ye(Q,G,Y,Me(ce._payload),Re)}if(Dt(ce)||oe(ce))return Q=Q.get(Y)||null,ae(G,Q,ce,Re,null);zp(G,ce)}return null}function Ce(Q,G,Y,ce){for(var Re=null,Me=null,je=G,$e=G=0,rr=null;je!==null&&$e<Y.length;$e++){je.index>$e?(rr=je,je=null):rr=je.sibling;var gt=se(Q,je,Y[$e],ce);if(gt===null){je===null&&(je=rr);break}o&&je&&gt.alternate===null&&l(Q,je),G=T(gt,G,$e),Me===null?Re=gt:Me.sibling=gt,Me=gt,je=rr}if($e===Y.length)return d(Q,je),Zt&&Gl(Q,$e),Re;if(je===null){for(;$e<Y.length;$e++)je=ue(Q,Y[$e],ce),je!==null&&(G=T(je,G,$e),Me===null?Re=je:Me.sibling=je,Me=je);return Zt&&Gl(Q,$e),Re}for(je=m(Q,je);$e<Y.length;$e++)rr=ye(je,Q,$e,Y[$e],ce),rr!==null&&(o&&rr.alternate!==null&&je.delete(rr.key===null?$e:rr.key),G=T(rr,G,$e),Me===null?Re=rr:Me.sibling=rr,Me=rr);return o&&je.forEach(function(za){return l(Q,za)}),Zt&&Gl(Q,$e),Re}function Se(Q,G,Y,ce){var Re=oe(Y);if(typeof Re!="function")throw Error(t(150));if(Y=Re.call(Y),Y==null)throw Error(t(151));for(var Me=Re=null,je=G,$e=G=0,rr=null,gt=Y.next();je!==null&&!gt.done;$e++,gt=Y.next()){je.index>$e?(rr=je,je=null):rr=je.sibling;var za=se(Q,je,gt.value,ce);if(za===null){je===null&&(je=rr);break}o&&je&&za.alternate===null&&l(Q,je),G=T(za,G,$e),Me===null?Re=za:Me.sibling=za,Me=za,je=rr}if(gt.done)return d(Q,je),Zt&&Gl(Q,$e),Re;if(je===null){for(;!gt.done;$e++,gt=Y.next())gt=ue(Q,gt.value,ce),gt!==null&&(G=T(gt,G,$e),Me===null?Re=gt:Me.sibling=gt,Me=gt);return Zt&&Gl(Q,$e),Re}for(je=m(Q,je);!gt.done;$e++,gt=Y.next())gt=ye(je,Q,$e,gt.value,ce),gt!==null&&(o&&gt.alternate!==null&&je.delete(gt.key===null?$e:gt.key),G=T(gt,G,$e),Me===null?Re=gt:Me.sibling=gt,Me=gt);return o&&je.forEach(function(wM){return l(Q,wM)}),Zt&&Gl(Q,$e),Re}function yn(Q,G,Y,ce){if(typeof Y=="object"&&Y!==null&&Y.type===P&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:e:{for(var Re=Y.key,Me=G;Me!==null;){if(Me.key===Re){if(Re=Y.type,Re===P){if(Me.tag===7){d(Q,Me.sibling),G=y(Me,Y.props.children),G.return=Q,Q=G;break e}}else if(Me.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===de&&R1(Re)===Me.type){d(Q,Me.sibling),G=y(Me,Y.props),G.ref=Zd(Q,Me,Y),G.return=Q,Q=G;break e}d(Q,Me);break}else l(Q,Me);Me=Me.sibling}Y.type===P?(G=tu(Y.props.children,Q.mode,ce,Y.key),G.return=Q,Q=G):(ce=hm(Y.type,Y.key,Y.props,null,Q.mode,ce),ce.ref=Zd(Q,G,Y),ce.return=Q,Q=ce)}return k(Q);case W:e:{for(Me=Y.key;G!==null;){if(G.key===Me)if(G.tag===4&&G.stateNode.containerInfo===Y.containerInfo&&G.stateNode.implementation===Y.implementation){d(Q,G.sibling),G=y(G,Y.children||[]),G.return=Q,Q=G;break e}else{d(Q,G);break}else l(Q,G);G=G.sibling}G=bv(Y,Q.mode,ce),G.return=Q,Q=G}return k(Q);case de:return Me=Y._init,yn(Q,G,Me(Y._payload),ce)}if(Dt(Y))return Ce(Q,G,Y,ce);if(oe(Y))return Se(Q,G,Y,ce);zp(Q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,G!==null&&G.tag===6?(d(Q,G.sibling),G=y(G,Y),G.return=Q,Q=G):(d(Q,G),G=Av(Y,Q.mode,ce),G.return=Q,Q=G),k(Q)):d(Q,G)}return yn}var fc=A1(!0),b1=A1(!1),$p=ka(null),Wp=null,pc=null,Vy=null;function Fy(){Vy=pc=Wp=null}function Uy(o){var l=$p.current;Ut($p),o._currentValue=l}function By(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function mc(o,l){Wp=o,Vy=pc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(di=!0),o.firstContext=null)}function ls(o){var l=o._currentValue;if(Vy!==o)if(o={context:o,memoizedValue:l,next:null},pc===null){if(Wp===null)throw Error(t(308));pc=o,Wp.dependencies={lanes:0,firstContext:o}}else pc=pc.next=o;return l}var Kl=null;function zy(o){Kl===null?Kl=[o]:Kl.push(o)}function P1(o,l,d,m){var y=l.interleaved;return y===null?(d.next=d,zy(l)):(d.next=y.next,y.next=d),l.interleaved=d,Fo(o,m)}function Fo(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Da=!1;function $y(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Uo(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function La(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(mt&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,Fo(o,d)}return y=m.interleaved,y===null?(l.next=l,zy(m)):(l.next=y.next,y.next=l),m.interleaved=l,Fo(o,d)}function qp(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Ca(o,d)}}function N1(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var k={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?y=T=k:T=T.next=k,d=d.next}while(d!==null);T===null?y=T=l:T=T.next=l}else y=T=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:T,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Hp(o,l,d,m){var y=o.updateQueue;Da=!1;var T=y.firstBaseUpdate,k=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var H=z,X=H.next;H.next=null,k===null?T=X:k.next=X,k=H;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,z=ae.lastBaseUpdate,z!==k&&(z===null?ae.firstBaseUpdate=X:z.next=X,ae.lastBaseUpdate=H))}if(T!==null){var ue=y.baseState;k=0,ae=X=H=null,z=T;do{var se=z.lane,ye=z.eventTime;if((m&se)===se){ae!==null&&(ae=ae.next={eventTime:ye,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ce=o,Se=z;switch(se=l,ye=d,Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){ue=Ce.call(ye,ue,se);break e}ue=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,se=typeof Ce=="function"?Ce.call(ye,ue,se):Ce,se==null)break e;ue=B({},ue,se);break e;case 2:Da=!0}}z.callback!==null&&z.lane!==0&&(o.flags|=64,se=y.effects,se===null?y.effects=[z]:se.push(z))}else ye={eventTime:ye,lane:se,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ae===null?(X=ae=ye,H=ue):ae=ae.next=ye,k|=se;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;se=z,z=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ae===null&&(H=ue),y.baseState=H,y.firstBaseUpdate=X,y.lastBaseUpdate=ae,l=y.shared.interleaved,l!==null){y=l;do k|=y.lane,y=y.next;while(y!==l)}else T===null&&(y.shared.lanes=0);Xl|=k,o.lanes=k,o.memoizedState=ue}}function O1(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(t(191,y));y.call(m)}}}var eh={},ro=ka(eh),th=ka(eh),nh=ka(eh);function Ql(o){if(o===eh)throw Error(t(174));return o}function Wy(o,l){switch(Lt(nh,l),Lt(th,o),Lt(ro,eh),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:He(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=He(l,o)}Ut(ro),Lt(ro,l)}function gc(){Ut(ro),Ut(th),Ut(nh)}function D1(o){Ql(nh.current);var l=Ql(ro.current),d=He(l,o.type);l!==d&&(Lt(th,o),Lt(ro,d))}function qy(o){th.current===o&&(Ut(ro),Ut(th))}var sn=ka(0);function Gp(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Hy=[];function Gy(){for(var o=0;o<Hy.length;o++)Hy[o]._workInProgressVersionPrimary=null;Hy.length=0}var Kp=F.ReactCurrentDispatcher,Ky=F.ReactCurrentBatchConfig,Yl=0,on=null,jn=null,tr=null,Qp=!1,rh=!1,ih=0,zL=0;function xr(){throw Error(t(321))}function Qy(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Ls(o[d],l[d]))return!1;return!0}function Yy(o,l,d,m,y,T){if(Yl=T,on=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Kp.current=o===null||o.memoizedState===null?HL:GL,o=d(m,y),rh){T=0;do{if(rh=!1,ih=0,25<=T)throw Error(t(301));T+=1,tr=jn=null,l.updateQueue=null,Kp.current=KL,o=d(m,y)}while(rh)}if(Kp.current=Jp,l=jn!==null&&jn.next!==null,Yl=0,tr=jn=on=null,Qp=!1,l)throw Error(t(300));return o}function Xy(){var o=ih!==0;return ih=0,o}function io(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?on.memoizedState=tr=o:tr=tr.next=o,tr}function us(){if(jn===null){var o=on.alternate;o=o!==null?o.memoizedState:null}else o=jn.next;var l=tr===null?on.memoizedState:tr.next;if(l!==null)tr=l,jn=o;else{if(o===null)throw Error(t(310));jn=o,o={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},tr===null?on.memoizedState=tr=o:tr=tr.next=o}return tr}function sh(o,l){return typeof l=="function"?l(o):l}function Jy(o){var l=us(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=o;var m=jn,y=m.baseQueue,T=d.pending;if(T!==null){if(y!==null){var k=y.next;y.next=T.next,T.next=k}m.baseQueue=y=T,d.pending=null}if(y!==null){T=y.next,m=m.baseState;var z=k=null,H=null,X=T;do{var ae=X.lane;if((Yl&ae)===ae)H!==null&&(H=H.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),m=X.hasEagerState?X.eagerState:o(m,X.action);else{var ue={lane:ae,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};H===null?(z=H=ue,k=m):H=H.next=ue,on.lanes|=ae,Xl|=ae}X=X.next}while(X!==null&&X!==T);H===null?k=m:H.next=z,Ls(m,l.memoizedState)||(di=!0),l.memoizedState=m,l.baseState=k,l.baseQueue=H,d.lastRenderedState=m}if(o=d.interleaved,o!==null){y=o;do T=y.lane,on.lanes|=T,Xl|=T,y=y.next;while(y!==o)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Zy(o){var l=us(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=o;var m=d.dispatch,y=d.pending,T=l.memoizedState;if(y!==null){d.pending=null;var k=y=y.next;do T=o(T,k.action),k=k.next;while(k!==y);Ls(T,l.memoizedState)||(di=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,m]}function L1(){}function M1(o,l){var d=on,m=us(),y=l(),T=!Ls(m.memoizedState,y);if(T&&(m.memoizedState=y,di=!0),m=m.queue,ev(F1.bind(null,d,m,o),[o]),m.getSnapshot!==l||T||tr!==null&&tr.memoizedState.tag&1){if(d.flags|=2048,oh(9,V1.bind(null,d,m,y,l),void 0,null),nr===null)throw Error(t(349));(Yl&30)!==0||j1(d,l,y)}return y}function j1(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=on.updateQueue,l===null?(l={lastEffect:null,stores:null},on.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function V1(o,l,d,m){l.value=d,l.getSnapshot=m,U1(l)&&B1(o)}function F1(o,l,d){return d(function(){U1(l)&&B1(o)})}function U1(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Ls(o,d)}catch{return!0}}function B1(o){var l=Fo(o,1);l!==null&&Us(l,o,1,-1)}function z1(o){var l=io();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:o},l.queue=o,o=o.dispatch=qL.bind(null,on,o),[l.memoizedState,o]}function oh(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=on.updateQueue,l===null?(l={lastEffect:null,stores:null},on.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function $1(){return us().memoizedState}function Yp(o,l,d,m){var y=io();on.flags|=o,y.memoizedState=oh(1|l,d,void 0,m===void 0?null:m)}function Xp(o,l,d,m){var y=us();m=m===void 0?null:m;var T=void 0;if(jn!==null){var k=jn.memoizedState;if(T=k.destroy,m!==null&&Qy(m,k.deps)){y.memoizedState=oh(l,d,T,m);return}}on.flags|=o,y.memoizedState=oh(1|l,d,T,m)}function W1(o,l){return Yp(8390656,8,o,l)}function ev(o,l){return Xp(2048,8,o,l)}function q1(o,l){return Xp(4,2,o,l)}function H1(o,l){return Xp(4,4,o,l)}function G1(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function K1(o,l,d){return d=d!=null?d.concat([o]):null,Xp(4,4,G1.bind(null,l,o),d)}function tv(){}function Q1(o,l){var d=us();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Qy(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function Y1(o,l){var d=us();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Qy(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function X1(o,l,d){return(Yl&21)===0?(o.baseState&&(o.baseState=!1,di=!0),o.memoizedState=d):(Ls(d,l)||(d=Fl(),on.lanes|=d,Xl|=d,o.baseState=!0),l)}function $L(o,l){var d=at;at=d!==0&&4>d?d:4,o(!0);var m=Ky.transition;Ky.transition={};try{o(!1),l()}finally{at=d,Ky.transition=m}}function J1(){return us().memoizedState}function WL(o,l,d){var m=Fa(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Z1(o))eC(l,d);else if(d=P1(o,l,d,m),d!==null){var y=Qr();Us(d,o,m,y),tC(d,l,m)}}function qL(o,l,d){var m=Fa(o),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Z1(o))eC(l,y);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var k=l.lastRenderedState,z=T(k,d);if(y.hasEagerState=!0,y.eagerState=z,Ls(z,k)){var H=l.interleaved;H===null?(y.next=y,zy(l)):(y.next=H.next,H.next=y),l.interleaved=y;return}}catch{}finally{}d=P1(o,l,y,m),d!==null&&(y=Qr(),Us(d,o,m,y),tC(d,l,m))}}function Z1(o){var l=o.alternate;return o===on||l!==null&&l===on}function eC(o,l){rh=Qp=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function tC(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Ca(o,d)}}var Jp={readContext:ls,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},HL={readContext:ls,useCallback:function(o,l){return io().memoizedState=[o,l===void 0?null:l],o},useContext:ls,useEffect:W1,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Yp(4194308,4,G1.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Yp(4194308,4,o,l)},useInsertionEffect:function(o,l){return Yp(4,2,o,l)},useMemo:function(o,l){var d=io();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=io();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=WL.bind(null,on,o),[m.memoizedState,o]},useRef:function(o){var l=io();return o={current:o},l.memoizedState=o},useState:z1,useDebugValue:tv,useDeferredValue:function(o){return io().memoizedState=o},useTransition:function(){var o=z1(!1),l=o[0];return o=$L.bind(null,o[1]),io().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=on,y=io();if(Zt){if(d===void 0)throw Error(t(407));d=d()}else{if(d=l(),nr===null)throw Error(t(349));(Yl&30)!==0||j1(m,l,d)}y.memoizedState=d;var T={value:d,getSnapshot:l};return y.queue=T,W1(F1.bind(null,m,T,o),[o]),m.flags|=2048,oh(9,V1.bind(null,m,T,d,l),void 0,null),d},useId:function(){var o=io(),l=nr.identifierPrefix;if(Zt){var d=Vo,m=jo;d=(m&~(1<<32-Hr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=ih++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=zL++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},GL={readContext:ls,useCallback:Q1,useContext:ls,useEffect:ev,useImperativeHandle:K1,useInsertionEffect:q1,useLayoutEffect:H1,useMemo:Y1,useReducer:Jy,useRef:$1,useState:function(){return Jy(sh)},useDebugValue:tv,useDeferredValue:function(o){var l=us();return X1(l,jn.memoizedState,o)},useTransition:function(){var o=Jy(sh)[0],l=us().memoizedState;return[o,l]},useMutableSource:L1,useSyncExternalStore:M1,useId:J1,unstable_isNewReconciler:!1},KL={readContext:ls,useCallback:Q1,useContext:ls,useEffect:ev,useImperativeHandle:K1,useInsertionEffect:q1,useLayoutEffect:H1,useMemo:Y1,useReducer:Zy,useRef:$1,useState:function(){return Zy(sh)},useDebugValue:tv,useDeferredValue:function(o){var l=us();return jn===null?l.memoizedState=o:X1(l,jn.memoizedState,o)},useTransition:function(){var o=Zy(sh)[0],l=us().memoizedState;return[o,l]},useMutableSource:L1,useSyncExternalStore:M1,useId:J1,unstable_isNewReconciler:!1};function js(o,l){if(o&&o.defaultProps){l=B({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function nv(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:B({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Zp={isMounted:function(o){return(o=o._reactInternals)?Xe(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Qr(),y=Fa(o),T=Uo(m,y);T.payload=l,d!=null&&(T.callback=d),l=La(o,T,y),l!==null&&(Us(l,o,y,m),qp(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Qr(),y=Fa(o),T=Uo(m,y);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=La(o,T,y),l!==null&&(Us(l,o,y,m),qp(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Qr(),m=Fa(o),y=Uo(d,m);y.tag=2,l!=null&&(y.callback=l),l=La(o,y,m),l!==null&&(Us(l,o,m,d),qp(l,o,m))}};function nC(o,l,d,m,y,T,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,T,k):l.prototype&&l.prototype.isPureReactComponent?!Hd(d,m)||!Hd(y,T):!0}function rC(o,l,d){var m=!1,y=Na,T=l.contextType;return typeof T=="object"&&T!==null?T=ls(T):(y=ci(l)?ql:Tr.current,m=l.contextTypes,T=(m=m!=null)?uc(o,y):Na),l=new l(d,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Zp,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=T),l}function iC(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Zp.enqueueReplaceState(l,l.state,null)}function rv(o,l,d,m){var y=o.stateNode;y.props=d,y.state=o.memoizedState,y.refs={},$y(o);var T=l.contextType;typeof T=="object"&&T!==null?y.context=ls(T):(T=ci(l)?ql:Tr.current,y.context=uc(o,T)),y.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(nv(o,l,T,d),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Zp.enqueueReplaceState(y,y.state,null),Hp(o,d,y,m),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function _c(o,l){try{var d="",m=l;do d+=Te(m),m=m.return;while(m);var y=d}catch(T){y=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:y,digest:null}}function iv(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function sv(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var QL=typeof WeakMap=="function"?WeakMap:Map;function sC(o,l,d){d=Uo(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){om||(om=!0,wv=m),sv(o,l)},d}function oC(o,l,d){d=Uo(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){sv(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){sv(o,l),typeof m!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})}),d}function aC(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new QL;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),o=uM.bind(null,o,l,d),l.then(o,o))}function lC(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function uC(o,l,d,m,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Uo(-1,1),l.tag=2,La(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var YL=F.ReactCurrentOwner,di=!1;function Kr(o,l,d,m){l.child=o===null?b1(l,null,d,m):fc(l,o.child,d,m)}function cC(o,l,d,m,y){d=d.render;var T=l.ref;return mc(l,y),m=Yy(o,l,d,m,T,y),d=Xy(),o!==null&&!di?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Bo(o,l,y)):(Zt&&d&&Oy(l),l.flags|=1,Kr(o,l,m,y),l.child)}function dC(o,l,d,m,y){if(o===null){var T=d.type;return typeof T=="function"&&!Rv(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,hC(o,l,T,m,y)):(o=hm(d.type,null,m,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&y)===0){var k=T.memoizedProps;if(d=d.compare,d=d!==null?d:Hd,d(k,m)&&o.ref===l.ref)return Bo(o,l,y)}return l.flags|=1,o=Ba(T,m),o.ref=l.ref,o.return=l,l.child=o}function hC(o,l,d,m,y){if(o!==null){var T=o.memoizedProps;if(Hd(T,m)&&o.ref===l.ref)if(di=!1,l.pendingProps=m=T,(o.lanes&y)!==0)(o.flags&131072)!==0&&(di=!0);else return l.lanes=o.lanes,Bo(o,l,y)}return ov(o,l,d,m,y)}function fC(o,l,d){var m=l.pendingProps,y=m.children,T=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(vc,Mi),Mi|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Lt(vc,Mi),Mi|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=T!==null?T.baseLanes:d,Lt(vc,Mi),Mi|=m}else T!==null?(m=T.baseLanes|d,l.memoizedState=null):m=d,Lt(vc,Mi),Mi|=m;return Kr(o,l,y,d),l.child}function pC(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function ov(o,l,d,m,y){var T=ci(d)?ql:Tr.current;return T=uc(l,T),mc(l,y),d=Yy(o,l,d,m,T,y),m=Xy(),o!==null&&!di?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Bo(o,l,y)):(Zt&&m&&Oy(l),l.flags|=1,Kr(o,l,d,y),l.child)}function mC(o,l,d,m,y){if(ci(d)){var T=!0;jp(l)}else T=!1;if(mc(l,y),l.stateNode===null)tm(o,l),rC(l,d,m),rv(l,d,m,y),m=!0;else if(o===null){var k=l.stateNode,z=l.memoizedProps;k.props=z;var H=k.context,X=d.contextType;typeof X=="object"&&X!==null?X=ls(X):(X=ci(d)?ql:Tr.current,X=uc(l,X));var ae=d.getDerivedStateFromProps,ue=typeof ae=="function"||typeof k.getSnapshotBeforeUpdate=="function";ue||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z!==m||H!==X)&&iC(l,k,m,X),Da=!1;var se=l.memoizedState;k.state=se,Hp(l,m,k,y),H=l.memoizedState,z!==m||se!==H||ui.current||Da?(typeof ae=="function"&&(nv(l,d,ae,m),H=l.memoizedState),(z=Da||nC(l,d,z,m,se,H,X))?(ue||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=H),k.props=m,k.state=H,k.context=X,m=z):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{k=l.stateNode,k1(o,l),z=l.memoizedProps,X=l.type===l.elementType?z:js(l.type,z),k.props=X,ue=l.pendingProps,se=k.context,H=d.contextType,typeof H=="object"&&H!==null?H=ls(H):(H=ci(d)?ql:Tr.current,H=uc(l,H));var ye=d.getDerivedStateFromProps;(ae=typeof ye=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z!==ue||se!==H)&&iC(l,k,m,H),Da=!1,se=l.memoizedState,k.state=se,Hp(l,m,k,y);var Ce=l.memoizedState;z!==ue||se!==Ce||ui.current||Da?(typeof ye=="function"&&(nv(l,d,ye,m),Ce=l.memoizedState),(X=Da||nC(l,d,X,m,se,Ce,H)||!1)?(ae||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,Ce,H),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,Ce,H)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||z===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ce),k.props=m,k.state=Ce,k.context=H,m=X):(typeof k.componentDidUpdate!="function"||z===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),m=!1)}return av(o,l,d,m,T,y)}function av(o,l,d,m,y,T){pC(o,l);var k=(l.flags&128)!==0;if(!m&&!k)return y&&w1(l,d,!1),Bo(o,l,T);m=l.stateNode,YL.current=l;var z=k&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&k?(l.child=fc(l,o.child,null,T),l.child=fc(l,null,z,T)):Kr(o,l,z,T),l.memoizedState=m.state,y&&w1(l,d,!0),l.child}function gC(o){var l=o.stateNode;l.pendingContext?y1(o,l.pendingContext,l.pendingContext!==l.context):l.context&&y1(o,l.context,!1),Wy(o,l.containerInfo)}function _C(o,l,d,m,y){return hc(),jy(y),l.flags|=256,Kr(o,l,d,m),l.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function uv(o){return{baseLanes:o,cachePool:null,transitions:null}}function yC(o,l,d){var m=l.pendingProps,y=sn.current,T=!1,k=(l.flags&128)!==0,z;if((z=k)||(z=o!==null&&o.memoizedState===null?!1:(y&2)!==0),z?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Lt(sn,y&1),o===null)return My(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(k=m.children,o=m.fallback,T?(m=l.mode,T=l.child,k={mode:"hidden",children:k},(m&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=k):T=fm(k,m,0,null),o=tu(o,m,d,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=uv(d),l.memoizedState=lv,o):cv(l,k));if(y=o.memoizedState,y!==null&&(z=y.dehydrated,z!==null))return XL(o,l,k,m,z,y,d);if(T){T=m.fallback,k=l.mode,y=o.child,z=y.sibling;var H={mode:"hidden",children:m.children};return(k&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=H,l.deletions=null):(m=Ba(y,H),m.subtreeFlags=y.subtreeFlags&14680064),z!==null?T=Ba(z,T):(T=tu(T,k,d,null),T.flags|=2),T.return=l,m.return=l,m.sibling=T,l.child=m,m=T,T=l.child,k=o.child.memoizedState,k=k===null?uv(d):{baseLanes:k.baseLanes|d,cachePool:null,transitions:k.transitions},T.memoizedState=k,T.childLanes=o.childLanes&~d,l.memoizedState=lv,m}return T=o.child,o=T.sibling,m=Ba(T,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function cv(o,l){return l=fm({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function em(o,l,d,m){return m!==null&&jy(m),fc(l,o.child,null,d),o=cv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function XL(o,l,d,m,y,T,k){if(d)return l.flags&256?(l.flags&=-257,m=iv(Error(t(422))),em(o,l,k,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=m.fallback,y=l.mode,m=fm({mode:"visible",children:m.children},y,0,null),T=tu(T,y,k,null),T.flags|=2,m.return=l,T.return=l,m.sibling=T,l.child=m,(l.mode&1)!==0&&fc(l,o.child,null,k),l.child.memoizedState=uv(k),l.memoizedState=lv,T);if((l.mode&1)===0)return em(o,l,k,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var z=m.dgst;return m=z,T=Error(t(419)),m=iv(T,m,void 0),em(o,l,k,m)}if(z=(k&o.childLanes)!==0,di||z){if(m=nr,m!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|k))!==0?0:y,y!==0&&y!==T.retryLane&&(T.retryLane=y,Fo(o,y),Us(m,o,y,-1))}return Iv(),m=iv(Error(t(421))),em(o,l,k,m)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=cM.bind(null,o),y._reactRetry=l,null):(o=T.treeContext,Li=Pa(y.nextSibling),Di=l,Zt=!0,Ms=null,o!==null&&(os[as++]=jo,os[as++]=Vo,os[as++]=Hl,jo=o.id,Vo=o.overflow,Hl=l),l=cv(l,m.children),l.flags|=4096,l)}function vC(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),By(o.return,l,d)}function dv(o,l,d,m,y){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=y)}function wC(o,l,d){var m=l.pendingProps,y=m.revealOrder,T=m.tail;if(Kr(o,l,m.children,d),m=sn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vC(o,d,l);else if(o.tag===19)vC(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(Lt(sn,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)o=d.alternate,o!==null&&Gp(o)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),dv(l,!1,y,d,T);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Gp(o)===null){l.child=y;break}o=y.sibling,y.sibling=d,d=y,y=o}dv(l,!0,d,null,T);break;case"together":dv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function tm(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Bo(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Xl|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,d=Ba(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Ba(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function JL(o,l,d){switch(l.tag){case 3:gC(l),hc();break;case 5:D1(l);break;case 1:ci(l.type)&&jp(l);break;case 4:Wy(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;Lt($p,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(Lt(sn,sn.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?yC(o,l,d):(Lt(sn,sn.current&1),o=Bo(o,l,d),o!==null?o.sibling:null);Lt(sn,sn.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return wC(o,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Lt(sn,sn.current),m)break;return null;case 22:case 23:return l.lanes=0,fC(o,l,d)}return Bo(o,l,d)}var EC,hv,TC,xC;EC=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},hv=function(){},TC=function(o,l,d,m){var y=o.memoizedProps;if(y!==m){o=l.stateNode,Ql(ro.current);var T=null;switch(d){case"input":y=_t(o,y),m=_t(o,m),T=[];break;case"select":y=B({},y,{value:void 0}),m=B({},m,{value:void 0}),T=[];break;case"textarea":y=Wn(o,y),m=Wn(o,m),T=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=Dp)}es(d,m);var k;d=null;for(X in y)if(!m.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var z=y[X];for(k in z)z.hasOwnProperty(k)&&(d||(d={}),d[k]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?T||(T=[]):(T=T||[]).push(X,null));for(X in m){var H=m[X];if(z=y!=null?y[X]:void 0,m.hasOwnProperty(X)&&H!==z&&(H!=null||z!=null))if(X==="style")if(z){for(k in z)!z.hasOwnProperty(k)||H&&H.hasOwnProperty(k)||(d||(d={}),d[k]="");for(k in H)H.hasOwnProperty(k)&&z[k]!==H[k]&&(d||(d={}),d[k]=H[k])}else d||(T||(T=[]),T.push(X,d)),d=H;else X==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(T=T||[]).push(X,H)):X==="children"?typeof H!="string"&&typeof H!="number"||(T=T||[]).push(X,""+H):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(H!=null&&X==="onScroll"&&Ft("scroll",o),T||z===H||(T=[])):(T=T||[]).push(X,H))}d&&(T=T||[]).push("style",d);var X=T;(l.updateQueue=X)&&(l.flags|=4)}},xC=function(o,l,d,m){d!==m&&(l.flags|=4)};function ah(o,l){if(!Zt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Cr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function ZL(o,l,d){var m=l.pendingProps;switch(Dy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(l),null;case 1:return ci(l.type)&&Mp(),Cr(l),null;case 3:return m=l.stateNode,gc(),Ut(ui),Ut(Tr),Gy(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Bp(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ms!==null&&(xv(Ms),Ms=null))),hv(o,l),Cr(l),null;case 5:qy(l);var y=Ql(nh.current);if(d=l.type,o!==null&&l.stateNode!=null)TC(o,l,d,m,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(t(166));return Cr(l),null}if(o=Ql(ro.current),Bp(l)){m=l.stateNode,d=l.type;var T=l.memoizedProps;switch(m[no]=l,m[Xd]=T,o=(l.mode&1)!==0,d){case"dialog":Ft("cancel",m),Ft("close",m);break;case"iframe":case"object":case"embed":Ft("load",m);break;case"video":case"audio":for(y=0;y<Kd.length;y++)Ft(Kd[y],m);break;case"source":Ft("error",m);break;case"img":case"image":case"link":Ft("error",m),Ft("load",m);break;case"details":Ft("toggle",m);break;case"input":rn(m,T),Ft("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!T.multiple},Ft("invalid",m);break;case"textarea":qn(m,T),Ft("invalid",m)}es(d,T),y=null;for(var k in T)if(T.hasOwnProperty(k)){var z=T[k];k==="children"?typeof z=="string"?m.textContent!==z&&(T.suppressHydrationWarning!==!0&&Op(m.textContent,z,o),y=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(T.suppressHydrationWarning!==!0&&Op(m.textContent,z,o),y=["children",""+z]):i.hasOwnProperty(k)&&z!=null&&k==="onScroll"&&Ft("scroll",m)}switch(d){case"input":xt(m),Tn(m,T,!0);break;case"textarea":xt(m),Pt(m);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(m.onclick=Dp)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=yt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=k.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=k.createElement(d,{is:m.is}):(o=k.createElement(d),d==="select"&&(k=o,m.multiple?k.multiple=!0:m.size&&(k.size=m.size))):o=k.createElementNS(o,d),o[no]=l,o[Xd]=m,EC(o,l,!1,!1),l.stateNode=o;e:{switch(k=si(d,m),d){case"dialog":Ft("cancel",o),Ft("close",o),y=m;break;case"iframe":case"object":case"embed":Ft("load",o),y=m;break;case"video":case"audio":for(y=0;y<Kd.length;y++)Ft(Kd[y],o);y=m;break;case"source":Ft("error",o),y=m;break;case"img":case"image":case"link":Ft("error",o),Ft("load",o),y=m;break;case"details":Ft("toggle",o),y=m;break;case"input":rn(o,m),y=_t(o,m),Ft("invalid",o);break;case"option":y=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},y=B({},m,{value:void 0}),Ft("invalid",o);break;case"textarea":qn(o,m),y=Wn(o,m),Ft("invalid",o);break;default:y=m}es(d,y),z=y;for(T in z)if(z.hasOwnProperty(T)){var H=z[T];T==="style"?zr(o,H):T==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Gn(o,H)):T==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&Kn(o,H):typeof H=="number"&&Kn(o,""+H):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?H!=null&&T==="onScroll"&&Ft("scroll",o):H!=null&&V(o,T,H,k))}switch(d){case"input":xt(o),Tn(o,m,!1);break;case"textarea":xt(o),Pt(o);break;case"option":m.value!=null&&o.setAttribute("value",""+Pe(m.value));break;case"select":o.multiple=!!m.multiple,T=m.value,T!=null?rt(o,!!m.multiple,T,!1):m.defaultValue!=null&&rt(o,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=Dp)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Cr(l),null;case 6:if(o&&l.stateNode!=null)xC(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(t(166));if(d=Ql(nh.current),Ql(ro.current),Bp(l)){if(m=l.stateNode,d=l.memoizedProps,m[no]=l,(T=m.nodeValue!==d)&&(o=Di,o!==null))switch(o.tag){case 3:Op(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Op(m.nodeValue,d,(o.mode&1)!==0)}T&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[no]=l,l.stateNode=m}return Cr(l),null;case 13:if(Ut(sn),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Zt&&Li!==null&&(l.mode&1)!==0&&(l.flags&128)===0)I1(),hc(),l.flags|=98560,T=!1;else if(T=Bp(l),m!==null&&m.dehydrated!==null){if(o===null){if(!T)throw Error(t(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[no]=l}else hc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Cr(l),T=!1}else Ms!==null&&(xv(Ms),Ms=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(sn.current&1)!==0?Vn===0&&(Vn=3):Iv())),l.updateQueue!==null&&(l.flags|=4),Cr(l),null);case 4:return gc(),hv(o,l),o===null&&Qd(l.stateNode.containerInfo),Cr(l),null;case 10:return Uy(l.type._context),Cr(l),null;case 17:return ci(l.type)&&Mp(),Cr(l),null;case 19:if(Ut(sn),T=l.memoizedState,T===null)return Cr(l),null;if(m=(l.flags&128)!==0,k=T.rendering,k===null)if(m)ah(T,!1);else{if(Vn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(k=Gp(o),k!==null){for(l.flags|=128,ah(T,!1),m=k.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)T=d,o=m,T.flags&=14680066,k=T.alternate,k===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=k.childLanes,T.lanes=k.lanes,T.child=k.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=k.memoizedProps,T.memoizedState=k.memoizedState,T.updateQueue=k.updateQueue,T.type=k.type,o=k.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return Lt(sn,sn.current&1|2),l.child}o=o.sibling}T.tail!==null&&Qe()>wc&&(l.flags|=128,m=!0,ah(T,!1),l.lanes=4194304)}else{if(!m)if(o=Gp(k),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),ah(T,!0),T.tail===null&&T.tailMode==="hidden"&&!k.alternate&&!Zt)return Cr(l),null}else 2*Qe()-T.renderingStartTime>wc&&d!==1073741824&&(l.flags|=128,m=!0,ah(T,!1),l.lanes=4194304);T.isBackwards?(k.sibling=l.child,l.child=k):(d=T.last,d!==null?d.sibling=k:l.child=k,T.last=k)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=Qe(),l.sibling=null,d=sn.current,Lt(sn,m?d&1|2:d&1),l):(Cr(l),null);case 22:case 23:return Sv(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(Mi&1073741824)!==0&&(Cr(l),l.subtreeFlags&6&&(l.flags|=8192)):Cr(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function eM(o,l){switch(Dy(l),l.tag){case 1:return ci(l.type)&&Mp(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return gc(),Ut(ui),Ut(Tr),Gy(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return qy(l),null;case 13:if(Ut(sn),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));hc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Ut(sn),null;case 4:return gc(),null;case 10:return Uy(l.type._context),null;case 22:case 23:return Sv(),null;case 24:return null;default:return null}}var nm=!1,Sr=!1,tM=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function yc(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){hn(o,l,m)}else d.current=null}function fv(o,l,d){try{d()}catch(m){hn(o,l,m)}}var CC=!1;function nM(o,l){if(Sy=Ra,o=n1(),_y(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var k=0,z=-1,H=-1,X=0,ae=0,ue=o,se=null;t:for(;;){for(var ye;ue!==d||y!==0&&ue.nodeType!==3||(z=k+y),ue!==T||m!==0&&ue.nodeType!==3||(H=k+m),ue.nodeType===3&&(k+=ue.nodeValue.length),(ye=ue.firstChild)!==null;)se=ue,ue=ye;for(;;){if(ue===o)break t;if(se===d&&++X===y&&(z=k),se===T&&++ae===m&&(H=k),(ye=ue.nextSibling)!==null)break;ue=se,se=ue.parentNode}ue=ye}d=z===-1||H===-1?null:{start:z,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(Iy={focusedElem:o,selectionRange:d},Ra=!1,Ee=l;Ee!==null;)if(l=Ee,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ee=o;else for(;Ee!==null;){l=Ee;try{var Ce=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Se=Ce.memoizedProps,yn=Ce.memoizedState,Q=l.stateNode,G=Q.getSnapshotBeforeUpdate(l.elementType===l.type?Se:js(l.type,Se),yn);Q.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Y=l.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){hn(l,l.return,ce)}if(o=l.sibling,o!==null){o.return=l.return,Ee=o;break}Ee=l.return}return Ce=CC,CC=!1,Ce}function lh(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&o)===o){var T=y.destroy;y.destroy=void 0,T!==void 0&&fv(l,d,T)}y=y.next}while(y!==m)}}function rm(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function pv(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function SC(o){var l=o.alternate;l!==null&&(o.alternate=null,SC(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[no],delete l[Xd],delete l[Py],delete l[VL],delete l[FL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function IC(o){return o.tag===5||o.tag===3||o.tag===4}function RC(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||IC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function mv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Dp));else if(m!==4&&(o=o.child,o!==null))for(mv(o,l,d),o=o.sibling;o!==null;)mv(o,l,d),o=o.sibling}function gv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(gv(o,l,d),o=o.sibling;o!==null;)gv(o,l,d),o=o.sibling}var pr=null,Vs=!1;function Ma(o,l,d){for(d=d.child;d!==null;)AC(o,l,d),d=d.sibling}function AC(o,l,d){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(bi,d)}catch{}switch(d.tag){case 5:Sr||yc(d,l);case 6:var m=pr,y=Vs;pr=null,Ma(o,l,d),pr=m,Vs=y,pr!==null&&(Vs?(o=pr,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):pr.removeChild(d.stateNode));break;case 18:pr!==null&&(Vs?(o=pr,d=d.stateNode,o.nodeType===8?by(o.parentNode,d):o.nodeType===1&&by(o,d),Os(o)):by(pr,d.stateNode));break;case 4:m=pr,y=Vs,pr=d.stateNode.containerInfo,Vs=!0,Ma(o,l,d),pr=m,Vs=y;break;case 0:case 11:case 14:case 15:if(!Sr&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var T=y,k=T.destroy;T=T.tag,k!==void 0&&((T&2)!==0||(T&4)!==0)&&fv(d,l,k),y=y.next}while(y!==m)}Ma(o,l,d);break;case 1:if(!Sr&&(yc(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(z){hn(d,l,z)}Ma(o,l,d);break;case 21:Ma(o,l,d);break;case 22:d.mode&1?(Sr=(m=Sr)||d.memoizedState!==null,Ma(o,l,d),Sr=m):Ma(o,l,d);break;default:Ma(o,l,d)}}function bC(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new tM),l.forEach(function(m){var y=dM.bind(null,o,m);d.has(m)||(d.add(m),m.then(y,y))})}}function Fs(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var T=o,k=l,z=k;e:for(;z!==null;){switch(z.tag){case 5:pr=z.stateNode,Vs=!1;break e;case 3:pr=z.stateNode.containerInfo,Vs=!0;break e;case 4:pr=z.stateNode.containerInfo,Vs=!0;break e}z=z.return}if(pr===null)throw Error(t(160));AC(T,k,y),pr=null,Vs=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(X){hn(y,l,X)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)PC(l,o),l=l.sibling}function PC(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Fs(l,o),so(o),m&4){try{lh(3,o,o.return),rm(3,o)}catch(Se){hn(o,o.return,Se)}try{lh(5,o,o.return)}catch(Se){hn(o,o.return,Se)}}break;case 1:Fs(l,o),so(o),m&512&&d!==null&&yc(d,d.return);break;case 5:if(Fs(l,o),so(o),m&512&&d!==null&&yc(d,d.return),o.flags&32){var y=o.stateNode;try{Kn(y,"")}catch(Se){hn(o,o.return,Se)}}if(m&4&&(y=o.stateNode,y!=null)){var T=o.memoizedProps,k=d!==null?d.memoizedProps:T,z=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{z==="input"&&T.type==="radio"&&T.name!=null&&un(y,T),si(z,k);var X=si(z,T);for(k=0;k<H.length;k+=2){var ae=H[k],ue=H[k+1];ae==="style"?zr(y,ue):ae==="dangerouslySetInnerHTML"?Gn(y,ue):ae==="children"?Kn(y,ue):V(y,ae,ue,X)}switch(z){case"input":J(y,T);break;case"textarea":Hn(y,T);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!T.multiple;var ye=T.value;ye!=null?rt(y,!!T.multiple,ye,!1):se!==!!T.multiple&&(T.defaultValue!=null?rt(y,!!T.multiple,T.defaultValue,!0):rt(y,!!T.multiple,T.multiple?[]:"",!1))}y[Xd]=T}catch(Se){hn(o,o.return,Se)}}break;case 6:if(Fs(l,o),so(o),m&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,T=o.memoizedProps;try{y.nodeValue=T}catch(Se){hn(o,o.return,Se)}}break;case 3:if(Fs(l,o),so(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Os(l.containerInfo)}catch(Se){hn(o,o.return,Se)}break;case 4:Fs(l,o),so(o);break;case 13:Fs(l,o),so(o),y=o.child,y.flags&8192&&(T=y.memoizedState!==null,y.stateNode.isHidden=T,!T||y.alternate!==null&&y.alternate.memoizedState!==null||(vv=Qe())),m&4&&bC(o);break;case 22:if(ae=d!==null&&d.memoizedState!==null,o.mode&1?(Sr=(X=Sr)||ae,Fs(l,o),Sr=X):Fs(l,o),so(o),m&8192){if(X=o.memoizedState!==null,(o.stateNode.isHidden=X)&&!ae&&(o.mode&1)!==0)for(Ee=o,ae=o.child;ae!==null;){for(ue=Ee=ae;Ee!==null;){switch(se=Ee,ye=se.child,se.tag){case 0:case 11:case 14:case 15:lh(4,se,se.return);break;case 1:yc(se,se.return);var Ce=se.stateNode;if(typeof Ce.componentWillUnmount=="function"){m=se,d=se.return;try{l=m,Ce.props=l.memoizedProps,Ce.state=l.memoizedState,Ce.componentWillUnmount()}catch(Se){hn(m,d,Se)}}break;case 5:yc(se,se.return);break;case 22:if(se.memoizedState!==null){OC(ue);continue}}ye!==null?(ye.return=se,Ee=ye):OC(ue)}ae=ae.sibling}e:for(ae=null,ue=o;;){if(ue.tag===5){if(ae===null){ae=ue;try{y=ue.stateNode,X?(T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(z=ue.stateNode,H=ue.memoizedProps.style,k=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Ys("display",k))}catch(Se){hn(o,o.return,Se)}}}else if(ue.tag===6){if(ae===null)try{ue.stateNode.nodeValue=X?"":ue.memoizedProps}catch(Se){hn(o,o.return,Se)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===o)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===o)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===o)break e;ae===ue&&(ae=null),ue=ue.return}ae===ue&&(ae=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Fs(l,o),so(o),m&4&&bC(o);break;case 21:break;default:Fs(l,o),so(o)}}function so(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(IC(d)){var m=d;break e}d=d.return}throw Error(t(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Kn(y,""),m.flags&=-33);var T=RC(o);gv(o,T,y);break;case 3:case 4:var k=m.stateNode.containerInfo,z=RC(o);mv(o,z,k);break;default:throw Error(t(161))}}catch(H){hn(o,o.return,H)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function rM(o,l,d){Ee=o,kC(o)}function kC(o,l,d){for(var m=(o.mode&1)!==0;Ee!==null;){var y=Ee,T=y.child;if(y.tag===22&&m){var k=y.memoizedState!==null||nm;if(!k){var z=y.alternate,H=z!==null&&z.memoizedState!==null||Sr;z=nm;var X=Sr;if(nm=k,(Sr=H)&&!X)for(Ee=y;Ee!==null;)k=Ee,H=k.child,k.tag===22&&k.memoizedState!==null?DC(y):H!==null?(H.return=k,Ee=H):DC(y);for(;T!==null;)Ee=T,kC(T),T=T.sibling;Ee=y,nm=z,Sr=X}NC(o)}else(y.subtreeFlags&8772)!==0&&T!==null?(T.return=y,Ee=T):NC(o)}}function NC(o){for(;Ee!==null;){var l=Ee;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Sr||rm(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Sr)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:js(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&O1(l,T,m);break;case 3:var k=l.updateQueue;if(k!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}O1(l,k,d)}break;case 5:var z=l.stateNode;if(d===null&&l.flags&4){d=z;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var X=l.alternate;if(X!==null){var ae=X.memoizedState;if(ae!==null){var ue=ae.dehydrated;ue!==null&&Os(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Sr||l.flags&512&&pv(l)}catch(se){hn(l,l.return,se)}}if(l===o){Ee=null;break}if(d=l.sibling,d!==null){d.return=l.return,Ee=d;break}Ee=l.return}}function OC(o){for(;Ee!==null;){var l=Ee;if(l===o){Ee=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Ee=d;break}Ee=l.return}}function DC(o){for(;Ee!==null;){var l=Ee;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{rm(4,l)}catch(H){hn(l,d,H)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(H){hn(l,y,H)}}var T=l.return;try{pv(l)}catch(H){hn(l,T,H)}break;case 5:var k=l.return;try{pv(l)}catch(H){hn(l,k,H)}}}catch(H){hn(l,l.return,H)}if(l===o){Ee=null;break}var z=l.sibling;if(z!==null){z.return=l.return,Ee=z;break}Ee=l.return}}var iM=Math.ceil,im=F.ReactCurrentDispatcher,_v=F.ReactCurrentOwner,cs=F.ReactCurrentBatchConfig,mt=0,nr=null,Sn=null,mr=0,Mi=0,vc=ka(0),Vn=0,uh=null,Xl=0,sm=0,yv=0,ch=null,hi=null,vv=0,wc=1/0,zo=null,om=!1,wv=null,ja=null,am=!1,Va=null,lm=0,dh=0,Ev=null,um=-1,cm=0;function Qr(){return(mt&6)!==0?Qe():um!==-1?um:um=Qe()}function Fa(o){return(o.mode&1)===0?1:(mt&2)!==0&&mr!==0?mr&-mr:BL.transition!==null?(cm===0&&(cm=Fl()),cm):(o=at,o!==0||(o=window.event,o=o===void 0?16:Fd(o.type)),o)}function Us(o,l,d,m){if(50<dh)throw dh=0,Ev=null,Error(t(185));xa(o,d,m),((mt&2)===0||o!==nr)&&(o===nr&&((mt&2)===0&&(sm|=d),Vn===4&&Ua(o,mr)),fi(o,m),d===1&&mt===0&&(l.mode&1)===0&&(wc=Qe()+500,Vp&&Oa()))}function fi(o,l){var d=o.callbackNode;Po(o,l);var m=Vl(o,o===nr?mr:0);if(m===0)d!==null&&dn(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&dn(d),l===1)o.tag===0?UL(MC.bind(null,o)):E1(MC.bind(null,o)),ML(function(){(mt&6)===0&&Oa()}),d=null;else{switch(Sa(m)){case 1:d=Jn;break;case 4:d=rs;break;case 16:d=Wr;break;case 536870912:d=qr;break;default:d=Wr}d=WC(d,LC.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function LC(o,l){if(um=-1,cm=0,(mt&6)!==0)throw Error(t(327));var d=o.callbackNode;if(Ec()&&o.callbackNode!==d)return null;var m=Vl(o,o===nr?mr:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=dm(o,m);else{l=m;var y=mt;mt|=2;var T=VC();(nr!==o||mr!==l)&&(zo=null,wc=Qe()+500,Zl(o,l));do try{aM();break}catch(z){jC(o,z)}while(!0);Fy(),im.current=T,mt=y,Sn!==null?l=0:(nr=null,mr=0,l=Vn)}if(l!==0){if(l===2&&(y=ki(o),y!==0&&(m=y,l=Tv(o,y))),l===1)throw d=uh,Zl(o,0),Ua(o,m),fi(o,Qe()),d;if(l===6)Ua(o,m);else{if(y=o.current.alternate,(m&30)===0&&!sM(y)&&(l=dm(o,m),l===2&&(T=ki(o),T!==0&&(m=T,l=Tv(o,T))),l===1))throw d=uh,Zl(o,0),Ua(o,m),fi(o,Qe()),d;switch(o.finishedWork=y,o.finishedLanes=m,l){case 0:case 1:throw Error(t(345));case 2:eu(o,hi,zo);break;case 3:if(Ua(o,m),(m&130023424)===m&&(l=vv+500-Qe(),10<l)){if(Vl(o,0)!==0)break;if(y=o.suspendedLanes,(y&m)!==m){Qr(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Ay(eu.bind(null,o,hi,zo),l);break}eu(o,hi,zo);break;case 4:if(Ua(o,m),(m&4194240)===m)break;for(l=o.eventTimes,y=-1;0<m;){var k=31-Hr(m);T=1<<k,k=l[k],k>y&&(y=k),m&=~T}if(m=y,m=Qe()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*iM(m/1960))-m,10<m){o.timeoutHandle=Ay(eu.bind(null,o,hi,zo),m);break}eu(o,hi,zo);break;case 5:eu(o,hi,zo);break;default:throw Error(t(329))}}}return fi(o,Qe()),o.callbackNode===d?LC.bind(null,o):null}function Tv(o,l){var d=ch;return o.current.memoizedState.isDehydrated&&(Zl(o,l).flags|=256),o=dm(o,l),o!==2&&(l=hi,hi=d,l!==null&&xv(l)),o}function xv(o){hi===null?hi=o:hi.push.apply(hi,o)}function sM(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],T=y.getSnapshot;y=y.value;try{if(!Ls(T(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ua(o,l){for(l&=~yv,l&=~sm,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-Hr(l),m=1<<d;o[d]=-1,l&=~m}}function MC(o){if((mt&6)!==0)throw Error(t(327));Ec();var l=Vl(o,0);if((l&1)===0)return fi(o,Qe()),null;var d=dm(o,l);if(o.tag!==0&&d===2){var m=ki(o);m!==0&&(l=m,d=Tv(o,m))}if(d===1)throw d=uh,Zl(o,0),Ua(o,l),fi(o,Qe()),d;if(d===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,eu(o,hi,zo),fi(o,Qe()),null}function Cv(o,l){var d=mt;mt|=1;try{return o(l)}finally{mt=d,mt===0&&(wc=Qe()+500,Vp&&Oa())}}function Jl(o){Va!==null&&Va.tag===0&&(mt&6)===0&&Ec();var l=mt;mt|=1;var d=cs.transition,m=at;try{if(cs.transition=null,at=1,o)return o()}finally{at=m,cs.transition=d,mt=l,(mt&6)===0&&Oa()}}function Sv(){Mi=vc.current,Ut(vc)}function Zl(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,LL(d)),Sn!==null)for(d=Sn.return;d!==null;){var m=d;switch(Dy(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Mp();break;case 3:gc(),Ut(ui),Ut(Tr),Gy();break;case 5:qy(m);break;case 4:gc();break;case 13:Ut(sn);break;case 19:Ut(sn);break;case 10:Uy(m.type._context);break;case 22:case 23:Sv()}d=d.return}if(nr=o,Sn=o=Ba(o.current,null),mr=Mi=l,Vn=0,uh=null,yv=sm=Xl=0,hi=ch=null,Kl!==null){for(l=0;l<Kl.length;l++)if(d=Kl[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,T=d.pending;if(T!==null){var k=T.next;T.next=y,m.next=k}d.pending=m}Kl=null}return o}function jC(o,l){do{var d=Sn;try{if(Fy(),Kp.current=Jp,Qp){for(var m=on.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Qp=!1}if(Yl=0,tr=jn=on=null,rh=!1,ih=0,_v.current=null,d===null||d.return===null){Vn=1,uh=l,Sn=null;break}e:{var T=o,k=d.return,z=d,H=l;if(l=mr,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var X=H,ae=z,ue=ae.tag;if((ae.mode&1)===0&&(ue===0||ue===11||ue===15)){var se=ae.alternate;se?(ae.updateQueue=se.updateQueue,ae.memoizedState=se.memoizedState,ae.lanes=se.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ye=lC(k);if(ye!==null){ye.flags&=-257,uC(ye,k,z,T,l),ye.mode&1&&aC(T,X,l),l=ye,H=X;var Ce=l.updateQueue;if(Ce===null){var Se=new Set;Se.add(H),l.updateQueue=Se}else Ce.add(H);break e}else{if((l&1)===0){aC(T,X,l),Iv();break e}H=Error(t(426))}}else if(Zt&&z.mode&1){var yn=lC(k);if(yn!==null){(yn.flags&65536)===0&&(yn.flags|=256),uC(yn,k,z,T,l),jy(_c(H,z));break e}}T=H=_c(H,z),Vn!==4&&(Vn=2),ch===null?ch=[T]:ch.push(T),T=k;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var Q=sC(T,H,l);N1(T,Q);break e;case 1:z=H;var G=T.type,Y=T.stateNode;if((T.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ja===null||!ja.has(Y)))){T.flags|=65536,l&=-l,T.lanes|=l;var ce=oC(T,z,l);N1(T,ce);break e}}T=T.return}while(T!==null)}UC(d)}catch(Re){l=Re,Sn===d&&d!==null&&(Sn=d=d.return);continue}break}while(!0)}function VC(){var o=im.current;return im.current=Jp,o===null?Jp:o}function Iv(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),nr===null||(Xl&268435455)===0&&(sm&268435455)===0||Ua(nr,mr)}function dm(o,l){var d=mt;mt|=2;var m=VC();(nr!==o||mr!==l)&&(zo=null,Zl(o,l));do try{oM();break}catch(y){jC(o,y)}while(!0);if(Fy(),mt=d,im.current=m,Sn!==null)throw Error(t(261));return nr=null,mr=0,Vn}function oM(){for(;Sn!==null;)FC(Sn)}function aM(){for(;Sn!==null&&!ns();)FC(Sn)}function FC(o){var l=$C(o.alternate,o,Mi);o.memoizedProps=o.pendingProps,l===null?UC(o):Sn=l,_v.current=null}function UC(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=ZL(d,l,Mi),d!==null){Sn=d;return}}else{if(d=eM(d,l),d!==null){d.flags&=32767,Sn=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Vn=6,Sn=null;return}}if(l=l.sibling,l!==null){Sn=l;return}Sn=l=o}while(l!==null);Vn===0&&(Vn=5)}function eu(o,l,d){var m=at,y=cs.transition;try{cs.transition=null,at=1,lM(o,l,d,m)}finally{cs.transition=y,at=m}return null}function lM(o,l,d,m){do Ec();while(Va!==null);if((mt&6)!==0)throw Error(t(327));d=o.finishedWork;var y=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(Nt(o,T),o===nr&&(Sn=nr=null,mr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||am||(am=!0,WC(Wr,function(){return Ec(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=cs.transition,cs.transition=null;var k=at;at=1;var z=mt;mt|=4,_v.current=null,nM(o,d),PC(d,o),AL(Iy),Ra=!!Sy,Iy=Sy=null,o.current=d,rM(d),wa(),mt=z,at=k,cs.transition=T}else o.current=d;if(am&&(am=!1,Va=o,lm=y),T=o.pendingLanes,T===0&&(ja=null),Pi(d.stateNode),fi(o,Qe()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(om)throw om=!1,o=wv,wv=null,o;return(lm&1)!==0&&o.tag!==0&&Ec(),T=o.pendingLanes,(T&1)!==0?o===Ev?dh++:(dh=0,Ev=o):dh=0,Oa(),null}function Ec(){if(Va!==null){var o=Sa(lm),l=cs.transition,d=at;try{if(cs.transition=null,at=16>o?16:o,Va===null)var m=!1;else{if(o=Va,Va=null,lm=0,(mt&6)!==0)throw Error(t(331));var y=mt;for(mt|=4,Ee=o.current;Ee!==null;){var T=Ee,k=T.child;if((Ee.flags&16)!==0){var z=T.deletions;if(z!==null){for(var H=0;H<z.length;H++){var X=z[H];for(Ee=X;Ee!==null;){var ae=Ee;switch(ae.tag){case 0:case 11:case 15:lh(8,ae,T)}var ue=ae.child;if(ue!==null)ue.return=ae,Ee=ue;else for(;Ee!==null;){ae=Ee;var se=ae.sibling,ye=ae.return;if(SC(ae),ae===X){Ee=null;break}if(se!==null){se.return=ye,Ee=se;break}Ee=ye}}}var Ce=T.alternate;if(Ce!==null){var Se=Ce.child;if(Se!==null){Ce.child=null;do{var yn=Se.sibling;Se.sibling=null,Se=yn}while(Se!==null)}}Ee=T}}if((T.subtreeFlags&2064)!==0&&k!==null)k.return=T,Ee=k;else e:for(;Ee!==null;){if(T=Ee,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:lh(9,T,T.return)}var Q=T.sibling;if(Q!==null){Q.return=T.return,Ee=Q;break e}Ee=T.return}}var G=o.current;for(Ee=G;Ee!==null;){k=Ee;var Y=k.child;if((k.subtreeFlags&2064)!==0&&Y!==null)Y.return=k,Ee=Y;else e:for(k=G;Ee!==null;){if(z=Ee,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:rm(9,z)}}catch(Re){hn(z,z.return,Re)}if(z===k){Ee=null;break e}var ce=z.sibling;if(ce!==null){ce.return=z.return,Ee=ce;break e}Ee=z.return}}if(mt=y,Oa(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(bi,o)}catch{}m=!0}return m}finally{at=d,cs.transition=l}}return!1}function BC(o,l,d){l=_c(d,l),l=sC(o,l,1),o=La(o,l,1),l=Qr(),o!==null&&(xa(o,1,l),fi(o,l))}function hn(o,l,d){if(o.tag===3)BC(o,o,d);else for(;l!==null;){if(l.tag===3){BC(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ja===null||!ja.has(m))){o=_c(d,o),o=oC(l,o,1),l=La(l,o,1),o=Qr(),l!==null&&(xa(l,1,o),fi(l,o));break}}l=l.return}}function uM(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=Qr(),o.pingedLanes|=o.suspendedLanes&d,nr===o&&(mr&d)===d&&(Vn===4||Vn===3&&(mr&130023424)===mr&&500>Qe()-vv?Zl(o,0):yv|=d),fi(o,l)}function zC(o,l){l===0&&((o.mode&1)===0?l=1:(l=Wu,Wu<<=1,(Wu&130023424)===0&&(Wu=4194304)));var d=Qr();o=Fo(o,l),o!==null&&(xa(o,l,d),fi(o,d))}function cM(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),zC(o,d)}function dM(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(l),zC(o,d)}var $C;$C=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||ui.current)di=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return di=!1,JL(o,l,d);di=(o.flags&131072)!==0}else di=!1,Zt&&(l.flags&1048576)!==0&&T1(l,Up,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;tm(o,l),o=l.pendingProps;var y=uc(l,Tr.current);mc(l,d),y=Yy(null,l,m,o,y,d);var T=Xy();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ci(m)?(T=!0,jp(l)):T=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,$y(l),y.updater=Zp,l.stateNode=y,y._reactInternals=l,rv(l,m,o,d),l=av(null,l,m,!0,T,d)):(l.tag=0,Zt&&T&&Oy(l),Kr(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(tm(o,l),o=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=fM(m),o=js(m,o),y){case 0:l=ov(null,l,m,o,d);break e;case 1:l=mC(null,l,m,o,d);break e;case 11:l=cC(null,l,m,o,d);break e;case 14:l=dC(null,l,m,js(m.type,o),d);break e}throw Error(t(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:js(m,y),ov(o,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:js(m,y),mC(o,l,m,y,d);case 3:e:{if(gC(l),o===null)throw Error(t(387));m=l.pendingProps,T=l.memoizedState,y=T.element,k1(o,l),Hp(l,m,null,d);var k=l.memoizedState;if(m=k.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){y=_c(Error(t(423)),l),l=_C(o,l,m,d,y);break e}else if(m!==y){y=_c(Error(t(424)),l),l=_C(o,l,m,d,y);break e}else for(Li=Pa(l.stateNode.containerInfo.firstChild),Di=l,Zt=!0,Ms=null,d=b1(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(hc(),m===y){l=Bo(o,l,d);break e}Kr(o,l,m,d)}l=l.child}return l;case 5:return D1(l),o===null&&My(l),m=l.type,y=l.pendingProps,T=o!==null?o.memoizedProps:null,k=y.children,Ry(m,y)?k=null:T!==null&&Ry(m,T)&&(l.flags|=32),pC(o,l),Kr(o,l,k,d),l.child;case 6:return o===null&&My(l),null;case 13:return yC(o,l,d);case 4:return Wy(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=fc(l,null,m,d):Kr(o,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:js(m,y),cC(o,l,m,y,d);case 7:return Kr(o,l,l.pendingProps,d),l.child;case 8:return Kr(o,l,l.pendingProps.children,d),l.child;case 12:return Kr(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,T=l.memoizedProps,k=y.value,Lt($p,m._currentValue),m._currentValue=k,T!==null)if(Ls(T.value,k)){if(T.children===y.children&&!ui.current){l=Bo(o,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var z=T.dependencies;if(z!==null){k=T.child;for(var H=z.firstContext;H!==null;){if(H.context===m){if(T.tag===1){H=Uo(-1,d&-d),H.tag=2;var X=T.updateQueue;if(X!==null){X=X.shared;var ae=X.pending;ae===null?H.next=H:(H.next=ae.next,ae.next=H),X.pending=H}}T.lanes|=d,H=T.alternate,H!==null&&(H.lanes|=d),By(T.return,d,l),z.lanes|=d;break}H=H.next}}else if(T.tag===10)k=T.type===l.type?null:T.child;else if(T.tag===18){if(k=T.return,k===null)throw Error(t(341));k.lanes|=d,z=k.alternate,z!==null&&(z.lanes|=d),By(k,d,l),k=T.sibling}else k=T.child;if(k!==null)k.return=T;else for(k=T;k!==null;){if(k===l){k=null;break}if(T=k.sibling,T!==null){T.return=k.return,k=T;break}k=k.return}T=k}Kr(o,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,mc(l,d),y=ls(y),m=m(y),l.flags|=1,Kr(o,l,m,d),l.child;case 14:return m=l.type,y=js(m,l.pendingProps),y=js(m.type,y),dC(o,l,m,y,d);case 15:return hC(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:js(m,y),tm(o,l),l.tag=1,ci(m)?(o=!0,jp(l)):o=!1,mc(l,d),rC(l,m,y),rv(l,m,y,d),av(null,l,m,!0,o,d);case 19:return wC(o,l,d);case 22:return fC(o,l,d)}throw Error(t(156,l.tag))};function WC(o,l){return Yt(o,l)}function hM(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(o,l,d,m){return new hM(o,l,d,m)}function Rv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fM(o){if(typeof o=="function")return Rv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===M)return 11;if(o===he)return 14}return 2}function Ba(o,l){var d=o.alternate;return d===null?(d=ds(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function hm(o,l,d,m,y,T){var k=2;if(m=o,typeof o=="function")Rv(o)&&(k=1);else if(typeof o=="string")k=5;else e:switch(o){case P:return tu(d.children,y,T,l);case A:k=8,y|=8;break;case b:return o=ds(12,d,l,y|2),o.elementType=b,o.lanes=T,o;case j:return o=ds(13,d,l,y),o.elementType=j,o.lanes=T,o;case ne:return o=ds(19,d,l,y),o.elementType=ne,o.lanes=T,o;case le:return fm(d,y,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:k=10;break e;case U:k=9;break e;case M:k=11;break e;case he:k=14;break e;case de:k=16,m=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=ds(k,d,l,y),l.elementType=o,l.type=m,l.lanes=T,l}function tu(o,l,d,m){return o=ds(7,o,m,l),o.lanes=d,o}function fm(o,l,d,m){return o=ds(22,o,m,l),o.elementType=le,o.lanes=d,o.stateNode={isHidden:!1},o}function Av(o,l,d){return o=ds(6,o,null,l),o.lanes=d,o}function bv(o,l,d){return l=ds(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function pM(o,l,d,m,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ta(0),this.expirationTimes=Ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Pv(o,l,d,m,y,T,k,z,H){return o=new pM(o,l,d,z,H),l===1?(l=1,T===!0&&(l|=8)):l=0,T=ds(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},$y(T),o}function mM(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function qC(o){if(!o)return Na;o=o._reactInternals;e:{if(Xe(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ci(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var d=o.type;if(ci(d))return v1(o,d,l)}return l}function HC(o,l,d,m,y,T,k,z,H){return o=Pv(d,m,!0,o,y,T,k,z,H),o.context=qC(null),d=o.current,m=Qr(),y=Fa(d),T=Uo(m,y),T.callback=l??null,La(d,T,y),o.current.lanes=y,xa(o,y,m),fi(o,m),o}function pm(o,l,d,m){var y=l.current,T=Qr(),k=Fa(y);return d=qC(d),l.context===null?l.context=d:l.pendingContext=d,l=Uo(T,k),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=La(y,l,k),o!==null&&(Us(o,y,k,T),qp(o,y,k)),k}function mm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function GC(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function kv(o,l){GC(o,l),(o=o.alternate)&&GC(o,l)}function gM(){return null}var KC=typeof reportError=="function"?reportError:function(o){console.error(o)};function Nv(o){this._internalRoot=o}gm.prototype.render=Nv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));pm(o,l,null,null)},gm.prototype.unmount=Nv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Jl(function(){pm(null,o,null,null)}),l[Lo]=null}};function gm(o){this._internalRoot=o}gm.prototype.unstable_scheduleHydration=function(o){if(o){var l=gp();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Js.length&&l!==0&&l<Js[d].priority;d++);Js.splice(d,0,o),d===0&&vp(o)}};function Ov(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function _m(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function QC(){}function _M(o,l,d,m,y){if(y){if(typeof m=="function"){var T=m;m=function(){var X=mm(k);T.call(X)}}var k=HC(l,m,o,0,null,!1,!1,"",QC);return o._reactRootContainer=k,o[Lo]=k.current,Qd(o.nodeType===8?o.parentNode:o),Jl(),k}for(;y=o.lastChild;)o.removeChild(y);if(typeof m=="function"){var z=m;m=function(){var X=mm(H);z.call(X)}}var H=Pv(o,0,!1,null,null,!1,!1,"",QC);return o._reactRootContainer=H,o[Lo]=H.current,Qd(o.nodeType===8?o.parentNode:o),Jl(function(){pm(l,H,d,m)}),H}function ym(o,l,d,m,y){var T=d._reactRootContainer;if(T){var k=T;if(typeof y=="function"){var z=y;y=function(){var H=mm(k);z.call(H)}}pm(l,k,o,y)}else k=_M(d,l,o,y,m);return mm(k)}pp=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=Ea(l.pendingLanes);d!==0&&(Ca(l,d|1),fi(l,Qe()),(mt&6)===0&&(wc=Qe()+500,Oa()))}break;case 13:Jl(function(){var m=Fo(o,1);if(m!==null){var y=Qr();Us(m,o,1,y)}}),kv(o,1)}},qu=function(o){if(o.tag===13){var l=Fo(o,134217728);if(l!==null){var d=Qr();Us(l,o,134217728,d)}kv(o,134217728)}},mp=function(o){if(o.tag===13){var l=Fa(o),d=Fo(o,l);if(d!==null){var m=Qr();Us(d,o,l,m)}kv(o,l)}},gp=function(){return at},_p=function(o,l){var d=at;try{return at=o,l()}finally{at=d}},oi=function(o,l,d){switch(l){case"input":if(J(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var y=Lp(m);if(!y)throw Error(t(90));nn(m),J(m,y)}}}break;case"textarea":Hn(o,d);break;case"select":l=d.value,l!=null&&rt(o,!!d.multiple,l,!1)}},dr=Cv,As=Jl;var yM={usingClientEntryPoint:!1,Events:[Jd,ac,Lp,Yn,ts,Cv]},hh={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vM={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Er(o),o===null?null:o.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance||gM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{bi=vm.inject(vM),Zn=vm}catch{}}return pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM,pi.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(l))throw Error(t(200));return mM(o,l,null,d)},pi.createRoot=function(o,l){if(!Ov(o))throw Error(t(299));var d=!1,m="",y=KC;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Pv(o,1,!1,null,null,d,!1,m,y),o[Lo]=l.current,Qd(o.nodeType===8?o.parentNode:o),new Nv(l)},pi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Er(l),o=o===null?null:o.stateNode,o},pi.flushSync=function(o){return Jl(o)},pi.hydrate=function(o,l,d){if(!_m(l))throw Error(t(200));return ym(null,o,l,!0,d)},pi.hydrateRoot=function(o,l,d){if(!Ov(o))throw Error(t(405));var m=d!=null&&d.hydratedSources||null,y=!1,T="",k=KC;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(k=d.onRecoverableError)),l=HC(l,null,o,1,d??null,y,!1,T,k),o[Lo]=l.current,Qd(o),m)for(o=0;o<m.length;o++)d=m[o],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new gm(l)},pi.render=function(o,l,d){if(!_m(l))throw Error(t(200));return ym(null,o,l,!1,d)},pi.unmountComponentAtNode=function(o){if(!_m(o))throw Error(t(40));return o._reactRootContainer?(Jl(function(){ym(null,null,o,!1,function(){o._reactRootContainer=null,o[Lo]=null})}),!0):!1},pi.unstable_batchedUpdates=Cv,pi.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!_m(d))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return ym(o,l,d,!1,m)},pi.version="18.3.1-next-f1338f8080-20240426",pi}var iS;function qA(){if(iS)return Mv.exports;iS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mv.exports=AM(),Mv.exports}var sS;function bM(){if(sS)return wm;sS=1;var n=qA();return wm.createRoot=n.createRoot,wm.hydrateRoot=n.hydrateRoot,wm}var PM=bM(),ph={},oS;function kM(){if(oS)return ph;oS=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.parse=a,ph.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function a(_,w){const C=new s,x=_.length;if(x<2)return C;const S=(w==null?void 0:w.decode)||p;let N=0;do{const D=_.indexOf("=",N);if(D===-1)break;const V=_.indexOf(";",N),F=V===-1?x:V;if(D>F){N=_.lastIndexOf(";",D-1)+1;continue}const $=u(_,N,D),W=c(_,D,$),P=_.slice($,W);if(C[P]===void 0){let A=u(_,D+1,F),b=c(_,F,A);const O=S(_.slice(A,b));C[P]=O}N=F+1}while(N<x);return C}function u(_,w,C){do{const x=_.charCodeAt(w);if(x!==32&&x!==9)return w}while(++w<C);return C}function c(_,w,C){for(;w>C;){const x=_.charCodeAt(--w);if(x!==32&&x!==9)return w+1}return C}function h(_,w,C){const x=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const S=x(w);if(!e.test(S))throw new TypeError(`argument val is invalid: ${w}`);let N=_+"="+S;if(!C)return N;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);N+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);N+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);N+="; Path="+C.path}if(C.expires){if(!g(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);N+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(N+="; HttpOnly"),C.secure&&(N+="; Secure"),C.partitioned&&(N+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return N}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return ph}kM();var aS="popstate";function NM(n={}){function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return L0("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:pf(i)}return DM(e,t,null,n)}function tn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OM(){return Math.random().toString(36).substring(2,10)}function lS(n,e){return{usr:n.state,key:n.key,idx:e}}function L0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wd(e):e,state:t,key:e&&e.key||r||OM()}}function pf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function DM(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u="POP",c=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){u="POP";let S=p(),N=S==null?null:S-h;h=S,c&&c({action:u,location:x.location,delta:N})}function _(S,N){u="PUSH";let D=L0(x.location,S,N);h=p()+1;let V=lS(D,h),F=x.createHref(D);try{a.pushState(V,"",F)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(F)}s&&c&&c({action:u,location:x.location,delta:1})}function w(S,N){u="REPLACE";let D=L0(x.location,S,N);h=p();let V=lS(D,h),F=x.createHref(D);a.replaceState(V,"",F),s&&c&&c({action:u,location:x.location,delta:0})}function C(S){let N=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof S=="string"?S:pf(S);return D=D.replace(/ $/,"%20"),tn(N,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,N)}let x={get action(){return u},get location(){return n(i,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(aS,g),c=S,()=>{i.removeEventListener(aS,g),c=null}},createHref(S){return e(i,S)},createURL:C,encodeLocation(S){let N=C(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:w,go(S){return a.go(S)}};return x}function HA(n,e,t="/"){return LM(n,e,t,!1)}function LM(n,e,t,r){let i=typeof e=="string"?wd(e):e,s=sa(i.pathname||"/",t);if(s==null)return null;let a=GA(n);MM(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=GM(s);u=qM(a[c],h,r)}return u}function GA(n,e=[],t=[],r=""){let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(tn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=ta([r,c.relativePath]),p=t.concat(c);s.children&&s.children.length>0&&(tn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),GA(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:$M(h,s.index),routesMeta:p})};return n.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of KA(s.path))i(s,a,c)}),e}function KA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=KA(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function MM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var jM=/^:[\w-]+$/,VM=3,FM=2,UM=1,BM=10,zM=-2,uS=n=>n==="*";function $M(n,e){let t=n.split("/"),r=t.length;return t.some(uS)&&(r+=zM),e&&(r+=FM),t.filter(i=>!uS(i)).reduce((i,s)=>i+(jM.test(s)?VM:s===""?UM:BM),r)}function WM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function qM(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=wg({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),_=c.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=wg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:ta([s,g.pathname]),pathnameBase:XM(ta([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=ta([s,g.pathnameBase]))}return a}function wg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=HM(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},_)=>{if(p==="*"){let C=u[_]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const w=u[_];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:n}}function HM(n,e=!1,t=!0){Hs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function sa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function KM(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?wd(n):n;return{pathname:t?t.startsWith("/")?t:QM(t,e):e,search:JM(r),hash:ZM(i)}}function QM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Fv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cE(n){let e=YM(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function dE(n,e,t,r=!1){let i;typeof n=="string"?i=wd(n):(i={...n},tn(!i.pathname||!i.pathname.includes("?"),Fv("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),Fv("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),Fv("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let c=KM(i,u),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var ta=n=>n.join("/").replace(/\/\/+/g,"/"),XM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function e4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var QA=["POST","PUT","PATCH","DELETE"];new Set(QA);var t4=["GET",...QA];new Set(t4);var Ed=R.createContext(null);Ed.displayName="DataRouter";var p_=R.createContext(null);p_.displayName="DataRouterState";var YA=R.createContext({isTransitioning:!1});YA.displayName="ViewTransition";var n4=R.createContext(new Map);n4.displayName="Fetchers";var r4=R.createContext(null);r4.displayName="Await";var Ks=R.createContext(null);Ks.displayName="Navigation";var Bf=R.createContext(null);Bf.displayName="Location";var Qs=R.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var hE=R.createContext(null);hE.displayName="RouteError";function i4(n,{relative:e}={}){tn(Td(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=R.useContext(Ks),{hash:i,pathname:s,search:a}=zf(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:ta([t,s])),r.createHref({pathname:u,search:a,hash:i})}function Td(){return R.useContext(Bf)!=null}function ya(){return tn(Td(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Bf).location}var XA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JA(n){R.useContext(Ks).static||R.useLayoutEffect(n)}function Ri(){let{isDataRoute:n}=R.useContext(Qs);return n?_4():s4()}function s4(){tn(Td(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Ed),{basename:e,navigator:t}=R.useContext(Ks),{matches:r}=R.useContext(Qs),{pathname:i}=ya(),s=JSON.stringify(cE(r)),a=R.useRef(!1);return JA(()=>{a.current=!0}),R.useCallback((c,h={})=>{if(Hs(a.current,XA),!a.current)return;if(typeof c=="number"){t.go(c);return}let p=dE(c,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ta([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,s,i,n])}R.createContext(null);function m_(){let{matches:n}=R.useContext(Qs),e=n[n.length-1];return e?e.params:{}}function zf(n,{relative:e}={}){let{matches:t}=R.useContext(Qs),{pathname:r}=ya(),i=JSON.stringify(cE(t));return R.useMemo(()=>dE(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function o4(n,e){return ZA(n,e)}function ZA(n,e,t,r){var D;tn(Td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=R.useContext(Ks),{matches:a}=R.useContext(Qs),u=a[a.length-1],c=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let V=g&&g.path||"";eb(h,!g||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let _=ya(),w;if(e){let V=typeof e=="string"?wd(e):e;tn(p==="/"||((D=V.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${V.pathname}" was given in the \`location\` prop.`),w=V}else w=_;let C=w.pathname||"/",x=C;if(p!=="/"){let V=p.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(V.length).join("/")}let S=!s&&t&&t.matches&&t.matches.length>0?t.matches:HA(n,{pathname:x});Hs(g||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Hs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=d4(S&&S.map(V=>Object.assign({},V,{params:Object.assign({},c,V.params),pathname:ta([p,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:ta([p,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),a,t,r);return e&&N?R.createElement(Bf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function a4(){let n=g4(),e=e4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,a)}var l4=R.createElement(a4,null),u4=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(Qs.Provider,{value:this.props.routeContext},R.createElement(hE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c4({routeContext:n,match:e,children:t}){let r=R.useContext(Ed);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Qs.Provider,{value:n},t)}function d4(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);tn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:g}=t,_=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,p)=>{let g,_=!1,w=null,C=null;t&&(g=s&&h.route.id?s[h.route.id]:void 0,w=h.route.errorElement||l4,a&&(u<0&&p===0?(eb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):u===p&&(_=!0,C=h.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,p+1)),S=()=>{let N;return g?N=w:_?N=C:h.route.Component?N=R.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=c,R.createElement(c4,{match:h,routeContext:{outlet:c,matches:x,isDataRoute:t!=null},children:N})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?R.createElement(u4,{location:t.location,revalidation:t.revalidation,component:w,error:g,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function fE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h4(n){let e=R.useContext(Ed);return tn(e,fE(n)),e}function f4(n){let e=R.useContext(p_);return tn(e,fE(n)),e}function p4(n){let e=R.useContext(Qs);return tn(e,fE(n)),e}function pE(n){let e=p4(n),t=e.matches[e.matches.length-1];return tn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function m4(){return pE("useRouteId")}function g4(){var r;let n=R.useContext(hE),e=f4("useRouteError"),t=pE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function _4(){let{router:n}=h4("useNavigate"),e=pE("useNavigate"),t=R.useRef(!1);return JA(()=>{t.current=!0}),R.useCallback(async(i,s={})=>{Hs(t.current,XA),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var cS={};function eb(n,e,t){!e&&!cS[n]&&(cS[n]=!0,Hs(!1,t))}R.memo(y4);function y4({routes:n,future:e,state:t}){return ZA(n,void 0,t,e)}function tb({to:n,replace:e,state:t,relative:r}){tn(Td(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(Ks);Hs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=R.useContext(Qs),{pathname:a}=ya(),u=Ri(),c=dE(n,cE(s),a,r==="path"),h=JSON.stringify(c);return R.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function fn(n){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){tn(!Td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=wd(t));let{pathname:c="/",search:h="",hash:p="",state:g=null,key:_="default"}=t,w=R.useMemo(()=>{let C=sa(c,a);return C==null?null:{location:{pathname:C,search:h,hash:p,state:g,key:_},navigationType:r}},[a,c,h,p,g,_,r]);return Hs(w!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(Ks.Provider,{value:u},R.createElement(Bf.Provider,{children:e,value:w}))}function w4({children:n,location:e}){return o4(M0(n),e)}function M0(n,e=[]){let t=[];return R.Children.forEach(n,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){t.push.apply(t,M0(r.props.children,s));return}tn(r.type===fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=M0(r.props.children,s)),t.push(a)}),t}var Qm="get",Ym="application/x-www-form-urlencoded";function g_(n){return n!=null&&typeof n.tagName=="string"}function E4(n){return g_(n)&&n.tagName.toLowerCase()==="button"}function T4(n){return g_(n)&&n.tagName.toLowerCase()==="form"}function x4(n){return g_(n)&&n.tagName.toLowerCase()==="input"}function C4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function S4(n,e){return n.button===0&&(!e||e==="_self")&&!C4(n)}var Em=null;function I4(){if(Em===null)try{new FormData(document.createElement("form"),0),Em=!1}catch{Em=!0}return Em}var R4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uv(n){return n!=null&&!R4.has(n)?(Hs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ym}"`),null):n}function A4(n,e){let t,r,i,s,a;if(T4(n)){let u=n.getAttribute("action");r=u?sa(u,e):null,t=n.getAttribute("method")||Qm,i=Uv(n.getAttribute("enctype"))||Ym,s=new FormData(n)}else if(E4(n)||x4(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?sa(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Qm,i=Uv(n.getAttribute("formenctype"))||Uv(u.getAttribute("enctype"))||Ym,s=new FormData(u,n),!I4()){let{name:h,type:p,value:g}=n;if(p==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,g)}}else{if(g_(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qm,r=null,i=Ym,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}function mE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function b4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function k4(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await b4(s,t);return a.links?a.links():[]}return[]}));return L4(r.flat(1).filter(P4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function dS(n,e,t,r,i,s){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var p;return t[h].pathname!==c.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):s==="data"?e.filter((c,h)=>{var g;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let _=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function N4(n,e,{includeHydrateFallback:t}={}){return O4(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function O4(n){return[...new Set(n)]}function D4(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function L4(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(D4(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}var M4=new Set([100,101,204,205]);function j4(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&sa(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function nb(){let n=R.useContext(Ed);return mE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function V4(){let n=R.useContext(p_);return mE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var gE=R.createContext(void 0);gE.displayName="FrameworkContext";function rb(){let n=R.useContext(gE);return mE(n,"You must render this element inside a <HydratedRouter> element"),n}function F4(n,e){let t=R.useContext(gE),[r,i]=R.useState(!1),[s,a]=R.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,_=R.useRef(null);R.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let x=N=>{N.forEach(D=>{a(D.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[n]),R.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let w=()=>{i(!0)},C=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:mh(u,w),onBlur:mh(c,C),onMouseEnter:mh(h,w),onMouseLeave:mh(p,C),onTouchStart:mh(g,w)}]:[!1,_,{}]}function mh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function U4({page:n,...e}){let{router:t}=nb(),r=R.useMemo(()=>HA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?R.createElement(z4,{page:n,matches:r,...e}):null}function B4(n){let{manifest:e,routeModules:t}=rb(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return k4(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function z4({page:n,matches:e,...t}){let r=ya(),{manifest:i,routeModules:s}=rb(),{basename:a}=nb(),{loaderData:u,matches:c}=V4(),h=R.useMemo(()=>dS(n,e,c,i,r,"data"),[n,e,c,i,r]),p=R.useMemo(()=>dS(n,e,c,i,r,"assets"),[n,e,c,i,r]),g=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,x=!1;if(e.forEach(N=>{var V;let D=i.routes[N.route.id];!D||!D.hasLoader||(!h.some(F=>F.route.id===N.route.id)&&N.route.id in u&&((V=s[N.route.id])!=null&&V.shouldRevalidate)||D.hasClientLoader?x=!0:C.add(N.route.id))}),C.size===0)return[];let S=j4(n,a);return x&&C.size>0&&S.searchParams.set("_routes",e.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[a,u,r,i,h,e,n,s]),_=R.useMemo(()=>N4(p,i),[p,i]),w=B4(p);return R.createElement(R.Fragment,null,g.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),w.map(({key:C,link:x})=>R.createElement("link",{key:C,...x})))}function $4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ib&&(window.__reactRouterVersion="7.5.3")}catch{}function W4({basename:n,children:e,window:t}){let r=R.useRef();r.current==null&&(r.current=NM({window:t,v5Compat:!0}));let i=r.current,[s,a]=R.useState({action:i.action,location:i.location}),u=R.useCallback(c=>{R.startTransition(()=>a(c))},[a]);return R.useLayoutEffect(()=>i.listen(u),[i,u]),R.createElement(v4,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=R.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:u,target:c,to:h,preventScrollReset:p,viewTransition:g,..._},w){let{basename:C}=R.useContext(Ks),x=typeof h=="string"&&sb.test(h),S,N=!1;if(typeof h=="string"&&x&&(S=h,ib))try{let b=new URL(window.location.href),O=h.startsWith("//")?new URL(b.protocol+h):new URL(h),U=sa(O.pathname,C);O.origin===b.origin&&U!=null?h=U+O.search+O.hash:N=!0}catch{Hs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=i4(h,{relative:i}),[V,F,$]=F4(r,_),W=K4(h,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:g});function P(b){e&&e(b),b.defaultPrevented||W(b)}let A=R.createElement("a",{..._,...$,href:S||D,onClick:N||s?e:P,ref:$4(w,F),target:c,"data-discover":!x&&t==="render"?"true":void 0});return V&&!x?R.createElement(R.Fragment,null,A,R.createElement(U4,{page:D})):A});qt.displayName="Link";var q4=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:u,children:c,...h},p){let g=zf(a,{relative:h.relative}),_=ya(),w=R.useContext(p_),{navigator:C,basename:x}=R.useContext(Ks),S=w!=null&&Z4(g)&&u===!0,N=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,D=_.pathname,V=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(D=D.toLowerCase(),V=V?V.toLowerCase():null,N=N.toLowerCase()),V&&x&&(V=sa(V,x)||V);const F=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let $=D===N||!i&&D.startsWith(N)&&D.charAt(F)==="/",W=V!=null&&(V===N||!i&&V.startsWith(N)&&V.charAt(N.length)==="/"),P={isActive:$,isPending:W,isTransitioning:S},A=$?e:void 0,b;typeof r=="function"?b=r(P):b=[r,$?"active":null,W?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(P):s;return R.createElement(qt,{...h,"aria-current":A,className:b,ref:p,style:O,to:a,viewTransition:u},typeof c=="function"?c(P):c)});q4.displayName="NavLink";var H4=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Qm,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:g,..._},w)=>{let C=X4(),x=J4(u,{relative:h}),S=a.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&sb.test(u),D=V=>{if(c&&c(V),V.defaultPrevented)return;V.preventDefault();let F=V.nativeEvent.submitter,$=(F==null?void 0:F.getAttribute("formmethod"))||a;C(F||V.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return R.createElement("form",{ref:w,method:S,action:x,onSubmit:r?c:D,..._,"data-discover":!N&&n==="render"?"true":void 0})});H4.displayName="Form";function G4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ob(n){let e=R.useContext(Ed);return tn(e,G4(n)),e}function K4(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let u=Ri(),c=ya(),h=zf(n,{relative:s});return R.useCallback(p=>{if(S4(p,e)){p.preventDefault();let g=t!==void 0?t:pf(c)===pf(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[c,u,h,t,r,e,n,i,s,a])}var Q4=0,Y4=()=>`__${String(++Q4)}__`;function X4(){let{router:n}=ob("useSubmit"),{basename:e}=R.useContext(Ks),t=m4();return R.useCallback(async(r,i={})=>{let{action:s,method:a,encType:u,formData:c,body:h}=A4(r,e);if(i.navigate===!1){let p=i.fetcherKey||Y4();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function J4(n,{relative:e}={}){let{basename:t}=R.useContext(Ks),r=R.useContext(Qs);tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...zf(n||".",{relative:e})},a=ya();if(n==null){s.search=a.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ta([t,s.pathname])),pf(s)}function Z4(n,e={}){let t=R.useContext(YA);tn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ob("useViewTransitionState"),i=zf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=sa(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=sa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return wg(i.pathname,a)!=null||wg(i.pathname,s)!=null}new TextEncoder;[...M4];var _E=qA();const e3=Uf(_E),t3=()=>{};var hS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(n,e){if(!n)throw xd(e)},xd=function(n){return new Error("Firebase Database ("+ab.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},n3=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],u=n[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,u=a?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,w=h&63;c||(w=64,a||(_=64)),r.push(t[p],t[g],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):n3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new r3;const _=s<<2|u>>4;if(r.push(_),h!==64){const w=u<<4&240|h>>2;if(r.push(w),g!==64){const C=h<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class r3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ub=function(n){const e=lb(n);return yE.encodeByteArray(e,!0)},Eg=function(n){return ub(n).replace(/\./g,"")},Tg=function(n){try{return yE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(n){return cb(void 0,n)}function cb(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!s3(t)||(n[t]=cb(n[t],e[t]));return n}function s3(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=()=>o3().__FIREBASE_DEFAULTS__,l3=()=>{if(typeof process>"u"||typeof hS>"u")return;const n=hS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},u3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Tg(n[1]);return e&&JSON.parse(e)},__=()=>{try{return t3()||a3()||l3()||u3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},db=n=>{var e,t;return(t=(e=__())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vE=n=>{const e=db(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hb=()=>{var n;return(n=__())===null||n===void 0?void 0:n.config},fb=n=>{var e;return(e=__())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Eg(JSON.stringify(t)),Eg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Br())}function c3(){var n;const e=(n=__())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f3(){const n=Br();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p3(){return ab.NODE_ADMIN===!0}function m3(){return!c3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g3(){try{return typeof indexedDB=="object"}catch{return!1}}function _3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="FirebaseError";class Io extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=y3,Object.setPrototypeOf(this,Io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$f.prototype.create)}}class $f{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?v3(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Io(i,u,r)}}function v3(n,e){return n.replace(w3,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const w3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n){return JSON.parse(n)}function gr(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=mf(Tg(s[0])||""),t=mf(Tg(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},E3=function(n){const e=mb(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},T3=function(n){const e=mb(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Jc(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function j0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xg(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function ml(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(fS(s)&&fS(a)){if(!ml(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function fS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ah(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let g=0;g<16;g++)r[g]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let g=16;g<80;g++){const _=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4],h,p;for(let g=0;g<80;g++){g<40?g<20?(h=u^s&(a^u),p=1518500249):(h=s^a^u,p=1859775393):g<60?(h=s&a|u&(s|a),p=2400959708):(h=s^a^u,p=3395469782);const _=(i<<5|i>>>27)+h+c+p+r[g]&4294967295;c=u,u=a,a=(s<<30|s>>>2)&4294967295,s=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<t;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<t;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function C3(n,e){const t=new S3(n,e);return t.subscribe.bind(t)}class S3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");I3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Bv),i.error===void 0&&(i.error=Bv),i.complete===void 0&&(i.complete=Bv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bv(){}function R3(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ge(r<n.length,"Surrogate pair missing trail surrogate.");const a=n.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},y_=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class oa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b3=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new wE;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k3(e))try{this.getOrInitializeService({instanceIdentifier:iu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=iu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=iu){return this.instances.has(e)}getOptions(e=iu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=iu){return this.component?this.component.multipleInstances?e:iu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function P3(n){return n===iu?void 0:n}function k3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new b3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const O3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},D3=it.INFO,L3={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},M3=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=L3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v_{constructor(e){this.name=e,this._logLevel=D3,this._logHandler=M3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const j3=(n,e)=>e.some(t=>n instanceof t);let pS,mS;function V3(){return pS||(pS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F3(){return mS||(mS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gb=new WeakMap,V0=new WeakMap,_b=new WeakMap,zv=new WeakMap,xE=new WeakMap;function U3(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(il(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&gb.set(t,n)}).catch(()=>{}),xE.set(e,n),e}function B3(n){if(V0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});V0.set(n,e)}let F0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return V0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_b.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return il(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function z3(n){F0=n(F0)}function $3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call($v(this),e,...t);return _b.set(r,e.sort?e.sort():[e]),il(r)}:F3().includes(n)?function(...e){return n.apply($v(this),e),il(gb.get(this))}:function(...e){return il(n.apply($v(this),e))}}function W3(n){return typeof n=="function"?$3(n):(n instanceof IDBTransaction&&B3(n),j3(n,V3())?new Proxy(n,F0):n)}function il(n){if(n instanceof IDBRequest)return U3(n);if(zv.has(n))return zv.get(n);const e=W3(n);return e!==n&&(zv.set(n,e),xE.set(e,n)),e}const $v=n=>xE.get(n);function q3(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),u=il(a);return r&&a.addEventListener("upgradeneeded",c=>{r(il(a.result),c.oldVersion,c.newVersion,il(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const H3=["get","getKey","getAll","getAllKeys","count"],G3=["put","add","delete","clear"],Wv=new Map;function gS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wv.get(e))return Wv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=G3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H3.includes(t)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return Wv.set(e,s),s}z3(n=>({...n,get:(e,t,r)=>gS(e,t)||n.get(e,t,r),has:(e,t)=>!!gS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Q3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Q3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U0="@firebase/app",_S="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new v_("@firebase/app"),Y3="@firebase/app-compat",X3="@firebase/analytics-compat",J3="@firebase/analytics",Z3="@firebase/app-check-compat",ej="@firebase/app-check",tj="@firebase/auth",nj="@firebase/auth-compat",rj="@firebase/database",ij="@firebase/data-connect",sj="@firebase/database-compat",oj="@firebase/functions",aj="@firebase/functions-compat",lj="@firebase/installations",uj="@firebase/installations-compat",cj="@firebase/messaging",dj="@firebase/messaging-compat",hj="@firebase/performance",fj="@firebase/performance-compat",pj="@firebase/remote-config",mj="@firebase/remote-config-compat",gj="@firebase/storage",_j="@firebase/storage-compat",yj="@firebase/firestore",vj="@firebase/vertexai",wj="@firebase/firestore-compat",Ej="firebase",Tj="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="[DEFAULT]",xj={[U0]:"fire-core",[Y3]:"fire-core-compat",[J3]:"fire-analytics",[X3]:"fire-analytics-compat",[ej]:"fire-app-check",[Z3]:"fire-app-check-compat",[tj]:"fire-auth",[nj]:"fire-auth-compat",[rj]:"fire-rtdb",[ij]:"fire-data-connect",[sj]:"fire-rtdb-compat",[oj]:"fire-fn",[aj]:"fire-fn-compat",[lj]:"fire-iid",[uj]:"fire-iid-compat",[cj]:"fire-fcm",[dj]:"fire-fcm-compat",[hj]:"fire-perf",[fj]:"fire-perf-compat",[pj]:"fire-rc",[mj]:"fire-rc-compat",[gj]:"fire-gcs",[_j]:"fire-gcs-compat",[yj]:"fire-fst",[wj]:"fire-fst-compat",[vj]:"fire-vertex","fire-js":"fire-js",[Ej]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=new Map,Cj=new Map,z0=new Map;function yS(n,e){try{n.container.addComponent(e)}catch(t){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gl(n){const e=n.name;if(z0.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;z0.set(e,n);for(const t of Cg.values())yS(t,n);for(const t of Cj.values())yS(t,n);return!0}function Wf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sl=new $f("app","Firebase",Sj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=Tj;function yb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:B0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sl.create("bad-app-name",{appName:String(i)});if(t||(t=hb()),!t)throw sl.create("no-options");const s=Cg.get(i);if(s){if(ml(t,s.options)&&ml(r,s.config))return s;throw sl.create("duplicate-app",{appName:i})}const a=new N3(i);for(const c of z0.values())a.addComponent(c);const u=new Ij(t,r,a);return Cg.set(i,u),u}function w_(n=B0){const e=Cg.get(n);if(!e&&n===B0&&hb())return yb();if(!e)throw sl.create("no-app",{appName:n});return e}function Es(n,e,t){var r;let i=(r=xj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(u.join(" "));return}gl(new oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="firebase-heartbeat-database",Aj=1,gf="firebase-heartbeat-store";let qv=null;function vb(){return qv||(qv=q3(Rj,Aj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gf)}catch(t){console.warn(t)}}}}).catch(n=>{throw sl.create("idb-open",{originalErrorMessage:n.message})})),qv}async function bj(n){try{const t=(await vb()).transaction(gf),r=await t.objectStore(gf).get(wb(n));return await t.done,r}catch(e){if(e instanceof Io)aa.warn(e.message);else{const t=sl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(t.message)}}}async function vS(n,e){try{const r=(await vb()).transaction(gf,"readwrite");await r.objectStore(gf).put(e,wb(n)),await r.done}catch(t){if(t instanceof Io)aa.warn(t.message);else{const r=sl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});aa.warn(r.message)}}}function wb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=1024,kj=30;class Nj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>kj){const a=Lj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){aa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wS(),{heartbeatsToSend:r,unsentEntries:i}=Oj(this._heartbeatsCache.heartbeats),s=Eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return aa.warn(t),""}}}function wS(){return new Date().toISOString().substring(0,10)}function Oj(n,e=Pj){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),ES(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ES(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Dj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g3()?_3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ES(n){return Eg(JSON.stringify({version:2,heartbeats:n})).length}function Lj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(n){gl(new oa("platform-logger",e=>new K3(e),"PRIVATE")),gl(new oa("heartbeat",e=>new Nj(e),"PRIVATE")),Es(U0,_S,n),Es(U0,_S,"esm2017"),Es("fire-js","")}Mj("");function CE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jj=Eb,Tb=new $f("auth","Firebase",Eb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new v_("@firebase/auth");function Vj(n,...e){Sg.logLevel<=it.WARN&&Sg.warn(`Auth (${bl}): ${n}`,...e)}function Xm(n,...e){Sg.logLevel<=it.ERROR&&Sg.error(`Auth (${bl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(n,...e){throw IE(n,...e)}function Ws(n,...e){return IE(n,...e)}function SE(n,e,t){const r=Object.assign(Object.assign({},jj()),{[e]:t});return new $f("auth","Firebase",r).create(e,{appName:n.name})}function go(n){return SE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fj(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cs(n,"argument-error"),SE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function IE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Tb.create(n,...e)}function Fe(n,e,...t){if(!n)throw IE(e,...t)}function Qo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xm(e),new Error(e)}function la(n,e){n||Qo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Uj(){return TS()==="http:"||TS()==="https:"}function TS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uj()||h3()||"connection"in navigator)?navigator.onLine:!0}function zj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.shortDelay=e,this.longDelay=t,la(t>e,"Short delay should be less than long delay!"),this.isMobile=TE()||pb()}get(){return Bj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n,e){la(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=new qf(3e4,6e4);function Pl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ro(n,e,t,r,i={}){return Cb(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=Cd(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},s);return d3()||(h.referrerPolicy="no-referrer"),xb.fetch()(Sb(n,n.config.apiHost,t,u),h)})}async function Cb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},$j),e);try{const i=new Hj(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Tm(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tm(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Tm(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw Tm(n,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw SE(n,p,h);Cs(n,p)}}catch(i){if(i instanceof Io)throw i;Cs(n,"network-request-failed",{message:String(i)})}}async function Hf(n,e,t,r,i={}){const s=await Ro(n,e,t,r,i);return"mfaPendingCredential"in s&&Cs(n,"multi-factor-auth-required",{_serverResponse:s}),s}function Sb(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?RE(n.config,i):`${n.config.apiScheme}://${i}`}function qj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ws(this.auth,"network-request-failed")),Wj.get())})}}function Tm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ws(n,e,r);return i.customData._tokenResponse=t,i}function xS(n){return n!==void 0&&n.enterprise!==void 0}class Gj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kj(n,e){return Ro(n,"GET","/v2/recaptchaConfig",Pl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(n,e){return Ro(n,"POST","/v1/accounts:delete",e)}async function Ib(n,e){return Ro(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yj(n,e=!1){const t=jt(n),r=await t.getIdToken(e),i=E_(r);Fe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uh(Hv(i.auth_time)),issuedAtTime:Uh(Hv(i.iat)),expirationTime:Uh(Hv(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hv(n){return Number(n)*1e3}function E_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tg(t);return i?JSON.parse(i):(Xm("Failed to decode base64 JWT payload"),null)}catch(i){return Xm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CS(n){const e=E_(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Io&&Xj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Xj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uh(this.lastLoginAt),this.creationTime=Uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(n){var e;const t=n.auth,r=await n.getIdToken(),i=await xu(n,Ib(t,{idToken:r}));Fe(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Rb(s.providerUserInfo):[],u=eV(n.providerData,a),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new W0(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function Zj(n){const e=jt(n);await Ig(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rb(n){return n.map(e=>{var{providerId:t}=e,r=CE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(n,e){const t=await Cb(n,{},async()=>{const r=Cd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=Sb(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",xb.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nV(n,e){return Ro(n,"POST","/v2/accounts:revokeToken",Pl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=CS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await tV(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new jc;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return Qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(n,e){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=CE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new W0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Yj(this,e)}reload(){return Zj(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ig(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(go(this.auth));const e=await this.getIdToken();return await xu(this,Qj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,u,c,h,p;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,w=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=t.photoURL)!==null&&a!==void 0?a:void 0,x=(u=t.tenantId)!==null&&u!==void 0?u:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,N=(h=t.createdAt)!==null&&h!==void 0?h:void 0,D=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:V,emailVerified:F,isAnonymous:$,providerData:W,stsTokenManager:P}=t;Fe(V&&P,e,"internal-error");const A=jc.fromJSON(this.name,P);Fe(typeof V=="string",e,"internal-error"),$a(g,e.name),$a(_,e.name),Fe(typeof F=="boolean",e,"internal-error"),Fe(typeof $=="boolean",e,"internal-error"),$a(w,e.name),$a(C,e.name),$a(x,e.name),$a(S,e.name),$a(N,e.name),$a(D,e.name);const b=new Yo({uid:V,auth:e,email:_,emailVerified:F,displayName:g,isAnonymous:$,photoURL:C,phoneNumber:w,tenantId:x,stsTokenManager:A,createdAt:N,lastLoginAt:D});return W&&Array.isArray(W)&&(b.providerData=W.map(O=>Object.assign({},O))),S&&(b._redirectEventId=S),b}static async _fromIdTokenResponse(e,t,r=!1){const i=new jc;i.updateFromServerResponse(t);const s=new Yo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ig(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Rb(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new jc;u.updateFromIdToken(r);const c=new Yo({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new W0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;function Xo(n){la(n instanceof Function,"Expected a class definition");let e=SS.get(n);return e?(la(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,SS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ab.type="NONE";const IS=Ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n,e,t){return`firebase:${n}:${e}:${t}`}class Vc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Vc(Xo(IS),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Xo(IS);const a=Jm(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=await h._get(a);if(p){const g=Yo._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Vc(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Vc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Db(e))return"Blackberry";if(Lb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||kb(e))&&!e.includes("edge/"))return"Chrome";if(Ob(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bb(n=Br()){return/firefox\//i.test(n)}function Pb(n=Br()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kb(n=Br()){return/crios\//i.test(n)}function Nb(n=Br()){return/iemobile/i.test(n)}function Ob(n=Br()){return/android/i.test(n)}function Db(n=Br()){return/blackberry/i.test(n)}function Lb(n=Br()){return/webos/i.test(n)}function AE(n=Br()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rV(n=Br()){var e;return AE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iV(){return f3()&&document.documentMode===10}function Mb(n=Br()){return AE(n)||Ob(n)||Lb(n)||Db(n)||/windows phone/i.test(n)||Nb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n,e=[]){let t;switch(n){case"Browser":t=RS(Br());break;case"Worker":t=`${RS(Br())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(n,e={}){return Ro(n,"GET","/v2/passwordPolicy",Pl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=6;class lV{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:aV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AS(this),this.idTokenSubscription=new AS(this),this.beforeStateQueue=new sV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xo(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ib(this,{idToken:e}),r=await Yo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ig(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(go(this));const t=e?jt(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oV(this),t=new lV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $f("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await nV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xo(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await Vc.create(this,[Xo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Vj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function kl(n){return jt(n)}class AS{constructor(e){this.auth=e,this.observer=null,this.addObserver=C3(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cV(n){T_=n}function Vb(n){return T_.loadJS(n)}function dV(){return T_.recaptchaEnterpriseScript}function hV(){return T_.gapiScript}function fV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class pV{constructor(){this.enterprise=new mV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const gV="recaptcha-enterprise",Fb="NO_RECAPTCHA";class _V{constructor(e){this.type=gV,this.auth=kl(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{Kj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Gj(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;xS(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(Fb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pV().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(u=>{if(!t&&xS(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dV();c.length!==0&&(c+=u),Vb(c).then(()=>{i(u,s,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function bS(n,e,t,r=!1,i=!1){const s=new _V(n);let a;if(i)a=Fb;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function q0(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bS(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await bS(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n,e){const t=Wf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ml(s,e??{}))return i;Cs(i,"already-initialized")}return t.initialize({options:e})}function vV(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Xo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wV(n,e,t){const r=kl(n);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Ub(e),{host:a,port:u}=EV(e),c=u===null?"":`:${u}`,h={url:`${s}//${a}${c}/`},p=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(ml(h,r.config.emulator)&&ml(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,TV()}function Ub(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EV(n){const e=Ub(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:PS(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:PS(a)}}}function PS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qo("not implemented")}_getIdTokenResponse(e){return Qo("not implemented")}_linkToIdToken(e,t){return Qo("not implemented")}_getReauthenticationResolver(e){return Qo("not implemented")}}async function xV(n,e){return Ro(n,"POST","/v1/accounts:update",e)}async function CV(n,e){return Ro(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(n,e){return Hf(n,"POST","/v1/accounts:signInWithPassword",Pl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(n,e){return Hf(n,"POST","/v1/accounts:signInWithEmailLink",Pl(n,e))}async function RV(n,e){return Hf(n,"POST","/v1/accounts:signInWithEmailLink",Pl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends bE{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new _f(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new _f(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q0(e,t,"signInWithPassword",SV);case"emailLink":return IV(e,{email:this._email,oobCode:this._password});default:Cs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return q0(e,r,"signUpPassword",CV);case"emailLink":return RV(e,{idToken:t,email:this._email,oobCode:this._password});default:Cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(n,e){return Hf(n,"POST","/v1/accounts:signInWithIdp",Pl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="http://localhost";class Cu extends bE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=CE(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Cu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Fc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fc(e,t)}buildRequest(){const e={requestUri:AV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PV(n){const e=Rh(Ah(n)).link,t=e?Rh(Ah(e)).deep_link_id:null,r=Rh(Ah(n)).deep_link_id;return(r?Rh(Ah(r)).link:null)||r||t||e||n}class PE{constructor(e){var t,r,i,s,a,u;const c=Rh(Ah(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=bV((i=c.mode)!==null&&i!==void 0?i:null);Fe(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=PV(e);try{return new PE(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.providerId=Sd.PROVIDER_ID}static credential(e,t){return _f._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=PE.parseLink(t);return Fe(r,"argument-error"),_f._fromEmailAndCode(e,r.code,r.tenantId)}}Sd.PROVIDER_ID="password";Sd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends kE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Gf{constructor(){super("facebook.com")}static credential(e){return Cu._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cu._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return uo.credential(t,r)}catch{return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com";uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Gf{constructor(){super("github.com")}static credential(e){return Cu._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.GITHUB_SIGN_IN_METHOD="github.com";Ka.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Gf{constructor(){super("twitter.com")}static credential(e,t){return Cu._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Qa.credential(t,r)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(n,e){return Hf(n,"POST","/v1/accounts:signUp",Pl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Yo._fromIdTokenResponse(e,r,i),a=kS(r);return new Su({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=kS(r);return new Su({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function kS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends Io{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Rg(e,t,r,i)}}function Bb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rg._fromErrorAndOperation(n,s,e,r):s})}async function NV(n,e,t=!1){const r=await xu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Su._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(n,e,t=!1){const{auth:r}=n;if(Dr(r.app))return Promise.reject(go(r));const i="reauthenticate";try{const s=await xu(n,Bb(r,i,e,n),t);Fe(s.idToken,r,"internal-error");const a=E_(s.idToken);Fe(a,r,"internal-error");const{sub:u}=a;return Fe(n.uid===u,r,"user-mismatch"),Su._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(n,e,t=!1){if(Dr(n.app))return Promise.reject(go(n));const r="signIn",i=await Bb(n,r,e),s=await Su._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function DV(n,e){return zb(kl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(n){const e=kl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LV(n,e,t){if(Dr(n.app))return Promise.reject(go(n));const r=kl(n),a=await q0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kV).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&$b(n),c}),u=await Su._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function MV(n,e,t){return Dr(n.app)?Promise.reject(go(n)):DV(jt(n),Sd.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$b(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(n,e){return Ro(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=jt(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await xu(r,jV(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function VV(n,e){const t=jt(n);return Dr(t.auth.app)?Promise.reject(go(t.auth)):FV(t,e)}async function FV(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e);const a=await xu(n,xV(r,s));await n._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const a=(t=(e=E_(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(a){const u=a!=="anonymous"&&a!=="custom"?a:null;return new Uc(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new BV(s,i);case"github.com":return new zV(s,i);case"google.com":return new $V(s,i);case"twitter.com":return new WV(s,i,n.screenName||null);case"custom":case"anonymous":return new Uc(s,null);default:return new Uc(s,r,i)}}class Uc{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Wb extends Uc{constructor(e,t,r,i){super(e,t,r),this.username=i}}class BV extends Uc{constructor(e,t){super(e,"facebook.com",t)}}class zV extends Wb{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class $V extends Uc{constructor(e,t){super(e,"google.com",t)}}class WV extends Wb{constructor(e,t,r){super(e,"twitter.com",t,r)}}function qV(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:UV(t)}function HV(n,e,t,r){return jt(n).onIdTokenChanged(e,t,r)}function GV(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function qb(n,e,t,r){return jt(n).onAuthStateChanged(e,t,r)}const Ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ag,"1"),this.storage.removeItem(Ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=1e3,QV=10;class Gb extends Hb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);iV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QV):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},KV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gb.type="LOCAL";const YV=Gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends Hb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kb.type="SESSION";const Qb=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new x_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async h=>h(t.origin,s)),c=await XV(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}x_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const h=NE("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(){return window}function ZV(n){_o().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){return typeof _o().WorkerGlobalScope<"u"&&typeof _o().importScripts=="function"}async function eF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nF(){return Yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firebaseLocalStorageDb",rF=1,bg="firebaseLocalStorage",Jb="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function C_(n,e){return n.transaction([bg],e?"readwrite":"readonly").objectStore(bg)}function iF(){const n=indexedDB.deleteDatabase(Xb);return new Kf(n).toPromise()}function G0(){const n=indexedDB.open(Xb,rF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bg,{keyPath:Jb})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(bg)?e(r):(r.close(),await iF(),e(await G0()))})})}async function NS(n,e,t){const r=C_(n,!0).put({[Jb]:e,value:t});return new Kf(r).toPromise()}async function sF(n,e){const t=C_(n,!1).get(e),r=await new Kf(t).toPromise();return r===void 0?null:r.value}function OS(n,e){const t=C_(n,!0).delete(e);return new Kf(t).toPromise()}const oF=800,aF=3;class Zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>aF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=x_._getInstance(nF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eF(),!this.activeServiceWorker)return;this.sender=new JV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G0();return await NS(e,Ag,"1"),await OS(e,Ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>NS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>sF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>OS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=C_(i,!1).getAll();return new Kf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zb.type="LOCAL";const lF=Zb;new qf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(n,e){return e?Xo(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends bE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uF(n){return zb(n.auth,new OE(n),n.bypassAuthState)}function cF(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),OV(t,new OE(n),n.bypassAuthState)}async function dF(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),NV(t,new OE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uF;case"linkViaPopup":case"linkViaRedirect":return dF;case"reauthViaPopup":case"reauthViaRedirect":return cF;default:Cs(this.auth,"internal-error")}}resolve(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=new qf(2e3,1e4);async function fF(n,e,t){if(Dr(n.app))return Promise.reject(Ws(n,"operation-not-supported-in-this-environment"));const r=kl(n);Fj(n,e,kE);const i=eP(r,t);return new uu(r,"signInViaPopup",e,i).executeNotNull()}class uu extends tP{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,uu.currentPopupAction&&uu.currentPopupAction.cancel(),uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const e=NE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hF.get())};e()}}uu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="pendingRedirect",Zm=new Map;class mF extends tP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Zm.get(this.auth._key());if(!e){try{const r=await gF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Zm.set(this.auth._key(),e)}return this.bypassAuthState||Zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gF(n,e){const t=vF(e),r=yF(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function _F(n,e){Zm.set(n._key(),e)}function yF(n){return Xo(n._redirectPersistence)}function vF(n){return Jm(pF,n.config.apiKey,n.name)}async function wF(n,e,t=!1){if(Dr(n.app))return Promise.reject(go(n));const r=kl(n),i=eP(r,e),a=await new mF(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=10*60*1e3;class TF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!nP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ws(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EF&&this.cachedEventUids.clear(),this.cachedEventUids.has(DS(e))}saveEventToCache(e){this.cachedEventUids.add(DS(e)),this.lastProcessedEventTime=Date.now()}}function DS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(n,e={}){return Ro(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IF=/^https?/;async function RF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await CF(n);for(const t of e)try{if(AF(t))return}catch{}Cs(n,"unauthorized-domain")}function AF(n){const e=$0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!IF.test(t))return!1;if(SF.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new qf(3e4,6e4);function LS(){const n=_o().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PF(n){return new Promise((e,t)=>{var r,i,s;function a(){LS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LS(),t(Ws(n,"network-request-failed"))},timeout:bF.get()})}if(!((i=(r=_o().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_o().gapi)===null||s===void 0)&&s.load)a();else{const u=fV("iframefcb");return _o()[u]=()=>{gapi.load?a():t(Ws(n,"network-request-failed"))},Vb(`${hV()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw eg=null,e})}let eg=null;function kF(n){return eg=eg||PF(n),eg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new qf(5e3,15e3),OF="__/auth/iframe",DF="emulator/auth/iframe",LF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jF(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?RE(e,DF):`https://${n.config.authDomain}/${OF}`,r={apiKey:e.apiKey,appName:n.name,v:bl},i=MF.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Cd(r).slice(1)}`}async function VF(n){const e=await kF(n),t=_o().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:jF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ws(n,"network-request-failed"),u=_o().setTimeout(()=>{s(a)},NF.get());function c(){_o().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UF=500,BF=600,zF="_blank",$F="http://localhost";class MS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WF(n,e,t,r=UF,i=BF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},FF),{width:r.toString(),height:i.toString(),top:s,left:a}),h=Br().toLowerCase();t&&(u=kb(h)?zF:t),bb(h)&&(e=e||$F,c.scrollbars="yes");const p=Object.entries(c).reduce((_,[w,C])=>`${_}${w}=${C},`,"");if(rV(h)&&u!=="_self")return qF(e||"",u),new MS(null);const g=window.open(e||"",u,p);Fe(g,n,"popup-blocked");try{g.focus()}catch{}return new MS(g)}function qF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="__/auth/handler",GF="emulator/auth/handler",KF=encodeURIComponent("fac");async function jS(n,e,t,r,i,s){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bl,eventId:i};if(e instanceof kE){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",j0(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof Gf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),h=c?`#${KF}=${encodeURIComponent(c)}`:"";return`${QF(n)}?${Cd(u).slice(1)}${h}`}function QF({config:n}){return n.emulator?RE(n,GF):`https://${n.authDomain}/${HF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="webStorageSupport";class YF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qb,this._completeRedirectFn=wF,this._overrideRedirectResult=_F}async _openPopup(e,t,r,i){var s;la((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await jS(e,t,r,$0(),i);return WF(e,a,NE())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await jS(e,t,r,$0(),i);return ZV(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(la(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await VF(e),r=new TF(e);return t.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gv,{type:Gv},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gv];a!==void 0&&t(!!a),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mb()||Pb()||AE()}}const XF=YF;var VS="@firebase/auth",FS="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e5(n){gl(new oa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jb(n)},h=new uV(r,i,s,c);return vV(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gl(new oa("auth-internal",e=>{const t=kl(e.getProvider("auth").getImmediate());return(r=>new JF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(VS,FS,ZF(n)),Es(VS,FS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=5*60,n5=fb("authIdTokenMaxAge")||t5;let US=null;const r5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>n5)return;const i=t==null?void 0:t.token;US!==i&&(US=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S_(n=w_()){const e=Wf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yV(n,{popupRedirectResolver:XF,persistence:[lF,YV,Qb]}),r=fb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=r5(s.toString());GV(t,a,()=>a(t.currentUser)),HV(t,u=>a(u))}}const i=db("auth");return i&&wV(t,`http://${i}`),t}function i5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ws("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",i5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e5("Browser");var s5="firebase",o5="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(s5,o5,"app");var BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ol,rP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function b(){}b.prototype=A.prototype,P.D=A.prototype,P.prototype=new b,P.prototype.constructor=P,P.C=function(O,U,M){for(var j=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)j[ne-2]=arguments[ne];return A.prototype[U].apply(O,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,A,b){b||(b=0);var O=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)O[U]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(U=0;16>U;++U)O[U]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=P.g[0],b=P.g[1],U=P.g[2];var M=P.g[3],j=A+(M^b&(U^M))+O[0]+3614090360&4294967295;A=b+(j<<7&4294967295|j>>>25),j=M+(U^A&(b^U))+O[1]+3905402710&4294967295,M=A+(j<<12&4294967295|j>>>20),j=U+(b^M&(A^b))+O[2]+606105819&4294967295,U=M+(j<<17&4294967295|j>>>15),j=b+(A^U&(M^A))+O[3]+3250441966&4294967295,b=U+(j<<22&4294967295|j>>>10),j=A+(M^b&(U^M))+O[4]+4118548399&4294967295,A=b+(j<<7&4294967295|j>>>25),j=M+(U^A&(b^U))+O[5]+1200080426&4294967295,M=A+(j<<12&4294967295|j>>>20),j=U+(b^M&(A^b))+O[6]+2821735955&4294967295,U=M+(j<<17&4294967295|j>>>15),j=b+(A^U&(M^A))+O[7]+4249261313&4294967295,b=U+(j<<22&4294967295|j>>>10),j=A+(M^b&(U^M))+O[8]+1770035416&4294967295,A=b+(j<<7&4294967295|j>>>25),j=M+(U^A&(b^U))+O[9]+2336552879&4294967295,M=A+(j<<12&4294967295|j>>>20),j=U+(b^M&(A^b))+O[10]+4294925233&4294967295,U=M+(j<<17&4294967295|j>>>15),j=b+(A^U&(M^A))+O[11]+2304563134&4294967295,b=U+(j<<22&4294967295|j>>>10),j=A+(M^b&(U^M))+O[12]+1804603682&4294967295,A=b+(j<<7&4294967295|j>>>25),j=M+(U^A&(b^U))+O[13]+4254626195&4294967295,M=A+(j<<12&4294967295|j>>>20),j=U+(b^M&(A^b))+O[14]+2792965006&4294967295,U=M+(j<<17&4294967295|j>>>15),j=b+(A^U&(M^A))+O[15]+1236535329&4294967295,b=U+(j<<22&4294967295|j>>>10),j=A+(U^M&(b^U))+O[1]+4129170786&4294967295,A=b+(j<<5&4294967295|j>>>27),j=M+(b^U&(A^b))+O[6]+3225465664&4294967295,M=A+(j<<9&4294967295|j>>>23),j=U+(A^b&(M^A))+O[11]+643717713&4294967295,U=M+(j<<14&4294967295|j>>>18),j=b+(M^A&(U^M))+O[0]+3921069994&4294967295,b=U+(j<<20&4294967295|j>>>12),j=A+(U^M&(b^U))+O[5]+3593408605&4294967295,A=b+(j<<5&4294967295|j>>>27),j=M+(b^U&(A^b))+O[10]+38016083&4294967295,M=A+(j<<9&4294967295|j>>>23),j=U+(A^b&(M^A))+O[15]+3634488961&4294967295,U=M+(j<<14&4294967295|j>>>18),j=b+(M^A&(U^M))+O[4]+3889429448&4294967295,b=U+(j<<20&4294967295|j>>>12),j=A+(U^M&(b^U))+O[9]+568446438&4294967295,A=b+(j<<5&4294967295|j>>>27),j=M+(b^U&(A^b))+O[14]+3275163606&4294967295,M=A+(j<<9&4294967295|j>>>23),j=U+(A^b&(M^A))+O[3]+4107603335&4294967295,U=M+(j<<14&4294967295|j>>>18),j=b+(M^A&(U^M))+O[8]+1163531501&4294967295,b=U+(j<<20&4294967295|j>>>12),j=A+(U^M&(b^U))+O[13]+2850285829&4294967295,A=b+(j<<5&4294967295|j>>>27),j=M+(b^U&(A^b))+O[2]+4243563512&4294967295,M=A+(j<<9&4294967295|j>>>23),j=U+(A^b&(M^A))+O[7]+1735328473&4294967295,U=M+(j<<14&4294967295|j>>>18),j=b+(M^A&(U^M))+O[12]+2368359562&4294967295,b=U+(j<<20&4294967295|j>>>12),j=A+(b^U^M)+O[5]+4294588738&4294967295,A=b+(j<<4&4294967295|j>>>28),j=M+(A^b^U)+O[8]+2272392833&4294967295,M=A+(j<<11&4294967295|j>>>21),j=U+(M^A^b)+O[11]+1839030562&4294967295,U=M+(j<<16&4294967295|j>>>16),j=b+(U^M^A)+O[14]+4259657740&4294967295,b=U+(j<<23&4294967295|j>>>9),j=A+(b^U^M)+O[1]+2763975236&4294967295,A=b+(j<<4&4294967295|j>>>28),j=M+(A^b^U)+O[4]+1272893353&4294967295,M=A+(j<<11&4294967295|j>>>21),j=U+(M^A^b)+O[7]+4139469664&4294967295,U=M+(j<<16&4294967295|j>>>16),j=b+(U^M^A)+O[10]+3200236656&4294967295,b=U+(j<<23&4294967295|j>>>9),j=A+(b^U^M)+O[13]+681279174&4294967295,A=b+(j<<4&4294967295|j>>>28),j=M+(A^b^U)+O[0]+3936430074&4294967295,M=A+(j<<11&4294967295|j>>>21),j=U+(M^A^b)+O[3]+3572445317&4294967295,U=M+(j<<16&4294967295|j>>>16),j=b+(U^M^A)+O[6]+76029189&4294967295,b=U+(j<<23&4294967295|j>>>9),j=A+(b^U^M)+O[9]+3654602809&4294967295,A=b+(j<<4&4294967295|j>>>28),j=M+(A^b^U)+O[12]+3873151461&4294967295,M=A+(j<<11&4294967295|j>>>21),j=U+(M^A^b)+O[15]+530742520&4294967295,U=M+(j<<16&4294967295|j>>>16),j=b+(U^M^A)+O[2]+3299628645&4294967295,b=U+(j<<23&4294967295|j>>>9),j=A+(U^(b|~M))+O[0]+4096336452&4294967295,A=b+(j<<6&4294967295|j>>>26),j=M+(b^(A|~U))+O[7]+1126891415&4294967295,M=A+(j<<10&4294967295|j>>>22),j=U+(A^(M|~b))+O[14]+2878612391&4294967295,U=M+(j<<15&4294967295|j>>>17),j=b+(M^(U|~A))+O[5]+4237533241&4294967295,b=U+(j<<21&4294967295|j>>>11),j=A+(U^(b|~M))+O[12]+1700485571&4294967295,A=b+(j<<6&4294967295|j>>>26),j=M+(b^(A|~U))+O[3]+2399980690&4294967295,M=A+(j<<10&4294967295|j>>>22),j=U+(A^(M|~b))+O[10]+4293915773&4294967295,U=M+(j<<15&4294967295|j>>>17),j=b+(M^(U|~A))+O[1]+2240044497&4294967295,b=U+(j<<21&4294967295|j>>>11),j=A+(U^(b|~M))+O[8]+1873313359&4294967295,A=b+(j<<6&4294967295|j>>>26),j=M+(b^(A|~U))+O[15]+4264355552&4294967295,M=A+(j<<10&4294967295|j>>>22),j=U+(A^(M|~b))+O[6]+2734768916&4294967295,U=M+(j<<15&4294967295|j>>>17),j=b+(M^(U|~A))+O[13]+1309151649&4294967295,b=U+(j<<21&4294967295|j>>>11),j=A+(U^(b|~M))+O[4]+4149444226&4294967295,A=b+(j<<6&4294967295|j>>>26),j=M+(b^(A|~U))+O[11]+3174756917&4294967295,M=A+(j<<10&4294967295|j>>>22),j=U+(A^(M|~b))+O[2]+718787259&4294967295,U=M+(j<<15&4294967295|j>>>17),j=b+(M^(U|~A))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+M&4294967295}r.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var b=A-this.blockSize,O=this.B,U=this.h,M=0;M<A;){if(U==0)for(;M<=b;)i(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<A;)if(O[U++]=P.charCodeAt(M++),U==this.blockSize){i(this,O),U=0;break}}else for(;M<A;)if(O[U++]=P[M++],U==this.blockSize){i(this,O),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var b=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=b&255,b/=256;for(this.u(P),P=Array(16),A=b=0;4>A;++A)for(var O=0;32>O;O+=8)P[b++]=this.g[A]>>>O&255;return P};function s(P,A){var b=u;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=A(P)}function a(P,A){this.h=A;for(var b=[],O=!0,U=P.length-1;0<=U;U--){var M=P[U]|0;O&&M==A||(b[U]=M,O=!1)}this.g=b}var u={};function c(P){return-128<=P&&128>P?s(P,function(A){return new a([A|0],0>A?-1:0)}):new a([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return g;if(0>P)return S(h(-P));for(var A=[],b=1,O=0;P>=b;O++)A[O]=P/b|0,b*=4294967296;return new a(A,0)}function p(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return S(p(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(A,8)),O=g,U=0;U<P.length;U+=8){var M=Math.min(8,P.length-U),j=parseInt(P.substring(U,U+M),A);8>M?(M=h(Math.pow(A,M)),O=O.j(M).add(h(j))):(O=O.j(b),O=O.add(h(j)))}return O}var g=c(0),_=c(1),w=c(16777216);n=a.prototype,n.m=function(){if(x(this))return-S(this).m();for(var P=0,A=1,b=0;b<this.g.length;b++){var O=this.i(b);P+=(0<=O?O:4294967296+O)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(x(this))return"-"+S(this).toString(P);for(var A=h(Math.pow(P,6)),b=this,O="";;){var U=F(b,A).g;b=N(b,U.j(A));var M=((0<b.g.length?b.g[0]:b.h)>>>0).toString(P);if(b=U,C(b))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function x(P){return P.h==-1}n.l=function(P){return P=N(this,P),x(P)?-1:C(P)?0:1};function S(P){for(var A=P.g.length,b=[],O=0;O<A;O++)b[O]=~P.g[O];return new a(b,~P.h).add(_)}n.abs=function(){return x(this)?S(this):this},n.add=function(P){for(var A=Math.max(this.g.length,P.g.length),b=[],O=0,U=0;U<=A;U++){var M=O+(this.i(U)&65535)+(P.i(U)&65535),j=(M>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);O=j>>>16,M&=65535,j&=65535,b[U]=j<<16|M}return new a(b,b[b.length-1]&-2147483648?-1:0)};function N(P,A){return P.add(S(A))}n.j=function(P){if(C(this)||C(P))return g;if(x(this))return x(P)?S(this).j(S(P)):S(S(this).j(P));if(x(P))return S(this.j(S(P)));if(0>this.l(w)&&0>P.l(w))return h(this.m()*P.m());for(var A=this.g.length+P.g.length,b=[],O=0;O<2*A;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<P.g.length;U++){var M=this.i(O)>>>16,j=this.i(O)&65535,ne=P.i(U)>>>16,he=P.i(U)&65535;b[2*O+2*U]+=j*he,D(b,2*O+2*U),b[2*O+2*U+1]+=M*he,D(b,2*O+2*U+1),b[2*O+2*U+1]+=j*ne,D(b,2*O+2*U+1),b[2*O+2*U+2]+=M*ne,D(b,2*O+2*U+2)}for(O=0;O<A;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=A;O<2*A;O++)b[O]=0;return new a(b,0)};function D(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function V(P,A){this.g=P,this.h=A}function F(P,A){if(C(A))throw Error("division by zero");if(C(P))return new V(g,g);if(x(P))return A=F(S(P),A),new V(S(A.g),S(A.h));if(x(A))return A=F(P,S(A)),new V(S(A.g),A.h);if(30<P.g.length){if(x(P)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var b=_,O=A;0>=O.l(P);)b=$(b),O=$(O);var U=W(b,1),M=W(O,1);for(O=W(O,2),b=W(b,2);!C(O);){var j=M.add(O);0>=j.l(P)&&(U=U.add(b),M=j),O=W(O,1),b=W(b,1)}return A=N(P,U.j(A)),new V(U,A)}for(U=g;0<=P.l(A);){for(b=Math.max(1,Math.floor(P.m()/A.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=h(b),j=M.j(A);x(j)||0<j.l(P);)b-=O,M=h(b),j=M.j(A);C(M)&&(M=_),U=U.add(M),P=N(P,j)}return new V(U,P)}n.A=function(P){return F(this,P).h},n.and=function(P){for(var A=Math.max(this.g.length,P.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)&P.i(O);return new a(b,this.h&P.h)},n.or=function(P){for(var A=Math.max(this.g.length,P.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)|P.i(O);return new a(b,this.h|P.h)},n.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)^P.i(O);return new a(b,this.h^P.h)};function $(P){for(var A=P.g.length+1,b=[],O=0;O<A;O++)b[O]=P.i(O)<<1|P.i(O-1)>>>31;return new a(b,P.h)}function W(P,A){var b=A>>5;A%=32;for(var O=P.g.length-b,U=[],M=0;M<O;M++)U[M]=0<A?P.i(M+b)>>>A|P.i(M+b+1)<<32-A:P.i(M+b);return new a(U,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rP=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,ol=a}).apply(typeof BS<"u"?BS:typeof self<"u"?self:typeof window<"u"?window:{});var xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iP,bh,sP,tg,K0,oP,aP,lP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,I){return f==Array.prototype||f==Object.prototype||(f[E]=I.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof xm=="object"&&xm];for(var E=0;E<f.length;++E){var I=f[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(f,E){if(E)e:{var I=r;f=f.split(".");for(var L=0;L<f.length-1;L++){var K=f[L];if(!(K in I))break e;I=I[K]}f=f[f.length-1],L=I[f],E=E(L),E!=L&&E!=null&&e(I,f,{configurable:!0,writable:!0,value:E})}}function s(f,E){f instanceof String&&(f+="");var I=0,L=!1,K={next:function(){if(!L&&I<f.length){var Z=I++;return{value:E(Z,f[Z]),done:!1}}return L=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(f){return f||function(){return s(this,function(E,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function h(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function p(f,E,I){return f.call.apply(f.bind,arguments)}function g(f,E,I){if(!f)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,L),f.apply(E,K)}}return function(){return f.apply(E,arguments)}}function _(f,E,I){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function w(f,E){var I=Array.prototype.slice.call(arguments,1);return function(){var L=I.slice();return L.push.apply(L,arguments),f.apply(this,L)}}function C(f,E){function I(){}I.prototype=E.prototype,f.aa=E.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(L,K,Z){for(var fe=Array(arguments.length-2),It=2;It<arguments.length;It++)fe[It-2]=arguments[It];return E.prototype[K].apply(L,fe)}}function x(f){const E=f.length;if(0<E){const I=Array(E);for(let L=0;L<E;L++)I[L]=f[L];return I}return[]}function S(f,E){for(let I=1;I<arguments.length;I++){const L=arguments[I];if(c(L)){const K=f.length||0,Z=L.length||0;f.length=K+Z;for(let fe=0;fe<Z;fe++)f[K+fe]=L[fe]}else f.push(L)}}class N{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function D(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function F(f){return F[" "](f),f}F[" "]=function(){};var $=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function W(f,E,I){for(const L in f)E.call(I,f[L],L,f)}function P(f,E){for(const I in f)E.call(void 0,f[I],I,f)}function A(f){const E={};for(const I in f)E[I]=f[I];return E}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,E){let I,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(I in L)f[I]=L[I];for(let Z=0;Z<b.length;Z++)I=b[Z],Object.prototype.hasOwnProperty.call(L,I)&&(f[I]=L[I])}}function U(f){var E=1;f=f.split(":");const I=[];for(;0<E&&f.length;)I.push(f.shift()),E--;return f.length&&I.push(f.join(":")),I}function M(f){u.setTimeout(()=>{throw f},0)}function j(){var f=oe;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class ne{constructor(){this.h=this.g=null}add(E,I){const L=he.get();L.set(E,I),this.h?this.h.next=L:this.g=L,this.h=L}}var he=new N(()=>new de,f=>f.reset());class de{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let le,te=!1,oe=new ne,B=()=>{const f=u.Promise.resolve(void 0);le=()=>{f.then(q)}};var q=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(I){M(I)}var E=he;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}te=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};u.addEventListener("test",I,E),u.removeEventListener("test",I,E)}catch{}return f}();function Te(f,E){if(me.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,L=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if($){e:{try{F(E.nodeName);var K=!0;break e}catch{}K=!1}K||(E=null)}}else I=="mouseover"?E=f.fromElement:I=="mouseout"&&(E=f.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ae[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Te.aa.h.call(this)}}C(Te,me);var Ae={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Be(f,E,I,L,K){this.listener=f,this.proxy=null,this.src=E,this.type=I,this.capture=!!L,this.ha=K,this.key=++Pe,this.da=this.fa=!1}function Tt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xt(f){this.src=f,this.g={},this.h=0}xt.prototype.add=function(f,E,I,L,K){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var fe=We(f,E,L,K);return-1<fe?(E=f[fe],I||(E.fa=!1)):(E=new Be(E,this.src,Z,!!L,K),E.fa=I,f.push(E)),E};function nn(f,E){var I=E.type;if(I in f.g){var L=f.g[I],K=Array.prototype.indexOf.call(L,E,void 0),Z;(Z=0<=K)&&Array.prototype.splice.call(L,K,1),Z&&(Tt(E),f.g[I].length==0&&(delete f.g[I],f.h--))}}function We(f,E,I,L){for(var K=0;K<f.length;++K){var Z=f[K];if(!Z.da&&Z.listener==E&&Z.capture==!!I&&Z.ha==L)return K}return-1}var _t="closure_lm_"+(1e6*Math.random()|0),rn={};function un(f,E,I,L,K){if(Array.isArray(E)){for(var Z=0;Z<E.length;Z++)un(f,E[Z],I,L,K);return null}return I=Pt(I),f&&f[be]?f.K(E,I,h(L)?!!L.capture:!1,K):J(f,E,I,!1,L,K)}function J(f,E,I,L,K,Z){if(!E)throw Error("Invalid event type");var fe=h(K)?!!K.capture:!!K,It=qn(f);if(It||(f[_t]=It=new xt(f)),I=It.add(E,I,L,fe,Z),I.proxy)return I;if(L=Tn(),I.proxy=L,L.src=f,L.listener=I,f.addEventListener)_e||(K=fe),K===void 0&&(K=!1),f.addEventListener(E.toString(),L,K);else if(f.attachEvent)f.attachEvent(rt(E.toString()),L);else if(f.addListener&&f.removeListener)f.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Tn(){function f(I){return E.call(f.src,f.listener,I)}const E=Wn;return f}function $n(f,E,I,L,K){if(Array.isArray(E))for(var Z=0;Z<E.length;Z++)$n(f,E[Z],I,L,K);else L=h(L)?!!L.capture:!!L,I=Pt(I),f&&f[be]?(f=f.i,E=String(E).toString(),E in f.g&&(Z=f.g[E],I=We(Z,I,L,K),-1<I&&(Tt(Z[I]),Array.prototype.splice.call(Z,I,1),Z.length==0&&(delete f.g[E],f.h--)))):f&&(f=qn(f))&&(E=f.g[E.toString()],f=-1,E&&(f=We(E,I,L,K)),(I=-1<f?E[f]:null)&&Dt(I))}function Dt(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[be])nn(E.i,f);else{var I=f.type,L=f.proxy;E.removeEventListener?E.removeEventListener(I,L,f.capture):E.detachEvent?E.detachEvent(rt(I),L):E.addListener&&E.removeListener&&E.removeListener(L),(I=qn(E))?(nn(I,f),I.h==0&&(I.src=null,E[_t]=null)):Tt(f)}}}function rt(f){return f in rn?rn[f]:rn[f]="on"+f}function Wn(f,E){if(f.da)f=!0;else{E=new Te(E,this);var I=f.listener,L=f.ha||f.src;f.fa&&Dt(f),f=I.call(L,E)}return f}function qn(f){return f=f[_t],f instanceof xt?f:null}var Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(f){return typeof f=="function"?f:(f[Hn]||(f[Hn]=function(E){return f.handleEvent(E)}),f[Hn])}function yt(){ee.call(this),this.i=new xt(this),this.M=this,this.F=null}C(yt,ee),yt.prototype[be]=!0,yt.prototype.removeEventListener=function(f,E,I,L){$n(this,f,E,I,L)};function He(f,E){var I,L=f.F;if(L)for(I=[];L;L=L.F)I.push(L);if(f=f.M,L=E.type||E,typeof E=="string")E=new me(E,f);else if(E instanceof me)E.target=E.target||f;else{var K=E;E=new me(L,f),O(E,K)}if(K=!0,I)for(var Z=I.length-1;0<=Z;Z--){var fe=E.g=I[Z];K=Gt(fe,L,!0,E)&&K}if(fe=E.g=f,K=Gt(fe,L,!0,E)&&K,K=Gt(fe,L,!1,E)&&K,I)for(Z=0;Z<I.length;Z++)fe=E.g=I[Z],K=Gt(fe,L,!1,E)&&K}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var I=f.g[E],L=0;L<I.length;L++)Tt(I[L]);delete f.g[E],f.h--}}this.F=null},yt.prototype.K=function(f,E,I,L){return this.i.add(String(f),E,!1,I,L)},yt.prototype.L=function(f,E,I,L){return this.i.add(String(f),E,!0,I,L)};function Gt(f,E,I,L){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var K=!0,Z=0;Z<E.length;++Z){var fe=E[Z];if(fe&&!fe.da&&fe.capture==I){var It=fe.listener,Mn=fe.ha||fe.src;fe.fa&&nn(f.i,fe),K=It.call(Mn,L)!==!1&&K}}return K&&!L.defaultPrevented}function Gn(f,E,I){if(typeof f=="function")I&&(f=_(f,I));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(f,E||0)}function Kn(f){f.g=Gn(()=>{f.g=null,f.i&&(f.i=!1,Kn(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Ai extends ee{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(f){ee.call(this),this.h=f,this.g={}}C(Rt,ee);var Ys=[];function zr(f){W(f.g,function(E,I){this.g.hasOwnProperty(I)&&Dt(E)},f),f.g={}}Rt.prototype.N=function(){Rt.aa.N.call(this),zr(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zi=u.JSON.stringify,es=u.JSON.parse,si=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function $r(){}$r.prototype.h=null;function Ge(f){return f.h||(f.h=f.i())}function oi(){}var Kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){me.call(this,"d")}C(cn,me);function Qn(){me.call(this,"c")}C(Qn,me);var Yn={},ts=null;function dr(){return ts=ts||new yt}Yn.La="serverreachability";function As(f){me.call(this,Yn.La,f)}C(As,me);function Le(f){const E=dr();He(E,new As(E))}Yn.STAT_EVENT="statevent";function ke(f,E){me.call(this,Yn.STAT_EVENT,f),this.stat=E}C(ke,me);function De(f){const E=dr();He(E,new ke(E,f))}Yn.Ma="timingevent";function pe(f,E){me.call(this,Yn.Ma,f),this.size=E}C(pe,me);function Ne(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},E)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Ve(f,E,I,L,K,Z){f.info(function(){if(f.g)if(Z)for(var fe="",It=Z.split("&"),Mn=0;Mn<It.length;Mn++){var dt=It[Mn].split("=");if(1<dt.length){var er=dt[0];dt=dt[1];var Cn=er.split("_");fe=2<=Cn.length&&Cn[1]=="type"?fe+(er+"="+dt+"&"):fe+(er+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+E+`
`+I+`
`+fe})}function Vt(f,E,I,L,K,Z,fe){f.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+E+`
`+I+`
`+Z+" "+fe})}function ze(f,E,I,L){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+xn(f,I)+(L?" "+L:"")})}function kt(f,E){f.info(function(){return"TIMEOUT: "+E})}Ie.prototype.info=function(){};function xn(f,E){if(!f.g)return E;if(!E)return null;try{var I=JSON.parse(E);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var L=I[f];if(!(2>L.length)){var K=L[1];if(Array.isArray(K)&&!(1>K.length)){var Z=K[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<K.length;fe++)K[fe]=""}}}}return Zi(I)}catch{return E}}var Ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xe;function Ln(){}C(Ln,$r),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Xe=new Ln;function ot(f,E,I,L){this.j=f,this.i=E,this.l=I,this.R=L||1,this.U=new Rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Er={},Qt={};function Yt(f,E,I){f.L=1,f.v=Ca(ki(E)),f.m=I,f.P=!0,dn(f,null)}function dn(f,E){f.F=Date.now(),Qe(f),f.A=ki(f.v);var I=f.A,L=f.R;Array.isArray(L)||(L=[String(L)]),Ia(I.i,"t",L),f.C=0,I=f.j.J,f.h=new Xn,f.g=Sp(f.j,I?E:null,!f.m),0<f.O&&(f.M=new Ai(_(f.Y,f,f.g),f.O)),E=f.U,I=f.g,L=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Ys[0]=K.toString()),K=Ys);for(var Z=0;Z<K.length;Z++){var fe=un(I,K[Z],L||E.handleEvent,!1,E.h||E);if(!fe)break;E.g[fe.key]=fe}E=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Le(),Ve(f.i,f.u,f.A,f.l,f.R,f.m)}ot.prototype.ca=function(f){f=f.target;const E=this.M;E&&li(f)==3?E.j():this.Y(f)},ot.prototype.Y=function(f){try{if(f==this.g)e:{const Cn=li(this.g);var E=this.g.Ba();const ss=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||Ud(this.g)))){this.J||Cn!=4||E==7||(E==8||0>=ss?Le(3):Le(2)),Jn(this);var I=this.g.Z();this.X=I;t:if(ns(this)){var L=Ud(this.g);f="";var K=L.length,Z=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),rs(this);var fe="";break t}this.h.i=new u.TextDecoder}for(E=0;E<K;E++)this.h.h=!0,f+=this.h.i.decode(L[E],{stream:!(Z&&E==K-1)});L.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=I==200,Vt(this.i,this.u,this.A,this.l,this.R,Cn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var It,Mn=this.g;if((It=Mn.g?Mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(It)){var dt=It;break t}}dt=null}if(I=dt)ze(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bs(this,I);else{this.o=!1,this.s=3,De(12),Wr(this),rs(this);break e}}if(this.P){I=!0;let Oi;for(;!this.J&&this.C<fe.length;)if(Oi=wa(this,fe),Oi==Qt){Cn==4&&(this.s=4,De(14),I=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}else if(Oi==Er){this.s=4,De(15),ze(this.i,this.l,fe,"[Invalid Chunk]"),I=!1;break}else ze(this.i,this.l,Oi,null),bs(this,Oi);if(ns(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||fe.length!=0||this.h.h||(this.s=1,De(16),I=!1),this.o=this.o&&I,!I)ze(this.i,this.l,fe,"[Invalid Chunked Response]"),Wr(this),rs(this);else if(0<fe.length&&!this.W){this.W=!0;var er=this.j;er.g==this&&er.ba&&!er.M&&(er.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),zd(er),er.M=!0,De(11))}}else ze(this.i,this.l,fe,null),bs(this,fe);Cn==4&&Wr(this),this.o&&!this.J&&(Cn==4?Zu(this.j,this):(this.o=!1,Qe(this)))}else Ku(this.g),I==400&&0<fe.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),Wr(this),rs(this)}}}catch{}finally{}};function ns(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function wa(f,E){var I=f.C,L=E.indexOf(`
`,I);return L==-1?Qt:(I=Number(E.substring(I,L)),isNaN(I)?Er:(L+=1,L+I>E.length?Qt:(E=E.slice(L,L+I),f.C=L+I,E)))}ot.prototype.cancel=function(){this.J=!0,Wr(this)};function Qe(f){f.S=Date.now()+f.I,Xt(f,f.I)}function Xt(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ne(_(f.ba,f),E)}function Jn(f){f.B&&(u.clearTimeout(f.B),f.B=null)}ot.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(kt(this.i,this.A),this.L!=2&&(Le(),De(17)),Wr(this),this.s=2,rs(this)):Xt(this,this.S-f)};function rs(f){f.j.G==0||f.J||Zu(f.j,f)}function Wr(f){Jn(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,zr(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function bs(f,E){try{var I=f.j;if(I.G!=0&&(I.g==f||Hr(I.h,f))){if(!f.K&&Hr(I.h,f)&&I.G==3){try{var L=I.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)Ju(I),Ds(I);else break e;Xu(I),De(18)}}else I.za=K[1],0<I.za-I.T&&37500>K[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ne(_(I.Za,I),6e3));if(1>=Pi(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Do(I,11)}else if((f.K||I.g==f)&&Ju(I),!D(E))for(K=I.Da.g.parse(E),E=0;E<K.length;E++){let dt=K[E];if(I.T=dt[0],dt=dt[1],I.G==2)if(dt[0]=="c"){I.K=dt[1],I.ia=dt[2];const er=dt[3];er!=null&&(I.la=er,I.j.info("VER="+I.la));const Cn=dt[4];Cn!=null&&(I.Aa=Cn,I.j.info("SVER="+I.Aa));const ss=dt[5];ss!=null&&typeof ss=="number"&&0<ss&&(L=1.5*ss,I.L=L,I.j.info("backChannelRequestTimeoutMs_="+L)),L=I;const Oi=f.g;if(Oi){const $l=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var Z=L.h;Z.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Md(Z,Z.h),Z.h=null))}if(L.D){const tc=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;tc&&(L.ya=tc,Nt(L.I,L.D,tc))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),L=I;var fe=f;if(L.qa=Cp(L,L.J?L.ia:null,L.W),fe.K){hp(L.h,fe);var It=fe,Mn=L.L;Mn&&(It.I=Mn),It.B&&(Jn(It),Qe(It)),L.g=fe}else zl(L);0<I.i.length&&eo(I)}else dt[0]!="stop"&&dt[0]!="close"||Do(I,7);else I.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?Do(I,7):fr(I):dt[0]!="noop"&&I.l&&I.l.ta(dt),I.v=0)}}Le(4)}catch{}}var qr=class{constructor(f,E){this.g=f,this.map=E}};function bi(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Pi(f){return f.h?1:f.g?f.g.size:0}function Hr(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Md(f,E){f.g?f.g.add(E):f.h=E}function hp(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}bi.prototype.cancel=function(){if(this.i=fp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fp(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const I of f.g.values())E=E.concat(I.D);return E}return x(f.i)}function $u(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var E=[],I=f.length,L=0;L<I;L++)E.push(f[L]);return E}E=[],I=0;for(L in f)E[I++]=f[L];return E}function Wu(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var E=[];f=f.length;for(var I=0;I<f;I++)E.push(I);return E}E=[],I=0;for(const L in f)E[I++]=L;return E}}}function Ea(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var I=Wu(f),L=$u(f),K=L.length,Z=0;Z<K;Z++)E.call(void 0,L[Z],I&&I[Z],f)}var Vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cy(f,E){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var L=f[I].indexOf("="),K=null;if(0<=L){var Z=f[I].substring(0,L);K=f[I].substring(L+1)}else Z=f[I];E(Z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Po(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Po){this.h=f.h,Fl(this,f.j),this.o=f.o,this.g=f.g,Ta(this,f.s),this.l=f.l;var E=f.i,I=new Xs;I.i=E.i,E.g&&(I.g=new Map(E.g),I.h=E.h),xa(this,I),this.m=f.m}else f&&(E=String(f).match(Vl))?(this.h=!1,Fl(this,E[1]||"",!0),this.o=at(E[2]||""),this.g=at(E[3]||"",!0),Ta(this,E[4]),this.l=at(E[5]||"",!0),xa(this,E[6]||"",!0),this.m=at(E[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}Po.prototype.toString=function(){var f=[],E=this.j;E&&f.push(Sa(E,qu,!0),":");var I=this.g;return(I||E=="file")&&(f.push("//"),(E=this.o)&&f.push(Sa(E,qu,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(Sa(I,I.charAt(0)=="/"?gp:mp,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",Sa(I,jd)),f.join("")};function ki(f){return new Po(f)}function Fl(f,E,I){f.j=I?at(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Ta(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function xa(f,E,I){E instanceof Xs?(f.i=E,Js(f.i,f.h)):(I||(E=Sa(E,_p)),f.i=new Xs(E,f.h))}function Nt(f,E,I){f.i.set(E,I)}function Ca(f){return Nt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function at(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Sa(f,E,I){return typeof f=="string"?(f=encodeURI(f).replace(E,pp),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function pp(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var qu=/[#\/\?@]/g,mp=/[#\?:]/g,gp=/[#\?]/g,_p=/[#\?@]/g,jd=/#/g;function Xs(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function hr(f){f.g||(f.g=new Map,f.h=0,f.i&&cy(f.i,function(E,I){f.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}n=Xs.prototype,n.add=function(f,E){hr(this),this.i=null,f=is(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(E),this.h+=1,this};function Ps(f,E){hr(f),E=is(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function ks(f,E){return hr(f),E=is(f,E),f.g.has(E)}n.forEach=function(f,E){hr(this),this.g.forEach(function(I,L){I.forEach(function(K){f.call(E,K,L,this)},this)},this)},n.na=function(){hr(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),I=[];for(let L=0;L<E.length;L++){const K=f[L];for(let Z=0;Z<K.length;Z++)I.push(E[L])}return I},n.V=function(f){hr(this);let E=[];if(typeof f=="string")ks(this,f)&&(E=E.concat(this.g.get(is(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)E=E.concat(f[I])}return E},n.set=function(f,E){return hr(this),this.i=null,f=is(this,f),ks(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Ia(f,E,I){Ps(f,E),0<I.length&&(f.i=null,f.g.set(is(f,E),x(I)),f.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var I=0;I<E.length;I++){var L=E[I];const Z=encodeURIComponent(String(L)),fe=this.V(L);for(L=0;L<fe.length;L++){var K=Z;fe[L]!==""&&(K+="="+encodeURIComponent(String(fe[L]))),f.push(K)}}return this.i=f.join("&")};function is(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Js(f,E){E&&!f.j&&(hr(f),f.i=null,f.g.forEach(function(I,L){var K=L.toLowerCase();L!=K&&(Ps(this,L),Ia(this,K,I))},f)),f.j=E}function dy(f,E){const I=new Ie;if(u.Image){const L=new Image;L.onload=w(ai,I,"TestLoadImage: loaded",!0,E,L),L.onerror=w(ai,I,"TestLoadImage: error",!1,E,L),L.onabort=w(ai,I,"TestLoadImage: abort",!1,E,L),L.ontimeout=w(ai,I,"TestLoadImage: timeout",!1,E,L),u.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=f}else E(!1)}function yp(f,E){const I=new Ie,L=new AbortController,K=setTimeout(()=>{L.abort(),ai(I,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:L.signal}).then(Z=>{clearTimeout(K),Z.ok?ai(I,"TestPingServer: ok",!0,E):ai(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(K),ai(I,"TestPingServer: error",!1,E)})}function ai(f,E,I,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(I)}catch{}}function hy(){this.g=new si}function vp(f,E,I){const L=I||"";try{Ea(f,function(K,Z){let fe=K;h(K)&&(fe=Zi(K)),E.push(L+Z+"="+encodeURIComponent(fe))})}catch(K){throw E.push(L+"type="+encodeURIComponent("_badmap")),K}}function ko(f){this.l=f.Ub||null,this.j=f.eb||!1}C(ko,$r),ko.prototype.g=function(){return new Ul(this.l,this.j)},ko.prototype.i=function(f){return function(){return f}}({});function Ul(f,E){yt.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ul,yt),n=Ul.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Os(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wp(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function wp(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Ns(this):Os(this),this.readyState==3&&wp(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ns(this))},n.Qa=function(f){this.g&&(this.response=f,Ns(this))},n.ga=function(){this.g&&Ns(this)};function Ns(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Os(f)}n.setRequestHeader=function(f,E){this.u.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=E.next();return f.join(`\r
`)};function Os(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function No(f){let E="";return W(f,function(I,L){E+=L,E+=":",E+=I,E+=`\r
`}),E}function Ra(f,E,I){e:{for(L in I){var L=!1;break e}L=!0}L||(I=No(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):Nt(f,E,I))}function Jt(f){yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Jt,yt);var fy=/^https?$/i,Vd=["POST","PUT"];n=Jt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,E,I,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xe.g(),this.v=this.o?Ge(this.o):Ge(Xe),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(Z){Bl(this,Z);return}if(f=I||"",I=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)I.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Z of L.keys())I.set(Z,L.get(Z));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(I.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Vd,E,void 0))||L||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of I)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gu(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){Bl(this,Z)}};function Bl(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,Hu(f),Ni(f)}function Hu(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,He(this,"complete"),He(this,"abort"),Ni(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fd(this):this.bb())},n.bb=function(){Fd(this)};function Fd(f){if(f.h&&typeof a<"u"&&(!f.v[1]||li(f)!=4||f.Z()!=2)){if(f.u&&li(f)==4)Gn(f.Ea,0,f);else if(He(f,"readystatechange"),li(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var L;if(L=fe===0){var K=String(f.D).match(Vl)[1]||null;!K&&u.self&&u.self.location&&(K=u.self.location.protocol.slice(0,-1)),L=!fy.test(K?K.toLowerCase():"")}I=L}if(I)He(f,"complete"),He(f,"success");else{f.m=6;try{var Z=2<li(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",Hu(f)}}finally{Ni(f)}}}}function Ni(f,E){if(f.g){Gu(f);const I=f.g,L=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||He(f,"ready");try{I.onreadystatechange=L}catch{}}}function Gu(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function li(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),es(E)}};function Ud(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ku(f){const E={};f=(f.g&&2<=li(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<f.length;L++){if(D(f[L]))continue;var I=U(f[L]);const K=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Z=E[K]||[];E[K]=Z,Z.push(I)}P(E,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(f,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||E}function Bd(f){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,f),this.cb=Zs("retryDelaySeedMs",1e4,f),this.Wa=Zs("forwardChannelMaxRetries",2,f),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(f&&f.concurrentRequestLimit),this.Da=new hy,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bd.prototype,n.la=8,n.G=1,n.connect=function(f,E,I,L){De(0),this.W=f,this.H=E||{},I&&L!==void 0&&(this.H.OSID=I,this.H.OAID=L),this.F=this.X,this.I=Cp(this,null,this.W),eo(this)};function fr(f){if(Qu(f),f.G==3){var E=f.U++,I=ki(f.I);if(Nt(I,"SID",f.K),Nt(I,"RID",E),Nt(I,"TYPE","terminate"),Oo(f,I),E=new ot(f,f.j,E),E.L=2,E.v=Ca(ki(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=E.v,I=!0),I||(E.g=Sp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Qe(E)}xp(f)}function Ds(f){f.g&&(zd(f),f.g.cancel(),f.g=null)}function Qu(f){Ds(f),f.u&&(u.clearTimeout(f.u),f.u=null),Ju(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function eo(f){if(!Zn(f.h)&&!f.s){f.s=!0;var E=f.Ga;le||B(),te||(le(),te=!0),oe.add(E,f),f.B=0}}function py(f,E){return Pi(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ne(_(f.Ga,f,E),Tp(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new ot(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=A(Z),O(Z,this.S)):Z=this.S),this.m!==null||this.O||(K.H=Z,Z=null),this.P)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var L=this.i[I];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=Aa(this,K,E),I=ki(this.I),Nt(I,"RID",f),Nt(I,"CVER",22),this.D&&Nt(I,"X-HTTP-Session-Id",this.D),Oo(this,I),Z&&(this.O?E="headers="+encodeURIComponent(String(No(Z)))+"&"+E:this.m&&Ra(I,this.m,Z)),Md(this.h,K),this.Ua&&Nt(I,"TYPE","init"),this.P?(Nt(I,"$req",E),Nt(I,"SID","null"),K.T=!0,Yt(K,I,null)):Yt(K,I,E),this.G=2}}else this.G==3&&(f?Yu(this,f):this.i.length==0||Zn(this.h)||Yu(this))};function Yu(f,E){var I;E?I=E.l:I=f.U++;const L=ki(f.I);Nt(L,"SID",f.K),Nt(L,"RID",I),Nt(L,"AID",f.T),Oo(f,L),f.m&&f.o&&Ra(L,f.m,f.o),I=new ot(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Aa(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Md(f.h,I),Yt(I,L,E)}function Oo(f,E){f.H&&W(f.H,function(I,L){Nt(E,L,I)}),f.l&&Ea({},function(I,L){Nt(E,L,I)})}function Aa(f,E,I){I=Math.min(f.i.length,I);var L=f.l?_(f.l.Na,f.l,f):null;e:{var K=f.i;let Z=-1;for(;;){const fe=["count="+I];Z==-1?0<I?(Z=K[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let It=!0;for(let Mn=0;Mn<I;Mn++){let dt=K[Mn].g;const er=K[Mn].map;if(dt-=Z,0>dt)Z=Math.max(0,K[Mn].g-100),It=!1;else try{vp(er,fe,"req"+dt+"_")}catch{L&&L(er)}}if(It){L=fe.join("&");break e}}}return f=f.i.splice(0,I),E.D=f,L}function zl(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;le||B(),te||(le(),te=!0),oe.add(E,f),f.v=0}}function Xu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ne(_(f.Fa,f),Tp(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Ep(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ne(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Ds(this),Ep(this))};function zd(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Ep(f){f.g=new ot(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=ki(f.qa);Nt(E,"RID","rpc"),Nt(E,"SID",f.K),Nt(E,"AID",f.T),Nt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Nt(E,"TO",f.ja),Nt(E,"TYPE","xmlhttp"),Oo(f,E),f.m&&f.o&&Ra(E,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=Ca(ki(E)),I.m=null,I.P=!0,dn(I,f)}n.Za=function(){this.C!=null&&(this.C=null,Ds(this),Xu(this),De(19))};function Ju(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Zu(f,E){var I=null;if(f.g==E){Ju(f),zd(f),f.g=null;var L=2}else if(Hr(f.h,E))I=E.D,hp(f.h,E),L=1;else return;if(f.G!=0){if(E.o)if(L==1){I=E.m?E.m.length:0,E=Date.now()-E.F;var K=f.B;L=dr(),He(L,new pe(L,I)),eo(f)}else zl(f);else if(K=E.s,K==3||K==0&&0<E.X||!(L==1&&py(f,E)||L==2&&Xu(f)))switch(I&&0<I.length&&(E=f.h,E.i=E.i.concat(I)),K){case 1:Do(f,5);break;case 4:Do(f,10);break;case 3:Do(f,6);break;default:Do(f,2)}}}function Tp(f,E){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*E}function Do(f,E){if(f.j.info("Error code "+E),E==2){var I=_(f.fb,f),L=f.Xa;const K=!L;L=new Po(L||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Fl(L,"https"),Ca(L),K?dy(L.toString(),I):yp(L.toString(),I)}else De(2);f.G=0,f.l&&f.l.sa(E),xp(f),Qu(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function xp(f){if(f.G=0,f.ka=[],f.l){const E=fp(f.h);(E.length!=0||f.i.length!=0)&&(S(f.ka,E),S(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function Cp(f,E,I){var L=I instanceof Po?ki(I):new Po(I);if(L.g!="")E&&(L.g=E+"."+L.g),Ta(L,L.s);else{var K=u.location;L=K.protocol,E=E?E+"."+K.hostname:K.hostname,K=+K.port;var Z=new Po(null);L&&Fl(Z,L),E&&(Z.g=E),K&&Ta(Z,K),I&&(Z.l=I),L=Z}return I=f.D,E=f.ya,I&&E&&Nt(L,I,E),Nt(L,"VER",f.la),Oo(f,L),L}function Sp(f,E,I){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Jt(new ko({eb:I})):new Jt(f.pa),E.Ha(f.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $d(){}n=$d.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ec(){}ec.prototype.g=function(f,E){return new Gr(f,E)};function Gr(f,E){yt.call(this),this.g=new Bd(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!D(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!D(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new to(this)}C(Gr,yt),Gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gr.prototype.close=function(){fr(this.g)},Gr.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=Zi(f),f=I);E.i.push(new qr(E.Ya++,f)),E.G==3&&eo(E)},Gr.prototype.N=function(){this.g.l=null,delete this.j,fr(this.g),delete this.g,Gr.aa.N.call(this)};function Ip(f){cn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const I in E){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}C(Ip,cn);function Rp(){Qn.call(this),this.status=1}C(Rp,Qn);function to(f){this.g=f}C(to,$d),to.prototype.ua=function(){He(this.g,"a")},to.prototype.ta=function(f){He(this.g,new Ip(f))},to.prototype.sa=function(f){He(this.g,new Rp)},to.prototype.ra=function(){He(this.g,"b")},ec.prototype.createWebChannel=ec.prototype.g,Gr.prototype.send=Gr.prototype.o,Gr.prototype.open=Gr.prototype.m,Gr.prototype.close=Gr.prototype.close,lP=function(){return new ec},aP=function(){return dr()},oP=Yn,K0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ct.NO_ERROR=0,Ct.TIMEOUT=8,Ct.HTTP_ERROR=6,tg=Ct,St.COMPLETE="complete",sP=St,oi.EventType=Kt,Kt.OPEN="a",Kt.CLOSE="b",Kt.ERROR="c",Kt.MESSAGE="d",yt.prototype.listen=yt.prototype.K,bh=oi,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,iP=Jt}).apply(typeof xm<"u"?xm:typeof self<"u"?self:typeof window<"u"?window:{});const zS="@firebase/firestore",$S="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new v_("@firebase/firestore");function Ic(){return _l.logLevel}function a5(n){_l.setLogLevel(n)}function ve(n,...e){if(_l.logLevel<=it.DEBUG){const t=e.map(DE);_l.debug(`Firestore (${Id}): ${n}`,...t)}}function ua(n,...e){if(_l.logLevel<=it.ERROR){const t=e.map(DE);_l.error(`Firestore (${Id}): ${n}`,...t)}}function Zc(n,...e){if(_l.logLevel<=it.WARN){const t=e.map(DE);_l.warn(`Firestore (${Id}): ${n}`,...t)}}function DE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${Id}) INTERNAL ASSERTION FAILED: `+n;throw ua(e),new Error(e)}function Et(n,e){n||Ue()}function Ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Io{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(br.UNAUTHENTICATED))}shutdown(){}}class u5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class c5{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Et(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new na;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new na,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new na)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new uP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new br(e)}}class d5{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class h5{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new d5(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f5{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Dr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Et(this.o===void 0);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new WS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et(typeof t.token=="string"),this.R=t.token,new WS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=p5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function lt(n,e){return n<e?-1:n>e?1:0}function ed(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=-62135596800,HS=1e6;class Bn{static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*HS);return new Bn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qS)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HS}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Bn(0,0))}static max(){return new qe(new Bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="__name__";class oo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(),r===void 0?r=e.length-t:r>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return oo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=oo.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=oo.isNumericId(e),i=oo.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?oo.extractNumericId(e).compare(oo.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ol.fromString(e.substring(4,e.length-2))}}class Wt extends oo{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const m5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends oo{construct(e,t,r){return new _r(e,t,r)}static isValidIdentifier(e){return m5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GS}static keyField(){return new _r([GS])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Wt.fromString(e))}static fromName(e){return new Oe(Wt.fromString(e).popFirst(5))}static empty(){return new Oe(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=-1;function g5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new Bn(t+1,0):new Bn(t,r));return new yl(i,Oe.empty(),e)}function _5(n){return new yl(n.readTime,n.key,yf)}class yl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new yl(qe.min(),Oe.empty(),yf)}static max(){return new yl(qe.max(),Oe.empty(),yf)}}function y5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(n.documentKey,e.documentKey),t!==0?t:lt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==v5)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&t()},c=>r(c))}),a=!0,s===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const h=c;t(e[h]).next(p=>{a[h]=p,++u,u===s&&r(a)},p=>i(p))}})}static doWhile(e,t){return new ie((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function E5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ad(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}I_.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=-1;function R_(n){return n==null}function Pg(n){return n===0&&1/n==-1/0}function T5(n){return typeof n=="number"&&Number.isInteger(n)&&!Pg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="";function x5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KS(e)),e=C5(n.get(t),e);return KS(e)}function C5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case dP:t+="";break;default:t+=s}}return t}function KS(n){return n+dP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class Q0{constructor(e,t){this.comparator=e,this.root=t||al.EMPTY}insert(e,t){return new Q0(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,al.BLACK,null,null))}remove(e){return new Q0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,al.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}},Cm=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},al=class qo{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??qo.RED,this.left=i??qo.EMPTY,this.right=s??qo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new qo(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return qo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}};al.EMPTY=null,al.RED=!0,al.BLACK=!1;al.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,r,i,s){return this}insert(e,t,r){return new al(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YS(this.data.getIterator())}getIteratorFrom(e){return new YS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zn(this.comparator);return t.data=e,t}}class YS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new qi([])}unionWith(e){let t=new zn(_r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fP("Invalid base64 string: "+s):s}}(e);return new wr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new wr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const S5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(n){if(Et(!!n),typeof n=="string"){let e=0;const t=S5.exec(n);if(Et(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(n.seconds),nanos:vn(n.nanos)}}function vn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wl(n){return typeof n=="string"?wr.fromBase64String(n):wr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="server_timestamp",mP="__type__",gP="__previous_value__",_P="__local_write_time__";function ME(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mP])===null||t===void 0?void 0:t.stringValue)===pP}function A_(n){const e=n.mapValue.fields[gP];return ME(e)?A_(e):e}function vf(n){const e=vl(n.mapValue.fields[_P].timestampValue);return new Bn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,t,r,i,s,a,u,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}const kg="(default)";class wf{constructor(e,t){this.projectId=e,this.database=t||kg}static empty(){return new wf("","")}get isDefaultDatabase(){return this.database===kg}isEqual(e){return e instanceof wf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="__type__",R5="__max__",Sm={mapValue:{}},vP="__vector__",Ng="value";function El(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ME(n)?4:b5(n)?9007199254740991:A5(n)?10:11:Ue()}function Co(n,e){if(n===e)return!0;const t=El(n);if(t!==El(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vf(n).isEqual(vf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=vl(i.timestampValue),u=vl(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return wl(i.bytesValue).isEqual(wl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=vn(i.doubleValue),u=vn(s.doubleValue);return a===u?Pg(a)===Pg(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return ed(n.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(QS(a)!==QS(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Co(a[c],u[c])))return!1;return!0}(n,e);default:return Ue()}}function Ef(n,e){return(n.values||[]).find(t=>Co(t,e))!==void 0}function td(n,e){if(n===e)return 0;const t=El(n),r=El(e);if(t!==r)return lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return function(s,a){const u=vn(s.integerValue||s.doubleValue),c=vn(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return XS(n.timestampValue,e.timestampValue);case 4:return XS(vf(n),vf(e));case 5:return lt(n.stringValue,e.stringValue);case 6:return function(s,a){const u=wl(s),c=wl(a);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=lt(u[h],c[h]);if(p!==0)return p}return lt(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const u=lt(vn(s.latitude),vn(a.latitude));return u!==0?u:lt(vn(s.longitude),vn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return JS(n.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,h,p;const g=s.fields||{},_=a.fields||{},w=(u=g[Ng])===null||u===void 0?void 0:u.arrayValue,C=(c=_[Ng])===null||c===void 0?void 0:c.arrayValue,x=lt(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0);return x!==0?x:JS(w,C)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Sm.mapValue&&a===Sm.mapValue)return 0;if(s===Sm.mapValue)return 1;if(a===Sm.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),h=a.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const _=lt(c[g],p[g]);if(_!==0)return _;const w=td(u[c[g]],h[p[g]]);if(w!==0)return w}return lt(c.length,p.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function XS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return lt(n,e);const t=vl(n),r=vl(e),i=lt(t.seconds,r.seconds);return i!==0?i:lt(t.nanos,r.nanos)}function JS(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=td(t[i],r[i]);if(s)return s}return lt(t.length,r.length)}function nd(n){return Y0(n)}function Y0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=vl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return wl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Y0(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Y0(t.fields[a])}`;return i+"}"}(n.mapValue):Ue()}function ng(n){switch(El(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=A_(n);return e?16+ng(e):16;case 5:return 2*n.stringValue.length;case 6:return wl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ng(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Nl(r.fields,(s,a)=>{i+=s.length+ng(a)}),i}(n.mapValue);default:throw Ue()}}function ZS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function X0(n){return!!n&&"integerValue"in n}function jE(n){return!!n&&"arrayValue"in n}function eI(n){return!!n&&"nullValue"in n}function tI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rg(n){return!!n&&"mapValue"in n}function A5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[yP])===null||t===void 0?void 0:t.stringValue)===vP}function Bh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function b5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===R5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(t)}setAll(e){let t=_r.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}a?r[u.lastSegment()]=Bh(a):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());rg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Nl(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _i(Bh(this.value))}}function wP(n){const e=[];return Nl(n.fields,(t,r)=>{const i=new _r([t]);if(rg(r)){const s=wP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,t,r,i,s,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new kr(e,0,qe.min(),qe.min(),qe.min(),_i.empty(),0)}static newFoundDocument(e,t,r,i){return new kr(e,1,t,qe.min(),r,i,0)}static newNoDocument(e,t){return new kr(e,2,t,qe.min(),qe.min(),_i.empty(),0)}static newUnknownDocument(e,t){return new kr(e,3,t,qe.min(),qe.min(),_i.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this.position=e,this.inclusive=t}}function nI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=Oe.comparator(Oe.fromName(a.referenceValue),t.key):r=td(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Co(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function P5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{}class Pn extends EP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new N5(e,t,r):t==="array-contains"?new L5(e,r):t==="in"?new M5(e,r):t==="not-in"?new j5(e,r):t==="array-contains-any"?new V5(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new O5(e,r):new D5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(td(t,this.value)):t!==null&&El(this.value)===El(t)&&this.matchesComparison(td(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gs extends EP{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Gs(e,t)}matches(e){return TP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function TP(n){return n.op==="and"}function xP(n){return k5(n)&&TP(n)}function k5(n){for(const e of n.filters)if(e instanceof Gs)return!1;return!0}function J0(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+nd(n.value);if(xP(n))return n.filters.map(e=>J0(e)).join(",");{const e=n.filters.map(t=>J0(t)).join(",");return`${n.op}(${e})`}}function CP(n,e){return n instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.field.isEqual(i.field)&&Co(r.value,i.value)}(n,e):n instanceof Gs?function(r,i){return i instanceof Gs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&CP(a,i.filters[u]),!0):!1}(n,e):void Ue()}function SP(n){return n instanceof Pn?function(t){return`${t.field.canonicalString()} ${t.op} ${nd(t.value)}`}(n):n instanceof Gs?function(t){return t.op.toString()+" {"+t.getFilters().map(SP).join(" ,")+"}"}(n):"Filter"}class N5 extends Pn{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class O5 extends Pn{constructor(e,t){super(e,"in",t),this.keys=IP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class D5 extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=IP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function IP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class L5 extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jE(t)&&Ef(t.arrayValue,this.value)}}class M5 extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ef(this.value.arrayValue,t)}}class j5 extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ef(this.value.arrayValue,t)}}class V5 extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ef(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,t=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.le=null}}function iI(n,e=null,t=[],r=[],i=null,s=null,a=null){return new F5(n,e,t,r,i,s,a)}function VE(n){const e=Ke(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>J0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),R_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nd(r)).join(",")),e.le=t}return e.le}function FE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rI(n.startAt,e.startAt)&&rI(n.endAt,e.endAt)}function Z0(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function U5(n,e,t,r,i,s,a,u){return new bd(n,e,t,r,i,s,a,u)}function b_(n){return new bd(n)}function sI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RP(n){return n.collectionGroup!==null}function zh(n){const e=Ke(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new zn(_r.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Tf(s,r))}),t.has(_r.keyField().canonicalString())||e.he.push(new Tf(_r.keyField(),r))}return e.he}function yo(n){const e=Ke(n);return e.Pe||(e.Pe=B5(e,zh(n))),e.Pe}function B5(n,e){if(n.limitType==="F")return iI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tf(i.field,s)});const t=n.endAt?new Og(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Og(n.startAt.position,n.startAt.inclusive):null;return iI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ew(n,e){const t=n.filters.concat([e]);return new bd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tw(n,e,t){return new bd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function P_(n,e){return FE(yo(n),yo(e))&&n.limitType===e.limitType}function AP(n){return`${VE(yo(n))}|lt:${n.limitType}`}function Rc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>SP(i)).join(", ")}]`),R_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>nd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>nd(i)).join(",")),`Target(${r})`}(yo(n))}; limitType=${n.limitType})`}function k_(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of zh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const h=nI(a,u,c);return a.inclusive?h<=0:h<0}(r.startAt,zh(r),i)||r.endAt&&!function(a,u,c){const h=nI(a,u,c);return a.inclusive?h>=0:h>0}(r.endAt,zh(r),i))}(n,e)}function z5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bP(n){return(e,t)=>{let r=!1;for(const i of zh(n)){const s=$5(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $5(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(s,a,u){const c=a.data.field(s),h=u.data.field(s);return c!==null&&h!==null?td(c,h):Ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new On(Oe.comparator);function ca(){return W5}const PP=new On(Oe.comparator);function Ph(...n){let e=PP;for(const t of n)e=e.insert(t.key,t);return e}function kP(n){let e=PP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function cu(){return $h()}function NP(){return $h()}function $h(){return new ju(n=>n.toString(),(n,e)=>n.isEqual(e))}const q5=new On(Oe.comparator),H5=new zn(Oe.comparator);function st(...n){let e=H5;for(const t of n)e=e.add(t);return e}const G5=new zn(lt);function K5(){return G5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pg(e)?"-0":e}}function OP(n){return{integerValue:""+n}}function Q5(n,e){return T5(e)?OP(e):UE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this._=void 0}}function Y5(n,e,t){return n instanceof xf?function(i,s){const a={fields:{[mP]:{stringValue:pP},[_P]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ME(s)&&(s=A_(s)),s&&(a.fields[gP]=s),{mapValue:a}}(t,e):n instanceof Cf?LP(n,e):n instanceof Sf?MP(n,e):function(i,s){const a=DP(i,s),u=oI(a)+oI(i.Ie);return X0(a)&&X0(i.Ie)?OP(u):UE(i.serializer,u)}(n,e)}function X5(n,e,t){return n instanceof Cf?LP(n,e):n instanceof Sf?MP(n,e):t}function DP(n,e){return n instanceof Dg?function(r){return X0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class xf extends N_{}class Cf extends N_{constructor(e){super(),this.elements=e}}function LP(n,e){const t=jP(e);for(const r of n.elements)t.some(i=>Co(i,r))||t.push(r);return{arrayValue:{values:t}}}class Sf extends N_{constructor(e){super(),this.elements=e}}function MP(n,e){let t=jP(e);for(const r of n.elements)t=t.filter(i=>!Co(i,r));return{arrayValue:{values:t}}}class Dg extends N_{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function oI(n){return vn(n.integerValue||n.doubleValue)}function jP(n){return jE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,t){this.field=e,this.transform=t}}function Z5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Cf&&i instanceof Cf||r instanceof Sf&&i instanceof Sf?ed(r.elements,i.elements,Co):r instanceof Dg&&i instanceof Dg?Co(r.Ie,i.Ie):r instanceof xf&&i instanceof xf}(n.transform,e.transform)}class eU{constructor(e,t){this.version=e,this.transformResults=t}}class Ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ig(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class O_{}function VP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new BE(n.key,Ts.none()):new Qf(n.key,n.data,Ts.none());{const t=n.data,r=_i.empty();let i=new zn(_r.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ol(n.key,r,new qi(i.toArray()),Ts.none())}}function tU(n,e,t){n instanceof Qf?function(i,s,a){const u=i.value.clone(),c=lI(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ol?function(i,s,a){if(!ig(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=lI(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(FP(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Wh(n,e,t,r){return n instanceof Qf?function(s,a,u,c){if(!ig(s.precondition,a))return u;const h=s.value.clone(),p=uI(s.fieldTransforms,c,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ol?function(s,a,u,c){if(!ig(s.precondition,a))return u;const h=uI(s.fieldTransforms,c,a),p=a.data;return p.setAll(FP(s)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,a,u){return ig(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(n,e,t)}function nU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=DP(r.transform,i||null);s!=null&&(t===null&&(t=_i.empty()),t.set(r.field,s))}return t||null}function aI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ed(r,i,(s,a)=>Z5(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qf extends O_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ol extends O_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function FP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lI(n,e,t){const r=new Map;Et(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,X5(a,u,t[i]))}return r}function uI(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,Y5(s,a,e))}return r}class BE extends O_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rU extends O_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tU(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=NP();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=t.has(i.key)?null:u;const c=VP(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(t,r)=>aI(t,r))&&ed(this.baseMutations,e.baseMutations,(t,r)=>aI(t,r))}}class zE{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Et(e.mutations.length===r.length);let i=function(){return q5}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new zE(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,ht;function aU(n){switch(n){case re.OK:return Ue();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ue()}}function UP(n){if(n===void 0)return ua("GRPC error has no .code"),re.UNKNOWN;switch(n){case In.OK:return re.OK;case In.CANCELLED:return re.CANCELLED;case In.UNKNOWN:return re.UNKNOWN;case In.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case In.INTERNAL:return re.INTERNAL;case In.UNAVAILABLE:return re.UNAVAILABLE;case In.UNAUTHENTICATED:return re.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case In.NOT_FOUND:return re.NOT_FOUND;case In.ALREADY_EXISTS:return re.ALREADY_EXISTS;case In.PERMISSION_DENIED:return re.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case In.ABORTED:return re.ABORTED;case In.OUT_OF_RANGE:return re.OUT_OF_RANGE;case In.UNIMPLEMENTED:return re.UNIMPLEMENTED;case In.DATA_LOSS:return re.DATA_LOSS;default:return Ue()}}(ht=In||(In={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new ol([4294967295,4294967295],0);function cI(n){const e=lU().encode(n),t=new rP;return t.update(e),new Uint8Array(t.digest())}function dI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ol([t,r],0),new ol([i,s],0)]}class $E{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kh(`Invalid padding: ${t}`);if(r<0)throw new kh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new kh(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ol.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(ol.fromNumber(r)));return i.compare(uU)===1&&(i=new ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=cI(e),[r,i]=dI(t);for(let s=0;s<this.hashCount;s++){const a=this.Ae(r,i,s);if(!this.Re(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new $E(s,i,t);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ee===0)return;const t=cI(e),[r,i]=dI(t);for(let s=0;s<this.hashCount;s++){const a=this.Ae(r,i,s);this.Ve(a)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class kh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new D_(qe.min(),i,new On(lt),ca(),st())}}class Yf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yf(r,t,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class BP{constructor(e,t){this.targetId=e,this.ge=t}}class zP{constructor(e,t,r=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class hI{constructor(){this.pe=0,this.ye=fI(),this.we=wr.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=st(),t=st(),r=st();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new Yf(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=fI()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Et(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class cU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ca(),this.$e=Im(),this.Ke=Im(),this.Ue=new On(lt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(Z0(s))if(r===0){const a=new Oe(s.path);this.ze(t,a,kr.newNoDocument(a,qe.min()))}else Et(r===1);else{const a=this.et(t);if(a!==r){const u=this.tt(e),c=u?this.nt(u,e,a):1;if(c!==0){this.Ye(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,u;try{a=wl(r).toUint8Array()}catch(c){if(c instanceof fP)return Zc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new $E(a,i,s)}catch(c){return Zc(c instanceof kh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.ke.it(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,a)=>{const u=this.Xe(a);if(u){if(s.current&&Z0(u.target)){const c=new Oe(u.target.path);this._t(c).has(a)||this.ut(a,c)||this.ze(a,c,kr.newNoDocument(c,e))}s.ve&&(t.set(a,s.Fe()),s.Me())}});let r=st();this.Ke.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const h=this.Xe(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,a)=>a.setReadTime(e));const i=new D_(e,t,this.Ue,this.Qe,r);return this.Qe=ca(),this.$e=Im(),this.Ke=Im(),this.Ue=new On(lt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new hI,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new zn(lt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new zn(lt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new hI),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Im(){return new On(Oe.comparator)}function fI(){return new On(Oe.comparator)}const dU={asc:"ASCENDING",desc:"DESCENDING"},hU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fU={and:"AND",or:"OR"};class pU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nw(n,e){return n.useProto3Json||R_(e)?e:{value:e}}function Lg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $P(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mU(n,e){return Lg(n,e.toTimestamp())}function vo(n){return Et(!!n),qe.fromTimestamp(function(t){const r=vl(t);return new Bn(r.seconds,r.nanos)}(n))}function WE(n,e){return rw(n,e).canonicalString()}function rw(n,e){const t=function(i){return new Wt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function WP(n){const e=Wt.fromString(n);return Et(QP(e)),e}function iw(n,e){return WE(n.databaseId,e.path)}function Kv(n,e){const t=WP(e);if(t.get(1)!==n.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(HP(t))}function qP(n,e){return WE(n.databaseId,e)}function gU(n){const e=WP(n);return e.length===4?Wt.emptyPath():HP(e)}function sw(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HP(n){return Et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function pI(n,e,t){return{name:iw(n,e),fields:t.value.mapValue.fields}}function _U(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(Et(p===void 0||typeof p=="string"),wr.fromBase64String(p||"")):(Et(p===void 0||p instanceof Buffer||p instanceof Uint8Array),wr.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(h){const p=h.code===void 0?re.UNKNOWN:UP(h.code);return new we(p,h.message||"")}(a);t=new zP(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kv(n,r.document.name),s=vo(r.document.updateTime),a=r.document.createTime?vo(r.document.createTime):qe.min(),u=new _i({mapValue:{fields:r.document.fields}}),c=kr.newFoundDocument(i,s,a,u),h=r.targetIds||[],p=r.removedTargetIds||[];t=new sg(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kv(n,r.document),s=r.readTime?vo(r.readTime):qe.min(),a=kr.newNoDocument(i,s),u=r.removedTargetIds||[];t=new sg([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kv(n,r.document),s=r.removedTargetIds||[];t=new sg([],s,i,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new oU(i,s),u=r.targetId;t=new BP(u,a)}}return t}function yU(n,e){let t;if(e instanceof Qf)t={update:pI(n,e.key,e.value)};else if(e instanceof BE)t={delete:iw(n,e.key)};else if(e instanceof Ol)t={update:pI(n,e.key,e.data),updateMask:RU(e.fieldMask)};else{if(!(e instanceof rU))return Ue();t={verify:iw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof xf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Sf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dg)return{fieldPath:a.field.canonicalString(),increment:u.Ie};throw Ue()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ue()}(n,e.precondition)),t}function vU(n,e){return n&&n.length>0?(Et(e!==void 0),n.map(t=>function(i,s){let a=i.updateTime?vo(i.updateTime):vo(s);return a.isEqual(qe.min())&&(a=vo(s)),new eU(a,i.transformResults||[])}(t,e))):[]}function wU(n,e){return{documents:[qP(n,e.path)]}}function EU(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=qP(n,i);const s=function(h){if(h.length!==0)return KP(Gs.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(p=>function(_){return{field:Ac(_.field),direction:CU(_.dir)}}(p))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=nw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function TU(n){let e=gU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Et(r===1);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(g){const _=GP(g);return _ instanceof Gs&&xP(_)?_.getFilters():[_]}(t.where));let a=[];t.orderBy&&(a=function(g){return g.map(_=>function(C){return new Tf(bc(C.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,R_(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(g){const _=!!g.before,w=g.values||[];return new Og(w,_)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const _=!g.before,w=g.values||[];return new Og(w,_)}(t.endAt)),U5(e,i,a,s,u,"F",c,h)}function xU(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=bc(t.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bc(t.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bc(t.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=bc(t.unaryFilter.field);return Pn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Pn.create(bc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gs.create(t.compositeFilter.filters.map(r=>GP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function CU(n){return dU[n]}function SU(n){return hU[n]}function IU(n){return fU[n]}function Ac(n){return{fieldPath:n.canonicalString()}}function bc(n){return _r.fromServerFormat(n.fieldPath)}function KP(n){return n instanceof Pn?function(t){if(t.op==="=="){if(tI(t.value))return{unaryFilter:{field:Ac(t.field),op:"IS_NAN"}};if(eI(t.value))return{unaryFilter:{field:Ac(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tI(t.value))return{unaryFilter:{field:Ac(t.field),op:"IS_NOT_NAN"}};if(eI(t.value))return{unaryFilter:{field:Ac(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(t.field),op:SU(t.op),value:t.value}}}(n):n instanceof Gs?function(t){const r=t.getFilters().map(i=>KP(i));return r.length===1?r[0]:{compositeFilter:{op:IU(t.op),filters:r}}}(n):Ue()}function RU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function QP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,r,i,s=qe.min(),a=qe.min(),u=wr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.Tt=e}}function bU(n){const e=TU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.Tn=new kU}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(yl.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(yl.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class kU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new zn(Wt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YP=41943040;class gi{static withCacheSize(e){return new gi(e,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi.DEFAULT_COLLECTION_PERCENTILE=10,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gi.DEFAULT=new gi(YP,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gi.DISABLED=new gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new rd(0)}static Un(){return new rd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="LruGarbageCollector",NU=1048576;function _I([n,e],[t,r]){const i=lt(n,t);return i===0?lt(e,r):i}class OU{constructor(e){this.Hn=e,this.buffer=new zn(_I),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_I(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ve(gI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ad(t)?ve(gI,"Ignoring IndexedDB error during garbage collection: ",t):await Rd(t)}await this.er(3e5)})}}class LU{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(I_.ae);const r=new OU(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(mI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mI):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,a,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Ic()<=it.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function MU(n,e){return new LU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.changes=new ju(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Wh(r.mutation,i,qi.empty(),Bn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,t,r=st()){const i=cu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=Ph();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=cu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,st()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{t.set(a,u)})})}computeViews(e,t,r,i){let s=ca();const a=$h(),u=function(){return $h()}();return t.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ol)?s=s.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),Wh(p.mutation,h,p.mutation.getFieldMask(),Bn.now())):a.set(h.key,qi.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,p)=>a.set(h,p)),t.forEach((h,p)=>{var g;return u.set(h,new VU(p,(g=a.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=$h();let i=new On((a,u)=>a-u),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const u of a)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let p=r.get(c)||qi.empty();p=u.applyToLocalView(h,p),r.set(c,p);const g=(i.get(u.batchId)||st()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,g=NP();p.forEach(_=>{if(!s.has(_)){const w=VP(t.get(_),r.get(_));w!==null&&g.set(_,w),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ie.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return Oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ie.resolve(cu());let u=yf,c=s;return a.next(h=>ie.forEach(h,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?ie.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{c=c.insert(p,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,st())).next(p=>({batchId:u,changes:kP(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let i=Ph();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=Ph();return this.indexManager.getCollectionParents(e,s).next(u=>ie.forEach(u,c=>{const h=function(g,_){return new bd(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,_)=>{a=a.insert(g,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((c,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,kr.newInvalidDocument(p)))});let u=Ph();return a.forEach((c,h)=>{const p=s.get(c);p!==void 0&&Wh(p.mutation,h,qi.empty(),Bn.now()),k_(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:vo(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:bU(i.bundledQuery),readTime:vo(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.overlays=new On(Oe.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=cu();return ie.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=cu(),s=t.length+1,a=new Oe(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new On((h,p)=>h-p);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=cu(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=cu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return ie.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new sU(t,r));let s=this.Rr.get(t);s===void 0&&(s=st(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.sessionToken=wr.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.Vr=new zn(ar.mr),this.gr=new zn(ar.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new ar(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new ar(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Oe(new Wt([])),r=new ar(t,e),i=new ar(t,e+1),s=[];return this.gr.forEachInRange([r,i],a=>{this.wr(a),s.push(a.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Oe(new Wt([])),r=new ar(t,e),i=new ar(t,e+1);let s=st();return this.gr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new ar(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ar{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Oe.comparator(e.key,t.key)||lt(e.Cr,t.Cr)}static pr(e,t){return lt(e.Cr,t.Cr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new zn(ar.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iU(s,t,r,i);this.mutationQueue.push(a);for(const u of i)this.Mr=this.Mr.add(new ar(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ie.resolve(a)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?LE:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ar(t,0),i=new ar(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],a=>{const u=this.Or(a.Cr);s.push(u)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zn(lt);return t.forEach(i=>{const s=new ar(i,0),a=new ar(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,a],u=>{r=r.add(u.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Oe.isDocumentKey(s)||(s=s.child(""));const a=new ar(new Oe(s),0);let u=new zn(lt);return this.Mr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Cr)),!0)},a),ie.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,i=>{const s=new ar(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new ar(t,0),i=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.kr=e,this.docs=function(){return new On(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():kr.newInvalidDocument(t))}getEntries(e,t){let r=ca();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kr.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ca();const a=t.path,u=new Oe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||y5(_5(p),r)<=0||(i.has(p.key)||k_(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ue()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qU(this)}getSize(e){return ie.resolve(this.size)}}class qU extends jU{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.persistence=e,this.Qr=new ju(t=>VE(t),FE),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new qE,this.targetCount=0,this.Ur=rd.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new rd(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((a,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new I_(0),this.zr=!1,this.zr=!0,this.jr=new zU,this.referenceDelegate=e(this),this.Hr=new HU(this),this.indexManager=new PU,this.remoteDocumentCache=function(i){return new WU(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new AU(t),this.Yr=new UU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new $U(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const i=new GU(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class GU extends w5{constructor(e){super(),this.currentSequenceNumber=e}}class HE{constructor(e){this.persistence=e,this.ti=new qE,this.ni=null}static ri(e){return new HE(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const i=Oe.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,qe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Mg{constructor(e,t){this.persistence=e,this.oi=new ju(r=>x5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=MU(this,t)}static ri(e,t){return new Mg(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,a=>this.ar(e,a,t).next(u=>{u||(r++,s.removeEntry(a,qe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ng(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=st(),i=st();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new GE(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return m3()?8:E5(Br())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new KU;return this._s(e,t,a).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,a,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Ic()<=it.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Rc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Ic()<=it.DEBUG&&ve("QueryEngine","Query:",Rc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ic()<=it.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Rc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yo(t))):ie.resolve())}rs(e,t){if(sI(t))return ie.resolve(null);let r=yo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=tw(t,null,"F"),r=yo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=st(...s);return this.ns.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.cs(t,u);return this.ls(t,h,a,c.readTime)?this.rs(e,tw(t,null,"F")):this.hs(e,h,t,c)}))})))}ss(e,t,r,i){return sI(t)||i.isEqual(qe.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(s=>{const a=this.cs(t,s);return this.ls(t,a,r,i)?ie.resolve(null):(Ic()<=it.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rc(t)),this.hs(e,a,t,g5(i,yf)).next(u=>u))})}cs(e,t){let r=new zn(bP(e));return t.forEach((i,s)=>{k_(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return Ic()<=it.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Rc(t)),this.ns.getDocumentsMatchingQuery(e,t,yl.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="LocalStore",YU=3e8;class XU{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new On(lt),this.Is=new ju(s=>VE(s),FE),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function JU(n,e,t,r){return new XU(n,e,t,r)}async function JP(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=st();for(const h of i){a.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(h=>({Rs:h,removedBatchIds:a,addedBatchIds:u}))})})}function ZU(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const g=h.batch,_=g.keys();let w=ie.resolve();return _.forEach(C=>{w=w.next(()=>p.getEntry(c,C)).next(x=>{const S=h.docVersions.get(C);Et(S!==null),x.version.compareTo(S)<0&&(g.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),p.addEntry(x)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=st();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ZP(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function e6(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((p,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,p.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(s,p.addedDocuments,g)));let w=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(wr.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(g,w),function(x,S,N){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=YU?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,w,p)&&u.push(t.Hr.updateTargetData(s,w))});let c=ca(),h=st();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(t6(s,a,e.documentUpdates).next(p=>{c=p.Vs,h=p.fs})),!r.isEqual(qe.min())){const p=t.Hr.getLastRemoteSnapshotVersion(s).next(g=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return ie.waitFor(u).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(t.Ts=i,s))}function t6(n,e,t){let r=st(),i=st();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=ca();return t.forEach((u,c)=>{const h=s.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(qe.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):ve(KE,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{Vs:a,fs:i}})}function n6(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=LE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r6(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,ie.resolve(i)):t.Hr.allocateTargetId(r).next(a=>(i=new Xa(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function ow(n,e,t){const r=Ke(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ad(a))throw a;ve(KE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function yI(n,e,t){const r=Ke(n);let i=qe.min(),s=st();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,p){const g=Ke(c),_=g.Is.get(p);return _!==void 0?ie.resolve(g.Ts.get(_)):g.Hr.getTargetData(h,p)}(r,a,yo(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(a,e,t?i:qe.min(),t?s:st())).next(u=>(i6(r,z5(e),u),{documents:u,gs:s})))}function i6(n,e,t){let r=n.Es.get(e)||qe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class vI{constructor(){this.activeTargetIds=K5()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s6{constructor(){this.ho=new vI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new vI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="ConnectivityMonitor";class EI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ve(wI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ve(wI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm=null;function aw(){return Rm===null?Rm=function(){return 268435456+Math.round(2147483648*Math.random())}():Rm++,"0x"+Rm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="RestConnection",a6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===kg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const a=aw(),u=this.So(e,t.toUriEncodedString());ve(Qv,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,u,c,r).then(h=>(ve(Qv,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Zc(Qv,`RPC '${e}' ${a} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,a){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Id}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=a6[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class c6 extends l6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=aw();return new Promise((a,u)=>{const c=new iP;c.setWithCredentials(!0),c.listenOnce(sP.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case tg.NO_ERROR:const p=c.getResponseJson();ve(Ir,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case tg.TIMEOUT:ve(Ir,`RPC '${e}' ${s} timed out`),u(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const g=c.getStatus();if(ve(Ir,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const C=function(S){const N=S.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(N)>=0?N:re.UNKNOWN}(w.status);u(new we(C,w.message))}else u(new we(re.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new we(re.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{ve(Ir,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ve(Ir,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=aw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lP(),u=aP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=s.join("");ve(Ir,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=a.createWebChannel(p,c);let _=!1,w=!1;const C=new u6({Fo:S=>{w?ve(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(_||(ve(Ir,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ve(Ir,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Mo:()=>g.close()}),x=(S,N,D)=>{S.listen(N,V=>{try{D(V)}catch(F){setTimeout(()=>{throw F},0)}})};return x(g,bh.EventType.OPEN,()=>{w||(ve(Ir,`RPC '${e}' stream ${i} transport opened.`),C.Qo())}),x(g,bh.EventType.CLOSE,()=>{w||(w=!0,ve(Ir,`RPC '${e}' stream ${i} transport closed`),C.Ko())}),x(g,bh.EventType.ERROR,S=>{w||(w=!0,Zc(Ir,`RPC '${e}' stream ${i} transport errored:`,S),C.Ko(new we(re.UNAVAILABLE,"The operation could not be completed")))}),x(g,bh.EventType.MESSAGE,S=>{var N;if(!w){const D=S.data[0];Et(!!D);const V=D,F=(V==null?void 0:V.error)||((N=V[0])===null||N===void 0?void 0:N.error);if(F){ve(Ir,`RPC '${e}' stream ${i} received error:`,F);const $=F.status;let W=function(b){const O=In[b];if(O!==void 0)return UP(O)}($),P=F.message;W===void 0&&(W=re.INTERNAL,P="Unknown error status: "+$+" with message "+F.message),w=!0,C.Ko(new we(W,P)),g.close()}else ve(Ir,`RPC '${e}' stream ${i} received:`,D),C.Uo(D)}}),x(u,oP.STAT_EVENT,S=>{S.stat===K0.PROXY?ve(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===K0.NOPROXY&&ve(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function Yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){return new pU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="PersistentStream";class tk{constructor(e,t,r,i,s,a,u,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ek(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ua(t.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ve(TI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ve(TI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d6 extends tk{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=_U(this.serializer,e),r=function(s){if(!("targetChange"in s))return qe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?qe.min():a.readTime?vo(a.readTime):qe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=sw(this.serializer),t.addTarget=function(s,a){let u;const c=a.target;if(u=Z0(c)?{documents:wU(s,c)}:{query:EU(s,c).ht},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=$P(s,a.resumeToken);const h=nw(s,a.expectedCount);h!==null&&(u.expectedCount=h)}else if(a.snapshotVersion.compareTo(qe.min())>0){u.readTime=Lg(s,a.snapshotVersion.toTimestamp());const h=nw(s,a.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=xU(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=sw(this.serializer),t.removeTarget=e,this.I_(t)}}class h6 extends tk{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=vU(e.writeResults,e.commitTime),r=vo(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=sw(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>yU(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{}class p6 extends f6{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.bo(e,rw(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(re.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Co(e,rw(t,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(re.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class m6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ua(t),this.N_=!1):ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="RemoteStore";class g6{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(a=>{r.enqueueAndForget(async()=>{Vu(this)&&(ve(Iu,"Restarting streams for network reachability change."),await async function(c){const h=Ke(c);h.W_.add(4),await Xf(h),h.j_.set("Unknown"),h.W_.delete(4),await M_(h)}(this))})}),this.j_=new m6(r,i)}}async function M_(n){if(Vu(n))for(const e of n.G_)await e(!0)}async function Xf(n){for(const e of n.G_)await e(!1)}function nk(n,e){const t=Ke(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),JE(t)?XE(t):Pd(t).c_()&&YE(t,e))}function QE(n,e){const t=Ke(n),r=Pd(t);t.U_.delete(e),r.c_()&&rk(t,e),t.U_.size===0&&(r.c_()?r.P_():Vu(t)&&t.j_.set("Unknown"))}function YE(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pd(n).y_(e)}function rk(n,e){n.H_.Ne(e),Pd(n).w_(e)}function XE(n){n.H_=new cU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Pd(n).start(),n.j_.B_()}function JE(n){return Vu(n)&&!Pd(n).u_()&&n.U_.size>0}function Vu(n){return Ke(n).W_.size===0}function ik(n){n.H_=void 0}async function _6(n){n.j_.set("Online")}async function y6(n){n.U_.forEach((e,t)=>{YE(n,e)})}async function v6(n,e){ik(n),JE(n)?(n.j_.q_(e),XE(n)):n.j_.set("Unknown")}async function w6(n,e,t){if(n.j_.set("Online"),e instanceof zP&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ve(Iu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jg(n,r)}else if(e instanceof sg?n.H_.We(e):e instanceof BP?n.H_.Ze(e):n.H_.je(e),!t.isEqual(qe.min()))try{const r=await ZP(n.localStore);t.compareTo(r)>=0&&await function(s,a){const u=s.H_.ot(a);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.U_.get(h);p&&s.U_.set(h,p.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,h)=>{const p=s.U_.get(c);if(!p)return;s.U_.set(c,p.withResumeToken(wr.EMPTY_BYTE_STRING,p.snapshotVersion)),rk(s,c);const g=new Xa(p.target,c,h,p.sequenceNumber);YE(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ve(Iu,"Failed to raise snapshot:",r),await jg(n,r)}}async function jg(n,e,t){if(!Ad(e))throw e;n.W_.add(1),await Xf(n),n.j_.set("Offline"),t||(t=()=>ZP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(Iu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await M_(n)})}function sk(n,e){return e().catch(t=>jg(n,t,e))}async function j_(n){const e=Ke(n),t=Tl(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:LE;for(;E6(e);)try{const i=await n6(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,T6(e,i)}catch(i){await jg(e,i)}ok(e)&&ak(e)}function E6(n){return Vu(n)&&n.K_.length<10}function T6(n,e){n.K_.push(e);const t=Tl(n);t.c_()&&t.b_&&t.S_(e.mutations)}function ok(n){return Vu(n)&&!Tl(n).u_()&&n.K_.length>0}function ak(n){Tl(n).start()}async function x6(n){Tl(n).C_()}async function C6(n){const e=Tl(n);for(const t of n.K_)e.S_(t.mutations)}async function S6(n,e,t){const r=n.K_.shift(),i=zE.from(r,e,t);await sk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await j_(n)}async function I6(n,e){e&&Tl(n).b_&&await async function(r,i){if(function(a){return aU(a)&&a!==re.ABORTED}(i.code)){const s=r.K_.shift();Tl(r).h_(),await sk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await j_(r)}}(n,e),ok(n)&&ak(n)}async function xI(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),ve(Iu,"RemoteStore received new credentials");const r=Vu(t);t.W_.add(3),await Xf(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await M_(t)}async function R6(n,e){const t=Ke(n);e?(t.W_.delete(2),await M_(t)):e||(t.W_.add(2),await Xf(t),t.j_.set("Unknown"))}function Pd(n){return n.J_||(n.J_=function(t,r,i){const s=Ke(t);return s.M_(),new d6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:_6.bind(null,n),No:y6.bind(null,n),Lo:v6.bind(null,n),p_:w6.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),JE(n)?XE(n):n.j_.set("Unknown")):(await n.J_.stop(),ik(n))})),n.J_}function Tl(n){return n.Y_||(n.Y_=function(t,r,i){const s=Ke(t);return s.M_(),new h6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:x6.bind(null,n),Lo:I6.bind(null,n),D_:C6.bind(null,n),v_:S6.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await j_(n)):(await n.Y_.stop(),n.K_.length>0&&(ve(Iu,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,u=new ZE(e,t,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eT(n,e){if(ua("AsyncQueue",`${e}: ${n}`),Ad(n))return new we(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{static emptySet(e){return new Bc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=Ph(),this.sortedSet=new On(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.Z_=new On(Oe.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class id{constructor(e,t,r,i,s,a,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new id(e,t,Bc.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&P_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class b6{constructor(){this.queries=SI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ke(t),s=i.queries;i.queries=SI(),s.forEach((a,u)=>{for(const c of u.ta)c.onError(r)})})(this,new we(re.ABORTED,"Firestore shutting down"))}}function SI(){return new ju(n=>AP(n),P_)}async function tT(n,e){const t=Ke(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new A6,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const u=eT(a,`Initialization of query '${Rc(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&rT(t)}async function nT(n,e){const t=Ke(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.ta.indexOf(e);a>=0&&(s.ta.splice(a,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function P6(n,e){const t=Ke(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const u of a.ta)u.oa(i)&&(r=!0);a.ea=i}}r&&rT(t)}function k6(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function rT(n){n.ia.forEach(e=>{e.next()})}var lw,II;(II=lw||(lw={}))._a="default",II.Cache="cache";class iT{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new id(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.key=e}}class uk{constructor(e){this.key=e}}class N6{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=st(),this.mutatedKeys=st(),this.ya=bP(e),this.wa=new Bc(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new CI,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const _=i.get(p),w=k_(this.query,g)?g:null,C=!!_&&this.mutatedKeys.has(_.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;_&&w?_.data.isEqual(w.data)?C!==x&&(r.track({type:3,doc:w}),S=!0):this.va(_,w)||(r.track({type:2,doc:w}),S=!0,(c&&this.ya(w,c)>0||h&&this.ya(w,h)<0)&&(u=!0)):!_&&w?(r.track({type:0,doc:w}),S=!0):_&&!w&&(r.track({type:1,doc:_}),S=!0,(c||h)&&(u=!0)),S&&(w?(a=a.add(w),s=x?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{wa:a,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort((p,g)=>function(w,C){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return x(w)-x(C)}(p.type,g.type)||this.ya(p.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,h=c!==this.ga;return this.ga=c,a.length!==0||h?{snapshot:new id(this.query,e.wa,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new CI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=st(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new uk(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new lk(r))}),t}Oa(e){this.fa=e.gs,this.pa=st();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return id.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sT="SyncEngine";class O6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class D6{constructor(e){this.key=e,this.Ba=!1}}class L6{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new ju(u=>AP(u),P_),this.qa=new Map,this.Qa=new Set,this.$a=new On(Oe.comparator),this.Ka=new Map,this.Ua=new qE,this.Wa={},this.Ga=new Map,this.za=rd.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function M6(n,e,t=!0){const r=mk(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await ck(r,e,t,!0),i}async function j6(n,e){const t=mk(n);await ck(t,e,!0,!1)}async function ck(n,e,t,r){const i=await r6(n.localStore,yo(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await V6(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&nk(n.remoteStore,i),u}async function V6(n,e,t,r,i){n.Ha=(g,_,w)=>async function(x,S,N,D){let V=S.view.Sa(N);V.ls&&(V=await yI(x.localStore,S.query,!1).then(({documents:P})=>S.view.Sa(P,V)));const F=D&&D.targetChanges.get(S.targetId),$=D&&D.targetMismatches.get(S.targetId)!=null,W=S.view.applyChanges(V,x.isPrimaryClient,F,$);return AI(x,S.targetId,W.Ma),W.snapshot}(n,g,_,w);const s=await yI(n.localStore,e,!0),a=new N6(e,s.gs),u=a.Sa(s.documents),c=Yf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(u,n.isPrimaryClient,c);AI(n,t,h.Ma);const p=new O6(e,t,a);return n.ka.set(e,p),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function F6(n,e,t){const r=Ke(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(a=>!P_(a,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ow(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&QE(r.remoteStore,i.targetId),uw(r,i.targetId)}).catch(Rd)):(uw(r,i.targetId),await ow(r.localStore,i.targetId,!0))}async function U6(n,e){const t=Ke(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),QE(t.remoteStore,r.targetId))}async function B6(n,e,t){const r=K6(n);try{const i=await function(a,u){const c=Ke(a),h=Bn.now(),p=u.reduce((w,C)=>w.add(C.key),st());let g,_;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=ca(),x=st();return c.ds.getEntries(w,p).next(S=>{C=S,C.forEach((N,D)=>{D.isValidDocument()||(x=x.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,C)).next(S=>{g=S;const N=[];for(const D of u){const V=nU(D,g.get(D.key).overlayedDocument);V!=null&&N.push(new Ol(D.key,V,wP(V.value.mapValue),Ts.exists(!0)))}return c.mutationQueue.addMutationBatch(w,h,N,u)}).next(S=>{_=S;const N=S.applyToLocalDocumentSet(g,x);return c.documentOverlayCache.saveOverlays(w,S.batchId,N)})}).then(()=>({batchId:_.batchId,changes:kP(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let h=a.Wa[a.currentUser.toKey()];h||(h=new On(lt)),h=h.insert(u,c),a.Wa[a.currentUser.toKey()]=h}(r,i.batchId,t),await Jf(r,i.changes),await j_(r.remoteStore)}catch(i){const s=eT(i,"Failed to persist write");t.reject(s)}}async function dk(n,e){const t=Ke(n);try{const r=await e6(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Ka.get(s);a&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Ba=!0:i.modifiedDocuments.size>0?Et(a.Ba):i.removedDocuments.size>0&&(Et(a.Ba),a.Ba=!1))}),await Jf(t,r,e)}catch(r){await Rd(r)}}function RI(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,a)=>{const u=a.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=Ke(a);c.onlineState=u;let h=!1;c.queries.forEach((p,g)=>{for(const _ of g.ta)_.sa(u)&&(h=!0)}),h&&rT(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function z6(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let a=new On(Oe.comparator);a=a.insert(s,kr.newNoDocument(s,qe.min()));const u=st().add(s),c=new D_(qe.min(),new Map,new On(lt),a,u);await dk(r,c),r.$a=r.$a.remove(s),r.Ka.delete(e),oT(r)}else await ow(r.localStore,e,!1).then(()=>uw(r,e,t)).catch(Rd)}async function $6(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=await ZU(t.localStore,e);fk(t,r,null),hk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jf(t,i)}catch(i){await Rd(i)}}async function W6(n,e,t){const r=Ke(n);try{const i=await function(a,u){const c=Ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(g=>(Et(g!==null),p=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);fk(r,e,t),hk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jf(r,i)}catch(i){await Rd(i)}}function hk(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function fk(n,e,t){const r=Ke(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function uw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||pk(n,r)})}function pk(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(QE(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),oT(n))}function AI(n,e,t){for(const r of t)r instanceof lk?(n.Ua.addReference(r.key,e),q6(n,r)):r instanceof uk?(ve(sT,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||pk(n,r.key)):Ue()}function q6(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ve(sT,"New document in limbo: "+t),n.Qa.add(r),oT(n))}function oT(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Oe(Wt.fromString(e)),r=n.za.next();n.Ka.set(r,new D6(t)),n.$a=n.$a.insert(t,r),nk(n.remoteStore,new Xa(yo(b_(t.path)),r,"TargetPurposeLimboResolution",I_.ae))}}async function Jf(n,e,t){const r=Ke(n),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach((u,c)=>{a.push(r.Ha(c,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){i.push(h);const g=GE.Yi(c.targetId,h);s.push(g)}}))}),await Promise.all(a),r.La.p_(i),await async function(c,h){const p=Ke(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ie.forEach(h,_=>ie.forEach(_.Hi,w=>p.persistence.referenceDelegate.addReference(g,_.targetId,w)).next(()=>ie.forEach(_.Ji,w=>p.persistence.referenceDelegate.removeReference(g,_.targetId,w)))))}catch(g){if(!Ad(g))throw g;ve(KE,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const w=p.Ts.get(_),C=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(C);p.Ts=p.Ts.insert(_,x)}}}(r.localStore,s))}async function H6(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){ve(sT,"User change. New user:",e.toKey());const r=await JP(t.localStore,e);t.currentUser=e,function(s,a){s.Ga.forEach(u=>{u.forEach(c=>{c.reject(new we(re.CANCELLED,a))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jf(t,r.Rs)}}function G6(n,e){const t=Ke(n),r=t.Ka.get(e);if(r&&r.Ba)return st().add(r.key);{let i=st();const s=t.qa.get(e);if(!s)return i;for(const a of s){const u=t.ka.get(a);i=i.unionWith(u.view.ba)}return i}}function mk(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z6.bind(null,e),e.La.p_=P6.bind(null,e.eventManager),e.La.Ja=k6.bind(null,e.eventManager),e}function K6(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W6.bind(null,e),e}class Vg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=L_(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return JU(this.persistence,new QU,e.initialUser,this.serializer)}Xa(e){return new XP(HE.ri,this.serializer)}Za(e){return new s6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vg.provider={build:()=>new Vg};class Q6 extends Vg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Et(this.persistence.referenceDelegate instanceof Mg);const r=this.persistence.referenceDelegate.garbageCollector;return new DU(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?gi.withCacheSize(this.cacheSizeBytes):gi.DEFAULT;return new XP(r=>Mg.ri(r,t),this.serializer)}}class cw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H6.bind(null,this.syncEngine),await R6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b6}()}createDatastore(e){const t=L_(e.databaseInfo.databaseId),r=function(s){return new c6(s)}(e.databaseInfo);return function(s,a,u,c){return new p6(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,u){return new g6(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,t=>RI(this.syncEngine,t,0),function(){return EI.D()?new EI:new o6}())}createSyncEngine(e,t){return function(i,s,a,u,c,h,p){const g=new L6(i,s,a,u,c,h);return p&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ke(i);ve(Iu,"RemoteStore shutting down."),s.W_.add(5),await Xf(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cw.provider={build:()=>new cw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="FirestoreClient";class Y6{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=cP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ve(xl,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ve(xl,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=eT(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xv(n,e){n.asyncQueue.verifyOperationInProgress(),ve(xl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function bI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await X6(n);ve(xl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xI(e.remoteStore,i)),n._onlineComponents=e}async function X6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(xl,"Using user provided OfflineComponentProvider");try{await Xv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Zc("Error using user provided cache. Falling back to memory cache: "+t),await Xv(n,new Vg)}}else ve(xl,"Using default OfflineComponentProvider"),await Xv(n,new Q6(void 0));return n._offlineComponents}async function gk(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(xl,"Using user provided OnlineComponentProvider"),await bI(n,n._uninitializedComponentsProvider._online)):(ve(xl,"Using default OnlineComponentProvider"),await bI(n,new cw))),n._onlineComponents}function J6(n){return gk(n).then(e=>e.syncEngine)}async function Fg(n){const e=await gk(n),t=e.eventManager;return t.onListen=M6.bind(null,e.syncEngine),t.onUnlisten=F6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=j6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U6.bind(null,e.syncEngine),t}function Z6(n,e,t={}){const r=new na;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const p=new aT({next:_=>{p.su(),a.enqueueAndForget(()=>nT(s,g));const w=_.docs.has(u);!w&&_.fromCache?h.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&c&&c.source==="server"?h.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new iT(b_(u.path),p,{includeMetadataChanges:!0,Ta:!0});return tT(s,g)}(await Fg(n),n.asyncQueue,e,t,r)),r.promise}function e9(n,e,t={}){const r=new na;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const p=new aT({next:_=>{p.su(),a.enqueueAndForget(()=>nT(s,g)),_.fromCache&&c.source==="server"?h.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new iT(u,p,{includeMetadataChanges:!0,Ta:!0});return tT(s,g)}(await Fg(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n,e,t){if(!t)throw new we(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function t9(n,e,t,r){if(e===!0&&r===!0)throw new we(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kI(n){if(!Oe.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NI(n){if(Oe.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function vi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=V_(n);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="firestore.googleapis.com",OI=!0;class DI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vk,this.ssl=OI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:OI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NU)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_k((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new l5;switch(r.type){case"firstParty":return new h5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=PI.get(t);r&&(ve("ComponentProvider","Removing Datastore"),PI.delete(t),r.terminate())}(this),Promise.resolve()}}function n9(n,e,t,r={}){var i;const s=(n=vi(n,F_))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==vk&&s.host!==u&&Zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!ml(c,a)&&(n._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=br.MOCK_USER;else{h=EE(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new br(g)}n._authCredentials=new u5(new uP(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dl(this.firestore,e,this._query)}}class Fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class ll extends Dl{constructor(e,t,r){super(e,t,b_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new Oe(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function Jo(n,e,...t){if(n=jt(n),yk("collection","path",e),n instanceof F_){const r=Wt.fromString(e,...t);return NI(r),new ll(n,null,r)}{if(!(n instanceof Fr||n instanceof ll))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return NI(r),new ll(n.firestore,null,r)}}function Nn(n,e,...t){if(n=jt(n),arguments.length===1&&(e=cP.newId()),yk("doc","path",e),n instanceof F_){const r=Wt.fromString(e,...t);return kI(r),new Fr(n,null,new Oe(r))}{if(!(n instanceof Fr||n instanceof ll))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return kI(r),new Fr(n.firestore,n instanceof ll?n.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="AsyncQueue";class MI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ek(this,"async_queue_retry"),this.bu=()=>{const r=Yv();r&&ve(LI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Yv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Yv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new na;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ad(e))throw e;ve(LI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw ua("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=ZE.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function jI(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class da extends F_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new MI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MI(e),this._firestoreClient=void 0,await e}}}function Zf(n,e){const t=typeof n=="object"?n:w_(),r=typeof n=="string"?n:kg,i=Wf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vE("firestore");s&&n9(i,...s)}return i}function U_(n){if(n._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||r9(n),n._firestoreClient}function r9(n){var e,t,r;const i=n._freezeSettings(),s=function(u,c,h,p){return new I5(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,_k(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Y6(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sd(wr.fromBase64String(e))}catch(t){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sd(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=/^__.*__$/;class s9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qf(e,this.data,t,this.fieldTransforms)}}class wk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ek(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class cT{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new cT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ug(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ek(this.Lu)&&i9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class o9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||L_(e)}ju(e,t,r,i=!1){return new cT({Lu:e,methodName:t,zu:r,path:_r.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $_(n){const e=n._freezeSettings(),t=L_(n._databaseId);return new o9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Tk(n,e,t,r,i,s={}){const a=n.ju(s.merge||s.mergeFields?2:0,e,t,i);hT("Data must be an object, but it was:",a,r);const u=xk(r,a);let c,h;if(s.merge)c=new qi(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const _=dw(e,g,t);if(!a.contains(_))throw new we(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Sk(p,_)||p.push(_)}c=new qi(p),h=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=a.fieldTransforms;return new s9(new _i(u),c,h)}class W_ extends z_{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W_}}class dT extends z_{_toFieldTransform(e){return new J5(e.path,new xf)}isEqual(e){return e instanceof dT}}function a9(n,e,t,r){const i=n.ju(1,e,t);hT("Data must be an object, but it was:",i,r);const s=[],a=_i.empty();Nl(r,(c,h)=>{const p=fT(e,c,t);h=jt(h);const g=i.Ku(p);if(h instanceof W_)s.push(p);else{const _=ep(h,g);_!=null&&(s.push(p),a.set(p,_))}});const u=new qi(s);return new wk(a,u,i.fieldTransforms)}function l9(n,e,t,r,i,s){const a=n.ju(1,e,t),u=[dw(e,r,t)],c=[i];if(s.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(dw(e,s[_])),c.push(s[_+1]);const h=[],p=_i.empty();for(let _=u.length-1;_>=0;--_)if(!Sk(h,u[_])){const w=u[_];let C=c[_];C=jt(C);const x=a.Ku(w);if(C instanceof W_)h.push(w);else{const S=ep(C,x);S!=null&&(h.push(w),p.set(w,S))}}const g=new qi(h);return new wk(p,g,a.fieldTransforms)}function u9(n,e,t,r=!1){return ep(t,n.ju(r?4:3,e))}function ep(n,e){if(Ck(n=jt(n)))return hT("Unsupported field value:",e,n),xk(n,e);if(n instanceof z_)return function(r,i){if(!Ek(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=ep(u,i.Uu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Bn.fromDate(r);return{timestampValue:Lg(i.serializer,s)}}if(r instanceof Bn){const s=new Bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lg(i.serializer,s)}}if(r instanceof lT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sd)return{bytesValue:$P(i.serializer,r._byteString)};if(r instanceof Fr){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uT)return function(a,u){return{mapValue:{fields:{[yP]:{stringValue:vP},[Ng]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return UE(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${V_(r)}`)}(n,e)}function xk(n,e){const t={};return hP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(n,(r,i)=>{const s=ep(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Ck(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bn||n instanceof lT||n instanceof sd||n instanceof Fr||n instanceof z_||n instanceof uT)}function hT(n,e,t){if(!Ck(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=V_(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function dw(n,e,t){if((e=jt(e))instanceof B_)return e._internalPath;if(typeof e=="string")return fT(n,e);throw Ug("Field path arguments must be of type string or ",n,!1,void 0,t)}const c9=new RegExp("[~\\*/\\[\\]]");function fT(n,e,t){if(e.search(c9)>=0)throw Ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new B_(...e.split("."))._internalPath}catch{throw Ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ug(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new we(re.INVALID_ARGUMENT,u+n+c)}function Sk(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(q_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class d9 extends Ik{data(){return super.data()}}function q_(n,e){return typeof e=="string"?fT(n,e):e instanceof B_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pT{}class Ak extends pT{}function Ja(n,e,...t){let r=[];e instanceof pT&&r.push(e),r=r.concat(t),function(s){const a=s.filter(c=>c instanceof mT).length,u=s.filter(c=>c instanceof H_).length;if(a>1||a>0&&u>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class H_ extends Ak{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new H_(e,t,r)}_apply(e){const t=this._parse(e);return bk(e._query,t),new Dl(e.firestore,e.converter,ew(e._query,t))}_parse(e){const t=$_(e.firestore);return function(s,a,u,c,h,p,g){let _;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){FI(g,p);const C=[];for(const x of g)C.push(VI(c,s,x));_={arrayValue:{values:C}}}else _=VI(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||FI(g,p),_=u9(u,a,g,p==="in"||p==="not-in");return Pn.create(h,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fs(n,e,t){const r=e,i=q_("where",n);return H_._create(i,r,t)}class mT extends pT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mT(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Gs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)bk(a,c),a=ew(a,c)}(e._query,t),new Dl(e.firestore,e.converter,ew(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gT extends Ak{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gT(e,t)}_apply(e){const t=function(i,s,a){if(i.startAt!==null)throw new we(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tf(s,a)}(e._query,this._field,this._direction);return new Dl(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new bd(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function pQ(n,e="asc"){const t=e,r=q_("orderBy",n);return gT._create(r,t)}function VI(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RP(e)&&t.indexOf("/")!==-1)throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!Oe.isDocumentKey(r))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZS(n,new Oe(r))}if(t instanceof Fr)return ZS(n,t._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${V_(t)}.`)}function FI(n,e){if(!Array.isArray(n)||n.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bk(n,e){const t=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class h9{convertValue(e,t="none"){switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Nl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ng].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>vn(a.doubleValue));return new uT(s)}convertGeoPoint(e){return new lT(vn(e.latitude),vn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=A_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const t=vl(e);return new Bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);Et(QP(r));const i=new wf(r.get(1),r.get(3)),s=new Oe(r.popFirst(5));return i.isEqual(t)||ua(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kk extends Ik{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new og(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(q_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class og extends kk{data(e={}){return super.data(e)}}class Nk{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Nh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new og(this._firestore,this._userDataWriter,r.key,r,new Nh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new og(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Nh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new og(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Nh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:f9(u.type),doc:c,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n){n=vi(n,Fr);const e=vi(n.firestore,da);return Z6(U_(e),n._key).then(t=>Dk(e,n,t))}class _T extends h9{constructor(e){super(),this.firestore=e}convertBytes(e){return new sd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function ps(n){n=vi(n,Dl);const e=vi(n.firestore,da),t=U_(e),r=new _T(e);return Rk(n._query),e9(t,n._query).then(i=>new Nk(e,r,n,i))}function yT(n,e,t){n=vi(n,Fr);const r=vi(n.firestore,da),i=Pk(n.converter,e,t);return G_(r,[Tk($_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ts.none())])}function ul(n,e,t,...r){n=vi(n,Fr);const i=vi(n.firestore,da),s=$_(i);let a;return a=typeof(e=jt(e))=="string"||e instanceof B_?l9(s,"updateDoc",n._key,e,t,r):a9(s,"updateDoc",n._key,e),G_(i,[a.toMutation(n._key,Ts.exists(!0))])}function mQ(n){return G_(vi(n.firestore,da),[new BE(n._key,Ts.none())])}function gQ(n,e){const t=vi(n.firestore,da),r=Nn(n),i=Pk(n.converter,e);return G_(t,[Tk($_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ts.exists(!1))]).then(()=>r)}function Ok(n,...e){var t,r,i;n=jt(n);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||jI(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jI(e[a])){const g=e[a];e[a]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[a+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[a+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,h,p;if(n instanceof Fr)h=vi(n.firestore,da),p=b_(n._key.path),c={next:g=>{e[a]&&e[a](Dk(h,n,g))},error:e[a+1],complete:e[a+2]};else{const g=vi(n,Dl);h=vi(g.firestore,da),p=g._query;const _=new _T(h);c={next:w=>{e[a]&&e[a](new Nk(h,_,g,w))},error:e[a+1],complete:e[a+2]},Rk(n._query)}return function(_,w,C,x){const S=new aT(x),N=new iT(w,S,C);return _.asyncQueue.enqueueAndForget(async()=>tT(await Fg(_),N)),()=>{S.su(),_.asyncQueue.enqueueAndForget(async()=>nT(await Fg(_),N))}}(U_(h),p,u,c)}function G_(n,e){return function(r,i){const s=new na;return r.asyncQueue.enqueueAndForget(async()=>B6(await J6(r),i,s)),s.promise}(U_(n),e)}function Dk(n,e,t){const r=t.docs.get(e._key),i=new _T(n);return new kk(n,i,e._key,r,new Nh(t.hasPendingWrites,t.fromCache),e.converter)}function p9(){return new dT("serverTimestamp")}(function(e,t=!0){(function(i){Id=i})(bl),gl(new oa("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new da(new c5(r.getProvider("auth-internal")),new f5(a,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(h.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Es(zS,$S,e),Es(zS,$S,"esm2017")})();var UI={};const BI="@firebase/database",zI="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lk="";function m9(n){Lk=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:mf(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return va(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new g9(e)}}catch{}return new _9},du=Mk("localStorage"),y9=Mk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new v_("@firebase/database"),v9=function(){let n=1;return function(){return n++}}(),jk=function(n){const e=A3(n),t=new x3;t.update(e);const r=t.digest();return yE.encodeByteArray(r)},tp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=tp.apply(null,r):typeof r=="object"?e+=gr(r):e+=r,e+=" "}return e};let qh=null,$I=!0;const w9=function(n,e){ge(!0,"Can't turn on custom loggers persistently."),zc.logLevel=it.VERBOSE,qh=zc.log.bind(zc)},Nr=function(...n){if($I===!0&&($I=!1,qh===null&&y9.get("logging_enabled")===!0&&w9()),qh){const e=tp.apply(null,n);qh(e)}},np=function(n){return function(...e){Nr(n,...e)}},hw=function(...n){const e="FIREBASE INTERNAL ERROR: "+tp(...n);zc.error(e)},ha=function(...n){const e=`FIREBASE FATAL ERROR: ${tp(...n)}`;throw zc.error(e),new Error(e)},Ki=function(...n){const e="FIREBASE WARNING: "+tp(...n);zc.warn(e)},E9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ki("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vk=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},T9=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},od="[MIN_NAME]",Ru="[MAX_NAME]",kd=function(n,e){if(n===e)return 0;if(n===od||e===Ru)return-1;if(e===od||n===Ru)return 1;{const t=WI(n),r=WI(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},x9=function(n,e){return n===e?0:n<e?-1:1},gh=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+gr(e))},vT=function(n){if(typeof n!="object"||n===null)return gr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=gr(e[r]),t+=":",t+=vT(n[e[r]]);return t+="}",t},Fk=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Ss(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Uk=function(n){ge(!Vk(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,a,u,c;n===0?(s=0,a=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=u+r,a=Math.round(n*Math.pow(2,t-u)-Math.pow(2,t))):(s=0,a=Math.round(n/Math.pow(2,1-r-t))));const h=[];for(c=t;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const p=h.join("");let g="";for(c=0;c<64;c+=8){let _=parseInt(p.substr(c,8),2).toString(16);_.length===1&&(_="0"+_),g=g+_}return g.toLowerCase()},C9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},S9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},I9=new RegExp("^-?(0*)\\d{1,10}$"),R9=-2147483648,A9=2147483647,WI=function(n){if(I9.test(n)){const e=Number(n);if(e>=R9&&e<=A9)return e}return null},rp=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Ki("Exception was thrown by user callback.",t),e},Math.floor(0))}},b9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hh=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Dr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ki(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ki(e)}}class ag{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ag.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="5",Bk="v",zk="s",$k="r",Wk="f",qk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hk="ls",Gk="p",fw="ac",Kk="websocket",Qk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t,r,i,s=!1,a="",u=!1,c=!1,h=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=c,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=du.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&du.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function N9(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Xk(n,e,t){ge(typeof e=="string","typeof type must == string"),ge(typeof t=="object","typeof params must == object");let r;if(e===Kk)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Qk)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);N9(n)&&(t.ns=n.namespace);const i=[];return Ss(t,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.counters_={}}incrementCounter(e,t=1){va(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return i3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={},Zv={};function ET(n){const e=n.toString();return Jv[e]||(Jv[e]=new O9),Jv[e]}function D9(n,e){const t=n.toString();return Zv[t]||(Zv[t]=e()),Zv[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&rp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="start",M9="close",j9="pLPCommand",V9="pRTLPCB",Jk="id",Zk="pw",e2="ser",F9="cb",U9="seg",B9="ts",z9="d",$9="dframe",t2=1870,n2=30,W9=t2-n2,q9=25e3,H9=3e4;class Nc{constructor(e,t,r,i,s,a,u){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=np(e),this.stats_=ET(t),this.urlFn=c=>(this.appCheckToken&&(c[fw]=this.appCheckToken),Xk(t,Qk,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new L9(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(H9)),T9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new TT((...s)=>{const[a,u,c,h,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===qI)this.id=u,this.password=c;else if(a===M9)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[qI]="t",r[e2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[F9]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Bk]=wT,this.transportSessionId&&(r[zk]=this.transportSessionId),this.lastSessionId&&(r[Hk]=this.lastSessionId),this.applicationId&&(r[Gk]=this.applicationId),this.appCheckToken&&(r[fw]=this.appCheckToken),typeof location<"u"&&location.hostname&&qk.test(location.hostname)&&(r[$k]=Wk);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nc.forceAllow_=!0}static forceDisallow(){Nc.forceDisallow_=!0}static isAvailable(){return Nc.forceAllow_?!0:!Nc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!C9()&&!S9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=gr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=ub(t),i=Fk(r,W9);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[$9]="t",r[Jk]=e,r[Zk]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=gr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class TT{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=v9(),window[j9+this.uniqueCallbackIdentifier]=e,window[V9+this.uniqueCallbackIdentifier]=t,this.myIFrame=TT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Nr("frame writing exception"),u.stack&&Nr(u.stack),Nr(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Nr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Jk]=this.myID,e[Zk]=this.myPW,e[e2]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+n2+r.length<=t2;){const a=this.pendingSegs.shift();r=r+"&"+U9+i+"="+a.seg+"&"+B9+i+"="+a.ts+"&"+z9+i+"="+a.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(q9)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Nr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=16384,K9=45e3;let Bg=null;typeof MozWebSocket<"u"?Bg=MozWebSocket:typeof WebSocket<"u"&&(Bg=WebSocket);class zs{constructor(e,t,r,i,s,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=np(this.connId),this.stats_=ET(t),this.connURL=zs.connectionURL_(t,a,u,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){const a={};return a[Bk]=wT,typeof location<"u"&&location.hostname&&qk.test(location.hostname)&&(a[$k]=Wk),t&&(a[zk]=t),r&&(a[Hk]=r),i&&(a[fw]=i),s&&(a[Gk]=s),Xk(e,Kk,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,du.set("previous_websocket_failure",!0);try{let r;p3(),this.mySock=new Bg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){zs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Bg!==null&&!zs.forceDisallow_}static previouslyFailed(){return du.isInMemoryStorage||du.get("previous_websocket_failure")===!0}markConnectionHealthy(){du.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=mf(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=gr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Fk(t,G9);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(K9))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zs.responsesRequiredToBeHealthy=2;zs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{static get ALL_TRANSPORTS(){return[Nc,zs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=zs&&zs.isAvailable();let r=t&&!zs.previouslyFailed();if(e.webSocketOnly&&(t||Ki("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zs];else{const i=this.transports_=[];for(const s of If.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);If.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}If.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=6e4,Y9=5e3,X9=10*1024,J9=100*1024,e0="t",HI="d",Z9="s",GI="r",eB="e",KI="o",QI="a",YI="n",XI="p",tB="h";class nB{constructor(e,t,r,i,s,a,u,c,h,p){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=np("c:"+this.id+":"),this.transportManager_=new If(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>J9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>X9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(e0 in e){const t=e[e0];t===QI?this.upgradeIfSecondaryHealthy_():t===GI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===KI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=gh("t",e),r=gh("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:XI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:QI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:YI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=gh("t",e),r=gh("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=gh(e0,e);if(HI in e){const r=e[HI];if(t===tB){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===YI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Z9?this.onConnectionShutdown_(r):t===GI?this.onReset_(r):t===eB?hw("Server Error: "+r):t===KI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hw("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),wT!==r&&Ki("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Hh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Q9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Y9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:XI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(du.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ge(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends i2{static getInstance(){return new zg}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!TE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=32,ZI=768;class Ht{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function bt(){return new Ht("")}function ft(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Cl(n){return n.pieces_.length-n.pieceNum_}function $t(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ht(n.pieces_,e)}function s2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function rB(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function o2(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function a2(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ht(e,0)}function ur(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ht)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ht(t,0)}function ut(n){return n.pieceNum_>=n.pieces_.length}function ys(n,e){const t=ft(n),r=ft(e);if(t===null)return e;if(t===r)return ys($t(n),$t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function l2(n,e){if(Cl(n)!==Cl(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function $s(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Cl(n)>Cl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class iB{constructor(e,t){this.errorPrefix_=t,this.parts_=o2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=y_(this.parts_[r]);u2(this)}}function sB(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=y_(e),u2(n)}function oB(n){const e=n.parts_.pop();n.byteLength_-=y_(e),n.parts_.length>0&&(n.byteLength_-=1)}function u2(n){if(n.byteLength_>ZI)throw new Error(n.errorPrefix_+"has a key path longer than "+ZI+" bytes ("+n.byteLength_+").");if(n.parts_.length>JI)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+JI+") or object contains a cycle "+su(n))}function su(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends i2{static getInstance(){return new xT}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=1e3,aB=60*5*1e3,eR=30*1e3,lB=1.3,uB=3e4,cB="server_kill",tR=3;class ra extends r2{constructor(e,t,r,i,s,a,u,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=ra.nextPersistentConnectionId_++,this.log_=np("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_h,this.maxReconnectDelay_=aB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(gr(s)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new wE,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?t.resolve(u):t.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(a).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,u=>{const c=u.d,h=u.s;ra.warnOnListenWarnings_(c,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&va(e,"w")){const r=Jc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();Ki(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||T3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=eR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=E3(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const a={p:t,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+gr(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):hw("Unrecognized action received from server: "+gr(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_h,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_h,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uB&&(this.reconnectDelay_=_h),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lB)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ra.nextConnectionId_++,s=this.lastSessionId;let a=!1,u=null;const c=function(){u?u.close():(a=!0,r())},h=function(g){ge(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(g)};this.realtime_={close:c,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,_]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?Nr("getToken() completed but was canceled"):(Nr("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=_&&_.token,u=new nB(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,w=>{Ki(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(cB)},s))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&Ki(g),c())}}}interrupt(e){Nr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Nr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],j0(this.interruptReasons_)&&(this.reconnectDelay_=_h,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>vT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new Ht(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){Nr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tR&&(this.reconnectDelay_=eR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Nr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Lk.replace(/\./g,"-")]=1,TE()?e["framework.cordova"]=1:pb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zg.getInstance().currentlyOnline();return j0(this.interruptReasons_)&&e}}ra.nextPersistentConnectionId_=0;ra.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new pt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new pt(od,e),i=new pt(od,t);return this.compare(r,i)!==0}minPost(){return pt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am;class c2 extends K_{static get __EMPTY_NODE(){return Am}static set __EMPTY_NODE(e){Am=e}compare(e,t){return kd(e.name,t.name)}isDefinedOn(e){throw xd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return pt.MIN}maxPost(){return new pt(Ru,Am)}makePost(e,t){return ge(typeof e=="string","KeyIndex indexValue must always be a string."),new pt(e,Am)}toString(){return".key"}}const $c=new c2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?r(e.key,t):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??lr.RED,this.left=i??yi.EMPTY_NODE,this.right=s??yi.EMPTY_NODE}copy(e,t,r,i,s){return new lr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return yi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return yi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lr.RED=!0;lr.BLACK=!1;class dB{copy(e,t,r,i,s){return this}insert(e,t,r){return new lr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yi{constructor(e,t=yi.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new yi(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,lr.BLACK,null,null))}remove(e){return new yi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new bm(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new bm(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new bm(this.root_,null,this.comparator_,!0,e)}}yi.EMPTY_NODE=new dB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(n,e){return kd(n.name,e.name)}function CT(n,e){return kd(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pw;function fB(n){pw=n}const d2=function(n){return typeof n=="number"?"number:"+Uk(n):"string:"+n},h2=function(n){if(n.isLeafNode()){const e=n.val();ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&va(e,".sv"),"Priority must be a string or number.")}else ge(n===pw||n.isEmpty(),"priority of unexpected type.");ge(n===pw||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nR;class or{static set __childrenNodeConstructor(e){nR=e}static get __childrenNodeConstructor(){return nR}constructor(e,t=or.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),h2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new or(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ut(e)?this:ft(e)===".priority"?this.priorityNode_:or.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:or.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=ft(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ge(r!==".priority"||Cl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,or.__childrenNodeConstructor.EMPTY_NODE.updateChild($t(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+d2(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=Uk(this.value_):e+=this.value_,this.lazyHash_=jk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===or.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof or.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=or.VALUE_TYPE_ORDER.indexOf(t),s=or.VALUE_TYPE_ORDER.indexOf(r);return ge(i>=0,"Unknown leaf type: "+t),ge(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}or.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f2,p2;function pB(n){f2=n}function mB(n){p2=n}class gB extends K_{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?kd(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return pt.MIN}maxPost(){return new pt(Ru,new or("[PRIORITY-POST]",p2))}makePost(e,t){const r=f2(e);return new pt(t,new or("[PRIORITY-POST]",r))}toString(){return".priority"}}const jr=new gB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=Math.log(2);class yB{constructor(e){const t=s=>parseInt(Math.log(s)/_B,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $g=function(n,e,t,r){n.sort(e);const i=function(c,h){const p=h-c;let g,_;if(p===0)return null;if(p===1)return g=n[c],_=t?t(g):g,new lr(_,g.node,lr.BLACK,null,null);{const w=parseInt(p/2,10)+c,C=i(c,w),x=i(w+1,h);return g=n[w],_=t?t(g):g,new lr(_,g.node,lr.BLACK,C,x)}},s=function(c){let h=null,p=null,g=n.length;const _=function(C,x){const S=g-C,N=g;g-=C;const D=i(S+1,N),V=n[S],F=t?t(V):V;w(new lr(F,V.node,x,null,D))},w=function(C){h?(h.left=C,h=C):(p=C,h=C)};for(let C=0;C<c.count;++C){const x=c.nextBitIsOne(),S=Math.pow(2,c.count-(C+1));x?_(S,lr.BLACK):(_(S,lr.BLACK),_(S,lr.RED))}return p},a=new yB(n.length),u=s(a);return new yi(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0;const Tc={};class Zo{static get Default(){return ge(Tc&&jr,"ChildrenNode.ts has not been loaded"),t0=t0||new Zo({".priority":Tc},{".priority":jr}),t0}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Jc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yi?t:null}hasIndex(e){return va(this.indexSet_,e.toString())}addIndex(e,t){ge(e!==$c,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(pt.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let u;i?u=$g(r,e.getCompare()):u=Tc;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const p=Object.assign({},this.indexes_);return p[c]=u,new Zo(p,h)}addToIndexes(e,t){const r=xg(this.indexes_,(i,s)=>{const a=Jc(this.indexSet_,s);if(ge(a,"Missing index implementation for "+s),i===Tc)if(a.isDefinedOn(e.node)){const u=[],c=t.getIterator(pt.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&u.push(h),h=c.getNext();return u.push(e),$g(u,a.getCompare())}else return Tc;else{const u=t.get(e.name);let c=i;return u&&(c=c.remove(new pt(e.name,u))),c.insert(e,e.node)}});return new Zo(r,this.indexSet_)}removeFromIndexes(e,t){const r=xg(this.indexes_,i=>{if(i===Tc)return i;{const s=t.get(e.name);return s?i.remove(new pt(e.name,s)):i}});return new Zo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh;class wt{static get EMPTY_NODE(){return yh||(yh=new wt(new yi(CT),null,Zo.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&h2(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yh}updatePriority(e){return this.children_.isEmpty()?this:new wt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?yh:t}}getChild(e){const t=ft(e);return t===null?this:this.getImmediateChild(t).getChild($t(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ge(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new pt(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?yh:this.priorityNode_;return new wt(i,a,s)}}updateChild(e,t){const r=ft(e);if(r===null)return t;{ge(ft(e)!==".priority"||Cl(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild($t(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(jr,(a,u)=>{t[a]=u.val(e),r++,s&&wt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const u in t)a[u]=t[u];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+d2(this.getPriority().val())+":"),this.forEachChild(jr,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":jk(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new pt(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new pt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new pt(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,pt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,pt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ip?-1:0}withIndex(e){if(e===$c||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new wt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===$c||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(jr),i=t.getIterator(jr);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===$c?null:this.indexMap_.get(e.toString())}}wt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vB extends wt{constructor(){super(new yi(CT),wt.EMPTY_NODE,Zo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return wt.EMPTY_NODE}isEmpty(){return!1}}const ip=new vB;Object.defineProperties(pt,{MIN:{value:new pt(od,wt.EMPTY_NODE)},MAX:{value:new pt(Ru,ip)}});c2.__EMPTY_NODE=wt.EMPTY_NODE;or.__childrenNodeConstructor=wt;fB(ip);mB(ip);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=!0;function Or(n,e=null){if(n===null)return wt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new or(t,Or(e))}if(!(n instanceof Array)&&wB){const t=[];let r=!1;if(Ss(n,(a,u)=>{if(a.substring(0,1)!=="."){const c=Or(u);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new pt(a,c)))}}),t.length===0)return wt.EMPTY_NODE;const s=$g(t,hB,a=>a.name,CT);if(r){const a=$g(t,jr.getCompare());return new wt(s,Or(e),new Zo({".priority":a},{".priority":jr}))}else return new wt(s,Or(e),Zo.Default)}else{let t=wt.EMPTY_NODE;return Ss(n,(r,i)=>{if(va(n,r)&&r.substring(0,1)!=="."){const s=Or(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Or(e))}}pB(Or);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB extends K_{constructor(e){super(),this.indexPath_=e,ge(!ut(e)&&ft(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?kd(e.name,t.name):s}makePost(e,t){const r=Or(e),i=wt.EMPTY_NODE.updateChild(this.indexPath_,r);return new pt(t,i)}maxPost(){const e=wt.EMPTY_NODE.updateChild(this.indexPath_,ip);return new pt(Ru,e)}toString(){return o2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB extends K_{compare(e,t){const r=e.node.compareTo(t.node);return r===0?kd(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return pt.MIN}maxPost(){return pt.MAX}makePost(e,t){const r=Or(e);return new pt(t,r)}toString(){return".value"}}const xB=new TB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(n){return{type:"value",snapshotNode:n}}function SB(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function IB(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function rR(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function RB(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:od}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ru}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jr}copy(){const e=new ST;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iR(n){const e={};if(n.isDefault())return e;let t;if(n.index_===jr?t="$priority":n.index_===xB?t="$value":n.index_===$c?t="$key":(ge(n.index_ instanceof EB,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=gr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=gr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+gr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=gr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+gr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function sR(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==jr&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends r2{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=np("p:rest:"),this.listens_={}}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Wg.getListenId_(e,r),u={};this.listens_[a]=u;const c=iR(e._queryParams);this.restRequest_(s+".json",c,(h,p)=>{let g=p;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(s,g,!1,r),Jc(this.listens_,a)===u){let _;h?h===401?_="permission_denied":_="rest_error:"+h:_="ok",i(_,null)}})}unlisten(e,t){const r=Wg.getListenId_(e,t);delete this.listens_[r]}get(e){const t=iR(e._queryParams),r=e._path.toString(),i=new wE;return this.restRequest_(r+".json",t,(s,a)=>{let u=a;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cd(t);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let c=null;if(u.status>=200&&u.status<300){try{c=mf(u.responseText)}catch{Ki("Failed to parse JSON response for "+a+": "+u.responseText)}r(null,c)}else u.status!==401&&u.status!==404&&Ki("Got unsuccessful REST response for "+a+" Status: "+u.status),r(u.status);r=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(){return{value:null,children:new Map}}function m2(n,e,t){if(ut(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=ft(e);n.children.has(r)||n.children.set(r,qg());const i=n.children.get(r);e=$t(e),m2(i,e,t)}}function mw(n,e,t){n.value!==null?t(e,n.value):bB(n,(r,i)=>{const s=new Ht(e.toString()+"/"+r);mw(i,s,t)})}function bB(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ss(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=10*1e3,kB=30*1e3,NB=5*60*1e3;class OB{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new PB(e);const r=oR+(kB-oR)*Math.random();Hh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Ss(e,(i,s)=>{s>0&&va(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Hh(this.reportStats_.bind(this),Math.floor(Math.random()*2*NB))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ho||(ho={}));function g2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function y2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ho.ACK_USER_WRITE,this.source=g2()}operationForChild(e){if(ut(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ht(e));return new Hg(bt(),t,this.revert)}}else return ge(ft(this.path)===e,"operationForChild called for unrelated child."),new Hg($t(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ho.OVERWRITE}operationForChild(e){return ut(this.path)?new Au(this.source,bt(),this.snap.getImmediateChild(e)):new Au(this.source,$t(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ho.MERGE}operationForChild(e){if(ut(this.path)){const t=this.children.subtree(new Ht(e));return t.isEmpty()?null:t.value?new Au(this.source,bt(),t.value):new Rf(this.source,bt(),t)}else return ge(ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rf(this.source,$t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ut(e))return this.isFullyInitialized()&&!this.filtered_;const t=ft(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function DB(n,e,t,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(RB(a.childName,a.snapshotNode))}),vh(n,i,"child_removed",e,r,t),vh(n,i,"child_added",e,r,t),vh(n,i,"child_moved",s,r,t),vh(n,i,"child_changed",e,r,t),vh(n,i,"value",e,r,t),i}function vh(n,e,t,r,i,s){const a=r.filter(u=>u.type===t);a.sort((u,c)=>MB(n,u,c)),a.forEach(u=>{const c=LB(n,u,s);i.forEach(h=>{h.respondsTo(u.type)&&e.push(h.createEvent(c,n.query_))})})}function LB(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function MB(n,e,t){if(e.childName==null||t.childName==null)throw xd("Should only compare child_ events.");const r=new pt(e.childName,e.snapshotNode),i=new pt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(n,e){return{eventCache:n,serverCache:e}}function Gh(n,e,t,r){return v2(new IT(e,t,r),n.serverCache)}function w2(n,e,t,r){return v2(n.eventCache,new IT(e,t,r))}function gw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function bu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n0;const jB=()=>(n0||(n0=new yi(x9)),n0);class zt{static fromObject(e){let t=new zt(null);return Ss(e,(r,i)=>{t=t.set(new Ht(r),i)}),t}constructor(e,t=jB()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:bt(),value:this.value};if(ut(e))return null;{const r=ft(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue($t(e),t);return s!=null?{path:ur(new Ht(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ut(e))return this;{const t=ft(e),r=this.children.get(t);return r!==null?r.subtree($t(e)):new zt(null)}}set(e,t){if(ut(e))return new zt(t,this.children);{const r=ft(e),s=(this.children.get(r)||new zt(null)).set($t(e),t),a=this.children.insert(r,s);return new zt(this.value,a)}}remove(e){if(ut(e))return this.children.isEmpty()?new zt(null):new zt(null,this.children);{const t=ft(e),r=this.children.get(t);if(r){const i=r.remove($t(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new zt(null):new zt(this.value,s)}else return this}}get(e){if(ut(e))return this.value;{const t=ft(e),r=this.children.get(t);return r?r.get($t(e)):null}}setTree(e,t){if(ut(e))return t;{const r=ft(e),s=(this.children.get(r)||new zt(null)).setTree($t(e),t);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new zt(this.value,a)}}fold(e){return this.fold_(bt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ur(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,bt(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(ut(e))return null;{const s=ft(e),a=this.children.get(s);return a?a.findOnPath_($t(e),ur(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,bt(),t)}foreachOnPath_(e,t,r){if(ut(e))return this;{this.value&&r(t,this.value);const i=ft(e),s=this.children.get(i);return s?s.foreachOnPath_($t(e),ur(t,i),r):new zt(null)}}foreach(e){this.foreach_(bt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(ur(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.writeTree_=e}static empty(){return new qs(new zt(null))}}function Kh(n,e,t){if(ut(e))return new qs(new zt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=ys(i,e);return s=s.updateChild(a,t),new qs(n.writeTree_.set(i,s))}else{const i=new zt(t),s=n.writeTree_.setTree(e,i);return new qs(s)}}}function aR(n,e,t){let r=n;return Ss(t,(i,s)=>{r=Kh(r,ur(e,i),s)}),r}function lR(n,e){if(ut(e))return qs.empty();{const t=n.writeTree_.setTree(e,new zt(null));return new qs(t)}}function _w(n,e){return Fu(n,e)!=null}function Fu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(ys(t.path,e)):null}function uR(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(jr,(r,i)=>{e.push(new pt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new pt(r,i.value))}),e}function cl(n,e){if(ut(e))return n;{const t=Fu(n,e);return t!=null?new qs(new zt(t)):new qs(n.writeTree_.subtree(e))}}function yw(n){return n.writeTree_.isEmpty()}function ad(n,e){return E2(bt(),n.writeTree_,e)}function E2(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ge(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=E2(ur(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(ur(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n,e){return R2(e,n)}function VB(n,e,t,r,i){ge(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Kh(n.visibleWrites,e,t)),n.lastWriteId=r}function FB(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function UB(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);ge(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,a=n.allWrites.length-1;for(;i&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=t&&BB(u,r.path)?i=!1:$s(r.path,u.path)&&(s=!0)),a--}if(i){if(s)return zB(n),!0;if(r.snap)n.visibleWrites=lR(n.visibleWrites,r.path);else{const u=r.children;Ss(u,c=>{n.visibleWrites=lR(n.visibleWrites,ur(r.path,c))})}return!0}else return!1}function BB(n,e){if(n.snap)return $s(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&$s(ur(n.path,t),e))return!0;return!1}function zB(n){n.visibleWrites=x2(n.allWrites,$B,bt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function $B(n){return n.visible}function x2(n,e,t){let r=qs.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const a=s.path;let u;if(s.snap)$s(t,a)?(u=ys(t,a),r=Kh(r,u,s.snap)):$s(a,t)&&(u=ys(a,t),r=Kh(r,bt(),s.snap.getChild(u)));else if(s.children){if($s(t,a))u=ys(t,a),r=aR(r,u,s.children);else if($s(a,t))if(u=ys(a,t),ut(u))r=aR(r,bt(),s.children);else{const c=Jc(s.children,ft(u));if(c){const h=c.getChild($t(u));r=Kh(r,bt(),h)}}}else throw xd("WriteRecord should have .snap or .children")}}return r}function C2(n,e,t,r,i){if(!r&&!i){const s=Fu(n.visibleWrites,e);if(s!=null)return s;{const a=cl(n.visibleWrites,e);if(yw(a))return t;if(t==null&&!_w(a,bt()))return null;{const u=t||wt.EMPTY_NODE;return ad(a,u)}}}else{const s=cl(n.visibleWrites,e);if(!i&&yw(s))return t;if(!i&&t==null&&!_w(s,bt()))return null;{const a=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&($s(h.path,e)||$s(e,h.path))},u=x2(n.allWrites,a,e),c=t||wt.EMPTY_NODE;return ad(u,c)}}}function WB(n,e,t){let r=wt.EMPTY_NODE;const i=Fu(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(jr,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(t){const s=cl(n.visibleWrites,e);return t.forEachChild(jr,(a,u)=>{const c=ad(cl(s,new Ht(a)),u);r=r.updateImmediateChild(a,c)}),uR(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=cl(n.visibleWrites,e);return uR(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function qB(n,e,t,r,i){ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ur(e,t);if(_w(n.visibleWrites,s))return null;{const a=cl(n.visibleWrites,s);return yw(a)?i.getChild(t):ad(a,i.getChild(t))}}function HB(n,e,t,r){const i=ur(e,t),s=Fu(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const a=cl(n.visibleWrites,i);return ad(a,r.getNode().getImmediateChild(t))}else return null}function GB(n,e){return Fu(n.visibleWrites,e)}function KB(n,e,t,r,i,s,a){let u;const c=cl(n.visibleWrites,e),h=Fu(c,bt());if(h!=null)u=h;else if(t!=null)u=ad(c,t);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const p=[],g=a.getCompare(),_=s?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a);let w=_.getNext();for(;w&&p.length<i;)g(w,r)!==0&&p.push(w),w=_.getNext();return p}else return[]}function QB(){return{visibleWrites:qs.empty(),allWrites:[],lastWriteId:-1}}function vw(n,e,t,r){return C2(n.writeTree,n.treePath,e,t,r)}function S2(n,e){return WB(n.writeTree,n.treePath,e)}function cR(n,e,t,r){return qB(n.writeTree,n.treePath,e,t,r)}function Gg(n,e){return GB(n.writeTree,ur(n.treePath,e))}function YB(n,e,t,r,i,s){return KB(n.writeTree,n.treePath,e,t,r,i,s)}function RT(n,e,t){return HB(n.writeTree,n.treePath,e,t)}function I2(n,e){return R2(ur(n.treePath,e),n.writeTree)}function R2(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ge(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ge(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,rR(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,IB(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,SB(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,rR(r,e.snapshotNode,i.oldSnap));else throw xd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const A2=new JB;class AT{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new IT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RT(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bu(this.viewCache_),s=YB(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}function ZB(n,e){ge(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ge(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function ez(n,e,t,r,i){const s=new XB;let a,u;if(t.type===ho.OVERWRITE){const h=t;h.source.fromUser?a=ww(n,e,h.path,h.snap,r,i,s):(ge(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered()&&!ut(h.path),a=Kg(n,e,h.path,h.snap,r,i,u,s))}else if(t.type===ho.MERGE){const h=t;h.source.fromUser?a=nz(n,e,h.path,h.children,r,i,s):(ge(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),a=Ew(n,e,h.path,h.children,r,i,u,s))}else if(t.type===ho.ACK_USER_WRITE){const h=t;h.revert?a=sz(n,e,h.path,r,i,s):a=rz(n,e,h.path,h.affectedTree,r,i,s)}else if(t.type===ho.LISTEN_COMPLETE)a=iz(n,e,t.path,r,s);else throw xd("Unknown operation type: "+t.type);const c=s.getChanges();return tz(e,a,c),{viewCache:a,changes:c}}function tz(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gw(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(CB(gw(e)))}}function b2(n,e,t,r,i,s){const a=e.eventCache;if(Gg(r,t)!=null)return e;{let u,c;if(ut(t))if(ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=bu(e),p=h instanceof wt?h:wt.EMPTY_NODE,g=S2(r,p);u=n.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const h=vw(r,bu(e));u=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=ft(t);if(h===".priority"){ge(Cl(t)===1,"Can't have a priority with additional path components");const p=a.getNode();c=e.serverCache.getNode();const g=cR(r,t,p,c);g!=null?u=n.filter.updatePriority(p,g):u=a.getNode()}else{const p=$t(t);let g;if(a.isCompleteForChild(h)){c=e.serverCache.getNode();const _=cR(r,t,a.getNode(),c);_!=null?g=a.getNode().getImmediateChild(h).updateChild(p,_):g=a.getNode().getImmediateChild(h)}else g=RT(r,h,e.serverCache);g!=null?u=n.filter.updateChild(a.getNode(),h,g,p,i,s):u=a.getNode()}}return Gh(e,u,a.isFullyInitialized()||ut(t),n.filter.filtersNodes())}}function Kg(n,e,t,r,i,s,a,u){const c=e.serverCache;let h;const p=a?n.filter:n.filter.getIndexedFilter();if(ut(t))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const w=c.getNode().updateChild(t,r);h=p.updateFullNode(c.getNode(),w,null)}else{const w=ft(t);if(!c.isCompleteForPath(t)&&Cl(t)>1)return e;const C=$t(t),S=c.getNode().getImmediateChild(w).updateChild(C,r);w===".priority"?h=p.updatePriority(c.getNode(),S):h=p.updateChild(c.getNode(),w,S,C,A2,null)}const g=w2(e,h,c.isFullyInitialized()||ut(t),p.filtersNodes()),_=new AT(i,g,s);return b2(n,g,t,i,_,u)}function ww(n,e,t,r,i,s,a){const u=e.eventCache;let c,h;const p=new AT(i,e,s);if(ut(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Gh(e,h,!0,n.filter.filtersNodes());else{const g=ft(t);if(g===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),r),c=Gh(e,h,u.isFullyInitialized(),u.isFiltered());else{const _=$t(t),w=u.getNode().getImmediateChild(g);let C;if(ut(_))C=r;else{const x=p.getCompleteChild(g);x!=null?s2(_)===".priority"&&x.getChild(a2(_)).isEmpty()?C=x:C=x.updateChild(_,r):C=wt.EMPTY_NODE}if(w.equals(C))c=e;else{const x=n.filter.updateChild(u.getNode(),g,C,_,p,a);c=Gh(e,x,u.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function dR(n,e){return n.eventCache.isCompleteForChild(e)}function nz(n,e,t,r,i,s,a){let u=e;return r.foreach((c,h)=>{const p=ur(t,c);dR(e,ft(p))&&(u=ww(n,u,p,h,i,s,a))}),r.foreach((c,h)=>{const p=ur(t,c);dR(e,ft(p))||(u=ww(n,u,p,h,i,s,a))}),u}function hR(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ew(n,e,t,r,i,s,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;ut(t)?h=r:h=new zt(null).setTree(t,r);const p=e.serverCache.getNode();return h.children.inorderTraversal((g,_)=>{if(p.hasChild(g)){const w=e.serverCache.getNode().getImmediateChild(g),C=hR(n,w,_);c=Kg(n,c,new Ht(g),C,i,s,a,u)}}),h.children.inorderTraversal((g,_)=>{const w=!e.serverCache.isCompleteForChild(g)&&_.value===null;if(!p.hasChild(g)&&!w){const C=e.serverCache.getNode().getImmediateChild(g),x=hR(n,C,_);c=Kg(n,c,new Ht(g),x,i,s,a,u)}}),c}function rz(n,e,t,r,i,s,a){if(Gg(i,t)!=null)return e;const u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ut(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Kg(n,e,t,c.getNode().getChild(t),i,s,u,a);if(ut(t)){let h=new zt(null);return c.getNode().forEachChild($c,(p,g)=>{h=h.set(new Ht(p),g)}),Ew(n,e,t,h,i,s,u,a)}else return e}else{let h=new zt(null);return r.foreach((p,g)=>{const _=ur(t,p);c.isCompleteForPath(_)&&(h=h.set(p,c.getNode().getChild(_)))}),Ew(n,e,t,h,i,s,u,a)}}function iz(n,e,t,r,i){const s=e.serverCache,a=w2(e,s.getNode(),s.isFullyInitialized()||ut(t),s.isFiltered());return b2(n,a,t,r,A2,i)}function sz(n,e,t,r,i,s){let a;if(Gg(r,t)!=null)return e;{const u=new AT(r,e,i),c=e.eventCache.getNode();let h;if(ut(t)||ft(t)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=vw(r,bu(e));else{const g=e.serverCache.getNode();ge(g instanceof wt,"serverChildren would be complete if leaf node"),p=S2(r,g)}p=p,h=n.filter.updateFullNode(c,p,s)}else{const p=ft(t);let g=RT(r,p,e.serverCache);g==null&&e.serverCache.isCompleteForChild(p)&&(g=c.getImmediateChild(p)),g!=null?h=n.filter.updateChild(c,p,g,$t(t),u,s):e.eventCache.getNode().hasChild(p)?h=n.filter.updateChild(c,p,wt.EMPTY_NODE,$t(t),u,s):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=vw(r,bu(e)),a.isLeafNode()&&(h=n.filter.updateFullNode(h,a,s)))}return a=e.serverCache.isFullyInitialized()||Gg(r,bt())!=null,Gh(e,h,a,n.filter.filtersNodes())}}function oz(n,e){const t=bu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ut(e)&&!t.getImmediateChild(ft(e)).isEmpty())?t.getChild(e):null}function fR(n,e,t,r){e.type===ho.MERGE&&e.source.queryId!==null&&(ge(bu(n.viewCache_),"We should always have a full cache before handling merges"),ge(gw(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=ez(n.processor_,i,e,t,r);return ZB(n.processor_,s.viewCache),ge(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,az(n,s.changes,s.viewCache.eventCache.getNode())}function az(n,e,t,r){const i=n.eventRegistrations_;return DB(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pR;function lz(n){ge(!pR,"__referenceConstructor has already been defined"),pR=n}function bT(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return ge(s!=null,"SyncTree gave us an op for an invalid query."),fR(s,e,t,r)}else{let s=[];for(const a of n.views.values())s=s.concat(fR(a,e,t,r));return s}}function PT(n,e){let t=null;for(const r of n.views.values())t=t||oz(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mR;function uz(n){ge(!mR,"__referenceConstructor has already been defined"),mR=n}class gR{constructor(e){this.listenProvider_=e,this.syncPointTree_=new zt(null),this.pendingWriteTree_=QB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cz(n,e,t,r,i){return VB(n.pendingWriteTree_,e,t,r,i),i?Y_(n,new Au(g2(),e,t)):[]}function Oc(n,e,t=!1){const r=FB(n.pendingWriteTree_,e);if(UB(n.pendingWriteTree_,e)){let s=new zt(null);return r.snap!=null?s=s.set(bt(),!0):Ss(r.children,a=>{s=s.set(new Ht(a),!0)}),Y_(n,new Hg(r.path,s,t))}else return[]}function Q_(n,e,t){return Y_(n,new Au(_2(),e,t))}function dz(n,e,t){const r=zt.fromObject(t);return Y_(n,new Rf(_2(),e,r))}function hz(n,e,t,r){const i=O2(n,r);if(i!=null){const s=D2(i),a=s.path,u=s.queryId,c=ys(a,e),h=new Au(y2(u),c,t);return L2(n,a,h)}else return[]}function fz(n,e,t,r){const i=O2(n,r);if(i){const s=D2(i),a=s.path,u=s.queryId,c=ys(a,e),h=zt.fromObject(t),p=new Rf(y2(u),c,h);return L2(n,a,p)}else return[]}function P2(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,u)=>{const c=ys(a,e),h=PT(u,c);if(h)return h});return C2(i,e,s,t,!0)}function Y_(n,e){return k2(e,n.syncPointTree_,null,T2(n.pendingWriteTree_,bt()))}function k2(n,e,t,r){if(ut(n.path))return N2(n,e,t,r);{const i=e.get(bt());t==null&&i!=null&&(t=PT(i,bt()));let s=[];const a=ft(n.path),u=n.operationForChild(a),c=e.children.get(a);if(c&&u){const h=t?t.getImmediateChild(a):null,p=I2(r,a);s=s.concat(k2(u,c,h,p))}return i&&(s=s.concat(bT(i,n,r,t))),s}}function N2(n,e,t,r){const i=e.get(bt());t==null&&i!=null&&(t=PT(i,bt()));let s=[];return e.children.inorderTraversal((a,u)=>{const c=t?t.getImmediateChild(a):null,h=I2(r,a),p=n.operationForChild(a);p&&(s=s.concat(N2(p,u,c,h)))}),i&&(s=s.concat(bT(i,n,r,t))),s}function O2(n,e){return n.tagToQueryMap.get(e)}function D2(n){const e=n.indexOf("$");return ge(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ht(n.substr(0,e))}}function L2(n,e,t){const r=n.syncPointTree_.get(e);ge(r,"Missing sync point for query tag that we're tracking");const i=T2(n.pendingWriteTree_,e);return bT(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new kT(t)}node(){return this.node_}}class NT{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ur(this.path_,e);return new NT(this.syncTree_,t)}node(){return P2(this.syncTree_,this.path_)}}const pz=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},_R=function(n,e,t){if(!n||typeof n!="object")return n;if(ge(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return mz(n[".sv"],e,t);if(typeof n[".sv"]=="object")return gz(n[".sv"],e);ge(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},mz=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ge(!1,"Unexpected server value: "+n)}},gz=function(n,e,t){n.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ge(!1,"Unexpected increment value: "+r);const i=e.node();if(ge(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},_z=function(n,e,t,r){return OT(e,new NT(t,n),r)},yz=function(n,e,t){return OT(n,new kT(e),t)};function OT(n,e,t){const r=n.getPriority().val(),i=_R(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,u=_R(a.getValue(),e,t);return u!==a.getValue()||i!==a.getPriority().val()?new or(u,Or(i)):n}else{const a=n;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new or(i))),a.forEachChild(jr,(u,c)=>{const h=OT(c,e.getImmediateChild(u),t);h!==c&&(s=s.updateImmediateChild(u,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function LT(n,e){let t=e instanceof Ht?e:new Ht(e),r=n,i=ft(t);for(;i!==null;){const s=Jc(r.node.children,i)||{children:{},childCount:0};r=new DT(i,r,s),t=$t(t),i=ft(t)}return r}function Nd(n){return n.node.value}function M2(n,e){n.node.value=e,Tw(n)}function j2(n){return n.node.childCount>0}function vz(n){return Nd(n)===void 0&&!j2(n)}function X_(n,e){Ss(n.node.children,(t,r)=>{e(new DT(t,n,r))})}function V2(n,e,t,r){t&&e(n),X_(n,i=>{V2(i,e,!0)})}function wz(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sp(n){return new Ht(n.parent===null?n.name:sp(n.parent)+"/"+n.name)}function Tw(n){n.parent!==null&&Ez(n.parent,n.name,n)}function Ez(n,e,t){const r=vz(t),i=va(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Tw(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Tw(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=/[\[\].#$\/\u0000-\u001F\u007F]/,xz=/[\[\].#$\u0000-\u001F\u007F]/,r0=10*1024*1024,F2=function(n){return typeof n=="string"&&n.length!==0&&!Tz.test(n)},Cz=function(n){return typeof n=="string"&&n.length!==0&&!xz.test(n)},Sz=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cz(n)},U2=function(n,e,t){const r=t instanceof Ht?new iB(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+su(r));if(typeof e=="function")throw new Error(n+"contains a function "+su(r)+" with contents = "+e.toString());if(Vk(e))throw new Error(n+"contains "+e.toString()+" "+su(r));if(typeof e=="string"&&e.length>r0/3&&y_(e)>r0)throw new Error(n+"contains a string greater than "+r0+" utf8 bytes "+su(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ss(e,(a,u)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!F2(a)))throw new Error(n+" contains an invalid key ("+a+") "+su(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sB(r,a),U2(n,u,r),oB(r)}),i&&s)throw new Error(n+' contains ".value" child '+su(r)+" in addition to actual children.")}},Iz=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!F2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Sz(t))throw new Error(R3(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Az(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!l2(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function Uu(n,e,t){Az(n,t),bz(n,r=>$s(r,e)||$s(e,r))}function bz(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(Pz(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Pz(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();qh&&Nr("event: "+t.toString()),rp(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="repo_interrupt",Nz=25;class Oz{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qg(),this.transactionQueueTree_=new DT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Dz(n,e,t){if(n.stats_=ET(n.repoInfo_),n.forceRestClient_||b9())n.server_=new Wg(n.repoInfo_,(r,i,s,a)=>{yR(n,r,i,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>vR(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ra(n.repoInfo_,e,(r,i,s,a)=>{yR(n,r,i,s,a)},r=>{vR(n,r)},r=>{Mz(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=D9(n.repoInfo_,()=>new OB(n.stats_,n.server_)),n.infoData_=new AB,n.infoSyncTree_=new gR({startListening:(r,i,s,a)=>{let u=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(u=Q_(n.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),MT(n,"connected",!1),n.serverSyncTree_=new gR({startListening:(r,i,s,a)=>(n.server_.listen(r,s,i,(u,c)=>{const h=a(u,c);Uu(n.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function Lz(n){const t=n.infoData_.getNode(new Ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function B2(n){return pz({timestamp:Lz(n)})}function yR(n,e,t,r,i){n.dataUpdateCount++;const s=new Ht(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(i)if(r){const c=xg(t,h=>Or(h));a=fz(n.serverSyncTree_,s,c,i)}else{const c=Or(t);a=hz(n.serverSyncTree_,s,c,i)}else if(r){const c=xg(t,h=>Or(h));a=dz(n.serverSyncTree_,s,c)}else{const c=Or(t);a=Q_(n.serverSyncTree_,s,c)}let u=s;a.length>0&&(u=VT(n,s)),Uu(n.eventQueue_,u,a)}function vR(n,e){MT(n,"connected",e),e===!1&&Vz(n)}function Mz(n,e){Ss(e,(t,r)=>{MT(n,t,r)})}function MT(n,e,t){const r=new Ht("/.info/"+e),i=Or(t);n.infoData_.updateSnapshot(r,i);const s=Q_(n.infoSyncTree_,r,i);Uu(n.eventQueue_,r,s)}function jz(n){return n.nextWriteId_++}function Vz(n){z2(n,"onDisconnectEvents");const e=B2(n),t=qg();mw(n.onDisconnect_,bt(),(i,s)=>{const a=_z(i,s,n.serverSyncTree_,e);m2(t,i,a)});let r=[];mw(t,bt(),(i,s)=>{r=r.concat(Q_(n.serverSyncTree_,i,s));const a=zz(n,i);VT(n,a)}),n.onDisconnect_=qg(),Uu(n.eventQueue_,bt(),r)}function Fz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(kz)}function z2(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Nr(t,...e)}function $2(n,e,t){return P2(n.serverSyncTree_,e,t)||wt.EMPTY_NODE}function jT(n,e=n.transactionQueueTree_){if(e||J_(n,e),Nd(e)){const t=q2(n,e);ge(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&Uz(n,sp(e),t)}else j2(e)&&X_(e,t=>{jT(n,t)})}function Uz(n,e,t){const r=t.map(h=>h.currentWriteId),i=$2(n,e,r);let s=i;const a=i.hash();for(let h=0;h<t.length;h++){const p=t[h];ge(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=ys(e,p.path);s=s.updateChild(g,p.currentOutputSnapshotRaw)}const u=s.val(!0),c=e;n.server_.put(c.toString(),u,h=>{z2(n,"transaction put response",{path:c.toString(),status:h});let p=[];if(h==="ok"){const g=[];for(let _=0;_<t.length;_++)t[_].status=2,p=p.concat(Oc(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&g.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();J_(n,LT(n.transactionQueueTree_,e)),jT(n,n.transactionQueueTree_),Uu(n.eventQueue_,e,p);for(let _=0;_<g.length;_++)rp(g[_])}else{if(h==="datastale")for(let g=0;g<t.length;g++)t[g].status===3?t[g].status=4:t[g].status=0;else{Ki("transaction at "+c.toString()+" failed: "+h);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=h}VT(n,e)}},a)}function VT(n,e){const t=W2(n,e),r=sp(t),i=q2(n,t);return Bz(n,i,r),r}function Bz(n,e,t){if(e.length===0)return;const r=[];let i=[];const a=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const c=e[u],h=ys(t,c.path);let p=!1,g;if(ge(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,g=c.abortReason,i=i.concat(Oc(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Nz)p=!0,g="maxretry",i=i.concat(Oc(n.serverSyncTree_,c.currentWriteId,!0));else{const _=$2(n,c.path,a);c.currentInputSnapshot=_;const w=e[u].update(_.val());if(w!==void 0){U2("transaction failed: Data returned ",w,c.path);let C=Or(w);typeof w=="object"&&w!=null&&va(w,".priority")||(C=C.updatePriority(_.getPriority()));const S=c.currentWriteId,N=B2(n),D=yz(C,_,N);c.currentOutputSnapshotRaw=C,c.currentOutputSnapshotResolved=D,c.currentWriteId=jz(n),a.splice(a.indexOf(S),1),i=i.concat(cz(n.serverSyncTree_,c.path,D,c.currentWriteId,c.applyLocally)),i=i.concat(Oc(n.serverSyncTree_,S,!0))}else p=!0,g="nodata",i=i.concat(Oc(n.serverSyncTree_,c.currentWriteId,!0))}Uu(n.eventQueue_,t,i),i=[],p&&(e[u].status=2,function(_){setTimeout(_,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(g==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(g),!1,null))))}J_(n,n.transactionQueueTree_);for(let u=0;u<r.length;u++)rp(r[u]);jT(n,n.transactionQueueTree_)}function W2(n,e){let t,r=n.transactionQueueTree_;for(t=ft(e);t!==null&&Nd(r)===void 0;)r=LT(r,t),e=$t(e),t=ft(e);return r}function q2(n,e){const t=[];return H2(n,e,t),t.sort((r,i)=>r.order-i.order),t}function H2(n,e,t){const r=Nd(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);X_(e,i=>{H2(n,i,t)})}function J_(n,e){const t=Nd(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,M2(e,t.length>0?t:void 0)}X_(e,r=>{J_(n,r)})}function zz(n,e){const t=sp(W2(n,e)),r=LT(n.transactionQueueTree_,e);return wz(r,i=>{i0(n,i)}),i0(n,r),V2(r,i=>{i0(n,i)}),t}function i0(n,e){const t=Nd(e);if(t){const r=[];let i=[],s=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(ge(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):(ge(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),i=i.concat(Oc(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&r.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?M2(e,void 0):t.length=s+1,Uu(n.eventQueue_,sp(e),i);for(let a=0;a<r.length;a++)rp(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Wz(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ki(`Invalid query segment '${t}' in query '${n}'`)}return e}const wR=function(n,e){const t=qz(n),r=t.namespace;t.domain==="firebase.com"&&ha(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&ha("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||E9();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Yk(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new Ht(t.pathString)}},qz=function(n){let e="",t="",r="",i="",s="",a=!0,u="https",c=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(u=n.substring(0,h-1),n=n.substring(h+2));let p=n.indexOf("/");p===-1&&(p=n.length);let g=n.indexOf("?");g===-1&&(g=n.length),e=n.substring(0,Math.min(p,g)),p<g&&(i=$z(n.substring(p,g)));const _=Wz(n.substring(Math.min(n.length,g)));h=e.indexOf(":"),h>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const w=e.slice(0,h);if(w.toLowerCase()==="localhost")t="localhost";else if(w.split(".").length<=2)t=w;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),t=e.substring(C+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:a,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ut(this._path)?null:s2(this._path)}get ref(){return new Od(this._repo,this._path)}get _queryIdentifier(){const e=sR(this._queryParams),t=vT(e);return t==="{}"?"default":t}get _queryObject(){return sR(this._queryParams)}isEqual(e){if(e=jt(e),!(e instanceof FT))return!1;const t=this._repo===e._repo,r=l2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+rB(this._path)}}class Od extends FT{constructor(e,t){super(e,t,new ST,!1)}get parent(){const e=a2(this._path);return e===null?null:new Od(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}lz(Od);uz(Od);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz="FIREBASE_DATABASE_EMULATOR_HOST",xw={};let Gz=!1;function Kz(n,e,t,r){n.repoInfo_=new Yk(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function Qz(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||ha("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=wR(s,i),u=a.repoInfo,c;typeof process<"u"&&UI&&(c=UI[Hz]),c?(s=`http://${c}?ns=${u.namespace}`,a=wR(s,i),u=a.repoInfo):a.repoInfo.secure;const h=new k9(n.name,n.options,e);Iz("Invalid Firebase Database URL",a),ut(a.path)||ha("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Xz(u,n,h,new P9(n,t));return new Jz(p,n)}function Yz(n,e){const t=xw[e];(!t||t[n.key]!==n)&&ha(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Fz(n),delete t[n.key]}function Xz(n,e,t,r){let i=xw[e.name];i||(i={},xw[e.name]=i);let s=i[n.toURLString()];return s&&ha("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Oz(n,Gz,t,r),i[n.toURLString()]=s,s}class Jz{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Dz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Od(this._repo,bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Yz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ha("Cannot call "+e+" on a deleted database.")}}function Zz(n=w_(),e){const t=Wf(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=vE("database");r&&e8(t,...r)}return t}function e8(n,e,t,r={}){n=jt(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&ml(r,s.repoInfo_.emulatorOptions))return;ha("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&ha('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ag(ag.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:EE(r.mockUserToken,n.app.options.projectId);a=new ag(u)}Kz(s,i,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(n){m9(bl),gl(new oa("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Qz(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),Es(BI,zI,n),Es(BI,zI,"esm2017")}ra.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};ra.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};t8();const UT=async(n,e,t,r,i,s,a)=>{const u=Zf();let c;e||t?c=`${e||""} ${t||""}`.trim():c=s||"";const h={uid:n,displayName:c,firstName:e||(s?s.split(" ")[0]:""),lastName:t||(s?s.split(" ").slice(1).join(" "):""),email:r,phoneNumber:i,createdAt:new Date,...a?{role:a}:{}};await yT(Nn(u,"users",n),h,{merge:!0})},G2={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-b0c23.firebaseio.com"};console.log("FIREBASE CONFIG:",G2);const BT=yb(G2),Z_=S_(BT);new uo;const kn=Zf(BT);a5("debug");const K2=ni.createContext();function Ao(){return R.useContext(K2)}function n8({children:n}){const[e,t]=R.useState(null),[r,i]=R.useState(!1),[s,a]=R.useState(!0),[u,c]=R.useState(!1),[h,p]=R.useState(!1),[g,_]=R.useState(!1),w={currentUser:e,userLoggedIn:r,isEmailUser:u,isGoogleUser:h,loading:s,redirectAfterAuth:g,setRedirectAfterAuth:_};return R.useEffect(()=>{const C=S_(),x=qb(C,S=>{var N;if(t(S),i(!!S),S){const D=(N=S.providerData[0])==null?void 0:N.providerId;c(D==="password"),p(D==="google.com")}else c(!1),p(!1);a(!1),console.log("AuthProvider state updated: userLoggedIn =",!!S,"user:",S==null?void 0:S.uid)});return()=>x},[]),v.jsx(K2.Provider,{value:w,children:!s&&n})}const Af=Zf(BT),r8=async n=>{try{const e=Nn(Af,"users",n),t=await _s(e);return t.exists()?t.data():null}catch(e){throw console.error("Error fetching user profile:",e),e}},Bu=R.createContext(),ey=()=>R.useContext(Bu),i8=({children:n})=>{const[e,t]=R.useState(null),[r,i]=R.useState(null),[s,a]=R.useState(!0);return R.useEffect(()=>{const u=qb(Z_,async c=>{if(t(c),!c){i(null),a(!1);return}console.log("Current user UID:",c==null?void 0:c.uid);let h=null,p=null;if(c.displayName){const w=c.displayName.split(" ");h=w[0]||"",p=w.slice(1).join(" ")||""}const g=Nn(Af,"users",c.uid);(await _s(g)).exists()?console.log("User profile already exists, skipping creation."):(console.log("User profile doesn't exist yet, creating it."),await UT(c.uid,h,p,c.email,null,c.displayName));try{const w=await r8(c.uid),C={displayName:c.displayName||"",email:c.email||"",photoURL:c.photoURL||""};i(w||C),a(!1);try{const x=Nn(Af,"users",c.uid);console.log("Setting up Firestore listener on: /users/"+c.uid),(await _s(x)).exists()||(console.log("Document doesn't exist yet, creating it first"),await yT(x,{displayName:r.displayName,email:r.email,photoURL:r.photoURL,createdAt:new Date},{merge:!0}));const N=Ok(x,D=>{D.exists()?(console.log("Received profile update for UID:",c.uid,"Data:",D.data()),i(D.data())):console.warn("User document does not exist for UID:",c.uid)},D=>{console.error("Error listening to profile updates:",D)});return()=>N()}catch(x){console.error("Error setting up profile listener:",x)}}catch(w){console.error("Failed to fetch user profile:",w.message),a(!1)}});return()=>u()},[]),v.jsx(Bu.Provider,{value:{user:e,profile:r,loading:s},children:n})},Q2=R.createContext(),s8={conversations:[],selectedConversation:null,messages:[],loading:!1,currentConversationData:null};function o8(n,e){switch(e.type){case"SET_CONVERSATIONS":const t=[...e.payload].sort((u,c)=>{var g,_,w,C,x,S,N,D,V,F,$,W;const h=((w=(_=(g=u.lastMessage)==null?void 0:g.timestamp)==null?void 0:_.toMillis)==null?void 0:w.call(_))||(((C=u.lastMessage)==null?void 0:C.timestamp)instanceof Date?u.lastMessage.timestamp.getTime():0)||((S=(x=u.updatedAt)==null?void 0:x.toMillis)==null?void 0:S.call(x))||0;return(((V=(D=(N=c.lastMessage)==null?void 0:N.timestamp)==null?void 0:D.toMillis)==null?void 0:V.call(D))||(((F=c.lastMessage)==null?void 0:F.timestamp)instanceof Date?c.lastMessage.timestamp.getTime():0)||((W=($=c.updatedAt)==null?void 0:$.toMillis)==null?void 0:W.call($))||0)-h});let r=n.currentConversationData;if(n.selectedConversation){const u=t.find(c=>c.id===n.selectedConversation);u&&(r=u)}return{...n,conversations:t,currentConversationData:r};case"UPDATE_LAST_MESSAGE":const i=n.conversations.map(u=>u.id===e.payload.conversationId?{...u,lastMessage:e.payload.lastMessage,updatedAt:e.payload.lastMessage.timestamp}:u).sort((u,c)=>{var g,_,w,C,x,S,N,D,V,F,$,W;const h=((w=(_=(g=u.lastMessage)==null?void 0:g.timestamp)==null?void 0:_.toMillis)==null?void 0:w.call(_))||(((C=u.lastMessage)==null?void 0:C.timestamp)instanceof Date?u.lastMessage.timestamp.getTime():0)||((S=(x=u.updatedAt)==null?void 0:x.toMillis)==null?void 0:S.call(x))||0;return(((V=(D=(N=c.lastMessage)==null?void 0:N.timestamp)==null?void 0:D.toMillis)==null?void 0:V.call(D))||(((F=c.lastMessage)==null?void 0:F.timestamp)instanceof Date?c.lastMessage.timestamp.getTime():0)||((W=($=c.updatedAt)==null?void 0:$.toMillis)==null?void 0:W.call($))||0)-h});return{...n,conversations:i};case"SELECT_CONVERSATION":if(n.selectedConversation===e.payload)return n;const s=n.conversations.find(u=>u.id===e.payload)||null;return{...n,selectedConversation:e.payload,messages:[],currentConversationData:s};case"SET_CURRENT_CONVERSATION_DATA":return{...n,currentConversationData:e.payload};case"SET_MESSAGES":return{...n,messages:e.payload};case"ADD_MESSAGE":return n.messages.some(u=>{var c,h,p,g,_,w;return u.id===e.payload.id||u.senderId===e.payload.senderId&&u.text===e.payload.text&&Math.abs(((p=((h=(c=u.timestamp)==null?void 0:c.toDate)==null?void 0:h.call(c))||u.timestamp)==null?void 0:p.getTime())-((w=((_=(g=e.payload.timestamp)==null?void 0:g.toDate)==null?void 0:_.call(g))||e.payload.timestamp)==null?void 0:w.getTime()))<5e3})?n:{...n,messages:[...n.messages,e.payload].sort((u,c)=>{var g,_,w,C;const h=((_=(g=u.timestamp)==null?void 0:g.toMillis)==null?void 0:_.call(g))||(u.timestamp instanceof Date?u.timestamp.getTime():0),p=((C=(w=c.timestamp)==null?void 0:w.toMillis)==null?void 0:C.call(w))||(c.timestamp instanceof Date?c.timestamp.getTime():0);return h-p})};case"SET_LOADING":return{...n,loading:e.payload};default:return n}}function a8({children:n}){const[e,t]=R.useReducer(o8,s8);return R.useEffect(()=>{const r=e.selectedConversation;if(!r)return;console.log(`Setting up listener for conversation ${r}`);const i=Nn(kn,"conversations",r),s=Ok(i,a=>{if(a.exists()){const u={id:a.id,...a.data()};if(console.log("Conversation data updated:",u),t({type:"SET_CURRENT_CONVERSATION_DATA",payload:u}),e.conversations.length>0){const c=e.conversations.map(h=>h.id===r?u:h);t({type:"SET_CONVERSATIONS",payload:c})}}else console.log(`Conversation ${r} does not exist`)},a=>{console.error("Error listening to conversation:",a)});return()=>{console.log(`Cleaning up listener for conversation ${r}`),s()}},[e.selectedConversation]),v.jsx(Q2.Provider,{value:{state:e,dispatch:t},children:n})}function _Q(){return R.useContext(Q2)}function zT(){return v.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}const l8=1,u8=1e6;let s0=0;function c8(){return s0=(s0+1)%Number.MAX_SAFE_INTEGER,s0.toString()}const o0=new Map,ER=n=>{if(o0.has(n))return;const e=setTimeout(()=>{o0.delete(n),Qh({type:"REMOVE_TOAST",toastId:n})},u8);o0.set(n,e)},d8=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,l8)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?ER(t):n.toasts.forEach(r=>{ER(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},lg=[];let ug={toasts:[]};function Qh(n){ug=d8(ug,n),lg.forEach(e=>{e(ug)})}function h8({...n}){const e=c8(),t=i=>Qh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Qh({type:"DISMISS_TOAST",toastId:e});return Qh({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function $T(){const[n,e]=R.useState(ug);return R.useEffect(()=>(lg.push(e),()=>{const t=lg.indexOf(e);t>-1&&lg.splice(t,1)}),[n]),{...n,toast:h8,dismiss:t=>Qh({type:"DISMISS_TOAST",toastId:t})}}function zi(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function TR(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Y2(...n){return e=>{let t=!1;const r=n.map(i=>{const s=TR(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():TR(n[i],null)}}}}function Pu(...n){return R.useCallback(Y2(...n),n)}function X2(n,e=[]){let t=[];function r(s,a){const u=R.createContext(a),c=t.length;t=[...t,a];const h=g=>{var N;const{scope:_,children:w,...C}=g,x=((N=_==null?void 0:_[n])==null?void 0:N[c])||u,S=R.useMemo(()=>C,Object.values(C));return v.jsx(x.Provider,{value:S,children:w})};h.displayName=s+"Provider";function p(g,_){var x;const w=((x=_==null?void 0:_[n])==null?void 0:x[c])||u,C=R.useContext(w);if(C)return C;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[h,p]}const i=()=>{const s=t.map(a=>R.createContext(a));return function(u){const c=(u==null?void 0:u[n])||s;return R.useMemo(()=>({[`__scope${n}`]:{...u,[n]:c}}),[u,c])}};return i.scopeName=n,[r,f8(i,...e)]}function f8(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((u,{useScope:c,scopeName:h})=>{const g=c(s)[`__scope${h}`];return{...u,...g}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var Qg=R.forwardRef((n,e)=>{const{children:t,...r}=n,i=R.Children.toArray(t),s=i.find(m8);if(s){const a=s.props.children,u=i.map(c=>c===s?R.Children.count(a)>1?R.Children.only(null):R.isValidElement(a)?a.props.children:null:c);return v.jsx(Cw,{...r,ref:e,children:R.isValidElement(a)?R.cloneElement(a,void 0,u):null})}return v.jsx(Cw,{...r,ref:e,children:t})});Qg.displayName="Slot";var Cw=R.forwardRef((n,e)=>{const{children:t,...r}=n;if(R.isValidElement(t)){const i=_8(t),s=g8(r,t.props);return t.type!==R.Fragment&&(s.ref=e?Y2(e,i):i),R.cloneElement(t,s)}return R.Children.count(t)>1?R.Children.only(null):null});Cw.displayName="SlotClone";var p8=({children:n})=>v.jsx(v.Fragment,{children:n});function m8(n){return R.isValidElement(n)&&n.type===p8}function g8(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...u)=>{s(...u),i(...u)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function _8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function y8(n){const e=n+"CollectionProvider",[t,r]=X2(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:C,children:x}=w,S=ni.useRef(null),N=ni.useRef(new Map).current;return v.jsx(i,{scope:C,itemMap:N,collectionRef:S,children:x})};a.displayName=e;const u=n+"CollectionSlot",c=ni.forwardRef((w,C)=>{const{scope:x,children:S}=w,N=s(u,x),D=Pu(C,N.collectionRef);return v.jsx(Qg,{ref:D,children:S})});c.displayName=u;const h=n+"CollectionItemSlot",p="data-radix-collection-item",g=ni.forwardRef((w,C)=>{const{scope:x,children:S,...N}=w,D=ni.useRef(null),V=Pu(C,D),F=s(h,x);return ni.useEffect(()=>(F.itemMap.set(D,{ref:D,...N}),()=>void F.itemMap.delete(D))),v.jsx(Qg,{[p]:"",ref:V,children:S})});g.displayName=h;function _(w){const C=s(n+"CollectionConsumer",w);return ni.useCallback(()=>{const S=C.collectionRef.current;if(!S)return[];const N=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(C.itemMap.values()).sort((F,$)=>N.indexOf(F.ref.current)-N.indexOf($.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},_,r]}var v8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bo=v8.reduce((n,e)=>{const t=R.forwardRef((r,i)=>{const{asChild:s,...a}=r,u=s?Qg:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(u,{...a,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function J2(n,e){n&&_E.flushSync(()=>n.dispatchEvent(e))}function fa(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function w8(n,e=globalThis==null?void 0:globalThis.document){const t=fa(n);R.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var E8="DismissableLayer",Sw="dismissableLayer.update",T8="dismissableLayer.pointerDownOutside",x8="dismissableLayer.focusOutside",xR,Z2=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eN=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:u,...c}=n,h=R.useContext(Z2),[p,g]=R.useState(null),_=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=R.useState({}),C=Pu(e,P=>g(P)),x=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=x.indexOf(S),D=p?x.indexOf(p):-1,V=h.layersWithOutsidePointerEventsDisabled.size>0,F=D>=N,$=S8(P=>{const A=P.target,b=[...h.branches].some(O=>O.contains(A));!F||b||(i==null||i(P),a==null||a(P),P.defaultPrevented||u==null||u())},_),W=I8(P=>{const A=P.target;[...h.branches].some(O=>O.contains(A))||(s==null||s(P),a==null||a(P),P.defaultPrevented||u==null||u())},_);return w8(P=>{D===h.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},_),R.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(xR=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),CR(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=xR)}},[p,_,t,h]),R.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),CR())},[p,h]),R.useEffect(()=>{const P=()=>w({});return document.addEventListener(Sw,P),()=>document.removeEventListener(Sw,P)},[]),v.jsx(bo.div,{...c,ref:C,style:{pointerEvents:V?F?"auto":"none":void 0,...n.style},onFocusCapture:zi(n.onFocusCapture,W.onFocusCapture),onBlurCapture:zi(n.onBlurCapture,W.onBlurCapture),onPointerDownCapture:zi(n.onPointerDownCapture,$.onPointerDownCapture)})});eN.displayName=E8;var C8="DismissableLayerBranch",tN=R.forwardRef((n,e)=>{const t=R.useContext(Z2),r=R.useRef(null),i=Pu(e,r);return R.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),v.jsx(bo.div,{...n,ref:i})});tN.displayName=C8;function S8(n,e=globalThis==null?void 0:globalThis.document){const t=fa(n),r=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let c=function(){nN(T8,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function I8(n,e=globalThis==null?void 0:globalThis.document){const t=fa(n),r=R.useRef(!1);return R.useEffect(()=>{const i=s=>{s.target&&!r.current&&nN(x8,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CR(){const n=new CustomEvent(Sw);document.dispatchEvent(n)}function nN(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?J2(i,s):i.dispatchEvent(s)}var R8=eN,A8=tN,Yg=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},b8="Portal",rN=R.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,s]=R.useState(!1);Yg(()=>s(!0),[]);const a=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?e3.createPortal(v.jsx(bo.div,{...r,ref:e}),a):null});rN.displayName=b8;function P8(n,e){return R.useReducer((t,r)=>e[t][r]??t,n)}var iN=n=>{const{present:e,children:t}=n,r=k8(e),i=typeof t=="function"?t({present:r.isPresent}):R.Children.only(t),s=Pu(r.ref,N8(i));return typeof t=="function"||r.isPresent?R.cloneElement(i,{ref:s}):null};iN.displayName="Presence";function k8(n){const[e,t]=R.useState(),r=R.useRef({}),i=R.useRef(n),s=R.useRef("none"),a=n?"mounted":"unmounted",[u,c]=P8(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const h=Pm(r.current);s.current=u==="mounted"?h:"none"},[u]),Yg(()=>{const h=r.current,p=i.current;if(p!==n){const _=s.current,w=Pm(h);n?c("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&_!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),Yg(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=w=>{const x=Pm(r.current).includes(w.animationName);if(w.target===e&&x&&(c("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},_=w=>{w.target===e&&(s.current=Pm(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:R.useCallback(h=>{h&&(r.current=getComputedStyle(h)),t(h)},[])}}function Pm(n){return(n==null?void 0:n.animationName)||"none"}function N8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function O8({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=D8({defaultProp:e,onChange:t}),s=n!==void 0,a=s?n:r,u=fa(t),c=R.useCallback(h=>{if(s){const g=typeof h=="function"?h(n):h;g!==n&&u(g)}else i(h)},[s,n,i,u]);return[a,c]}function D8({defaultProp:n,onChange:e}){const t=R.useState(n),[r]=t,i=R.useRef(r),s=fa(e);return R.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var L8="VisuallyHidden",WT=R.forwardRef((n,e)=>v.jsx(bo.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));WT.displayName=L8;var qT="ToastProvider",[HT,M8,j8]=y8("Toast"),[sN,yQ]=X2("Toast",[j8]),[V8,ty]=sN(qT),oN=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=n,[u,c]=R.useState(null),[h,p]=R.useState(0),g=R.useRef(!1),_=R.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${qT}\`. Expected non-empty \`string\`.`),v.jsx(HT.Provider,{scope:e,children:v.jsx(V8,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:u,onViewportChange:c,onToastAdd:R.useCallback(()=>p(w=>w+1),[]),onToastRemove:R.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:_,children:a})})};oN.displayName=qT;var aN="ToastViewport",F8=["F8"],Iw="toast.viewportPause",Rw="toast.viewportResume",lN=R.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=F8,label:i="Notifications ({hotkey})",...s}=n,a=ty(aN,t),u=M8(t),c=R.useRef(null),h=R.useRef(null),p=R.useRef(null),g=R.useRef(null),_=Pu(e,g,a.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=a.toastCount>0;R.useEffect(()=>{const S=N=>{var V;r.length!==0&&r.every(F=>N[F]||N.code===F)&&((V=g.current)==null||V.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),R.useEffect(()=>{const S=c.current,N=g.current;if(C&&S&&N){const D=()=>{if(!a.isClosePausedRef.current){const W=new CustomEvent(Iw);N.dispatchEvent(W),a.isClosePausedRef.current=!0}},V=()=>{if(a.isClosePausedRef.current){const W=new CustomEvent(Rw);N.dispatchEvent(W),a.isClosePausedRef.current=!1}},F=W=>{!S.contains(W.relatedTarget)&&V()},$=()=>{S.contains(document.activeElement)||V()};return S.addEventListener("focusin",D),S.addEventListener("focusout",F),S.addEventListener("pointermove",D),S.addEventListener("pointerleave",$),window.addEventListener("blur",D),window.addEventListener("focus",V),()=>{S.removeEventListener("focusin",D),S.removeEventListener("focusout",F),S.removeEventListener("pointermove",D),S.removeEventListener("pointerleave",$),window.removeEventListener("blur",D),window.removeEventListener("focus",V)}}},[C,a.isClosePausedRef]);const x=R.useCallback(({tabbingDirection:S})=>{const D=u().map(V=>{const F=V.ref.current,$=[F,...J8(F)];return S==="forwards"?$:$.reverse()});return(S==="forwards"?D.reverse():D).flat()},[u]);return R.useEffect(()=>{const S=g.current;if(S){const N=D=>{var $,W,P;const V=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!V){const A=document.activeElement,b=D.shiftKey;if(D.target===S&&b){($=h.current)==null||$.focus();return}const M=x({tabbingDirection:b?"backwards":"forwards"}),j=M.findIndex(ne=>ne===A);a0(M.slice(j+1))?D.preventDefault():b?(W=h.current)==null||W.focus():(P=p.current)==null||P.focus()}};return S.addEventListener("keydown",N),()=>S.removeEventListener("keydown",N)}},[u,x]),v.jsxs(A8,{ref:c,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&v.jsx(Aw,{ref:h,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});a0(S)}}),v.jsx(HT.Slot,{scope:t,children:v.jsx(bo.ol,{tabIndex:-1,...s,ref:_})}),C&&v.jsx(Aw,{ref:p,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});a0(S)}})]})});lN.displayName=aN;var uN="ToastFocusProxy",Aw=R.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=ty(uN,t);return v.jsx(WT,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var h;const u=a.relatedTarget;!((h=s.viewport)!=null&&h.contains(u))&&r()}})});Aw.displayName=uN;var ny="Toast",U8="toast.swipeStart",B8="toast.swipeMove",z8="toast.swipeCancel",$8="toast.swipeEnd",cN=R.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...a}=n,[u=!0,c]=O8({prop:r,defaultProp:i,onChange:s});return v.jsx(iN,{present:t||u,children:v.jsx(H8,{open:u,...a,ref:e,onClose:()=>c(!1),onPause:fa(n.onPause),onResume:fa(n.onResume),onSwipeStart:zi(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:zi(n.onSwipeMove,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:zi(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:zi(n.onSwipeEnd,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),c(!1)})})})});cN.displayName=ny;var[W8,q8]=sN(ny,{onClose(){}}),H8=R.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:u,onPause:c,onResume:h,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:_,onSwipeEnd:w,...C}=n,x=ty(ny,t),[S,N]=R.useState(null),D=Pu(e,ne=>N(ne)),V=R.useRef(null),F=R.useRef(null),$=i||x.duration,W=R.useRef(0),P=R.useRef($),A=R.useRef(0),{onToastAdd:b,onToastRemove:O}=x,U=fa(()=>{var he;(S==null?void 0:S.contains(document.activeElement))&&((he=x.viewport)==null||he.focus()),a()}),M=R.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(A.current),W.current=new Date().getTime(),A.current=window.setTimeout(U,ne))},[U]);R.useEffect(()=>{const ne=x.viewport;if(ne){const he=()=>{M(P.current),h==null||h()},de=()=>{const le=new Date().getTime()-W.current;P.current=P.current-le,window.clearTimeout(A.current),c==null||c()};return ne.addEventListener(Iw,de),ne.addEventListener(Rw,he),()=>{ne.removeEventListener(Iw,de),ne.removeEventListener(Rw,he)}}},[x.viewport,$,c,h,M]),R.useEffect(()=>{s&&!x.isClosePausedRef.current&&M($)},[s,$,x.isClosePausedRef,M]),R.useEffect(()=>(b(),()=>O()),[b,O]);const j=R.useMemo(()=>S?_N(S):null,[S]);return x.viewport?v.jsxs(v.Fragment,{children:[j&&v.jsx(G8,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),v.jsx(W8,{scope:t,onClose:U,children:_E.createPortal(v.jsx(HT.ItemSlot,{scope:t,children:v.jsx(R8,{asChild:!0,onEscapeKeyDown:zi(u,()=>{x.isFocusedToastEscapeKeyDownRef.current||U(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(bo.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...C,ref:D,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:zi(n.onKeyDown,ne=>{ne.key==="Escape"&&(u==null||u(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:zi(n.onPointerDown,ne=>{ne.button===0&&(V.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:zi(n.onPointerMove,ne=>{if(!V.current)return;const he=ne.clientX-V.current.x,de=ne.clientY-V.current.y,le=!!F.current,te=["left","right"].includes(x.swipeDirection),oe=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,B=te?oe(0,he):0,q=te?0:oe(0,de),ee=ne.pointerType==="touch"?10:2,me={x:B,y:q},_e={originalEvent:ne,delta:me};le?(F.current=me,km(B8,g,_e,{discrete:!1})):SR(me,x.swipeDirection,ee)?(F.current=me,km(U8,p,_e,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(he)>ee||Math.abs(de)>ee)&&(V.current=null)}),onPointerUp:zi(n.onPointerUp,ne=>{const he=F.current,de=ne.target;if(de.hasPointerCapture(ne.pointerId)&&de.releasePointerCapture(ne.pointerId),F.current=null,V.current=null,he){const le=ne.currentTarget,te={originalEvent:ne,delta:he};SR(he,x.swipeDirection,x.swipeThreshold)?km($8,w,te,{discrete:!0}):km(z8,_,te,{discrete:!0}),le.addEventListener("click",oe=>oe.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),G8=n=>{const{__scopeToast:e,children:t,...r}=n,i=ty(ny,e),[s,a]=R.useState(!1),[u,c]=R.useState(!1);return Y8(()=>a(!0)),R.useEffect(()=>{const h=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:v.jsx(rN,{asChild:!0,children:v.jsx(WT,{...r,children:s&&v.jsxs(v.Fragment,{children:[i.label," ",t]})})})},K8="ToastTitle",dN=R.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return v.jsx(bo.div,{...r,ref:e})});dN.displayName=K8;var Q8="ToastDescription",hN=R.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return v.jsx(bo.div,{...r,ref:e})});hN.displayName=Q8;var fN="ToastAction",pN=R.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?v.jsx(gN,{altText:t,asChild:!0,children:v.jsx(GT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fN}\`. Expected non-empty \`string\`.`),null)});pN.displayName=fN;var mN="ToastClose",GT=R.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=q8(mN,t);return v.jsx(gN,{asChild:!0,children:v.jsx(bo.button,{type:"button",...r,ref:e,onClick:zi(n.onClick,i.onClose)})})});GT.displayName=mN;var gN=R.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return v.jsx(bo.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function _N(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),X8(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(..._N(r))}}),e}function km(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?J2(i,s):i.dispatchEvent(s)}var SR=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function Y8(n=()=>{}){const e=fa(n);Yg(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function X8(n){return n.nodeType===n.ELEMENT_NODE}function J8(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function a0(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Z8=oN,yN=lN,vN=cN,wN=dN,EN=hN,TN=pN,xN=GT;function CN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=CN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function SN(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=CN(n))&&(r&&(r+=" "),r+=e);return r}const IR=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,RR=SN,IN=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return RR(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(h=>{const p=t==null?void 0:t[h],g=s==null?void 0:s[h];if(p===null)return null;const _=IR(p)||IR(g);return i[h][_]}),u=t&&Object.entries(t).reduce((h,p)=>{let[g,_]=p;return _===void 0||(h[g]=_),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:_,...w}=p;return Object.entries(w).every(C=>{let[x,S]=C;return Array.isArray(S)?S.includes({...s,...u}[x]):{...s,...u}[x]===S})?[...h,g,_]:h},[]);return RR(n,a,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RN=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...u},c)=>R.createElement("svg",{ref:c,...t$,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:RN("lucide",i),...u},[...a.map(([h,p])=>R.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=(n,e)=>{const t=R.forwardRef(({className:r,...i},s)=>R.createElement(n$,{ref:s,iconNode:e,className:RN(`lucide-${e$(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],i$=op("Bell",r$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],o$=op("LoaderCircle",s$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],l$=op("LogOut",a$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c$=op("Settings",u$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],h$=op("X",d$),KT="-",f$=n=>{const e=m$(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const u=a.split(KT);return u[0]===""&&u.length!==1&&u.shift(),AN(u,e)||p$(a)},getConflictingClassGroupIds:(a,u)=>{const c=t[a]||[];return u&&r[a]?[...c,...r[a]]:c}}},AN=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?AN(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(KT);return(a=e.validators.find(({validator:u})=>u(s)))==null?void 0:a.classGroupId},AR=/^\[(.+)\]$/,p$=n=>{if(AR.test(n)){const e=AR.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},m$=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return _$(Object.entries(n.classGroups),t).forEach(([s,a])=>{bw(a,r,s,e)}),r},bw=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:bR(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(g$(i)){bw(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,a])=>{bw(a,bR(e,s),t,r)})})},bR=(n,e)=>{let t=n;return e.split(KT).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},g$=n=>n.isThemeGetter,_$=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,u])=>[e+a,u])):s);return[t,i]}):n,y$=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){t.has(s)?t.set(s,a):i(s,a)}}},bN="!",v$=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,a=u=>{const c=[];let h=0,p=0,g;for(let S=0;S<u.length;S++){let N=u[S];if(h===0){if(N===i&&(r||u.slice(S,S+s)===e)){c.push(u.slice(p,S)),p=S+s;continue}if(N==="/"){g=S;continue}}N==="["?h++:N==="]"&&h--}const _=c.length===0?u:u.substring(p),w=_.startsWith(bN),C=w?_.substring(1):_,x=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:x}};return t?u=>t({className:u,parseClassName:a}):a},w$=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},E$=n=>({cache:y$(n.cacheSize),parseClassName:v$(n),...f$(n)}),T$=/\s+/,x$=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=n.trim().split(T$);let u="";for(let c=a.length-1;c>=0;c-=1){const h=a[c],{modifiers:p,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:w}=t(h);let C=!!w,x=r(C?_.substring(0,w):_);if(!x){if(!C){u=h+(u.length>0?" "+u:u);continue}if(x=r(_),!x){u=h+(u.length>0?" "+u:u);continue}C=!1}const S=w$(p).join(":"),N=g?S+bN:S,D=N+x;if(s.includes(D))continue;s.push(D);const V=i(x,C);for(let F=0;F<V.length;++F){const $=V[F];s.push(N+$)}u=h+(u.length>0?" "+u:u)}return u};function C$(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=PN(e))&&(r&&(r+=" "),r+=t);return r}const PN=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=PN(n[r]))&&(t&&(t+=" "),t+=e);return t};function S$(n,...e){let t,r,i,s=a;function a(c){const h=e.reduce((p,g)=>g(p),n());return t=E$(h),r=t.cache.get,i=t.cache.set,s=u,u(c)}function u(c){const h=r(c);if(h)return h;const p=x$(c,t);return i(c,p),p}return function(){return s(C$.apply(null,arguments))}}const Bt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},kN=/^\[(?:([a-z-]+):)?(.+)\]$/i,I$=/^\d+\/\d+$/,R$=new Set(["px","full","screen"]),A$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$o=n=>Wc(n)||R$.has(n)||I$.test(n),Wa=n=>Dd(n,"length",U$),Wc=n=>!!n&&!Number.isNaN(Number(n)),l0=n=>Dd(n,"number",Wc),wh=n=>!!n&&Number.isInteger(Number(n)),O$=n=>n.endsWith("%")&&Wc(n.slice(0,-1)),Ye=n=>kN.test(n),qa=n=>A$.test(n),D$=new Set(["length","size","percentage"]),L$=n=>Dd(n,D$,NN),M$=n=>Dd(n,"position",NN),j$=new Set(["image","url"]),V$=n=>Dd(n,j$,z$),F$=n=>Dd(n,"",B$),Eh=()=>!0,Dd=(n,e,t)=>{const r=kN.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},U$=n=>b$.test(n)&&!P$.test(n),NN=()=>!1,B$=n=>k$.test(n),z$=n=>N$.test(n),$$=()=>{const n=Bt("colors"),e=Bt("spacing"),t=Bt("blur"),r=Bt("brightness"),i=Bt("borderColor"),s=Bt("borderRadius"),a=Bt("borderSpacing"),u=Bt("borderWidth"),c=Bt("contrast"),h=Bt("grayscale"),p=Bt("hueRotate"),g=Bt("invert"),_=Bt("gap"),w=Bt("gradientColorStops"),C=Bt("gradientColorStopPositions"),x=Bt("inset"),S=Bt("margin"),N=Bt("opacity"),D=Bt("padding"),V=Bt("saturate"),F=Bt("scale"),$=Bt("sepia"),W=Bt("skew"),P=Bt("space"),A=Bt("translate"),b=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Ye,e],M=()=>[Ye,e],j=()=>["",$o,Wa],ne=()=>["auto",Wc,Ye],he=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Ye],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Wc,Ye];return{cacheSize:500,separator:":",theme:{colors:[Eh],spacing:[$o,Wa],blur:["none","",qa,Ye],brightness:q(),borderColor:[n],borderRadius:["none","","full",qa,Ye],borderSpacing:M(),borderWidth:j(),contrast:q(),grayscale:oe(),hueRotate:q(),invert:oe(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[O$,Wa],inset:U(),margin:U(),opacity:q(),padding:M(),saturate:q(),scale:q(),sepia:oe(),skew:q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[qa]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...he(),Ye]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wh,Ye]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",wh,Ye]}],"grid-cols":[{"grid-cols":[Eh]}],"col-start-end":[{col:["auto",{span:["full",wh,Ye]},Ye]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[Eh]}],"row-start-end":[{row:["auto",{span:[wh,Ye]},Ye]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[qa]},qa]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qa,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",l0]}],"font-family":[{font:[Eh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Wc,l0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$o,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$o,Wa]}],"underline-offset":[{"underline-offset":["auto",$o,Ye]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...he(),M$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",L$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},V$]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[$o,Ye]}],"outline-w":[{outline:[$o,Wa]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[$o,Wa]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",qa,F$]}],"shadow-color":[{shadow:[Eh]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qa,Ye]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[V]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[wh,Ye]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[$o,Wa,l0]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},W$=S$($$);function Ll(...n){return W$(SN(n))}const q$=Z8,ON=R.forwardRef(({className:n,...e},t)=>v.jsx(yN,{ref:t,className:Ll("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));ON.displayName=yN.displayName;const H$=IN("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DN=R.forwardRef(({className:n,variant:e,...t},r)=>v.jsx(vN,{ref:r,className:Ll(H$({variant:e}),n),...t}));DN.displayName=vN.displayName;const G$=R.forwardRef(({className:n,...e},t)=>v.jsx(TN,{ref:t,className:Ll("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));G$.displayName=TN.displayName;const LN=R.forwardRef(({className:n,...e},t)=>v.jsx(xN,{ref:t,className:Ll("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:v.jsx(h$,{className:"h-4 w-4"})}));LN.displayName=xN.displayName;const MN=R.forwardRef(({className:n,...e},t)=>v.jsx(wN,{ref:t,className:Ll("text-sm font-semibold [&+div]:text-xs",n),...e}));MN.displayName=wN.displayName;const jN=R.forwardRef(({className:n,...e},t)=>v.jsx(EN,{ref:t,className:Ll("text-sm opacity-90",n),...e}));jN.displayName=EN.displayName;function VN(){const{toasts:n}=$T();return v.jsxs(q$,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return v.jsxs(DN,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[t&&v.jsx(MN,{children:t}),r&&v.jsx(jN,{children:r})]}),i,v.jsx(LN,{})]},e)}),v.jsx(ON,{})]})}const K$="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",Q$="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",PR="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",kR="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",NR="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",OR="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",QT=()=>v.jsxs("div",{className:"footer",children:[v.jsxs("div",{className:"left",children:[v.jsx("div",{className:"logo",children:"URENO"}),v.jsxs("div",{className:"social-sites",children:[v.jsx("object",{data:PR,type:"image/svg+xml",children:v.jsx("img",{src:PR})}),v.jsx("object",{data:kR,type:"image/svg+xml",children:v.jsx("img",{src:kR})}),v.jsx("object",{data:NR,type:"image/svg+xml",children:v.jsx("img",{src:NR})}),v.jsx("object",{data:OR,type:"image/svg+xml",children:v.jsx("img",{src:OR})})]})]}),v.jsxs("div",{className:"right",children:[v.jsxs("menu",{children:[v.jsx("li",{children:"Topic"}),v.jsx("li",{children:"Page"}),v.jsx("li",{children:"Page"}),v.jsx("li",{children:"Page"})]}),v.jsxs("menu",{children:[v.jsx("li",{children:"Topic"}),v.jsx("li",{children:"Page"}),v.jsx("li",{children:"Page"}),v.jsx("li",{children:"Page"})]}),v.jsxs("menu",{children:[v.jsx("li",{children:"Topic"}),v.jsx("li",{children:"Page"}),v.jsx("li",{children:"Page"}),v.jsx("li",{children:"Page"})]})]})]}),Pw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Y$=async(n,e)=>LV(Z_,n,e),X$=(n,e)=>MV(Z_,n,e),J$=async()=>{var t;const n=S_(),e=new uo;try{const r=await fF(n,e),i=(t=qV(r))==null?void 0:t.isNewUser,s=r.user;return i?(console.log("New user signed up with Google:",r.user),await UT(s.uid,s.displayname||"Google User",s.email,s.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},YT=async()=>{try{return await Z_.signOut(),{success:!0}}catch(n){return console.error("sign-out error: ",n),{success:!1,error:n}}};var u0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var DR;function Z$(){return DR||(DR=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var u in s)e.call(s,u)&&s[u]&&(a=i(a,u));return a}function i(s,a){return a?s?s+" "+a:s+a:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(u0)),u0.exports}var e7=Z$();const gn=Uf(e7);var t7=Function.prototype.bind.call(Function.prototype.call,[].slice);function LR(n,e){return t7(n.querySelectorAll(e))}const FN=!!(typeof window<"u"&&window.document&&window.document.createElement);var kw=!1,Nw=!1;try{var c0={get passive(){return kw=!0},get once(){return Nw=kw=!0}};FN&&(window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,!0))}catch{}function UN(n,e,t,r){if(r&&typeof r!="boolean"&&!Nw){var i=r.once,s=r.capture,a=t;!Nw&&i&&(a=t.__once||function u(c){this.removeEventListener(e,u,s),t.call(this,c)},t.__once=a),n.addEventListener(e,a,kw?r:s)}n.addEventListener(e,t,r)}function n7(n,e,t){const r=R.useRef(n!==void 0),[i,s]=R.useState(e),a=n!==void 0,u=r.current;return r.current=a,!a&&u&&i!==e&&s(e),[a?n:i,R.useCallback((...c)=>{const[h,...p]=c;let g=t==null?void 0:t(h,...p);return s(h),g},[t])]}function r7(n){const e=R.useRef(null);return R.useEffect(()=>{e.current=n}),e.current}function i7(){const[,n]=R.useReducer(e=>e+1,0);return n}function s7(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n},[n]),e}function dl(n){const e=s7(n);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function o7(n,e,t,r=!1){const i=dl(t);R.useEffect(()=>{const s=typeof n=="function"?n():n;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[n])}const ry=R.createContext(null);function a7(){return R.useState(null)}var MR=Object.prototype.hasOwnProperty;function jR(n,e,t){for(t of n.keys())if(Yh(t,e))return t}function Yh(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Yh(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=jR(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=jR(e,i),!i)||!Yh(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(MR.call(n,t)&&++r&&!MR.call(e,t)||!(t in e)||!Yh(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function l7(){const n=R.useRef(!0),e=R.useRef(()=>n.current);return R.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function u7(n){const e=l7();return[n[0],R.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var wi="top",Is="bottom",Rs="right",Ei="left",XT="auto",ap=[wi,Is,Rs,Ei],ld="start",bf="end",c7="clippingParents",BN="viewport",Th="popper",d7="reference",VR=ap.reduce(function(n,e){return n.concat([e+"-"+ld,e+"-"+bf])},[]),zN=[].concat(ap,[XT]).reduce(function(n,e){return n.concat([e,e+"-"+ld,e+"-"+bf])},[]),h7="beforeRead",f7="read",p7="afterRead",m7="beforeMain",g7="main",_7="afterMain",y7="beforeWrite",v7="write",w7="afterWrite",E7=[h7,f7,p7,m7,g7,_7,y7,v7,w7];function wo(n){return n.split("-")[0]}function Yi(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ku(n){var e=Yi(n).Element;return n instanceof e||n instanceof Element}function Eo(n){var e=Yi(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function JT(n){if(typeof ShadowRoot>"u")return!1;var e=Yi(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var pu=Math.max,Xg=Math.min,ud=Math.round;function Ow(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $N(){return!/^((?!chrome|android).)*safari/i.test(Ow())}function cd(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Eo(n)&&(i=n.offsetWidth>0&&ud(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&ud(r.height)/n.offsetHeight||1);var a=ku(n)?Yi(n):window,u=a.visualViewport,c=!$N()&&t,h=(r.left+(c&&u?u.offsetLeft:0))/i,p=(r.top+(c&&u?u.offsetTop:0))/s,g=r.width/i,_=r.height/s;return{width:g,height:_,top:p,right:h+g,bottom:p+_,left:h,x:h,y:p}}function ZT(n){var e=cd(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function WN(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&JT(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Sl(n){return n?(n.nodeName||"").toLowerCase():null}function pa(n){return Yi(n).getComputedStyle(n)}function T7(n){return["table","td","th"].indexOf(Sl(n))>=0}function Ml(n){return((ku(n)?n.ownerDocument:n.document)||window.document).documentElement}function iy(n){return Sl(n)==="html"?n:n.assignedSlot||n.parentNode||(JT(n)?n.host:null)||Ml(n)}function FR(n){return!Eo(n)||pa(n).position==="fixed"?null:n.offsetParent}function x7(n){var e=/firefox/i.test(Ow()),t=/Trident/i.test(Ow());if(t&&Eo(n)){var r=pa(n);if(r.position==="fixed")return null}var i=iy(n);for(JT(i)&&(i=i.host);Eo(i)&&["html","body"].indexOf(Sl(i))<0;){var s=pa(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function lp(n){for(var e=Yi(n),t=FR(n);t&&T7(t)&&pa(t).position==="static";)t=FR(t);return t&&(Sl(t)==="html"||Sl(t)==="body"&&pa(t).position==="static")?e:t||x7(n)||e}function ex(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Xh(n,e,t){return pu(n,Xg(e,t))}function C7(n,e,t){var r=Xh(n,e,t);return r>t?t:r}function qN(){return{top:0,right:0,bottom:0,left:0}}function HN(n){return Object.assign({},qN(),n)}function GN(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var S7=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,HN(typeof e!="number"?e:GN(e,ap))};function I7(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,u=wo(t.placement),c=ex(u),h=[Ei,Rs].indexOf(u)>=0,p=h?"height":"width";if(!(!s||!a)){var g=S7(i.padding,t),_=ZT(s),w=c==="y"?wi:Ei,C=c==="y"?Is:Rs,x=t.rects.reference[p]+t.rects.reference[c]-a[c]-t.rects.popper[p],S=a[c]-t.rects.reference[c],N=lp(s),D=N?c==="y"?N.clientHeight||0:N.clientWidth||0:0,V=x/2-S/2,F=g[w],$=D-_[p]-g[C],W=D/2-_[p]/2+V,P=Xh(F,W,$),A=c;t.modifiersData[r]=(e={},e[A]=P,e.centerOffset=P-W,e)}}function R7(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||WN(e.elements.popper,i)&&(e.elements.arrow=i))}const A7={name:"arrow",enabled:!0,phase:"main",fn:I7,effect:R7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dd(n){return n.split("-")[1]}var b7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function P7(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:ud(t*i)/i||0,y:ud(r*i)/i||0}}function UR(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,a=n.offsets,u=n.position,c=n.gpuAcceleration,h=n.adaptive,p=n.roundOffsets,g=n.isFixed,_=a.x,w=_===void 0?0:_,C=a.y,x=C===void 0?0:C,S=typeof p=="function"?p({x:w,y:x}):{x:w,y:x};w=S.x,x=S.y;var N=a.hasOwnProperty("x"),D=a.hasOwnProperty("y"),V=Ei,F=wi,$=window;if(h){var W=lp(t),P="clientHeight",A="clientWidth";if(W===Yi(t)&&(W=Ml(t),pa(W).position!=="static"&&u==="absolute"&&(P="scrollHeight",A="scrollWidth")),W=W,i===wi||(i===Ei||i===Rs)&&s===bf){F=Is;var b=g&&W===$&&$.visualViewport?$.visualViewport.height:W[P];x-=b-r.height,x*=c?1:-1}if(i===Ei||(i===wi||i===Is)&&s===bf){V=Rs;var O=g&&W===$&&$.visualViewport?$.visualViewport.width:W[A];w-=O-r.width,w*=c?1:-1}}var U=Object.assign({position:u},h&&b7),M=p===!0?P7({x:w,y:x},Yi(t)):{x:w,y:x};if(w=M.x,x=M.y,c){var j;return Object.assign({},U,(j={},j[F]=D?"0":"",j[V]=N?"0":"",j.transform=($.devicePixelRatio||1)<=1?"translate("+w+"px, "+x+"px)":"translate3d("+w+"px, "+x+"px, 0)",j))}return Object.assign({},U,(e={},e[F]=D?x+"px":"",e[V]=N?w+"px":"",e.transform="",e))}function k7(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,a=s===void 0?!0:s,u=t.roundOffsets,c=u===void 0?!0:u,h={placement:wo(e.placement),variation:dd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UR(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UR(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const N7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:k7,data:{}};var Nm={passive:!0};function O7(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,u=a===void 0?!0:a,c=Yi(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(p){p.addEventListener("scroll",t.update,Nm)}),u&&c.addEventListener("resize",t.update,Nm),function(){s&&h.forEach(function(p){p.removeEventListener("scroll",t.update,Nm)}),u&&c.removeEventListener("resize",t.update,Nm)}}const D7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:O7,data:{}};var L7={left:"right",right:"left",bottom:"top",top:"bottom"};function cg(n){return n.replace(/left|right|bottom|top/g,function(e){return L7[e]})}var M7={start:"end",end:"start"};function BR(n){return n.replace(/start|end/g,function(e){return M7[e]})}function tx(n){var e=Yi(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function nx(n){return cd(Ml(n)).left+tx(n).scrollLeft}function j7(n,e){var t=Yi(n),r=Ml(n),i=t.visualViewport,s=r.clientWidth,a=r.clientHeight,u=0,c=0;if(i){s=i.width,a=i.height;var h=$N();(h||!h&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:u+nx(n),y:c}}function V7(n){var e,t=Ml(n),r=tx(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=pu(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=pu(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+nx(n),c=-r.scrollTop;return pa(i||t).direction==="rtl"&&(u+=pu(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:u,y:c}}function rx(n){var e=pa(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function KN(n){return["html","body","#document"].indexOf(Sl(n))>=0?n.ownerDocument.body:Eo(n)&&rx(n)?n:KN(iy(n))}function Jh(n,e){var t;e===void 0&&(e=[]);var r=KN(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=Yi(r),a=i?[s].concat(s.visualViewport||[],rx(r)?r:[]):r,u=e.concat(a);return i?u:u.concat(Jh(iy(a)))}function Dw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function F7(n,e){var t=cd(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function zR(n,e,t){return e===BN?Dw(j7(n,t)):ku(e)?F7(e,t):Dw(V7(Ml(n)))}function U7(n){var e=Jh(iy(n)),t=["absolute","fixed"].indexOf(pa(n).position)>=0,r=t&&Eo(n)?lp(n):n;return ku(r)?e.filter(function(i){return ku(i)&&WN(i,r)&&Sl(i)!=="body"}):[]}function B7(n,e,t,r){var i=e==="clippingParents"?U7(n):[].concat(e),s=[].concat(i,[t]),a=s[0],u=s.reduce(function(c,h){var p=zR(n,h,r);return c.top=pu(p.top,c.top),c.right=Xg(p.right,c.right),c.bottom=Xg(p.bottom,c.bottom),c.left=pu(p.left,c.left),c},zR(n,a,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function QN(n){var e=n.reference,t=n.element,r=n.placement,i=r?wo(r):null,s=r?dd(r):null,a=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,c;switch(i){case wi:c={x:a,y:e.y-t.height};break;case Is:c={x:a,y:e.y+e.height};break;case Rs:c={x:e.x+e.width,y:u};break;case Ei:c={x:e.x-t.width,y:u};break;default:c={x:e.x,y:e.y}}var h=i?ex(i):null;if(h!=null){var p=h==="y"?"height":"width";switch(s){case ld:c[h]=c[h]-(e[p]/2-t[p]/2);break;case bf:c[h]=c[h]+(e[p]/2-t[p]/2);break}}return c}function Pf(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,a=s===void 0?n.strategy:s,u=t.boundary,c=u===void 0?c7:u,h=t.rootBoundary,p=h===void 0?BN:h,g=t.elementContext,_=g===void 0?Th:g,w=t.altBoundary,C=w===void 0?!1:w,x=t.padding,S=x===void 0?0:x,N=HN(typeof S!="number"?S:GN(S,ap)),D=_===Th?d7:Th,V=n.rects.popper,F=n.elements[C?D:_],$=B7(ku(F)?F:F.contextElement||Ml(n.elements.popper),c,p,a),W=cd(n.elements.reference),P=QN({reference:W,element:V,placement:i}),A=Dw(Object.assign({},V,P)),b=_===Th?A:W,O={top:$.top-b.top+N.top,bottom:b.bottom-$.bottom+N.bottom,left:$.left-b.left+N.left,right:b.right-$.right+N.right},U=n.modifiersData.offset;if(_===Th&&U){var M=U[i];Object.keys(O).forEach(function(j){var ne=[Rs,Is].indexOf(j)>=0?1:-1,he=[wi,Is].indexOf(j)>=0?"y":"x";O[j]+=M[he]*ne})}return O}function z7(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,a=t.padding,u=t.flipVariations,c=t.allowedAutoPlacements,h=c===void 0?zN:c,p=dd(r),g=p?u?VR:VR.filter(function(C){return dd(C)===p}):ap,_=g.filter(function(C){return h.indexOf(C)>=0});_.length===0&&(_=g);var w=_.reduce(function(C,x){return C[x]=Pf(n,{placement:x,boundary:i,rootBoundary:s,padding:a})[wo(x)],C},{});return Object.keys(w).sort(function(C,x){return w[C]-w[x]})}function $7(n){if(wo(n)===XT)return[];var e=cg(n);return[BR(n),e,BR(e)]}function W7(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,u=a===void 0?!0:a,c=t.fallbackPlacements,h=t.padding,p=t.boundary,g=t.rootBoundary,_=t.altBoundary,w=t.flipVariations,C=w===void 0?!0:w,x=t.allowedAutoPlacements,S=e.options.placement,N=wo(S),D=N===S,V=c||(D||!C?[cg(S)]:$7(S)),F=[S].concat(V).reduce(function(_e,Te){return _e.concat(wo(Te)===XT?z7(e,{placement:Te,boundary:p,rootBoundary:g,padding:h,flipVariations:C,allowedAutoPlacements:x}):Te)},[]),$=e.rects.reference,W=e.rects.popper,P=new Map,A=!0,b=F[0],O=0;O<F.length;O++){var U=F[O],M=wo(U),j=dd(U)===ld,ne=[wi,Is].indexOf(M)>=0,he=ne?"width":"height",de=Pf(e,{placement:U,boundary:p,rootBoundary:g,altBoundary:_,padding:h}),le=ne?j?Rs:Ei:j?Is:wi;$[he]>W[he]&&(le=cg(le));var te=cg(le),oe=[];if(s&&oe.push(de[M]<=0),u&&oe.push(de[le]<=0,de[te]<=0),oe.every(function(_e){return _e})){b=U,A=!1;break}P.set(U,oe)}if(A)for(var B=C?3:1,q=function(Te){var Ae=F.find(function(be){var Pe=P.get(be);if(Pe)return Pe.slice(0,Te).every(function(Be){return Be})});if(Ae)return b=Ae,"break"},ee=B;ee>0;ee--){var me=q(ee);if(me==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const q7={name:"flip",enabled:!0,phase:"main",fn:W7,requiresIfExists:["offset"],data:{_skip:!1}};function $R(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function WR(n){return[wi,Rs,Is,Ei].some(function(e){return n[e]>=0})}function H7(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Pf(e,{elementContext:"reference"}),u=Pf(e,{altBoundary:!0}),c=$R(a,r),h=$R(u,i,s),p=WR(c),g=WR(h);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}const G7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:H7};function K7(n,e,t){var r=wo(n),i=[Ei,wi].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],u=s[1];return a=a||0,u=(u||0)*i,[Ei,Rs].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}function Q7(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,a=zN.reduce(function(p,g){return p[g]=K7(g,e.rects,s),p},{}),u=a[e.placement],c=u.x,h=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=a}const Y7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q7};function X7(n){var e=n.state,t=n.name;e.modifiersData[t]=QN({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const J7={name:"popperOffsets",enabled:!0,phase:"read",fn:X7,data:{}};function Z7(n){return n==="x"?"y":"x"}function eW(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,u=a===void 0?!1:a,c=t.boundary,h=t.rootBoundary,p=t.altBoundary,g=t.padding,_=t.tether,w=_===void 0?!0:_,C=t.tetherOffset,x=C===void 0?0:C,S=Pf(e,{boundary:c,rootBoundary:h,padding:g,altBoundary:p}),N=wo(e.placement),D=dd(e.placement),V=!D,F=ex(N),$=Z7(F),W=e.modifiersData.popperOffsets,P=e.rects.reference,A=e.rects.popper,b=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,O=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(W){if(s){var j,ne=F==="y"?wi:Ei,he=F==="y"?Is:Rs,de=F==="y"?"height":"width",le=W[F],te=le+S[ne],oe=le-S[he],B=w?-A[de]/2:0,q=D===ld?P[de]:A[de],ee=D===ld?-A[de]:-P[de],me=e.elements.arrow,_e=w&&me?ZT(me):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qN(),Ae=Te[ne],be=Te[he],Pe=Xh(0,P[de],_e[de]),Be=V?P[de]/2-B-Pe-Ae-O.mainAxis:q-Pe-Ae-O.mainAxis,Tt=V?-P[de]/2+B+Pe+be+O.mainAxis:ee+Pe+be+O.mainAxis,xt=e.elements.arrow&&lp(e.elements.arrow),nn=xt?F==="y"?xt.clientTop||0:xt.clientLeft||0:0,We=(j=U==null?void 0:U[F])!=null?j:0,_t=le+Be-We-nn,rn=le+Tt-We,un=Xh(w?Xg(te,_t):te,le,w?pu(oe,rn):oe);W[F]=un,M[F]=un-le}if(u){var J,Tn=F==="x"?wi:Ei,$n=F==="x"?Is:Rs,Dt=W[$],rt=$==="y"?"height":"width",Wn=Dt+S[Tn],qn=Dt-S[$n],Hn=[wi,Ei].indexOf(N)!==-1,Pt=(J=U==null?void 0:U[$])!=null?J:0,yt=Hn?Wn:Dt-P[rt]-A[rt]-Pt+O.altAxis,He=Hn?Dt+P[rt]+A[rt]-Pt-O.altAxis:qn,Gt=w&&Hn?C7(yt,Dt,He):Xh(w?yt:Wn,Dt,w?He:qn);W[$]=Gt,M[$]=Gt-Dt}e.modifiersData[r]=M}}const tW={name:"preventOverflow",enabled:!0,phase:"main",fn:eW,requiresIfExists:["offset"]};function nW(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function rW(n){return n===Yi(n)||!Eo(n)?tx(n):nW(n)}function iW(n){var e=n.getBoundingClientRect(),t=ud(e.width)/n.offsetWidth||1,r=ud(e.height)/n.offsetHeight||1;return t!==1||r!==1}function sW(n,e,t){t===void 0&&(t=!1);var r=Eo(e),i=Eo(e)&&iW(e),s=Ml(e),a=cd(n,i,t),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((Sl(e)!=="body"||rx(s))&&(u=rW(e)),Eo(e)?(c=cd(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=nx(s))),{x:a.left+u.scrollLeft-c.x,y:a.top+u.scrollTop-c.y,width:a.width,height:a.height}}function oW(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(u){if(!t.has(u)){var c=e.get(u);c&&i(c)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function aW(n){var e=oW(n);return E7.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function lW(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function uW(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var qR={placement:"bottom",modifiers:[],strategy:"absolute"};function HR(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function cW(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?qR:i;return function(u,c,h){h===void 0&&(h=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},qR,s),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},g=[],_=!1,w={state:p,setOptions:function(N){var D=typeof N=="function"?N(p.options):N;x(),p.options=Object.assign({},s,p.options,D),p.scrollParents={reference:ku(u)?Jh(u):u.contextElement?Jh(u.contextElement):[],popper:Jh(c)};var V=aW(uW([].concat(r,p.options.modifiers)));return p.orderedModifiers=V.filter(function(F){return F.enabled}),C(),w.update()},forceUpdate:function(){if(!_){var N=p.elements,D=N.reference,V=N.popper;if(HR(D,V)){p.rects={reference:sW(D,lp(V),p.options.strategy==="fixed"),popper:ZT(V)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(O){return p.modifiersData[O.name]=Object.assign({},O.data)});for(var F=0;F<p.orderedModifiers.length;F++){if(p.reset===!0){p.reset=!1,F=-1;continue}var $=p.orderedModifiers[F],W=$.fn,P=$.options,A=P===void 0?{}:P,b=$.name;typeof W=="function"&&(p=W({state:p,options:A,name:b,instance:w})||p)}}}},update:lW(function(){return new Promise(function(S){w.forceUpdate(),S(p)})}),destroy:function(){x(),_=!0}};if(!HR(u,c))return w;w.setOptions(h).then(function(S){!_&&h.onFirstUpdate&&h.onFirstUpdate(S)});function C(){p.orderedModifiers.forEach(function(S){var N=S.name,D=S.options,V=D===void 0?{}:D,F=S.effect;if(typeof F=="function"){var $=F({state:p,name:N,instance:w,options:V}),W=function(){};g.push($||W)}})}function x(){g.forEach(function(S){return S()}),g=[]}return w}}const dW=cW({defaultModifiers:[G7,J7,N7,D7,Y7,q7,tW,A7]}),hW=["enabled","placement","strategy","modifiers"];function fW(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const pW={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},mW={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${t.id}`:t.id)}}},gW=[];function _W(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:a=gW}=t,u=fW(t,hW);const c=R.useRef(a),h=R.useRef(),p=R.useCallback(()=>{var S;(S=h.current)==null||S.update()},[]),g=R.useCallback(()=>{var S;(S=h.current)==null||S.forceUpdate()},[]),[_,w]=u7(R.useState({placement:i,update:p,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),C=R.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:S})=>{const N={},D={};Object.keys(S.elements).forEach(V=>{N[V]=S.styles[V],D[V]=S.attributes[V]}),w({state:S,styles:N,attributes:D,update:p,forceUpdate:g,placement:S.placement})}}),[p,g,w]),x=R.useMemo(()=>(Yh(c.current,a)||(c.current=a),c.current),[a]);return R.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:i,strategy:s,modifiers:[...x,C,pW]})},[s,i,C,r,x]),R.useEffect(()=>{if(!(!r||n==null||e==null))return h.current=dW(n,e,Object.assign({},u,{placement:i,strategy:s,modifiers:[...x,mW,C]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,w(S=>Object.assign({},S,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),_}function GR(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function yW(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function Om(n,e,t,r){return UN(n,e,t,r),function(){yW(n,e,t,r)}}function vW(n){return n&&n.ownerDocument||document}var d0,KR;function wW(){if(KR)return d0;KR=1;var n=function(){};return d0=n,d0}var EW=wW();const TW=Uf(EW),QR=()=>{};function xW(n){return n.button===0}function CW(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const h0=n=>n&&("current"in n?n.current:n),YR={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function SW(n,e=QR,{disabled:t,clickTrigger:r="click"}={}){const i=R.useRef(!1),s=R.useRef(!1),a=R.useCallback(h=>{const p=h0(n);TW(!!p,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!p||CW(h)||!xW(h)||!!GR(p,h.target)||s.current,s.current=!1},[n]),u=dl(h=>{const p=h0(n);p&&GR(p,h.target)?s.current=!0:s.current=!1}),c=dl(h=>{i.current||e(h)});R.useEffect(()=>{var h,p;if(t||n==null)return;const g=vW(h0(n)),_=g.defaultView||window;let w=(h=_.event)!=null?h:(p=_.parent)==null?void 0:p.event,C=null;YR[r]&&(C=Om(g,YR[r],u,!0));const x=Om(g,r,a,!0),S=Om(g,r,D=>{if(D===w){w=void 0;return}c(D)});let N=[];return"ontouchstart"in g.documentElement&&(N=[].slice.call(g.body.children).map(D=>Om(D,"mousemove",QR))),()=>{C==null||C(),x(),S(),N.forEach(D=>D())}},[n,t,r,a,u,c])}function IW(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function RW(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function AW({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:s,containerPadding:a,arrowElement:u,popperConfig:c={}}){var h,p,g,_,w;const C=IW(c.modifiers);return Object.assign({},c,{placement:t,enabled:n,strategy:s?"fixed":c.strategy,modifiers:RW(Object.assign({},C,{eventListeners:{enabled:e,options:(h=C.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},C.preventOverflow,{options:a?Object.assign({padding:a},(p=C.preventOverflow)==null?void 0:p.options):(g=C.preventOverflow)==null?void 0:g.options}),offset:{options:Object.assign({offset:i},(_=C.offset)==null?void 0:_.options)},arrow:Object.assign({},C.arrow,{enabled:!!u,options:Object.assign({},(w=C.arrow)==null?void 0:w.options,{element:u})}),flip:Object.assign({enabled:!!r},C.flip)}))})}const bW=["children","usePopper"];function PW(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const kW=()=>{};function YN(n={}){const e=R.useContext(ry),[t,r]=a7(),i=R.useRef(!1),{flip:s,offset:a,rootCloseEvent:u,fixed:c=!1,placement:h,popperConfig:p={},enableEventListeners:g=!0,usePopper:_=!!e}=n,w=(e==null?void 0:e.show)==null?!!n.show:e.show;w&&!i.current&&(i.current=!0);const C=W=>{e==null||e.toggle(!1,W)},{placement:x,setMenu:S,menuElement:N,toggleElement:D}=e||{},V=_W(D,N,AW({placement:h||x||"bottom-start",enabled:_,enableEvents:g??w,offset:a,flip:s,fixed:c,arrowElement:t,popperConfig:p})),F=Object.assign({ref:S||kW,"aria-labelledby":D==null?void 0:D.id},V.attributes.popper,{style:V.styles.popper}),$={show:w,placement:x,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:_?V:null,arrowProps:_?Object.assign({ref:r},V.attributes.arrow,{style:V.styles.arrow}):{}};return SW(N,C,{clickTrigger:u,disabled:!w}),[F,$]}function XN(n){let{children:e,usePopper:t=!0}=n,r=PW(n,bW);const[i,s]=YN(Object.assign({},r,{usePopper:t}));return v.jsx(v.Fragment,{children:e(i,s)})}XN.displayName="DropdownMenu";const ix={prefix:String(Math.round(Math.random()*1e10)),current:0},JN=ni.createContext(ix),NW=ni.createContext(!1);let OW=!!(typeof window<"u"&&window.document&&window.document.createElement),f0=new WeakMap;function DW(n=!1){let e=R.useContext(JN),t=R.useRef(null);if(t.current===null&&!n){var r,i;let s=(i=ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let a=f0.get(s);a==null?f0.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==a.state&&(e.current=a.id,f0.delete(s))}t.current=++e.current}return t.current}function LW(n){let e=R.useContext(JN);e===ix&&!OW&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=DW(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function MW(n){let e=ni.useId(),[t]=R.useState(BW()),r=t?"react-aria":`react-aria${ix.prefix}`;return n||`${r}-${e}`}const jW=typeof ni.useId=="function"?MW:LW;function VW(){return!1}function FW(){return!0}function UW(n){return()=>{}}function BW(){return typeof ni.useSyncExternalStore=="function"?ni.useSyncExternalStore(UW,VW,FW):R.useContext(NW)}const ZN=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},XR=()=>{};function eO(){const n=jW(),{show:e=!1,toggle:t=XR,setToggle:r,menuElement:i}=R.useContext(ry)||{},s=R.useCallback(u=>{t(!e,u)},[e,t]),a={id:n,ref:r||XR,onClick:s,"aria-expanded":!!e};return i&&ZN(i)&&(a["aria-haspopup"]=!0),[a,{show:e,toggle:t}]}function tO({children:n}){const[e,t]=eO();return v.jsx(v.Fragment,{children:n(e,t)})}tO.displayName="DropdownToggle";const Lw=R.createContext(null),JR=(n,e=null)=>n!=null?String(n):e||null,nO=R.createContext(null);nO.displayName="NavContext";const zW=["as","disabled"];function $W(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function WW(n){return!n||n.trim()==="#"}function sx({tagName:n,disabled:e,href:t,target:r,rel:i,role:s,onClick:a,tabIndex:u=0,type:c}){n||(t!=null||r!=null||i!=null?n="a":n="button");const h={tagName:n};if(n==="button")return[{type:c||"button",disabled:e},h];const p=_=>{if((e||n==="a"&&WW(t))&&_.preventDefault(),e){_.stopPropagation();return}a==null||a(_)},g=_=>{_.key===" "&&(_.preventDefault(),p(_))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:p,onKeyDown:g},h]}const rO=R.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=$W(n,zW);const[s,{tagName:a}]=sx(Object.assign({tagName:t,disabled:r},i));return v.jsx(a,Object.assign({},i,s,{ref:e}))});rO.displayName="Button";const qW="data-rr-ui-";function iO(n){return`${qW}${n}`}const HW=["eventKey","disabled","onClick","active","as"];function GW(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function sO({key:n,href:e,active:t,disabled:r,onClick:i}){const s=R.useContext(Lw),a=R.useContext(nO),{activeKey:u}=a||{},c=JR(n,e),h=t==null&&n!=null?JR(u)===c:t;return[{onClick:dl(g=>{r||(i==null||i(g),s&&!g.isPropagationStopped()&&s(c,g))}),"aria-disabled":r||void 0,"aria-selected":h,[iO("dropdown-item")]:""},{isActive:h}]}const oO=R.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:s,as:a=rO}=n,u=GW(n,HW);const[c]=sO({key:t,href:u.href,disabled:r,onClick:i,active:s});return v.jsx(a,Object.assign({},u,{ref:e},c))});oO.displayName="DropdownItem";const aO=R.createContext(FN?window:void 0);aO.Provider;function KW(){return R.useContext(aO)}function ZR(){const n=i7(),e=R.useRef(null),t=R.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function up({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${iO("dropdown-item")}]`,focusFirstItemOnShow:s,placement:a="bottom-start",children:u}){const c=KW(),[h,p]=n7(e,n,r),[g,_]=ZR(),w=g.current,[C,x]=ZR(),S=C.current,N=r7(h),D=R.useRef(null),V=R.useRef(!1),F=R.useContext(Lw),$=R.useCallback((U,M,j=M==null?void 0:M.type)=>{p(U,{originalEvent:M,source:j})},[p]),W=dl((U,M)=>{t==null||t(U,M),$(!1,M,"select"),M.isPropagationStopped()||F==null||F(U,M)}),P=R.useMemo(()=>({toggle:$,placement:a,show:h,menuElement:w,toggleElement:S,setMenu:_,setToggle:x}),[$,a,h,w,S,_,x]);w&&N&&!h&&(V.current=w.contains(w.ownerDocument.activeElement));const A=dl(()=>{S&&S.focus&&S.focus()}),b=dl(()=>{const U=D.current;let M=s;if(M==null&&(M=g.current&&ZN(g.current)?"keyboard":!1),M===!1||M==="keyboard"&&!/^key.+$/.test(U))return;const j=LR(g.current,i)[0];j&&j.focus&&j.focus()});R.useEffect(()=>{h?b():V.current&&(V.current=!1,A())},[h,V,A,b]),R.useEffect(()=>{D.current=null});const O=(U,M)=>{if(!g.current)return null;const j=LR(g.current,i);let ne=j.indexOf(U)+M;return ne=Math.max(0,Math.min(ne,j.length)),j[ne]};return o7(R.useCallback(()=>c.document,[c]),"keydown",U=>{var M,j;const{key:ne}=U,he=U.target,de=(M=g.current)==null?void 0:M.contains(he),le=(j=C.current)==null?void 0:j.contains(he);if(/input|textarea/i.test(he.tagName)&&(ne===" "||ne!=="Escape"&&de||ne==="Escape"&&he.type==="search")||!de&&!le||ne==="Tab"&&(!g.current||!h))return;D.current=U.type;const oe={originalEvent:U,source:U.type};switch(ne){case"ArrowUp":{const B=O(he,-1);B&&B.focus&&B.focus(),U.preventDefault();return}case"ArrowDown":if(U.preventDefault(),!h)p(!0,oe);else{const B=O(he,1);B&&B.focus&&B.focus()}return;case"Tab":UN(he.ownerDocument,"keyup",B=>{var q;(B.key==="Tab"&&!B.target||!((q=g.current)!=null&&q.contains(B.target)))&&p(!1,oe)},{once:!0});break;case"Escape":ne==="Escape"&&(U.preventDefault(),U.stopPropagation()),p(!1,oe);break}}),v.jsx(Lw.Provider,{value:W,children:v.jsx(ry.Provider,{value:P,children:u})})}up.displayName="Dropdown";up.Menu=XN;up.Toggle=tO;up.Item=oO;function Mw(){return Mw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mw.apply(null,arguments)}function QW(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function eA(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function YW(n){var e=XW(n,"string");return typeof e=="symbol"?e:String(e)}function XW(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function JW(n,e,t){var r=R.useRef(n!==void 0),i=R.useState(e),s=i[0],a=i[1],u=n!==void 0,c=r.current;return r.current=u,!u&&c&&s!==e&&a(e),[u?n:s,R.useCallback(function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),_=1;_<p;_++)g[_-1]=arguments[_];t&&t.apply(void 0,[h].concat(g)),a(h)},[t])]}function ZW(n,e){return Object.keys(e).reduce(function(t,r){var i,s=t,a=s[eA(r)],u=s[r],c=QW(s,[eA(r),r].map(YW)),h=e[r],p=JW(u,a,n[h]),g=p[0],_=p[1];return Mw({},c,(i={},i[r]=g,i[h]=_,i))},n)}function eq(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n},[n]),e}function tq(n){const e=eq(n);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const ox=R.createContext({});ox.displayName="DropdownContext";const nq=["xxl","xl","lg","md","sm","xs"],rq="xs",cp=R.createContext({prefixes:{},breakpoints:nq,minBreakpoint:rq}),{Consumer:vQ,Provider:wQ}=cp;function Dn(n,e){const{prefixes:t}=R.useContext(cp);return n||t[e]||e}function iq(){const{breakpoints:n}=R.useContext(cp);return n}function sq(){const{minBreakpoint:n}=R.useContext(cp);return n}function oq(){const{dir:n}=R.useContext(cp);return n==="rtl"}const lO=R.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},s)=>(e=Dn(e,"dropdown-divider"),v.jsx(t,{ref:s,className:gn(n,e),role:r,...i})));lO.displayName="DropdownDivider";const uO=R.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},s)=>(e=Dn(e,"dropdown-header"),v.jsx(t,{ref:s,className:gn(n,e),role:r,...i})));uO.displayName="DropdownHeader";const aq=["onKeyDown"];function lq(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function uq(n){return!n||n.trim()==="#"}const cO=R.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=lq(n,aq);const[i]=sx(Object.assign({tagName:"a"},r)),s=dl(a=>{i.onKeyDown(a),t==null||t(a)});return uq(r.href)||r.role==="button"?v.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):v.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});cO.displayName="Anchor";const dO=R.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:s,as:a=cO,...u},c)=>{const h=Dn(n,"dropdown-item"),[p,g]=sO({key:t,href:u.href,disabled:r,onClick:i,active:s});return v.jsx(a,{...u,...p,ref:c,className:gn(e,h,g.isActive&&"active",r&&"disabled")})});dO.displayName="DropdownItem";const hO=R.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Dn(e,"dropdown-item-text"),v.jsx(t,{ref:i,className:gn(n,e),...r})));hO.displayName="DropdownItemText";const cq=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",dq=typeof document<"u",hq=dq||cq?R.useLayoutEffect:R.useEffect,tA=n=>!n||typeof n=="function"?n:e=>{n.current=e};function fq(n,e){const t=tA(n),r=tA(e);return i=>{t&&t(i),r&&r(i)}}function fO(n,e){return R.useMemo(()=>fq(n,e),[n,e])}const ax=R.createContext(null);ax.displayName="InputGroupContext";const pO=R.createContext(null);pO.displayName="NavbarContext";function mO(n,e){return n}var p0={exports:{}},m0,nA;function pq(){if(nA)return m0;nA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return m0=n,m0}var g0,rA;function mq(){if(rA)return g0;rA=1;var n=pq();function e(){}function t(){}return t.resetWarningCache=e,g0=function(){function r(a,u,c,h,p,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},g0}var iA;function gq(){return iA||(iA=1,p0.exports=mq()()),p0.exports}var _q=gq();const qc=Uf(_q);function gO(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",s=t?"bottom-end":"bottom-start",a=t?"bottom-start":"bottom-end",u=t?"right-start":"left-start",c=t?"right-end":"left-end",h=t?"left-start":"right-start",p=t?"left-end":"right-end";let g=n?a:s;return e==="up"?g=n?i:r:e==="end"?g=n?p:h:e==="start"?g=n?c:u:e==="down-centered"?g="bottom":e==="up-centered"&&(g="top"),g}const _O=R.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:a,as:u="div",popperConfig:c,variant:h,...p},g)=>{let _=!1;const w=R.useContext(pO),C=Dn(n,"dropdown-menu"),{align:x,drop:S,isRTL:N}=R.useContext(ox);t=t||x;const D=R.useContext(ax),V=[];if(t)if(typeof t=="object"){const U=Object.keys(t);if(U.length){const M=U[0],j=t[M];_=j==="start",V.push(`${C}-${M}-${j}`)}}else t==="end"&&(_=!0);const F=gO(_,S,N),[$,{hasShown:W,popper:P,show:A,toggle:b}]=YN({flip:i,rootCloseEvent:r,show:s,usePopper:!w&&V.length===0,offset:[0,2],popperConfig:c,placement:F});if($.ref=fO(mO(g),$.ref),hq(()=>{A&&(P==null||P.update())},[A]),!W&&!a&&!D)return null;typeof u!="string"&&($.show=A,$.close=()=>b==null?void 0:b(!1),$.align=t);let O=p.style;return P!=null&&P.placement&&(O={...p.style,...$.style},p["x-placement"]=P.placement),v.jsx(u,{...p,...$,style:O,...(V.length||w)&&{"data-bs-popper":"static"},className:gn(e,C,A&&"show",_&&`${C}-end`,h&&`${C}-${h}`,...V)})});_O.displayName="DropdownMenu";const Jg=R.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:s=!1,className:a,...u},c)=>{const h=Dn(e,"btn"),[p,{tagName:g}]=sx({tagName:n,disabled:s,...u}),_=g;return v.jsx(_,{...p,...u,ref:c,disabled:s,className:gn(a,h,i&&"active",t&&`${h}-${t}`,r&&`${h}-${r}`,u.href&&s&&"disabled")})});Jg.displayName="Button";const yO=R.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Jg,...s},a)=>{const u=Dn(n,"dropdown-toggle"),c=R.useContext(ry);r!==void 0&&(s.bsPrefix=r);const[h]=eO();return h.ref=fO(h.ref,mO(a)),v.jsx(i,{className:gn(t,u,e&&`${u}-split`,(c==null?void 0:c.show)&&"show"),...h,...s})});yO.displayName="DropdownToggle";const vO=R.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:s,align:a="start",onSelect:u,onToggle:c,focusFirstItemOnShow:h,as:p="div",navbar:g,autoClose:_=!0,...w}=ZW(n,{show:"onToggle"}),C=R.useContext(ax),x=Dn(t,"dropdown"),S=oq(),N=P=>_===!1?P==="click":_==="inside"?P!=="rootClose":_==="outside"?P!=="select":!0,D=tq((P,A)=>{var b;!((b=A.originalEvent)==null||(b=b.target)==null)&&b.classList.contains("dropdown-toggle")&&A.source==="mousedown"||(A.originalEvent.currentTarget===document&&(A.source!=="keydown"||A.originalEvent.key==="Escape")&&(A.source="rootClose"),N(A.source)&&(c==null||c(P,A)))}),F=gO(a==="end",r,S),$=R.useMemo(()=>({align:a,drop:r,isRTL:S}),[a,r,S]),W={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return v.jsx(ox.Provider,{value:$,children:v.jsx(up,{placement:F,show:i,onSelect:u,onToggle:D,focusFirstItemOnShow:h,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:C?w.children:v.jsx(p,{...w,ref:e,className:gn(s,i&&"show",W[r])})})})});vO.displayName="Dropdown";const Wo=Object.assign(vO,{Toggle:yO,Menu:_O,Item:dO,ItemText:hO,Divider:lO,Header:uO}),yq=()=>{const n=Ri(),{currentUser:e}=Ao(),{profile:t}=R.useContext(Bu),{toast:r}=$T(),[i,s]=R.useState(!1),a=async()=>{try{s(!0),r({title:"Logging out",description:"You are being signed out..."}),await YT(),setTimeout(()=>{n("/"),s(!1)},1e3)}catch(u){console.error("Logout error:",u),r({variant:"destructive",title:"Logout failed",description:"There was an error signing you out."}),s(!1)}};return i?v.jsx(zT,{}):v.jsxs(Wo,{children:[v.jsx(Wo.Toggle,{variant:"success",id:"dropdown-basic",children:v.jsx("img",{src:Pw})}),v.jsxs(Wo.Menu,{children:[(t==null?void 0:t.role)==="contractor"?v.jsx(Wo.Item,{as:qt,to:"/contractor-dashboard",children:"Dashboard"}):v.jsx(Wo.Item,{as:qt,to:"/ProfileDashboard",children:"Profile"}),v.jsx(Wo.Item,{as:qt,to:"/designerPage",children:"Designs"}),(e==null?void 0:e.isAdmin)&&v.jsx(Wo.Item,{as:qt,to:"/Admin",children:"Admin"}),v.jsx(Wo.Item,{href:"#/action-3",children:"Action"}),v.jsx(Wo.Item,{onClick:a,children:"Log Out"})]})]})},lx=()=>{const{userLoggedIn:n}=Ao()||{userLoggedIn:!1},e=Ri(),[t,r]=R.useState(!1),[i,s]=R.useState(!1),a=async()=>{r(!0);const u=await YT();r(!1),u.success?(s(!0),setTimeout(()=>{e("/")},1500)):alert("Logout failed. Please try again.")};return v.jsxs("div",{className:"nav",children:[v.jsx(qt,{to:"/",children:v.jsx("div",{className:"logo",children:"URENO"})}),v.jsxs("div",{className:"Right",children:[v.jsxs("menu",{children:[v.jsx("li",{children:"AI Design"}),n&&v.jsxs(v.Fragment,{children:[v.jsx(qt,{to:"/messages",children:v.jsx("li",{children:"Messages"})}),v.jsx(qt,{to:"/projects",children:v.jsx("li",{children:"Projects"})})]})]}),n?t?v.jsx("span",{className:"text-sm text-gray-500",children:"Logging out..."}):i?v.jsx("span",{className:"text-sm text-green-600",children:"Logged out!"}):v.jsx("button",{className:"btn login-btn",onClick:a,children:"Log Out"}):v.jsx(qt,{to:"/sign-in",children:v.jsx("button",{className:"btn login-btn",children:"Log In"})}),n?v.jsx(yq,{}):v.jsx("button",{className:"btn profile-btn",children:v.jsx("object",{data:Pw,type:"image/svg+xml",children:v.jsx("img",{src:Pw})})})]})]})};function vq(){return v.jsxs(v.Fragment,{children:[v.jsx("meta",{charSet:"UTF-8"}),v.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),v.jsx("title",{children:"Ureno"}),v.jsx(lx,{}),v.jsx("div",{className:"center-logo",children:v.jsxs("div",{className:"container",children:[v.jsx("h1",{children:"URENO"}),v.jsx("p",{children:"Renovation Made Simple"}),v.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),v.jsxs("div",{className:"services",children:[v.jsx("div",{className:"our-services",children:v.jsx("p",{children:"Our Services"})}),v.jsxs("div",{className:"floor-content",children:[v.jsx("div",{className:"flooring fadeInRight",children:v.jsx("p",{children:v.jsx(qt,{to:"/product-page",children:v.jsx("img",{src:K$,alt:"light oak wooden floor"})})})}),v.jsxs("div",{className:"floor-txt fadeInRight",children:[v.jsx("h3",{children:"flooring"}),v.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),v.jsxs("div",{className:"paint-content",children:[v.jsx("div",{className:"painting fadeInLeft",children:v.jsx("img",{src:Q$,alt:"blue painted walls"})}),v.jsxs("div",{className:"paint-txt fadeInLeft",children:[v.jsx("h3",{children:"paint"}),v.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),v.jsx(QT,{})]})}const wq="/Ureno_webdesign/assets/Harvest-grove-rigid-CaKY0j96.png",Eq="/Ureno_webdesign/assets/tavertine-BlkzyBiO.png",wO=({productId:n,image:e,title:t,description:r,price:i,link:s})=>v.jsx("div",{className:"products",children:v.jsxs(qt,{to:`/productDetail/${n}`,className:"container",children:[v.jsx("img",{src:e,alt:t}),v.jsx("div",{className:"prod-title",children:t}),v.jsx("p",{children:r}),v.jsx("p",{children:i})]})});wO.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function Tq(){const[n,e]=R.useState(0),{userLoggedIn:t}=Ao()||{userLoggedIn:!1},[r,i]=R.useState([]);return R.useEffect(()=>{(async()=>{try{const a=Zf();console.log("Attempting to fetch products from Firestore...");const u=await ps(Jo(a,"products"));console.log("Products fetched successfully:",u.size);const c=u.docs.map(h=>({id:h.id,...h.data()}));i(c)}catch(a){console.error("Error fetching products:",a),i([{id:"HarvestGrove",image:wq,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"},{id:"tavertine",image:Eq,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}])}})()},[]),R.useEffect(()=>{const s=()=>{const a=document.querySelector(".nav");a&&e(a.offsetHeight)};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),v.jsxs(v.Fragment,{children:[v.jsx("meta",{charSet:"UTF-8"}),v.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),v.jsx("title",{children:"URENO"}),v.jsx(lx,{}),v.jsxs("div",{className:"body",children:[v.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[v.jsx("h1",{children:"Flooring"}),v.jsxs("div",{className:"search",children:[v.jsx("div",{className:"input",children:v.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),v.jsx("div",{className:"filter",children:"Filter"})]}),v.jsx("p",{children:"Popular"}),v.jsx("div",{className:"products",children:r.map(s=>v.jsx(wO,{productId:s.id,image:s.image,title:s.title,description:s.description,price:s.price,link:s.link},s.id))})]}),v.jsx(QT,{})]})]})}const xq=IN("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-zinc-900 text-zinc-100 hover:bg-zinc-800",destructive:"text-white hover:bg-red-600 dark:hover:bg-red-600",outline:"bg-zinc-100 text-zinc-900 hover:bg-zinc-200 outline outline-1 outline-zinc-300",subtle:"hover:bg-zinc-200 bg-zinc-100 text-zinc-900",ghost:"bg-transparent hover:bg-zinc-100 text-zinc-800 data-[state=open]:bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent dark:bg-transparent underline-offset-4 hover:underline text-slate-900 dark:text-slate-100 hover:bg-transparent dark:hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",xs:"h-8 px-1.5 rounded-sm",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Zg=R.forwardRef(({className:n,children:e,variant:t,isLoading:r,size:i,...s},a)=>v.jsxs("button",{className:Ll(xq({variant:t,size:i,className:n})),ref:a,disabled:r,...s,children:[r?v.jsx(o$,{className:"mr-2 h-4 w-4 animate-spin"}):null,e]}));Zg.displayName="Button";const ux={logo:n=>v.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:v.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>v.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),v.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},Cq=({className:n,...e})=>{const{userLoggedIn:t}=Ao()||{userLoggedIn:!1},r=Ri(),[i,s]=R.useState(""),[a,u]=R.useState(""),[c,h]=R.useState(!1),{toast:p}=$T();R.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const g=async()=>{h(!0);try{const w=await J$();r("/")}catch(w){console.error("Google sign-in error:",w),p({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{h(!1),console.log("Logged in: ",t)}},_=async(w,C)=>{h(!0);try{const x=await X$(w,C);r("/"),p({title:"Success!",description:"Logged in",variant:"default"})}catch(x){let S="Error logging in with email and password";console.log(x.code),x.code==="auth/invalid-credential"?S="Incorrect email or password. Please try again.":x.code==="auth/user-not-found"?S="No account found with this email.":x.code==="auth/invalid-email"?S="Invalid email format":x.code==="auth/too-many-requests"&&(S="Too many failed login attempts. Try again later."),p({title:"There was a problem.",description:S,variant:"destructive"})}finally{h(!1),console.log("Logged in: ",t)}};return v.jsxs(v.Fragment,{children:[v.jsx(VN,{}),v.jsx("div",{className:Ll("flex flex-col items-center space-y-4 justify-center",n),...e,children:v.jsxs("div",{className:"flex flex-col space-y-4",children:[v.jsx("input",{type:"email",value:i,onChange:w=>s(w.currentTarget.value),placeholder:"Email",className:"input"}),v.jsx("input",{type:"password",value:a,onChange:w=>u(w.target.value),placeholder:"Password",className:"input"}),v.jsx(Zg,{onClick:()=>_(i,a),isLoading:c,size:"sm",className:"w-full",children:"Login with Email"}),v.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[v.jsx("span",{className:"flex-grow border-t border-gray-300"}),v.jsx("span",{className:"px-3",children:" Or Login with Google "}),v.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),v.jsxs(Zg,{onClick:g,isLoading:c,size:"sm",className:"w-full",children:[c?null:v.jsx(ux.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},Sq=()=>{const n=Ri();return v.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:v.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:v.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[v.jsx("div",{className:"w-full flex justify-center",children:v.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:v.jsx(ux.logo,{className:"h-12 w-auto"})})}),v.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),v.jsx(Cq,{}),v.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",v.jsx(qt,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),v.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",v.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",v.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},Iq=()=>{const n=Ri();Zz();const{userLoggedIn:e,loading:t}=Ao(),[r,i]=R.useState(""),[s,a]=R.useState(""),[u,c]=R.useState(""),[h,p]=R.useState(!1),[g,_]=R.useState(!1),[w,C]=R.useState(""),[x,S]=R.useState(""),[N,D]=R.useState(""),[V,F]=R.useState(!1),[$,W]=R.useState(""),P=async b=>{if(b.preventDefault(),!V){if(W(""),F(!0),!w||!x){W("Email and password are required"),F(!1);return}if(x.length<6){W("Password must be at least 6 characters"),F(!1);return}if(x!==N){W("Passwords don't match"),F(!1);return}try{const U=(await Y$(w.trim(),x.trim())).user;await H0(U,{displayName:`${r} ${s}`}),await UT(U.uid,r,s,w.trim(),u,U.displayName),n("/"),console.log(e)}catch(O){O.code==="auth/email-already-in-use"?W("An account with this email already exists."):O.code==="auth/invalid-email"?W("The email address is not valid."):W("There was a problem creating your account."),F(!1)}}},A=async()=>{_(!0);try{const b=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{_(!1),console.log("Logged in: ",e)}};return R.useEffect(()=>{h&&(n("/"),p(!1))},[h,n,p]),t?v.jsx("div",{children:"Loading..."}):v.jsxs(v.Fragment,{children:[e&&v.jsx(tb,{to:"/",replace:!0}),v.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:v.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[v.jsx("div",{className:"text-center mb-6",children:v.jsxs("div",{className:"mt-2",children:[v.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),v.jsx("p",{children:"Enter your information to sign up"})]})}),v.jsxs("form",{onSubmit:P,className:"space-y-4",children:[$&&v.jsx("span",{className:"text-red-600 font-bold",children:$}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm text-gray-600 font-bold"}),v.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:b=>{i(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm text-gray-600 font-bold"}),v.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:s,onChange:b=>{a(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm text-gray-600 font-bold"}),v.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:u,onChange:b=>{c(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm text-gray-600 font-bold"}),v.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:w,onChange:b=>{C(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm text-gray-600 font-bold"}),v.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:x,onChange:b=>{S(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm text-gray-600 font-bold"}),v.jsx("input",{disabled:V,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:N,onChange:b=>{D(b.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),$&&v.jsx("span",{className:"text-red-600 font-bold",children:$}),v.jsx("button",{type:"submit",disabled:V,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${V?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:V?"Signing Up...":"Create Account"})]}),v.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[v.jsx("span",{className:"flex-grow border-t border-gray-300"}),v.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),v.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),v.jsxs(Zg,{onClick:A,isLoading:g,size:"sm",className:"w-full",children:[g?null:v.jsx(ux.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),v.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",v.jsx(qt,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),v.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",v.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",v.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},Rq=()=>v.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:v.jsx("div",{className:"flex flex-col space-y-2 text-center",children:v.jsx(Iq,{})})}),Ar="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",EO=()=>{const{productId:n}=m_(),[e,t]=R.useState(null),[r,i]=R.useState(null);return R.useEffect(()=>{n&&(async()=>{try{const a=Nn(Af,"products",n),u=await _s(a);if(u.exists()){const c=u.data();t(c),i(c.image)}else console.error("Product not found")}catch(a){console.error("Error fetching product: ",a)}})()},[n]),e?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"main-content",children:[v.jsxs("div",{id:"left",children:[v.jsx("div",{className:"main-image",children:v.jsx("img",{src:r||e.image,alt:""})}),v.jsxs("div",{className:"thumbnails",children:[v.jsx("img",{src:e.image,alt:"",onClick:()=>i(e.image)}),v.jsx("img",{src:e.image1,alt:"",onClick:()=>i(e.image1)}),v.jsx("img",{src:e.image2,alt:"",onClick:()=>i(e.image2)}),v.jsx("img",{src:e.image3,alt:"",onClick:()=>i(e.image3)})]})]}),v.jsxs("div",{id:"right",children:[v.jsxs("div",{className:"title-section",children:[v.jsxs("div",{className:"title",children:[v.jsx("p",{id:"main",children:e.title}),v.jsx("p",{id:"sub",children:e.description})]}),v.jsxs("div",{className:"price-link",children:[v.jsx("div",{className:"title-left",children:v.jsx("p",{children:e.price})}),v.jsx("div",{className:"title-right",children:v.jsx("a",{href:"",children:"See in my room"})})]}),v.jsx("a",{href:"",children:"View specifications"})]}),v.jsxs("div",{className:"description",children:[v.jsx("p",{children:e.description}),v.jsx("p",{children:e.overview}),v.jsx("a",{href:"",children:"Product Details"}),v.jsx("a",{href:"",children:"Reviews"})]})]})]}),v.jsxs("div",{className:"secondary-content",children:[v.jsx("div",{className:"suggestedProduct",children:v.jsxs("div",{className:"container",children:[v.jsx("img",{src:Ar,alt:"{title}"}),v.jsxs("div",{className:"prod-title",children:["{","title","}"]}),v.jsxs("p",{children:["{","description","}"]}),v.jsxs("p",{children:["{","price","}"]})]})}),v.jsx("div",{className:"suggestedProduct",children:v.jsxs("div",{className:"container",children:[v.jsx("img",{src:Ar,alt:"{title}"}),v.jsxs("div",{className:"prod-title",children:["{","title","}"]}),v.jsxs("p",{children:["{","description","}"]}),v.jsxs("p",{children:["{","price","}"]})]})}),v.jsx("div",{className:"suggestedProduct",children:v.jsxs("div",{className:"container",children:[v.jsx("img",{src:Ar,alt:"{title}"}),v.jsxs("div",{className:"prod-title",children:["{","title","}"]}),v.jsxs("p",{children:["{","description","}"]}),v.jsxs("p",{children:["{","price","}"]})]})})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"main-content",children:[v.jsxs("div",{id:"left",children:[v.jsx("div",{className:"main-image",children:v.jsx("img",{src:Ar,alt:""})}),v.jsxs("div",{className:"thumbnails",children:[v.jsx("img",{src:Ar,alt:""}),v.jsx("img",{src:Ar,alt:""}),v.jsx("img",{src:Ar,alt:""})]})]}),v.jsxs("div",{id:"right",children:[v.jsxs("div",{className:"title-section",children:[v.jsxs("div",{className:"title",children:[v.jsx("p",{id:"main",children:"Deafult Title"}),v.jsx("p",{id:"sub",children:"Default Category"})]}),v.jsxs("div",{className:"price-link",children:[v.jsx("div",{className:"title-left",children:v.jsx("p",{children:"$"})}),v.jsx("div",{className:"title-right",children:v.jsx("a",{href:"",children:"See in my room"})})]}),v.jsx("a",{href:"",children:"View specifications"})]}),v.jsxs("div",{className:"description",children:[v.jsx("p",{children:"Default Description"}),v.jsx("a",{href:"",children:"Product Details"}),v.jsx("a",{href:"",children:"Reviews"})]})]})]}),v.jsxs("div",{className:"secondary-content",children:[v.jsx("div",{className:"suggestedProduct",children:v.jsxs("div",{className:"container",children:[v.jsx("img",{src:Ar,alt:"{title}"}),v.jsxs("div",{className:"prod-title",children:["{","title","}"]}),v.jsxs("p",{children:["{","description","}"]}),v.jsxs("p",{children:["{","price","}"]})]})}),v.jsx("div",{className:"suggestedProduct",children:v.jsxs("div",{className:"container",children:[v.jsx("img",{src:Ar,alt:"{title}"}),v.jsxs("div",{className:"prod-title",children:["{","title","}"]}),v.jsxs("p",{children:["{","description","}"]}),v.jsxs("p",{children:["{","price","}"]})]})}),v.jsx("div",{className:"suggestedProduct",children:v.jsxs("div",{className:"container",children:[v.jsx("img",{src:Ar,alt:"{title}"}),v.jsxs("div",{className:"prod-title",children:["{","title","}"]}),v.jsxs("p",{children:["{","description","}"]}),v.jsxs("p",{children:["{","price","}"]})]})})]})]})};EO.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:Ar},alternate1:{defaultImage:Ar},alternate2:{defaultImage:Ar},suggested1:{defaultImage:Ar},suggested2:{defaultImage:Ar},suggested3:{defaultImage:Ar}};function Aq(){return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"product-detail-page",children:[v.jsx("meta",{charSet:"UTF-8"}),v.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),v.jsx("title",{children:"product detail"}),v.jsx(lx,{}),v.jsx(EO,{}),v.jsx(QT,{})]})})}function bq(n,e){return R.Children.toArray(n).some(t=>R.isValidElement(t)&&t.type===e)}function Pq({as:n,bsPrefix:e,className:t,...r}){e=Dn(e,"col");const i=iq(),s=sq(),a=[],u=[];return i.forEach(c=>{const h=r[c];delete r[c];let p,g,_;typeof h=="object"&&h!=null?{span:p,offset:g,order:_}=h:p=h;const w=c!==s?`-${c}`:"";p&&a.push(p===!0?`${e}${w}`:`${e}${w}-${p}`),_!=null&&u.push(`order${w}-${_}`),g!=null&&u.push(`offset${w}-${g}`)}),[{...r,className:gn(t,...a,...u)},{as:n,bsPrefix:e,spans:a}]}const TO=R.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:s,spans:a}]=Pq(n);return v.jsx(i,{...r,ref:e,className:gn(t,!a.length&&s)})});TO.displayName="Col";const kq={type:qc.string,tooltip:qc.bool,as:qc.elementType},sy=R.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},s)=>v.jsx(n,{...i,ref:s,className:gn(e,`${t}-${r?"tooltip":"feedback"}`)}));sy.displayName="Feedback";sy.propTypes=kq;const ma=R.createContext({}),cx=R.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:a="input",...u},c)=>{const{controlId:h}=R.useContext(ma);return e=Dn(e,"form-check-input"),v.jsx(a,{...u,ref:c,type:r,id:n||h,className:gn(t,e,i&&"is-valid",s&&"is-invalid")})});cx.displayName="FormCheckInput";const e_=R.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:s}=R.useContext(ma);return n=Dn(n,"form-check-label"),v.jsx("label",{...r,ref:i,htmlFor:t||s,className:gn(e,n)})});e_.displayName="FormCheckLabel";const xO=R.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:a=!1,isInvalid:u=!1,feedbackTooltip:c=!1,feedback:h,feedbackType:p,className:g,style:_,title:w="",type:C="checkbox",label:x,children:S,as:N="input",...D},V)=>{e=Dn(e,"form-check"),t=Dn(t,"form-switch");const{controlId:F}=R.useContext(ma),$=R.useMemo(()=>({controlId:n||F}),[F,n]),W=!S&&x!=null&&x!==!1||bq(S,e_),P=v.jsx(cx,{...D,type:C==="switch"?"checkbox":C,ref:V,isValid:a,isInvalid:u,disabled:s,as:N});return v.jsx(ma.Provider,{value:$,children:v.jsx("div",{style:_,className:gn(g,W&&e,r&&`${e}-inline`,i&&`${e}-reverse`,C==="switch"&&t),children:S||v.jsxs(v.Fragment,{children:[P,W&&v.jsx(e_,{title:w,children:x}),h&&v.jsx(sy,{type:p,tooltip:c,children:h})]})})})});xO.displayName="FormCheck";const t_=Object.assign(xO,{Input:cx,Label:e_}),CO=R.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:s,isValid:a=!1,isInvalid:u=!1,plaintext:c,readOnly:h,as:p="input",...g},_)=>{const{controlId:w}=R.useContext(ma);return n=Dn(n,"form-control"),v.jsx(p,{...g,type:e,size:r,ref:_,readOnly:h,id:i||w,className:gn(s,c?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,a&&"is-valid",u&&"is-invalid")})});CO.displayName="FormControl";const Nq=Object.assign(CO,{Feedback:sy}),SO=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Dn(e,"form-floating"),v.jsx(t,{ref:i,className:gn(n,e),...r})));SO.displayName="FormFloating";const dx=R.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=R.useMemo(()=>({controlId:n}),[n]);return v.jsx(ma.Provider,{value:i,children:v.jsx(e,{...t,ref:r})})});dx.displayName="FormGroup";const IO=R.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...a},u)=>{const{controlId:c}=R.useContext(ma);e=Dn(e,"form-label");let h="col-form-label";typeof t=="string"&&(h=`${h} ${h}-${t}`);const p=gn(i,e,r&&"visually-hidden",t&&h);return s=s||c,t?v.jsx(TO,{ref:u,as:"label",className:p,htmlFor:s,...a}):v.jsx(n,{ref:u,className:p,htmlFor:s,...a})});IO.displayName="FormLabel";const RO=R.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:s}=R.useContext(ma);return n=Dn(n,"form-range"),v.jsx("input",{...r,type:"range",ref:i,className:gn(e,n),id:t||s})});RO.displayName="FormRange";const AO=R.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:s=!1,id:a,...u},c)=>{const{controlId:h}=R.useContext(ma);return n=Dn(n,"form-select"),v.jsx("select",{...u,size:t,ref:c,className:gn(r,n,e&&`${n}-${e}`,i&&"is-valid",s&&"is-invalid"),id:a||h})});AO.displayName="FormSelect";const bO=R.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},s)=>(n=Dn(n,"form-text"),v.jsx(t,{...i,ref:s,className:gn(e,n,r&&"text-muted")})));bO.displayName="FormText";const PO=R.forwardRef((n,e)=>v.jsx(t_,{...n,ref:e,type:"switch"}));PO.displayName="Switch";const Oq=Object.assign(PO,{Input:t_.Input,Label:t_.Label}),kO=R.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...s},a)=>(n=Dn(n,"form-floating"),v.jsxs(dx,{ref:a,className:gn(e,n),controlId:r,...s,children:[t,v.jsx("label",{htmlFor:r,children:i})]})));kO.displayName="FloatingLabel";const Dq={_ref:qc.any,validated:qc.bool,as:qc.elementType},hx=R.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>v.jsx(t,{...r,ref:i,className:gn(n,e&&"was-validated")}));hx.displayName="Form";hx.propTypes=Dq;const ji=Object.assign(hx,{Group:dx,Control:Nq,Floating:SO,Check:t_,Switch:Oq,Label:IO,Text:bO,Range:RO,Select:AO,FloatingLabel:kO}),Lq=()=>{const n=Ri(),e=async()=>{await YT(),n("/")};return v.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[v.jsx(qt,{to:"/",className:"text-2xl font-bold",children:v.jsx("div",{className:"logo",children:"URENO"})}),v.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[v.jsxs(qt,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[v.jsx(c$,{className:"w-5 h-5"})," Settings"]}),v.jsxs(qt,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[v.jsx(i$,{className:"w-5 h-5"})," Notifications"]}),v.jsxs(qt,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[v.jsx(l$,{className:"w-5 h-5"})," Log Out"]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="firebasestorage.googleapis.com",OO="storageBucket",Mq=2*60*1e3,jq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends Io{constructor(e,t,r=0){super(_0(e),`Firebase Storage: ${t} (${_0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mn||(mn={}));function _0(n){return"storage/"+n}function fx(){const n="An unknown error occurred, please check the error payload for server response.";return new _n(mn.UNKNOWN,n)}function Vq(n){return new _n(mn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Fq(n){return new _n(mn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Uq(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n(mn.UNAUTHENTICATED,n)}function Bq(){return new _n(mn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zq(n){return new _n(mn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function $q(){return new _n(mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wq(){return new _n(mn.CANCELED,"User canceled the upload/download.")}function qq(n){return new _n(mn.INVALID_URL,"Invalid URL '"+n+"'.")}function Hq(n){return new _n(mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Gq(){return new _n(mn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OO+"' property when initializing the app?")}function Kq(){return new _n(mn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qq(){return new _n(mn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Yq(n){return new _n(mn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jw(n){return new _n(mn.INVALID_ARGUMENT,n)}function DO(){return new _n(mn.APP_DELETED,"The Firebase app was deleted.")}function Xq(n){return new _n(mn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zh(n,e){return new _n(mn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function xh(n){throw new _n(mn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Hi.makeFromUrl(e,t)}catch{return new Hi(e,"")}if(r.path==="")return r;throw Hq(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(F){F.path_=decodeURIComponent(F.path)}const p="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${i}/o${_}`,"i"),C={bucket:1,path:3},x=t===NO?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",N=new RegExp(`^https?://${x}/${i}/${S}`,"i"),V=[{regex:u,indices:c,postModify:s},{regex:w,indices:C,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let F=0;F<V.length;F++){const $=V[F],W=$.regex.exec(e);if(W){const P=W[$.indices.bucket];let A=W[$.indices.path];A||(A=""),r=new Hi(P,A),$.postModify(r);break}}if(r==null)throw qq(e);return r}}class Jq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(n,e,t){let r=1,i=null,s=null,a=!1,u=0;function c(){return u===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,n(w,c())},S)}function _(){s&&clearTimeout(s)}function w(S,...N){if(h){_();return}if(S){_(),p.call(null,S,...N);return}if(c()||a){_(),p.call(null,S,...N);return}r<64&&(r*=2);let V;u===1?(u=2,V=0):V=(r+Math.random())*1e3,g(V)}let C=!1;function x(S){C||(C=!0,_(),!h&&(i!==null?(S||(u=2),clearTimeout(i),g(0)):S||(u=1)))}return g(0),s=setTimeout(()=>{a=!0,x(!0)},t),x}function eH(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(n){return n!==void 0}function nH(n){return typeof n=="object"&&!Array.isArray(n)}function px(n){return typeof n=="string"||n instanceof String}function sA(n){return mx()&&n instanceof Blob}function mx(){return typeof Blob<"u"}function oA(n,e,t,r){if(r<e)throw jw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw jw(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function LO(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var mu;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(mu||(mu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,t,r,i,s,a,u,c,h,p,g,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,C)=>{this.resolve_=w,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Dm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===mu.NO_ERROR,c=s.getStatus();if(!u||rH(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===mu.ABORT;r(!1,new Dm(!1,null,p));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Dm(h,s))})},t=(r,i)=>{const s=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());tH(c)?s(c):s()}catch(c){a(c)}else if(u!==null){const c=fx();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(i.canceled){const c=this.appDelete_?DO():Wq();a(c)}else{const c=$q();a(c)}};this.canceled_?t(!1,new Dm(!1,null,!0)):this.backoffId_=Zq(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function sH(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function oH(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aH(n,e){e&&(n["X-Firebase-GMPID"]=e)}function lH(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function uH(n,e,t,r,i,s,a=!0){const u=LO(n.urlParams),c=n.url+u,h=Object.assign({},n.headers);return aH(h,e),sH(h,t),oH(h,s),lH(h,r),new iH(c,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dH(...n){const e=cH();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(mx())return new Blob(n);throw new _n(mn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hH(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(n){if(typeof atob>"u")throw Yq("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class y0{constructor(e,t){this.data=e,this.contentType=t||null}}function pH(n,e){switch(n){case fo.RAW:return new y0(MO(e));case fo.BASE64:case fo.BASE64URL:return new y0(jO(n,e));case fo.DATA_URL:return new y0(gH(e),_H(e))}throw fx()}function MO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=n.charCodeAt(++t);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function mH(n){let e;try{e=decodeURIComponent(n)}catch{throw Zh(fo.DATA_URL,"Malformed data URL.")}return MO(e)}function jO(n,e){switch(n){case fo.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Zh(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fo.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Zh(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=fH(e)}catch(i){throw i.message.includes("polyfill")?i:Zh(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class VO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Zh(fo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=yH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function gH(n){const e=new VO(n);return e.base64?jO(fo.BASE64,e.rest):mH(e.rest)}function _H(n){return new VO(n).contentType}function yH(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){let r=0,i="";sA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(sA(this.data_)){const r=this.data_,i=hH(r,e,t);return i===null?null:new Ya(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ya(r,!0)}}static getBlob(...e){if(mx()){const t=e.map(r=>r instanceof Ya?r.data_:r);return new Ya(dH.apply(null,t))}else{const t=e.map(a=>px(a)?pH(fo.RAW,a).data:a.data_);let r=0;t.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(a=>{for(let u=0;u<a.length;u++)i[s++]=a[u]}),new Ya(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n){let e;try{e=JSON.parse(n)}catch{return null}return nH(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function wH(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function UO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(n,e){return e}class Yr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||EH}}let Lm=null;function TH(n){return!px(n)||n.length<2?n:UO(n)}function BO(){if(Lm)return Lm;const n=[];n.push(new Yr("bucket")),n.push(new Yr("generation")),n.push(new Yr("metageneration")),n.push(new Yr("name","fullPath",!0));function e(s,a){return TH(a)}const t=new Yr("name");t.xform=e,n.push(t);function r(s,a){return a!==void 0?Number(a):a}const i=new Yr("size");return i.xform=r,n.push(i),n.push(new Yr("timeCreated")),n.push(new Yr("updated")),n.push(new Yr("md5Hash",null,!0)),n.push(new Yr("cacheControl",null,!0)),n.push(new Yr("contentDisposition",null,!0)),n.push(new Yr("contentEncoding",null,!0)),n.push(new Yr("contentLanguage",null,!0)),n.push(new Yr("contentType",null,!0)),n.push(new Yr("metadata","customMetadata",!0)),Lm=n,Lm}function xH(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new Hi(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function CH(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const a=t[s];r[a.local]=a.xform(r,e[a.server])}return xH(r,n),r}function zO(n,e,t){const r=FO(e);return r===null?null:CH(n,r,t)}function SH(n,e,t,r){const i=FO(e);if(i===null||!px(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(h=>{const p=n.bucket,g=n.fullPath,_="/b/"+a(p)+"/o/"+a(g),w=gx(_,t,r),C=LO({alt:"media",token:h});return w+C})[0]}function IH(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class $O{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n){if(!n)throw fx()}function RH(n,e){function t(r,i){const s=zO(n,i,e);return WO(s!==null),s}return t}function AH(n,e){function t(r,i){const s=zO(n,i,e);return WO(s!==null),SH(s,i,n.host,n._protocol)}return t}function qO(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Bq():i=Uq():t.getStatus()===402?i=Fq(n.bucket):t.getStatus()===403?i=zq(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function bH(n){const e=qO(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Vq(n.path)),s.serverResponse=i.serverResponse,s}return t}function PH(n,e,t){const r=e.fullServerUrl(),i=gx(r,n.host,n._protocol),s="GET",a=n.maxOperationRetryTime,u=new $O(i,s,AH(n,t),a);return u.errorHandler=bH(e),u}function kH(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function NH(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=kH(null,e)),r}function OH(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let V="";for(let F=0;F<2;F++)V=V+Math.random().toString().slice(2);return V}const c=u();a["Content-Type"]="multipart/related; boundary="+c;const h=NH(e,r,i),p=IH(h,t),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,_=`\r
--`+c+"--",w=Ya.getBlob(g,r,_);if(w===null)throw Kq();const C={name:h.fullPath},x=gx(s,n.host,n._protocol),S="POST",N=n.maxUploadRetryTime,D=new $O(x,S,RH(n,t),N);return D.urlParams=C,D.headers=a,D.body=w.uploadData(),D.errorHandler=qO(e),D}class DH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw xh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LH extends DH{initXhr(){this.xhr_.responseType="text"}}function HO(){return new LH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t){this._service=e,t instanceof Hi?this._location=t:this._location=Hi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Nu(e,t)}get root(){const e=new Hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UO(this._location.path)}get storage(){return this._service}get parent(){const e=vH(this._location.path);if(e===null)return null;const t=new Hi(this._location.bucket,e);return new Nu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Xq(e)}}function MH(n,e,t){n._throwIfRoot("uploadBytes");const r=OH(n.storage,n._location,BO(),new Ya(e,!0),t);return n.storage.makeRequestWithTokens(r,HO).then(i=>({metadata:i,ref:n}))}function jH(n){n._throwIfRoot("getDownloadURL");const e=PH(n.storage,n._location,BO());return n.storage.makeRequestWithTokens(e,HO).then(t=>{if(t===null)throw Qq();return t})}function VH(n,e){const t=wH(n._location.path,e),r=new Hi(n._location.bucket,t);return new Nu(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(n){return/^[A-Za-z]+:\/\//.test(n)}function UH(n,e){return new Nu(n,e)}function GO(n,e){if(n instanceof _x){const t=n;if(t._bucket==null)throw Gq();const r=new Nu(t,t._bucket);return e!=null?GO(r,e):r}else return e!==void 0?VH(n,e):n}function BH(n,e){if(e&&FH(e)){if(n instanceof _x)return UH(n,e);throw jw("To use ref(service, url), the first argument must be a Storage instance.")}else return GO(n,e)}function aA(n,e){const t=e==null?void 0:e[OO];return t==null?null:Hi.makeFromBucketSpec(t,n)}function zH(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:EE(i,n.app.options.projectId))}class _x{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=NO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Mq,this._maxUploadRetryTime=jq,this._requests=new Set,i!=null?this._bucket=Hi.makeFromBucketSpec(i,this._host):this._bucket=aA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hi.makeFromBucketSpec(this._url,e):this._bucket=aA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Jq(DO());{const a=uH(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const lA="@firebase/storage",uA="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="storage";function $H(n,e,t){return n=jt(n),MH(n,e,t)}function WH(n){return n=jt(n),jH(n)}function qH(n,e){return n=jt(n),BH(n,e)}function HH(n=w_(),e){n=jt(n);const r=Wf(n,KO).getImmediate({identifier:e}),i=vE("storage");return i&&GH(r,...i),r}function GH(n,e,t,r={}){zH(n,e,t,r)}function KH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new _x(t,r,i,e,bl)}function QH(){gl(new oa(KO,KH,"PUBLIC").setMultipleInstances(!0)),Es(lA,uA,""),Es(lA,uA,"esm2017")}QH();function YH(){const{user:n,profile:e}=ey(),t=Ri(),[r,i]=R.useState({displayName:"",email:"",phone:"",profilePicture:null});if(R.useEffect(()=>{e&&i({displayName:n.displayName||"",email:n.email||"",phone:e.phone||"",profilePicture:null})},[e,n]),!n||!e)return v.jsx("p",{children:"Loading profile data..."});const s=async a=>{a.preventDefault();const u=S_(),c=Zf(),h=HH(),p=u.currentUser;if(!p)return;const g={};try{if(r.displayName&&r.displayName!==p.displayName&&(await H0(p,{displayName:r.displayName}),g.displayName=r.displayName),r.email&&r.email!==p.email&&(await VV(p,r.email),g.email=r.email),r.phone&&(g.phone=r.phone),r.profilePicture){const _=qH(h,`profilePictures/${p.uid}`);await $H(_,r.profilePicture);const w=await WH(_);await H0(p,{photoURL:w}),g.photoURL=w}if(Object.keys(g).length>0){const _=Nn(c,"users",p.uid);await ul(_,g)}alert("profile updated succesfully"),t("/ProfileDashboard")}catch(_){console.error("Error updating profile:",_),alert("Failed to update profile. Check the console for details.")}};return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Edit Profile"}),v.jsxs(ji,{children:[v.jsxs(ji.Group,{controlId:"displayName",className:"mb-3",children:[v.jsx(ji.Label,{children:"Display Name"}),v.jsx(ji.Control,{type:"text",value:r.displayName,onChange:a=>i({...r,displayName:a.target.value})})]}),v.jsxs(ji.Group,{controlId:"email",className:"mb-3",children:[v.jsx(ji.Label,{children:"email"}),v.jsx(ji.Control,{type:"email",value:r.email,onChange:a=>i({...r,email:a.target.value})})]}),v.jsxs(ji.Group,{controlId:"phone",className:"mb-3",children:[v.jsx(ji.Label,{children:"Phone Number"}),v.jsx(ji.Control,{type:"text",value:r.phone,onChange:a=>i({...r,phone:a.target.value})})]}),v.jsxs(ji.Group,{controlId:"profilePicture",className:"mb-3",children:[v.jsx(ji.Label,{children:"Profile Picture"}),v.jsx(ji.Control,{type:"file",onChange:a=>i({...r,profilePicture:a.target.files[0]})})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx(Jg,{variant:"primary",onClick:s,type:"submit",children:"Save Changes"}),v.jsx(Jg,{variant:"secondary",onClick:()=>t("/ProfileDashboard"),children:"Cancel"})]})]})]})})}function XH(){const{currentUser:n}=Ao(),[e,t]=R.useState([]),[r,i]=R.useState(!0);return R.useEffect(()=>{(async()=>{if(!n)return;const a=Jo(kn,"savedMaterials"),u=Ja(a,fs("userId","==",n.uid));try{const h=(await ps(u)).docs.map(p=>({id:p.id,...p.data()}));t(h)}catch(c){console.error("Error fetching saved materials:",c)}finally{i(!1)}})()},[n]),r?v.jsx("div",{children:"Loading saved materials..."}):v.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(qt,{to:"/ProfileDashboard",className:"text-blue-500 text-3xl font-bold hover:scale-110 hover:text-blue-700 transition-all duration-200 flex items-center justify-center",children:"<"}),v.jsx("h1",{className:"text-2xl font-bold",children:"Saved Items"})]}),e.length===0?v.jsx("p",{className:"text-gray-500",children:"You don't have any saved materials yet."}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(s=>v.jsxs("div",{className:"border p-4 rounded shadow",children:[s.materialImageURL&&v.jsx("img",{src:s.materialImageURL,alt:s.materialName,className:"w-full h-32 object-cover rounded mb-2"}),v.jsx("h2",{className:"text-xl font-semibold",children:s.materialName}),v.jsx("p",{className:"text-gray-600",children:s.materialType})]},s.id))})]})}const JH="_loginWrapper_1063v_3",ZH="_container_1063v_11",eG="_form_1063v_32",tG="_formBox_1063v_34",nG="_active_1063v_49",rG="_register_1063v_51",iG="_inputBox_1063v_54",sG="_forgotLink_1063v_84",oG="_btn_1063v_90",aG="_socialIcons_1063v_103",lG="_toggleBox_1063v_118",uG="_togglePanel_1063v_138",cG="_toggleLeft_1063v_152",dG="_toggleRight_1063v_161",At={loginWrapper:JH,container:ZH,form:eG,formBox:tG,active:nG,register:rG,inputBox:iG,forgotLink:sG,btn:oG,socialIcons:aG,toggleBox:lG,togglePanel:uG,toggleLeft:cG,toggleRight:dG},hG=()=>{const[n,e]=R.useState(!1),t=()=>{e(!0)},r=()=>{e(!1)};return v.jsx("div",{className:At.loginWrapper,children:v.jsxs("div",{className:`${At.container} ${n?At.active:""}`,children:[v.jsx("div",{className:`${At.formBox} ${At.login}`,children:v.jsxs("form",{className:At.form,action:"#",children:[v.jsx("h1",{children:"Login"}),v.jsxs("div",{className:At.inputBox,children:[v.jsx("input",{type:"text",placeholder:"Email",required:!0}),v.jsx("i",{className:"bx bxs-user"})]}),v.jsxs("div",{className:At.inputBox,children:[v.jsx("input",{type:"password",placeholder:"Password",required:!0}),v.jsx("i",{className:"bx bxs-lock-alt"})]}),v.jsx("div",{className:At.forgotLink,children:v.jsx("a",{href:"#",children:"Forgot Password?"})}),v.jsx("button",{type:"submit",className:At.btn,children:"Login"}),v.jsx("p",{children:"or login with social platforms"}),v.jsxs("div",{className:At.socialIcons,children:[v.jsx("a",{href:"#",children:v.jsx("i",{className:"bx bxl-google"})}),v.jsx("a",{href:"#",children:v.jsx("i",{className:"bx bxl-facebook"})}),v.jsx("a",{href:"#",children:v.jsx("i",{className:"bx bxl-github"})}),v.jsx("a",{href:"#",children:v.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),v.jsx("div",{className:`${At.formBox} ${At.register}`,children:v.jsxs("form",{className:At.form,action:"#",children:[v.jsx("h1",{children:"Registration"}),v.jsxs("div",{className:At.inputBox,children:[v.jsx("input",{type:"text",placeholder:"First Name",required:!0}),v.jsx("i",{className:"bx bxs-user"})]}),v.jsxs("div",{className:At.inputBox,children:[v.jsx("input",{type:"text",placeholder:"Last Name",required:!0}),v.jsx("i",{className:"bx bxs-user"})]}),v.jsxs("div",{className:At.inputBox,children:[v.jsx("input",{type:"email",placeholder:"Email",required:!0}),v.jsx("i",{className:"bx bxs-envelope"})]}),v.jsxs("div",{className:At.inputBox,children:[v.jsx("input",{type:"password",placeholder:"Password",required:!0}),v.jsx("i",{className:"bx bxs-lock-alt"})]}),v.jsxs("div",{className:At.inputBox,children:[v.jsx("input",{type:"password",placeholder:"Confirm Password",required:!0}),v.jsx("i",{className:"bx bxs-lock-alt"})]}),v.jsx("button",{type:"submit",className:At.btn,children:"Register"}),v.jsx("p",{children:"or register with social platforms"}),v.jsxs("div",{className:At.socialIcons,children:[v.jsx("a",{href:"#",children:v.jsx("i",{className:"bx bxl-google"})}),v.jsx("a",{href:"#",children:v.jsx("i",{className:"bx bxl-facebook"})}),v.jsx("a",{href:"#",children:v.jsx("i",{className:"bx bxl-github"})}),v.jsx("a",{href:"#",children:v.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),v.jsxs("div",{className:At.toggleBox,children:[v.jsxs("div",{className:`${At.togglePanel} ${At.toggleLeft}`,children:[v.jsx("h1",{children:"Hello, Welcome!"}),v.jsx("p",{children:"Don't have an account?"}),v.jsx("button",{className:At.btn,onClick:t,children:"Register"})]}),v.jsxs("div",{className:`${At.togglePanel} ${At.toggleRight}`,children:[v.jsx("h1",{children:"Welcome Back!"}),v.jsx("p",{children:"Already have an account?"}),v.jsx("button",{className:At.btn,onClick:r,children:"Login"})]})]})]})})},fG=()=>{const{user:n}=R.useContext(Bu),e=Ri(),t=async r=>{if(n!=null&&n.uid)try{await ul(Nn(Af,"users",n.uid),{role:r}),e(r==="contractor"?"/contractor-dashboard":"/")}catch(i){console.error("Failed to update role:",i)}};return v.jsxs("div",{className:"flex flex-col items-center justify-center h-screen px-4 text-center",children:[v.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Are you a contractor or homeowner?"}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[v.jsx("button",{onClick:()=>t("contractor"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded",children:"I'm a Contractor"}),v.jsx("button",{onClick:()=>t("customer"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded",children:"I'm a Homeowner"})]})]})},pG=()=>{const{projectId:n}=m_(),{currentUser:e}=Ao(),t=Ri(),[r,i]=R.useState(null),[s,a]=R.useState(!0);R.useEffect(()=>{(async()=>{if(!e)return;const h=Nn(kn,"projects",n),p=await _s(h);p.exists()&&i({id:p.id,...p.data()}),a(!1)})()},[e,n]);const u=async c=>{c.preventDefault();const h=Nn(kn,"projects",n);await ul(h,{title:r.title,description:r.description,status:r.status}),t("/projects")};return s?v.jsx("div",{children:"Loading..."}):r?v.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Project"}),v.jsxs("form",{onSubmit:u,className:"flex flex-col gap-4",children:[v.jsx("input",{type:"text",value:r.title,onChange:c=>i(h=>({...h,title:c.target.value})),placeholder:"Project Title",className:"border p-2 rounded"}),v.jsx("textarea",{value:r.description,onChange:c=>i(h=>({...h,description:c.target.value})),placeholder:"Project Description",className:"border p-2 rounded"}),v.jsx("div",{className:"flex items-center space-x-4",children:v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"font-medium",children:"Project Status:"}),v.jsxs("select",{value:r.status||"submitted",onChange:c=>i(h=>({...h,status:c.target.value})),className:"border p-2 rounded",children:[v.jsx("option",{value:"submitted",children:"Submitted (Visible)"}),v.jsx("option",{value:"hidden",children:"Hidden (Not visible to contractors)"}),r.status==="accepted"&&v.jsx("option",{value:"accepted",children:"Accepted"})]})]})}),v.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Update Project"})]})]}):v.jsx("div",{children:"Project not found"})},mG=()=>{const{profile:n,user:e}=ey(),t=Ri(),[r,i]=R.useState([]),[s,a]=R.useState(!0);if(R.useEffect(()=>{(async()=>{try{if(!n||!e||n.role!=="contractor"){a(!1);return}console.log("Fetching projects for contractor:",e.uid);const p=Ja(Jo(kn,"projects"),fs("status","==","submitted")),g=Ja(Jo(kn,"projects"),fs("status","==","inquiry")),_=Ja(Jo(kn,"projects"),fs("status","==","in progress"),fs("contractorId","==",e.uid)),w=Ja(Jo(kn,"projects"),fs("status","==","pending_approval"),fs("requestedBy","array-contains",e.uid)),[C,x,S,N]=await Promise.all([ps(p),ps(g),ps(_),ps(w)]),D=C.docs.map(A=>({id:A.id,...A.data()})),V=x.docs.map(A=>({id:A.id,...A.data()})),F=S.docs.map(A=>({id:A.id,...A.data()})),$=N.docs.map(A=>({id:A.id,...A.data()})),W=[...D,...V,...F,...$],P=await Promise.all(W.map(async A=>{let b="Unknown";if(A.ownerId){const O=Nn(kn,"users",A.ownerId),U=await _s(O);if(U.exists()){const M=U.data();b=M.displayName||M.firstName||"Unknown"}}return console.log("Resolved owner for project:",A.title,"->",b),{...A,ownerDisplayName:b}}));i(P)}catch(p){console.error("Error fetching projects:",p.message),i([])}finally{a(!1)}})()},[n,e]),s)return v.jsx("div",{children:"Loading..."});const u=r.filter(h=>h.status==="in progress"&&h.contractorId===e.uid),c=r.filter(h=>!(h.status==="in progress"&&h.contractorId===e.uid));return v.jsxs("div",{className:"p-4 max-w-4xl mx-auto mt-20",children:[v.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:v.jsx(qt,{to:"/contractor-dashboard",children:v.jsx("div",{className:"logo",children:" return "})})}),u.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Accepted Projects"}),v.jsx("div",{className:"mb-8",children:v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.map(h=>{var p,g,_;return v.jsxs("div",{className:"border p-4 rounded shadow relative bg-green-50",children:[v.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",children:"In Progress"}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:h.title}),v.jsxs("p",{className:"text-gray-600 mb-1",children:["Submitted by: ",h.ownerDisplayName]}),v.jsx("p",{className:"text-gray-600 mb-1",children:h.description}),v.jsxs("p",{className:"text-sm",children:["Material: ",(p=h.flooringOption)==null?void 0:p.title]}),v.jsxs("p",{className:"text-sm",children:["Area: ",(g=h.roomDimensions)==null?void 0:g.length," ft x ",(_=h.roomDimensions)==null?void 0:_.width," ft"]}),v.jsx("button",{className:"mt-3 px-4 py-2 bg-green-600 text-white rounded",onClick:()=>t(`/projects/view/${h.id}`),children:"View Project"})]},h.id)})})})]}),v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Available Projects"}),c.length===0?v.jsx("p",{children:"No Submitted projects found."}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:c.map(h=>{var p,g,_,w,C,x,S;return v.jsxs("div",{className:"border p-4 rounded shadow relative",children:[v.jsx("div",{className:`absolute top-0 right-0 m-2 px-2 py-1 text-xs font-semibold rounded ${h.status==="submitted"?"bg-blue-100 text-blue-800":h.status==="inquiry"?"bg-yellow-100 text-yellow-800":h.status==="in progress"?"bg-green-100 text-green-800":h.status==="pending_approval"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:h.status==="submitted"?"New":h.status==="inquiry"?"Inquired":h.status==="in progress"?"In Progress":h.status==="pending_approval"?"Pending Approval":h.status}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:h.title}),v.jsxs("p",{className:"text-gray-600 mb-1",children:["Submitted by: ",h.ownerDisplayName]}),v.jsx("p",{className:"text-gray-600 mb-1",children:h.description}),v.jsxs("p",{className:"text-sm",children:["Material: ",(p=h.flooringOption)==null?void 0:p.title]}),v.jsxs("p",{className:"text-sm",children:["Area: ",(g=h.roomDimensions)==null?void 0:g.length," ft x ",(_=h.roomDimensions)==null?void 0:_.width," ft"]}),v.jsx("button",{className:`mt-3 px-4 py-2 text-white rounded ${h.status==="pending_approval"&&((w=h.requestedBy)!=null&&w.includes(e.uid))?"bg-orange-500":h.status==="inquiry"&&((C=h.inquiredBy)!=null&&C.includes(e.uid))?"bg-yellow-500":"bg-blue-600"}`,onClick:()=>t(`/projects/view/${h.id}`),children:h.status==="pending_approval"&&((x=h.requestedBy)!=null&&x.includes(e.uid))?"Awaiting Customer Approval":h.status==="inquiry"&&((S=h.inquiredBy)!=null&&S.includes(e.uid))?"View Inquiry":h.status==="pending homeowner approval"&&h.contractorId===e.uid?"Pending Approval":"View Project"})]},h.id)})})]})},gG="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png",_G=()=>{const{profile:n}=R.useContext(Bu),{currentUser:e}=Ao(),[t,r]=R.useState(0),[i,s]=R.useState(0),[a,u]=R.useState(0),[c,h]=R.useState(null);return R.useEffect(()=>{if(!(n!=null&&n.role)||n.role!=="contractor")return;(async()=>{try{console.log("Fetching project stats for contractor role:",n.role);const g=Ja(Jo(kn,"projects"),fs("status","==","submitted")),_=Ja(Jo(kn,"projects"),fs("status","==","inquiry"),fs("inquiredBy","array-contains",(e==null?void 0:e.uid)||"")),w=Ja(Jo(kn,"projects"),fs("status","==","in progress"),fs("inquiredBy","array-contains",(e==null?void 0:e.uid)||""));try{const[C,x,S]=await Promise.all([ps(g),ps(_),ps(w)]);console.log("Available projects count:",C.size),console.log("Inquired projects count:",x.size),console.log("In Progress projects count:",S.size),r(C.size),s(x.size),u(S.size),h(null)}catch(C){console.error("Error in queries:",C);try{const x=await ps(g);r(x.size),console.log("Available query succeeded:",x.size)}catch(x){console.error("Available query failed:",x),r(0)}try{const x=await ps(_);s(x.size),console.log("Inquired query succeeded:",x.size)}catch(x){console.error("Inquired query failed:",x),s(0)}try{const x=await ps(w);u(x.size),console.log("In Progress query succeeded:",x.size)}catch(x){console.error("In Progress query failed:",x),u(0)}}}catch(g){console.error("Error fetching project stats:",g),h(g.message),r(0),s(0),u(0)}})()},[e,n]),v.jsxs(v.Fragment,{children:[v.jsx(Lq,{}),v.jsx("div",{className:"main-content max-w-6xl mx-auto p-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-24",children:[v.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"p-4 border rounded shadow",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),v.jsxs("p",{className:"text-gray-500",children:[t," Available, ",i," Inquired, ",a," Accepted"]}),v.jsx(qt,{to:"/available-projects",children:v.jsx("button",{className:"mt-2 text-blue-500 hover:underline",children:"Browse Projects"})})]}),v.jsxs("div",{className:"p-4 border rounded shadow",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Messages & Notifications"}),v.jsx("p",{className:"text-gray-500",children:"Check for project updates and messages"}),v.jsx(qt,{to:"/messages",children:v.jsx("button",{className:"mt-2 text-blue-500 hover:underline",children:"Go to Messages"})})]})]}),v.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center",children:[v.jsx("h2",{className:"text-2xl font-bold mt-4",children:(n==null?void 0:n.username)||(n==null?void 0:n.firstName)||"Contractor"}),v.jsx("img",{src:gG,alt:"profile",className:"w-24 h-24 rounded-full my-2"}),v.jsx("p",{className:"text-gray-500",children:n==null?void 0:n.email}),v.jsx(qt,{to:"/edit-profile",children:v.jsx("button",{className:"mt-2 bg-blue-500 text-white px-4 py-2 rounded",children:"Edit Profile"})})]})]})})]})},yG=async({projectId:n,customerId:e,contractorId:t,status:r="inquiry"})=>{const i=`${n}_${t}`,s=Nn(kn,"conversations",i);return(await _s(s)).exists()||await yT(s,{projectId:n,customerId:e,contractorId:t,participants:[e,t],status:r,createdAt:p9()}),i},vG=()=>{var p,g,_;const{projectId:n}=m_();console.log("Project ID from URL:",n);const e=Ri(),{profile:t,user:r}=ey(),[i,s]=R.useState(null),[a,u]=R.useState(!0);R.useEffect(()=>{(async()=>{if(!n){console.error("No project ID provided in URL"),u(!1);return}try{const C=Nn(kn,"projects",n),x=await _s(C);x.exists()&&s({id:x.id,...x.data()})}catch(C){console.error("Error fetching project:",C.message)}finally{u(!1)}})()},[n]);const c=async()=>{try{const w=Nn(kn,"projects",n);await ul(w,{status:"inquiry",inquiredBy:[...i.inquiredBy||[],r.uid]});const C=await yG({projectId:n,customerId:i.ownerId,contractorId:r.uid,status:"inquiry"});e("/messages")}catch(w){console.error("Error inquiring about project:",w.message)}},h=async()=>{try{const w=Nn(kn,"projects",n);await ul(w,{status:"pending_approval",requestedBy:[...i.requestedBy||[],r.uid]}),e("/contractor-dashboard")}catch(w){console.error("Error requestin acceptance:",w.message)}};return a?v.jsx("div",{children:"Loading project..."}):i?v.jsxs("div",{className:"p-6 max-w-4xl mx-auto mt-24",children:[v.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:v.jsx(qt,{to:"/available-projects",children:v.jsx("div",{className:"logo",children:" return "})})}),v.jsx("h1",{className:"text-2xl font-bold mb-2",children:i.title}),v.jsx("p",{className:"text-gray-700 mb-4",children:i.description}),v.jsxs("p",{children:["Material: ",(p=i.flooringOption)==null?void 0:p.title]}),v.jsxs("p",{children:["Area: ",(g=i.roomDimensions)==null?void 0:g.length," x ",(_=i.roomDimensions)==null?void 0:_.width," ft"]}),(t==null?void 0:t.role)==="contractor"&&v.jsx("div",{className:"mt-6 flex gap-4",children:i.status==="in progress"&&i.contractorId===r.uid?v.jsx("button",{onClick:()=>e("/messages/"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"View Conversation"}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:c,className:"bg-yellow-500 text-white px-4 py-2 rounded",children:"Inquire"}),v.jsx("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Request Acceptance"})]})})]}):v.jsx("div",{children:"Project not found."})},wG=()=>{const{id:n}=m_(),[e,t]=R.useState([]),[r,i]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const c=Nn(kn,"projects",n),h=await _s(c);if(!h.exists()){console.error("Project not found"),i(!1);return}const g=h.data().requestedBy||[],_=await Promise.all(g.map(async x=>{const S=await _s(Nn(kn,"users",x));return S.exists()?{uid:x,...S.data()}:null})),w=[],C=new Set;for(const x of _)x&&!C.has(x.uid)&&(C.add(x.uid),w.push(x));t(w)}catch(c){console.error("Error fetching contractor requests:",c)}finally{i(!1)}})()},[n]);const s=async u=>{try{const c=Nn(kn,"projects",n);await ul(c,{contractorId:u,status:"in progress"});const h=await _s(c);if(h.exists()){const g=(h.data().requestedBy||[]).filter(_=>_!==u);await ul(c,{requestedBy:g}),t(_=>_.filter(w=>w.uid!==u))}}catch(c){console.error("Error approving contractor:",c)}},a=async u=>{try{const c=Nn(kn,"projects",n),h=await _s(c);if(!h.exists())return;const g=(h.data().requestedBy||[]).filter(_=>_!==u);await ul(c,{requestedBy:g}),t(_=>_.filter(w=>w.uid!==u))}catch(c){console.error("Error denying contractor:",c)}};return r?v.jsx("div",{className:"p-4",children:"Loading contractor requests..."}):v.jsxs("div",{className:"p-6 max-w-3xl mx-auto mt-24",children:[v.jsx("div",{className:"fixed top-0 left-0 w-full bg-white p-4 flex items-center pb-6 z-10",children:v.jsx(qt,{to:"/ProfileDashboard",children:v.jsx("div",{className:"logo",children:" return "})})}),v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contractor Requests"}),e.length===0?v.jsx("p",{children:"No contractor requests yet."}):v.jsx("ul",{className:"space-y-4",children:e.map(u=>v.jsxs("li",{className:"p-4 border rounded shadow",children:[v.jsxs("h2",{className:"text-lg font-semibold",children:[u.firstName," ",u.lastName]}),v.jsx("p",{className:"text-sm text-gray-600",children:u.email}),v.jsx("p",{className:"text-sm text-gray-500",children:u.role}),v.jsxs("div",{className:"mt-2 flex gap-2",children:[v.jsx("button",{onClick:()=>s(u.uid),className:"bg-green-600 text-white px-4 py-1 rounded",children:"Approve"}),v.jsx("button",{onClick:()=>a(u.uid),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Deny"})]})]},u.uid))})]})};function Ho(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QO(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Qi={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},hd={duration:.5,overwrite:!1,delay:0},yx,vr,en,To=1e8,Vr=1/To,Vw=Math.PI*2,EG=Vw/4,TG=0,YO=Math.sqrt,xG=Math.cos,CG=Math.sin,cr=function(e){return typeof e=="string"},pn=function(e){return typeof e=="function"},ga=function(e){return typeof e=="number"},vx=function(e){return typeof e>"u"},So=function(e){return typeof e=="object"},Ti=function(e){return e!==!1},wx=function(){return typeof window<"u"},Mm=function(e){return pn(e)||cr(e)},XO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ur=Array.isArray,Fw=/(?:-?\.?\d|\.)+/gi,JO=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Dc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,v0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ZO=/[+-]=-?[.\d]+/,eD=/[^,'"\[\]\s]+/gi,SG=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,an,ao,Uw,Ex,Xi={},n_={},tD,nD=function(e){return(n_=fd(e,Xi))&&Ii},Tx=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},kf=function(e,t){return!t&&console.warn(e)},rD=function(e,t){return e&&(Xi[e]=t)&&n_&&(n_[e]=t)||Xi},Nf=function(){return 0},IG={suppressEvents:!0,isStart:!0,kill:!1},dg={suppressEvents:!0,kill:!1},RG={suppressEvents:!0},xx={},hl=[],Bw={},iD,Ui={},w0={},cA=30,hg=[],Cx="",Sx=function(e){var t=e[0],r,i;if(So(t)||pn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=hg.length;i--&&!hg[i].targetTest(t););r=hg[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new AD(e[i],r)))||e.splice(i,1);return e},gu=function(e){return e._gsap||Sx(vs(e))[0]._gsap},sD=function(e,t,r){return(r=e[t])&&pn(r)?e[t]():vx(r)&&e.getAttribute&&e.getAttribute(t)||r},xi=function(e,t){return(e=e.split(",")).forEach(t)||e},wn=function(e){return Math.round(e*1e5)/1e5||0},bn=function(e){return Math.round(e*1e7)/1e7||0},Hc=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},AG=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},r_=function(){var e=hl.length,t=hl.slice(0),r,i;for(Bw={},hl.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Ix=function(e){return!!(e._initted||e._startAt||e.add)},oD=function(e,t,r,i){hl.length&&!vr&&r_(),e.render(t,r,!!(vr&&t<0&&Ix(e))),hl.length&&!vr&&r_()},aD=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(eD).length<2?t:cr(e)?e.trim():e},lD=function(e){return e},Ji=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},bG=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},fd=function(e,t){for(var r in t)e[r]=t[r];return e},dA=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=So(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},i_=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},ef=function(e){var t=e.parent||an,r=e.keyframes?bG(Ur(e.keyframes)):Ji;if(Ti(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},PG=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},uD=function(e,t,r,i,s){var a=e[i],u;if(s)for(u=t[s];a&&a[s]>u;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=a,t.parent=t._dp=e,t},oy=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,a=t._next;s?s._next=a:e[r]===t&&(e[r]=a),a?a._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Il=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_u=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},kG=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},zw=function(e,t,r,i){return e._startAt&&(vr?e._startAt.revert(dg):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},NG=function n(e){return!e||e._ts&&n(e.parent)},hA=function(e){return e._repeat?pd(e._tTime,e=e.duration()+e._rDelay)*e:0},pd=function(e,t){var r=Math.floor(e=bn(e/t));return e&&r===e?r-1:r},s_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},ay=function(e){return e._end=bn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Vr)||0))},ly=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=bn(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),ay(e),r._dirty||_u(r,e)),e},cD=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=s_(e.rawTime(),t),(!t._dur||dp(0,t.totalDuration(),r)-t._tTime>Vr)&&t.render(r,!0)),_u(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},co=function(e,t,r,i){return t.parent&&Il(t),t._start=bn((ga(r)?r:r||e!==an?hs(e,r,t):e._time)+t._delay),t._end=bn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),uD(e,t,"_first","_last",e._sort?"_start":0),$w(t)||(e._recent=t),i||cD(e,t),e._ts<0&&ly(e,e._tTime),e},dD=function(e,t){return(Xi.ScrollTrigger||Tx("scrollTrigger",t))&&Xi.ScrollTrigger.create(t,e)},hD=function(e,t,r,i,s){if(Ax(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!vr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&iD!==$i.frame)return hl.push(e),e._lazy=[s,i],1},OG=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},$w=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},DG=function(e,t,r,i){var s=e.ratio,a=t<0||!t&&(!e._start&&OG(e)&&!(!e._initted&&$w(e))||(e._ts<0||e._dp._ts<0)&&!$w(e))?0:1,u=e._rDelay,c=0,h,p,g;if(u&&e._repeat&&(c=dp(0,e._tDur,t),p=pd(c,u),e._yoyo&&p&1&&(a=1-a),p!==pd(e._tTime,u)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||vr||i||e._zTime===Vr||!t&&e._zTime){if(!e._initted&&hD(e,t,i,r,c))return;for(g=e._zTime,e._zTime=t||(r?Vr:0),r||(r=t&&!g),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&zw(e,t,r,!0),e._onUpdate&&!r&&Gi(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&Gi(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Il(e,1),!r&&!vr&&(Gi(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},LG=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},md=function(e,t,r,i){var s=e._repeat,a=bn(t)||0,u=e._tTime/e._tDur;return u&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:bn(a*(s+1)+e._rDelay*s):a,u>0&&!i&&ly(e,e._tTime=e._tDur*u),e.parent&&ay(e),r||_u(e.parent,e),e},fA=function(e){return e instanceof ri?_u(e):md(e,e._dur)},MG={_start:0,endTime:Nf,totalDuration:Nf},hs=function n(e,t,r){var i=e.labels,s=e._recent||MG,a=e.duration()>=To?s.endTime(!1):e._dur,u,c,h;return cr(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),h=t.substr(-1)==="%",u=t.indexOf("="),c==="<"||c===">"?(u>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(u<0?s:r).totalDuration()/100:1)):u<0?(t in i||(i[t]=a),i[t]):(c=parseFloat(t.charAt(u-1)+t.substr(u+1)),h&&r&&(c=c/100*(Ur(r)?r[0]:r).totalDuration()),u>1?n(e,t.substr(0,u-1),r)+c:a+c)):t==null?a:+t},tf=function(e,t,r){var i=ga(t[1]),s=(i?2:1)+(e<2?0:1),a=t[s],u,c;if(i&&(a.duration=t[1]),a.parent=r,e){for(u=a,c=r;c&&!("immediateRender"in u);)u=c.vars.defaults||{},c=Ti(c.vars.inherit)&&c.parent;a.immediateRender=Ti(u.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new An(t[0],a,t[s+1])},jl=function(e,t){return e||e===0?t(e):t},dp=function(e,t,r){return r<e?e:r>t?t:r},Lr=function(e,t){return!cr(e)||!(t=SG.exec(e))?"":t[1]},jG=function(e,t,r){return jl(r,function(i){return dp(e,t,i)})},Ww=[].slice,fD=function(e,t){return e&&So(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&So(e[0]))&&!e.nodeType&&e!==ao},VG=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return cr(i)&&!t||fD(i,1)?(s=r).push.apply(s,vs(i)):r.push(i)})||r},vs=function(e,t,r){return en&&!t&&en.selector?en.selector(e):cr(e)&&!r&&(Uw||!gd())?Ww.call((t||Ex).querySelectorAll(e),0):Ur(e)?VG(e,r):fD(e)?Ww.call(e,0):e?[e]:[]},qw=function(e){return e=vs(e)[0]||kf("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return vs(t,r.querySelectorAll?r:r===e?kf("Invalid scope")||Ex.createElement("div"):e)}},pD=function(e){return e.sort(function(){return .5-Math.random()})},mD=function(e){if(pn(e))return e;var t=So(e)?e:{each:e},r=yu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,a={},u=i>0&&i<1,c=isNaN(i)||u,h=t.axis,p=i,g=i;return cr(i)?p=g={center:.5,edges:.5,end:1}[i]||0:!u&&c&&(p=i[0],g=i[1]),function(_,w,C){var x=(C||t).length,S=a[x],N,D,V,F,$,W,P,A,b;if(!S){if(b=t.grid==="auto"?0:(t.grid||[1,To])[1],!b){for(P=-1e8;P<(P=C[b++].getBoundingClientRect().left)&&b<x;);b<x&&b--}for(S=a[x]=[],N=c?Math.min(b,x)*p-.5:i%b,D=b===To?0:c?x*g/b-.5:i/b|0,P=0,A=To,W=0;W<x;W++)V=W%b-N,F=D-(W/b|0),S[W]=$=h?Math.abs(h==="y"?F:V):YO(V*V+F*F),$>P&&(P=$),$<A&&(A=$);i==="random"&&pD(S),S.max=P-A,S.min=A,S.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(b>x?x-1:h?h==="y"?x/b:b:Math.max(b,x/b))||0)*(i==="edges"?-1:1),S.b=x<0?s-x:s,S.u=Lr(t.amount||t.each)||0,r=r&&x<0?SD(r):r}return x=(S[_]-S.min)/S.max||0,bn(S.b+(r?r(x):x)*S.v)+S.u}},Hw=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=bn(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(ga(r)?0:Lr(r))}},gD=function(e,t){var r=Ur(e),i,s;return!r&&So(e)&&(i=r=e.radius||To,e.values?(e=vs(e.values),(s=!ga(e[0]))&&(i*=i)):e=Hw(e.increment)),jl(t,r?pn(e)?function(a){return s=e(a),Math.abs(s-a)<=i?s:a}:function(a){for(var u=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),h=To,p=0,g=e.length,_,w;g--;)s?(_=e[g].x-u,w=e[g].y-c,_=_*_+w*w):_=Math.abs(e[g]-u),_<h&&(h=_,p=g);return p=!i||h<=i?e[p]:a,s||p===a||ga(a)?p:p+Lr(a)}:Hw(e))},_D=function(e,t,r,i){return jl(Ur(e)?!t:r===!0?!!(r=0):!i,function(){return Ur(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},FG=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,a){return a(s)},i)}},UG=function(e,t){return function(r){return e(parseFloat(r))+(t||Lr(r))}},BG=function(e,t,r){return vD(e,t,0,1,r)},yD=function(e,t,r){return jl(r,function(i){return e[~~t(i)]})},zG=function n(e,t,r){var i=t-e;return Ur(e)?yD(e,n(0,e.length),t):jl(r,function(s){return(i+(s-e)%i)%i+e})},$G=function n(e,t,r){var i=t-e,s=i*2;return Ur(e)?yD(e,n(0,e.length-1),t):jl(r,function(a){return a=(s+(a-e)%s)%s||0,e+(a>i?s-a:a)})},Of=function(e){for(var t=0,r="",i,s,a,u;~(i=e.indexOf("random(",t));)a=e.indexOf(")",i),u=e.charAt(i+7)==="[",s=e.substr(i+7,a-i-7).match(u?eD:Fw),r+=e.substr(t,i-t)+_D(u?s:+s[0],u?0:+s[1],+s[2]||1e-5),t=a+1;return r+e.substr(t,e.length-t)},vD=function(e,t,r,i,s){var a=t-e,u=i-r;return jl(s,function(c){return r+((c-e)/a*u||0)})},WG=function n(e,t,r,i){var s=isNaN(e+t)?0:function(w){return(1-w)*e+w*t};if(!s){var a=cr(e),u={},c,h,p,g,_;if(r===!0&&(i=1)&&(r=null),a)e={p:e},t={p:t};else if(Ur(e)&&!Ur(t)){for(p=[],g=e.length,_=g-2,h=1;h<g;h++)p.push(n(e[h-1],e[h]));g--,s=function(C){C*=g;var x=Math.min(_,~~C);return p[x](C-x)},r=t}else i||(e=fd(Ur(e)?[]:{},e));if(!p){for(c in t)Rx.call(u,e,c,"get",t[c]);s=function(C){return kx(C,u)||(a?e.p:e)}}}return jl(r,s)},pA=function(e,t,r){var i=e.labels,s=To,a,u,c;for(a in i)u=i[a]-t,u<0==!!r&&u&&s>(u=Math.abs(u))&&(c=a,s=u);return c},Gi=function(e,t,r){var i=e.vars,s=i[t],a=en,u=e._ctx,c,h,p;if(s)return c=i[t+"Params"],h=i.callbackScope||e,r&&hl.length&&r_(),u&&(en=u),p=c?s.apply(h,c):s.call(h),en=a,p},Oh=function(e){return Il(e),e.scrollTrigger&&e.scrollTrigger.kill(!!vr),e.progress()<1&&Gi(e,"onInterrupt"),e},Lc,wD=[],ED=function(e){if(e)if(e=!e.name&&e.default||e,wx()||e.headless){var t=e.name,r=pn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Nf,render:kx,add:Rx,kill:oK,modifier:sK,rawVars:0},a={targetTest:0,get:0,getSetter:Px,aliases:{},register:0};if(gd(),e!==i){if(Ui[t])return;Ji(i,Ji(i_(e,s),a)),fd(i.prototype,fd(s,i_(e,a))),Ui[i.prop=t]=i,e.targetTest&&(hg.push(i),xx[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}rD(t,i),e.register&&e.register(Ii,i,Ci)}else wD.push(e)},Ot=255,Dh={aqua:[0,Ot,Ot],lime:[0,Ot,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ot],navy:[0,0,128],white:[Ot,Ot,Ot],olive:[128,128,0],yellow:[Ot,Ot,0],orange:[Ot,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ot,0,0],pink:[Ot,192,203],cyan:[0,Ot,Ot],transparent:[Ot,Ot,Ot,0]},E0=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Ot+.5|0},TD=function(e,t,r){var i=e?ga(e)?[e>>16,e>>8&Ot,e&Ot]:0:Dh.black,s,a,u,c,h,p,g,_,w,C;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Dh[e])i=Dh[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),u=e.charAt(3),e="#"+s+s+a+a+u+u+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Ot,i&Ot,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Ot,e&Ot]}else if(e.substr(0,3)==="hsl"){if(i=C=e.match(Fw),!t)c=+i[0]%360/360,h=+i[1]/100,p=+i[2]/100,a=p<=.5?p*(h+1):p+h-p*h,s=p*2-a,i.length>3&&(i[3]*=1),i[0]=E0(c+1/3,s,a),i[1]=E0(c,s,a),i[2]=E0(c-1/3,s,a);else if(~e.indexOf("="))return i=e.match(JO),r&&i.length<4&&(i[3]=1),i}else i=e.match(Fw)||Dh.transparent;i=i.map(Number)}return t&&!C&&(s=i[0]/Ot,a=i[1]/Ot,u=i[2]/Ot,g=Math.max(s,a,u),_=Math.min(s,a,u),p=(g+_)/2,g===_?c=h=0:(w=g-_,h=p>.5?w/(2-g-_):w/(g+_),c=g===s?(a-u)/w+(a<u?6:0):g===a?(u-s)/w+2:(s-a)/w+4,c*=60),i[0]=~~(c+.5),i[1]=~~(h*100+.5),i[2]=~~(p*100+.5)),r&&i.length<4&&(i[3]=1),i},xD=function(e){var t=[],r=[],i=-1;return e.split(fl).forEach(function(s){var a=s.match(Dc)||[];t.push.apply(t,a),r.push(i+=a.length+1)}),t.c=r,t},mA=function(e,t,r){var i="",s=(e+i).match(fl),a=t?"hsla(":"rgba(",u=0,c,h,p,g;if(!s)return e;if(s=s.map(function(_){return(_=TD(_,t,1))&&a+(t?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),r&&(p=xD(e),c=r.c,c.join(i)!==p.c.join(i)))for(h=e.replace(fl,"1").split(Dc),g=h.length-1;u<g;u++)i+=h[u]+(~c.indexOf(u)?s.shift()||a+"0,0,0,0)":(p.length?p:s.length?s:r).shift());if(!h)for(h=e.split(fl),g=h.length-1;u<g;u++)i+=h[u]+s[u];return i+h[g]},fl=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Dh)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),qG=/hsl[a]?\(/,CD=function(e){var t=e.join(" "),r;if(fl.lastIndex=0,fl.test(t))return r=qG.test(t),e[1]=mA(e[1],r),e[0]=mA(e[0],r,xD(e[1])),!0},Df,$i=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,a=s,u=[],c,h,p,g,_,w,C=function x(S){var N=n()-i,D=S===!0,V,F,$,W;if((N>e||N<0)&&(r+=N-t),i+=N,$=i-r,V=$-a,(V>0||D)&&(W=++g.frame,_=$-g.time*1e3,g.time=$=$/1e3,a+=V+(V>=s?4:s-V),F=1),D||(c=h(x)),F)for(w=0;w<u.length;w++)u[w]($,_,W,S)};return g={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(S){return _/(1e3/(S||60))},wake:function(){tD&&(!Uw&&wx()&&(ao=Uw=window,Ex=ao.document||{},Xi.gsap=Ii,(ao.gsapVersions||(ao.gsapVersions=[])).push(Ii.version),nD(n_||ao.GreenSockGlobals||!ao.gsap&&ao||{}),wD.forEach(ED)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&g.sleep(),h=p||function(S){return setTimeout(S,a-g.time*1e3+1|0)},Df=1,C(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(c),Df=0,h=Nf},lagSmoothing:function(S,N){e=S||1/0,t=Math.min(N||33,e)},fps:function(S){s=1e3/(S||240),a=g.time*1e3+s},add:function(S,N,D){var V=N?function(F,$,W,P){S(F,$,W,P),g.remove(V)}:S;return g.remove(S),u[D?"unshift":"push"](V),gd(),V},remove:function(S,N){~(N=u.indexOf(S))&&u.splice(N,1)&&w>=N&&w--},_listeners:u},g}(),gd=function(){return!Df&&$i.wake()},ct={},HG=/^[\d.\-M][\d.\-,\s]/,GG=/["']/g,KG=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,a=r.length,u,c,h;s<a;s++)c=r[s],u=s!==a-1?c.lastIndexOf(","):c.length,h=c.substr(0,u),t[i]=isNaN(h)?h.replace(GG,"").trim():+h,i=c.substr(u+1).trim();return t},QG=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},YG=function(e){var t=(e+"").split("("),r=ct[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[KG(t[1])]:QG(e).split(",").map(aD)):ct._CE&&HG.test(e)?ct._CE("",e):r},SD=function(e){return function(t){return 1-e(1-t)}},ID=function n(e,t){for(var r=e._first,i;r;)r instanceof ri?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},yu=function(e,t){return e&&(pn(e)?e:ct[e]||YG(e))||t},zu=function(e,t,r,i){r===void 0&&(r=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},a;return xi(e,function(u){ct[u]=Xi[u]=s,ct[a=u.toLowerCase()]=r;for(var c in s)ct[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=ct[u+"."+c]=s[c]}),s},RD=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},T0=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),a=s/Vw*(Math.asin(1/i)||0),u=function(p){return p===1?1:i*Math.pow(2,-10*p)*CG((p-a)*s)+1},c=e==="out"?u:e==="in"?function(h){return 1-u(1-h)}:RD(u);return s=Vw/s,c.config=function(h,p){return n(e,h,p)},c},x0=function n(e,t){t===void 0&&(t=1.70158);var r=function(a){return a?--a*a*((t+1)*a+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:RD(r);return i.config=function(s){return n(e,s)},i};xi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;zu(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});ct.Linear.easeNone=ct.none=ct.Linear.easeIn;zu("Elastic",T0("in"),T0("out"),T0());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(u){return u<t?n*u*u:u<r?n*Math.pow(u-1.5/e,2)+.75:u<i?n*(u-=2.25/e)*u+.9375:n*Math.pow(u-2.625/e,2)+.984375};zu("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);zu("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});zu("Circ",function(n){return-(YO(1-n*n)-1)});zu("Sine",function(n){return n===1?1:-xG(n*EG)+1});zu("Back",x0("in"),x0("out"),x0());ct.SteppedEase=ct.steps=Xi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,a=1-Vr;return function(u){return((i*dp(0,a,u)|0)+s)*r}}};hd.ease=ct["quad.out"];xi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Cx+=n+","+n+"Params,"});var AD=function(e,t){this.id=TG++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:sD,this.set=t?t.getSetter:Px},Lf=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,md(this,+t.duration,1,1),this.data=t.data,en&&(this._ctx=en,en.data.push(this)),Df||$i.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,md(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(gd(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(ly(this,r),!s._dp||s.parent||cD(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&co(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Vr||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),oD(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+hA(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+hA(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?pd(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?s_(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(dp(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),ay(this),kG(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(gd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Vr&&(this._tTime-=Vr)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&co(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Ti(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?s_(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=RG);var i=vr;return vr=r,Ix(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),vr=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,fA(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,fA(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(hs(this,r),Ti(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Ti(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Vr)},e.eventCallback=function(r,i,s){var a=this.vars;return arguments.length>1?(i?(a[r]=i,s&&(a[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete a[r],this):a[r]},e.then=function(r){var i=this;return new Promise(function(s){var a=pn(r)?r:lD,u=function(){var h=i.then;i.then=null,pn(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=h),s(a),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?u():i._prom=u})},e.kill=function(){Oh(this)},n}();Ji(Lf.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ri=function(n){QO(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Ti(r.sortChildren),an&&co(r.parent||an,Ho(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&dD(Ho(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,a){return tf(0,arguments,this),this},t.from=function(i,s,a){return tf(1,arguments,this),this},t.fromTo=function(i,s,a,u){return tf(2,arguments,this),this},t.set=function(i,s,a){return s.duration=0,s.parent=this,ef(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new An(i,s,hs(this,a),1),this},t.call=function(i,s,a){return co(this,An.delayedCall(0,i,s),a)},t.staggerTo=function(i,s,a,u,c,h,p){return a.duration=s,a.stagger=a.stagger||u,a.onComplete=h,a.onCompleteParams=p,a.parent=this,new An(i,a,hs(this,c)),this},t.staggerFrom=function(i,s,a,u,c,h,p){return a.runBackwards=1,ef(a).immediateRender=Ti(a.immediateRender),this.staggerTo(i,s,a,u,c,h,p)},t.staggerFromTo=function(i,s,a,u,c,h,p,g){return u.startAt=a,ef(u).immediateRender=Ti(u.immediateRender),this.staggerTo(i,s,u,c,h,p,g)},t.render=function(i,s,a){var u=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,p=i<=0?0:bn(i),g=this._zTime<0!=i<0&&(this._initted||!h),_,w,C,x,S,N,D,V,F,$,W,P;if(this!==an&&p>c&&i>=0&&(p=c),p!==this._tTime||a||g){if(u!==this._time&&h&&(p+=this._time-u,i+=this._time-u),_=p,F=this._start,V=this._ts,N=!V,g&&(h||(u=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(W=this._yoyo,S=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(S*100+i,s,a);if(_=bn(p%S),p===c?(x=this._repeat,_=h):($=bn(p/S),x=~~$,x&&x===$&&(_=h,x--),_>h&&(_=h)),$=pd(this._tTime,S),!u&&this._tTime&&$!==x&&this._tTime-$*S-this._dur<=0&&($=x),W&&x&1&&(_=h-_,P=1),x!==$&&!this._lock){var A=W&&$&1,b=A===(W&&x&1);if(x<$&&(A=!A),u=A?0:p%h?h:p,this._lock=1,this.render(u||(P?0:bn(x*S)),s,!h)._lock=0,this._tTime=p,!s&&this.parent&&Gi(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),u&&u!==this._time||N!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,b&&(this._lock=2,u=A?h:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!N)return this;ID(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(D=LG(this,bn(u),bn(_)),D&&(p-=_-(_=D._start))),this._tTime=p,this._time=_,this._act=!V,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,u=0),!u&&p&&!s&&!$&&(Gi(this,"onStart"),this._tTime!==p))return this;if(_>=u&&i>=0)for(w=this._first;w;){if(C=w._next,(w._act||_>=w._start)&&w._ts&&D!==w){if(w.parent!==this)return this.render(i,s,a);if(w.render(w._ts>0?(_-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(_-w._start)*w._ts,s,a),_!==this._time||!this._ts&&!N){D=0,C&&(p+=this._zTime=-1e-8);break}}w=C}else{w=this._last;for(var O=i<0?i:_;w;){if(C=w._prev,(w._act||O<=w._end)&&w._ts&&D!==w){if(w.parent!==this)return this.render(i,s,a);if(w.render(w._ts>0?(O-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(O-w._start)*w._ts,s,a||vr&&Ix(w)),_!==this._time||!this._ts&&!N){D=0,C&&(p+=this._zTime=O?-1e-8:Vr);break}}w=C}}if(D&&!s&&(this.pause(),D.render(_>=u?0:-1e-8)._zTime=_>=u?1:-1,this._ts))return this._start=F,ay(this),this.render(i,s,a);this._onUpdate&&!s&&Gi(this,"onUpdate",!0),(p===c&&this._tTime>=this.totalDuration()||!p&&u)&&(F===this._start||Math.abs(V)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(p===c&&this._ts>0||!p&&this._ts<0)&&Il(this,1),!s&&!(i<0&&!u)&&(p||u||!c)&&(Gi(this,p===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var a=this;if(ga(s)||(s=hs(this,s,i)),!(i instanceof Lf)){if(Ur(i))return i.forEach(function(u){return a.add(u,s)}),this;if(cr(i))return this.addLabel(i,s);if(pn(i))i=An.delayedCall(0,i);else return this}return this!==i?co(this,i,s):this},t.getChildren=function(i,s,a,u){i===void 0&&(i=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),u===void 0&&(u=-1e8);for(var c=[],h=this._first;h;)h._start>=u&&(h instanceof An?s&&c.push(h):(a&&c.push(h),i&&c.push.apply(c,h.getChildren(!0,s,a)))),h=h._next;return c},t.getById=function(i){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===i)return s[a]},t.remove=function(i){return cr(i)?this.removeLabel(i):pn(i)?this.killTweensOf(i):(i.parent===this&&oy(this,i),i===this._recent&&(this._recent=this._last),_u(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=bn($i.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=hs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,a){var u=An.delayedCall(0,s||Nf,a);return u.data="isPause",this._hasPause=1,co(this,u,hs(this,i))},t.removePause=function(i){var s=this._first;for(i=hs(this,i);s;)s._start===i&&s.data==="isPause"&&Il(s),s=s._next},t.killTweensOf=function(i,s,a){for(var u=this.getTweensOf(i,a),c=u.length;c--;)Za!==u[c]&&u[c].kill(i,s);return this},t.getTweensOf=function(i,s){for(var a=[],u=vs(i),c=this._first,h=ga(s),p;c;)c instanceof An?AG(c._targets,u)&&(h?(!Za||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(p=c.getTweensOf(u,s)).length&&a.push.apply(a,p),c=c._next;return a},t.tweenTo=function(i,s){s=s||{};var a=this,u=hs(a,i),c=s,h=c.startAt,p=c.onStart,g=c.onStartParams,_=c.immediateRender,w,C=An.to(a,Ji({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:s.duration||Math.abs((u-(h&&"time"in h?h.time:a._time))/a.timeScale())||Vr,onStart:function(){if(a.pause(),!w){var S=s.duration||Math.abs((u-(h&&"time"in h?h.time:a._time))/a.timeScale());C._dur!==S&&md(C,S,0,1).render(C._time,!0,!0),w=1}p&&p.apply(C,g||[])}},s));return _?C.render(0):C},t.tweenFromTo=function(i,s,a){return this.tweenTo(s,Ji({startAt:{time:hs(this,i)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),pA(this,hs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),pA(this,hs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Vr)},t.shiftChildren=function(i,s,a){a===void 0&&(a=0);for(var u=this._first,c=this.labels,h;u;)u._start>=a&&(u._start+=i,u._end+=i),u=u._next;if(s)for(h in c)c[h]>=a&&(c[h]+=i);return _u(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),_u(this)},t.totalDuration=function(i){var s=0,a=this,u=a._last,c=To,h,p,g;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(g=a.parent;u;)h=u._prev,u._dirty&&u.totalDuration(),p=u._start,p>c&&a._sort&&u._ts&&!a._lock?(a._lock=1,co(a,u,p-u._delay,1)._lock=0):c=p,p<0&&u._ts&&(s-=p,(!g&&!a._dp||g&&g.smoothChildTiming)&&(a._start+=p/a._ts,a._time-=p,a._tTime-=p),a.shiftChildren(-p,!1,-1/0),c=0),u._end>s&&u._ts&&(s=u._end),u=h;md(a,a===an&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(an._ts&&(oD(an,s_(i,an)),iD=$i.frame),$i.frame>=cA){cA+=Qi.autoSleep||120;var s=an._first;if((!s||!s._ts)&&Qi.autoSleep&&$i._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||$i.sleep()}}},e}(Lf);Ji(ri.prototype,{_lock:0,_hasPause:0,_forcing:0});var XG=function(e,t,r,i,s,a,u){var c=new Ci(this._pt,e,t,0,1,DD,null,s),h=0,p=0,g,_,w,C,x,S,N,D;for(c.b=r,c.e=i,r+="",i+="",(N=~i.indexOf("random("))&&(i=Of(i)),a&&(D=[r,i],a(D,e,t),r=D[0],i=D[1]),_=r.match(v0)||[];g=v0.exec(i);)C=g[0],x=i.substring(h,g.index),w?w=(w+1)%5:x.substr(-5)==="rgba("&&(w=1),C!==_[p++]&&(S=parseFloat(_[p-1])||0,c._pt={_next:c._pt,p:x||p===1?x:",",s:S,c:C.charAt(1)==="="?Hc(S,C)-S:parseFloat(C)-S,m:w&&w<4?Math.round:0},h=v0.lastIndex);return c.c=h<i.length?i.substring(h,i.length):"",c.fp=u,(ZO.test(i)||N)&&(c.e=0),this._pt=c,c},Rx=function(e,t,r,i,s,a,u,c,h,p){pn(i)&&(i=i(s||0,e,a));var g=e[t],_=r!=="get"?r:pn(g)?h?e[t.indexOf("set")||!pn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():g,w=pn(g)?h?nK:ND:bx,C;if(cr(i)&&(~i.indexOf("random(")&&(i=Of(i)),i.charAt(1)==="="&&(C=Hc(_,i)+(Lr(_)||0),(C||C===0)&&(i=C))),!p||_!==i||Gw)return!isNaN(_*i)&&i!==""?(C=new Ci(this._pt,e,t,+_||0,i-(_||0),typeof g=="boolean"?iK:OD,0,w),h&&(C.fp=h),u&&C.modifier(u,this,e),this._pt=C):(!g&&!(t in e)&&Tx(t,i),XG.call(this,e,t,_,i,w,c||Qi.stringFilter,h))},JG=function(e,t,r,i,s){if(pn(e)&&(e=nf(e,s,t,r,i)),!So(e)||e.style&&e.nodeType||Ur(e)||XO(e))return cr(e)?nf(e,s,t,r,i):e;var a={},u;for(u in e)a[u]=nf(e[u],s,t,r,i);return a},bD=function(e,t,r,i,s,a){var u,c,h,p;if(Ui[e]&&(u=new Ui[e]).init(s,u.rawVars?t[e]:JG(t[e],i,s,a,r),r,i,a)!==!1&&(r._pt=c=new Ci(r._pt,s,e,0,1,u.render,u,0,u.priority),r!==Lc))for(h=r._ptLookup[r._targets.indexOf(s)],p=u._props.length;p--;)h[u._props[p]]=c;return u},Za,Gw,Ax=function n(e,t,r){var i=e.vars,s=i.ease,a=i.startAt,u=i.immediateRender,c=i.lazy,h=i.onUpdate,p=i.runBackwards,g=i.yoyoEase,_=i.keyframes,w=i.autoRevert,C=e._dur,x=e._startAt,S=e._targets,N=e.parent,D=N&&N.data==="nested"?N.vars.targets:S,V=e._overwrite==="auto"&&!yx,F=e.timeline,$,W,P,A,b,O,U,M,j,ne,he,de,le;if(F&&(!_||!s)&&(s="none"),e._ease=yu(s,hd.ease),e._yEase=g?SD(yu(g===!0?s:g,hd.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!F&&!!i.runBackwards,!F||_&&!i.stagger){if(M=S[0]?gu(S[0]).harness:0,de=M&&i[M.prop],$=i_(i,xx),x&&(x._zTime<0&&x.progress(1),t<0&&p&&u&&!w?x.render(-1,!0):x.revert(p&&C?dg:IG),x._lazy=0),a){if(Il(e._startAt=An.set(S,Ji({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!x&&Ti(c),startAt:null,delay:0,onUpdate:h&&function(){return Gi(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(vr||!u&&!w)&&e._startAt.revert(dg),u&&C&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(p&&C&&!x){if(t&&(u=!1),P=Ji({overwrite:!1,data:"isFromStart",lazy:u&&!x&&Ti(c),immediateRender:u,stagger:0,parent:N},$),de&&(P[M.prop]=de),Il(e._startAt=An.set(S,P)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(vr?e._startAt.revert(dg):e._startAt.render(-1,!0)),e._zTime=t,!u)n(e._startAt,Vr,Vr);else if(!t)return}for(e._pt=e._ptCache=0,c=C&&Ti(c)||c&&!C,W=0;W<S.length;W++){if(b=S[W],U=b._gsap||Sx(S)[W]._gsap,e._ptLookup[W]=ne={},Bw[U.id]&&hl.length&&r_(),he=D===S?W:D.indexOf(b),M&&(j=new M).init(b,de||$,e,he,D)!==!1&&(e._pt=A=new Ci(e._pt,b,j.name,0,1,j.render,j,0,j.priority),j._props.forEach(function(te){ne[te]=A}),j.priority&&(O=1)),!M||de)for(P in $)Ui[P]&&(j=bD(P,$,e,he,b,D))?j.priority&&(O=1):ne[P]=A=Rx.call(e,b,P,"get",$[P],he,D,0,i.stringFilter);e._op&&e._op[W]&&e.kill(b,e._op[W]),V&&e._pt&&(Za=e,an.killTweensOf(b,ne,e.globalTime(t)),le=!e.parent,Za=0),e._pt&&c&&(Bw[U.id]=1)}O&&LD(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!le,_&&t<=0&&F.render(To,!0,!0)},ZG=function(e,t,r,i,s,a,u,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],p,g,_,w;if(!h)for(h=e._ptCache[t]=[],_=e._ptLookup,w=e._targets.length;w--;){if(p=_[w][t],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==t&&p.fp!==t;)p=p._next;if(!p)return Gw=1,e.vars[t]="+=0",Ax(e,u),Gw=0,c?kf(t+" not eligible for reset"):1;h.push(p)}for(w=h.length;w--;)g=h[w],p=g._pt||g,p.s=(i||i===0)&&!s?i:p.s+(i||0)+a*p.c,p.c=r-p.s,g.e&&(g.e=wn(r)+Lr(g.e)),g.b&&(g.b=p.s+Lr(g.b))},eK=function(e,t){var r=e[0]?gu(e[0]).harness:0,i=r&&r.aliases,s,a,u,c;if(!i)return t;s=fd({},t);for(a in i)if(a in s)for(c=i[a].split(","),u=c.length;u--;)s[c[u]]=s[a];return s},tK=function(e,t,r,i){var s=t.ease||i||"power1.inOut",a,u;if(Ur(t))u=r[e]||(r[e]=[]),t.forEach(function(c,h){return u.push({t:h/(t.length-1)*100,v:c,e:s})});else for(a in t)u=r[a]||(r[a]=[]),a==="ease"||u.push({t:parseFloat(e),v:t[a],e:s})},nf=function(e,t,r,i,s){return pn(e)?e.call(t,r,i,s):cr(e)&&~e.indexOf("random(")?Of(e):e},PD=Cx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",kD={};xi(PD+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return kD[n]=1});var An=function(n){QO(e,n);function e(r,i,s,a){var u;typeof i=="number"&&(s.duration=i,i=s,s=null),u=n.call(this,a?i:ef(i))||this;var c=u.vars,h=c.duration,p=c.delay,g=c.immediateRender,_=c.stagger,w=c.overwrite,C=c.keyframes,x=c.defaults,S=c.scrollTrigger,N=c.yoyoEase,D=i.parent||an,V=(Ur(r)||XO(r)?ga(r[0]):"length"in i)?[r]:vs(r),F,$,W,P,A,b,O,U;if(u._targets=V.length?Sx(V):kf("GSAP target "+r+" not found. https://gsap.com",!Qi.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=w,C||_||Mm(h)||Mm(p)){if(i=u.vars,F=u.timeline=new ri({data:"nested",defaults:x||{},targets:D&&D.data==="nested"?D.vars.targets:V}),F.kill(),F.parent=F._dp=Ho(u),F._start=0,_||Mm(h)||Mm(p)){if(P=V.length,O=_&&mD(_),So(_))for(A in _)~PD.indexOf(A)&&(U||(U={}),U[A]=_[A]);for($=0;$<P;$++)W=i_(i,kD),W.stagger=0,N&&(W.yoyoEase=N),U&&fd(W,U),b=V[$],W.duration=+nf(h,Ho(u),$,b,V),W.delay=(+nf(p,Ho(u),$,b,V)||0)-u._delay,!_&&P===1&&W.delay&&(u._delay=p=W.delay,u._start+=p,W.delay=0),F.to(b,W,O?O($,b,V):0),F._ease=ct.none;F.duration()?h=p=0:u.timeline=0}else if(C){ef(Ji(F.vars.defaults,{ease:"none"})),F._ease=yu(C.ease||i.ease||"none");var M=0,j,ne,he;if(Ur(C))C.forEach(function(de){return F.to(V,de,">")}),F.duration();else{W={};for(A in C)A==="ease"||A==="easeEach"||tK(A,C[A],W,C.easeEach);for(A in W)for(j=W[A].sort(function(de,le){return de.t-le.t}),M=0,$=0;$<j.length;$++)ne=j[$],he={ease:ne.e,duration:(ne.t-($?j[$-1].t:0))/100*h},he[A]=ne.v,F.to(V,he,M),M+=he.duration;F.duration()<h&&F.to({},{duration:h-F.duration()})}}h||u.duration(h=F.duration())}else u.timeline=0;return w===!0&&!yx&&(Za=Ho(u),an.killTweensOf(V),Za=0),co(D,Ho(u),s),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(g||!h&&!C&&u._start===bn(D._time)&&Ti(g)&&NG(Ho(u))&&D.data!=="nested")&&(u._tTime=-1e-8,u.render(Math.max(0,-p)||0)),S&&dD(Ho(u),S),u}var t=e.prototype;return t.render=function(i,s,a){var u=this._time,c=this._tDur,h=this._dur,p=i<0,g=i>c-Vr&&!p?c:i<Vr?0:i,_,w,C,x,S,N,D,V,F;if(!h)DG(this,i,s,a);else if(g!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(_=g,V=this.timeline,this._repeat){if(x=h+this._rDelay,this._repeat<-1&&p)return this.totalTime(x*100+i,s,a);if(_=bn(g%x),g===c?(C=this._repeat,_=h):(S=bn(g/x),C=~~S,C&&C===S?(_=h,C--):_>h&&(_=h)),N=this._yoyo&&C&1,N&&(F=this._yEase,_=h-_),S=pd(this._tTime,x),_===u&&!a&&this._initted&&C===S)return this._tTime=g,this;C!==S&&(V&&this._yEase&&ID(V,N),this.vars.repeatRefresh&&!N&&!this._lock&&_!==x&&this._initted&&(this._lock=a=1,this.render(bn(x*C),!0).invalidate()._lock=0))}if(!this._initted){if(hD(this,p?i:_,a,s,g))return this._tTime=0,this;if(u!==this._time&&!(a&&this.vars.repeatRefresh&&C!==S))return this;if(h!==this._dur)return this.render(i,s,a)}if(this._tTime=g,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=D=(F||this._ease)(_/h),this._from&&(this.ratio=D=1-D),!u&&g&&!s&&!S&&(Gi(this,"onStart"),this._tTime!==g))return this;for(w=this._pt;w;)w.r(D,w.d),w=w._next;V&&V.render(i<0?i:V._dur*V._ease(_/this._dur),s,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(p&&zw(this,i,s,a),Gi(this,"onUpdate")),this._repeat&&C!==S&&this.vars.onRepeat&&!s&&this.parent&&Gi(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(p&&!this._onUpdate&&zw(this,i,!0,!0),(i||!h)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Il(this,1),!s&&!(p&&!u)&&(g||u||N)&&(Gi(this,g===c?"onComplete":"onReverseComplete",!0),this._prom&&!(g<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,a,u,c){Df||$i.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||Ax(this,h),p=this._ease(h/this._dur),ZG(this,i,s,a,u,p,h,c)?this.resetTo(i,s,a,u,1):(ly(this,0),this.parent||uD(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Oh(this):this.scrollTrigger&&this.scrollTrigger.kill(!!vr),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Za&&Za.vars.overwrite!==!0)._first||Oh(this),this.parent&&a!==this.timeline.totalDuration()&&md(this,this._dur*this.timeline._tDur/a,0,1),this}var u=this._targets,c=i?vs(i):u,h=this._ptLookup,p=this._pt,g,_,w,C,x,S,N;if((!s||s==="all")&&PG(u,c))return s==="all"&&(this._pt=0),Oh(this);for(g=this._op=this._op||[],s!=="all"&&(cr(s)&&(x={},xi(s,function(D){return x[D]=1}),s=x),s=eK(u,s)),N=u.length;N--;)if(~c.indexOf(u[N])){_=h[N],s==="all"?(g[N]=s,C=_,w={}):(w=g[N]=g[N]||{},C=s);for(x in C)S=_&&_[x],S&&((!("kill"in S.d)||S.d.kill(x)===!0)&&oy(this,S,"_pt"),delete _[x]),w!=="all"&&(w[x]=1)}return this._initted&&!this._pt&&p&&Oh(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return tf(1,arguments)},e.delayedCall=function(i,s,a,u){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:u})},e.fromTo=function(i,s,a){return tf(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,a){return an.killTweensOf(i,s,a)},e}(Lf);Ji(An.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xi("staggerTo,staggerFrom,staggerFromTo",function(n){An[n]=function(){var e=new ri,t=Ww.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var bx=function(e,t,r){return e[t]=r},ND=function(e,t,r){return e[t](r)},nK=function(e,t,r,i){return e[t](i.fp,r)},rK=function(e,t,r){return e.setAttribute(t,r)},Px=function(e,t){return pn(e[t])?ND:vx(e[t])&&e.setAttribute?rK:bx},OD=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},iK=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},DD=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},kx=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},sK=function(e,t,r,i){for(var s=this._pt,a;s;)a=s._next,s.p===i&&s.modifier(e,t,r),s=a},oK=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?oy(this,t,"_pt"):t.dep||(r=1),t=i;return!r},aK=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},LD=function(e){for(var t=e._pt,r,i,s,a;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:a)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:a=t,t=r}e._pt=s},Ci=function(){function n(t,r,i,s,a,u,c,h,p){this.t=r,this.s=s,this.c=a,this.p=i,this.r=u||OD,this.d=c||this,this.set=h||bx,this.pr=p||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=aK,this.m=r,this.mt=s,this.tween=i},n}();xi(Cx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return xx[n]=1});Xi.TweenMax=Xi.TweenLite=An;Xi.TimelineLite=Xi.TimelineMax=ri;an=new ri({sortChildren:!1,defaults:hd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Qi.stringFilter=CD;var vu=[],fg={},lK=[],gA=0,uK=0,C0=function(e){return(fg[e]||lK).map(function(t){return t()})},Kw=function(){var e=Date.now(),t=[];e-gA>2&&(C0("matchMediaInit"),vu.forEach(function(r){var i=r.queries,s=r.conditions,a,u,c,h;for(u in i)a=ao.matchMedia(i[u]).matches,a&&(c=1),a!==s[u]&&(s[u]=a,h=1);h&&(r.revert(),c&&t.push(r))}),C0("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),gA=e,C0("matchMedia"))},MD=function(){function n(t,r){this.selector=r&&qw(r),this.data=[],this._r=[],this.isReverted=!1,this.id=uK++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){pn(r)&&(s=i,i=r,r=pn);var a=this,u=function(){var h=en,p=a.selector,g;return h&&h!==a&&h.data.push(a),s&&(a.selector=qw(s)),en=a,g=i.apply(a,arguments),pn(g)&&a._r.push(g),en=h,a.selector=p,a.isReverted=!1,g};return a.last=u,r===pn?u(a,function(c){return a.add(null,c)}):r?a[r]=u:u},e.ignore=function(r){var i=en;en=null,r(this),en=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof An&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var u=s.getTweens(),c=s.data.length,h;c--;)h=s.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(p){return u.splice(u.indexOf(p),1)}));for(u.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,g){return g.g-p.g||-1/0}).forEach(function(p){return p.t.revert(r)}),c=s.data.length;c--;)h=s.data[c],h instanceof ri?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof An)&&h.revert&&h.revert(r);s._r.forEach(function(p){return p(r,s)}),s.isReverted=!0}():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),i)for(var a=vu.length;a--;)vu[a].id===this.id&&vu.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),cK=function(){function n(t){this.contexts=[],this.scope=t,en&&en.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){So(r)||(r={matches:r});var a=new MD(0,s||this.scope),u=a.conditions={},c,h,p;en&&!a.selector&&(a.selector=en.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=r;for(h in r)h==="all"?p=1:(c=ao.matchMedia(r[h]),c&&(vu.indexOf(a)<0&&vu.push(a),(u[h]=c.matches)&&(p=1),c.addListener?c.addListener(Kw):c.addEventListener("change",Kw)));return p&&i(a,function(g){return a.add(null,g)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),o_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return ED(i)})},timeline:function(e){return new ri(e)},getTweensOf:function(e,t){return an.getTweensOf(e,t)},getProperty:function(e,t,r,i){cr(e)&&(e=vs(e)[0]);var s=gu(e||{}).get,a=r?lD:aD;return r==="native"&&(r=""),e&&(t?a((Ui[t]&&Ui[t].get||s)(e,t,r,i)):function(u,c,h){return a((Ui[u]&&Ui[u].get||s)(e,u,c,h))})},quickSetter:function(e,t,r){if(e=vs(e),e.length>1){var i=e.map(function(p){return Ii.quickSetter(p,t,r)}),s=i.length;return function(p){for(var g=s;g--;)i[g](p)}}e=e[0]||{};var a=Ui[t],u=gu(e),c=u.harness&&(u.harness.aliases||{})[t]||t,h=a?function(p){var g=new a;Lc._pt=0,g.init(e,r?p+r:p,Lc,0,[e]),g.render(1,g),Lc._pt&&kx(1,Lc)}:u.set(e,c);return a?h:function(p){return h(e,c,r?p+r:p,u,1)}},quickTo:function(e,t,r){var i,s=Ii.to(e,Ji((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),a=function(c,h,p){return s.resetTo(t,c,h,p)};return a.tween=s,a},isTweening:function(e){return an.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=yu(e.ease,hd.ease)),dA(hd,e||{})},config:function(e){return dA(Qi,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(u){return u&&!Ui[u]&&!Xi[u]&&kf(t+" effect requires "+u+" plugin.")}),w0[t]=function(u,c,h){return r(vs(u),Ji(c||{},s),h)},a&&(ri.prototype[t]=function(u,c,h){return this.add(w0[t](u,So(c)?c:(h=c)&&{},this),h)})},registerEase:function(e,t){ct[e]=yu(t)},parseEase:function(e,t){return arguments.length?yu(e,t):ct},getById:function(e){return an.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new ri(e),i,s;for(r.smoothChildTiming=Ti(e.smoothChildTiming),an.remove(r),r._dp=0,r._time=r._tTime=an._time,i=an._first;i;)s=i._next,(t||!(!i._dur&&i instanceof An&&i.vars.onComplete===i._targets[0]))&&co(r,i,i._start-i._delay),i=s;return co(an,r,0),r},context:function(e,t){return e?new MD(e,t):en},matchMedia:function(e){return new cK(e)},matchMediaRefresh:function(){return vu.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||Kw()},addEventListener:function(e,t){var r=fg[e]||(fg[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=fg[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:zG,wrapYoyo:$G,distribute:mD,random:_D,snap:gD,normalize:BG,getUnit:Lr,clamp:jG,splitColor:TD,toArray:vs,selector:qw,mapRange:vD,pipe:FG,unitize:UG,interpolate:WG,shuffle:pD},install:nD,effects:w0,ticker:$i,updateRoot:ri.updateRoot,plugins:Ui,globalTimeline:an,core:{PropTween:Ci,globals:rD,Tween:An,Timeline:ri,Animation:Lf,getCache:gu,_removeLinkedListItem:oy,reverting:function(){return vr},context:function(e){return e&&en&&(en.data.push(e),e._ctx=en),en},suppressOverwrites:function(e){return yx=e}}};xi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return o_[n]=An[n]});$i.add(ri.updateRoot);Lc=o_.to({},{duration:0});var dK=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},hK=function(e,t){var r=e._targets,i,s,a;for(i in t)for(s=r.length;s--;)a=e._ptLookup[s][i],a&&(a=a.d)&&(a._pt&&(a=dK(a,i)),a&&a.modifier&&a.modifier(t[i],e,r[s],i))},S0=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,a){a._onInit=function(u){var c,h;if(cr(s)&&(c={},xi(s,function(p){return c[p]=1}),s=c),t){c={};for(h in s)c[h]=t(s[h]);s=c}hK(u,s)}}}},Ii=o_.registerPlugin({name:"attr",init:function(e,t,r,i,s){var a,u,c;this.tween=r;for(a in t)c=e.getAttribute(a)||"",u=this.add(e,"setAttribute",(c||0)+"",t[a],i,s,0,0,a),u.op=a,u.b=c,this._props.push(a)},render:function(e,t){for(var r=t._pt;r;)vr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},S0("roundProps",Hw),S0("modifiers"),S0("snap",gD))||o_;An.version=ri.version=Ii.version="3.13.0";tD=1;wx()&&gd();ct.Power0;ct.Power1;ct.Power2;ct.Power3;ct.Power4;ct.Linear;ct.Quad;ct.Cubic;ct.Quart;ct.Quint;ct.Strong;ct.Elastic;ct.Back;ct.SteppedEase;ct.Bounce;ct.Sine;ct.Expo;ct.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _A,el,Gc,Nx,hu,yA,Ox,fK=function(){return typeof window<"u"},_a={},ou=180/Math.PI,Kc=Math.PI/180,xc=Math.atan2,vA=1e8,Dx=/([A-Z])/g,pK=/(left|right|width|margin|padding|x)/i,mK=/[\s,\(]\S/,po={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Qw=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},gK=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},_K=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},yK=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},jD=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},VD=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},vK=function(e,t,r){return e.style[t]=r},wK=function(e,t,r){return e.style.setProperty(t,r)},EK=function(e,t,r){return e._gsap[t]=r},TK=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},xK=function(e,t,r,i,s){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(s,a)},CK=function(e,t,r,i,s){var a=e._gsap;a[t]=r,a.renderTransform(s,a)},ln="transform",Si=ln+"Origin",SK=function n(e,t){var r=this,i=this.target,s=i.style,a=i._gsap;if(e in _a&&s){if(this.tfm=this.tfm||{},e!=="transform")e=po[e]||e,~e.indexOf(",")?e.split(",").forEach(function(u){return r.tfm[u]=Go(i,u)}):this.tfm[e]=a.x?a[e]:Go(i,e),e===Si&&(this.tfm.zOrigin=a.zOrigin);else return po.transform.split(",").forEach(function(u){return n.call(r,u,t)});if(this.props.indexOf(ln)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Si,t,"")),e=ln}(s||t)&&this.props.push(e,t,s[e])},FD=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},IK=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Dx,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Ox(),(!s||!s.isStart)&&!r[ln]&&(FD(r),i.zOrigin&&r[Si]&&(r[Si]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},UD=function(e,t){var r={target:e,props:[],revert:IK,save:SK};return e._gsap||Ii.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return r.save(i)}),r},BD,Yw=function(e,t){var r=el.createElementNS?el.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):el.createElement(e);return r&&r.style?r:el.createElement(e)},ws=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(Dx,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,_d(t)||t,1)||""},wA="O,Moz,ms,Ms,Webkit".split(","),_d=function(e,t,r){var i=t||hu,s=i.style,a=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(wA[a]+e in s););return a<0?null:(a===3?"ms":a>=0?wA[a]:"")+e},Xw=function(){fK()&&window.document&&(_A=window,el=_A.document,Gc=el.documentElement,hu=Yw("div")||{style:{}},Yw("div"),ln=_d(ln),Si=ln+"Origin",hu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",BD=!!_d("perspective"),Ox=Ii.core.reverting,Nx=1)},EA=function(e){var t=e.ownerSVGElement,r=Yw("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Gc.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Gc.removeChild(r),s},TA=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},zD=function(e){var t,r;try{t=e.getBBox()}catch{t=EA(e),r=1}return t&&(t.width||t.height)||r||(t=EA(e)),t&&!t.width&&!t.x&&!t.y?{x:+TA(e,["x","cx","x1"])||0,y:+TA(e,["y","cy","y1"])||0,width:0,height:0}:t},$D=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&zD(e))},Ou=function(e,t){if(t){var r=e.style,i;t in _a&&t!==Si&&(t=ln),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(Dx,"-$1").toLowerCase())):r.removeAttribute(t)}},tl=function(e,t,r,i,s,a){var u=new Ci(e._pt,t,r,0,1,a?VD:jD);return e._pt=u,u.b=i,u.e=s,e._props.push(r),u},xA={deg:1,rad:1,turn:1},RK={grid:1,flex:1},Rl=function n(e,t,r,i){var s=parseFloat(r)||0,a=(r+"").trim().substr((s+"").length)||"px",u=hu.style,c=pK.test(t),h=e.tagName.toLowerCase()==="svg",p=(h?"client":"offset")+(c?"Width":"Height"),g=100,_=i==="px",w=i==="%",C,x,S,N;if(i===a||!s||xA[i]||xA[a])return s;if(a!=="px"&&!_&&(s=n(e,t,r,"px")),N=e.getCTM&&$D(e),(w||a==="%")&&(_a[t]||~t.indexOf("adius")))return C=N?e.getBBox()[c?"width":"height"]:e[p],wn(w?s/C*g:s/100*C);if(u[c?"width":"height"]=g+(_?a:i),x=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,N&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===el||!x.appendChild)&&(x=el.body),S=x._gsap,S&&w&&S.width&&c&&S.time===$i.time&&!S.uncache)return wn(s/S.width*g);if(w&&(t==="height"||t==="width")){var D=e.style[t];e.style[t]=g+i,C=e[p],D?e.style[t]=D:Ou(e,t)}else(w||a==="%")&&!RK[ws(x,"display")]&&(u.position=ws(e,"position")),x===e&&(u.position="static"),x.appendChild(hu),C=hu[p],x.removeChild(hu),u.position="absolute";return c&&w&&(S=gu(x),S.time=$i.time,S.width=x[p]),wn(_?C*s/g:C&&s?g/C*s:0)},Go=function(e,t,r,i){var s;return Nx||Xw(),t in po&&t!=="transform"&&(t=po[t],~t.indexOf(",")&&(t=t.split(",")[0])),_a[t]&&t!=="transform"?(s=jf(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:l_(ws(e,Si))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=a_[t]&&a_[t](e,t,r)||ws(e,t)||sD(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Rl(e,t,s,r)+r:s},AK=function(e,t,r,i){if(!r||r==="none"){var s=_d(t,e,1),a=s&&ws(e,s,1);a&&a!==r?(t=s,r=a):t==="borderColor"&&(r=ws(e,"borderTopColor"))}var u=new Ci(this._pt,e.style,t,0,1,DD),c=0,h=0,p,g,_,w,C,x,S,N,D,V,F,$;if(u.b=r,u.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=ws(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(x=e.style[t],e.style[t]=i,i=ws(e,t)||i,x?e.style[t]=x:Ou(e,t)),p=[r,i],CD(p),r=p[0],i=p[1],_=r.match(Dc)||[],$=i.match(Dc)||[],$.length){for(;g=Dc.exec(i);)S=g[0],D=i.substring(c,g.index),C?C=(C+1)%5:(D.substr(-5)==="rgba("||D.substr(-5)==="hsla(")&&(C=1),S!==(x=_[h++]||"")&&(w=parseFloat(x)||0,F=x.substr((w+"").length),S.charAt(1)==="="&&(S=Hc(w,S)+F),N=parseFloat(S),V=S.substr((N+"").length),c=Dc.lastIndex-V.length,V||(V=V||Qi.units[t]||F,c===i.length&&(i+=V,u.e+=V)),F!==V&&(w=Rl(e,t,x,V)||0),u._pt={_next:u._pt,p:D||h===1?D:",",s:w,c:N-w,m:C&&C<4||t==="zIndex"?Math.round:0});u.c=c<i.length?i.substring(c,i.length):""}else u.r=t==="display"&&i==="none"?VD:jD;return ZO.test(i)&&(u.e=0),this._pt=u,u},CA={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},bK=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=CA[r]||r,t[1]=CA[i]||i,t.join(" ")},PK=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,a=r._gsap,u,c,h;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)u=s[h],_a[u]&&(c=1,u=u==="transformOrigin"?Si:ln),Ou(r,u);c&&(Ou(r,ln),a&&(a.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",jf(r,1),a.uncache=1,FD(i)))}},a_={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var a=e._pt=new Ci(e._pt,t,r,0,0,PK);return a.u=i,a.pr=-10,a.tween=s,e._props.push(r),1}}},Mf=[1,0,0,1,0,0],WD={},qD=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},SA=function(e){var t=ws(e,ln);return qD(t)?Mf:t.substr(7).match(JO).map(wn)},Lx=function(e,t){var r=e._gsap||gu(e),i=e.style,s=SA(e),a,u,c,h;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Mf:s):(s===Mf&&!e.offsetParent&&e!==Gc&&!r.svg&&(c=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,u=e.nextElementSibling,Gc.appendChild(e)),s=SA(e),c?i.display=c:Ou(e,"display"),h&&(u?a.insertBefore(e,u):a?a.appendChild(e):Gc.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Jw=function(e,t,r,i,s,a){var u=e._gsap,c=s||Lx(e,!0),h=u.xOrigin||0,p=u.yOrigin||0,g=u.xOffset||0,_=u.yOffset||0,w=c[0],C=c[1],x=c[2],S=c[3],N=c[4],D=c[5],V=t.split(" "),F=parseFloat(V[0])||0,$=parseFloat(V[1])||0,W,P,A,b;r?c!==Mf&&(P=w*S-C*x)&&(A=F*(S/P)+$*(-x/P)+(x*D-S*N)/P,b=F*(-C/P)+$*(w/P)-(w*D-C*N)/P,F=A,$=b):(W=zD(e),F=W.x+(~V[0].indexOf("%")?F/100*W.width:F),$=W.y+(~(V[1]||V[0]).indexOf("%")?$/100*W.height:$)),i||i!==!1&&u.smooth?(N=F-h,D=$-p,u.xOffset=g+(N*w+D*x)-N,u.yOffset=_+(N*C+D*S)-D):u.xOffset=u.yOffset=0,u.xOrigin=F,u.yOrigin=$,u.smooth=!!i,u.origin=t,u.originIsAbsolute=!!r,e.style[Si]="0px 0px",a&&(tl(a,u,"xOrigin",h,F),tl(a,u,"yOrigin",p,$),tl(a,u,"xOffset",g,u.xOffset),tl(a,u,"yOffset",_,u.yOffset)),e.setAttribute("data-svg-origin",F+" "+$)},jf=function(e,t){var r=e._gsap||new AD(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,a="px",u="deg",c=getComputedStyle(e),h=ws(e,Si)||"0",p,g,_,w,C,x,S,N,D,V,F,$,W,P,A,b,O,U,M,j,ne,he,de,le,te,oe,B,q,ee,me,_e,Te;return p=g=_=x=S=N=D=V=F=0,w=C=1,r.svg=!!(e.getCTM&&$D(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[ln]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[ln]!=="none"?c[ln]:"")),i.scale=i.rotate=i.translate="none"),P=Lx(e,r.svg),r.svg&&(r.uncache?(te=e.getBBox(),h=r.xOrigin-te.x+"px "+(r.yOrigin-te.y)+"px",le=""):le=!t&&e.getAttribute("data-svg-origin"),Jw(e,le||h,!!le||r.originIsAbsolute,r.smooth!==!1,P)),$=r.xOrigin||0,W=r.yOrigin||0,P!==Mf&&(U=P[0],M=P[1],j=P[2],ne=P[3],p=he=P[4],g=de=P[5],P.length===6?(w=Math.sqrt(U*U+M*M),C=Math.sqrt(ne*ne+j*j),x=U||M?xc(M,U)*ou:0,D=j||ne?xc(j,ne)*ou+x:0,D&&(C*=Math.abs(Math.cos(D*Kc))),r.svg&&(p-=$-($*U+W*j),g-=W-($*M+W*ne))):(Te=P[6],me=P[7],B=P[8],q=P[9],ee=P[10],_e=P[11],p=P[12],g=P[13],_=P[14],A=xc(Te,ee),S=A*ou,A&&(b=Math.cos(-A),O=Math.sin(-A),le=he*b+B*O,te=de*b+q*O,oe=Te*b+ee*O,B=he*-O+B*b,q=de*-O+q*b,ee=Te*-O+ee*b,_e=me*-O+_e*b,he=le,de=te,Te=oe),A=xc(-j,ee),N=A*ou,A&&(b=Math.cos(-A),O=Math.sin(-A),le=U*b-B*O,te=M*b-q*O,oe=j*b-ee*O,_e=ne*O+_e*b,U=le,M=te,j=oe),A=xc(M,U),x=A*ou,A&&(b=Math.cos(A),O=Math.sin(A),le=U*b+M*O,te=he*b+de*O,M=M*b-U*O,de=de*b-he*O,U=le,he=te),S&&Math.abs(S)+Math.abs(x)>359.9&&(S=x=0,N=180-N),w=wn(Math.sqrt(U*U+M*M+j*j)),C=wn(Math.sqrt(de*de+Te*Te)),A=xc(he,de),D=Math.abs(A)>2e-4?A*ou:0,F=_e?1/(_e<0?-_e:_e):0),r.svg&&(le=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!qD(ws(e,ln)),le&&e.setAttribute("transform",le))),Math.abs(D)>90&&Math.abs(D)<270&&(s?(w*=-1,D+=x<=0?180:-180,x+=x<=0?180:-180):(C*=-1,D+=D<=0?180:-180)),t=t||r.uncache,r.x=p-((r.xPercent=p&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+a,r.y=g-((r.yPercent=g&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+a,r.z=_+a,r.scaleX=wn(w),r.scaleY=wn(C),r.rotation=wn(x)+u,r.rotationX=wn(S)+u,r.rotationY=wn(N)+u,r.skewX=D+u,r.skewY=V+u,r.transformPerspective=F+a,(r.zOrigin=parseFloat(h.split(" ")[2])||!t&&r.zOrigin||0)&&(i[Si]=l_(h)),r.xOffset=r.yOffset=0,r.force3D=Qi.force3D,r.renderTransform=r.svg?NK:BD?HD:kK,r.uncache=0,r},l_=function(e){return(e=e.split(" "))[0]+" "+e[1]},I0=function(e,t,r){var i=Lr(t);return wn(parseFloat(t)+parseFloat(Rl(e,"x",r+"px",i)))+i},kK=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,HD(e,t)},nu="0deg",Ch="0px",ru=") ",HD=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,a=r.x,u=r.y,c=r.z,h=r.rotation,p=r.rotationY,g=r.rotationX,_=r.skewX,w=r.skewY,C=r.scaleX,x=r.scaleY,S=r.transformPerspective,N=r.force3D,D=r.target,V=r.zOrigin,F="",$=N==="auto"&&e&&e!==1||N===!0;if(V&&(g!==nu||p!==nu)){var W=parseFloat(p)*Kc,P=Math.sin(W),A=Math.cos(W),b;W=parseFloat(g)*Kc,b=Math.cos(W),a=I0(D,a,P*b*-V),u=I0(D,u,-Math.sin(W)*-V),c=I0(D,c,A*b*-V+V)}S!==Ch&&(F+="perspective("+S+ru),(i||s)&&(F+="translate("+i+"%, "+s+"%) "),($||a!==Ch||u!==Ch||c!==Ch)&&(F+=c!==Ch||$?"translate3d("+a+", "+u+", "+c+") ":"translate("+a+", "+u+ru),h!==nu&&(F+="rotate("+h+ru),p!==nu&&(F+="rotateY("+p+ru),g!==nu&&(F+="rotateX("+g+ru),(_!==nu||w!==nu)&&(F+="skew("+_+", "+w+ru),(C!==1||x!==1)&&(F+="scale("+C+", "+x+ru),D.style[ln]=F||"translate(0, 0)"},NK=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,a=r.x,u=r.y,c=r.rotation,h=r.skewX,p=r.skewY,g=r.scaleX,_=r.scaleY,w=r.target,C=r.xOrigin,x=r.yOrigin,S=r.xOffset,N=r.yOffset,D=r.forceCSS,V=parseFloat(a),F=parseFloat(u),$,W,P,A,b;c=parseFloat(c),h=parseFloat(h),p=parseFloat(p),p&&(p=parseFloat(p),h+=p,c+=p),c||h?(c*=Kc,h*=Kc,$=Math.cos(c)*g,W=Math.sin(c)*g,P=Math.sin(c-h)*-_,A=Math.cos(c-h)*_,h&&(p*=Kc,b=Math.tan(h-p),b=Math.sqrt(1+b*b),P*=b,A*=b,p&&(b=Math.tan(p),b=Math.sqrt(1+b*b),$*=b,W*=b)),$=wn($),W=wn(W),P=wn(P),A=wn(A)):($=g,A=_,W=P=0),(V&&!~(a+"").indexOf("px")||F&&!~(u+"").indexOf("px"))&&(V=Rl(w,"x",a,"px"),F=Rl(w,"y",u,"px")),(C||x||S||N)&&(V=wn(V+C-(C*$+x*P)+S),F=wn(F+x-(C*W+x*A)+N)),(i||s)&&(b=w.getBBox(),V=wn(V+i/100*b.width),F=wn(F+s/100*b.height)),b="matrix("+$+","+W+","+P+","+A+","+V+","+F+")",w.setAttribute("transform",b),D&&(w.style[ln]=b)},OK=function(e,t,r,i,s){var a=360,u=cr(s),c=parseFloat(s)*(u&&~s.indexOf("rad")?ou:1),h=c-i,p=i+h+"deg",g,_;return u&&(g=s.split("_")[1],g==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-360)),g==="cw"&&h<0?h=(h+a*vA)%a-~~(h/a)*a:g==="ccw"&&h>0&&(h=(h-a*vA)%a-~~(h/a)*a)),e._pt=_=new Ci(e._pt,t,r,i,h,gK),_.e=p,_.u="deg",e._props.push(r),_},IA=function(e,t){for(var r in t)e[r]=t[r];return e},DK=function(e,t,r){var i=IA({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=r.style,u,c,h,p,g,_,w,C;i.svg?(h=r.getAttribute("transform"),r.setAttribute("transform",""),a[ln]=t,u=jf(r,1),Ou(r,ln),r.setAttribute("transform",h)):(h=getComputedStyle(r)[ln],a[ln]=t,u=jf(r,1),a[ln]=h);for(c in _a)h=i[c],p=u[c],h!==p&&s.indexOf(c)<0&&(w=Lr(h),C=Lr(p),g=w!==C?Rl(r,c,h,C):parseFloat(h),_=parseFloat(p),e._pt=new Ci(e._pt,u,c,g,_-g,Qw),e._pt.u=C||0,e._props.push(c));IA(u,i)};xi("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",a=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(u){return e<2?n+u:"border"+u+n});a_[e>1?"border"+n:n]=function(u,c,h,p,g){var _,w;if(arguments.length<4)return _=a.map(function(C){return Go(u,C,h)}),w=_.join(" "),w.split(_[0]).length===5?_[0]:w;_=(p+"").split(" "),w={},a.forEach(function(C,x){return w[C]=_[x]=_[x]||_[(x-1)/2|0]}),u.init(c,w,g)}});var GD={name:"css",register:Xw,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var a=this._props,u=e.style,c=r.vars.startAt,h,p,g,_,w,C,x,S,N,D,V,F,$,W,P,A;Nx||Xw(),this.styles=this.styles||UD(e),A=this.styles.props,this.tween=r;for(x in t)if(x!=="autoRound"&&(p=t[x],!(Ui[x]&&bD(x,t,r,i,e,s)))){if(w=typeof p,C=a_[x],w==="function"&&(p=p.call(r,i,e,s),w=typeof p),w==="string"&&~p.indexOf("random(")&&(p=Of(p)),C)C(this,e,x,p,r)&&(P=1);else if(x.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(x)+"").trim(),p+="",fl.lastIndex=0,fl.test(h)||(S=Lr(h),N=Lr(p)),N?S!==N&&(h=Rl(e,x,h,N)+N):S&&(p+=S),this.add(u,"setProperty",h,p,i,s,0,0,x),a.push(x),A.push(x,0,u[x]);else if(w!=="undefined"){if(c&&x in c?(h=typeof c[x]=="function"?c[x].call(r,i,e,s):c[x],cr(h)&&~h.indexOf("random(")&&(h=Of(h)),Lr(h+"")||h==="auto"||(h+=Qi.units[x]||Lr(Go(e,x))||""),(h+"").charAt(1)==="="&&(h=Go(e,x))):h=Go(e,x),_=parseFloat(h),D=w==="string"&&p.charAt(1)==="="&&p.substr(0,2),D&&(p=p.substr(2)),g=parseFloat(p),x in po&&(x==="autoAlpha"&&(_===1&&Go(e,"visibility")==="hidden"&&g&&(_=0),A.push("visibility",0,u.visibility),tl(this,u,"visibility",_?"inherit":"hidden",g?"inherit":"hidden",!g)),x!=="scale"&&x!=="transform"&&(x=po[x],~x.indexOf(",")&&(x=x.split(",")[0]))),V=x in _a,V){if(this.styles.save(x),w==="string"&&p.substring(0,6)==="var(--"&&(p=ws(e,p.substring(4,p.indexOf(")"))),g=parseFloat(p)),F||($=e._gsap,$.renderTransform&&!t.parseTransform||jf(e,t.parseTransform),W=t.smoothOrigin!==!1&&$.smooth,F=this._pt=new Ci(this._pt,u,ln,0,1,$.renderTransform,$,0,-1),F.dep=1),x==="scale")this._pt=new Ci(this._pt,$,"scaleY",$.scaleY,(D?Hc($.scaleY,D+g):g)-$.scaleY||0,Qw),this._pt.u=0,a.push("scaleY",x),x+="X";else if(x==="transformOrigin"){A.push(Si,0,u[Si]),p=bK(p),$.svg?Jw(e,p,0,W,0,this):(N=parseFloat(p.split(" ")[2])||0,N!==$.zOrigin&&tl(this,$,"zOrigin",$.zOrigin,N),tl(this,u,x,l_(h),l_(p)));continue}else if(x==="svgOrigin"){Jw(e,p,1,W,0,this);continue}else if(x in WD){OK(this,$,x,_,D?Hc(_,D+p):p);continue}else if(x==="smoothOrigin"){tl(this,$,"smooth",$.smooth,p);continue}else if(x==="force3D"){$[x]=p;continue}else if(x==="transform"){DK(this,p,e);continue}}else x in u||(x=_d(x)||x);if(V||(g||g===0)&&(_||_===0)&&!mK.test(p)&&x in u)S=(h+"").substr((_+"").length),g||(g=0),N=Lr(p)||(x in Qi.units?Qi.units[x]:S),S!==N&&(_=Rl(e,x,h,N)),this._pt=new Ci(this._pt,V?$:u,x,_,(D?Hc(_,D+g):g)-_,!V&&(N==="px"||x==="zIndex")&&t.autoRound!==!1?yK:Qw),this._pt.u=N||0,S!==N&&N!=="%"&&(this._pt.b=h,this._pt.r=_K);else if(x in u)AK.call(this,e,x,h,D?D+p:p);else if(x in e)this.add(e,x,h||e[x],D?D+p:p,i,s);else if(x!=="parseTransform"){Tx(x,p);continue}V||(x in u?A.push(x,0,u[x]):typeof e[x]=="function"?A.push(x,2,e[x]()):A.push(x,1,h||e[x])),a.push(x)}}P&&LD(this)},render:function(e,t){if(t.tween._time||!Ox())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Go,aliases:po,getSetter:function(e,t,r){var i=po[t];return i&&i.indexOf(",")<0&&(t=i),t in _a&&t!==Si&&(e._gsap.x||Go(e,"x"))?r&&yA===r?t==="scale"?TK:EK:(yA=r||{})&&(t==="scale"?xK:CK):e.style&&!vx(e.style[t])?vK:~t.indexOf("-")?wK:Px(e,t)},core:{_removeProperty:Ou,_getMatrix:Lx}};Ii.utils.checkPrefix=_d;Ii.core.getStyleSaver=UD;(function(n,e,t,r){var i=xi(n+","+e+","+t,function(s){_a[s]=1});xi(e,function(s){Qi.units[s]="deg",WD[s]=1}),po[i[13]]=n+","+e,xi(r,function(s){var a=s.split(":");po[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Qi.units[n]="px"});Ii.registerPlugin(GD);var rf=Ii.registerPlugin(GD)||Ii;rf.core.Tween;function LK(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function MK(n,e,t){return e&&LK(n.prototype,e),n}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var yr,pg,Wi,nl,rl,Qc,KD,au,sf,QD,ea,Bs,YD,XD=function(){return yr||typeof window<"u"&&(yr=window.gsap)&&yr.registerPlugin&&yr},JD=1,Mc=[],tt=[],xo=[],of=Date.now,Zw=function(e,t){return t},jK=function(){var e=sf.core,t=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,tt),i.push.apply(i,xo),tt=r,xo=i,Zw=function(a,u){return t[a](u)}},pl=function(e,t){return~xo.indexOf(e)&&xo[xo.indexOf(e)+1][t]},af=function(e){return!!~QD.indexOf(e)},Jr=function(e,t,r,i,s){return e.addEventListener(t,r,{passive:i!==!1,capture:!!s})},Xr=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},jm="scrollLeft",Vm="scrollTop",eE=function(){return ea&&ea.isPressed||tt.cache++},u_=function(e,t){var r=function i(s){if(s||s===0){JD&&(Wi.history.scrollRestoration="manual");var a=ea&&ea.isPressed;s=i.v=Math.round(s)||(ea&&ea.iOS?1:0),e(s),i.cacheID=tt.cache,a&&Zw("ss",s)}else(t||tt.cache!==i.cacheID||Zw("ref"))&&(i.cacheID=tt.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},ii={s:jm,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:u_(function(n){return arguments.length?Wi.scrollTo(n,Un.sc()):Wi.pageXOffset||nl[jm]||rl[jm]||Qc[jm]||0})},Un={s:Vm,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ii,sc:u_(function(n){return arguments.length?Wi.scrollTo(ii.sc(),n):Wi.pageYOffset||nl[Vm]||rl[Vm]||Qc[Vm]||0})},mi=function(e,t){return(t&&t._ctx&&t._ctx.selector||yr.utils.toArray)(e)[0]||(typeof e=="string"&&yr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},VK=function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1},Al=function(e,t){var r=t.s,i=t.sc;af(e)&&(e=nl.scrollingElement||rl);var s=tt.indexOf(e),a=i===Un.sc?1:2;!~s&&(s=tt.push(e)-1),tt[s+a]||Jr(e,"scroll",eE);var u=tt[s+a],c=u||(tt[s+a]=u_(pl(e,r),!0)||(af(e)?i:u_(function(h){return arguments.length?e[r]=h:e[r]})));return c.target=e,u||(c.smooth=yr.getProperty(e,"scrollBehavior")==="smooth"),c},tE=function(e,t,r){var i=e,s=e,a=of(),u=a,c=t||50,h=Math.max(500,c*3),p=function(C,x){var S=of();x||S-a>c?(s=i,i=C,u=a,a=S):r?i+=C:i=s+(C-s)/(S-u)*(a-u)},g=function(){s=i=r?0:i,u=a=0},_=function(C){var x=u,S=s,N=of();return(C||C===0)&&C!==i&&p(C),a===u||N-u>h?0:(i+(r?S:-S))/((r?N:a)-x)*1e3};return{update:p,reset:g,getVelocity:_}},Sh=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},RA=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},ZD=function(){sf=yr.core.globals().ScrollTrigger,sf&&sf.core&&jK()},eL=function(e){return yr=e||XD(),!pg&&yr&&typeof document<"u"&&document.body&&(Wi=window,nl=document,rl=nl.documentElement,Qc=nl.body,QD=[Wi,nl,rl,Qc],yr.utils.clamp,YD=yr.core.context||function(){},au="onpointerenter"in Qc?"pointer":"mouse",KD=En.isTouch=Wi.matchMedia&&Wi.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Wi||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Bs=En.eventTypes=("ontouchstart"in rl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in rl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return JD=0},500),ZD(),pg=1),pg};ii.op=Un;tt.cache=0;var En=function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(r){pg||eL(yr)||console.warn("Please gsap.registerPlugin(Observer)"),sf||ZD();var i=r.tolerance,s=r.dragMinimum,a=r.type,u=r.target,c=r.lineHeight,h=r.debounce,p=r.preventDefault,g=r.onStop,_=r.onStopDelay,w=r.ignore,C=r.wheelSpeed,x=r.event,S=r.onDragStart,N=r.onDragEnd,D=r.onDrag,V=r.onPress,F=r.onRelease,$=r.onRight,W=r.onLeft,P=r.onUp,A=r.onDown,b=r.onChangeX,O=r.onChangeY,U=r.onChange,M=r.onToggleX,j=r.onToggleY,ne=r.onHover,he=r.onHoverEnd,de=r.onMove,le=r.ignoreCheck,te=r.isNormalizer,oe=r.onGestureStart,B=r.onGestureEnd,q=r.onWheel,ee=r.onEnable,me=r.onDisable,_e=r.onClick,Te=r.scrollSpeed,Ae=r.capture,be=r.allowClicks,Pe=r.lockAxis,Be=r.onLockAxis;this.target=u=mi(u)||rl,this.vars=r,w&&(w=yr.utils.toArray(w)),i=i||1e-9,s=s||0,C=C||1,Te=Te||1,a=a||"wheel,touch,pointer",h=h!==!1,c||(c=parseFloat(Wi.getComputedStyle(Qc).lineHeight)||22);var Tt,xt,nn,We,_t,rn,un,J=this,Tn=0,$n=0,Dt=r.passive||!p&&r.passive!==!1,rt=Al(u,ii),Wn=Al(u,Un),qn=rt(),Hn=Wn(),Pt=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Bs[0]==="pointerdown",yt=af(u),He=u.ownerDocument||nl,Gt=[0,0,0],Gn=[0,0,0],Kn=0,Ai=function(){return Kn=of()},Rt=function(ke,De){return(J.event=ke)&&w&&VK(ke.target,w)||De&&Pt&&ke.pointerType!=="touch"||le&&le(ke,De)},Ys=function(){J._vx.reset(),J._vy.reset(),xt.pause(),g&&g(J)},zr=function(){var ke=J.deltaX=RA(Gt),De=J.deltaY=RA(Gn),pe=Math.abs(ke)>=i,Ne=Math.abs(De)>=i;U&&(pe||Ne)&&U(J,ke,De,Gt,Gn),pe&&($&&J.deltaX>0&&$(J),W&&J.deltaX<0&&W(J),b&&b(J),M&&J.deltaX<0!=Tn<0&&M(J),Tn=J.deltaX,Gt[0]=Gt[1]=Gt[2]=0),Ne&&(A&&J.deltaY>0&&A(J),P&&J.deltaY<0&&P(J),O&&O(J),j&&J.deltaY<0!=$n<0&&j(J),$n=J.deltaY,Gn[0]=Gn[1]=Gn[2]=0),(We||nn)&&(de&&de(J),nn&&(S&&nn===1&&S(J),D&&D(J),nn=0),We=!1),rn&&!(rn=!1)&&Be&&Be(J),_t&&(q(J),_t=!1),Tt=0},Zi=function(ke,De,pe){Gt[pe]+=ke,Gn[pe]+=De,J._vx.update(ke),J._vy.update(De),h?Tt||(Tt=requestAnimationFrame(zr)):zr()},es=function(ke,De){Pe&&!un&&(J.axis=un=Math.abs(ke)>Math.abs(De)?"x":"y",rn=!0),un!=="y"&&(Gt[2]+=ke,J._vx.update(ke,!0)),un!=="x"&&(Gn[2]+=De,J._vy.update(De,!0)),h?Tt||(Tt=requestAnimationFrame(zr)):zr()},si=function(ke){if(!Rt(ke,1)){ke=Sh(ke,p);var De=ke.clientX,pe=ke.clientY,Ne=De-J.x,Ie=pe-J.y,Ve=J.isDragging;J.x=De,J.y=pe,(Ve||(Ne||Ie)&&(Math.abs(J.startX-De)>=s||Math.abs(J.startY-pe)>=s))&&(nn=Ve?2:1,Ve||(J.isDragging=!0),es(Ne,Ie))}},$r=J.onPress=function(Le){Rt(Le,1)||Le&&Le.button||(J.axis=un=null,xt.pause(),J.isPressed=!0,Le=Sh(Le),Tn=$n=0,J.startX=J.x=Le.clientX,J.startY=J.y=Le.clientY,J._vx.reset(),J._vy.reset(),Jr(te?u:He,Bs[1],si,Dt,!0),J.deltaX=J.deltaY=0,V&&V(J))},Ge=J.onRelease=function(Le){if(!Rt(Le,1)){Xr(te?u:He,Bs[1],si,!0);var ke=!isNaN(J.y-J.startY),De=J.isDragging,pe=De&&(Math.abs(J.x-J.startX)>3||Math.abs(J.y-J.startY)>3),Ne=Sh(Le);!pe&&ke&&(J._vx.reset(),J._vy.reset(),p&&be&&yr.delayedCall(.08,function(){if(of()-Kn>300&&!Le.defaultPrevented){if(Le.target.click)Le.target.click();else if(He.createEvent){var Ie=He.createEvent("MouseEvents");Ie.initMouseEvent("click",!0,!0,Wi,1,Ne.screenX,Ne.screenY,Ne.clientX,Ne.clientY,!1,!1,!1,!1,0,null),Le.target.dispatchEvent(Ie)}}})),J.isDragging=J.isGesturing=J.isPressed=!1,g&&De&&!te&&xt.restart(!0),nn&&zr(),N&&De&&N(J),F&&F(J,pe)}},oi=function(ke){return ke.touches&&ke.touches.length>1&&(J.isGesturing=!0)&&oe(ke,J.isDragging)},Kt=function(){return(J.isGesturing=!1)||B(J)},cn=function(ke){if(!Rt(ke)){var De=rt(),pe=Wn();Zi((De-qn)*Te,(pe-Hn)*Te,1),qn=De,Hn=pe,g&&xt.restart(!0)}},Qn=function(ke){if(!Rt(ke)){ke=Sh(ke,p),q&&(_t=!0);var De=(ke.deltaMode===1?c:ke.deltaMode===2?Wi.innerHeight:1)*C;Zi(ke.deltaX*De,ke.deltaY*De,0),g&&!te&&xt.restart(!0)}},Yn=function(ke){if(!Rt(ke)){var De=ke.clientX,pe=ke.clientY,Ne=De-J.x,Ie=pe-J.y;J.x=De,J.y=pe,We=!0,g&&xt.restart(!0),(Ne||Ie)&&es(Ne,Ie)}},ts=function(ke){J.event=ke,ne(J)},dr=function(ke){J.event=ke,he(J)},As=function(ke){return Rt(ke)||Sh(ke,p)&&_e(J)};xt=J._dc=yr.delayedCall(_||.25,Ys).pause(),J.deltaX=J.deltaY=0,J._vx=tE(0,50,!0),J._vy=tE(0,50,!0),J.scrollX=rt,J.scrollY=Wn,J.isDragging=J.isGesturing=J.isPressed=!1,YD(this),J.enable=function(Le){return J.isEnabled||(Jr(yt?He:u,"scroll",eE),a.indexOf("scroll")>=0&&Jr(yt?He:u,"scroll",cn,Dt,Ae),a.indexOf("wheel")>=0&&Jr(u,"wheel",Qn,Dt,Ae),(a.indexOf("touch")>=0&&KD||a.indexOf("pointer")>=0)&&(Jr(u,Bs[0],$r,Dt,Ae),Jr(He,Bs[2],Ge),Jr(He,Bs[3],Ge),be&&Jr(u,"click",Ai,!0,!0),_e&&Jr(u,"click",As),oe&&Jr(He,"gesturestart",oi),B&&Jr(He,"gestureend",Kt),ne&&Jr(u,au+"enter",ts),he&&Jr(u,au+"leave",dr),de&&Jr(u,au+"move",Yn)),J.isEnabled=!0,J.isDragging=J.isGesturing=J.isPressed=We=nn=!1,J._vx.reset(),J._vy.reset(),qn=rt(),Hn=Wn(),Le&&Le.type&&$r(Le),ee&&ee(J)),J},J.disable=function(){J.isEnabled&&(Mc.filter(function(Le){return Le!==J&&af(Le.target)}).length||Xr(yt?He:u,"scroll",eE),J.isPressed&&(J._vx.reset(),J._vy.reset(),Xr(te?u:He,Bs[1],si,!0)),Xr(yt?He:u,"scroll",cn,Ae),Xr(u,"wheel",Qn,Ae),Xr(u,Bs[0],$r,Ae),Xr(He,Bs[2],Ge),Xr(He,Bs[3],Ge),Xr(u,"click",Ai,!0),Xr(u,"click",As),Xr(He,"gesturestart",oi),Xr(He,"gestureend",Kt),Xr(u,au+"enter",ts),Xr(u,au+"leave",dr),Xr(u,au+"move",Yn),J.isEnabled=J.isPressed=J.isDragging=!1,me&&me(J))},J.kill=J.revert=function(){J.disable();var Le=Mc.indexOf(J);Le>=0&&Mc.splice(Le,1),ea===J&&(ea=0)},Mc.push(J),te&&af(u)&&(ea=J),J.enable(x)},MK(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();En.version="3.13.0";En.create=function(n){return new En(n)};En.register=eL;En.getAll=function(){return Mc.slice()};En.getById=function(n){return Mc.filter(function(e){return e.vars.id===n})[0]};XD()&&yr.registerPlugin(En);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var xe,Pc,et,Mt,Bi,vt,Mx,c_,Vf,lf,Lh,Fm,Rr,uy,nE,ei,AA,bA,kc,tL,R0,nL,Zr,rE,rL,iL,Ha,iE,jx,Yc,Vx,d_,sE,A0,Um=1,Pr=Date.now,b0=Pr(),xs=0,Mh=0,PA=function(e,t,r){var i=Fi(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},kA=function(e,t){return t&&(!Fi(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},FK=function n(){return Mh&&requestAnimationFrame(n)},NA=function(){return uy=1},OA=function(){return uy=0},lo=function(e){return e},jh=function(e){return Math.round(e*1e5)/1e5||0},sL=function(){return typeof window<"u"},oL=function(){return xe||sL()&&(xe=window.gsap)&&xe.registerPlugin&&xe},Du=function(e){return!!~Mx.indexOf(e)},aL=function(e){return(e==="Height"?Vx:et["inner"+e])||Bi["client"+e]||vt["client"+e]},lL=function(e){return pl(e,"getBoundingClientRect")||(Du(e)?function(){return vg.width=et.innerWidth,vg.height=Vx,vg}:function(){return Ko(e)})},UK=function(e,t,r){var i=r.d,s=r.d2,a=r.a;return(a=pl(e,"getBoundingClientRect"))?function(){return a()[i]}:function(){return(t?aL(s):e["client"+s])||0}},BK=function(e,t){return!t||~xo.indexOf(e)?lL(e):function(){return vg}},mo=function(e,t){var r=t.s,i=t.d2,s=t.d,a=t.a;return Math.max(0,(r="scroll"+i)&&(a=pl(e,r))?a()-lL(e)()[s]:Du(e)?(Bi[r]||vt[r])-aL(i):e[r]-e["offset"+i])},Bm=function(e,t){for(var r=0;r<kc.length;r+=3)(!t||~t.indexOf(kc[r+1]))&&e(kc[r],kc[r+1],kc[r+2])},Fi=function(e){return typeof e=="string"},Mr=function(e){return typeof e=="function"},Vh=function(e){return typeof e=="number"},lu=function(e){return typeof e=="object"},Ih=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},P0=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},Cc=Math.abs,uL="left",cL="top",Fx="right",Ux="bottom",wu="width",Eu="height",uf="Right",cf="Left",df="Top",hf="Bottom",Rn="padding",ms="margin",yd="Width",Bx="Height",Fn="px",gs=function(e){return et.getComputedStyle(e)},zK=function(e){var t=gs(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},DA=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Ko=function(e,t){var r=t&&gs(e)[nE]!=="matrix(1, 0, 0, 1, 0, 0)"&&xe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},h_=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},dL=function(e){var t=[],r=e.labels,i=e.duration(),s;for(s in r)t.push(r[s]/i);return t},$K=function(e){return function(t){return xe.utils.snap(dL(e),t)}},zx=function(e){var t=xe.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return r?function(i,s,a){a===void 0&&(a=.001);var u;if(!s)return t(i);if(s>0){for(i-=a,u=0;u<r.length;u++)if(r[u]>=i)return r[u];return r[u-1]}else for(u=r.length,i+=a;u--;)if(r[u]<=i)return r[u];return r[0]}:function(i,s,a){a===void 0&&(a=.001);var u=t(i);return!s||Math.abs(u-i)<a||u-i<0==s<0?u:t(s<0?i-e:i+e)}},WK=function(e){return function(t,r){return zx(dL(e))(t,r.direction)}},zm=function(e,t,r,i){return r.split(",").forEach(function(s){return e(t,s,i)})},sr=function(e,t,r,i,s){return e.addEventListener(t,r,{passive:!i,capture:!!s})},ir=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},$m=function(e,t,r){r=r&&r.wheelHandler,r&&(e(t,"wheel",r),e(t,"touchmove",r))},LA={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Wm={toggleActions:"play",anticipatePin:0},f_={top:0,left:0,center:.5,bottom:1,right:1},mg=function(e,t){if(Fi(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=t/100),e=e.substr(0,r-1)),e=i+(e in f_?f_[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},qm=function(e,t,r,i,s,a,u,c){var h=s.startColor,p=s.endColor,g=s.fontSize,_=s.indent,w=s.fontWeight,C=Mt.createElement("div"),x=Du(r)||pl(r,"pinType")==="fixed",S=e.indexOf("scroller")!==-1,N=x?vt:r,D=e.indexOf("start")!==-1,V=D?h:p,F="border-color:"+V+";font-size:"+g+";color:"+V+";font-weight:"+w+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return F+="position:"+((S||c)&&x?"fixed;":"absolute;"),(S||c||!x)&&(F+=(i===Un?Fx:Ux)+":"+(a+parseFloat(_))+"px;"),u&&(F+="box-sizing:border-box;text-align:left;width:"+u.offsetWidth+"px;"),C._isStart=D,C.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),C.style.cssText=F,C.innerText=t||t===0?e+"-"+t:e,N.children[0]?N.insertBefore(C,N.children[0]):N.appendChild(C),C._offset=C["offset"+i.op.d2],gg(C,0,i,D),C},gg=function(e,t,r,i){var s={display:"block"},a=r[i?"os2":"p2"],u=r[i?"p2":"os2"];e._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+a+yd]=1,s["border"+u+yd]=0,s[r.p]=t+"px",xe.set(e,s)},Je=[],oE={},Ff,MA=function(){return Pr()-xs>34&&(Ff||(Ff=requestAnimationFrame(ia)))},Sc=function(){(!Zr||!Zr.isPressed||Zr.startX>vt.clientWidth)&&(tt.cache++,Zr?Ff||(Ff=requestAnimationFrame(ia)):ia(),xs||Mu("scrollStart"),xs=Pr())},k0=function(){iL=et.innerWidth,rL=et.innerHeight},Fh=function(e){tt.cache++,(e===!0||!Rr&&!nL&&!Mt.fullscreenElement&&!Mt.webkitFullscreenElement&&(!rE||iL!==et.innerWidth||Math.abs(et.innerHeight-rL)>et.innerHeight*.25))&&c_.restart(!0)},Lu={},qK=[],hL=function n(){return ir(nt,"scrollEnd",n)||fu(!0)},Mu=function(e){return Lu[e]&&Lu[e].map(function(t){return t()})||qK},Vi=[],fL=function(e){for(var t=0;t<Vi.length;t+=5)(!e||Vi[t+4]&&Vi[t+4].query===e)&&(Vi[t].style.cssText=Vi[t+1],Vi[t].getBBox&&Vi[t].setAttribute("transform",Vi[t+2]||""),Vi[t+3].uncache=1)},$x=function(e,t){var r;for(ei=0;ei<Je.length;ei++)r=Je[ei],r&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));d_=!0,t&&fL(t),t||Mu("revert")},pL=function(e,t){tt.cache++,(t||!ti)&&tt.forEach(function(r){return Mr(r)&&r.cacheID++&&(r.rec=0)}),Fi(e)&&(et.history.scrollRestoration=jx=e)},ti,Tu=0,jA,HK=function(){if(jA!==Tu){var e=jA=Tu;requestAnimationFrame(function(){return e===Tu&&fu(!0)})}},mL=function(){vt.appendChild(Yc),Vx=!Zr&&Yc.offsetHeight||et.innerHeight,vt.removeChild(Yc)},VA=function(e){return Vf(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},fu=function(e,t){if(Bi=Mt.documentElement,vt=Mt.body,Mx=[et,Mt,Bi,vt],xs&&!e&&!d_){sr(nt,"scrollEnd",hL);return}mL(),ti=nt.isRefreshing=!0,tt.forEach(function(i){return Mr(i)&&++i.cacheID&&(i.rec=i())});var r=Mu("refreshInit");tL&&nt.sort(),t||$x(),tt.forEach(function(i){Mr(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Je.slice(0).forEach(function(i){return i.refresh()}),d_=!1,Je.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",a=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-a),i.refresh()}}),sE=1,VA(!0),Je.forEach(function(i){var s=mo(i.scroller,i._dir),a=i.vars.end==="max"||i._endClamp&&i.end>s,u=i._startClamp&&i.start>=s;(a||u)&&i.setPositions(u?s-1:i.start,a?Math.max(u?s:i.start+1,s):i.end,!0)}),VA(!1),sE=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),tt.forEach(function(i){Mr(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),pL(jx,1),c_.pause(),Tu++,ti=2,ia(2),Je.forEach(function(i){return Mr(i.vars.onRefresh)&&i.vars.onRefresh(i)}),ti=nt.isRefreshing=!1,Mu("refresh")},aE=0,_g=1,ff,ia=function(e){if(e===2||!ti&&!d_){nt.isUpdating=!0,ff&&ff.update(0);var t=Je.length,r=Pr(),i=r-b0>=50,s=t&&Je[0].scroll();if(_g=aE>s?-1:1,ti||(aE=s),i&&(xs&&!uy&&r-xs>200&&(xs=0,Mu("scrollEnd")),Lh=b0,b0=r),_g<0){for(ei=t;ei-- >0;)Je[ei]&&Je[ei].update(0,i);_g=1}else for(ei=0;ei<t;ei++)Je[ei]&&Je[ei].update(0,i);nt.isUpdating=!1}Ff=0},lE=[uL,cL,Ux,Fx,ms+hf,ms+uf,ms+df,ms+cf,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],yg=lE.concat([wu,Eu,"boxSizing","max"+yd,"max"+Bx,"position",ms,Rn,Rn+df,Rn+uf,Rn+hf,Rn+cf]),GK=function(e,t,r){Xc(r);var i=e._gsap;if(i.spacerIsNative)Xc(i.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},N0=function(e,t,r,i){if(!e._gsap.swappedIn){for(var s=lE.length,a=t.style,u=e.style,c;s--;)c=lE[s],a[c]=r[c];a.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(a.display="inline-block"),u[Ux]=u[Fx]="auto",a.flexBasis=r.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[wu]=h_(e,ii)+Fn,a[Eu]=h_(e,Un)+Fn,a[Rn]=u[ms]=u[cL]=u[uL]="0",Xc(i),u[wu]=u["max"+yd]=r[wu],u[Eu]=u["max"+Bx]=r[Eu],u[Rn]=r[Rn],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},KK=/([A-Z])/g,Xc=function(e){if(e){var t=e.t.style,r=e.length,i=0,s,a;for((e.t._gsap||xe.core.getCache(e.t)).uncache=1;i<r;i+=2)a=e[i+1],s=e[i],a?t[s]=a:t[s]&&t.removeProperty(s.replace(KK,"-$1").toLowerCase())}},Hm=function(e){for(var t=yg.length,r=e.style,i=[],s=0;s<t;s++)i.push(yg[s],r[yg[s]]);return i.t=e,i},QK=function(e,t,r){for(var i=[],s=e.length,a=r?8:0,u;a<s;a+=2)u=e[a],i.push(u,u in t?t[u]:e[a+1]);return i.t=e.t,i},vg={left:0,top:0},FA=function(e,t,r,i,s,a,u,c,h,p,g,_,w,C){Mr(e)&&(e=e(c)),Fi(e)&&e.substr(0,3)==="max"&&(e=_+(e.charAt(4)==="="?mg("0"+e.substr(3),r):0));var x=w?w.time():0,S,N,D;if(w&&w.seek(0),isNaN(e)||(e=+e),Vh(e))w&&(e=xe.utils.mapRange(w.scrollTrigger.start,w.scrollTrigger.end,0,_,e)),u&&gg(u,r,i,!0);else{Mr(t)&&(t=t(c));var V=(e||"0").split(" "),F,$,W,P;D=mi(t,c)||vt,F=Ko(D)||{},(!F||!F.left&&!F.top)&&gs(D).display==="none"&&(P=D.style.display,D.style.display="block",F=Ko(D),P?D.style.display=P:D.style.removeProperty("display")),$=mg(V[0],F[i.d]),W=mg(V[1]||"0",r),e=F[i.p]-h[i.p]-p+$+s-W,u&&gg(u,W,i,r-W<20||u._isStart&&W>20),r-=r-W}if(C&&(c[C]=e||-.001,e<0&&(e=0)),a){var A=e+r,b=a._isStart;S="scroll"+i.d2,gg(a,A,i,b&&A>20||!b&&(g?Math.max(vt[S],Bi[S]):a.parentNode[S])<=A+1),g&&(h=Ko(u),g&&(a.style[i.op.p]=h[i.op.p]-i.op.m-a._offset+Fn))}return w&&D&&(S=Ko(D),w.seek(_),N=Ko(D),w._caScrollDist=S[i.p]-N[i.p],e=e/w._caScrollDist*_),w&&w.seek(x),w?e:Math.round(e)},YK=/(webkit|moz|length|cssText|inset)/i,UA=function(e,t,r,i){if(e.parentNode!==t){var s=e.style,a,u;if(t===vt){e._stOrig=s.cssText,u=gs(e);for(a in u)!+a&&!YK.test(a)&&u[a]&&typeof s[a]=="string"&&a!=="0"&&(s[a]=u[a]);s.top=r,s.left=i}else s.cssText=e._stOrig;xe.core.getCache(e).uncache=1,t.appendChild(e)}},gL=function(e,t,r){var i=t,s=i;return function(a){var u=Math.round(e());return u!==i&&u!==s&&Math.abs(u-i)>3&&Math.abs(u-s)>3&&(a=u,r&&r()),s=i,i=Math.round(a),i}},Gm=function(e,t,r){var i={};i[t.p]="+="+r,xe.set(e,i)},BA=function(e,t){var r=Al(e,t),i="_scroll"+t.p2,s=function a(u,c,h,p,g){var _=a.tween,w=c.onComplete,C={};h=h||r();var x=gL(r,h,function(){_.kill(),a.tween=0});return g=p&&g||0,p=p||u-h,_&&_.kill(),c[i]=u,c.inherit=!1,c.modifiers=C,C[i]=function(){return x(h+p*_.ratio+g*_.ratio*_.ratio)},c.onUpdate=function(){tt.cache++,a.tween&&ia()},c.onComplete=function(){a.tween=0,w&&w.call(_)},_=a.tween=xe.to(e,c),_};return e[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},sr(e,"wheel",r.wheelHandler),nt.isTouch&&sr(e,"touchmove",r.wheelHandler),s},nt=function(){function n(t,r){Pc||n.register(xe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),iE(this),this.init(t,r)}var e=n.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Mh){this.update=this.refresh=this.kill=lo;return}r=DA(Fi(r)||Vh(r)||r.nodeType?{trigger:r}:r,Wm);var s=r,a=s.onUpdate,u=s.toggleClass,c=s.id,h=s.onToggle,p=s.onRefresh,g=s.scrub,_=s.trigger,w=s.pin,C=s.pinSpacing,x=s.invalidateOnRefresh,S=s.anticipatePin,N=s.onScrubComplete,D=s.onSnapComplete,V=s.once,F=s.snap,$=s.pinReparent,W=s.pinSpacer,P=s.containerAnimation,A=s.fastScrollEnd,b=s.preventOverlaps,O=r.horizontal||r.containerAnimation&&r.horizontal!==!1?ii:Un,U=!g&&g!==0,M=mi(r.scroller||et),j=xe.core.getCache(M),ne=Du(M),he=("pinType"in r?r.pinType:pl(M,"pinType")||ne&&"fixed")==="fixed",de=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],le=U&&r.toggleActions.split(" "),te="markers"in r?r.markers:Wm.markers,oe=ne?0:parseFloat(gs(M)["border"+O.p2+yd])||0,B=this,q=r.onRefreshInit&&function(){return r.onRefreshInit(B)},ee=UK(M,ne,O),me=BK(M,ne),_e=0,Te=0,Ae=0,be=Al(M,O),Pe,Be,Tt,xt,nn,We,_t,rn,un,J,Tn,$n,Dt,rt,Wn,qn,Hn,Pt,yt,He,Gt,Gn,Kn,Ai,Rt,Ys,zr,Zi,es,si,$r,Ge,oi,Kt,cn,Qn,Yn,ts,dr;if(B._startClamp=B._endClamp=!1,B._dir=O,S*=45,B.scroller=M,B.scroll=P?P.time.bind(P):be,xt=be(),B.vars=r,i=i||r.animation,"refreshPriority"in r&&(tL=1,r.refreshPriority===-9999&&(ff=B)),j.tweenScroll=j.tweenScroll||{top:BA(M,Un),left:BA(M,ii)},B.tweenTo=Pe=j.tweenScroll[O.p],B.scrubDuration=function(pe){oi=Vh(pe)&&pe,oi?Ge?Ge.duration(pe):Ge=xe.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:oi,paused:!0,onComplete:function(){return N&&N(B)}}):(Ge&&Ge.progress(1).kill(),Ge=0)},i&&(i.vars.lazy=!1,i._initted&&!B.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),B.animation=i.pause(),i.scrollTrigger=B,B.scrubDuration(g),si=0,c||(c=i.vars.id)),F&&((!lu(F)||F.push)&&(F={snapTo:F}),"scrollBehavior"in vt.style&&xe.set(ne?[vt,Bi]:M,{scrollBehavior:"auto"}),tt.forEach(function(pe){return Mr(pe)&&pe.target===(ne?Mt.scrollingElement||Bi:M)&&(pe.smooth=!1)}),Tt=Mr(F.snapTo)?F.snapTo:F.snapTo==="labels"?$K(i):F.snapTo==="labelsDirectional"?WK(i):F.directional!==!1?function(pe,Ne){return zx(F.snapTo)(pe,Pr()-Te<500?0:Ne.direction)}:xe.utils.snap(F.snapTo),Kt=F.duration||{min:.1,max:2},Kt=lu(Kt)?lf(Kt.min,Kt.max):lf(Kt,Kt),cn=xe.delayedCall(F.delay||oi/2||.1,function(){var pe=be(),Ne=Pr()-Te<500,Ie=Pe.tween;if((Ne||Math.abs(B.getVelocity())<10)&&!Ie&&!uy&&_e!==pe){var Ve=(pe-We)/rt,Vt=i&&!U?i.totalProgress():Ve,ze=Ne?0:(Vt-$r)/(Pr()-Lh)*1e3||0,kt=xe.utils.clamp(-Ve,1-Ve,Cc(ze/2)*ze/.185),xn=Ve+(F.inertia===!1?0:kt),Ct,St,Xe=F,Ln=Xe.onStart,ot=Xe.onInterrupt,Xn=Xe.onComplete;if(Ct=Tt(xn,B),Vh(Ct)||(Ct=xn),St=Math.max(0,Math.round(We+Ct*rt)),pe<=_t&&pe>=We&&St!==pe){if(Ie&&!Ie._initted&&Ie.data<=Cc(St-pe))return;F.inertia===!1&&(kt=Ct-Ve),Pe(St,{duration:Kt(Cc(Math.max(Cc(xn-Vt),Cc(Ct-Vt))*.185/ze/.05||0)),ease:F.ease||"power3",data:Cc(St-pe),onInterrupt:function(){return cn.restart(!0)&&ot&&ot(B)},onComplete:function(){B.update(),_e=be(),i&&!U&&(Ge?Ge.resetTo("totalProgress",Ct,i._tTime/i._tDur):i.progress(Ct)),si=$r=i&&!U?i.totalProgress():B.progress,D&&D(B),Xn&&Xn(B)}},pe,kt*rt,St-pe-kt*rt),Ln&&Ln(B,Pe.tween)}}else B.isActive&&_e!==pe&&cn.restart(!0)}).pause()),c&&(oE[c]=B),_=B.trigger=mi(_||w!==!0&&w),dr=_&&_._gsap&&_._gsap.stRevert,dr&&(dr=dr(B)),w=w===!0?_:mi(w),Fi(u)&&(u={targets:_,className:u}),w&&(C===!1||C===ms||(C=!C&&w.parentNode&&w.parentNode.style&&gs(w.parentNode).display==="flex"?!1:Rn),B.pin=w,Be=xe.core.getCache(w),Be.spacer?Wn=Be.pinState:(W&&(W=mi(W),W&&!W.nodeType&&(W=W.current||W.nativeElement),Be.spacerIsNative=!!W,W&&(Be.spacerState=Hm(W))),Be.spacer=Pt=W||Mt.createElement("div"),Pt.classList.add("pin-spacer"),c&&Pt.classList.add("pin-spacer-"+c),Be.pinState=Wn=Hm(w)),r.force3D!==!1&&xe.set(w,{force3D:!0}),B.spacer=Pt=Be.spacer,es=gs(w),Ai=es[C+O.os2],He=xe.getProperty(w),Gt=xe.quickSetter(w,O.a,Fn),N0(w,Pt,es),Hn=Hm(w)),te){$n=lu(te)?DA(te,LA):LA,J=qm("scroller-start",c,M,O,$n,0),Tn=qm("scroller-end",c,M,O,$n,0,J),yt=J["offset"+O.op.d2];var As=mi(pl(M,"content")||M);rn=this.markerStart=qm("start",c,As,O,$n,yt,0,P),un=this.markerEnd=qm("end",c,As,O,$n,yt,0,P),P&&(ts=xe.quickSetter([rn,un],O.a,Fn)),!he&&!(xo.length&&pl(M,"fixedMarkers")===!0)&&(zK(ne?vt:M),xe.set([J,Tn],{force3D:!0}),Ys=xe.quickSetter(J,O.a,Fn),Zi=xe.quickSetter(Tn,O.a,Fn))}if(P){var Le=P.vars.onUpdate,ke=P.vars.onUpdateParams;P.eventCallback("onUpdate",function(){B.update(0,0,1),Le&&Le.apply(P,ke||[])})}if(B.previous=function(){return Je[Je.indexOf(B)-1]},B.next=function(){return Je[Je.indexOf(B)+1]},B.revert=function(pe,Ne){if(!Ne)return B.kill(!0);var Ie=pe!==!1||!B.enabled,Ve=Rr;Ie!==B.isReverted&&(Ie&&(Qn=Math.max(be(),B.scroll.rec||0),Ae=B.progress,Yn=i&&i.progress()),rn&&[rn,un,J,Tn].forEach(function(Vt){return Vt.style.display=Ie?"none":"block"}),Ie&&(Rr=B,B.update(Ie)),w&&(!$||!B.isActive)&&(Ie?GK(w,Pt,Wn):N0(w,Pt,gs(w),Rt)),Ie||B.update(Ie),Rr=Ve,B.isReverted=Ie)},B.refresh=function(pe,Ne,Ie,Ve){if(!((Rr||!B.enabled)&&!Ne)){if(w&&pe&&xs){sr(n,"scrollEnd",hL);return}!ti&&q&&q(B),Rr=B,Pe.tween&&!Ie&&(Pe.tween.kill(),Pe.tween=0),Ge&&Ge.pause(),x&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(Pi){return Pi.vars.immediateRender&&Pi.render(0,!0,!0)})),B.isReverted||B.revert(!0,!0),B._subPinOffset=!1;var Vt=ee(),ze=me(),kt=P?P.duration():mo(M,O),xn=rt<=.01||!rt,Ct=0,St=Ve||0,Xe=lu(Ie)?Ie.end:r.end,Ln=r.endTrigger||_,ot=lu(Ie)?Ie.start:r.start||(r.start===0||!_?0:w?"0 0":"0 100%"),Xn=B.pinnedContainer=r.pinnedContainer&&mi(r.pinnedContainer,B),Er=_&&Math.max(0,Je.indexOf(B))||0,Qt=Er,Yt,dn,ns,wa,Qe,Xt,Jn,rs,Wr,bs,qr,bi,Zn;for(te&&lu(Ie)&&(bi=xe.getProperty(J,O.p),Zn=xe.getProperty(Tn,O.p));Qt-- >0;)Xt=Je[Qt],Xt.end||Xt.refresh(0,1)||(Rr=B),Jn=Xt.pin,Jn&&(Jn===_||Jn===w||Jn===Xn)&&!Xt.isReverted&&(bs||(bs=[]),bs.unshift(Xt),Xt.revert(!0,!0)),Xt!==Je[Qt]&&(Er--,Qt--);for(Mr(ot)&&(ot=ot(B)),ot=PA(ot,"start",B),We=FA(ot,_,Vt,O,be(),rn,J,B,ze,oe,he,kt,P,B._startClamp&&"_startClamp")||(w?-.001:0),Mr(Xe)&&(Xe=Xe(B)),Fi(Xe)&&!Xe.indexOf("+=")&&(~Xe.indexOf(" ")?Xe=(Fi(ot)?ot.split(" ")[0]:"")+Xe:(Ct=mg(Xe.substr(2),Vt),Xe=Fi(ot)?ot:(P?xe.utils.mapRange(0,P.duration(),P.scrollTrigger.start,P.scrollTrigger.end,We):We)+Ct,Ln=_)),Xe=PA(Xe,"end",B),_t=Math.max(We,FA(Xe||(Ln?"100% 0":kt),Ln,Vt,O,be()+Ct,un,Tn,B,ze,oe,he,kt,P,B._endClamp&&"_endClamp"))||-.001,Ct=0,Qt=Er;Qt--;)Xt=Je[Qt],Jn=Xt.pin,Jn&&Xt.start-Xt._pinPush<=We&&!P&&Xt.end>0&&(Yt=Xt.end-(B._startClamp?Math.max(0,Xt.start):Xt.start),(Jn===_&&Xt.start-Xt._pinPush<We||Jn===Xn)&&isNaN(ot)&&(Ct+=Yt*(1-Xt.progress)),Jn===w&&(St+=Yt));if(We+=Ct,_t+=Ct,B._startClamp&&(B._startClamp+=Ct),B._endClamp&&!ti&&(B._endClamp=_t||-.001,_t=Math.min(_t,mo(M,O))),rt=_t-We||(We-=.01)&&.001,xn&&(Ae=xe.utils.clamp(0,1,xe.utils.normalize(We,_t,Qn))),B._pinPush=St,rn&&Ct&&(Yt={},Yt[O.a]="+="+Ct,Xn&&(Yt[O.p]="-="+be()),xe.set([rn,un],Yt)),w&&!(sE&&B.end>=mo(M,O)))Yt=gs(w),wa=O===Un,ns=be(),Gn=parseFloat(He(O.a))+St,!kt&&_t>1&&(qr=(ne?Mt.scrollingElement||Bi:M).style,qr={style:qr,value:qr["overflow"+O.a.toUpperCase()]},ne&&gs(vt)["overflow"+O.a.toUpperCase()]!=="scroll"&&(qr.style["overflow"+O.a.toUpperCase()]="scroll")),N0(w,Pt,Yt),Hn=Hm(w),dn=Ko(w,!0),rs=he&&Al(M,wa?ii:Un)(),C?(Rt=[C+O.os2,rt+St+Fn],Rt.t=Pt,Qt=C===Rn?h_(w,O)+rt+St:0,Qt&&(Rt.push(O.d,Qt+Fn),Pt.style.flexBasis!=="auto"&&(Pt.style.flexBasis=Qt+Fn)),Xc(Rt),Xn&&Je.forEach(function(Pi){Pi.pin===Xn&&Pi.vars.pinSpacing!==!1&&(Pi._subPinOffset=!0)}),he&&be(Qn)):(Qt=h_(w,O),Qt&&Pt.style.flexBasis!=="auto"&&(Pt.style.flexBasis=Qt+Fn)),he&&(Qe={top:dn.top+(wa?ns-We:rs)+Fn,left:dn.left+(wa?rs:ns-We)+Fn,boxSizing:"border-box",position:"fixed"},Qe[wu]=Qe["max"+yd]=Math.ceil(dn.width)+Fn,Qe[Eu]=Qe["max"+Bx]=Math.ceil(dn.height)+Fn,Qe[ms]=Qe[ms+df]=Qe[ms+uf]=Qe[ms+hf]=Qe[ms+cf]="0",Qe[Rn]=Yt[Rn],Qe[Rn+df]=Yt[Rn+df],Qe[Rn+uf]=Yt[Rn+uf],Qe[Rn+hf]=Yt[Rn+hf],Qe[Rn+cf]=Yt[Rn+cf],qn=QK(Wn,Qe,$),ti&&be(0)),i?(Wr=i._initted,R0(1),i.render(i.duration(),!0,!0),Kn=He(O.a)-Gn+rt+St,zr=Math.abs(rt-Kn)>1,he&&zr&&qn.splice(qn.length-2,2),i.render(0,!0,!0),Wr||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),R0(0)):Kn=rt,qr&&(qr.value?qr.style["overflow"+O.a.toUpperCase()]=qr.value:qr.style.removeProperty("overflow-"+O.a));else if(_&&be()&&!P)for(dn=_.parentNode;dn&&dn!==vt;)dn._pinOffset&&(We-=dn._pinOffset,_t-=dn._pinOffset),dn=dn.parentNode;bs&&bs.forEach(function(Pi){return Pi.revert(!1,!0)}),B.start=We,B.end=_t,xt=nn=ti?Qn:be(),!P&&!ti&&(xt<Qn&&be(Qn),B.scroll.rec=0),B.revert(!1,!0),Te=Pr(),cn&&(_e=-1,cn.restart(!0)),Rr=0,i&&U&&(i._initted||Yn)&&i.progress()!==Yn&&i.progress(Yn||0,!0).render(i.time(),!0,!0),(xn||Ae!==B.progress||P||x||i&&!i._initted)&&(i&&!U&&(i._initted||Ae||i.vars.immediateRender!==!1)&&i.totalProgress(P&&We<-.001&&!Ae?xe.utils.normalize(We,_t,0):Ae,!0),B.progress=xn||(xt-We)/rt===Ae?0:Ae),w&&C&&(Pt._pinOffset=Math.round(B.progress*Kn)),Ge&&Ge.invalidate(),isNaN(bi)||(bi-=xe.getProperty(J,O.p),Zn-=xe.getProperty(Tn,O.p),Gm(J,O,bi),Gm(rn,O,bi-(Ve||0)),Gm(Tn,O,Zn),Gm(un,O,Zn-(Ve||0))),xn&&!ti&&B.update(),p&&!ti&&!Dt&&(Dt=!0,p(B),Dt=!1)}},B.getVelocity=function(){return(be()-nn)/(Pr()-Lh)*1e3||0},B.endAnimation=function(){Ih(B.callbackAnimation),i&&(Ge?Ge.progress(1):i.paused()?U||Ih(i,B.direction<0,1):Ih(i,i.reversed()))},B.labelToScroll=function(pe){return i&&i.labels&&(We||B.refresh()||We)+i.labels[pe]/i.duration()*rt||0},B.getTrailing=function(pe){var Ne=Je.indexOf(B),Ie=B.direction>0?Je.slice(0,Ne).reverse():Je.slice(Ne+1);return(Fi(pe)?Ie.filter(function(Ve){return Ve.vars.preventOverlaps===pe}):Ie).filter(function(Ve){return B.direction>0?Ve.end<=We:Ve.start>=_t})},B.update=function(pe,Ne,Ie){if(!(P&&!Ie&&!pe)){var Ve=ti===!0?Qn:B.scroll(),Vt=pe?0:(Ve-We)/rt,ze=Vt<0?0:Vt>1?1:Vt||0,kt=B.progress,xn,Ct,St,Xe,Ln,ot,Xn,Er;if(Ne&&(nn=xt,xt=P?be():Ve,F&&($r=si,si=i&&!U?i.totalProgress():ze)),S&&w&&!Rr&&!Um&&xs&&(!ze&&We<Ve+(Ve-nn)/(Pr()-Lh)*S?ze=1e-4:ze===1&&_t>Ve+(Ve-nn)/(Pr()-Lh)*S&&(ze=.9999)),ze!==kt&&B.enabled){if(xn=B.isActive=!!ze&&ze<1,Ct=!!kt&&kt<1,ot=xn!==Ct,Ln=ot||!!ze!=!!kt,B.direction=ze>kt?1:-1,B.progress=ze,Ln&&!Rr&&(St=ze&&!kt?0:ze===1?1:kt===1?2:3,U&&(Xe=!ot&&le[St+1]!=="none"&&le[St+1]||le[St],Er=i&&(Xe==="complete"||Xe==="reset"||Xe in i))),b&&(ot||Er)&&(Er||g||!i)&&(Mr(b)?b(B):B.getTrailing(b).forEach(function(ns){return ns.endAnimation()})),U||(Ge&&!Rr&&!Um?(Ge._dp._time-Ge._start!==Ge._time&&Ge.render(Ge._dp._time-Ge._start),Ge.resetTo?Ge.resetTo("totalProgress",ze,i._tTime/i._tDur):(Ge.vars.totalProgress=ze,Ge.invalidate().restart())):i&&i.totalProgress(ze,!!(Rr&&(Te||pe)))),w){if(pe&&C&&(Pt.style[C+O.os2]=Ai),!he)Gt(jh(Gn+Kn*ze));else if(Ln){if(Xn=!pe&&ze>kt&&_t+1>Ve&&Ve+1>=mo(M,O),$)if(!pe&&(xn||Xn)){var Qt=Ko(w,!0),Yt=Ve-We;UA(w,vt,Qt.top+(O===Un?Yt:0)+Fn,Qt.left+(O===Un?0:Yt)+Fn)}else UA(w,Pt);Xc(xn||Xn?qn:Hn),zr&&ze<1&&xn||Gt(Gn+(ze===1&&!Xn?Kn:0))}}F&&!Pe.tween&&!Rr&&!Um&&cn.restart(!0),u&&(ot||V&&ze&&(ze<1||!A0))&&Vf(u.targets).forEach(function(ns){return ns.classList[xn||V?"add":"remove"](u.className)}),a&&!U&&!pe&&a(B),Ln&&!Rr?(U&&(Er&&(Xe==="complete"?i.pause().totalProgress(1):Xe==="reset"?i.restart(!0).pause():Xe==="restart"?i.restart(!0):i[Xe]()),a&&a(B)),(ot||!A0)&&(h&&ot&&P0(B,h),de[St]&&P0(B,de[St]),V&&(ze===1?B.kill(!1,1):de[St]=0),ot||(St=ze===1?1:3,de[St]&&P0(B,de[St]))),A&&!xn&&Math.abs(B.getVelocity())>(Vh(A)?A:2500)&&(Ih(B.callbackAnimation),Ge?Ge.progress(1):Ih(i,Xe==="reverse"?1:!ze,1))):U&&a&&!Rr&&a(B)}if(Zi){var dn=P?Ve/P.duration()*(P._caScrollDist||0):Ve;Ys(dn+(J._isFlipped?1:0)),Zi(dn)}ts&&ts(-Ve/P.duration()*(P._caScrollDist||0))}},B.enable=function(pe,Ne){B.enabled||(B.enabled=!0,sr(M,"resize",Fh),ne||sr(M,"scroll",Sc),q&&sr(n,"refreshInit",q),pe!==!1&&(B.progress=Ae=0,xt=nn=_e=be()),Ne!==!1&&B.refresh())},B.getTween=function(pe){return pe&&Pe?Pe.tween:Ge},B.setPositions=function(pe,Ne,Ie,Ve){if(P){var Vt=P.scrollTrigger,ze=P.duration(),kt=Vt.end-Vt.start;pe=Vt.start+kt*pe/ze,Ne=Vt.start+kt*Ne/ze}B.refresh(!1,!1,{start:kA(pe,Ie&&!!B._startClamp),end:kA(Ne,Ie&&!!B._endClamp)},Ve),B.update()},B.adjustPinSpacing=function(pe){if(Rt&&pe){var Ne=Rt.indexOf(O.d)+1;Rt[Ne]=parseFloat(Rt[Ne])+pe+Fn,Rt[1]=parseFloat(Rt[1])+pe+Fn,Xc(Rt)}},B.disable=function(pe,Ne){if(B.enabled&&(pe!==!1&&B.revert(!0,!0),B.enabled=B.isActive=!1,Ne||Ge&&Ge.pause(),Qn=0,Be&&(Be.uncache=1),q&&ir(n,"refreshInit",q),cn&&(cn.pause(),Pe.tween&&Pe.tween.kill()&&(Pe.tween=0)),!ne)){for(var Ie=Je.length;Ie--;)if(Je[Ie].scroller===M&&Je[Ie]!==B)return;ir(M,"resize",Fh),ne||ir(M,"scroll",Sc)}},B.kill=function(pe,Ne){B.disable(pe,Ne),Ge&&!Ne&&Ge.kill(),c&&delete oE[c];var Ie=Je.indexOf(B);Ie>=0&&Je.splice(Ie,1),Ie===ei&&_g>0&&ei--,Ie=0,Je.forEach(function(Ve){return Ve.scroller===B.scroller&&(Ie=1)}),Ie||ti||(B.scroll.rec=0),i&&(i.scrollTrigger=null,pe&&i.revert({kill:!1}),Ne||i.kill()),rn&&[rn,un,J,Tn].forEach(function(Ve){return Ve.parentNode&&Ve.parentNode.removeChild(Ve)}),ff===B&&(ff=0),w&&(Be&&(Be.uncache=1),Ie=0,Je.forEach(function(Ve){return Ve.pin===w&&Ie++}),Ie||(Be.spacer=0)),r.onKill&&r.onKill(B)},Je.push(B),B.enable(!1,!1),dr&&dr(B),i&&i.add&&!rt){var De=B.update;B.update=function(){B.update=De,tt.cache++,We||_t||B.refresh()},xe.delayedCall(.01,B.update),rt=.01,We=_t=0}else B.refresh();w&&HK()},n.register=function(r){return Pc||(xe=r||oL(),sL()&&window.document&&n.enable(),Pc=Mh),Pc},n.defaults=function(r){if(r)for(var i in r)Wm[i]=r[i];return Wm},n.disable=function(r,i){Mh=0,Je.forEach(function(a){return a[i?"kill":"disable"](r)}),ir(et,"wheel",Sc),ir(Mt,"scroll",Sc),clearInterval(Fm),ir(Mt,"touchcancel",lo),ir(vt,"touchstart",lo),zm(ir,Mt,"pointerdown,touchstart,mousedown",NA),zm(ir,Mt,"pointerup,touchend,mouseup",OA),c_.kill(),Bm(ir);for(var s=0;s<tt.length;s+=3)$m(ir,tt[s],tt[s+1]),$m(ir,tt[s],tt[s+2])},n.enable=function(){if(et=window,Mt=document,Bi=Mt.documentElement,vt=Mt.body,xe&&(Vf=xe.utils.toArray,lf=xe.utils.clamp,iE=xe.core.context||lo,R0=xe.core.suppressOverwrites||lo,jx=et.history.scrollRestoration||"auto",aE=et.pageYOffset||0,xe.core.globals("ScrollTrigger",n),vt)){Mh=1,Yc=document.createElement("div"),Yc.style.height="100vh",Yc.style.position="absolute",mL(),FK(),En.register(xe),n.isTouch=En.isTouch,Ha=En.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),rE=En.isTouch===1,sr(et,"wheel",Sc),Mx=[et,Mt,Bi,vt],xe.matchMedia?(n.matchMedia=function(h){var p=xe.matchMedia(),g;for(g in h)p.add(g,h[g]);return p},xe.addEventListener("matchMediaInit",function(){return $x()}),xe.addEventListener("matchMediaRevert",function(){return fL()}),xe.addEventListener("matchMedia",function(){fu(0,1),Mu("matchMedia")}),xe.matchMedia().add("(orientation: portrait)",function(){return k0(),k0})):console.warn("Requires GSAP 3.11.0 or later"),k0(),sr(Mt,"scroll",Sc);var r=vt.hasAttribute("style"),i=vt.style,s=i.borderTopStyle,a=xe.core.Animation.prototype,u,c;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",u=Ko(vt),Un.m=Math.round(u.top+Un.sc())||0,ii.m=Math.round(u.left+ii.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(vt.setAttribute("style",""),vt.removeAttribute("style")),Fm=setInterval(MA,250),xe.delayedCall(.5,function(){return Um=0}),sr(Mt,"touchcancel",lo),sr(vt,"touchstart",lo),zm(sr,Mt,"pointerdown,touchstart,mousedown",NA),zm(sr,Mt,"pointerup,touchend,mouseup",OA),nE=xe.utils.checkPrefix("transform"),yg.push(nE),Pc=Pr(),c_=xe.delayedCall(.2,fu).pause(),kc=[Mt,"visibilitychange",function(){var h=et.innerWidth,p=et.innerHeight;Mt.hidden?(AA=h,bA=p):(AA!==h||bA!==p)&&Fh()},Mt,"DOMContentLoaded",fu,et,"load",fu,et,"resize",Fh],Bm(sr),Je.forEach(function(h){return h.enable(0,1)}),c=0;c<tt.length;c+=3)$m(ir,tt[c],tt[c+1]),$m(ir,tt[c],tt[c+2])}},n.config=function(r){"limitCallbacks"in r&&(A0=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(Fm)||(Fm=i)&&setInterval(MA,i),"ignoreMobileResize"in r&&(rE=n.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(Bm(ir)||Bm(sr,r.autoRefreshEvents||"none"),nL=(r.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(r,i){var s=mi(r),a=tt.indexOf(s),u=Du(s);~a&&tt.splice(a,u?6:2),i&&(u?xo.unshift(et,i,vt,i,Bi,i):xo.unshift(s,i))},n.clearMatchMedia=function(r){Je.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},n.isInViewport=function(r,i,s){var a=(Fi(r)?mi(r):r).getBoundingClientRect(),u=a[s?wu:Eu]*i||0;return s?a.right-u>0&&a.left+u<et.innerWidth:a.bottom-u>0&&a.top+u<et.innerHeight},n.positionInViewport=function(r,i,s){Fi(r)&&(r=mi(r));var a=r.getBoundingClientRect(),u=a[s?wu:Eu],c=i==null?u/2:i in f_?f_[i]*u:~i.indexOf("%")?parseFloat(i)*u/100:parseFloat(i)||0;return s?(a.left+c)/et.innerWidth:(a.top+c)/et.innerHeight},n.killAll=function(r){if(Je.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=Lu.killAll||[];Lu={},i.forEach(function(s){return s()})}},n}();nt.version="3.13.0";nt.saveStyles=function(n){return n?Vf(n).forEach(function(e){if(e&&e.style){var t=Vi.indexOf(e);t>=0&&Vi.splice(t,5),Vi.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),xe.core.getCache(e),iE())}}):Vi};nt.revert=function(n,e){return $x(!n,e)};nt.create=function(n,e){return new nt(n,e)};nt.refresh=function(n){return n?Fh(!0):(Pc||nt.register())&&fu(!0)};nt.update=function(n){return++tt.cache&&ia(n===!0?2:0)};nt.clearScrollMemory=pL;nt.maxScroll=function(n,e){return mo(n,e?ii:Un)};nt.getScrollFunc=function(n,e){return Al(mi(n),e?ii:Un)};nt.getById=function(n){return oE[n]};nt.getAll=function(){return Je.filter(function(n){return n.vars.id!=="ScrollSmoother"})};nt.isScrolling=function(){return!!xs};nt.snapDirectional=zx;nt.addEventListener=function(n,e){var t=Lu[n]||(Lu[n]=[]);~t.indexOf(e)||t.push(e)};nt.removeEventListener=function(n,e){var t=Lu[n],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)};nt.batch=function(n,e){var t=[],r={},i=e.interval||.016,s=e.batchMax||1e9,a=function(h,p){var g=[],_=[],w=xe.delayedCall(i,function(){p(g,_),g=[],_=[]}).pause();return function(C){g.length||w.restart(!0),g.push(C.trigger),_.push(C),s<=g.length&&w.progress(1)}},u;for(u in e)r[u]=u.substr(0,2)==="on"&&Mr(e[u])&&u!=="onRefreshInit"?a(u,e[u]):e[u];return Mr(s)&&(s=s(),sr(nt,"refresh",function(){return s=e.batchMax()})),Vf(n).forEach(function(c){var h={};for(u in r)h[u]=r[u];h.trigger=c,t.push(nt.create(h))}),t};var zA=function(e,t,r,i){return t>i?e(i):t<0&&e(0),r>i?(i-t)/(r-t):r<0?t/(t-r):1},O0=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(En.isTouch?" pinch-zoom":""):"none",e===Bi&&n(vt,t)},Km={auto:1,scroll:1},XK=function(e){var t=e.event,r=e.target,i=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,a=s._gsap||xe.core.getCache(s),u=Pr(),c;if(!a._isScrollT||u-a._isScrollT>2e3){for(;s&&s!==vt&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(Km[(c=gs(s)).overflowY]||Km[c.overflowX]));)s=s.parentNode;a._isScroll=s&&s!==r&&!Du(s)&&(Km[(c=gs(s)).overflowY]||Km[c.overflowX]),a._isScrollT=u}(a._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},_L=function(e,t,r,i){return En.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&XK,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&sr(Mt,En.eventTypes[0],WA,!1,!0)},onDisable:function(){return ir(Mt,En.eventTypes[0],WA,!0)}})},JK=/(input|label|select|textarea)/i,$A,WA=function(e){var t=JK.test(e.target.tagName);(t||$A)&&(e._gsapAllow=!0,$A=t)},ZK=function(e){lu(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,r=t.normalizeScrollX,i=t.momentum,s=t.allowNestedScroll,a=t.onRelease,u,c,h=mi(e.target)||Bi,p=xe.core.globals().ScrollSmoother,g=p&&p.get(),_=Ha&&(e.content&&mi(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),w=Al(h,Un),C=Al(h,ii),x=1,S=(En.isTouch&&et.visualViewport?et.visualViewport.scale*et.visualViewport.width:et.outerWidth)/et.innerWidth,N=0,D=Mr(i)?function(){return i(u)}:function(){return i||2.8},V,F,$=_L(h,e.type,!0,s),W=function(){return F=!1},P=lo,A=lo,b=function(){c=mo(h,Un),A=lf(Ha?1:0,c),r&&(P=lf(0,mo(h,ii))),V=Tu},O=function(){_._gsap.y=jh(parseFloat(_._gsap.y)+w.offset)+"px",_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(_._gsap.y)+", 0, 1)",w.offset=w.cacheID=0},U=function(){if(F){requestAnimationFrame(W);var te=jh(u.deltaY/2),oe=A(w.v-te);if(_&&oe!==w.v+w.offset){w.offset=oe-w.v;var B=jh((parseFloat(_&&_._gsap.y)||0)-w.offset);_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+B+", 0, 1)",_._gsap.y=B+"px",w.cacheID=tt.cache,ia()}return!0}w.offset&&O(),F=!0},M,j,ne,he,de=function(){b(),M.isActive()&&M.vars.scrollY>c&&(w()>c?M.progress(1)&&w(c):M.resetTo("scrollY",c))};return _&&xe.set(_,{y:"+=0"}),e.ignoreCheck=function(le){return Ha&&le.type==="touchmove"&&U()||x>1.05&&le.type!=="touchstart"||u.isGesturing||le.touches&&le.touches.length>1},e.onPress=function(){F=!1;var le=x;x=jh((et.visualViewport&&et.visualViewport.scale||1)/S),M.pause(),le!==x&&O0(h,x>1.01?!0:r?!1:"x"),j=C(),ne=w(),b(),V=Tu},e.onRelease=e.onGestureStart=function(le,te){if(w.offset&&O(),!te)he.restart(!0);else{tt.cache++;var oe=D(),B,q;r&&(B=C(),q=B+oe*.05*-le.velocityX/.227,oe*=zA(C,B,q,mo(h,ii)),M.vars.scrollX=P(q)),B=w(),q=B+oe*.05*-le.velocityY/.227,oe*=zA(w,B,q,mo(h,Un)),M.vars.scrollY=A(q),M.invalidate().duration(oe).play(.01),(Ha&&M.vars.scrollY>=c||B>=c-1)&&xe.to({},{onUpdate:de,duration:oe})}a&&a(le)},e.onWheel=function(){M._ts&&M.pause(),Pr()-N>1e3&&(V=0,N=Pr())},e.onChange=function(le,te,oe,B,q){if(Tu!==V&&b(),te&&r&&C(P(B[2]===te?j+(le.startX-le.x):C()+te-B[1])),oe){w.offset&&O();var ee=q[2]===oe,me=ee?ne+le.startY-le.y:w()+oe-q[1],_e=A(me);ee&&me!==_e&&(ne+=_e-me),w(_e)}(oe||te)&&ia()},e.onEnable=function(){O0(h,r?!1:"x"),nt.addEventListener("refresh",de),sr(et,"resize",de),w.smooth&&(w.target.style.scrollBehavior="auto",w.smooth=C.smooth=!1),$.enable()},e.onDisable=function(){O0(h,!0),ir(et,"resize",de),nt.removeEventListener("refresh",de),$.kill()},e.lockAxis=e.lockAxis!==!1,u=new En(e),u.iOS=Ha,Ha&&!w()&&w(1),Ha&&xe.ticker.add(lo),he=u._dc,M=xe.to(u,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:gL(w,w(),function(){return M.pause()})},onUpdate:ia,onComplete:he.vars.onComplete}),u};nt.sort=function(n){if(Mr(n))return Je.sort(n);var e=et.pageYOffset||0;return nt.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+et.innerHeight}),Je.sort(n||function(t,r){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};nt.observe=function(n){return new En(n)};nt.normalizeScroll=function(n){if(typeof n>"u")return Zr;if(n===!0&&Zr)return Zr.enable();if(n===!1){Zr&&Zr.kill(),Zr=n;return}var e=n instanceof En?n:ZK(n);return Zr&&Zr.target===e.target&&Zr.kill(),Du(e.target)&&(Zr=e),e};nt.core={_getVelocityProp:tE,_inputObserver:_L,_scrollers:tt,_proxies:xo,bridge:{ss:function(){xs||Mu("scrollStart"),xs=Pr()},ref:function(){return Rr}}};oL()&&xe.registerPlugin(nt);rf.registerPlugin(nt);const eQ=()=>(R.useEffect(()=>{rf.set("li > span",{transformOrigin:"0 50%"}),rf.set("li:not(:first-of-type) span",{opacity:.2,scale:.8});const n=rf.timeline().to("li:not(:first-of-type) span",{opacity:1,scale:1,stagger:.5}).to("li:not(:last-of-type) span",{opacity:.2,scale:.8,stagger:.5},0);nt.create({trigger:"h1",start:"center center",endTrigger:"li:last-of-type",end:"center center",pin:!0,pinSpacing:!1,anticipatePin:1,markers:!0,animation:n,scrub:!0})},[]),v.jsx(v.Fragment,{children:v.jsxs("body",{className:"Landing",children:[v.jsx("div",{className:"Landing spacer",style:{height:"80vh"},children:"Scroll Down"}),v.jsxs("div",{className:"Landing cols2",children:[v.jsx("h1",{className:"Landing",children:"hello"}),v.jsx("ul",{className:"Landing rotator",children:["HOMEOWNERS","Jack","Cassie","Rodrigo","Shaun","Mitchel","Craig","CONTRACTORS","Carl","Jonathan","Sahil","Zach","Blake","Diaco","WHOEVER"].map((n,e)=>v.jsx("li",{className:"Landing",children:v.jsx("span",{children:n})},e))})]}),v.jsx("div",{className:"Landing spacer",style:{height:"80vh",marginTop:80,marginBottom:0},children:"The Bottom"}),v.jsx("div",{className:"Landing brand",style:{background:"black",textAlign:"center"},children:v.jsx("a",{href:"https://www.creativecodingclub.com/bundles/creative-coding-club?src=scrollsnapcdpn",target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:"https://assets.codepen.io/32887/logo-ill.svg",width:"300",alt:"Creative Coding Club Logo"})})})]})}));function Ld(n,e=0){return e>0?R.lazy(()=>Promise.all([n(),new Promise(t=>setTimeout(t,e))]).then(([t])=>t)):R.lazy(async()=>{try{return await n()}catch(t){return console.error("Error loading component:",t),{}}})}const tQ=()=>{const{user:n,profile:e,loading:t}=ey(),r=Ri(),i=ya();return R.useEffect(()=>{if(t)return;if(n&&e&&!e.role&&i.pathname!=="/choose-role"){r("/choose-role");return}const s=["/contractor-dashboard","/available-projects"];n&&e&&e.role!=="contractor"&&s.includes(i.pathname)&&r("/"),console.log("RoleRedirectGate check:",{user:!!n,profile:!!e,role:e==null?void 0:e.role,path:i.pathname})},[n,e,t,i.pathname,r]),null},nQ=Ld(()=>vd(()=>import("./designer-CGlVoJuW.js"),[])),rQ=Ld(()=>vd(()=>import("./profile-zk5jhW9l.js"),[])),iQ=Ld(()=>vd(()=>import("./projectsDashboard-CedqhGO-.js"),[])),sQ=Ld(()=>vd(()=>import("./CreateProject-FsP9SSjH.js"),[])),oQ=Ld(()=>vd(()=>import("./MessagePage-BRO04U-d.js"),[])),aQ=Ld(()=>vd(()=>import("./AdminDashboard-nLY2UbsV.js"),[])),lQ=({children:n})=>{const{currentUser:e}=Ao(),{profile:t}=R.useContext(Bu);return!e||(t==null?void 0:t.role)!=="admin"?null:n},D0=({children:n})=>{const{currentUser:e}=Ao(),{profile:t}=R.useContext(Bu);return!e||!t||typeof t.role!="string"?v.jsx(zT,{}):t.role!=="contractor"?v.jsx(tb,{to:"/"}):n},uQ=document.getElementById("root"),cQ=PM.createRoot(uQ);cQ.render(v.jsx(R.StrictMode,{children:v.jsx(n8,{children:v.jsx(i8,{children:v.jsx(a8,{children:v.jsxs(W4,{basename:"/Ureno_webdesign/",children:[v.jsx(tQ,{}),v.jsx(R.Suspense,{fallback:v.jsx(zT,{}),children:v.jsxs(w4,{children:[v.jsx(fn,{path:"/",element:v.jsx(vq,{})}),v.jsx(fn,{path:"/landing-page",element:v.jsx(eQ,{})}),v.jsx(fn,{path:"/product-page",element:v.jsx(Tq,{})}),v.jsx(fn,{path:"/productDetail/:productId",element:v.jsx(Aq,{})}),v.jsx(fn,{path:"/designerPage",element:v.jsx(nQ,{})}),v.jsx(fn,{path:"/ProfileDashboard",element:v.jsx(rQ,{})}),v.jsx(fn,{path:"/edit-profile",element:v.jsx(YH,{})}),v.jsx(fn,{path:"/sign-in",element:v.jsx(Sq,{})}),v.jsx(fn,{path:"/Login",element:v.jsx(hG,{})}),v.jsx(fn,{path:"/sign-up",element:v.jsx(Rq,{})}),v.jsx(fn,{path:"/admin",element:v.jsx(lQ,{children:v.jsx(aQ,{})})}),v.jsx(fn,{path:"/projects",element:v.jsx(iQ,{})}),v.jsx(fn,{path:"/projects/new",element:v.jsx(sQ,{})}),v.jsx(fn,{path:"/savedItems",element:v.jsx(XH,{})}),v.jsx(fn,{path:"/messages",element:v.jsx(oQ,{})}),v.jsx(fn,{path:"/choose-role",element:v.jsx(fG,{})}),v.jsx(fn,{path:"/projects/edit/:projectId",element:v.jsx(pG,{})}),v.jsx(fn,{path:"/contractor-dashboard",element:v.jsx(D0,{children:v.jsx(_G,{})})}),v.jsx(fn,{path:"/available-projects",element:v.jsx(D0,{children:v.jsx(mG,{})})}),v.jsx(fn,{path:"/projects/view/:projectId",element:v.jsx(D0,{children:v.jsx(vG,{})})}),v.jsx(fn,{path:"/projects/:id/requests",element:v.jsx(wG,{})})]})}),v.jsx(VN,{})]})})})})}));export{Jg as B,QT as F,qt as L,lx as N,Lq as P,Bu as U,ey as a,_Q as b,gn as c,gG as d,Jo as e,kn as f,ps as g,Ao as h,Nn as i,v as j,mQ as k,Ri as l,gQ as m,pQ as n,Ok as o,_s as p,Ja as q,R as r,p9 as s,ul as t,Dn as u,Zf as v,fs as w};
