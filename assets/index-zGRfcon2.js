(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const uk="modulepreload",ck=function(n){return"/Ureno_webdesign/"+n},F0={},Zo=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(t.map(h=>{if(h=ck(h),h in F0)return;F0[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":uk,p||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((E,S)=>{v.addEventListener("load",E),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Tc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vm={exports:{}},Pu={},jm={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function dk(){if(U0)return Le;U0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,b={};function x(z,Y,pe){this.props=z,this.context=Y,this.refs=b,this.updater=pe||S}x.prototype.isReactComponent={},x.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=x.prototype;function U(z,Y,pe){this.props=z,this.context=Y,this.refs=b,this.updater=pe||S}var B=U.prototype=new j;B.constructor=U,R(B,x.prototype),B.isPureReactComponent=!0;var q=Array.isArray,X=Object.prototype.hasOwnProperty,Z={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function P(z,Y,pe){var Ie,Ae={},De=null,Ve=null;if(Y!=null)for(Ie in Y.ref!==void 0&&(Ve=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)X.call(Y,Ie)&&!N.hasOwnProperty(Ie)&&(Ae[Ie]=Y[Ie]);var Oe=arguments.length-2;if(Oe===1)Ae.children=pe;else if(1<Oe){for(var Qe=Array(Oe),xt=0;xt<Oe;xt++)Qe[xt]=arguments[xt+2];Ae.children=Qe}if(z&&z.defaultProps)for(Ie in Oe=z.defaultProps,Oe)Ae[Ie]===void 0&&(Ae[Ie]=Oe[Ie]);return{$$typeof:n,type:z,key:De,ref:Ve,props:Ae,_owner:Z.current}}function k(z,Y){return{$$typeof:n,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return Y[pe]})}var V=/\/+/g;function D(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):Y.toString(36)}function le(z,Y,pe,Ie,Ae){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var Ve=!1;if(z===null)Ve=!0;else switch(De){case"string":case"number":Ve=!0;break;case"object":switch(z.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=z,Ae=Ae(Ve),z=Ie===""?"."+D(Ve,0):Ie,q(Ae)?(pe="",z!=null&&(pe=z.replace(V,"$&/")+"/"),le(Ae,Y,pe,"",function(xt){return xt})):Ae!=null&&(L(Ae)&&(Ae=k(Ae,pe+(!Ae.key||Ve&&Ve.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+z)),Y.push(Ae)),1;if(Ve=0,Ie=Ie===""?".":Ie+":",q(z))for(var Oe=0;Oe<z.length;Oe++){De=z[Oe];var Qe=Ie+D(De,Oe);Ve+=le(De,Y,pe,Qe,Ae)}else if(Qe=E(z),typeof Qe=="function")for(z=Qe.call(z),Oe=0;!(De=z.next()).done;)De=De.value,Qe=Ie+D(De,Oe++),Ve+=le(De,Y,pe,Qe,Ae);else if(De==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Se(z,Y,pe){if(z==null)return z;var Ie=[],Ae=0;return le(z,Ie,"","",function(De){return Y.call(pe,De,Ae++)}),Ie}function Re(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var Te={current:null},ie={transition:null},ue={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Z};function se(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Se,forEach:function(z,Y,pe){Se(z,function(){Y.apply(this,arguments)},pe)},count:function(z){var Y=0;return Se(z,function(){Y++}),Y},toArray:function(z){return Se(z,function(Y){return Y})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=U,Le.StrictMode=r,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Le.act=se,Le.cloneElement=function(z,Y,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ie=R({},z.props),Ae=z.key,De=z.ref,Ve=z._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Ve=Z.current),Y.key!==void 0&&(Ae=""+Y.key),z.type&&z.type.defaultProps)var Oe=z.type.defaultProps;for(Qe in Y)X.call(Y,Qe)&&!N.hasOwnProperty(Qe)&&(Ie[Qe]=Y[Qe]===void 0&&Oe!==void 0?Oe[Qe]:Y[Qe])}var Qe=arguments.length-2;if(Qe===1)Ie.children=pe;else if(1<Qe){Oe=Array(Qe);for(var xt=0;xt<Qe;xt++)Oe[xt]=arguments[xt+2];Ie.children=Oe}return{$$typeof:n,type:z.type,key:Ae,ref:De,props:Ie,_owner:Ve}},Le.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Le.createElement=P,Le.createFactory=function(z){var Y=P.bind(null,z);return Y.type=z,Y},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:c,render:z}},Le.isValidElement=L,Le.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Re}},Le.memo=function(z,Y){return{$$typeof:p,type:z,compare:Y===void 0?null:Y}},Le.startTransition=function(z){var Y=ie.transition;ie.transition={};try{z()}finally{ie.transition=Y}},Le.unstable_act=se,Le.useCallback=function(z,Y){return Te.current.useCallback(z,Y)},Le.useContext=function(z){return Te.current.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z){return Te.current.useDeferredValue(z)},Le.useEffect=function(z,Y){return Te.current.useEffect(z,Y)},Le.useId=function(){return Te.current.useId()},Le.useImperativeHandle=function(z,Y,pe){return Te.current.useImperativeHandle(z,Y,pe)},Le.useInsertionEffect=function(z,Y){return Te.current.useInsertionEffect(z,Y)},Le.useLayoutEffect=function(z,Y){return Te.current.useLayoutEffect(z,Y)},Le.useMemo=function(z,Y){return Te.current.useMemo(z,Y)},Le.useReducer=function(z,Y,pe){return Te.current.useReducer(z,Y,pe)},Le.useRef=function(z){return Te.current.useRef(z)},Le.useState=function(z){return Te.current.useState(z)},Le.useSyncExternalStore=function(z,Y,pe){return Te.current.useSyncExternalStore(z,Y,pe)},Le.useTransition=function(){return Te.current.useTransition()},Le.version="18.3.1",Le}var $0;function Ry(){return $0||($0=1,jm.exports=dk()),jm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function hk(){if(B0)return Pu;B0=1;var n=Ry(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,v={},E=null,S=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(v[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:c,key:E,ref:S,props:v,_owner:i.current}}return Pu.Fragment=t,Pu.jsx=l,Pu.jsxs=l,Pu}var z0;function fk(){return z0||(z0=1,Vm.exports=hk()),Vm.exports}var w=fk(),I=Ry();const wn=Tc(I);var oh={},Fm={exports:{}},Pn={},Um={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function pk(){return W0||(W0=1,function(n){function e(ie,ue){var se=ie.length;ie.push(ue);e:for(;0<se;){var z=se-1>>>1,Y=ie[z];if(0<i(Y,ue))ie[z]=ue,ie[se]=Y,se=z;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ue=ie[0],se=ie.pop();if(se!==ue){ie[0]=se;e:for(var z=0,Y=ie.length,pe=Y>>>1;z<pe;){var Ie=2*(z+1)-1,Ae=ie[Ie],De=Ie+1,Ve=ie[De];if(0>i(Ae,se))De<Y&&0>i(Ve,Ae)?(ie[z]=Ve,ie[De]=se,z=De):(ie[z]=Ae,ie[Ie]=se,z=Ie);else if(De<Y&&0>i(Ve,se))ie[z]=Ve,ie[De]=se,z=De;else break e}}return ue}function i(ie,ue){var se=ie.sortIndex-ue.sortIndex;return se!==0?se:ie.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,v=null,E=3,S=!1,R=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var ue=t(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=ie)r(p),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=t(p)}}function q(ie){if(b=!1,B(ie),!R)if(t(h)!==null)R=!0,Re(X);else{var ue=t(p);ue!==null&&Te(q,ue.startTime-ie)}}function X(ie,ue){R=!1,b&&(b=!1,j(P),P=-1),S=!0;var se=E;try{for(B(ue),v=t(h);v!==null&&(!(v.expirationTime>ue)||ie&&!M());){var z=v.callback;if(typeof z=="function"){v.callback=null,E=v.priorityLevel;var Y=z(v.expirationTime<=ue);ue=n.unstable_now(),typeof Y=="function"?v.callback=Y:v===t(h)&&r(h),B(ue)}else r(h);v=t(h)}if(v!==null)var pe=!0;else{var Ie=t(p);Ie!==null&&Te(q,Ie.startTime-ue),pe=!1}return pe}finally{v=null,E=se,S=!1}}var Z=!1,N=null,P=-1,k=5,L=-1;function M(){return!(n.unstable_now()-L<k)}function V(){if(N!==null){var ie=n.unstable_now();L=ie;var ue=!0;try{ue=N(!0,ie)}finally{ue?D():(Z=!1,N=null)}}else Z=!1}var D;if(typeof U=="function")D=function(){U(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=V,D=function(){Se.postMessage(null)}}else D=function(){x(V,0)};function Re(ie){N=ie,Z||(Z=!0,D())}function Te(ie,ue){P=x(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){R||S||(R=!0,Re(X))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var se=E;E=ue;try{return ie()}finally{E=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=E;E=ie;try{return ue()}finally{E=se}},n.unstable_scheduleCallback=function(ie,ue,se){var z=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?z+se:z):se=z,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,ie={id:g++,callback:ue,priorityLevel:ie,startTime:se,expirationTime:Y,sortIndex:-1},se>z?(ie.sortIndex=se,e(p,ie),t(h)===null&&ie===t(p)&&(b?(j(P),P=-1):b=!0,Te(q,se-z))):(ie.sortIndex=Y,e(h,ie),R||S||(R=!0,Re(X))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var ue=E;return function(){var se=E;E=ue;try{return ie.apply(this,arguments)}finally{E=se}}}}($m)),$m}var H0;function mk(){return H0||(H0=1,Um.exports=pk()),Um.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function gk(){if(q0)return Pn;q0=1;var n=Ry(),e=mk();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function E(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function S(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function R(s,a,u,f){if(a===null||typeof a>"u"||S(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,u,f,m,_,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=C}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];x[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(j,U);x[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(j,U);x[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(j,U);x[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,a,u,f){var m=x.hasOwnProperty(a)?x[a]:null;(m!==null?m.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,u,m,f)&&(u=null),f||m===null?E(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(a=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(a):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Z=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,z;function Y(s){if(z===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var pe=!1;function Ie(s,a){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var f=G}Reflect.construct(s,[],a)}else{try{a.call()}catch(G){f=G}s.call(a.prototype)}else{try{throw Error()}catch(G){f=G}s()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),_=f.stack.split(`
`),C=m.length-1,O=_.length-1;1<=C&&0<=O&&m[C]!==_[O];)O--;for(;1<=C&&0<=O;C--,O--)if(m[C]!==_[O]){if(C!==1||O!==1)do if(C--,O--,0>O||m[C]!==_[O]){var F=`
`+m[C].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=C&&0<=O);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Y(s):""}function Ae(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ie(s.type,!1),s;case 11:return s=Ie(s.type.render,!1),s;case 1:return s=Ie(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case Z:return"Portal";case k:return"Profiler";case P:return"StrictMode";case D:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return a=s.displayName||null,a!==null?a:De(s.type)||"Memo";case Re:a=s._payload,s=s._init;try{return De(s(a))}catch{}}return null}function Ve(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xt(s){var a=Qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(C){f=""+C,_.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Mn(s){s._valueTracker||(s._valueTracker=xt(s))}function Gi(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Qe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function mr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function di(s,a){var u=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Qi(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=Oe(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Yi(s,a){a=a.checked,a!=null&&B(s,"checked",a,!1)}function Xi(s,a){Yi(s,a);var u=Oe(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ji(s,a.type,u):a.hasOwnProperty("defaultValue")&&Ji(s,a.type,Oe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function oa(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ji(s,a,u){(a!=="number"||mr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var qt=Array.isArray;function En(s,a,u,f){if(s=s.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=a.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),a=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Zi(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hi(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(qt(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Oe(u)}}function Fr(s,a){var u=Oe(a.value),f=Oe(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function es(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function yt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?yt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Yn,Fl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,m)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Yn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ts(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uo=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(s){uo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),lo[a]=lo[s]})});function Ul(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||lo.hasOwnProperty(s)&&lo[s]?(""+a).trim():a+"px"}function $l(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ul(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var Bl=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(s,a){if(a){if(Bl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Wl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function aa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var la=null,Xn=null,Ur=null;function ua(s){if(s=pu(s)){if(typeof la!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Ed(a),la(s.stateNode,s.type,a))}}function $r(s){Xn?Ur?Ur.push(s):Ur=[s]:Xn=s}function Hl(){if(Xn){var s=Xn,a=Ur;if(Ur=Xn=null,ua(s),a)for(s=0;s<a.length;s++)ua(a[s])}}function ho(s,a){return s(a)}function ql(){}var fi=!1;function Kl(s,a,u){if(fi)return s(a,u);fi=!0;try{return ho(s,a,u)}finally{fi=!1,(Xn!==null||Ur!==null)&&(ql(),Hl())}}function It(s,a){var u=s.stateNode;if(u===null)return null;var f=Ed(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var ca=!1;if(c)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){ca=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{ca=!1}function fo(s,a,u,f,m,_,C,O,F){var G=Array.prototype.slice.call(arguments,3);try{a.apply(u,G)}catch(ne){this.onError(ne)}}var po=!1,da=null,yr=!1,Gl=null,dp={onError:function(s){po=!0,da=s}};function ha(s,a,u,f,m,_,C,O,F){po=!1,da=null,fo.apply(dp,arguments)}function qc(s,a,u,f,m,_,C,O,F){if(ha.apply(this,arguments),po){if(po){var G=da;po=!1,da=null}else throw Error(t(198));yr||(yr=!0,Gl=G)}}function _r(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function mo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function vr(s){if(_r(s)!==s)throw Error(t(188))}function Kc(s){var a=s.alternate;if(!a){if(a=_r(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,f=a;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return vr(m),s;if(_===f)return vr(m),a;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=_;else{for(var C=!1,O=m.child;O;){if(O===u){C=!0,u=m,f=_;break}if(O===f){C=!0,f=m,u=_;break}O=O.sibling}if(!C){for(O=_.child;O;){if(O===u){C=!0,u=_,f=m;break}if(O===f){C=!0,f=_,u=m;break}O=O.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Ql(s){return s=Kc(s),s!==null?fa(s):null}function fa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=fa(s);if(a!==null)return a;s=s.sibling}return null}var pa=e.unstable_scheduleCallback,Yl=e.unstable_cancelCallback,Gc=e.unstable_shouldYield,hp=e.unstable_requestPaint,nt=e.unstable_now,Qc=e.unstable_getCurrentPriorityLevel,go=e.unstable_ImmediatePriority,ns=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,Xl=e.unstable_LowPriority,Yc=e.unstable_IdlePriority,yo=null,Vn=null;function Xc(s){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(yo,s,void 0,(s.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Zc,Jl=Math.log,Jc=Math.LN2;function Zc(s){return s>>>=0,s===0?32:31-(Jl(s)/Jc|0)|0}var ma=64,ga=4194304;function rs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function _o(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,_=s.pingedLanes,C=u&268435455;if(C!==0){var O=C&~m;O!==0?f=rs(O):(_&=C,_!==0&&(f=rs(_)))}else C=u&~m,C!==0?f=rs(C):_!==0&&(f=rs(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&m)===0&&(m=f&-f,_=a&-a,m>=_||m===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-mn(a),m=1<<u,f|=s[u],a&=~m;return f}function fp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var C=31-mn(_),O=1<<C,F=m[C];F===-1?((O&u)===0||(O&f)!==0)&&(m[C]=fp(O,a)):F<=a&&(s.expiredLanes|=O),_&=~O}}function jn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vo(){var s=ma;return ma<<=1,(ma&4194240)===0&&(ma=64),s}function is(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function ss(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-mn(a),s[a]=u}function tt(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-mn(u),_=1<<m;a[m]=0,f[m]=-1,s[m]=-1,u&=~_}}function os(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-mn(u),m=1<<f;m&a|s[f]&a&&(s[f]|=a),u&=~m}}var Fe=0;function as(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ed,ya,td,nd,rd,Zl=!1,Br=[],Kt=null,wr=null,Er=null,ls=new Map,Zn=new Map,zr=[],pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(s,a){switch(s){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":ls.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(a.pointerId)}}function Tn(s,a,u,f,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},a!==null&&(a=pu(a),a!==null&&ya(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function mp(s,a,u,f,m){switch(a){case"focusin":return Kt=Tn(Kt,s,a,u,f,m),!0;case"dragenter":return wr=Tn(wr,s,a,u,f,m),!0;case"mouseover":return Er=Tn(Er,s,a,u,f,m),!0;case"pointerover":var _=m.pointerId;return ls.set(_,Tn(ls.get(_)||null,s,a,u,f,m)),!0;case"gotpointercapture":return _=m.pointerId,Zn.set(_,Tn(Zn.get(_)||null,s,a,u,f,m)),!0}return!1}function sd(s){var a=Co(s.target);if(a!==null){var u=_r(a);if(u!==null){if(a=u.tag,a===13){if(a=mo(u),a!==null){s.blockedOn=a,rd(s.priority,function(){td(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=_a(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);co=f,u.target.dispatchEvent(f),co=null}else return a=pu(u),a!==null&&ya(a),s.blockedOn=u,!1;a.shift()}return!0}function wo(s,a,u){mi(s)&&u.delete(a)}function od(){Zl=!1,Kt!==null&&mi(Kt)&&(Kt=null),wr!==null&&mi(wr)&&(wr=null),Er!==null&&mi(Er)&&(Er=null),ls.forEach(wo),Zn.forEach(wo)}function Tr(s,a){s.blockedOn===a&&(s.blockedOn=null,Zl||(Zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,od)))}function Ir(s){function a(m){return Tr(m,s)}if(0<Br.length){Tr(Br[0],s);for(var u=1;u<Br.length;u++){var f=Br[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Kt!==null&&Tr(Kt,s),wr!==null&&Tr(wr,s),Er!==null&&Tr(Er,s),ls.forEach(a),Zn.forEach(a),u=0;u<zr.length;u++)f=zr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<zr.length&&(u=zr[0],u.blockedOn===null);)sd(u),u.blockedOn===null&&zr.shift()}var gi=q.ReactCurrentBatchConfig,us=!0;function ht(s,a,u,f){var m=Fe,_=gi.transition;gi.transition=null;try{Fe=1,eu(s,a,u,f)}finally{Fe=m,gi.transition=_}}function gp(s,a,u,f){var m=Fe,_=gi.transition;gi.transition=null;try{Fe=4,eu(s,a,u,f)}finally{Fe=m,gi.transition=_}}function eu(s,a,u,f){if(us){var m=_a(s,a,u,f);if(m===null)Rp(s,a,f,Eo,u),id(s,f);else if(mp(m,s,a,u,f))f.stopPropagation();else if(id(s,f),a&4&&-1<pp.indexOf(s)){for(;m!==null;){var _=pu(m);if(_!==null&&ed(_),_=_a(s,a,u,f),_===null&&Rp(s,a,f,Eo,u),_===m)break;m=_}m!==null&&f.stopPropagation()}else Rp(s,a,f,null,u)}}var Eo=null;function _a(s,a,u,f){if(Eo=null,s=aa(f),s=Co(s),s!==null)if(a=_r(s),a===null)s=null;else if(u=a.tag,u===13){if(s=mo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Eo=s,null}function tu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qc()){case go:return 1;case ns:return 4;case Jn:case Xl:return 16;case Yc:return 536870912;default:return 16}default:return 16}}var Fn=null,va=null,In=null;function nu(){if(In)return In;var s,a=va,u=a.length,f,m="value"in Fn?Fn.value:Fn.textContent,_=m.length;for(s=0;s<u&&a[s]===m[s];s++);var C=u-s;for(f=1;f<=C&&a[u-f]===m[_-f];f++);return In=m.slice(s,1<f?1-f:void 0)}function wa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Wr(){return!0}function ru(){return!1}function Gt(s){function a(u,f,m,_,C){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Wr:ru,this.isPropagationStopped=ru,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),a}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Gt(Cr),Hr=se({},Cr,{view:0,detail:0}),yp=Gt(Hr),Ta,yi,cs,To=se({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cs&&(cs&&s.type==="mousemove"?(Ta=s.screenX-cs.screenX,yi=s.screenY-cs.screenY):yi=Ta=0,cs=s),Ta)},movementY:function(s){return"movementY"in s?s.movementY:yi}}),Ia=Gt(To),iu=se({},To,{dataTransfer:0}),ad=Gt(iu),Ca=se({},Hr,{relatedTarget:0}),Sa=Gt(Ca),ld=se({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=Gt(ld),ud=se({},Cr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),cd=Gt(ud),dd=se({},Cr,{data:0}),su=Gt(dd),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=hd[s])?!!a[s]:!1}function qr(){return fd}var d=se({},Hr,{key:function(s){if(s.key){var a=xa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Gt(d),T=se({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Gt(T),W=se({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),Q=Gt(W),ae=se({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Gt(ae),Dt=se({},To,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Gt(Dt),jt=[9,13,27,32],Rt=c&&"CompositionEvent"in window,er=null;c&&"documentMode"in document&&(er=document.documentMode);var Un=c&&"TextEvent"in window&&!er,Io=c&&(!Rt||er&&8<er&&11>=er),Ra=" ",Dv=!1;function Ov(s,a){switch(s){case"keyup":return jt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Aa=!1;function oP(s,a){switch(s){case"compositionend":return Lv(a);case"keypress":return a.which!==32?null:(Dv=!0,Ra);case"textInput":return s=a.data,s===Ra&&Dv?null:s;default:return null}}function aP(s,a){if(Aa)return s==="compositionend"||!Rt&&Ov(s,a)?(s=nu(),In=va=Fn=null,Aa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Io&&a.locale!=="ko"?null:a.data;default:return null}}var lP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!lP[s.type]:a==="textarea"}function Vv(s,a,u,f){$r(f),a=_d(a,"onChange"),0<a.length&&(u=new Ea("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var ou=null,au=null;function uP(s){tw(s,0)}function pd(s){var a=Da(s);if(Gi(a))return s}function cP(s,a){if(s==="change")return a}var jv=!1;if(c){var _p;if(c){var vp="oninput"in document;if(!vp){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),vp=typeof Fv.oninput=="function"}_p=vp}else _p=!1;jv=_p&&(!document.documentMode||9<document.documentMode)}function Uv(){ou&&(ou.detachEvent("onpropertychange",$v),au=ou=null)}function $v(s){if(s.propertyName==="value"&&pd(au)){var a=[];Vv(a,au,s,aa(s)),Kl(uP,a)}}function dP(s,a,u){s==="focusin"?(Uv(),ou=a,au=u,ou.attachEvent("onpropertychange",$v)):s==="focusout"&&Uv()}function hP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pd(au)}function fP(s,a){if(s==="click")return pd(a)}function pP(s,a){if(s==="input"||s==="change")return pd(a)}function mP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Sr=typeof Object.is=="function"?Object.is:mP;function lu(s,a){if(Sr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(a,m)||!Sr(s[m],a[m]))return!1}return!0}function Bv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zv(s,a){var u=Bv(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Bv(u)}}function Wv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Wv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Hv(){for(var s=window,a=mr();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=mr(s.document)}return a}function wp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function gP(s){var a=Hv(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Wv(u.ownerDocument.documentElement,u)){if(f!==null&&wp(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!s.extend&&_>f&&(m=f,f=_,_=m),m=zv(u,_);var C=zv(u,f);m&&C&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),_>f?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yP=c&&"documentMode"in document&&11>=document.documentMode,Pa=null,Ep=null,uu=null,Tp=!1;function qv(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tp||Pa==null||Pa!==mr(f)||(f=Pa,"selectionStart"in f&&wp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),uu&&lu(uu,f)||(uu=f,f=_d(Ep,"onSelect"),0<f.length&&(a=new Ea("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Pa)))}function md(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var ka={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},Ip={},Kv={};c&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function gd(s){if(Ip[s])return Ip[s];if(!ka[s])return s;var a=ka[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Kv)return Ip[s]=a[u];return s}var Gv=gd("animationend"),Qv=gd("animationiteration"),Yv=gd("animationstart"),Xv=gd("transitionend"),Jv=new Map,Zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(s,a){Jv.set(s,a),o(a,[s])}for(var Cp=0;Cp<Zv.length;Cp++){var Sp=Zv[Cp],_P=Sp.toLowerCase(),vP=Sp[0].toUpperCase()+Sp.slice(1);ds(_P,"on"+vP)}ds(Gv,"onAnimationEnd"),ds(Qv,"onAnimationIteration"),ds(Yv,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(Xv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wP=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function ew(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,qc(f,a,void 0,s),s.currentTarget=null}function tw(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var C=f.length-1;0<=C;C--){var O=f[C],F=O.instance,G=O.currentTarget;if(O=O.listener,F!==_&&m.isPropagationStopped())break e;ew(m,O,G),_=F}else for(C=0;C<f.length;C++){if(O=f[C],F=O.instance,G=O.currentTarget,O=O.listener,F!==_&&m.isPropagationStopped())break e;ew(m,O,G),_=F}}}if(yr)throw s=Gl,yr=!1,Gl=null,s}function st(s,a){var u=a[Dp];u===void 0&&(u=a[Dp]=new Set);var f=s+"__bubble";u.has(f)||(nw(a,s,2,!1),u.add(f))}function xp(s,a,u){var f=0;a&&(f|=4),nw(u,s,f,a)}var yd="_reactListening"+Math.random().toString(36).slice(2);function du(s){if(!s[yd]){s[yd]=!0,r.forEach(function(u){u!=="selectionchange"&&(wP.has(u)||xp(u,!1,s),xp(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[yd]||(a[yd]=!0,xp("selectionchange",!1,a))}}function nw(s,a,u,f){switch(tu(a)){case 1:var m=ht;break;case 4:m=gp;break;default:m=eu}u=m.bind(null,a,u,s),m=void 0,!ca||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(a,u,{capture:!0,passive:m}):s.addEventListener(a,u,!0):m!==void 0?s.addEventListener(a,u,{passive:m}):s.addEventListener(a,u,!1)}function Rp(s,a,u,f,m){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var O=f.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(C===4)for(C=f.return;C!==null;){var F=C.tag;if((F===3||F===4)&&(F=C.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;C=C.return}for(;O!==null;){if(C=Co(O),C===null)return;if(F=C.tag,F===5||F===6){f=_=C;continue e}O=O.parentNode}}f=f.return}Kl(function(){var G=_,ne=aa(u),re=[];e:{var te=Jv.get(s);if(te!==void 0){var de=Ea,ge=s;switch(s){case"keypress":if(wa(u)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":ge="focus",de=Sa;break;case"focusout":ge="blur",de=Sa;break;case"beforeblur":case"afterblur":de=Sa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case Gv:case Qv:case Yv:de=_i;break;case Xv:de=Je;break;case"scroll":de=yp;break;case"wheel":de=Be;break;case"copy":case"cut":case"paste":de=cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=A}var ye=(a&4)!==0,Ct=!ye&&s==="scroll",H=ye?te!==null?te+"Capture":null:te;ye=[];for(var $=G,K;$!==null;){K=$;var oe=K.stateNode;if(K.tag===5&&oe!==null&&(K=oe,H!==null&&(oe=It($,H),oe!=null&&ye.push(hu($,oe,K)))),Ct)break;$=$.return}0<ye.length&&(te=new de(te,ge,null,u,ne),re.push({event:te,listeners:ye}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",te&&u!==co&&(ge=u.relatedTarget||u.fromElement)&&(Co(ge)||ge[vi]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(ge=u.relatedTarget||u.toElement,de=G,ge=ge?Co(ge):null,ge!==null&&(Ct=_r(ge),ge!==Ct||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=G),de!==ge)){if(ye=Ia,oe="onMouseLeave",H="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ye=A,oe="onPointerLeave",H="onPointerEnter",$="pointer"),Ct=de==null?te:Da(de),K=ge==null?te:Da(ge),te=new ye(oe,$+"leave",de,u,ne),te.target=Ct,te.relatedTarget=K,oe=null,Co(ne)===G&&(ye=new ye(H,$+"enter",ge,u,ne),ye.target=K,ye.relatedTarget=Ct,oe=ye),Ct=oe,de&&ge)t:{for(ye=de,H=ge,$=0,K=ye;K;K=ba(K))$++;for(K=0,oe=H;oe;oe=ba(oe))K++;for(;0<$-K;)ye=ba(ye),$--;for(;0<K-$;)H=ba(H),K--;for(;$--;){if(ye===H||H!==null&&ye===H.alternate)break t;ye=ba(ye),H=ba(H)}ye=null}else ye=null;de!==null&&rw(re,te,de,ye,!1),ge!==null&&Ct!==null&&rw(re,Ct,ge,ye,!0)}}e:{if(te=G?Da(G):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var _e=cP;else if(Mv(te))if(jv)_e=pP;else{_e=hP;var we=dP}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(_e=fP);if(_e&&(_e=_e(s,G))){Vv(re,_e,u,ne);break e}we&&we(s,te,G),s==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&Ji(te,"number",te.value)}switch(we=G?Da(G):window,s){case"focusin":(Mv(we)||we.contentEditable==="true")&&(Pa=we,Ep=G,uu=null);break;case"focusout":uu=Ep=Pa=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,qv(re,u,ne);break;case"selectionchange":if(yP)break;case"keydown":case"keyup":qv(re,u,ne)}var Ee;if(Rt)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Aa?Ov(s,u)&&(Pe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(Io&&u.locale!=="ko"&&(Aa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Aa&&(Ee=nu()):(Fn=ne,va="value"in Fn?Fn.value:Fn.textContent,Aa=!0)),we=_d(G,Pe),0<we.length&&(Pe=new su(Pe,s,null,u,ne),re.push({event:Pe,listeners:we}),Ee?Pe.data=Ee:(Ee=Lv(u),Ee!==null&&(Pe.data=Ee)))),(Ee=Un?oP(s,u):aP(s,u))&&(G=_d(G,"onBeforeInput"),0<G.length&&(ne=new su("onBeforeInput","beforeinput",null,u,ne),re.push({event:ne,listeners:G}),ne.data=Ee))}tw(re,a)})}function hu(s,a,u){return{instance:s,listener:a,currentTarget:u}}function _d(s,a){for(var u=a+"Capture",f=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=It(s,u),_!=null&&f.unshift(hu(s,_,m)),_=It(s,a),_!=null&&f.push(hu(s,_,m))),s=s.return}return f}function ba(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function rw(s,a,u,f,m){for(var _=a._reactName,C=[];u!==null&&u!==f;){var O=u,F=O.alternate,G=O.stateNode;if(F!==null&&F===f)break;O.tag===5&&G!==null&&(O=G,m?(F=It(u,_),F!=null&&C.unshift(hu(u,F,O))):m||(F=It(u,_),F!=null&&C.push(hu(u,F,O)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var EP=/\r\n?/g,TP=/\u0000|\uFFFD/g;function iw(s){return(typeof s=="string"?s:""+s).replace(EP,`
`).replace(TP,"")}function vd(s,a,u){if(a=iw(a),iw(s)!==a&&u)throw Error(t(425))}function wd(){}var Ap=null,Pp=null;function kp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,IP=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,CP=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(s){return sw.resolve(null).then(s).catch(SP)}:bp;function SP(s){setTimeout(function(){throw s})}function Np(s,a){var u=a,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),Ir(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Ir(a)}function hs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function ow(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Na=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Na,fu="__reactProps$"+Na,vi="__reactContainer$"+Na,Dp="__reactEvents$"+Na,xP="__reactListeners$"+Na,RP="__reactHandles$"+Na;function Co(s){var a=s[Kr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[vi]||u[Kr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=ow(s);s!==null;){if(u=s[Kr])return u;s=ow(s)}return a}s=u,u=s.parentNode}return null}function pu(s){return s=s[Kr]||s[vi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Da(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Ed(s){return s[fu]||null}var Op=[],Oa=-1;function fs(s){return{current:s}}function ot(s){0>Oa||(s.current=Op[Oa],Op[Oa]=null,Oa--)}function rt(s,a){Oa++,Op[Oa]=s.current,s.current=a}var ps={},en=fs(ps),Cn=fs(!1),So=ps;function La(s,a){var u=s.type.contextTypes;if(!u)return ps;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=a[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function Sn(s){return s=s.childContextTypes,s!=null}function Td(){ot(Cn),ot(en)}function aw(s,a,u){if(en.current!==ps)throw Error(t(168));rt(en,a),rt(Cn,u)}function lw(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in a))throw Error(t(108,Ve(s)||"Unknown",m));return se({},u,f)}function Id(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ps,So=en.current,rt(en,s),rt(Cn,Cn.current),!0}function uw(s,a,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=lw(s,a,So),f.__reactInternalMemoizedMergedChildContext=s,ot(Cn),ot(en),rt(en,s)):ot(Cn),rt(Cn,u)}var wi=null,Cd=!1,Lp=!1;function cw(s){wi===null?wi=[s]:wi.push(s)}function AP(s){Cd=!0,cw(s)}function ms(){if(!Lp&&wi!==null){Lp=!0;var s=0,a=Fe;try{var u=wi;for(Fe=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}wi=null,Cd=!1}catch(m){throw wi!==null&&(wi=wi.slice(s+1)),pa(go,ms),m}finally{Fe=a,Lp=!1}}return null}var Ma=[],Va=0,Sd=null,xd=0,tr=[],nr=0,xo=null,Ei=1,Ti="";function Ro(s,a){Ma[Va++]=xd,Ma[Va++]=Sd,Sd=s,xd=a}function dw(s,a,u){tr[nr++]=Ei,tr[nr++]=Ti,tr[nr++]=xo,xo=s;var f=Ei;s=Ti;var m=32-mn(f)-1;f&=~(1<<m),u+=1;var _=32-mn(a)+m;if(30<_){var C=m-m%5;_=(f&(1<<C)-1).toString(32),f>>=C,m-=C,Ei=1<<32-mn(a)+m|u<<m|f,Ti=_+s}else Ei=1<<_|u<<m|f,Ti=s}function Mp(s){s.return!==null&&(Ro(s,1),dw(s,1,0))}function Vp(s){for(;s===Sd;)Sd=Ma[--Va],Ma[Va]=null,xd=Ma[--Va],Ma[Va]=null;for(;s===xo;)xo=tr[--nr],tr[nr]=null,Ti=tr[--nr],tr[nr]=null,Ei=tr[--nr],tr[nr]=null}var $n=null,Bn=null,ft=!1,xr=null;function hw(s,a){var u=or(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function fw(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,$n=s,Bn=hs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,$n=s,Bn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=xo!==null?{id:Ei,overflow:Ti}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=or(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,$n=s,Bn=null,!0):!1;default:return!1}}function jp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Fp(s){if(ft){var a=Bn;if(a){var u=a;if(!fw(s,a)){if(jp(s))throw Error(t(418));a=hs(u.nextSibling);var f=$n;a&&fw(s,a)?hw(f,u):(s.flags=s.flags&-4097|2,ft=!1,$n=s)}}else{if(jp(s))throw Error(t(418));s.flags=s.flags&-4097|2,ft=!1,$n=s}}}function pw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;$n=s}function Rd(s){if(s!==$n)return!1;if(!ft)return pw(s),ft=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!kp(s.type,s.memoizedProps)),a&&(a=Bn)){if(jp(s))throw mw(),Error(t(418));for(;a;)hw(s,a),a=hs(a.nextSibling)}if(pw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Bn=hs(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Bn=null}}else Bn=$n?hs(s.stateNode.nextSibling):null;return!0}function mw(){for(var s=Bn;s;)s=hs(s.nextSibling)}function ja(){Bn=$n=null,ft=!1}function Up(s){xr===null?xr=[s]:xr.push(s)}var PP=q.ReactCurrentBatchConfig;function mu(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(C){var O=m.refs;C===null?delete O[_]:O[_]=C},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Ad(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function gw(s){var a=s._init;return a(s._payload)}function yw(s){function a(H,$){if(s){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function u(H,$){if(!s)return null;for(;$!==null;)a(H,$),$=$.sibling;return null}function f(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function m(H,$){return H=Is(H,$),H.index=0,H.sibling=null,H}function _(H,$,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function C(H){return s&&H.alternate===null&&(H.flags|=2),H}function O(H,$,K,oe){return $===null||$.tag!==6?($=bm(K,H.mode,oe),$.return=H,$):($=m($,K),$.return=H,$)}function F(H,$,K,oe){var _e=K.type;return _e===N?ne(H,$,K.props.children,oe,K.key):$!==null&&($.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Re&&gw(_e)===$.type)?(oe=m($,K.props),oe.ref=mu(H,$,K),oe.return=H,oe):(oe=Jd(K.type,K.key,K.props,null,H.mode,oe),oe.ref=mu(H,$,K),oe.return=H,oe)}function G(H,$,K,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Nm(K,H.mode,oe),$.return=H,$):($=m($,K.children||[]),$.return=H,$)}function ne(H,$,K,oe,_e){return $===null||$.tag!==7?($=Lo(K,H.mode,oe,_e),$.return=H,$):($=m($,K),$.return=H,$)}function re(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=bm(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case X:return K=Jd($.type,$.key,$.props,null,H.mode,K),K.ref=mu(H,null,$),K.return=H,K;case Z:return $=Nm($,H.mode,K),$.return=H,$;case Re:var oe=$._init;return re(H,oe($._payload),K)}if(qt($)||ue($))return $=Lo($,H.mode,K,null),$.return=H,$;Ad(H,$)}return null}function te(H,$,K,oe){var _e=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return _e!==null?null:O(H,$,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X:return K.key===_e?F(H,$,K,oe):null;case Z:return K.key===_e?G(H,$,K,oe):null;case Re:return _e=K._init,te(H,$,_e(K._payload),oe)}if(qt(K)||ue(K))return _e!==null?null:ne(H,$,K,oe,null);Ad(H,K)}return null}function de(H,$,K,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(K)||null,O($,H,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return H=H.get(oe.key===null?K:oe.key)||null,F($,H,oe,_e);case Z:return H=H.get(oe.key===null?K:oe.key)||null,G($,H,oe,_e);case Re:var we=oe._init;return de(H,$,K,we(oe._payload),_e)}if(qt(oe)||ue(oe))return H=H.get(K)||null,ne($,H,oe,_e,null);Ad($,oe)}return null}function ge(H,$,K,oe){for(var _e=null,we=null,Ee=$,Pe=$=0,$t=null;Ee!==null&&Pe<K.length;Pe++){Ee.index>Pe?($t=Ee,Ee=null):$t=Ee.sibling;var Ge=te(H,Ee,K[Pe],oe);if(Ge===null){Ee===null&&(Ee=$t);break}s&&Ee&&Ge.alternate===null&&a(H,Ee),$=_(Ge,$,Pe),we===null?_e=Ge:we.sibling=Ge,we=Ge,Ee=$t}if(Pe===K.length)return u(H,Ee),ft&&Ro(H,Pe),_e;if(Ee===null){for(;Pe<K.length;Pe++)Ee=re(H,K[Pe],oe),Ee!==null&&($=_(Ee,$,Pe),we===null?_e=Ee:we.sibling=Ee,we=Ee);return ft&&Ro(H,Pe),_e}for(Ee=f(H,Ee);Pe<K.length;Pe++)$t=de(Ee,H,Pe,K[Pe],oe),$t!==null&&(s&&$t.alternate!==null&&Ee.delete($t.key===null?Pe:$t.key),$=_($t,$,Pe),we===null?_e=$t:we.sibling=$t,we=$t);return s&&Ee.forEach(function(Cs){return a(H,Cs)}),ft&&Ro(H,Pe),_e}function ye(H,$,K,oe){var _e=ue(K);if(typeof _e!="function")throw Error(t(150));if(K=_e.call(K),K==null)throw Error(t(151));for(var we=_e=null,Ee=$,Pe=$=0,$t=null,Ge=K.next();Ee!==null&&!Ge.done;Pe++,Ge=K.next()){Ee.index>Pe?($t=Ee,Ee=null):$t=Ee.sibling;var Cs=te(H,Ee,Ge.value,oe);if(Cs===null){Ee===null&&(Ee=$t);break}s&&Ee&&Cs.alternate===null&&a(H,Ee),$=_(Cs,$,Pe),we===null?_e=Cs:we.sibling=Cs,we=Cs,Ee=$t}if(Ge.done)return u(H,Ee),ft&&Ro(H,Pe),_e;if(Ee===null){for(;!Ge.done;Pe++,Ge=K.next())Ge=re(H,Ge.value,oe),Ge!==null&&($=_(Ge,$,Pe),we===null?_e=Ge:we.sibling=Ge,we=Ge);return ft&&Ro(H,Pe),_e}for(Ee=f(H,Ee);!Ge.done;Pe++,Ge=K.next())Ge=de(Ee,H,Pe,Ge.value,oe),Ge!==null&&(s&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Pe:Ge.key),$=_(Ge,$,Pe),we===null?_e=Ge:we.sibling=Ge,we=Ge);return s&&Ee.forEach(function(lk){return a(H,lk)}),ft&&Ro(H,Pe),_e}function Ct(H,$,K,oe){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case X:e:{for(var _e=K.key,we=$;we!==null;){if(we.key===_e){if(_e=K.type,_e===N){if(we.tag===7){u(H,we.sibling),$=m(we,K.props.children),$.return=H,H=$;break e}}else if(we.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Re&&gw(_e)===we.type){u(H,we.sibling),$=m(we,K.props),$.ref=mu(H,we,K),$.return=H,H=$;break e}u(H,we);break}else a(H,we);we=we.sibling}K.type===N?($=Lo(K.props.children,H.mode,oe,K.key),$.return=H,H=$):(oe=Jd(K.type,K.key,K.props,null,H.mode,oe),oe.ref=mu(H,$,K),oe.return=H,H=oe)}return C(H);case Z:e:{for(we=K.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){u(H,$.sibling),$=m($,K.children||[]),$.return=H,H=$;break e}else{u(H,$);break}else a(H,$);$=$.sibling}$=Nm(K,H.mode,oe),$.return=H,H=$}return C(H);case Re:return we=K._init,Ct(H,$,we(K._payload),oe)}if(qt(K))return ge(H,$,K,oe);if(ue(K))return ye(H,$,K,oe);Ad(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(u(H,$.sibling),$=m($,K),$.return=H,H=$):(u(H,$),$=bm(K,H.mode,oe),$.return=H,H=$),C(H)):u(H,$)}return Ct}var Fa=yw(!0),_w=yw(!1),Pd=fs(null),kd=null,Ua=null,$p=null;function Bp(){$p=Ua=kd=null}function zp(s){var a=Pd.current;ot(Pd),s._currentValue=a}function Wp(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function $a(s,a){kd=s,$p=Ua=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(xn=!0),s.firstContext=null)}function rr(s){var a=s._currentValue;if($p!==s)if(s={context:s,memoizedValue:a,next:null},Ua===null){if(kd===null)throw Error(t(308));Ua=s,kd.dependencies={lanes:0,firstContext:s}}else Ua=Ua.next=s;return a}var Ao=null;function Hp(s){Ao===null?Ao=[s]:Ao.push(s)}function vw(s,a,u,f){var m=a.interleaved;return m===null?(u.next=u,Hp(a)):(u.next=m.next,m.next=u),a.interleaved=u,Ii(s,f)}function Ii(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var gs=!1;function qp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ww(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ci(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ys(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ke&2)!==0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,Ii(s,u)}return m=f.interleaved,m===null?(a.next=a,Hp(f)):(a.next=m.next,m.next=a),f.interleaved=a,Ii(s,u)}function bd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,os(s,u)}}function Ew(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=C:_=_.next=C,u=u.next}while(u!==null);_===null?m=_=a:_=_.next=a}else m=_=a;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Nd(s,a,u,f){var m=s.updateQueue;gs=!1;var _=m.firstBaseUpdate,C=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var F=O,G=F.next;F.next=null,C===null?_=G:C.next=G,C=F;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==C&&(O===null?ne.firstBaseUpdate=G:O.next=G,ne.lastBaseUpdate=F))}if(_!==null){var re=m.baseState;C=0,ne=G=F=null,O=_;do{var te=O.lane,de=O.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ge=s,ye=O;switch(te=a,de=u,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){re=ge.call(de,re,te);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,te=typeof ge=="function"?ge.call(de,re,te):ge,te==null)break e;re=se({},re,te);break e;case 2:gs=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,te=m.effects,te===null?m.effects=[O]:te.push(O))}else de={eventTime:de,lane:te,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(G=ne=de,F=re):ne=ne.next=de,C|=te;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;te=O,O=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(F=re),m.baseState=F,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,a=m.shared.interleaved,a!==null){m=a;do C|=m.lane,m=m.next;while(m!==a)}else _===null&&(m.shared.lanes=0);bo|=C,s.lanes=C,s.memoizedState=re}}function Tw(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var gu={},Gr=fs(gu),yu=fs(gu),_u=fs(gu);function Po(s){if(s===gu)throw Error(t(174));return s}function Kp(s,a){switch(rt(_u,a),rt(yu,s),rt(Gr,gu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:_t(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=_t(a,s)}ot(Gr),rt(Gr,a)}function Ba(){ot(Gr),ot(yu),ot(_u)}function Iw(s){Po(_u.current);var a=Po(Gr.current),u=_t(a,s.type);a!==u&&(rt(yu,s),rt(Gr,u))}function Gp(s){yu.current===s&&(ot(Gr),ot(yu))}var mt=fs(0);function Dd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qp=[];function Yp(){for(var s=0;s<Qp.length;s++)Qp[s]._workInProgressVersionPrimary=null;Qp.length=0}var Od=q.ReactCurrentDispatcher,Xp=q.ReactCurrentBatchConfig,ko=0,gt=null,Ot=null,Ft=null,Ld=!1,vu=!1,wu=0,kP=0;function tn(){throw Error(t(321))}function Jp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Sr(s[u],a[u]))return!1;return!0}function Zp(s,a,u,f,m,_){if(ko=_,gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Od.current=s===null||s.memoizedState===null?OP:LP,s=u(f,m),vu){_=0;do{if(vu=!1,wu=0,25<=_)throw Error(t(301));_+=1,Ft=Ot=null,a.updateQueue=null,Od.current=MP,s=u(f,m)}while(vu)}if(Od.current=jd,a=Ot!==null&&Ot.next!==null,ko=0,Ft=Ot=gt=null,Ld=!1,a)throw Error(t(300));return s}function em(){var s=wu!==0;return wu=0,s}function Qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?gt.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function ir(){if(Ot===null){var s=gt.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var a=Ft===null?gt.memoizedState:Ft.next;if(a!==null)Ft=a,Ot=s;else{if(s===null)throw Error(t(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ft===null?gt.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function Eu(s,a){return typeof a=="function"?a(s):a}function tm(s){var a=ir(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=Ot,m=f.baseQueue,_=u.pending;if(_!==null){if(m!==null){var C=m.next;m.next=_.next,_.next=C}f.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,f=f.baseState;var O=C=null,F=null,G=_;do{var ne=G.lane;if((ko&ne)===ne)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:s(f,G.action);else{var re={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(O=F=re,C=f):F=F.next=re,gt.lanes|=ne,bo|=ne}G=G.next}while(G!==null&&G!==_);F===null?C=f:F.next=O,Sr(f,a.memoizedState)||(xn=!0),a.memoizedState=f,a.baseState=C,a.baseQueue=F,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do _=m.lane,gt.lanes|=_,bo|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function nm(s){var a=ir(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,_=a.memoizedState;if(m!==null){u.pending=null;var C=m=m.next;do _=s(_,C.action),C=C.next;while(C!==m);Sr(_,a.memoizedState)||(xn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,f]}function Cw(){}function Sw(s,a){var u=gt,f=ir(),m=a(),_=!Sr(f.memoizedState,m);if(_&&(f.memoizedState=m,xn=!0),f=f.queue,rm(Aw.bind(null,u,f,s),[s]),f.getSnapshot!==a||_||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,Tu(9,Rw.bind(null,u,f,m,a),void 0,null),Ut===null)throw Error(t(349));(ko&30)!==0||xw(u,a,m)}return m}function xw(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=gt.updateQueue,a===null?(a={lastEffect:null,stores:null},gt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Rw(s,a,u,f){a.value=u,a.getSnapshot=f,Pw(a)&&kw(s)}function Aw(s,a,u){return u(function(){Pw(a)&&kw(s)})}function Pw(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Sr(s,u)}catch{return!0}}function kw(s){var a=Ii(s,1);a!==null&&kr(a,s,1,-1)}function bw(s){var a=Qr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:s},a.queue=s,s=s.dispatch=DP.bind(null,gt,s),[a.memoizedState,s]}function Tu(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=gt.updateQueue,a===null?(a={lastEffect:null,stores:null},gt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function Nw(){return ir().memoizedState}function Md(s,a,u,f){var m=Qr();gt.flags|=s,m.memoizedState=Tu(1|a,u,void 0,f===void 0?null:f)}function Vd(s,a,u,f){var m=ir();f=f===void 0?null:f;var _=void 0;if(Ot!==null){var C=Ot.memoizedState;if(_=C.destroy,f!==null&&Jp(f,C.deps)){m.memoizedState=Tu(a,u,_,f);return}}gt.flags|=s,m.memoizedState=Tu(1|a,u,_,f)}function Dw(s,a){return Md(8390656,8,s,a)}function rm(s,a){return Vd(2048,8,s,a)}function Ow(s,a){return Vd(4,2,s,a)}function Lw(s,a){return Vd(4,4,s,a)}function Mw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Vw(s,a,u){return u=u!=null?u.concat([s]):null,Vd(4,4,Mw.bind(null,a,s),u)}function im(){}function jw(s,a){var u=ir();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Jp(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function Fw(s,a){var u=ir();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&Jp(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function Uw(s,a,u){return(ko&21)===0?(s.baseState&&(s.baseState=!1,xn=!0),s.memoizedState=u):(Sr(u,a)||(u=vo(),gt.lanes|=u,bo|=u,s.baseState=!0),a)}function bP(s,a){var u=Fe;Fe=u!==0&&4>u?u:4,s(!0);var f=Xp.transition;Xp.transition={};try{s(!1),a()}finally{Fe=u,Xp.transition=f}}function $w(){return ir().memoizedState}function NP(s,a,u){var f=Es(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Bw(s))zw(a,u);else if(u=vw(s,a,u,f),u!==null){var m=_n();kr(u,s,f,m),Ww(u,a,f)}}function DP(s,a,u){var f=Es(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bw(s))zw(a,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var C=a.lastRenderedState,O=_(C,u);if(m.hasEagerState=!0,m.eagerState=O,Sr(O,C)){var F=a.interleaved;F===null?(m.next=m,Hp(a)):(m.next=F.next,F.next=m),a.interleaved=m;return}}catch{}finally{}u=vw(s,a,m,f),u!==null&&(m=_n(),kr(u,s,f,m),Ww(u,a,f))}}function Bw(s){var a=s.alternate;return s===gt||a!==null&&a===gt}function zw(s,a){vu=Ld=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Ww(s,a,u){if((u&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,os(s,u)}}var jd={readContext:rr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},OP={readContext:rr,useCallback:function(s,a){return Qr().memoizedState=[s,a===void 0?null:a],s},useContext:rr,useEffect:Dw,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Md(4194308,4,Mw.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Md(4194308,4,s,a)},useInsertionEffect:function(s,a){return Md(4,2,s,a)},useMemo:function(s,a){var u=Qr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=Qr();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=NP.bind(null,gt,s),[f.memoizedState,s]},useRef:function(s){var a=Qr();return s={current:s},a.memoizedState=s},useState:bw,useDebugValue:im,useDeferredValue:function(s){return Qr().memoizedState=s},useTransition:function(){var s=bw(!1),a=s[0];return s=bP.bind(null,s[1]),Qr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=gt,m=Qr();if(ft){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Ut===null)throw Error(t(349));(ko&30)!==0||xw(f,a,u)}m.memoizedState=u;var _={value:u,getSnapshot:a};return m.queue=_,Dw(Aw.bind(null,f,_,s),[s]),f.flags|=2048,Tu(9,Rw.bind(null,f,_,u,a),void 0,null),u},useId:function(){var s=Qr(),a=Ut.identifierPrefix;if(ft){var u=Ti,f=Ei;u=(f&~(1<<32-mn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=wu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=kP++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},LP={readContext:rr,useCallback:jw,useContext:rr,useEffect:rm,useImperativeHandle:Vw,useInsertionEffect:Ow,useLayoutEffect:Lw,useMemo:Fw,useReducer:tm,useRef:Nw,useState:function(){return tm(Eu)},useDebugValue:im,useDeferredValue:function(s){var a=ir();return Uw(a,Ot.memoizedState,s)},useTransition:function(){var s=tm(Eu)[0],a=ir().memoizedState;return[s,a]},useMutableSource:Cw,useSyncExternalStore:Sw,useId:$w,unstable_isNewReconciler:!1},MP={readContext:rr,useCallback:jw,useContext:rr,useEffect:rm,useImperativeHandle:Vw,useInsertionEffect:Ow,useLayoutEffect:Lw,useMemo:Fw,useReducer:nm,useRef:Nw,useState:function(){return nm(Eu)},useDebugValue:im,useDeferredValue:function(s){var a=ir();return Ot===null?a.memoizedState=s:Uw(a,Ot.memoizedState,s)},useTransition:function(){var s=nm(Eu)[0],a=ir().memoizedState;return[s,a]},useMutableSource:Cw,useSyncExternalStore:Sw,useId:$w,unstable_isNewReconciler:!1};function Rr(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function sm(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:se({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Fd={isMounted:function(s){return(s=s._reactInternals)?_r(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=_n(),m=Es(s),_=Ci(f,m);_.payload=a,u!=null&&(_.callback=u),a=ys(s,_,m),a!==null&&(kr(a,s,m,f),bd(a,s,m))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=_n(),m=Es(s),_=Ci(f,m);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=ys(s,_,m),a!==null&&(kr(a,s,m,f),bd(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=_n(),f=Es(s),m=Ci(u,f);m.tag=2,a!=null&&(m.callback=a),a=ys(s,m,f),a!==null&&(kr(a,s,f,u),bd(a,s,f))}};function Hw(s,a,u,f,m,_,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,C):a.prototype&&a.prototype.isPureReactComponent?!lu(u,f)||!lu(m,_):!0}function qw(s,a,u){var f=!1,m=ps,_=a.contextType;return typeof _=="object"&&_!==null?_=rr(_):(m=Sn(a)?So:en.current,f=a.contextTypes,_=(f=f!=null)?La(s,m):ps),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Fd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),a}function Kw(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Fd.enqueueReplaceState(a,a.state,null)}function om(s,a,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},qp(s);var _=a.contextType;typeof _=="object"&&_!==null?m.context=rr(_):(_=Sn(a)?So:en.current,m.context=La(s,_)),m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sm(s,a,_,u),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Fd.enqueueReplaceState(m,m.state,null),Nd(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function za(s,a){try{var u="",f=a;do u+=Ae(f),f=f.return;while(f);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:m,digest:null}}function am(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function lm(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var VP=typeof WeakMap=="function"?WeakMap:Map;function Gw(s,a,u){u=Ci(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){qd||(qd=!0,Im=f),lm(s,a)},u}function Qw(s,a,u){u=Ci(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;u.payload=function(){return f(m)},u.callback=function(){lm(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){lm(s,a),typeof f!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),u}function Yw(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new VP;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(u)||(m.add(u),s=XP.bind(null,s,a,u),a.then(s,s))}function Xw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Jw(s,a,u,f,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ci(-1,1),a.tag=2,ys(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var jP=q.ReactCurrentOwner,xn=!1;function yn(s,a,u,f){a.child=s===null?_w(a,null,u,f):Fa(a,s.child,u,f)}function Zw(s,a,u,f,m){u=u.render;var _=a.ref;return $a(a,m),f=Zp(s,a,u,f,_,m),u=em(),s!==null&&!xn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,Si(s,a,m)):(ft&&u&&Mp(a),a.flags|=1,yn(s,a,f,m),a.child)}function e0(s,a,u,f,m){if(s===null){var _=u.type;return typeof _=="function"&&!km(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,t0(s,a,_,f,m)):(s=Jd(u.type,null,f,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&m)===0){var C=_.memoizedProps;if(u=u.compare,u=u!==null?u:lu,u(C,f)&&s.ref===a.ref)return Si(s,a,m)}return a.flags|=1,s=Is(_,f),s.ref=a.ref,s.return=a,a.child=s}function t0(s,a,u,f,m){if(s!==null){var _=s.memoizedProps;if(lu(_,f)&&s.ref===a.ref)if(xn=!1,a.pendingProps=f=_,(s.lanes&m)!==0)(s.flags&131072)!==0&&(xn=!0);else return a.lanes=s.lanes,Si(s,a,m)}return um(s,a,u,f,m)}function n0(s,a,u){var f=a.pendingProps,m=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ha,zn),zn|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,rt(Ha,zn),zn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,rt(Ha,zn),zn|=f}else _!==null?(f=_.baseLanes|u,a.memoizedState=null):f=u,rt(Ha,zn),zn|=f;return yn(s,a,m,u),a.child}function r0(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function um(s,a,u,f,m){var _=Sn(u)?So:en.current;return _=La(a,_),$a(a,m),u=Zp(s,a,u,f,_,m),f=em(),s!==null&&!xn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,Si(s,a,m)):(ft&&f&&Mp(a),a.flags|=1,yn(s,a,u,m),a.child)}function i0(s,a,u,f,m){if(Sn(u)){var _=!0;Id(a)}else _=!1;if($a(a,m),a.stateNode===null)$d(s,a),qw(a,u,f),om(a,u,f,m),f=!0;else if(s===null){var C=a.stateNode,O=a.memoizedProps;C.props=O;var F=C.context,G=u.contextType;typeof G=="object"&&G!==null?G=rr(G):(G=Sn(u)?So:en.current,G=La(a,G));var ne=u.getDerivedStateFromProps,re=typeof ne=="function"||typeof C.getSnapshotBeforeUpdate=="function";re||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==f||F!==G)&&Kw(a,C,f,G),gs=!1;var te=a.memoizedState;C.state=te,Nd(a,f,C,m),F=a.memoizedState,O!==f||te!==F||Cn.current||gs?(typeof ne=="function"&&(sm(a,u,ne,f),F=a.memoizedState),(O=gs||Hw(a,u,O,f,te,F,G))?(re||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=F),C.props=f,C.state=F,C.context=G,f=O):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{C=a.stateNode,ww(s,a),O=a.memoizedProps,G=a.type===a.elementType?O:Rr(a.type,O),C.props=G,re=a.pendingProps,te=C.context,F=u.contextType,typeof F=="object"&&F!==null?F=rr(F):(F=Sn(u)?So:en.current,F=La(a,F));var de=u.getDerivedStateFromProps;(ne=typeof de=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==re||te!==F)&&Kw(a,C,f,F),gs=!1,te=a.memoizedState,C.state=te,Nd(a,f,C,m);var ge=a.memoizedState;O!==re||te!==ge||Cn.current||gs?(typeof de=="function"&&(sm(a,u,de,f),ge=a.memoizedState),(G=gs||Hw(a,u,G,f,te,ge,F)||!1)?(ne||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,ge,F),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,ge,F)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ge),C.props=f,C.state=ge,C.context=F,f=G):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),f=!1)}return cm(s,a,u,f,_,m)}function cm(s,a,u,f,m,_){r0(s,a);var C=(a.flags&128)!==0;if(!f&&!C)return m&&uw(a,u,!1),Si(s,a,_);f=a.stateNode,jP.current=a;var O=C&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&C?(a.child=Fa(a,s.child,null,_),a.child=Fa(a,null,O,_)):yn(s,a,O,_),a.memoizedState=f.state,m&&uw(a,u,!0),a.child}function s0(s){var a=s.stateNode;a.pendingContext?aw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&aw(s,a.context,!1),Kp(s,a.containerInfo)}function o0(s,a,u,f,m){return ja(),Up(m),a.flags|=256,yn(s,a,u,f),a.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function hm(s){return{baseLanes:s,cachePool:null,transitions:null}}function a0(s,a,u){var f=a.pendingProps,m=mt.current,_=!1,C=(a.flags&128)!==0,O;if((O=C)||(O=s!==null&&s.memoizedState===null?!1:(m&2)!==0),O?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),rt(mt,m&1),s===null)return Fp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=f.children,s=f.fallback,_?(f=a.mode,_=a.child,C={mode:"hidden",children:C},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=Zd(C,f,0,null),s=Lo(s,f,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=hm(u),a.memoizedState=dm,s):fm(a,C));if(m=s.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return FP(s,a,C,f,O,m,u);if(_){_=f.fallback,C=a.mode,m=s.child,O=m.sibling;var F={mode:"hidden",children:f.children};return(C&1)===0&&a.child!==m?(f=a.child,f.childLanes=0,f.pendingProps=F,a.deletions=null):(f=Is(m,F),f.subtreeFlags=m.subtreeFlags&14680064),O!==null?_=Is(O,_):(_=Lo(_,C,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,C=s.child.memoizedState,C=C===null?hm(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=s.childLanes&~u,a.memoizedState=dm,f}return _=s.child,s=_.sibling,f=Is(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function fm(s,a){return a=Zd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ud(s,a,u,f){return f!==null&&Up(f),Fa(a,s.child,null,u),s=fm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function FP(s,a,u,f,m,_,C){if(u)return a.flags&256?(a.flags&=-257,f=am(Error(t(422))),Ud(s,a,C,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=f.fallback,m=a.mode,f=Zd({mode:"visible",children:f.children},m,0,null),_=Lo(_,m,C,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&Fa(a,s.child,null,C),a.child.memoizedState=hm(C),a.memoizedState=dm,_);if((a.mode&1)===0)return Ud(s,a,C,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var O=f.dgst;return f=O,_=Error(t(419)),f=am(_,f,void 0),Ud(s,a,C,f)}if(O=(C&s.childLanes)!==0,xn||O){if(f=Ut,f!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|C))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Ii(s,m),kr(f,s,m,-1))}return Pm(),f=am(Error(t(421))),Ud(s,a,C,f)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=JP.bind(null,s),m._reactRetry=a,null):(s=_.treeContext,Bn=hs(m.nextSibling),$n=a,ft=!0,xr=null,s!==null&&(tr[nr++]=Ei,tr[nr++]=Ti,tr[nr++]=xo,Ei=s.id,Ti=s.overflow,xo=a),a=fm(a,f.children),a.flags|=4096,a)}function l0(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Wp(s.return,a,u)}function pm(s,a,u,f,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m)}function u0(s,a,u){var f=a.pendingProps,m=f.revealOrder,_=f.tail;if(yn(s,a,f.children,u),f=mt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&l0(s,u,a);else if(s.tag===19)l0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(rt(mt,f),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(u=a.child,m=null;u!==null;)s=u.alternate,s!==null&&Dd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),pm(a,!1,m,u,_);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Dd(s)===null){a.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}pm(a,!0,u,null,_);break;case"together":pm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function $d(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Si(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),bo|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=Is(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Is(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function UP(s,a,u){switch(a.tag){case 3:s0(a),ja();break;case 5:Iw(a);break;case 1:Sn(a.type)&&Id(a);break;case 4:Kp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,m=a.memoizedProps.value;rt(Pd,f._currentValue),f._currentValue=m;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(rt(mt,mt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?a0(s,a,u):(rt(mt,mt.current&1),s=Si(s,a,u),s!==null?s.sibling:null);rt(mt,mt.current&1);break;case 19:if(f=(u&a.childLanes)!==0,(s.flags&128)!==0){if(f)return u0(s,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(mt,mt.current),f)break;return null;case 22:case 23:return a.lanes=0,n0(s,a,u)}return Si(s,a,u)}var c0,mm,d0,h0;c0=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},mm=function(){},d0=function(s,a,u,f){var m=s.memoizedProps;if(m!==f){s=a.stateNode,Po(Gr.current);var _=null;switch(u){case"input":m=di(s,m),f=di(s,f),_=[];break;case"select":m=se({},m,{value:void 0}),f=se({},f,{value:void 0}),_=[];break;case"textarea":m=Zi(s,m),f=Zi(s,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=wd)}zl(u,f);var C;u=null;for(G in m)if(!f.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var O=m[G];for(C in O)O.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in f){var F=f[G];if(O=m!=null?m[G]:void 0,f.hasOwnProperty(G)&&F!==O&&(F!=null||O!=null))if(G==="style")if(O){for(C in O)!O.hasOwnProperty(C)||F&&F.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in F)F.hasOwnProperty(C)&&O[C]!==F[C]&&(u||(u={}),u[C]=F[C])}else u||(_||(_=[]),_.push(G,u)),u=F;else G==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(_=_||[]).push(G,F)):G==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(G,""+F):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(F!=null&&G==="onScroll"&&st("scroll",s),_||O===F||(_=[])):(_=_||[]).push(G,F))}u&&(_=_||[]).push("style",u);var G=_;(a.updateQueue=G)&&(a.flags|=4)}},h0=function(s,a,u,f){u!==f&&(a.flags|=4)};function Iu(s,a){if(!ft)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function nn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function $P(s,a,u){var f=a.pendingProps;switch(Vp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return Sn(a.type)&&Td(),nn(a),null;case 3:return f=a.stateNode,Ba(),ot(Cn),ot(en),Yp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Rd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xr!==null&&(xm(xr),xr=null))),mm(s,a),nn(a),null;case 5:Gp(a);var m=Po(_u.current);if(u=a.type,s!==null&&a.stateNode!=null)d0(s,a,u,f,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return nn(a),null}if(s=Po(Gr.current),Rd(a)){f=a.stateNode,u=a.type;var _=a.memoizedProps;switch(f[Kr]=a,f[fu]=_,s=(a.mode&1)!==0,u){case"dialog":st("cancel",f),st("close",f);break;case"iframe":case"object":case"embed":st("load",f);break;case"video":case"audio":for(m=0;m<cu.length;m++)st(cu[m],f);break;case"source":st("error",f);break;case"img":case"image":case"link":st("error",f),st("load",f);break;case"details":st("toggle",f);break;case"input":Qi(f,_),st("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},st("invalid",f);break;case"textarea":hi(f,_),st("invalid",f)}zl(u,_),m=null;for(var C in _)if(_.hasOwnProperty(C)){var O=_[C];C==="children"?typeof O=="string"?f.textContent!==O&&(_.suppressHydrationWarning!==!0&&vd(f.textContent,O,s),m=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(_.suppressHydrationWarning!==!0&&vd(f.textContent,O,s),m=["children",""+O]):i.hasOwnProperty(C)&&O!=null&&C==="onScroll"&&st("scroll",f)}switch(u){case"input":Mn(f),oa(f,_,!0);break;case"textarea":Mn(f),es(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=wd)}f=m,a.updateQueue=f,f!==null&&(a.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=yt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(u,{is:f.is}):(s=C.createElement(u),u==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,u),s[Kr]=a,s[fu]=f,c0(s,a,!1,!1),a.stateNode=s;e:{switch(C=Wl(u,f),u){case"dialog":st("cancel",s),st("close",s),m=f;break;case"iframe":case"object":case"embed":st("load",s),m=f;break;case"video":case"audio":for(m=0;m<cu.length;m++)st(cu[m],s);m=f;break;case"source":st("error",s),m=f;break;case"img":case"image":case"link":st("error",s),st("load",s),m=f;break;case"details":st("toggle",s),m=f;break;case"input":Qi(s,f),m=di(s,f),st("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=se({},f,{value:void 0}),st("invalid",s);break;case"textarea":hi(s,f),m=Zi(s,f),st("invalid",s);break;default:m=f}zl(u,m),O=m;for(_ in O)if(O.hasOwnProperty(_)){var F=O[_];_==="style"?$l(s,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Fl(s,F)):_==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&ts(s,F):typeof F=="number"&&ts(s,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?F!=null&&_==="onScroll"&&st("scroll",s):F!=null&&B(s,_,F,C))}switch(u){case"input":Mn(s),oa(s,f,!1);break;case"textarea":Mn(s),es(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Oe(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?En(s,!!f.multiple,_,!1):f.defaultValue!=null&&En(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=wd)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(s&&a.stateNode!=null)h0(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(u=Po(_u.current),Po(Gr.current),Rd(a)){if(f=a.stateNode,u=a.memoizedProps,f[Kr]=a,(_=f.nodeValue!==u)&&(s=$n,s!==null))switch(s.tag){case 3:vd(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&vd(f.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Kr]=a,a.stateNode=f}return nn(a),null;case 13:if(ot(mt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ft&&Bn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)mw(),ja(),a.flags|=98560,_=!1;else if(_=Rd(a),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Kr]=a}else ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),_=!1}else xr!==null&&(xm(xr),xr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(mt.current&1)!==0?Lt===0&&(Lt=3):Pm())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return Ba(),mm(s,a),s===null&&du(a.stateNode.containerInfo),nn(a),null;case 10:return zp(a.type._context),nn(a),null;case 17:return Sn(a.type)&&Td(),nn(a),null;case 19:if(ot(mt),_=a.memoizedState,_===null)return nn(a),null;if(f=(a.flags&128)!==0,C=_.rendering,C===null)if(f)Iu(_,!1);else{if(Lt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=Dd(s),C!==null){for(a.flags|=128,Iu(_,!1),f=C.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)_=u,s=f,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,s=C.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return rt(mt,mt.current&1|2),a.child}s=s.sibling}_.tail!==null&&nt()>qa&&(a.flags|=128,f=!0,Iu(_,!1),a.lanes=4194304)}else{if(!f)if(s=Dd(C),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Iu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!ft)return nn(a),null}else 2*nt()-_.renderingStartTime>qa&&u!==1073741824&&(a.flags|=128,f=!0,Iu(_,!1),a.lanes=4194304);_.isBackwards?(C.sibling=a.child,a.child=C):(u=_.last,u!==null?u.sibling=C:a.child=C,_.last=C)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=nt(),a.sibling=null,u=mt.current,rt(mt,f?u&1|2:u&1),a):(nn(a),null);case 22:case 23:return Am(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(zn&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function BP(s,a){switch(Vp(a),a.tag){case 1:return Sn(a.type)&&Td(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ba(),ot(Cn),ot(en),Yp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Gp(a),null;case 13:if(ot(mt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ja()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ot(mt),null;case 4:return Ba(),null;case 10:return zp(a.type._context),null;case 22:case 23:return Am(),null;case 24:return null;default:return null}}var Bd=!1,rn=!1,zP=typeof WeakSet=="function"?WeakSet:Set,me=null;function Wa(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){vt(s,a,f)}else u.current=null}function gm(s,a,u){try{u()}catch(f){vt(s,a,f)}}var f0=!1;function WP(s,a){if(Ap=us,s=Hv(),wp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var C=0,O=-1,F=-1,G=0,ne=0,re=s,te=null;t:for(;;){for(var de;re!==u||m!==0&&re.nodeType!==3||(O=C+m),re!==_||f!==0&&re.nodeType!==3||(F=C+f),re.nodeType===3&&(C+=re.nodeValue.length),(de=re.firstChild)!==null;)te=re,re=de;for(;;){if(re===s)break t;if(te===u&&++G===m&&(O=C),te===_&&++ne===f&&(F=C),(de=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=de}u=O===-1||F===-1?null:{start:O,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Pp={focusedElem:s,selectionRange:u},us=!1,me=a;me!==null;)if(a=me,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,me=s;else for(;me!==null;){a=me;try{var ge=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,Ct=ge.memoizedState,H=a.stateNode,$=H.getSnapshotBeforeUpdate(a.elementType===a.type?ye:Rr(a.type,ye),Ct);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){vt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,me=s;break}me=a.return}return ge=f0,f0=!1,ge}function Cu(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&gm(a,u,_)}m=m.next}while(m!==f)}}function zd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function ym(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function p0(s){var a=s.alternate;a!==null&&(s.alternate=null,p0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Kr],delete a[fu],delete a[Dp],delete a[xP],delete a[RP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function m0(s){return s.tag===5||s.tag===3||s.tag===4}function g0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||m0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _m(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=wd));else if(f!==4&&(s=s.child,s!==null))for(_m(s,a,u),s=s.sibling;s!==null;)_m(s,a,u),s=s.sibling}function vm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(vm(s,a,u),s=s.sibling;s!==null;)vm(s,a,u),s=s.sibling}var Qt=null,Ar=!1;function _s(s,a,u){for(u=u.child;u!==null;)y0(s,a,u),u=u.sibling}function y0(s,a,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(yo,u)}catch{}switch(u.tag){case 5:rn||Wa(u,a);case 6:var f=Qt,m=Ar;Qt=null,_s(s,a,u),Qt=f,Ar=m,Qt!==null&&(Ar?(s=Qt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Qt.removeChild(u.stateNode));break;case 18:Qt!==null&&(Ar?(s=Qt,u=u.stateNode,s.nodeType===8?Np(s.parentNode,u):s.nodeType===1&&Np(s,u),Ir(s)):Np(Qt,u.stateNode));break;case 4:f=Qt,m=Ar,Qt=u.stateNode.containerInfo,Ar=!0,_s(s,a,u),Qt=f,Ar=m;break;case 0:case 11:case 14:case 15:if(!rn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&gm(u,a,C),m=m.next}while(m!==f)}_s(s,a,u);break;case 1:if(!rn&&(Wa(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(O){vt(u,a,O)}_s(s,a,u);break;case 21:_s(s,a,u);break;case 22:u.mode&1?(rn=(f=rn)||u.memoizedState!==null,_s(s,a,u),rn=f):_s(s,a,u);break;default:_s(s,a,u)}}function _0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new zP),a.forEach(function(f){var m=ZP.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function Pr(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var _=s,C=a,O=C;e:for(;O!==null;){switch(O.tag){case 5:Qt=O.stateNode,Ar=!1;break e;case 3:Qt=O.stateNode.containerInfo,Ar=!0;break e;case 4:Qt=O.stateNode.containerInfo,Ar=!0;break e}O=O.return}if(Qt===null)throw Error(t(160));y0(_,C,m),Qt=null,Ar=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(G){vt(m,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)v0(a,s),a=a.sibling}function v0(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Pr(a,s),Yr(s),f&4){try{Cu(3,s,s.return),zd(3,s)}catch(ye){vt(s,s.return,ye)}try{Cu(5,s,s.return)}catch(ye){vt(s,s.return,ye)}}break;case 1:Pr(a,s),Yr(s),f&512&&u!==null&&Wa(u,u.return);break;case 5:if(Pr(a,s),Yr(s),f&512&&u!==null&&Wa(u,u.return),s.flags&32){var m=s.stateNode;try{ts(m,"")}catch(ye){vt(s,s.return,ye)}}if(f&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,C=u!==null?u.memoizedProps:_,O=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{O==="input"&&_.type==="radio"&&_.name!=null&&Yi(m,_),Wl(O,C);var G=Wl(O,_);for(C=0;C<F.length;C+=2){var ne=F[C],re=F[C+1];ne==="style"?$l(m,re):ne==="dangerouslySetInnerHTML"?Fl(m,re):ne==="children"?ts(m,re):B(m,ne,re,G)}switch(O){case"input":Xi(m,_);break;case"textarea":Fr(m,_);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var de=_.value;de!=null?En(m,!!_.multiple,de,!1):te!==!!_.multiple&&(_.defaultValue!=null?En(m,!!_.multiple,_.defaultValue,!0):En(m,!!_.multiple,_.multiple?[]:"",!1))}m[fu]=_}catch(ye){vt(s,s.return,ye)}}break;case 6:if(Pr(a,s),Yr(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(ye){vt(s,s.return,ye)}}break;case 3:if(Pr(a,s),Yr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ir(a.containerInfo)}catch(ye){vt(s,s.return,ye)}break;case 4:Pr(a,s),Yr(s);break;case 13:Pr(a,s),Yr(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(Tm=nt())),f&4&&_0(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(rn=(G=rn)||ne,Pr(a,s),rn=G):Pr(a,s),Yr(s),f&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!ne&&(s.mode&1)!==0)for(me=s,ne=s.child;ne!==null;){for(re=me=ne;me!==null;){switch(te=me,de=te.child,te.tag){case 0:case 11:case 14:case 15:Cu(4,te,te.return);break;case 1:Wa(te,te.return);var ge=te.stateNode;if(typeof ge.componentWillUnmount=="function"){f=te,u=te.return;try{a=f,ge.props=a.memoizedProps,ge.state=a.memoizedState,ge.componentWillUnmount()}catch(ye){vt(f,u,ye)}}break;case 5:Wa(te,te.return);break;case 22:if(te.memoizedState!==null){T0(re);continue}}de!==null?(de.return=te,me=de):T0(re)}ne=ne.sibling}e:for(ne=null,re=s;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,G?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(O=re.stateNode,F=re.memoizedProps.style,C=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=Ul("display",C))}catch(ye){vt(s,s.return,ye)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(ye){vt(s,s.return,ye)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Pr(a,s),Yr(s),f&4&&_0(s);break;case 21:break;default:Pr(a,s),Yr(s)}}function Yr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(m0(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ts(m,""),f.flags&=-33);var _=g0(s);vm(s,_,m);break;case 3:case 4:var C=f.stateNode.containerInfo,O=g0(s);_m(s,O,C);break;default:throw Error(t(161))}}catch(F){vt(s,s.return,F)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function HP(s,a,u){me=s,w0(s)}function w0(s,a,u){for(var f=(s.mode&1)!==0;me!==null;){var m=me,_=m.child;if(m.tag===22&&f){var C=m.memoizedState!==null||Bd;if(!C){var O=m.alternate,F=O!==null&&O.memoizedState!==null||rn;O=Bd;var G=rn;if(Bd=C,(rn=F)&&!G)for(me=m;me!==null;)C=me,F=C.child,C.tag===22&&C.memoizedState!==null?I0(m):F!==null?(F.return=C,me=F):I0(m);for(;_!==null;)me=_,w0(_),_=_.sibling;me=m,Bd=O,rn=G}E0(s)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,me=_):E0(s)}}function E0(s){for(;me!==null;){var a=me;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||zd(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!rn)if(u===null)f.componentDidMount();else{var m=a.elementType===a.type?u.memoizedProps:Rr(a.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&Tw(a,_,f);break;case 3:var C=a.updateQueue;if(C!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Tw(a,C,u)}break;case 5:var O=a.stateNode;if(u===null&&a.flags&4){u=O;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Ir(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||a.flags&512&&ym(a)}catch(te){vt(a,a.return,te)}}if(a===s){me=null;break}if(u=a.sibling,u!==null){u.return=a.return,me=u;break}me=a.return}}function T0(s){for(;me!==null;){var a=me;if(a===s){me=null;break}var u=a.sibling;if(u!==null){u.return=a.return,me=u;break}me=a.return}}function I0(s){for(;me!==null;){var a=me;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{zd(4,a)}catch(F){vt(a,u,F)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var m=a.return;try{f.componentDidMount()}catch(F){vt(a,m,F)}}var _=a.return;try{ym(a)}catch(F){vt(a,_,F)}break;case 5:var C=a.return;try{ym(a)}catch(F){vt(a,C,F)}}}catch(F){vt(a,a.return,F)}if(a===s){me=null;break}var O=a.sibling;if(O!==null){O.return=a.return,me=O;break}me=a.return}}var qP=Math.ceil,Wd=q.ReactCurrentDispatcher,wm=q.ReactCurrentOwner,sr=q.ReactCurrentBatchConfig,Ke=0,Ut=null,At=null,Yt=0,zn=0,Ha=fs(0),Lt=0,Su=null,bo=0,Hd=0,Em=0,xu=null,Rn=null,Tm=0,qa=1/0,xi=null,qd=!1,Im=null,vs=null,Kd=!1,ws=null,Gd=0,Ru=0,Cm=null,Qd=-1,Yd=0;function _n(){return(Ke&6)!==0?nt():Qd!==-1?Qd:Qd=nt()}function Es(s){return(s.mode&1)===0?1:(Ke&2)!==0&&Yt!==0?Yt&-Yt:PP.transition!==null?(Yd===0&&(Yd=vo()),Yd):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:tu(s.type)),s)}function kr(s,a,u,f){if(50<Ru)throw Ru=0,Cm=null,Error(t(185));ss(s,u,f),((Ke&2)===0||s!==Ut)&&(s===Ut&&((Ke&2)===0&&(Hd|=u),Lt===4&&Ts(s,Yt)),An(s,f),u===1&&Ke===0&&(a.mode&1)===0&&(qa=nt()+500,Cd&&ms()))}function An(s,a){var u=s.callbackNode;pi(s,a);var f=_o(s,s===Ut?Yt:0);if(f===0)u!==null&&Yl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Yl(u),a===1)s.tag===0?AP(S0.bind(null,s)):cw(S0.bind(null,s)),CP(function(){(Ke&6)===0&&ms()}),u=null;else{switch(as(f)){case 1:u=go;break;case 4:u=ns;break;case 16:u=Jn;break;case 536870912:u=Yc;break;default:u=Jn}u=D0(u,C0.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function C0(s,a){if(Qd=-1,Yd=0,(Ke&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Ka()&&s.callbackNode!==u)return null;var f=_o(s,s===Ut?Yt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Xd(s,f);else{a=f;var m=Ke;Ke|=2;var _=R0();(Ut!==s||Yt!==a)&&(xi=null,qa=nt()+500,Do(s,a));do try{QP();break}catch(O){x0(s,O)}while(!0);Bp(),Wd.current=_,Ke=m,At!==null?a=0:(Ut=null,Yt=0,a=Lt)}if(a!==0){if(a===2&&(m=jn(s),m!==0&&(f=m,a=Sm(s,m))),a===1)throw u=Su,Do(s,0),Ts(s,f),An(s,nt()),u;if(a===6)Ts(s,f);else{if(m=s.current.alternate,(f&30)===0&&!KP(m)&&(a=Xd(s,f),a===2&&(_=jn(s),_!==0&&(f=_,a=Sm(s,_))),a===1))throw u=Su,Do(s,0),Ts(s,f),An(s,nt()),u;switch(s.finishedWork=m,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Oo(s,Rn,xi);break;case 3:if(Ts(s,f),(f&130023424)===f&&(a=Tm+500-nt(),10<a)){if(_o(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){_n(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=bp(Oo.bind(null,s,Rn,xi),a);break}Oo(s,Rn,xi);break;case 4:if(Ts(s,f),(f&4194240)===f)break;for(a=s.eventTimes,m=-1;0<f;){var C=31-mn(f);_=1<<C,C=a[C],C>m&&(m=C),f&=~_}if(f=m,f=nt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*qP(f/1960))-f,10<f){s.timeoutHandle=bp(Oo.bind(null,s,Rn,xi),f);break}Oo(s,Rn,xi);break;case 5:Oo(s,Rn,xi);break;default:throw Error(t(329))}}}return An(s,nt()),s.callbackNode===u?C0.bind(null,s):null}function Sm(s,a){var u=xu;return s.current.memoizedState.isDehydrated&&(Do(s,a).flags|=256),s=Xd(s,a),s!==2&&(a=Rn,Rn=u,a!==null&&xm(a)),s}function xm(s){Rn===null?Rn=s:Rn.push.apply(Rn,s)}function KP(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],_=m.getSnapshot;m=m.value;try{if(!Sr(_(),m))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ts(s,a){for(a&=~Em,a&=~Hd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-mn(a),f=1<<u;s[u]=-1,a&=~f}}function S0(s){if((Ke&6)!==0)throw Error(t(327));Ka();var a=_o(s,0);if((a&1)===0)return An(s,nt()),null;var u=Xd(s,a);if(s.tag!==0&&u===2){var f=jn(s);f!==0&&(a=f,u=Sm(s,f))}if(u===1)throw u=Su,Do(s,0),Ts(s,a),An(s,nt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Oo(s,Rn,xi),An(s,nt()),null}function Rm(s,a){var u=Ke;Ke|=1;try{return s(a)}finally{Ke=u,Ke===0&&(qa=nt()+500,Cd&&ms())}}function No(s){ws!==null&&ws.tag===0&&(Ke&6)===0&&Ka();var a=Ke;Ke|=1;var u=sr.transition,f=Fe;try{if(sr.transition=null,Fe=1,s)return s()}finally{Fe=f,sr.transition=u,Ke=a,(Ke&6)===0&&ms()}}function Am(){zn=Ha.current,ot(Ha)}function Do(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,IP(u)),At!==null)for(u=At.return;u!==null;){var f=u;switch(Vp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Td();break;case 3:Ba(),ot(Cn),ot(en),Yp();break;case 5:Gp(f);break;case 4:Ba();break;case 13:ot(mt);break;case 19:ot(mt);break;case 10:zp(f.type._context);break;case 22:case 23:Am()}u=u.return}if(Ut=s,At=s=Is(s.current,null),Yt=zn=a,Lt=0,Su=null,Em=Hd=bo=0,Rn=xu=null,Ao!==null){for(a=0;a<Ao.length;a++)if(u=Ao[a],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,_=u.pending;if(_!==null){var C=_.next;_.next=m,f.next=C}u.pending=f}Ao=null}return s}function x0(s,a){do{var u=At;try{if(Bp(),Od.current=jd,Ld){for(var f=gt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Ld=!1}if(ko=0,Ft=Ot=gt=null,vu=!1,wu=0,wm.current=null,u===null||u.return===null){Lt=1,Su=a,At=null;break}e:{var _=s,C=u.return,O=u,F=a;if(a=Yt,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,ne=O,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=Xw(C);if(de!==null){de.flags&=-257,Jw(de,C,O,_,a),de.mode&1&&Yw(_,G,a),a=de,F=G;var ge=a.updateQueue;if(ge===null){var ye=new Set;ye.add(F),a.updateQueue=ye}else ge.add(F);break e}else{if((a&1)===0){Yw(_,G,a),Pm();break e}F=Error(t(426))}}else if(ft&&O.mode&1){var Ct=Xw(C);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),Jw(Ct,C,O,_,a),Up(za(F,O));break e}}_=F=za(F,O),Lt!==4&&(Lt=2),xu===null?xu=[_]:xu.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var H=Gw(_,F,a);Ew(_,H);break e;case 1:O=F;var $=_.type,K=_.stateNode;if((_.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(vs===null||!vs.has(K)))){_.flags|=65536,a&=-a,_.lanes|=a;var oe=Qw(_,O,a);Ew(_,oe);break e}}_=_.return}while(_!==null)}P0(u)}catch(_e){a=_e,At===u&&u!==null&&(At=u=u.return);continue}break}while(!0)}function R0(){var s=Wd.current;return Wd.current=jd,s===null?jd:s}function Pm(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Ut===null||(bo&268435455)===0&&(Hd&268435455)===0||Ts(Ut,Yt)}function Xd(s,a){var u=Ke;Ke|=2;var f=R0();(Ut!==s||Yt!==a)&&(xi=null,Do(s,a));do try{GP();break}catch(m){x0(s,m)}while(!0);if(Bp(),Ke=u,Wd.current=f,At!==null)throw Error(t(261));return Ut=null,Yt=0,Lt}function GP(){for(;At!==null;)A0(At)}function QP(){for(;At!==null&&!Gc();)A0(At)}function A0(s){var a=N0(s.alternate,s,zn);s.memoizedProps=s.pendingProps,a===null?P0(s):At=a,wm.current=null}function P0(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=$P(u,a,zn),u!==null){At=u;return}}else{if(u=BP(u,a),u!==null){u.flags&=32767,At=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Lt=6,At=null;return}}if(a=a.sibling,a!==null){At=a;return}At=a=s}while(a!==null);Lt===0&&(Lt=5)}function Oo(s,a,u){var f=Fe,m=sr.transition;try{sr.transition=null,Fe=1,YP(s,a,u,f)}finally{sr.transition=m,Fe=f}return null}function YP(s,a,u,f){do Ka();while(ws!==null);if((Ke&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(tt(s,_),s===Ut&&(At=Ut=null,Yt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Kd||(Kd=!0,D0(Jn,function(){return Ka(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=sr.transition,sr.transition=null;var C=Fe;Fe=1;var O=Ke;Ke|=4,wm.current=null,WP(s,u),v0(u,s),gP(Pp),us=!!Ap,Pp=Ap=null,s.current=u,HP(u),hp(),Ke=O,Fe=C,sr.transition=_}else s.current=u;if(Kd&&(Kd=!1,ws=s,Gd=m),_=s.pendingLanes,_===0&&(vs=null),Xc(u.stateNode),An(s,nt()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)m=a[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(qd)throw qd=!1,s=Im,Im=null,s;return(Gd&1)!==0&&s.tag!==0&&Ka(),_=s.pendingLanes,(_&1)!==0?s===Cm?Ru++:(Ru=0,Cm=s):Ru=0,ms(),null}function Ka(){if(ws!==null){var s=as(Gd),a=sr.transition,u=Fe;try{if(sr.transition=null,Fe=16>s?16:s,ws===null)var f=!1;else{if(s=ws,ws=null,Gd=0,(Ke&6)!==0)throw Error(t(331));var m=Ke;for(Ke|=4,me=s.current;me!==null;){var _=me,C=_.child;if((me.flags&16)!==0){var O=_.deletions;if(O!==null){for(var F=0;F<O.length;F++){var G=O[F];for(me=G;me!==null;){var ne=me;switch(ne.tag){case 0:case 11:case 15:Cu(8,ne,_)}var re=ne.child;if(re!==null)re.return=ne,me=re;else for(;me!==null;){ne=me;var te=ne.sibling,de=ne.return;if(p0(ne),ne===G){me=null;break}if(te!==null){te.return=de,me=te;break}me=de}}}var ge=_.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var Ct=ye.sibling;ye.sibling=null,ye=Ct}while(ye!==null)}}me=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,me=C;else e:for(;me!==null;){if(_=me,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Cu(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,me=H;break e}me=_.return}}var $=s.current;for(me=$;me!==null;){C=me;var K=C.child;if((C.subtreeFlags&2064)!==0&&K!==null)K.return=C,me=K;else e:for(C=$;me!==null;){if(O=me,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:zd(9,O)}}catch(_e){vt(O,O.return,_e)}if(O===C){me=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,me=oe;break e}me=O.return}}if(Ke=m,ms(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(yo,s)}catch{}f=!0}return f}finally{Fe=u,sr.transition=a}}return!1}function k0(s,a,u){a=za(u,a),a=Gw(s,a,1),s=ys(s,a,1),a=_n(),s!==null&&(ss(s,1,a),An(s,a))}function vt(s,a,u){if(s.tag===3)k0(s,s,u);else for(;a!==null;){if(a.tag===3){k0(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(vs===null||!vs.has(f))){s=za(u,s),s=Qw(a,s,1),a=ys(a,s,1),s=_n(),a!==null&&(ss(a,1,s),An(a,s));break}}a=a.return}}function XP(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=_n(),s.pingedLanes|=s.suspendedLanes&u,Ut===s&&(Yt&u)===u&&(Lt===4||Lt===3&&(Yt&130023424)===Yt&&500>nt()-Tm?Do(s,0):Em|=u),An(s,a)}function b0(s,a){a===0&&((s.mode&1)===0?a=1:(a=ga,ga<<=1,(ga&130023424)===0&&(ga=4194304)));var u=_n();s=Ii(s,a),s!==null&&(ss(s,a,u),An(s,u))}function JP(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),b0(s,u)}function ZP(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),b0(s,u)}var N0;N0=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Cn.current)xn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return xn=!1,UP(s,a,u);xn=(s.flags&131072)!==0}else xn=!1,ft&&(a.flags&1048576)!==0&&dw(a,xd,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;$d(s,a),s=a.pendingProps;var m=La(a,en.current);$a(a,u),m=Zp(null,a,f,s,m,u);var _=em();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Sn(f)?(_=!0,Id(a)):_=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,qp(a),m.updater=Fd,a.stateNode=m,m._reactInternals=a,om(a,f,s,u),a=cm(null,a,f,!0,_,u)):(a.tag=0,ft&&_&&Mp(a),yn(null,a,m,u),a=a.child),a;case 16:f=a.elementType;e:{switch($d(s,a),s=a.pendingProps,m=f._init,f=m(f._payload),a.type=f,m=a.tag=tk(f),s=Rr(f,s),m){case 0:a=um(null,a,f,s,u);break e;case 1:a=i0(null,a,f,s,u);break e;case 11:a=Zw(null,a,f,s,u);break e;case 14:a=e0(null,a,f,Rr(f.type,s),u);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Rr(f,m),um(s,a,f,m,u);case 1:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Rr(f,m),i0(s,a,f,m,u);case 3:e:{if(s0(a),s===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,m=_.element,ww(s,a),Nd(a,f,null,u);var C=a.memoizedState;if(f=C.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){m=za(Error(t(423)),a),a=o0(s,a,f,u,m);break e}else if(f!==m){m=za(Error(t(424)),a),a=o0(s,a,f,u,m);break e}else for(Bn=hs(a.stateNode.containerInfo.firstChild),$n=a,ft=!0,xr=null,u=_w(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ja(),f===m){a=Si(s,a,u);break e}yn(s,a,f,u)}a=a.child}return a;case 5:return Iw(a),s===null&&Fp(a),f=a.type,m=a.pendingProps,_=s!==null?s.memoizedProps:null,C=m.children,kp(f,m)?C=null:_!==null&&kp(f,_)&&(a.flags|=32),r0(s,a),yn(s,a,C,u),a.child;case 6:return s===null&&Fp(a),null;case 13:return a0(s,a,u);case 4:return Kp(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Fa(a,null,f,u):yn(s,a,f,u),a.child;case 11:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Rr(f,m),Zw(s,a,f,m,u);case 7:return yn(s,a,a.pendingProps,u),a.child;case 8:return yn(s,a,a.pendingProps.children,u),a.child;case 12:return yn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,m=a.pendingProps,_=a.memoizedProps,C=m.value,rt(Pd,f._currentValue),f._currentValue=C,_!==null)if(Sr(_.value,C)){if(_.children===m.children&&!Cn.current){a=Si(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var O=_.dependencies;if(O!==null){C=_.child;for(var F=O.firstContext;F!==null;){if(F.context===f){if(_.tag===1){F=Ci(-1,u&-u),F.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?F.next=F:(F.next=ne.next,ne.next=F),G.pending=F}}_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),Wp(_.return,u,a),O.lanes|=u;break}F=F.next}}else if(_.tag===10)C=_.type===a.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(t(341));C.lanes|=u,O=C.alternate,O!==null&&(O.lanes|=u),Wp(C,u,a),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===a){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}yn(s,a,m.children,u),a=a.child}return a;case 9:return m=a.type,f=a.pendingProps.children,$a(a,u),m=rr(m),f=f(m),a.flags|=1,yn(s,a,f,u),a.child;case 14:return f=a.type,m=Rr(f,a.pendingProps),m=Rr(f.type,m),e0(s,a,f,m,u);case 15:return t0(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:Rr(f,m),$d(s,a),a.tag=1,Sn(f)?(s=!0,Id(a)):s=!1,$a(a,u),qw(a,f,m),om(a,f,m,u),cm(null,a,f,!0,s,u);case 19:return u0(s,a,u);case 22:return n0(s,a,u)}throw Error(t(156,a.tag))};function D0(s,a){return pa(s,a)}function ek(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(s,a,u,f){return new ek(s,a,u,f)}function km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function tk(s){if(typeof s=="function")return km(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Se)return 14}return 2}function Is(s,a){var u=s.alternate;return u===null?(u=or(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Jd(s,a,u,f,m,_){var C=2;if(f=s,typeof s=="function")km(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case N:return Lo(u.children,m,_,a);case P:C=8,m|=8;break;case k:return s=or(12,u,a,m|2),s.elementType=k,s.lanes=_,s;case D:return s=or(13,u,a,m),s.elementType=D,s.lanes=_,s;case le:return s=or(19,u,a,m),s.elementType=le,s.lanes=_,s;case Te:return Zd(u,m,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:C=10;break e;case M:C=9;break e;case V:C=11;break e;case Se:C=14;break e;case Re:C=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=or(C,u,a,m),a.elementType=s,a.type=f,a.lanes=_,a}function Lo(s,a,u,f){return s=or(7,s,f,a),s.lanes=u,s}function Zd(s,a,u,f){return s=or(22,s,f,a),s.elementType=Te,s.lanes=u,s.stateNode={isHidden:!1},s}function bm(s,a,u){return s=or(6,s,null,a),s.lanes=u,s}function Nm(s,a,u){return a=or(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function nk(s,a,u,f,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=is(0),this.expirationTimes=is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Dm(s,a,u,f,m,_,C,O,F){return s=new nk(s,a,u,O,F),a===1?(a=1,_===!0&&(a|=8)):a=0,_=or(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(_),s}function rk(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function O0(s){if(!s)return ps;s=s._reactInternals;e:{if(_r(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Sn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Sn(u))return lw(s,u,a)}return a}function L0(s,a,u,f,m,_,C,O,F){return s=Dm(u,f,!0,s,m,_,C,O,F),s.context=O0(null),u=s.current,f=_n(),m=Es(u),_=Ci(f,m),_.callback=a??null,ys(u,_,m),s.current.lanes=m,ss(s,m,f),An(s,f),s}function eh(s,a,u,f){var m=a.current,_=_n(),C=Es(m);return u=O0(u),a.context===null?a.context=u:a.pendingContext=u,a=Ci(_,C),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=ys(m,a,C),s!==null&&(kr(s,m,C,_),bd(s,m,C)),C}function th(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function M0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Om(s,a){M0(s,a),(s=s.alternate)&&M0(s,a)}function ik(){return null}var V0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lm(s){this._internalRoot=s}nh.prototype.render=Lm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));eh(s,a,null,null)},nh.prototype.unmount=Lm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;No(function(){eh(null,s,null,null)}),a[vi]=null}};function nh(s){this._internalRoot=s}nh.prototype.unstable_scheduleHydration=function(s){if(s){var a=nd();s={blockedOn:null,target:s,priority:a};for(var u=0;u<zr.length&&a!==0&&a<zr[u].priority;u++);zr.splice(u,0,s),u===0&&sd(s)}};function Mm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function rh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function j0(){}function sk(s,a,u,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var G=th(C);_.call(G)}}var C=L0(a,f,s,0,null,!1,!1,"",j0);return s._reactRootContainer=C,s[vi]=C.current,du(s.nodeType===8?s.parentNode:s),No(),C}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var O=f;f=function(){var G=th(F);O.call(G)}}var F=Dm(s,0,!1,null,null,!1,!1,"",j0);return s._reactRootContainer=F,s[vi]=F.current,du(s.nodeType===8?s.parentNode:s),No(function(){eh(a,F,u,f)}),F}function ih(s,a,u,f,m){var _=u._reactRootContainer;if(_){var C=_;if(typeof m=="function"){var O=m;m=function(){var F=th(C);O.call(F)}}eh(a,C,s,m)}else C=sk(u,a,s,m,f);return th(C)}ed=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=rs(a.pendingLanes);u!==0&&(os(a,u|1),An(a,nt()),(Ke&6)===0&&(qa=nt()+500,ms()))}break;case 13:No(function(){var f=Ii(s,1);if(f!==null){var m=_n();kr(f,s,1,m)}}),Om(s,1)}},ya=function(s){if(s.tag===13){var a=Ii(s,134217728);if(a!==null){var u=_n();kr(a,s,134217728,u)}Om(s,134217728)}},td=function(s){if(s.tag===13){var a=Es(s),u=Ii(s,a);if(u!==null){var f=_n();kr(u,s,a,f)}Om(s,a)}},nd=function(){return Fe},rd=function(s,a){var u=Fe;try{return Fe=s,a()}finally{Fe=u}},la=function(s,a,u){switch(a){case"input":if(Xi(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var m=Ed(f);if(!m)throw Error(t(90));Gi(f),Xi(f,m)}}}break;case"textarea":Fr(s,u);break;case"select":a=u.value,a!=null&&En(s,!!u.multiple,a,!1)}},ho=Rm,ql=No;var ok={usingClientEntryPoint:!1,Events:[pu,Da,Ed,$r,Hl,Rm]},Au={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ql(s),s===null?null:s.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||ik,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{yo=sh.inject(ak),Vn=sh}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok,Pn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mm(a))throw Error(t(200));return rk(s,a,null,u)},Pn.createRoot=function(s,a){if(!Mm(s))throw Error(t(299));var u=!1,f="",m=V0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Dm(s,1,!1,null,null,u,!1,f,m),s[vi]=a.current,du(s.nodeType===8?s.parentNode:s),new Lm(a)},Pn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ql(a),s=s===null?null:s.stateNode,s},Pn.flushSync=function(s){return No(s)},Pn.hydrate=function(s,a,u){if(!rh(a))throw Error(t(200));return ih(null,s,a,!0,u)},Pn.hydrateRoot=function(s,a,u){if(!Mm(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,_="",C=V0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),a=L0(a,null,s,1,u??null,m,!1,_,C),s[vi]=a.current,du(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,m]:a.mutableSourceEagerHydrationData.push(u,m);return new nh(a)},Pn.render=function(s,a,u){if(!rh(a))throw Error(t(200));return ih(null,s,a,!1,u)},Pn.unmountComponentAtNode=function(s){if(!rh(s))throw Error(t(40));return s._reactRootContainer?(No(function(){ih(null,null,s,!1,function(){s._reactRootContainer=null,s[vi]=null})}),!0):!1},Pn.unstable_batchedUpdates=Rm,Pn.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!rh(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ih(s,a,u,!1,f)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var K0;function eC(){if(K0)return Fm.exports;K0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fm.exports=gk(),Fm.exports}var G0;function yk(){if(G0)return oh;G0=1;var n=eC();return oh.createRoot=n.createRoot,oh.hydrateRoot=n.hydrateRoot,oh}var _k=yk(),ku={},Q0;function vk(){if(Q0)return ku;Q0=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.parse=l,ku.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,S){const R=new o,b=E.length;if(b<2)return R;const x=(S==null?void 0:S.decode)||g;let j=0;do{const U=E.indexOf("=",j);if(U===-1)break;const B=E.indexOf(";",j),q=B===-1?b:B;if(U>q){j=E.lastIndexOf(";",U-1)+1;continue}const X=c(E,j,U),Z=h(E,U,X),N=E.slice(X,Z);if(R[N]===void 0){let P=c(E,U+1,q),k=h(E,q,P);const L=x(E.slice(P,k));R[N]=L}j=q+1}while(j<b);return R}function c(E,S,R){do{const b=E.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<R);return R}function h(E,S,R){for(;S>R;){const b=E.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return R}function p(E,S,R){const b=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=b(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let j=E+"="+x;if(!R)return j;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);j+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);j+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);j+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);j+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(j+="; HttpOnly"),R.secure&&(j+="; Secure"),R.partitioned&&(j+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return j}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return i.call(E)==="[object Date]"}return ku}vk();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Y0="popstate";function wk(n={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return Tg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:oc(i)}return Tk(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ek(){return Math.random().toString(36).substring(2,10)}function X0(n,e){return{usr:n.state,key:n.key,idx:e}}function Tg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Cl(e):e,state:t,key:e&&e.key||r||Ek()}}function oc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Cl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Tk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){c="POP";let x=g(),j=x==null?null:x-p;p=x,h&&h({action:c,location:b.location,delta:j})}function E(x,j){c="PUSH";let U=Tg(b.location,x,j);p=g()+1;let B=X0(U,p),q=b.createHref(U);try{l.pushState(B,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(q)}o&&h&&h({action:c,location:b.location,delta:1})}function S(x,j){c="REPLACE";let U=Tg(b.location,x,j);p=g();let B=X0(U,p),q=b.createHref(U);l.replaceState(B,"",q),o&&h&&h({action:c,location:b.location,delta:0})}function R(x){let j=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof x=="string"?x:oc(x);return U=U.replace(/ $/,"%20"),pt(j,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,j)}let b={get action(){return c},get location(){return n(i,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Y0,v),h=x,()=>{i.removeEventListener(Y0,v),h=null}},createHref(x){return e(i,x)},createURL:R,encodeLocation(x){let j=R(x);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:S,go(x){return l.go(x)}};return b}function tC(n,e,t="/"){return Ik(n,e,t,!1)}function Ik(n,e,t,r){let i=typeof e=="string"?Cl(e):e,o=Mi(i.pathname||"/",t);if(o==null)return null;let l=nC(n);Ck(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=Lk(o);c=Dk(l[h],p,r)}return c}function nC(n,e=[],t=[],r=""){let i=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(pt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Di([r,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(pt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),nC(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:bk(p,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let h of rC(o.path))i(o,l,h)}),e}function rC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=rC(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function Ck(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Nk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Sk=/^:[\w-]+$/,xk=3,Rk=2,Ak=1,Pk=10,kk=-2,J0=n=>n==="*";function bk(n,e){let t=n.split("/"),r=t.length;return t.some(J0)&&(r+=kk),e&&(r+=Rk),t.filter(i=>!J0(i)).reduce((i,o)=>i+(Sk.test(o)?xk:o===""?Ak:Pk),r)}function Nk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Dk(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=jh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),E=h.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=jh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Di([o,v.pathname]),pathnameBase:Fk(Di([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Di([o,v.pathnameBase]))}return l}function jh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Ok(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},E)=>{if(g==="*"){let R=c[E]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const S=c[E];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function Ok(n,e=!1,t=!0){Lr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Lk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Mi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Mk(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Cl(n):n;return{pathname:t?t.startsWith("/")?t:Vk(t,e):e,search:Uk(r),hash:$k(i)}}function Vk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Bm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ay(n){let e=jk(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Py(n,e,t,r=!1){let i;typeof n=="string"?i=Cl(n):(i={...n},pt(!i.pathname||!i.pathname.includes("?"),Bm("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),Bm("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),Bm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}c=v>=0?e[v]:"/"}let h=Mk(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Di=n=>n.join("/").replace(/\/\/+/g,"/"),Fk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Uk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$k=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Bk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var iC=["POST","PUT","PATCH","DELETE"];new Set(iC);var zk=["GET",...iC];new Set(zk);var Sl=I.createContext(null);Sl.displayName="DataRouter";var Ef=I.createContext(null);Ef.displayName="DataRouterState";var sC=I.createContext({isTransitioning:!1});sC.displayName="ViewTransition";var Wk=I.createContext(new Map);Wk.displayName="Fetchers";var Hk=I.createContext(null);Hk.displayName="Await";var Vr=I.createContext(null);Vr.displayName="Navigation";var Ic=I.createContext(null);Ic.displayName="Location";var jr=I.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var ky=I.createContext(null);ky.displayName="RouteError";function qk(n,{relative:e}={}){pt(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=I.useContext(Vr),{hash:i,pathname:o,search:l}=Cc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Di([t,o])),r.createHref({pathname:c,search:l,hash:i})}function xl(){return I.useContext(Ic)!=null}function Js(){return pt(xl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Ic).location}var oC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aC(n){I.useContext(Vr).static||I.useLayoutEffect(n)}function Zs(){let{isDataRoute:n}=I.useContext(jr);return n?ob():Kk()}function Kk(){pt(xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Sl),{basename:e,navigator:t}=I.useContext(Vr),{matches:r}=I.useContext(jr),{pathname:i}=Js(),o=JSON.stringify(Ay(r)),l=I.useRef(!1);return aC(()=>{l.current=!0}),I.useCallback((h,p={})=>{if(Lr(l.current,oC),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Py(h,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Di([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,i,n])}I.createContext(null);function Gk(){let{matches:n}=I.useContext(jr),e=n[n.length-1];return e?e.params:{}}function Cc(n,{relative:e}={}){let{matches:t}=I.useContext(jr),{pathname:r}=Js(),i=JSON.stringify(Ay(t));return I.useMemo(()=>Py(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Qk(n,e){return lC(n,e)}function lC(n,e,t,r){var U;pt(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=I.useContext(Vr),{matches:l}=I.useContext(jr),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let B=v&&v.path||"";uC(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Js(),S;if(e){let B=typeof e=="string"?Cl(e):e;pt(g==="/"||((U=B.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=E;let R=S.pathname||"/",b=R;if(g!=="/"){let B=g.replace(/^\//,"").split("/");b="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:tC(n,{pathname:b});Lr(v||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Lr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=eb(x&&x.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Di([g,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Di([g,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,r);return e&&j?I.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function Yk(){let n=sb(),e=Bk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:i},t):null,l)}var Xk=I.createElement(Yk,null),Jk=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(jr.Provider,{value:this.props.routeContext},I.createElement(ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zk({routeContext:n,match:e,children:t}){let r=I.useContext(Sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(jr.Provider,{value:n},t)}function eb(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);pt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:v}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let v,E=!1,S=null,R=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||Xk,l&&(c<0&&g===0?(uC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):c===g&&(E=!0,R=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),x=()=>{let j;return v?j=S:E?j=R:p.route.Component?j=I.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,I.createElement(Zk,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?I.createElement(Jk,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}function by(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tb(n){let e=I.useContext(Sl);return pt(e,by(n)),e}function nb(n){let e=I.useContext(Ef);return pt(e,by(n)),e}function rb(n){let e=I.useContext(jr);return pt(e,by(n)),e}function Ny(n){let e=rb(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ib(){return Ny("useRouteId")}function sb(){var r;let n=I.useContext(ky),e=nb("useRouteError"),t=Ny("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function ob(){let{router:n}=tb("useNavigate"),e=Ny("useNavigate"),t=I.useRef(!1);return aC(()=>{t.current=!0}),I.useCallback(async(i,o={})=>{Lr(t.current,oC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var Z0={};function uC(n,e,t){!e&&!Z0[n]&&(Z0[n]=!0,Lr(!1,t))}I.memo(ab);function ab({routes:n,future:e,state:t}){return lC(n,void 0,t,e)}function lb({to:n,replace:e,state:t,relative:r}){pt(xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(Vr);Lr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=I.useContext(jr),{pathname:l}=Js(),c=Zs(),h=Py(n,Ay(o),l,r==="path"),p=JSON.stringify(h);return I.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function on(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ub({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){pt(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Cl(t));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:E="default"}=t,S=I.useMemo(()=>{let R=Mi(h,l);return R==null?null:{location:{pathname:R,search:p,hash:g,state:v,key:E},navigationType:r}},[l,h,p,g,v,E,r]);return Lr(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Vr.Provider,{value:c},I.createElement(Ic.Provider,{children:e,value:S}))}function cb({children:n,location:e}){return Qk(Ig(n),e)}function Ig(n,e=[]){let t=[];return I.Children.forEach(n,(r,i)=>{if(!I.isValidElement(r))return;let o=[...e,i];if(r.type===I.Fragment){t.push.apply(t,Ig(r.props.children,o));return}pt(r.type===on,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ig(r.props.children,o)),t.push(l)}),t}var Th="get",Ih="application/x-www-form-urlencoded";function Tf(n){return n!=null&&typeof n.tagName=="string"}function db(n){return Tf(n)&&n.tagName.toLowerCase()==="button"}function hb(n){return Tf(n)&&n.tagName.toLowerCase()==="form"}function fb(n){return Tf(n)&&n.tagName.toLowerCase()==="input"}function pb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mb(n,e){return n.button===0&&(!e||e==="_self")&&!pb(n)}var ah=null;function gb(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var yb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(n){return n!=null&&!yb.has(n)?(Lr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):n}function _b(n,e){let t,r,i,o,l;if(hb(n)){let c=n.getAttribute("action");r=c?Mi(c,e):null,t=n.getAttribute("method")||Th,i=zm(n.getAttribute("enctype"))||Ih,o=new FormData(n)}else if(db(n)||fb(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Mi(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Th,i=zm(n.getAttribute("formenctype"))||zm(c.getAttribute("enctype"))||Ih,o=new FormData(c,n),!gb()){let{name:p,type:g,value:v}=n;if(g==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,v)}}else{if(Tf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Th,r=null,i=Ih,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Dy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function vb(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Eb(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await vb(o,t);return l.links?l.links():[]}return[]}));return Sb(r.flat(1).filter(wb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eE(n,e,t,r,i,o){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):o==="data"?e.filter((h,p)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Tb(n,e,{includeHydrateFallback:t}={}){return Ib(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Ib(n){return[...new Set(n)]}function Cb(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Sb(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(Cb(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function xb(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function cC(){let n=I.useContext(Sl);return Dy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Rb(){let n=I.useContext(Ef);return Dy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Oy=I.createContext(void 0);Oy.displayName="FrameworkContext";function dC(){let n=I.useContext(Oy);return Dy(n,"You must render this element inside a <HydratedRouter> element"),n}function Ab(n,e){let t=I.useContext(Oy),[r,i]=I.useState(!1),[o,l]=I.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,E=I.useRef(null);I.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=j=>{j.forEach(U=>{l(U.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),I.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{i(!0)},R=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:bu(c,S),onBlur:bu(h,R),onMouseEnter:bu(p,S),onMouseLeave:bu(g,R),onTouchStart:bu(v,S)}]:[!1,E,{}]}function bu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Pb({page:n,...e}){let{router:t}=cC(),r=I.useMemo(()=>tC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?I.createElement(bb,{page:n,matches:r,...e}):null}function kb(n){let{manifest:e,routeModules:t}=dC(),[r,i]=I.useState([]);return I.useEffect(()=>{let o=!1;return Eb(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function bb({page:n,matches:e,...t}){let r=Js(),{manifest:i,routeModules:o}=dC(),{basename:l}=cC(),{loaderData:c,matches:h}=Rb(),p=I.useMemo(()=>eE(n,e,h,i,r,"data"),[n,e,h,i,r]),g=I.useMemo(()=>eE(n,e,h,i,r,"assets"),[n,e,h,i,r]),v=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,b=!1;if(e.forEach(j=>{var B;let U=i.routes[j.route.id];!U||!U.hasLoader||(!p.some(q=>q.route.id===j.route.id)&&j.route.id in c&&((B=o[j.route.id])!=null&&B.shouldRevalidate)||U.hasClientLoader?b=!0:R.add(j.route.id))}),R.size===0)return[];let x=xb(n,l);return b&&R.size>0&&x.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[x.pathname+x.search]},[l,c,r,i,p,e,n,o]),E=I.useMemo(()=>Tb(g,i),[g,i]),S=kb(g);return I.createElement(I.Fragment,null,v.map(R=>I.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>I.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:b})=>I.createElement("link",{key:R,...b})))}function Nb(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var hC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hC&&(window.__reactRouterVersion="7.3.0")}catch{}function Db({basename:n,children:e,window:t}){let r=I.useRef();r.current==null&&(r.current=wk({window:t,v5Compat:!0}));let i=r.current,[o,l]=I.useState({action:i.action,location:i.location}),c=I.useCallback(h=>{I.startTransition(()=>l(h))},[l]);return I.useLayoutEffect(()=>i.listen(c),[i,c]),I.createElement(ub,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var fC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lr=I.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:v,...E},S){let{basename:R}=I.useContext(Vr),b=typeof p=="string"&&fC.test(p),x,j=!1;if(typeof p=="string"&&b&&(x=p,hC))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),M=Mi(L.pathname,R);L.origin===k.origin&&M!=null?p=M+L.search+L.hash:j=!0}catch{Lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=qk(p,{relative:i}),[B,q,X]=Ab(r,E),Z=Vb(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:v});function N(k){e&&e(k),k.defaultPrevented||Z(k)}let P=I.createElement("a",{...E,...X,href:x||U,onClick:j||o?e:N,ref:Nb(S,q),target:h,"data-discover":!b&&t==="render"?"true":void 0});return B&&!b?I.createElement(I.Fragment,null,P,I.createElement(Pb,{page:U})):P});lr.displayName="Link";var Ob=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:h,...p},g){let v=Cc(l,{relative:p.relative}),E=Js(),S=I.useContext(Ef),{navigator:R,basename:b}=I.useContext(Vr),x=S!=null&&Bb(v)&&c===!0,j=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,U=E.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(U=U.toLowerCase(),B=B?B.toLowerCase():null,j=j.toLowerCase()),B&&b&&(B=Mi(B,b)||B);const q=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let X=U===j||!i&&U.startsWith(j)&&U.charAt(q)==="/",Z=B!=null&&(B===j||!i&&B.startsWith(j)&&B.charAt(j.length)==="/"),N={isActive:X,isPending:Z,isTransitioning:x},P=X?e:void 0,k;typeof r=="function"?k=r(N):k=[r,X?"active":null,Z?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(N):o;return I.createElement(lr,{...p,"aria-current":P,className:k,ref:g,style:L,to:l,viewTransition:c},typeof h=="function"?h(N):h)});Ob.displayName="NavLink";var Lb=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Th,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,...E},S)=>{let R=Ub(),b=$b(c,{relative:p}),x=l.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&fC.test(c),U=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,X=(q==null?void 0:q.getAttribute("formmethod"))||l;R(q||B.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:o,relative:p,preventScrollReset:g,viewTransition:v})};return I.createElement("form",{ref:S,method:x,action:b,onSubmit:r?h:U,...E,"data-discover":!j&&n==="render"?"true":void 0})});Lb.displayName="Form";function Mb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pC(n){let e=I.useContext(Sl);return pt(e,Mb(n)),e}function Vb(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=Zs(),h=Js(),p=Cc(n,{relative:o});return I.useCallback(g=>{if(mb(g,e)){g.preventDefault();let v=t!==void 0?t:oc(h)===oc(p);c(n,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,p,t,r,e,n,i,o,l])}var jb=0,Fb=()=>`__${String(++jb)}__`;function Ub(){let{router:n}=pC("useSubmit"),{basename:e}=I.useContext(Vr),t=ib();return I.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:h,body:p}=_b(r,e);if(i.navigate===!1){let g=i.fetcherKey||Fb();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function $b(n,{relative:e}={}){let{basename:t}=I.useContext(Vr),r=I.useContext(jr);pt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Cc(n||".",{relative:e})},l=Js();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Di([t,o.pathname])),oc(o)}function Bb(n,e={}){let t=I.useContext(sC);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pC("useViewTransitionState"),i=Cc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Mi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Mi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return jh(i.pathname,l)!=null||jh(i.pathname,o)!=null}new TextEncoder;var Ly=eC();const zb=Tc(Ly),Wb=()=>{};var tE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(n,e){if(!n)throw Rl(e)},Rl=function(n){return new Error("Firebase Database ("+mC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Hb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},My={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let E=(c&15)<<2|p>>6,S=p&63;h||(S=64,l||(E=64)),r.push(t[g],t[v],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Hb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||p==null||v==null)throw new qb;const E=o<<2|c>>4;if(r.push(E),p!==64){const S=c<<4&240|p>>2;if(r.push(S),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yC=function(n){const e=gC(n);return My.encodeByteArray(e,!0)},Fh=function(n){return yC(n).replace(/\./g,"")},Uh=function(n){try{return My.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n){return _C(void 0,n)}function _C(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Gb(t)||(n[t]=_C(n[t],e[t]));return n}function Gb(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=()=>Qb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof tE>"u")return;const n=tE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Jb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Uh(n[1]);return e&&JSON.parse(e)},If=()=>{try{return Wb()||Yb()||Xb()||Jb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vC=n=>{var e,t;return(t=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Vy=n=>{const e=vC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wC=()=>{var n;return(n=If())===null||n===void 0?void 0:n.config},EC=n=>{var e;return(e=If())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fh(JSON.stringify(t)),Fh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function Zb(){var n;const e=(n=If())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n2(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function r2(){return mC.NODE_ADMIN===!0}function i2(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s2(){try{return typeof indexedDB=="object"}catch{return!1}}function o2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="FirebaseError";class li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=a2,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?l2(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new li(i,c,r)}}function l2(n,e){return n.replace(u2,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){return JSON.parse(n)}function Xt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=function(n){let e={},t={},r={},i="";try{const o=n.split(".");e=ac(Uh(o[0])||""),t=ac(Uh(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},c2=function(n){const e=IC(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},d2=function(n){const e=IC(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ul(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Cg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $h(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function $s(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(nE(o)&&nE(l)){if(!$s(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function nE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function $u(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let v=0;v<16;v++)r[v]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let v=16;v<80;v++){const E=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(E<<1|E>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],p,g;for(let v=0;v<80;v++){v<40?v<20?(p=c^o&(l^c),g=1518500249):(p=o^l^c,g=1859775393):v<60?(p=o&l|c&(o|l),g=2400959708):(p=o^l^c,g=3395469782);const E=(i<<5|i>>>27)+p+h+g+r[v]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=i,i=E}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const o=this.buf_;let l=this.inbuf_;for(;i<t;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}else for(;i<t;)if(o[l]=e[i],++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function f2(n,e){const t=new p2(n,e);return t.subscribe.bind(t)}class p2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");m2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Wm),i.error===void 0&&(i.error=Wm),i.complete===void 0&&(i.complete=Wm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wm(){}function g2(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ce(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;i=65536+(o<<10)+l}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Cf=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(n){return n&&n._delegate?n._delegate:n}class Vi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _2=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new jy;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w2(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function v2(n){return n===Mo?void 0:n}function w2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const T2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},I2=Me.INFO,C2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},S2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=C2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sf{constructor(e){this.name=e,this._logLevel=I2,this._logHandler=S2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const x2=(n,e)=>e.some(t=>n instanceof t);let rE,iE;function R2(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A2(){return iE||(iE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CC=new WeakMap,Sg=new WeakMap,SC=new WeakMap,Hm=new WeakMap,$y=new WeakMap;function P2(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Os(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&CC.set(t,n)}).catch(()=>{}),$y.set(e,n),e}function k2(n){if(Sg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Sg.set(n,e)}let xg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||SC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function b2(n){xg=n(xg)}function N2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qm(this),e,...t);return SC.set(r,e.sort?e.sort():[e]),Os(r)}:A2().includes(n)?function(...e){return n.apply(qm(this),e),Os(CC.get(this))}:function(...e){return Os(n.apply(qm(this),e))}}function D2(n){return typeof n=="function"?N2(n):(n instanceof IDBTransaction&&k2(n),x2(n,R2())?new Proxy(n,xg):n)}function Os(n){if(n instanceof IDBRequest)return P2(n);if(Hm.has(n))return Hm.get(n);const e=D2(n);return e!==n&&(Hm.set(n,e),$y.set(e,n)),e}const qm=n=>$y.get(n);function O2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=Os(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Os(l.result),h.oldVersion,h.newVersion,Os(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const L2=["get","getKey","getAll","getAllKeys","count"],M2=["put","add","delete","clear"],Km=new Map;function sE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=M2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L2.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&h.done]))[0]};return Km.set(e,o),o}b2(n=>({...n,get:(e,t,r)=>sE(e,t)||n.get(e,t,r),has:(e,t)=>!!sE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(j2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function j2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rg="@firebase/app",oE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Sf("@firebase/app"),F2="@firebase/app-compat",U2="@firebase/analytics-compat",$2="@firebase/analytics",B2="@firebase/app-check-compat",z2="@firebase/app-check",W2="@firebase/auth",H2="@firebase/auth-compat",q2="@firebase/database",K2="@firebase/data-connect",G2="@firebase/database-compat",Q2="@firebase/functions",Y2="@firebase/functions-compat",X2="@firebase/installations",J2="@firebase/installations-compat",Z2="@firebase/messaging",eN="@firebase/messaging-compat",tN="@firebase/performance",nN="@firebase/performance-compat",rN="@firebase/remote-config",iN="@firebase/remote-config-compat",sN="@firebase/storage",oN="@firebase/storage-compat",aN="@firebase/firestore",lN="@firebase/vertexai",uN="@firebase/firestore-compat",cN="firebase",dN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",hN={[Rg]:"fire-core",[F2]:"fire-core-compat",[$2]:"fire-analytics",[U2]:"fire-analytics-compat",[z2]:"fire-app-check",[B2]:"fire-app-check-compat",[W2]:"fire-auth",[H2]:"fire-auth-compat",[q2]:"fire-rtdb",[K2]:"fire-data-connect",[G2]:"fire-rtdb-compat",[Q2]:"fire-fn",[Y2]:"fire-fn-compat",[X2]:"fire-iid",[J2]:"fire-iid-compat",[Z2]:"fire-fcm",[eN]:"fire-fcm-compat",[tN]:"fire-perf",[nN]:"fire-perf-compat",[rN]:"fire-rc",[iN]:"fire-rc-compat",[sN]:"fire-gcs",[oN]:"fire-gcs-compat",[aN]:"fire-fst",[uN]:"fire-fst-compat",[lN]:"fire-vertex","fire-js":"fire-js",[cN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,fN=new Map,Pg=new Map;function aE(n,e){try{n.container.addComponent(e)}catch(t){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bs(n){const e=n.name;if(Pg.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,n);for(const t of Bh.values())aE(t,n);for(const t of fN.values())aE(t,n);return!0}function xc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Sc("app","Firebase",pN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=dN;function xC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ag,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(t||(t=wC()),!t)throw Ls.create("no-options");const o=Bh.get(i);if(o){if($s(t,o.options)&&$s(r,o.config))return o;throw Ls.create("duplicate-app",{appName:i})}const l=new E2(i);for(const h of Pg.values())l.addComponent(h);const c=new mN(t,r,l);return Bh.set(i,c),c}function xf(n=Ag){const e=Bh.get(n);if(!e&&n===Ag&&wC())return xC();if(!e)throw Ls.create("no-app",{appName:n});return e}function ur(n,e,t){var r;let i=(r=hN[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(c.join(" "));return}Bs(new Vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firebase-heartbeat-database",yN=1,lc="firebase-heartbeat-store";let Gm=null;function RC(){return Gm||(Gm=O2(gN,yN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ls.create("idb-open",{originalErrorMessage:n.message})})),Gm}async function _N(n){try{const t=(await RC()).transaction(lc),r=await t.objectStore(lc).get(AC(n));return await t.done,r}catch(e){if(e instanceof li)ji.warn(e.message);else{const t=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(t.message)}}}async function lE(n,e){try{const r=(await RC()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,AC(n)),await r.done}catch(t){if(t instanceof li)ji.warn(t.message);else{const r=Ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ji.warn(r.message)}}}function AC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1024,wN=30;class EN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>wN){const l=CN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uE(),{heartbeatsToSend:r,unsentEntries:i}=TN(this._heartbeatsCache.heartbeats),o=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ji.warn(t),""}}}function uE(){return new Date().toISOString().substring(0,10)}function TN(n,e=vN){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),cE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),cE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class IN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s2()?o2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _N(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return lE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return lE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cE(n){return Fh(JSON.stringify({version:2,heartbeats:n})).length}function CN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){Bs(new Vi("platform-logger",e=>new V2(e),"PRIVATE")),Bs(new Vi("heartbeat",e=>new EN(e),"PRIVATE")),ur(Rg,oE,n),ur(Rg,oE,"esm2017"),ur("fire-js","")}SN("");function By(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function PC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xN=PC,kC=new Sc("auth","Firebase",PC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Sf("@firebase/auth");function RN(n,...e){zh.logLevel<=Me.WARN&&zh.warn(`Auth (${eo}): ${n}`,...e)}function Ch(n,...e){zh.logLevel<=Me.ERROR&&zh.error(`Auth (${eo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw Wy(n,...e)}function Dr(n,...e){return Wy(n,...e)}function zy(n,e,t){const r=Object.assign(Object.assign({},xN()),{[e]:t});return new Sc("auth","Firebase",r).create(e,{appName:n.name})}function ti(n){return zy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(n,"argument-error"),zy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kC.create(n,...e)}function Ce(n,e,...t){if(!n)throw Wy(e,...t)}function Pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ch(e),new Error(e)}function Fi(n,e){n||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function PN(){return dE()==="http:"||dE()==="https:"}function dE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PN()||t2()||"connection"in navigator)?navigator.onLine:!0}function bN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fi(t>e,"Short delay should be less than long delay!"),this.isMobile=Uy()||TC()}get(){return kN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(n,e){Fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new Rc(3e4,6e4);function to(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ui(n,e,t,r,i={}){return NC(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Al(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return e2()||(p.referrerPolicy="no-referrer"),bC.fetch()(DC(n,n.config.apiHost,t,c),p)})}async function NC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},NN),e);try{const i=new LN(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw lh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw lh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw lh(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zy(n,g,p);dr(n,g)}}catch(i){if(i instanceof li)throw i;dr(n,"network-request-failed",{message:String(i)})}}async function Ac(n,e,t,r,i={}){const o=await ui(n,e,t,r,i);return"mfaPendingCredential"in o&&dr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function DC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Hy(n.config,i):`${n.config.apiScheme}://${i}`}function ON(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),DN.get())})}}function lh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Dr(n,e,r);return i.customData._tokenResponse=t,i}function hE(n){return n!==void 0&&n.enterprise!==void 0}class MN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ON(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VN(n,e){return ui(n,"GET","/v2/recaptchaConfig",to(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e){return ui(n,"POST","/v1/accounts:delete",e)}async function OC(n,e){return ui(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FN(n,e=!1){const t=it(n),r=await t.getIdToken(e),i=qy(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:qu(Qm(i.auth_time)),issuedAtTime:qu(Qm(i.iat)),expirationTime:qu(Qm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qm(n){return Number(n)*1e3}function qy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=Uh(t);return i?JSON.parse(i):(Ch("Failed to decode base64 JWT payload"),null)}catch(i){return Ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fE(n){const e=qy(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof li&&UN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function UN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await zo(n,OC(t,{idToken:r}));Ce(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?LC(o.providerUserInfo):[],c=zN(n.providerData,l),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new bg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function BN(n){const e=it(n);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LC(n){return n.map(e=>{var{providerId:t}=e,r=By(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(n,e){const t=await NC(n,{},async()=>{const r=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=DC(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",bC.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HN(n,e){return ui(n,"POST","/v2/accounts:revokeToken",to(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=fE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await WN(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new tl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=By(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FN(this,e)}reload(){return BN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await zo(this,jN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,h,p,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(l=t.photoURL)!==null&&l!==void 0?l:void 0,b=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:q,isAnonymous:X,providerData:Z,stsTokenManager:N}=t;Ce(B&&N,e,"internal-error");const P=tl.fromJSON(this.name,N);Ce(typeof B=="string",e,"internal-error"),Ss(v,e.name),Ss(E,e.name),Ce(typeof q=="boolean",e,"internal-error"),Ce(typeof X=="boolean",e,"internal-error"),Ss(S,e.name),Ss(R,e.name),Ss(b,e.name),Ss(x,e.name),Ss(j,e.name),Ss(U,e.name);const k=new ki({uid:B,auth:e,email:E,emailVerified:q,displayName:v,isAnonymous:X,photoURL:R,phoneNumber:S,tenantId:b,stsTokenManager:P,createdAt:j,lastLoginAt:U});return Z&&Array.isArray(Z)&&(k.providerData=Z.map(L=>Object.assign({},L))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new tl;i.updateFromServerResponse(t);const o=new ki({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ce(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?LC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new tl;c.updateFromIdToken(r);const h=new ki({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function bi(n){Fi(n instanceof Function,"Expected a class definition");let e=pE.get(n);return e?(Fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MC.type="NONE";const mE=MC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n,e,t){return`firebase:${n}:${e}:${t}`}class nl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Sh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new nl(bi(mE),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||bi(mE);const l=Sh(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const v=ki._fromJSON(e,g);p!==o&&(c=v),o=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new nl(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new nl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BC(e))return"Blackberry";if(zC(e))return"Webos";if(jC(e))return"Safari";if((e.includes("chrome/")||FC(e))&&!e.includes("edge/"))return"Chrome";if($C(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VC(n=pn()){return/firefox\//i.test(n)}function jC(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FC(n=pn()){return/crios\//i.test(n)}function UC(n=pn()){return/iemobile/i.test(n)}function $C(n=pn()){return/android/i.test(n)}function BC(n=pn()){return/blackberry/i.test(n)}function zC(n=pn()){return/webos/i.test(n)}function Ky(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qN(n=pn()){var e;return Ky(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KN(){return n2()&&document.documentMode===10}function WC(n=pn()){return Ky(n)||$C(n)||zC(n)||BC(n)||/windows phone/i.test(n)||UC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n,e=[]){let t;switch(n){case"Browser":t=gE(pn());break;case"Worker":t=`${gE(pn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(n,e={}){return ui(n,"GET","/v2/passwordPolicy",to(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=6;class XN{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:YN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new GN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bi(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await OC(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(ti(this));const t=e?it(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QN(this),t=new XN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await HN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function no(n){return it(n)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=f2(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZN(n){Rf=n}function qC(n){return Rf.loadJS(n)}function eD(){return Rf.recaptchaEnterpriseScript}function tD(){return Rf.gapiScript}function nD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rD{constructor(){this.enterprise=new iD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sD="recaptcha-enterprise",KC="NO_RECAPTCHA";class oD{constructor(e){this.type=sD,this.auth=no(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{VN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new MN(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;hE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(KC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rD().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&hE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eD();h.length!==0&&(h+=c),qC(h).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function _E(n,e,t,r=!1,i=!1){const o=new oD(n);let l;if(i)l=KC;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ng(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await _E(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await _E(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n,e){const t=xc(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if($s(o,e??{}))return i;dr(i,"already-initialized")}return t.initialize({options:e})}function lD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(bi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uD(n,e,t){const r=no(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=GC(e),{host:l,port:c}=cD(e),h=c===null?"":`:${c}`,p={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce($s(p,r.config.emulator)&&$s(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,dD()}function GC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cD(n){const e=GC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:vE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:vE(l)}}}function vE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function hD(n,e){return ui(n,"POST","/v1/accounts:update",e)}async function fD(n,e){return ui(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(n,e){return Ac(n,"POST","/v1/accounts:signInWithPassword",to(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(n,e){return Ac(n,"POST","/v1/accounts:signInWithEmailLink",to(n,e))}async function gD(n,e){return Ac(n,"POST","/v1/accounts:signInWithEmailLink",to(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Gy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new uc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new uc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,t,"signInWithPassword",pD);case"emailLink":return mD(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,r,"signUpPassword",fD);case"emailLink":return gD(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(n,e){return Ac(n,"POST","/v1/accounts:signInWithIdp",to(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="http://localhost";class Wo extends Gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=By(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Wo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return rl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,rl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rl(e,t)}buildRequest(){const e={requestUri:yD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Al(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vD(n){const e=Uu($u(n)).link,t=e?Uu($u(e)).deep_link_id:null,r=Uu($u(n)).deep_link_id;return(r?Uu($u(r)).link:null)||r||t||e||n}class Qy{constructor(e){var t,r,i,o,l,c;const h=Uu($u(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,v=_D((i=h.mode)!==null&&i!==void 0?i:null);Ce(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=vD(e);try{return new Qy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,t){return uc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Qy.parseLink(t);return Ce(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Pc{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Jr.credential(t,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Pc{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Pc{constructor(){super("twitter.com")}static credential(e,t){return Wo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e){return Ac(n,"POST","/v1/accounts:signUp",to(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ki._fromIdTokenResponse(e,r,i),l=wE(r);return new Ho({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=wE(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function wE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends li{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Hh(e,t,r,i)}}function QC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(n,o,e,r):o})}async function ED(n,e,t=!1){const r=await zo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ho._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(n,e,t=!1){const{auth:r}=n;if(dn(r.app))return Promise.reject(ti(r));const i="reauthenticate";try{const o=await zo(n,QC(r,i,e,n),t);Ce(o.idToken,r,"internal-error");const l=qy(o.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),Ho._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(n,e,t=!1){if(dn(n.app))return Promise.reject(ti(n));const r="signIn",i=await QC(n,r,e),o=await Ho._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function ID(n,e){return YC(no(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(n){const e=no(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CD(n,e,t){if(dn(n.app))return Promise.reject(ti(n));const r=no(n),l=await Ng(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wD).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&XC(n),h}),c=await Ho._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function SD(n,e,t){return dn(n.app)?Promise.reject(ti(n)):ID(it(n),Pl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XC(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e){return ui(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dg(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=it(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await zo(r,xD(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function RD(n,e){const t=it(n);return dn(t.auth.app)?Promise.reject(ti(t.auth)):AD(t,e)}async function AD(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e);const l=await zo(n,hD(r,o));await n._updateTokensIfNecessary(l,!0)}function PD(n,e,t,r){return it(n).onIdTokenChanged(e,t,r)}function kD(n,e,t){return it(n).beforeAuthStateChanged(e,t)}function JC(n,e,t,r){return it(n).onAuthStateChanged(e,t,r)}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=1e3,ND=10;class eS extends ZC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);KN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ND):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eS.type="LOCAL";const DD=eS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends ZC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tS.type="SESSION";const nS=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),h=await OD(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=Xy("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function MD(n){ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function VD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FD(){return rS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebaseLocalStorageDb",UD=1,Kh="firebaseLocalStorage",sS="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pf(n,e){return n.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function $D(){const n=indexedDB.deleteDatabase(iS);return new kc(n).toPromise()}function Og(){const n=indexedDB.open(iS,UD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Kh,{keyPath:sS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),await $D(),e(await Og()))})})}async function EE(n,e,t){const r=Pf(n,!0).put({[sS]:e,value:t});return new kc(r).toPromise()}async function BD(n,e){const t=Pf(n,!1).get(e),r=await new kc(t).toPromise();return r===void 0?null:r.value}function TE(n,e){const t=Pf(n,!0).delete(e);return new kc(t).toPromise()}const zD=800,WD=3;class oS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Og(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>WD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(FD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await VD(),!this.activeServiceWorker)return;this.sender=new LD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Og();return await EE(e,qh,"1"),await TE(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>EE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>BD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Pf(i,!1).getAll();return new kc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oS.type="LOCAL";const HD=oS;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n,e){return e?bi(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qD(n){return YC(n.auth,new Jy(n),n.bypassAuthState)}function KD(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),TD(t,new Jy(n),n.bypassAuthState)}async function GD(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),ED(t,new Jy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:dr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Rc(2e3,1e4);async function YD(n,e,t){if(dn(n.app))return Promise.reject(Dr(n,"operation-not-supported-in-this-environment"));const r=no(n);AN(n,e,Yy);const i=aS(r,t);return new jo(r,"signInViaPopup",e,i).executeNotNull()}class jo extends lS{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QD.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="pendingRedirect",xh=new Map;class JD extends lS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const r=await ZD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZD(n,e){const t=nO(e),r=tO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function eO(n,e){xh.set(n._key(),e)}function tO(n){return bi(n._redirectPersistence)}function nO(n){return Sh(XD,n.config.apiKey,n.name)}async function rO(n,e,t=!1){if(dn(n.app))return Promise.reject(ti(n));const r=no(n),i=aS(r,e),l=await new JD(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=10*60*1e3;class sO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Dr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iO&&this.cachedEventUids.clear(),this.cachedEventUids.has(IE(e))}saveEventToCache(e){this.cachedEventUids.add(IE(e)),this.lastProcessedEventTime=Date.now()}}function IE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,e={}){return ui(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uO=/^https?/;async function cO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aO(n);for(const t of e)try{if(dO(t))return}catch{}dr(n,"unauthorized-domain")}function dO(n){const e=kg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!uO.test(t))return!1;if(lO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Rc(3e4,6e4);function CE(){const n=ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fO(n){return new Promise((e,t)=>{var r,i,o;function l(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),t(Dr(n,"network-request-failed"))},timeout:hO.get()})}if(!((i=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ni().gapi)===null||o===void 0)&&o.load)l();else{const c=nD("iframefcb");return ni()[c]=()=>{gapi.load?l():t(Dr(n,"network-request-failed"))},qC(`${tD()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function pO(n){return Rh=Rh||fO(n),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new Rc(5e3,15e3),gO="__/auth/iframe",yO="emulator/auth/iframe",_O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wO(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hy(e,yO):`https://${n.config.authDomain}/${gO}`,r={apiKey:e.apiKey,appName:n.name,v:eo},i=vO.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Al(r).slice(1)}`}async function EO(n){const e=await pO(n),t=ni().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:wO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_O,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Dr(n,"network-request-failed"),c=ni().setTimeout(()=>{o(l)},mO.get());function h(){ni().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IO=500,CO=600,SO="_blank",xO="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RO(n,e,t,r=IO,i=CO){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},TO),{width:r.toString(),height:i.toString(),top:o,left:l}),p=pn().toLowerCase();t&&(c=FC(p)?SO:t),VC(p)&&(e=e||xO,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[S,R])=>`${E}${S}=${R},`,"");if(qN(p)&&c!=="_self")return AO(e||"",c),new SE(null);const v=window.open(e||"",c,g);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new SE(v)}function AO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="__/auth/handler",kO="emulator/auth/handler",bO=encodeURIComponent("fac");async function xE(n,e,t,r,i,o){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:eo,eventId:i};if(e instanceof Yy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Cg(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Pc){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),p=h?`#${bO}=${encodeURIComponent(h)}`:"";return`${NO(n)}?${Al(c).slice(1)}${p}`}function NO({config:n}){return n.emulator?Hy(n,kO):`https://${n.authDomain}/${PO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class DO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=rO,this._overrideRedirectResult=eO}async _openPopup(e,t,r,i){var o;Fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await xE(e,t,r,kg(),i);return RO(e,l,Xy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await xE(e,t,r,kg(),i);return MD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await EO(e),r=new sO(e);return t.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ym,{type:Ym},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ym];l!==void 0&&t(!!l),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WC()||jC()||Ky()}}const OO=DO;var RE="@firebase/auth",AE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VO(n){Bs(new Vi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HC(n)},p=new JN(r,i,o,h);return lD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bs(new Vi("auth-internal",e=>{const t=no(e.getProvider("auth").getImmediate());return(r=>new LO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(RE,AE,MO(n)),ur(RE,AE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=5*60,FO=EC("authIdTokenMaxAge")||jO;let PE=null;const UO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>FO)return;const i=t==null?void 0:t.token;PE!==i&&(PE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kf(n=xf()){const e=xc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aD(n,{popupRedirectResolver:OO,persistence:[HD,DD,nS]}),r=EC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=UO(o.toString());kD(t,l,()=>l(t.currentUser)),PD(t,c=>l(c))}}const i=vC("auth");return i&&uD(t,`http://${i}`),t}function $O(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Dr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",$O().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VO("Browser");var BO="firebase",zO="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(BO,zO,"app");var kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,cS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function k(){}k.prototype=P.prototype,N.D=P.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,M,V){for(var D=Array(arguments.length-2),le=2;le<arguments.length;le++)D[le-2]=arguments[le];return P.prototype[M].apply(L,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,P,k){k||(k=0);var L=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)L[M]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(M=0;16>M;++M)L[M]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=N.g[0],k=N.g[1],M=N.g[2];var V=N.g[3],D=P+(V^k&(M^V))+L[0]+3614090360&4294967295;P=k+(D<<7&4294967295|D>>>25),D=V+(M^P&(k^M))+L[1]+3905402710&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(k^V&(P^k))+L[2]+606105819&4294967295,M=V+(D<<17&4294967295|D>>>15),D=k+(P^M&(V^P))+L[3]+3250441966&4294967295,k=M+(D<<22&4294967295|D>>>10),D=P+(V^k&(M^V))+L[4]+4118548399&4294967295,P=k+(D<<7&4294967295|D>>>25),D=V+(M^P&(k^M))+L[5]+1200080426&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(k^V&(P^k))+L[6]+2821735955&4294967295,M=V+(D<<17&4294967295|D>>>15),D=k+(P^M&(V^P))+L[7]+4249261313&4294967295,k=M+(D<<22&4294967295|D>>>10),D=P+(V^k&(M^V))+L[8]+1770035416&4294967295,P=k+(D<<7&4294967295|D>>>25),D=V+(M^P&(k^M))+L[9]+2336552879&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(k^V&(P^k))+L[10]+4294925233&4294967295,M=V+(D<<17&4294967295|D>>>15),D=k+(P^M&(V^P))+L[11]+2304563134&4294967295,k=M+(D<<22&4294967295|D>>>10),D=P+(V^k&(M^V))+L[12]+1804603682&4294967295,P=k+(D<<7&4294967295|D>>>25),D=V+(M^P&(k^M))+L[13]+4254626195&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(k^V&(P^k))+L[14]+2792965006&4294967295,M=V+(D<<17&4294967295|D>>>15),D=k+(P^M&(V^P))+L[15]+1236535329&4294967295,k=M+(D<<22&4294967295|D>>>10),D=P+(M^V&(k^M))+L[1]+4129170786&4294967295,P=k+(D<<5&4294967295|D>>>27),D=V+(k^M&(P^k))+L[6]+3225465664&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^k&(V^P))+L[11]+643717713&4294967295,M=V+(D<<14&4294967295|D>>>18),D=k+(V^P&(M^V))+L[0]+3921069994&4294967295,k=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(k^M))+L[5]+3593408605&4294967295,P=k+(D<<5&4294967295|D>>>27),D=V+(k^M&(P^k))+L[10]+38016083&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^k&(V^P))+L[15]+3634488961&4294967295,M=V+(D<<14&4294967295|D>>>18),D=k+(V^P&(M^V))+L[4]+3889429448&4294967295,k=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(k^M))+L[9]+568446438&4294967295,P=k+(D<<5&4294967295|D>>>27),D=V+(k^M&(P^k))+L[14]+3275163606&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^k&(V^P))+L[3]+4107603335&4294967295,M=V+(D<<14&4294967295|D>>>18),D=k+(V^P&(M^V))+L[8]+1163531501&4294967295,k=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(k^M))+L[13]+2850285829&4294967295,P=k+(D<<5&4294967295|D>>>27),D=V+(k^M&(P^k))+L[2]+4243563512&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^k&(V^P))+L[7]+1735328473&4294967295,M=V+(D<<14&4294967295|D>>>18),D=k+(V^P&(M^V))+L[12]+2368359562&4294967295,k=M+(D<<20&4294967295|D>>>12),D=P+(k^M^V)+L[5]+4294588738&4294967295,P=k+(D<<4&4294967295|D>>>28),D=V+(P^k^M)+L[8]+2272392833&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^k)+L[11]+1839030562&4294967295,M=V+(D<<16&4294967295|D>>>16),D=k+(M^V^P)+L[14]+4259657740&4294967295,k=M+(D<<23&4294967295|D>>>9),D=P+(k^M^V)+L[1]+2763975236&4294967295,P=k+(D<<4&4294967295|D>>>28),D=V+(P^k^M)+L[4]+1272893353&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^k)+L[7]+4139469664&4294967295,M=V+(D<<16&4294967295|D>>>16),D=k+(M^V^P)+L[10]+3200236656&4294967295,k=M+(D<<23&4294967295|D>>>9),D=P+(k^M^V)+L[13]+681279174&4294967295,P=k+(D<<4&4294967295|D>>>28),D=V+(P^k^M)+L[0]+3936430074&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^k)+L[3]+3572445317&4294967295,M=V+(D<<16&4294967295|D>>>16),D=k+(M^V^P)+L[6]+76029189&4294967295,k=M+(D<<23&4294967295|D>>>9),D=P+(k^M^V)+L[9]+3654602809&4294967295,P=k+(D<<4&4294967295|D>>>28),D=V+(P^k^M)+L[12]+3873151461&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^k)+L[15]+530742520&4294967295,M=V+(D<<16&4294967295|D>>>16),D=k+(M^V^P)+L[2]+3299628645&4294967295,k=M+(D<<23&4294967295|D>>>9),D=P+(M^(k|~V))+L[0]+4096336452&4294967295,P=k+(D<<6&4294967295|D>>>26),D=V+(k^(P|~M))+L[7]+1126891415&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~k))+L[14]+2878612391&4294967295,M=V+(D<<15&4294967295|D>>>17),D=k+(V^(M|~P))+L[5]+4237533241&4294967295,k=M+(D<<21&4294967295|D>>>11),D=P+(M^(k|~V))+L[12]+1700485571&4294967295,P=k+(D<<6&4294967295|D>>>26),D=V+(k^(P|~M))+L[3]+2399980690&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~k))+L[10]+4293915773&4294967295,M=V+(D<<15&4294967295|D>>>17),D=k+(V^(M|~P))+L[1]+2240044497&4294967295,k=M+(D<<21&4294967295|D>>>11),D=P+(M^(k|~V))+L[8]+1873313359&4294967295,P=k+(D<<6&4294967295|D>>>26),D=V+(k^(P|~M))+L[15]+4264355552&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~k))+L[6]+2734768916&4294967295,M=V+(D<<15&4294967295|D>>>17),D=k+(V^(M|~P))+L[13]+1309151649&4294967295,k=M+(D<<21&4294967295|D>>>11),D=P+(M^(k|~V))+L[4]+4149444226&4294967295,P=k+(D<<6&4294967295|D>>>26),D=V+(k^(P|~M))+L[11]+3174756917&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~k))+L[2]+718787259&4294967295,M=V+(D<<15&4294967295|D>>>17),D=k+(V^(M|~P))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.u=function(N,P){P===void 0&&(P=N.length);for(var k=P-this.blockSize,L=this.B,M=this.h,V=0;V<P;){if(M==0)for(;V<=k;)i(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<P;)if(L[M++]=N.charCodeAt(V++),M==this.blockSize){i(this,L),M=0;break}}else for(;V<P;)if(L[M++]=N[V++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;var k=8*this.o;for(P=N.length-8;P<N.length;++P)N[P]=k&255,k/=256;for(this.u(N),N=Array(16),P=k=0;4>P;++P)for(var L=0;32>L;L+=8)N[k++]=this.g[P]>>>L&255;return N};function o(N,P){var k=c;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=P(N)}function l(N,P){this.h=P;for(var k=[],L=!0,M=N.length-1;0<=M;M--){var V=N[M]|0;L&&V==P||(k[M]=V,L=!1)}this.g=k}var c={};function h(N){return-128<=N&&128>N?o(N,function(P){return new l([P|0],0>P?-1:0)}):new l([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return x(p(-N));for(var P=[],k=1,L=0;N>=k;L++)P[L]=N/k|0,k*=4294967296;return new l(P,0)}function g(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return x(g(N.substring(1),P));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(P,8)),L=v,M=0;M<N.length;M+=8){var V=Math.min(8,N.length-M),D=parseInt(N.substring(M,M+V),P);8>V?(V=p(Math.pow(P,V)),L=L.j(V).add(p(D))):(L=L.j(k),L=L.add(p(D)))}return L}var v=h(0),E=h(1),S=h(16777216);n=l.prototype,n.m=function(){if(b(this))return-x(this).m();for(var N=0,P=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*P,P*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(b(this))return"-"+x(this).toString(N);for(var P=p(Math.pow(N,6)),k=this,L="";;){var M=q(k,P).g;k=j(k,M.j(P));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=M,R(k))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(var P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function b(N){return N.h==-1}n.l=function(N){return N=j(this,N),b(N)?-1:R(N)?0:1};function x(N){for(var P=N.g.length,k=[],L=0;L<P;L++)k[L]=~N.g[L];return new l(k,~N.h).add(E)}n.abs=function(){return b(this)?x(this):this},n.add=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0,M=0;M<=P;M++){var V=L+(this.i(M)&65535)+(N.i(M)&65535),D=(V>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);L=D>>>16,V&=65535,D&=65535,k[M]=D<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function j(N,P){return N.add(x(P))}n.j=function(N){if(R(this)||R(N))return v;if(b(this))return b(N)?x(this).j(x(N)):x(x(this).j(N));if(b(N))return x(this.j(x(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var P=this.g.length+N.g.length,k=[],L=0;L<2*P;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<N.g.length;M++){var V=this.i(L)>>>16,D=this.i(L)&65535,le=N.i(M)>>>16,Se=N.i(M)&65535;k[2*L+2*M]+=D*Se,U(k,2*L+2*M),k[2*L+2*M+1]+=V*Se,U(k,2*L+2*M+1),k[2*L+2*M+1]+=D*le,U(k,2*L+2*M+1),k[2*L+2*M+2]+=V*le,U(k,2*L+2*M+2)}for(L=0;L<P;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=P;L<2*P;L++)k[L]=0;return new l(k,0)};function U(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function B(N,P){this.g=N,this.h=P}function q(N,P){if(R(P))throw Error("division by zero");if(R(N))return new B(v,v);if(b(N))return P=q(x(N),P),new B(x(P.g),x(P.h));if(b(P))return P=q(N,x(P)),new B(x(P.g),P.h);if(30<N.g.length){if(b(N)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var k=E,L=P;0>=L.l(N);)k=X(k),L=X(L);var M=Z(k,1),V=Z(L,1);for(L=Z(L,2),k=Z(k,2);!R(L);){var D=V.add(L);0>=D.l(N)&&(M=M.add(k),V=D),L=Z(L,1),k=Z(k,1)}return P=j(N,M.j(P)),new B(M,P)}for(M=v;0<=N.l(P);){for(k=Math.max(1,Math.floor(N.m()/P.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=p(k),D=V.j(P);b(D)||0<D.l(N);)k-=L,V=p(k),D=V.j(P);R(V)&&(V=E),M=M.add(V),N=j(N,D)}return new B(M,N)}n.A=function(N){return q(this,N).h},n.and=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)&N.i(L);return new l(k,this.h&N.h)},n.or=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)|N.i(L);return new l(k,this.h|N.h)},n.xor=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)^N.i(L);return new l(k,this.h^N.h)};function X(N){for(var P=N.g.length+1,k=[],L=0;L<P;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new l(k,N.h)}function Z(N,P){var k=P>>5;P%=32;for(var L=N.g.length-k,M=[],V=0;V<L;V++)M[V]=0<P?N.i(V+k)>>>P|N.i(V+k+1)<<32-P:N.i(V+k);return new l(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ms=l}).apply(typeof kE<"u"?kE:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dS,Bu,hS,Ah,Lg,fS,pS,mS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var T=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var W=d[A];if(!(W in T))break e;T=T[W]}d=d[d.length-1],A=T[d],y=y(A),y!=A&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var T=0,A=!1,W={next:function(){if(!A&&T<d.length){var Q=T++;return{value:y(Q,d[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(d){return d||function(){return o(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,T){return d.call.apply(d.bind,arguments)}function v(d,y,T){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function E(d,y,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function S(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function R(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(A,W,Q){for(var ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ae[Je-2]=arguments[Je];return y.prototype[W].apply(A,ae)}}function b(d){const y=d.length;if(0<y){const T=Array(y);for(let A=0;A<y;A++)T[A]=d[A];return T}return[]}function x(d,y){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(h(A)){const W=d.length||0,Q=A.length||0;d.length=W+Q;for(let ae=0;ae<Q;ae++)d[W+ae]=A[ae]}else d.push(A)}}class j{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(d,y,T){for(const A in d)y.call(T,d[A],A,d)}function N(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function P(d){const y={};for(const T in d)y[T]=d[T];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,y){let T,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(T in A)d[T]=A[T];for(let Q=0;Q<k.length;Q++)T=k[Q],Object.prototype.hasOwnProperty.call(A,T)&&(d[T]=A[T])}}function M(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function V(d){c.setTimeout(()=>{throw d},0)}function D(){var d=ue;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class le{constructor(){this.h=this.g=null}add(y,T){const A=Se.get();A.set(y,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Se=new j(()=>new Re,d=>d.reset());class Re{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ie=!1,ue=new le,se=()=>{const d=c.Promise.resolve(void 0);Te=()=>{d.then(z)}};var z=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(T){V(T)}var y=Se;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return d}();function Ae(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(X){e:{try{q(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}R(Ae,pe);var De={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Qe(d,y,T,A,W){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!A,this.ha=W,this.key=++Oe,this.da=this.fa=!1}function xt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Mn(d){this.src=d,this.g={},this.h=0}Mn.prototype.add=function(d,y,T,A,W){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ae=mr(d,y,A,W);return-1<ae?(y=d[ae],T||(y.fa=!1)):(y=new Qe(y,this.src,Q,!!A,W),y.fa=T,d.push(y)),y};function Gi(d,y){var T=y.type;if(T in d.g){var A=d.g[T],W=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(A,W,1),Q&&(xt(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function mr(d,y,T,A){for(var W=0;W<d.length;++W){var Q=d[W];if(!Q.da&&Q.listener==y&&Q.capture==!!T&&Q.ha==A)return W}return-1}var di="closure_lm_"+(1e6*Math.random()|0),Qi={};function Yi(d,y,T,A,W){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Yi(d,y[Q],T,A,W);return null}return T=es(T),d&&d[Ve]?d.K(y,T,p(A)?!!A.capture:!1,W):Xi(d,y,T,!1,A,W)}function Xi(d,y,T,A,W,Q){if(!y)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,Je=hi(d);if(Je||(d[di]=Je=new Mn(d)),T=Je.add(y,T,A,ae,Q),T.proxy)return T;if(A=oa(),T.proxy=A,A.src=d,A.listener=T,d.addEventListener)Ie||(W=ae),W===void 0&&(W=!1),d.addEventListener(y.toString(),A,W);else if(d.attachEvent)d.attachEvent(En(y.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function oa(){function d(T){return y.call(d.src,d.listener,T)}const y=Zi;return d}function Ji(d,y,T,A,W){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Ji(d,y[Q],T,A,W);else A=p(A)?!!A.capture:!!A,T=es(T),d&&d[Ve]?(d=d.i,y=String(y).toString(),y in d.g&&(Q=d.g[y],T=mr(Q,T,A,W),-1<T&&(xt(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete d.g[y],d.h--)))):d&&(d=hi(d))&&(y=d.g[y.toString()],d=-1,y&&(d=mr(y,T,A,W)),(T=-1<d?y[d]:null)&&qt(T))}function qt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ve])Gi(y.i,d);else{var T=d.type,A=d.proxy;y.removeEventListener?y.removeEventListener(T,A,d.capture):y.detachEvent?y.detachEvent(En(T),A):y.addListener&&y.removeListener&&y.removeListener(A),(T=hi(y))?(Gi(T,d),T.h==0&&(T.src=null,y[di]=null)):xt(d)}}}function En(d){return d in Qi?Qi[d]:Qi[d]="on"+d}function Zi(d,y){if(d.da)d=!0;else{y=new Ae(y,this);var T=d.listener,A=d.ha||d.src;d.fa&&qt(d),d=T.call(A,y)}return d}function hi(d){return d=d[di],d instanceof Mn?d:null}var Fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(d){return typeof d=="function"?d:(d[Fr]||(d[Fr]=function(y){return d.handleEvent(y)}),d[Fr])}function yt(){Y.call(this),this.i=new Mn(this),this.M=this,this.F=null}R(yt,Y),yt.prototype[Ve]=!0,yt.prototype.removeEventListener=function(d,y,T,A){Ji(this,d,y,T,A)};function _t(d,y){var T,A=d.F;if(A)for(T=[];A;A=A.F)T.push(A);if(d=d.M,A=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var W=y;y=new pe(A,d),L(y,W)}if(W=!0,T)for(var Q=T.length-1;0<=Q;Q--){var ae=y.g=T[Q];W=Yn(ae,A,!0,y)&&W}if(ae=y.g=d,W=Yn(ae,A,!0,y)&&W,W=Yn(ae,A,!1,y)&&W,T)for(Q=0;Q<T.length;Q++)ae=y.g=T[Q],W=Yn(ae,A,!1,y)&&W}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],A=0;A<T.length;A++)xt(T[A]);delete d.g[y],d.h--}}this.F=null},yt.prototype.K=function(d,y,T,A){return this.i.add(String(d),y,!1,T,A)},yt.prototype.L=function(d,y,T,A){return this.i.add(String(d),y,!0,T,A)};function Yn(d,y,T,A){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==T){var Je=ae.listener,Dt=ae.ha||ae.src;ae.fa&&Gi(d.i,ae),W=Je.call(Dt,A)!==!1&&W}}return W&&!A.defaultPrevented}function Fl(d,y,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function ts(d){d.g=Fl(()=>{d.g=null,d.i&&(d.i=!1,ts(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class lo extends Y{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ts(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(d){Y.call(this),this.h=d,this.g={}}R(uo,Y);var Ul=[];function $l(d){Z(d.g,function(y,T){this.g.hasOwnProperty(T)&&qt(y)},d),d.g={}}uo.prototype.N=function(){uo.aa.N.call(this),$l(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bl=c.JSON.stringify,zl=c.JSON.parse,Wl=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function co(){}co.prototype.h=null;function aa(d){return d.h||(d.h=d.i())}function la(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){pe.call(this,"d")}R(Ur,pe);function ua(){pe.call(this,"c")}R(ua,pe);var $r={},Hl=null;function ho(){return Hl=Hl||new yt}$r.La="serverreachability";function ql(d){pe.call(this,$r.La,d)}R(ql,pe);function fi(d){const y=ho();_t(y,new ql(y))}$r.STAT_EVENT="statevent";function Kl(d,y){pe.call(this,$r.STAT_EVENT,d),this.stat=y}R(Kl,pe);function It(d){const y=ho();_t(y,new Kl(y,d))}$r.Ma="timingevent";function ca(d,y){pe.call(this,$r.Ma,d),this.size=y}R(ca,pe);function gr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function po(d,y,T,A,W,Q){d.info(function(){if(d.g)if(Q)for(var ae="",Je=Q.split("&"),Dt=0;Dt<Je.length;Dt++){var Be=Je[Dt].split("=");if(1<Be.length){var jt=Be[0];Be=Be[1];var Rt=jt.split("_");ae=2<=Rt.length&&Rt[1]=="type"?ae+(jt+"="+Be+"&"):ae+(jt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+y+`
`+T+`
`+ae})}function da(d,y,T,A,W,Q,ae){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+y+`
`+T+`
`+Q+" "+ae})}function yr(d,y,T,A){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+dp(d,T)+(A?" "+A:"")})}function Gl(d,y){d.info(function(){return"TIMEOUT: "+y})}fo.prototype.info=function(){};function dp(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var A=T[d];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return Bl(T)}catch{return y}}var ha={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function mo(){}R(mo,co),mo.prototype.g=function(){return new XMLHttpRequest},mo.prototype.i=function(){return{}},_r=new mo;function vr(d,y,T,A){this.j=d,this.i=y,this.l=T,this.R=A||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kc}function Kc(){this.i=null,this.g="",this.h=!1}var Ql={},fa={};function pa(d,y,T){d.L=1,d.v=os(jn(y)),d.m=T,d.P=!0,Yl(d,null)}function Yl(d,y){d.F=Date.now(),nt(d),d.A=jn(d.v);var T=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),ls(T.i,"t",A),d.C=0,T=d.j.J,d.h=new Kc,d.g=dd(d.j,T?y:null,!d.m),0<d.O&&(d.M=new lo(E(d.Y,d,d.g),d.O)),y=d.U,T=d.g,A=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Ul[0]=W.toString()),W=Ul);for(var Q=0;Q<W.length;Q++){var ae=Yi(T,W[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),fi(),po(d.i,d.u,d.A,d.l,d.R,d.m)}vr.prototype.ca=function(d){d=d.target;const y=this.M;y&&In(d)==3?y.j():this.Y(d)},vr.prototype.Y=function(d){try{if(d==this.g)e:{const Rt=In(this.g);var y=this.g.Ba();const er=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||nu(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=er?fi(3):fi(2)),go(this);var T=this.g.Z();this.X=T;t:if(Gc(this)){var A=nu(this.g);d="";var W=A.length,Q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),ns(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(A[y],{stream:!(Q&&y==W-1)});A.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=T==200,da(this.i,this.u,this.A,this.l,this.R,Rt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Dt=this.g;if((Je=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Je)){var Be=Je;break t}}Be=null}if(T=Be)yr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xl(this,T);else{this.o=!1,this.s=3,It(12),Jn(this),ns(this);break e}}if(this.P){T=!0;let Un;for(;!this.J&&this.C<ae.length;)if(Un=hp(this,ae),Un==fa){Rt==4&&(this.s=4,It(14),T=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Ql){this.s=4,It(15),yr(this.i,this.l,ae,"[Invalid Chunk]"),T=!1;break}else yr(this.i,this.l,Un,null),Xl(this,Un);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ae.length!=0||this.h.h||(this.s=1,It(16),T=!1),this.o=this.o&&T,!T)yr(this.i,this.l,ae,"[Invalid Chunked Response]"),Jn(this),ns(this);else if(0<ae.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),iu(jt),jt.M=!0,It(11))}}else yr(this.i,this.l,ae,null),Xl(this,ae);Rt==4&&Jn(this),this.o&&!this.J&&(Rt==4?Sa(this.j,this):(this.o=!1,nt(this)))}else wa(this.g),T==400&&0<ae.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Jn(this),ns(this)}}}catch{}finally{}};function Gc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function hp(d,y){var T=d.C,A=y.indexOf(`
`,T);return A==-1?fa:(T=Number(y.substring(T,A)),isNaN(T)?Ql:(A+=1,A+T>y.length?fa:(y=y.slice(A,A+T),d.C=A+T,y)))}vr.prototype.cancel=function(){this.J=!0,Jn(this)};function nt(d){d.S=Date.now()+d.I,Qc(d,d.I)}function Qc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=gr(E(d.ba,d),y)}function go(d){d.B&&(c.clearTimeout(d.B),d.B=null)}vr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Gl(this.i,this.A),this.L!=2&&(fi(),It(17)),Jn(this),this.s=2,ns(this)):Qc(this,this.S-d)};function ns(d){d.j.G==0||d.J||Sa(d.j,d)}function Jn(d){go(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,$l(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Xl(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||mn(T.h,d))){if(!d.K&&mn(T.h,d)&&T.G==3){try{var A=T.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Ca(T),Cr(T);else break e;Ia(T),It(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=gr(E(T.Za,T),6e3));if(1>=Xc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else _i(T,11)}else if((d.K||T.g==d)&&Ca(T),!U(y))for(W=T.Da.g.parse(y),y=0;y<W.length;y++){let Be=W[y];if(T.T=Be[0],Be=Be[1],T.G==2)if(Be[0]=="c"){T.K=Be[1],T.ia=Be[2];const jt=Be[3];jt!=null&&(T.la=jt,T.j.info("VER="+T.la));const Rt=Be[4];Rt!=null&&(T.Aa=Rt,T.j.info("SVER="+T.Aa));const er=Be[5];er!=null&&typeof er=="number"&&0<er&&(A=1.5*er,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const Un=d.g;if(Un){const Io=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Io){var Q=A.h;Q.g||Io.indexOf("spdy")==-1&&Io.indexOf("quic")==-1&&Io.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Jl(Q,Q.h),Q.h=null))}if(A.D){const Ra=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(A.ya=Ra,tt(A.I,A.D,Ra))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ae=d;if(A.qa=cd(A,A.J?A.ia:null,A.W),ae.K){Jc(A.h,ae);var Je=ae,Dt=A.L;Dt&&(Je.I=Dt),Je.B&&(go(Je),nt(Je)),A.g=ae}else To(A);0<T.i.length&&Hr(T)}else Be[0]!="stop"&&Be[0]!="close"||_i(T,7);else T.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?_i(T,7):Gt(T):Be[0]!="noop"&&T.l&&T.l.ta(Be),T.v=0)}}fi(4)}catch{}}var Yc=class{constructor(d,y){this.g=d,this.map=y}};function yo(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xc(d){return d.h?1:d.g?d.g.size:0}function mn(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Jl(d,y){d.g?d.g.add(y):d.h=y}function Jc(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}yo.prototype.cancel=function(){if(this.i=Zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Zc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return b(d.i)}function ma(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],T=d.length,A=0;A<T;A++)y.push(d[A]);return y}y=[],T=0;for(A in d)y[T++]=d[A];return y}function ga(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const A in d)y[T++]=A;return y}}}function rs(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=ga(d),A=ma(d),W=A.length,Q=0;Q<W;Q++)y.call(void 0,A[Q],T&&T[Q],d)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fp(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var A=d[T].indexOf("="),W=null;if(0<=A){var Q=d[T].substring(0,A);W=d[T].substring(A+1)}else Q=d[T];y(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function pi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof pi){this.h=d.h,vo(this,d.j),this.o=d.o,this.g=d.g,is(this,d.s),this.l=d.l;var y=d.i,T=new Br;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),ss(this,T),this.m=d.m}else d&&(y=String(d).match(_o))?(this.h=!1,vo(this,y[1]||"",!0),this.o=Fe(y[2]||""),this.g=Fe(y[3]||"",!0),is(this,y[4]),this.l=Fe(y[5]||"",!0),ss(this,y[6]||"",!0),this.m=Fe(y[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}pi.prototype.toString=function(){var d=[],y=this.j;y&&d.push(as(y,ya,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(as(y,ya,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(as(T,T.charAt(0)=="/"?nd:td,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",as(T,Zl)),d.join("")};function jn(d){return new pi(d)}function vo(d,y,T){d.j=T?Fe(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function is(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function ss(d,y,T){y instanceof Br?(d.i=y,zr(d.i,d.h)):(T||(y=as(y,rd)),d.i=new Br(y,d.h))}function tt(d,y,T){d.i.set(y,T)}function os(d){return tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fe(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function as(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,ed),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ed(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ya=/[#\/\?@]/g,td=/[#\?:]/g,nd=/[#\?]/g,rd=/[#\?@]/g,Zl=/#/g;function Br(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Kt(d){d.g||(d.g=new Map,d.h=0,d.i&&fp(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Br.prototype,n.add=function(d,y){Kt(this),this.i=null,d=Zn(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function wr(d,y){Kt(d),y=Zn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Er(d,y){return Kt(d),y=Zn(d,y),d.g.has(y)}n.forEach=function(d,y){Kt(this),this.g.forEach(function(T,A){T.forEach(function(W){d.call(y,W,A,this)},this)},this)},n.na=function(){Kt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let A=0;A<y.length;A++){const W=d[A];for(let Q=0;Q<W.length;Q++)T.push(y[A])}return T},n.V=function(d){Kt(this);let y=[];if(typeof d=="string")Er(this,d)&&(y=y.concat(this.g.get(Zn(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},n.set=function(d,y){return Kt(this),this.i=null,d=Zn(this,d),Er(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function ls(d,y,T){wr(d,y),0<T.length&&(d.i=null,d.g.set(Zn(d,y),b(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var A=y[T];const Q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var W=Q;ae[A]!==""&&(W+="="+encodeURIComponent(String(ae[A]))),d.push(W)}}return this.i=d.join("&")};function Zn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function zr(d,y){y&&!d.j&&(Kt(d),d.i=null,d.g.forEach(function(T,A){var W=A.toLowerCase();A!=W&&(wr(this,A),ls(this,W,T))},d)),d.j=y}function pp(d,y){const T=new fo;if(c.Image){const A=new Image;A.onload=S(Tn,T,"TestLoadImage: loaded",!0,y,A),A.onerror=S(Tn,T,"TestLoadImage: error",!1,y,A),A.onabort=S(Tn,T,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(Tn,T,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else y(!1)}function id(d,y){const T=new fo,A=new AbortController,W=setTimeout(()=>{A.abort(),Tn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:A.signal}).then(Q=>{clearTimeout(W),Q.ok?Tn(T,"TestPingServer: ok",!0,y):Tn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),Tn(T,"TestPingServer: error",!1,y)})}function Tn(d,y,T,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(T)}catch{}}function mp(){this.g=new Wl}function sd(d,y,T){const A=T||"";try{rs(d,function(W,Q){let ae=W;p(W)&&(ae=Bl(W)),y.push(A+Q+"="+encodeURIComponent(ae))})}catch(W){throw y.push(A+"type="+encodeURIComponent("_badmap")),W}}function mi(d){this.l=d.Ub||null,this.j=d.eb||!1}R(mi,co),mi.prototype.g=function(){return new wo(this.l,this.j)},mi.prototype.i=function(d){return function(){return d}}({});function wo(d,y){yt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(wo,yt),n=wo.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Ir(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;od(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function od(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Tr(this):Ir(this),this.readyState==3&&od(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Tr(this))},n.Qa=function(d){this.g&&(this.response=d,Tr(this))},n.ga=function(){this.g&&Tr(this)};function Tr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ir(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Ir(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function gi(d){let y="";return Z(d,function(T,A){y+=A,y+=":",y+=T,y+=`\r
`}),y}function us(d,y,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=gi(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):tt(d,y,T))}function ht(d){yt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(ht,yt);var gp=/^https?$/i,eu=["POST","PUT"];n=ht.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?aa(this.o):aa(_r),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Q){Eo(this,Q);return}if(d=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)T.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(eu,y,void 0))||A||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of T)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){Eo(this,Q)}};function Eo(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,_a(d),Fn(d)}function _a(d){d.A||(d.A=!0,_t(d,"complete"),_t(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,_t(this,"complete"),_t(this,"abort"),Fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tu(this):this.bb())},n.bb=function(){tu(this)};function tu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||In(d)!=4||d.Z()!=2)){if(d.u&&In(d)==4)Fl(d.Ea,0,d);else if(_t(d,"readystatechange"),In(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var A;if(A=ae===0){var W=String(d.D).match(_o)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),A=!gp.test(W?W.toLowerCase():"")}T=A}if(T)_t(d,"complete"),_t(d,"success");else{d.m=6;try{var Q=2<In(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",_a(d)}}finally{Fn(d)}}}}function Fn(d,y){if(d.g){va(d);const T=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||_t(d,"ready");try{T.onreadystatechange=A}catch{}}}function va(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function In(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),zl(y)}};function nu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(d){const y={};d=(d.g&&2<=In(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(U(d[A]))continue;var T=M(d[A]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=y[W]||[];y[W]=Q,Q.push(T)}N(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function ru(d){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,d),this.cb=Wr("retryDelaySeedMs",1e4,d),this.Wa=Wr("forwardChannelMaxRetries",2,d),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(d&&d.concurrentRequestLimit),this.Da=new mp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ru.prototype,n.la=8,n.G=1,n.connect=function(d,y,T,A){It(0),this.W=d,this.H=y||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=cd(this,null,this.W),Hr(this)};function Gt(d){if(Ea(d),d.G==3){var y=d.U++,T=jn(d.I);if(tt(T,"SID",d.K),tt(T,"RID",y),tt(T,"TYPE","terminate"),yi(d,T),y=new vr(d,d.j,y),y.L=2,y.v=os(jn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.v,T=!0),T||(y.g=dd(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}ud(d)}function Cr(d){d.g&&(iu(d),d.g.cancel(),d.g=null)}function Ea(d){Cr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ca(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Hr(d){if(!Vn(d.h)&&!d.s){d.s=!0;var y=d.Ga;Te||se(),ie||(Te(),ie=!0),ue.add(y,d),d.B=0}}function yp(d,y){return Xc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=gr(E(d.Ga,d,y),ld(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new vr(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=P(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=cs(this,W,y),T=jn(this.I),tt(T,"RID",d),tt(T,"CVER",22),this.D&&tt(T,"X-HTTP-Session-Id",this.D),yi(this,T),Q&&(this.O?y="headers="+encodeURIComponent(String(gi(Q)))+"&"+y:this.m&&us(T,this.m,Q)),Jl(this.h,W),this.Ua&&tt(T,"TYPE","init"),this.P?(tt(T,"$req",y),tt(T,"SID","null"),W.T=!0,pa(W,T,null)):pa(W,T,y),this.G=2}}else this.G==3&&(d?Ta(this,d):this.i.length==0||Vn(this.h)||Ta(this))};function Ta(d,y){var T;y?T=y.l:T=d.U++;const A=jn(d.I);tt(A,"SID",d.K),tt(A,"RID",T),tt(A,"AID",d.T),yi(d,A),d.m&&d.o&&us(A,d.m,d.o),T=new vr(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=cs(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Jl(d.h,T),pa(T,A,y)}function yi(d,y){d.H&&Z(d.H,function(T,A){tt(y,A,T)}),d.l&&rs({},function(T,A){tt(y,A,T)})}function cs(d,y,T){T=Math.min(d.i.length,T);var A=d.l?E(d.l.Na,d.l,d):null;e:{var W=d.i;let Q=-1;for(;;){const ae=["count="+T];Q==-1?0<T?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Je=!0;for(let Dt=0;Dt<T;Dt++){let Be=W[Dt].g;const jt=W[Dt].map;if(Be-=Q,0>Be)Q=Math.max(0,W[Dt].g-100),Je=!1;else try{sd(jt,ae,"req"+Be+"_")}catch{A&&A(jt)}}if(Je){A=ae.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,A}function To(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Te||se(),ie||(Te(),ie=!0),ue.add(y,d),d.v=0}}function Ia(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=gr(E(d.Fa,d),ld(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,ad(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=gr(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Cr(this),ad(this))};function iu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function ad(d){d.g=new vr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=jn(d.qa);tt(y,"RID","rpc"),tt(y,"SID",d.K),tt(y,"AID",d.T),tt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&tt(y,"TO",d.ja),tt(y,"TYPE","xmlhttp"),yi(d,y),d.m&&d.o&&us(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=os(jn(y)),T.m=null,T.P=!0,Yl(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Cr(this),Ia(this),It(19))};function Ca(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Sa(d,y){var T=null;if(d.g==y){Ca(d),iu(d),d.g=null;var A=2}else if(mn(d.h,y))T=y.D,Jc(d.h,y),A=1;else return;if(d.G!=0){if(y.o)if(A==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;A=ho(),_t(A,new ca(A,T)),Hr(d)}else To(d);else if(W=y.s,W==3||W==0&&0<y.X||!(A==1&&yp(d,y)||A==2&&Ia(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),W){case 1:_i(d,5);break;case 4:_i(d,10);break;case 3:_i(d,6);break;default:_i(d,2)}}}function ld(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function _i(d,y){if(d.j.info("Error code "+y),y==2){var T=E(d.fb,d),A=d.Xa;const W=!A;A=new pi(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vo(A,"https"),os(A),W?pp(A.toString(),T):id(A.toString(),T)}else It(2);d.G=0,d.l&&d.l.sa(y),ud(d),Ea(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function ud(d){if(d.G=0,d.ka=[],d.l){const y=Zc(d.h);(y.length!=0||d.i.length!=0)&&(x(d.ka,y),x(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function cd(d,y,T){var A=T instanceof pi?jn(T):new pi(T);if(A.g!="")y&&(A.g=y+"."+A.g),is(A,A.s);else{var W=c.location;A=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var Q=new pi(null);A&&vo(Q,A),y&&(Q.g=y),W&&is(Q,W),T&&(Q.l=T),A=Q}return T=d.D,y=d.ya,T&&y&&tt(A,T,y),tt(A,"VER",d.la),yi(d,A),A}function dd(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new ht(new mi({eb:T})):new ht(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}n=su.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xa(){}xa.prototype.g=function(d,y){return new gn(d,y)};function gn(d,y){yt.call(this),this.g=new ru(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!U(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new qr(this)}R(gn,yt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Gt(this.g)},gn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Bl(d),d=T);y.i.push(new Yc(y.Ya++,d)),y.G==3&&Hr(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,gn.aa.N.call(this)};function hd(d){Ur.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}R(hd,Ur);function fd(){ua.call(this),this.status=1}R(fd,ua);function qr(d){this.g=d}R(qr,su),qr.prototype.ua=function(){_t(this.g,"a")},qr.prototype.ta=function(d){_t(this.g,new hd(d))},qr.prototype.sa=function(d){_t(this.g,new fd)},qr.prototype.ra=function(){_t(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,mS=function(){return new xa},pS=function(){return ho()},fS=$r,Lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,Ah=ha,qc.COMPLETE="complete",hS=qc,la.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Bu=la,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,dS=ht}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",NE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Sf("@firebase/firestore");function Qa(){return zs.logLevel}function WO(n){zs.setLogLevel(n)}function he(n,...e){if(zs.logLevel<=Me.DEBUG){const t=e.map(Zy);zs.debug(`Firestore (${kl}): ${n}`,...t)}}function Ui(n,...e){if(zs.logLevel<=Me.ERROR){const t=e.map(Zy);zs.error(`Firestore (${kl}): ${n}`,...t)}}function cl(n,...e){if(zs.logLevel<=Me.WARN){const t=e.map(Zy);zs.warn(`Firestore (${kl}): ${n}`,...t)}}function Zy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n="Unexpected state"){const e=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: `+n;throw Ui(e),new Error(e)}function Xe(n,e){n||xe()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class qO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KO{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new gS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new an(e)}}class GO{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class QO{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new GO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,dn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new DE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new DE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function dl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=-62135596800,LE=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*LE);return new Mt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<OE)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Mt(0,0))}static max(){return new ke(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__name__";class Xr{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(),r===void 0?r=e.length-t:r>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Xr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Xr.isNumericId(e),i=Xr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class ct extends Xr{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const JO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Xr{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return JO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new Jt([ME])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ct.fromString(e))}static fromName(e){return new ve(ct.fromString(e).popFirst(5))}static empty(){return new ve(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function ZO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Mt(t+1,0):new Mt(t,r));return new Ws(i,ve.empty(),e)}function eL(n){return new Ws(n.readTime,n.key,cc)}class Ws{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ws(ke.min(),ve.empty(),cc)}static max(){return new Ws(ke.max(),ve.empty(),cc)}}function tL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==nL)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++c,c===o&&r(l)},g=>i(g))}})}static doWhile(e,t){return new ee((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function iL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-1;function Nf(n){return n==null}function Gh(n){return n===0&&1/n==-1/0}function sL(n){return typeof n=="number"&&Number.isInteger(n)&&!Gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="";function oL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VE(e)),e=aL(n.get(t),e);return VE(e)}function aL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case _S:t+="";break;default:t+=o}}return t}function VE(n){return n+_S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bt=class Mg{constructor(e,t){this.comparator=e,this.root=t||Vs.EMPTY}insert(e,t){return new Mg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vs.BLACK,null,null))}remove(e){return new Mg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}},ch=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vs=class Ai{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ai.RED,this.left=i??Ai.EMPTY,this.right=o??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ai(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}};Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1;Vs.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Vs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new qn([])}unionWith(e){let t=new Vt(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wS("Invalid base64 string: "+o):o}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const lL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=lL.exec(n);if(Xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="server_timestamp",TS="__type__",IS="__previous_value__",CS="__local_write_time__";function t_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TS])===null||t===void 0?void 0:t.stringValue)===ES}function Df(n){const e=n.mapValue.fields[IS];return t_(e)?Df(e):e}function dc(n){const e=Hs(n.mapValue.fields[CS].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,t,r,i,o,l,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const Qh="(default)";class hc{constructor(e,t){this.projectId=e,this.database=t||Qh}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__type__",cL="__max__",dh={mapValue:{}},xS="__vector__",Yh="value";function Ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?t_(n)?4:hL(n)?9007199254740991:dL(n)?10:11:xe()}function ai(n,e){if(n===e)return!0;const t=Ks(n);if(t!==Ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dc(n).isEqual(dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Hs(i.timestampValue),c=Hs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return qs(i.bytesValue).isEqual(qs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return St(i.geoPointValue.latitude)===St(o.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return St(i.integerValue)===St(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=St(i.doubleValue),c=St(o.doubleValue);return l===c?Gh(l)===Gh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return dl(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(jE(l)!==jE(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ai(l[h],c[h])))return!1;return!0}(n,e);default:return xe()}}function fc(n,e){return(n.values||[]).find(t=>ai(t,e))!==void 0}function hl(n,e){if(n===e)return 0;const t=Ks(n),r=Ks(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=St(o.integerValue||o.doubleValue),h=St(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return UE(n.timestampValue,e.timestampValue);case 4:return UE(dc(n),dc(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(o,l){const c=qs(o),h=qs(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=Ue(c[p],h[p]);if(g!==0)return g}return Ue(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ue(St(o.latitude),St(l.latitude));return c!==0?c:Ue(St(o.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $E(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,p,g;const v=o.fields||{},E=l.fields||{},S=(c=v[Yh])===null||c===void 0?void 0:c.arrayValue,R=(h=E[Yh])===null||h===void 0?void 0:h.arrayValue,b=Ue(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:$E(S,R)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===dh.mapValue&&l===dh.mapValue)return 0;if(o===dh.mapValue)return 1;if(l===dh.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const E=Ue(h[v],g[v]);if(E!==0)return E;const S=hl(c[h[v]],p[g[v]]);if(S!==0)return S}return Ue(h.length,g.length)}(n.mapValue,e.mapValue);default:throw xe()}}function UE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Hs(n),r=Hs(e),i=Ue(t.seconds,r.seconds);return i!==0?i:Ue(t.nanos,r.nanos)}function $E(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=hl(t[i],r[i]);if(o)return o}return Ue(t.length,r.length)}function fl(n){return Vg(n)}function Vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Hs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Vg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Vg(t.fields[l])}`;return i+"}"}(n.mapValue):xe()}function Ph(n){switch(Ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Df(n);return e?16+Ph(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ph(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ro(r.fields,(o,l)=>{i+=o.length+Ph(l)}),i}(n.mapValue);default:throw xe()}}function BE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jg(n){return!!n&&"integerValue"in n}function n_(n){return!!n&&"arrayValue"in n}function zE(n){return!!n&&"nullValue"in n}function WE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kh(n){return!!n&&"mapValue"in n}function dL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[SS])===null||t===void 0?void 0:t.stringValue)===xS}function Ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ku(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(t)}setAll(e){let t=Jt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Ku(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ro(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new bn(Ku(this.value))}}function RS(n){const e=[];return ro(n.fields,(t,r)=>{const i=new Jt([t]);if(kh(r)){const o=RS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,ke.min(),ke.min(),ke.min(),bn.empty(),0)}static newFoundDocument(e,t,r,i){return new ln(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new ln(e,2,t,ke.min(),ke.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,ke.min(),ke.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.position=e,this.inclusive=t}}function HE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=hl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function fL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{}class kt extends AS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mL(e,t,r):t==="array-contains"?new _L(e,r):t==="in"?new vL(e,r):t==="not-in"?new wL(e,r):t==="array-contains-any"?new EL(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gL(e,r):new yL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(hl(t,this.value)):t!==null&&Ks(this.value)===Ks(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends AS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Mr(e,t)}matches(e){return PS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function PS(n){return n.op==="and"}function kS(n){return pL(n)&&PS(n)}function pL(n){for(const e of n.filters)if(e instanceof Mr)return!1;return!0}function Fg(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+fl(n.value);if(kS(n))return n.filters.map(e=>Fg(e)).join(",");{const e=n.filters.map(t=>Fg(t)).join(",");return`${n.op}(${e})`}}function bS(n,e){return n instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&ai(r.value,i.value)}(n,e):n instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&bS(l,i.filters[c]),!0):!1}(n,e):void xe()}function NS(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${fl(t.value)}`}(n):n instanceof Mr?function(t){return t.op.toString()+" {"+t.getFilters().map(NS).join(" ,")+"}"}(n):"Filter"}class mL extends kt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class gL extends kt{constructor(e,t){super(e,"in",t),this.keys=DS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yL extends kt{constructor(e,t){super(e,"not-in",t),this.keys=DS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class _L extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return n_(t)&&fc(t.arrayValue,this.value)}}class vL extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fc(this.value.arrayValue,t)}}class wL extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!fc(this.value.arrayValue,t)}}class EL extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!n_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function KE(n,e=null,t=[],r=[],i=null,o=null,l=null){return new TL(n,e,t,r,i,o,l)}function r_(n){const e=be(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Fg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fl(r)).join(",")),e.le=t}return e.le}function i_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qE(n.startAt,e.startAt)&&qE(n.endAt,e.endAt)}function Ug(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function IL(n,e,t,r,i,o,l,c){return new Dl(n,e,t,r,i,o,l,c)}function Of(n){return new Dl(n)}function GE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OS(n){return n.collectionGroup!==null}function Gu(n){const e=be(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Vt(Jt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new pc(o,r))}),t.has(Jt.keyField().canonicalString())||e.he.push(new pc(Jt.keyField(),r))}return e.he}function ri(n){const e=be(n);return e.Pe||(e.Pe=CL(e,Gu(n))),e.Pe}function CL(n,e){if(n.limitType==="F")return KE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new pc(i.field,o)});const t=n.endAt?new Xh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xh(n.startAt.position,n.startAt.inclusive):null;return KE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $g(n,e){const t=n.filters.concat([e]);return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bg(n,e,t){return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lf(n,e){return i_(ri(n),ri(e))&&n.limitType===e.limitType}function LS(n){return`${r_(ri(n))}|lt:${n.limitType}`}function Ya(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>NS(i)).join(", ")}]`),Nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>fl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>fl(i)).join(",")),`Target(${r})`}(ri(n))}; limitType=${n.limitType})`}function Mf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Gu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=HE(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Gu(r),i)||r.endAt&&!function(l,c,h){const p=HE(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Gu(r),i))}(n,e)}function SL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MS(n){return(e,t)=>{let r=!1;for(const i of Gu(n)){const o=xL(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function xL(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?hl(h,p):xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new bt(ve.comparator);function $i(){return RL}const VS=new bt(ve.comparator);function zu(...n){let e=VS;for(const t of n)e=e.insert(t.key,t);return e}function jS(n){let e=VS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fo(){return Qu()}function FS(){return Qu()}function Qu(){return new ea(n=>n.toString(),(n,e)=>n.isEqual(e))}const AL=new bt(ve.comparator),PL=new Vt(ve.comparator);function je(...n){let e=PL;for(const t of n)e=e.add(t);return e}const kL=new Vt(Ue);function bL(){return kL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function US(n){return{integerValue:""+n}}function NL(n,e){return sL(e)?US(e):s_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function DL(n,e,t){return n instanceof mc?function(i,o){const l={fields:{[TS]:{stringValue:ES},[CS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&t_(o)&&(o=Df(o)),o&&(l.fields[IS]=o),{mapValue:l}}(t,e):n instanceof gc?BS(n,e):n instanceof yc?zS(n,e):function(i,o){const l=$S(i,o),c=QE(l)+QE(i.Ie);return jg(l)&&jg(i.Ie)?US(c):s_(i.serializer,c)}(n,e)}function OL(n,e,t){return n instanceof gc?BS(n,e):n instanceof yc?zS(n,e):t}function $S(n,e){return n instanceof Jh?function(r){return jg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class mc extends Vf{}class gc extends Vf{constructor(e){super(),this.elements=e}}function BS(n,e){const t=WS(e);for(const r of n.elements)t.some(i=>ai(i,r))||t.push(r);return{arrayValue:{values:t}}}class yc extends Vf{constructor(e){super(),this.elements=e}}function zS(n,e){let t=WS(e);for(const r of n.elements)t=t.filter(i=>!ai(i,r));return{arrayValue:{values:t}}}class Jh extends Vf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function QE(n){return St(n.integerValue||n.doubleValue)}function WS(n){return n_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,t){this.field=e,this.transform=t}}function ML(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof gc&&i instanceof gc||r instanceof yc&&i instanceof yc?dl(r.elements,i.elements,ai):r instanceof Jh&&i instanceof Jh?ai(r.Ie,i.Ie):r instanceof mc&&i instanceof mc}(n.transform,e.transform)}class VL{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jf{}function HS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new o_(n.key,cr.none()):new bc(n.key,n.data,cr.none());{const t=n.data,r=bn.empty();let i=new Vt(Jt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new io(n.key,r,new qn(i.toArray()),cr.none())}}function jL(n,e,t){n instanceof bc?function(i,o,l){const c=i.value.clone(),h=XE(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof io?function(i,o,l){if(!bh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=XE(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(qS(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Yu(n,e,t,r){return n instanceof bc?function(o,l,c,h){if(!bh(o.precondition,l))return c;const p=o.value.clone(),g=JE(o.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof io?function(o,l,c,h){if(!bh(o.precondition,l))return c;const p=JE(o.fieldTransforms,h,l),g=l.data;return g.setAll(qS(o)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,c){return bh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function FL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=$S(r.transform,i||null);o!=null&&(t===null&&(t=bn.empty()),t.set(r.field,o))}return t||null}function YE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dl(r,i,(o,l)=>ML(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bc extends jf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends jf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function XE(n,e,t){const r=new Map;Xe(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,OL(l,c,t[i]))}return r}function JE(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,DL(o,l,e))}return r}class o_ extends jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UL extends jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&jL(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FS();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const h=HS(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(t,r)=>YE(t,r))&&dl(this.baseMutations,e.baseMutations,(t,r)=>YE(t,r))}}class a_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Xe(e.mutations.length===r.length);let i=function(){return AL}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new a_(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,ze;function WL(n){switch(n){case J.OK:return xe();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xe()}}function KS(n){if(n===void 0)return Ui("GRPC error has no .code"),J.UNKNOWN;switch(n){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return xe()}}(ze=Pt||(Pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Ms([4294967295,4294967295],0);function ZE(n){const e=HL().encode(n),t=new cS;return t.update(e),new Uint8Array(t.digest())}function eT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ms([t,r],0),new Ms([i,o],0)]}class l_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wu(`Invalid padding: ${t}`);if(r<0)throw new Wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ms.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ms.fromNumber(r)));return i.compare(qL)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ZE(e),[r,i]=eT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new l_(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=ZE(e),[r,i]=eT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ff(ke.min(),i,new bt(Ue),$i(),je())}}class Nc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nc(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class GS{constructor(e,t){this.targetId=e,this.ge=t}}class QS{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class tT{constructor(){this.pe=0,this.ye=nT(),this.we=Zt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=je(),t=je(),r=je();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new Nc(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=nT()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class KL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$i(),this.$e=hh(),this.Ke=hh(),this.Ue=new bt(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(Ug(o))if(r===0){const l=new ve(o.path);this.ze(t,l,ln.newNoDocument(l,ke.min()))}else Xe(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=qs(r).toUint8Array()}catch(h){if(h instanceof wS)return cl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new l_(l,i,o)}catch(h){return cl(h instanceof Wu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&Ug(c.target)){const h=new ve(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,ln.newNoDocument(h,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=je();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Ff(e,t,this.Ue,this.Qe,r);return this.Qe=$i(),this.$e=hh(),this.Ke=hh(),this.Ue=new bt(Ue),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new tT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Vt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Vt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new tT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function hh(){return new bt(ve.comparator)}function nT(){return new bt(ve.comparator)}const GL={asc:"ASCENDING",desc:"DESCENDING"},QL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YL={and:"AND",or:"OR"};class XL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zg(n,e){return n.useProto3Json||Nf(e)?e:{value:e}}function Zh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JL(n,e){return Zh(n,e.toTimestamp())}function ii(n){return Xe(!!n),ke.fromTimestamp(function(t){const r=Hs(t);return new Mt(r.seconds,r.nanos)}(n))}function u_(n,e){return Wg(n,e).canonicalString()}function Wg(n,e){const t=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XS(n){const e=ct.fromString(n);return Xe(nx(e)),e}function Hg(n,e){return u_(n.databaseId,e.path)}function Xm(n,e){const t=XS(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(ZS(t))}function JS(n,e){return u_(n.databaseId,e)}function ZL(n){const e=XS(n);return e.length===4?ct.emptyPath():ZS(e)}function qg(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZS(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function rT(n,e,t){return{name:Hg(n,e),fields:t.value.mapValue.fields}}function eM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(Xe(g===void 0||typeof g=="string"),Zt.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Zt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?J.UNKNOWN:KS(p.code);return new fe(g,p.message||"")}(l);t=new QS(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xm(n,r.document.name),o=ii(r.document.updateTime),l=r.document.createTime?ii(r.document.createTime):ke.min(),c=new bn({mapValue:{fields:r.document.fields}}),h=ln.newFoundDocument(i,o,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Nh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xm(n,r.document),o=r.readTime?ii(r.readTime):ke.min(),l=ln.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Nh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xm(n,r.document),o=r.removedTargetIds||[];t=new Nh([],o,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new zL(i,o),c=r.targetId;t=new GS(c,l)}}return t}function tM(n,e){let t;if(e instanceof bc)t={update:rT(n,e.key,e.value)};else if(e instanceof o_)t={delete:Hg(n,e.key)};else if(e instanceof io)t={update:rT(n,e.key,e.data),updateMask:cM(e.fieldMask)};else{if(!(e instanceof UL))return xe();t={verify:Hg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof mc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Jh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:JL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe()}(n,e.precondition)),t}function nM(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?ii(i.updateTime):ii(o);return l.isEqual(ke.min())&&(l=ii(o)),new VL(l,i.transformResults||[])}(t,e))):[]}function rM(n,e){return{documents:[JS(n,e.path)]}}function iM(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JS(n,i);const o=function(p){if(p.length!==0)return tx(Mr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Xa(E.field),direction:aM(E.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=zg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function sM(n){let e=ZL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Xe(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const E=ex(v);return E instanceof Mr&&kS(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(E=>function(R){return new pc(Ja(R.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,Nf(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(v){const E=!!v.before,S=v.values||[];return new Xh(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,S=v.values||[];return new Xh(S,E)}(t.endAt)),IL(e,i,l,o,c,"F",h,p)}function oM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ex(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ja(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ja(t.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ja(t.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ja(t.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):n.fieldFilter!==void 0?function(t){return kt.create(Ja(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Mr.create(t.compositeFilter.filters.map(r=>ex(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(n):xe()}function aM(n){return GL[n]}function lM(n){return QL[n]}function uM(n){return YL[n]}function Xa(n){return{fieldPath:n.canonicalString()}}function Ja(n){return Jt.fromServerFormat(n.fieldPath)}function tx(n){return n instanceof kt?function(t){if(t.op==="=="){if(WE(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NAN"}};if(zE(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WE(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NAN"}};if(zE(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(t.field),op:lM(t.op),value:t.value}}}(n):n instanceof Mr?function(t){const r=t.getFilters().map(i=>tx(i));return r.length===1?r[0]:{compositeFilter:{op:uM(t.op),filters:r}}}(n):xe()}function cM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t,r,i,o=ke.min(),l=ke.min(),c=Zt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.Tt=e}}function hM(n){const e=sM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Tn=new pM}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Ws.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class pM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vt(ct.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rx=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(rx,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new pl(0)}static Un(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="LruGarbageCollector",mM=1048576;function oT([n,e],[t,r]){const i=Ue(n,t);return i===0?Ue(e,r):i}class gM{constructor(e){this.Hn=e,this.buffer=new Vt(oT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(sT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Nl(t)?he(sT,"Ignoring IndexedDB error during garbage collection: ",t):await bl(t)}await this.er(3e5)})}}class _M{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(bf.ae);const r=new gM(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(iT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Qa()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function vM(n,e){return new _M(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.changes=new ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Yu(r.mutation,i,qn.empty(),Mt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){const i=Fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=zu();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=$i();const l=Qu(),c=function(){return Qu()}();return t.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof io)?o=o.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Yu(g.mutation,p,g.mutation.getFieldMask(),Mt.now())):l.set(p.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var v;return c.set(p,new EM(g,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Qu();let i=new bt((l,c)=>l-c),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||qn.empty();g=c.applyToLocalView(p,g),r.set(h,g);const v=(i.get(c.batchId)||je()).add(h);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,v=FS();g.forEach(E=>{if(!o.has(E)){const S=HS(t.get(E),r.get(E));S!==null&&v.set(E,S),o=o.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ee.resolve(Fo());let c=cc,h=o;return l.next(p=>ee.forEach(p,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,je())).next(g=>({batchId:c,changes:jS(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=zu();return this.indexManager.getCollectionParents(e,o).next(c=>ee.forEach(c,h=>{const p=function(v,E){return new Dl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((v,E)=>{l=l.insert(v,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,ln.newInvalidDocument(g)))});let c=zu();return l.forEach((h,p)=>{const g=o.get(h);g!==void 0&&Yu(g.mutation,p,qn.empty(),Mt.now()),Mf(t,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ii(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:hM(i.bundledQuery),readTime:ii(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.overlays=new bt(ve.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fo();return ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=Fo(),o=t.length+1,l=new ve(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new bt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=Fo(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Fo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return ee.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new BL(t,r));let o=this.Rr.get(t);o===void 0&&(o=je(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.Vr=new Vt(zt.mr),this.gr=new Vt(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new zt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new ve(new ct([])),r=new zt(t,e),i=new zt(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new ct([])),r=new zt(t,e),i=new zt(t,e+1);let o=je();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new zt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt(zt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $L(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new zt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?e_:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),i=new zt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);o.push(c)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(Ue);return t.forEach(i=>{const o=new zt(i,0),l=new zt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{r=r.add(c.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const l=new zt(new ve(o),0);let c=new Vt(Ue);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Cr)),!0)},l),ee.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(t.mutations,i=>{const o=new zt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new zt(t,0),i=this.Mr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.kr=e,this.docs=function(){return new bt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=$i();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=$i();const l=t.path,c=new ve(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||tL(eL(g),r)<=0||(i.has(g.key)||Mf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,t,r,i){xe()}qr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new AM(this)}getSize(e){return ee.resolve(this.size)}}class AM extends wM{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.persistence=e,this.Qr=new ea(t=>r_(t),i_),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new c_,this.targetCount=0,this.Ur=pl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new bf(0),this.zr=!1,this.zr=!0,this.jr=new SM,this.referenceDelegate=e(this),this.Hr=new PM(this),this.indexManager=new fM,this.remoteDocumentCache=function(i){return new RM(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new dM(t),this.Yr=new IM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new xM(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new kM(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class kM extends rL{constructor(e){super(),this.currentSequenceNumber=e}}class d_{constructor(e){this.persistence=e,this.ti=new c_,this.ni=null}static ri(e){return new d_(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const i=ve.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ef{constructor(e,t){this.persistence=e,this.oi=new ea(r=>oL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vM(this,t)}static ri(e,t){return new ef(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,o.removeEntry(l,ke.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ph(e.data.value)),t}ar(e,t,r){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=je(),i=je();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new h_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return i2()?8:iL(pn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new bM;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Qa()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Qa()<=Me.DEBUG&&he("QueryEngine","Query:",Ya(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Qa()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):ee.resolve())}rs(e,t){if(GE(t))return ee.resolve(null);let r=ri(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Bg(t,null,"F"),r=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=je(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,c);return this.ls(t,p,l,h.readTime)?this.rs(e,Bg(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,i){return GE(t)||i.isEqual(ke.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?ee.resolve(null):(Qa()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(t)),this.hs(e,l,t,ZO(i,cc)).next(c=>c))})}cs(e,t){let r=new Vt(MS(e));return t.forEach((i,o)=>{Mf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Qa()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ya(t)),this.ns.getDocumentsMatchingQuery(e,t,Ws.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LocalStore",DM=3e8;class OM{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new bt(Ue),this.Is=new ea(o=>r_(o),i_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function LM(n,e,t,r){return new OM(n,e,t,r)}async function sx(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let h=je();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function MM(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const v=p.batch,E=v.keys();let S=ee.resolve();return E.forEach(R=>{S=S.next(()=>g.getEntry(h,R)).next(b=>{const x=p.docVersions.get(R);Xe(x!==null),b.version.compareTo(x)<0&&(v.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ox(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function VM(n,e){const t=be(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,v)=>{const E=i.get(v);if(!E)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,v)));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Zt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(v,S),function(b,x,j){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=DM?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,S,g)&&c.push(t.Hr.updateTargetData(o,S))});let h=$i(),p=je();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(jM(o,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(ke.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return ee.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ts=i,o))}function jM(n,e,t){let r=je(),i=je();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=$i();return t.forEach((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):he(f_,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function FM(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=e_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UM(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ds(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Kg(n,e,t){const r=be(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Nl(l))throw l;he(f_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function aT(n,e,t){const r=be(n);let i=ke.min(),o=je();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const v=be(h),E=v.Is.get(g);return E!==void 0?ee.resolve(v.Ts.get(E)):v.Hr.getTargetData(p,g)}(r,l,ri(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?o:je())).next(c=>($M(r,SL(e),c),{documents:c,gs:o})))}function $M(n,e,t){let r=n.Es.get(e)||ke.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class lT{constructor(){this.activeTargetIds=bL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BM{constructor(){this.ho=new lT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new lT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="ConnectivityMonitor";class cT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(uT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(uT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function Gg(){return fh===null?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="RestConnection",WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const l=Gg(),c=this.So(e,t.toUriEncodedString());he(Jm,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,o),this.vo(e,c,h,r).then(p=>(he(Jm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw cl(Jm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,o,l){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=WM[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class KM extends HM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=Gg();return new Promise((l,c)=>{const h=new dS;h.setWithCredentials(!0),h.listenOnce(hS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ah.NO_ERROR:const g=h.getResponseJson();he(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Ah.TIMEOUT:he(sn,`RPC '${e}' ${o} timed out`),c(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const v=h.getStatus();if(he(sn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const R=function(x){const j=x.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(j)>=0?j:J.UNKNOWN}(S.status);c(new fe(R,S.message))}else c(new fe(J.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new fe(J.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{he(sn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);he(sn,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=Gg(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=mS(),c=pS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");he(sn,`Creating RPC '${e}' stream ${i}: ${g}`,h);const v=l.createWebChannel(g,h);let E=!1,S=!1;const R=new qM({Fo:x=>{S?he(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(E||(he(sn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),he(sn,`RPC '${e}' stream ${i} sending:`,x),v.send(x))},Mo:()=>v.close()}),b=(x,j,U)=>{x.listen(j,B=>{try{U(B)}catch(q){setTimeout(()=>{throw q},0)}})};return b(v,Bu.EventType.OPEN,()=>{S||(he(sn,`RPC '${e}' stream ${i} transport opened.`),R.Qo())}),b(v,Bu.EventType.CLOSE,()=>{S||(S=!0,he(sn,`RPC '${e}' stream ${i} transport closed`),R.Ko())}),b(v,Bu.EventType.ERROR,x=>{S||(S=!0,cl(sn,`RPC '${e}' stream ${i} transport errored:`,x),R.Ko(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),b(v,Bu.EventType.MESSAGE,x=>{var j;if(!S){const U=x.data[0];Xe(!!U);const B=U,q=(B==null?void 0:B.error)||((j=B[0])===null||j===void 0?void 0:j.error);if(q){he(sn,`RPC '${e}' stream ${i} received error:`,q);const X=q.status;let Z=function(k){const L=Pt[k];if(L!==void 0)return KS(L)}(X),N=q.message;Z===void 0&&(Z=J.INTERNAL,N="Unknown error status: "+X+" with message "+q.message),S=!0,R.Ko(new fe(Z,N)),v.close()}else he(sn,`RPC '${e}' stream ${i} received:`,U),R.Uo(U)}}),b(c,fS.STAT_EVENT,x=>{x.stat===Lg.PROXY?he(sn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Lg.NOPROXY&&he(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){return new XL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="PersistentStream";class lx{constructor(e,t,r,i,o,l,c,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ax(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(dT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(dT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GM extends lx{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=eM(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?ii(l.readTime):ke.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=qg(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=Ug(h)?{documents:rM(o,h)}:{query:iM(o,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=YS(o,l.resumeToken);const p=zg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Zh(o,l.snapshotVersion.toTimestamp());const p=zg(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=oM(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=qg(this.serializer),t.removeTarget=e,this.I_(t)}}class QM extends lx{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=nM(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=qg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tM(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class XM extends YM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.bo(e,Wg(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(J.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Wg(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(J.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class ZM{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{ta(this)&&(he(qo,"Restarting streams for network reachability change."),await async function(h){const p=be(h);p.W_.add(4),await Dc(p),p.j_.set("Unknown"),p.W_.delete(4),await $f(p)}(this))})}),this.j_=new JM(r,i)}}async function $f(n){if(ta(n))for(const e of n.G_)await e(!0)}async function Dc(n){for(const e of n.G_)await e(!1)}function ux(n,e){const t=be(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),y_(t)?g_(t):Ol(t).c_()&&m_(t,e))}function p_(n,e){const t=be(n),r=Ol(t);t.U_.delete(e),r.c_()&&cx(t,e),t.U_.size===0&&(r.c_()?r.P_():ta(t)&&t.j_.set("Unknown"))}function m_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ol(n).y_(e)}function cx(n,e){n.H_.Ne(e),Ol(n).w_(e)}function g_(n){n.H_=new KL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ol(n).start(),n.j_.B_()}function y_(n){return ta(n)&&!Ol(n).u_()&&n.U_.size>0}function ta(n){return be(n).W_.size===0}function dx(n){n.H_=void 0}async function e4(n){n.j_.set("Online")}async function t4(n){n.U_.forEach((e,t)=>{m_(n,e)})}async function n4(n,e){dx(n),y_(n)?(n.j_.q_(e),g_(n)):n.j_.set("Unknown")}async function r4(n,e,t){if(n.j_.set("Online"),e instanceof QS&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){he(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tf(n,r)}else if(e instanceof Nh?n.H_.We(e):e instanceof GS?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ke.min()))try{const r=await ox(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.U_.get(p);g&&o.U_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=o.U_.get(h);if(!g)return;o.U_.set(h,g.withResumeToken(Zt.EMPTY_BYTE_STRING,g.snapshotVersion)),cx(o,h);const v=new Ds(g.target,h,p,g.sequenceNumber);m_(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){he(qo,"Failed to raise snapshot:",r),await tf(n,r)}}async function tf(n,e,t){if(!Nl(e))throw e;n.W_.add(1),await Dc(n),n.j_.set("Offline"),t||(t=()=>ox(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(qo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await $f(n)})}function hx(n,e){return e().catch(t=>tf(n,t,e))}async function Bf(n){const e=be(n),t=Gs(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:e_;for(;i4(e);)try{const i=await FM(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,s4(e,i)}catch(i){await tf(e,i)}fx(e)&&px(e)}function i4(n){return ta(n)&&n.K_.length<10}function s4(n,e){n.K_.push(e);const t=Gs(n);t.c_()&&t.b_&&t.S_(e.mutations)}function fx(n){return ta(n)&&!Gs(n).u_()&&n.K_.length>0}function px(n){Gs(n).start()}async function o4(n){Gs(n).C_()}async function a4(n){const e=Gs(n);for(const t of n.K_)e.S_(t.mutations)}async function l4(n,e,t){const r=n.K_.shift(),i=a_.from(r,e,t);await hx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Bf(n)}async function u4(n,e){e&&Gs(n).b_&&await async function(r,i){if(function(l){return WL(l)&&l!==J.ABORTED}(i.code)){const o=r.K_.shift();Gs(r).h_(),await hx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Bf(r)}}(n,e),fx(n)&&px(n)}async function hT(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),he(qo,"RemoteStore received new credentials");const r=ta(t);t.W_.add(3),await Dc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await $f(t)}async function c4(n,e){const t=be(n);e?(t.W_.delete(2),await $f(t)):e||(t.W_.add(2),await Dc(t),t.j_.set("Unknown"))}function Ol(n){return n.J_||(n.J_=function(t,r,i){const o=be(t);return o.M_(),new GM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:e4.bind(null,n),No:t4.bind(null,n),Lo:n4.bind(null,n),p_:r4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),y_(n)?g_(n):n.j_.set("Unknown")):(await n.J_.stop(),dx(n))})),n.J_}function Gs(n){return n.Y_||(n.Y_=function(t,r,i){const o=be(t);return o.M_(),new QM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:o4.bind(null,n),Lo:u4.bind(null,n),D_:a4.bind(null,n),v_:l4.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Bf(n)):(await n.Y_.stop(),n.K_.length>0&&(he(qo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new __(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(n,e){if(Ui("AsyncQueue",`${e}: ${n}`),Nl(n))return new fe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=zu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.Z_=new bt(ve.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ml{constructor(e,t,r,i,o,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ml(e,t,il.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class h4{constructor(){this.queries=pT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=be(t),o=i.queries;i.queries=pT(),o.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function pT(){return new ea(n=>LS(n),Lf)}async function w_(n,e){const t=be(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new d4,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=v_(l,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&T_(t)}async function E_(n,e){const t=be(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function f4(n,e){const t=be(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&T_(t)}function p4(n,e,t){const r=be(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function T_(n){n.ia.forEach(e=>{e.next()})}var Qg,mT;(mT=Qg||(Qg={}))._a="default",mT.Cache="cache";class I_{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.key=e}}class gx{constructor(e){this.key=e}}class m4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=je(),this.mutatedKeys=je(),this.ya=MS(e),this.wa=new il(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new fT,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const E=i.get(g),S=Mf(this.query,v)?v:null,R=!!E&&this.mutatedKeys.has(E.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;E&&S?E.data.isEqual(S.data)?R!==b&&(r.track({type:3,doc:S}),x=!0):this.va(E,S)||(r.track({type:2,doc:S}),x=!0,(h&&this.ya(S,h)>0||p&&this.ya(S,p)<0)&&(c=!0)):!E&&S?(r.track({type:0,doc:S}),x=!0):E&&!S&&(r.track({type:1,doc:E}),x=!0,(h||p)&&(c=!0)),x&&(S?(l=l.add(S),o=b?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,v)=>function(S,R){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return b(S)-b(R)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new ml(this.query,e.wa,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=je(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new gx(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new mx(r))}),t}Oa(e){this.fa=e.gs,this.pa=je();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return ml.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const C_="SyncEngine";class g4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class y4{constructor(e){this.key=e,this.Ba=!1}}class _4{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ea(c=>LS(c),Lf),this.qa=new Map,this.Qa=new Set,this.$a=new bt(ve.comparator),this.Ka=new Map,this.Ua=new c_,this.Wa={},this.Ga=new Map,this.za=pl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function v4(n,e,t=!0){const r=Tx(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await yx(r,e,t,!0),i}async function w4(n,e){const t=Tx(n);await yx(t,e,!0,!1)}async function yx(n,e,t,r){const i=await UM(n.localStore,ri(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await E4(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&ux(n.remoteStore,i),c}async function E4(n,e,t,r,i){n.Ha=(v,E,S)=>async function(b,x,j,U){let B=x.view.Sa(j);B.ls&&(B=await aT(b.localStore,x.query,!1).then(({documents:N})=>x.view.Sa(N,B)));const q=U&&U.targetChanges.get(x.targetId),X=U&&U.targetMismatches.get(x.targetId)!=null,Z=x.view.applyChanges(B,b.isPrimaryClient,q,X);return yT(b,x.targetId,Z.Ma),Z.snapshot}(n,v,E,S);const o=await aT(n.localStore,e,!0),l=new m4(e,o.gs),c=l.Sa(o.documents),h=Nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,h);yT(n,t,p.Ma);const g=new g4(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function T4(n,e,t){const r=be(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Lf(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&p_(r.remoteStore,i.targetId),Yg(r,i.targetId)}).catch(bl)):(Yg(r,i.targetId),await Kg(r.localStore,i.targetId,!0))}async function I4(n,e){const t=be(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),p_(t.remoteStore,r.targetId))}async function C4(n,e,t){const r=b4(n);try{const i=await function(l,c){const h=be(l),p=Mt.now(),g=c.reduce((S,R)=>S.add(R.key),je());let v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=$i(),b=je();return h.ds.getEntries(S,g).next(x=>{R=x,R.forEach((j,U)=>{U.isValidDocument()||(b=b.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,R)).next(x=>{v=x;const j=[];for(const U of c){const B=FL(U,v.get(U.key).overlayedDocument);B!=null&&j.push(new io(U.key,B,RS(B.value.mapValue),cr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,j,c)}).next(x=>{E=x;const j=x.applyToLocalDocumentSet(v,b);return h.documentOverlayCache.saveOverlays(S,x.batchId,j)})}).then(()=>({batchId:E.batchId,changes:jS(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new bt(Ue)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await Oc(r,i.changes),await Bf(r.remoteStore)}catch(i){const o=v_(i,"Failed to persist write");t.reject(o)}}async function _x(n,e){const t=be(n);try{const r=await VM(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Xe(l.Ba):i.removedDocuments.size>0&&(Xe(l.Ba),l.Ba=!1))}),await Oc(t,r,e)}catch(r){await bl(r)}}function gT(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=be(l);h.onlineState=c;let p=!1;h.queries.forEach((g,v)=>{for(const E of v.ta)E.sa(c)&&(p=!0)}),p&&T_(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S4(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new bt(ve.comparator);l=l.insert(o,ln.newNoDocument(o,ke.min()));const c=je().add(o),h=new Ff(ke.min(),new Map,new bt(Ue),l,c);await _x(r,h),r.$a=r.$a.remove(o),r.Ka.delete(e),S_(r)}else await Kg(r.localStore,e,!1).then(()=>Yg(r,e,t)).catch(bl)}async function x4(n,e){const t=be(n),r=e.batch.batchId;try{const i=await MM(t.localStore,e);wx(t,r,null),vx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(t,i)}catch(i){await bl(i)}}async function R4(n,e,t){const r=be(n);try{const i=await function(l,c){const h=be(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(v=>(Xe(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);wx(r,e,t),vx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Oc(r,i)}catch(i){await bl(i)}}function vx(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function wx(n,e,t){const r=be(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Yg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||Ex(n,r)})}function Ex(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(p_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),S_(n))}function yT(n,e,t){for(const r of t)r instanceof mx?(n.Ua.addReference(r.key,e),A4(n,r)):r instanceof gx?(he(C_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||Ex(n,r.key)):xe()}function A4(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(he(C_,"New document in limbo: "+t),n.Qa.add(r),S_(n))}function S_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ve(ct.fromString(e)),r=n.za.next();n.Ka.set(r,new y4(t)),n.$a=n.$a.insert(t,r),ux(n.remoteStore,new Ds(ri(Of(t.path)),r,"TargetPurposeLimboResolution",bf.ae))}}async function Oc(n,e,t){const r=be(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){i.push(p);const v=h_.Yi(h.targetId,p);o.push(v)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const g=be(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(p,E=>ee.forEach(E.Hi,S=>g.persistence.referenceDelegate.addReference(v,E.targetId,S)).next(()=>ee.forEach(E.Ji,S=>g.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))}catch(v){if(!Nl(v))throw v;he(f_,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const S=g.Ts.get(E),R=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(R);g.Ts=g.Ts.insert(E,b)}}}(r.localStore,o))}async function P4(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){he(C_,"User change. New user:",e.toKey());const r=await sx(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(h=>{h.reject(new fe(J.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(t,r.Rs)}}function k4(n,e){const t=be(n),r=t.Ka.get(e);if(r&&r.Ba)return je().add(r.key);{let i=je();const o=t.qa.get(e);if(!o)return i;for(const l of o){const c=t.ka.get(l);i=i.unionWith(c.view.ba)}return i}}function Tx(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_x.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S4.bind(null,e),e.La.p_=f4.bind(null,e.eventManager),e.La.Ja=p4.bind(null,e.eventManager),e}function b4(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R4.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return LM(this.persistence,new NM,e.initialUser,this.serializer)}Xa(e){return new ix(d_.ri,this.serializer)}Za(e){return new BM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class N4 extends nf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof ef);const r=this.persistence.referenceDelegate.garbageCollector;return new yM(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new ix(r=>ef.ri(r,t),this.serializer)}}class Xg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P4.bind(null,this.syncEngine),await c4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h4}()}createDatastore(e){const t=Uf(e.databaseInfo.databaseId),r=function(o){return new KM(o)}(e.databaseInfo);return function(o,l,c,h){return new XM(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new ZM(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>gT(this.syncEngine,t,0),function(){return cT.D()?new cT:new zM}())}createSyncEngine(e,t){return function(i,o,l,c,h,p,g){const v=new _4(i,o,l,c,h,p);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=be(i);he(qo,"RemoteStore shutting down."),o.W_.add(5),await Dc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Xg.provider={build:()=>new Xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class D4{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=yS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{he(Qs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Qs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=v_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eg(n,e){n.asyncQueue.verifyOperationInProgress(),he(Qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function _T(n,e){n.asyncQueue.verifyOperationInProgress();const t=await O4(n);he(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>hT(e.remoteStore,i)),n._onlineComponents=e}async function O4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Qs,"Using user provided OfflineComponentProvider");try{await eg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;cl("Error using user provided cache. Falling back to memory cache: "+t),await eg(n,new nf)}}else he(Qs,"Using default OfflineComponentProvider"),await eg(n,new N4(void 0));return n._offlineComponents}async function Ix(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Qs,"Using user provided OnlineComponentProvider"),await _T(n,n._uninitializedComponentsProvider._online)):(he(Qs,"Using default OnlineComponentProvider"),await _T(n,new Xg))),n._onlineComponents}function L4(n){return Ix(n).then(e=>e.syncEngine)}async function rf(n){const e=await Ix(n),t=e.eventManager;return t.onListen=v4.bind(null,e.syncEngine),t.onUnlisten=T4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I4.bind(null,e.syncEngine),t}function M4(n,e,t={}){const r=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const g=new x_({next:E=>{g.su(),l.enqueueAndForget(()=>E_(o,v));const S=E.docs.has(c);!S&&E.fromCache?p.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&h&&h.source==="server"?p.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new I_(Of(c.path),g,{includeMetadataChanges:!0,Ta:!0});return w_(o,v)}(await rf(n),n.asyncQueue,e,t,r)),r.promise}function V4(n,e,t={}){const r=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const g=new x_({next:E=>{g.su(),l.enqueueAndForget(()=>E_(o,v)),E.fromCache&&h.source==="server"?p.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new I_(c,g,{includeMetadataChanges:!0,Ta:!0});return w_(o,v)}(await rf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n,e,t){if(!t)throw new fe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function j4(n,e,t,r){if(e===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wT(n){if(!ve.isDocumentKey(n))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ET(n){if(ve.isDocumentKey(n))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe()}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zf(n);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="firestore.googleapis.com",TT=!0;class IT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xx,this.ssl=TT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:TT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mM)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HO;switch(r.type){case"firstParty":return new QO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=vT.get(t);r&&(he("ComponentProvider","Removing Datastore"),vT.delete(t),r.terminate())}(this),Promise.resolve()}}function F4(n,e,t,r={}){var i;const o=(n=Dn(n,Wf))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==xx&&o.host!==c&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!$s(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=an.MOCK_USER;else{p=Fy(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new an(v)}n._authCredentials=new qO(new gS(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class js extends so{constructor(e,t,r){super(e,t,Of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ve(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function Rx(n,e,...t){if(n=it(n),Sx("collection","path",e),n instanceof Wf){const r=ct.fromString(e,...t);return ET(r),new js(n,null,r)}{if(!(n instanceof fn||n instanceof js))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return ET(r),new js(n.firestore,null,r)}}function gl(n,e,...t){if(n=it(n),arguments.length===1&&(e=yS.newId()),Sx("doc","path",e),n instanceof Wf){const r=ct.fromString(e,...t);return wT(r),new fn(n,null,new ve(r))}{if(!(n instanceof fn||n instanceof js))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return wT(r),new fn(n.firestore,n instanceof js?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="AsyncQueue";class ST{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ax(this,"async_queue_retry"),this.bu=()=>{const r=Zm();r&&he(CT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Oi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Nl(e))throw e;he(CT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Ui("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=__.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function xT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Bi extends Wf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ST,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ST(e),this._firestoreClient=void 0,await e}}}function Lc(n,e){const t=typeof n=="object"?n:xf(),r=typeof n=="string"?n:Qh,i=xc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Vy("firestore");o&&F4(i,...o)}return i}function Hf(n){if(n._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||U4(n),n._firestoreClient}function U4(n){var e,t,r;const i=n._freezeSettings(),o=function(c,h,p,g){return new uL(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Cx(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new D4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Zt.fromBase64String(e))}catch(t){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=/^__.*__$/;class B4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,t,this.fieldTransforms):new bc(e,this.data,t,this.fieldTransforms)}}class Ax{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new io(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Px(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class P_{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new P_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return sf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Px(this.Lu)&&$4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class z4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Uf(e)}ju(e,t,r,i=!1){return new P_({Lu:e,methodName:t,zu:r,path:Jt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(n){const e=n._freezeSettings(),t=Uf(n._databaseId);return new z4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kx(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);b_("Data must be an object, but it was:",l,r);const c=bx(r,l);let h,p;if(o.merge)h=new qn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const E=Jg(e,v,t);if(!l.contains(E))throw new fe(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Dx(g,E)||g.push(E)}h=new qn(g),p=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=l.fieldTransforms;return new B4(new bn(c),h,p)}class Qf extends Kf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}class k_ extends Kf{_toFieldTransform(e){return new LL(e.path,new mc)}isEqual(e){return e instanceof k_}}function W4(n,e,t,r){const i=n.ju(1,e,t);b_("Data must be an object, but it was:",i,r);const o=[],l=bn.empty();ro(r,(h,p)=>{const g=N_(e,h,t);p=it(p);const v=i.Ku(g);if(p instanceof Qf)o.push(g);else{const E=Mc(p,v);E!=null&&(o.push(g),l.set(g,E))}});const c=new qn(o);return new Ax(l,c,i.fieldTransforms)}function H4(n,e,t,r,i,o){const l=n.ju(1,e,t),c=[Jg(e,r,t)],h=[i];if(o.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(Jg(e,o[E])),h.push(o[E+1]);const p=[],g=bn.empty();for(let E=c.length-1;E>=0;--E)if(!Dx(p,c[E])){const S=c[E];let R=h[E];R=it(R);const b=l.Ku(S);if(R instanceof Qf)p.push(S);else{const x=Mc(R,b);x!=null&&(p.push(S),g.set(S,x))}}const v=new qn(p);return new Ax(g,v,l.fieldTransforms)}function q4(n,e,t,r=!1){return Mc(t,n.ju(r?4:3,e))}function Mc(n,e){if(Nx(n=it(n)))return b_("Unsupported field value:",e,n),bx(n,e);if(n instanceof Kf)return function(r,i){if(!Px(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let h=Mc(c,i.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Mt.fromDate(r);return{timestampValue:Zh(i.serializer,o)}}if(r instanceof Mt){const o=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(i.serializer,o)}}if(r instanceof R_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yl)return{bytesValue:YS(i.serializer,r._byteString)};if(r instanceof fn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:u_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof A_)return function(l,c){return{mapValue:{fields:{[SS]:{stringValue:xS},[Yh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return s_(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${zf(r)}`)}(n,e)}function bx(n,e){const t={};return vS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(n,(r,i)=>{const o=Mc(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Nx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof R_||n instanceof yl||n instanceof fn||n instanceof Kf||n instanceof A_)}function b_(n,e,t){if(!Nx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=zf(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Jg(n,e,t){if((e=it(e))instanceof qf)return e._internalPath;if(typeof e=="string")return N_(n,e);throw sf("Field path arguments must be of type string or ",n,!1,void 0,t)}const K4=new RegExp("[~\\*/\\[\\]]");function N_(n,e,t){if(e.search(K4)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qf(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sf(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new fe(J.INVALID_ARGUMENT,c+n+h)}function Dx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class G4 extends Ox{data(){return super.data()}}function Yf(n,e){return typeof e=="string"?N_(n,e):e instanceof qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D_{}class Mx extends D_{}function Q4(n,e,...t){let r=[];e instanceof D_&&r.push(e),r=r.concat(t),function(o){const l=o.filter(h=>h instanceof O_).length,c=o.filter(h=>h instanceof Xf).length;if(l>1||l>0&&c>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Xf extends Mx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xf(e,t,r)}_apply(e){const t=this._parse(e);return Vx(e._query,t),new so(e.firestore,e.converter,$g(e._query,t))}_parse(e){const t=Gf(e.firestore);return function(o,l,c,h,p,g,v){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){AT(v,g);const R=[];for(const b of v)R.push(RT(h,o,b));E={arrayValue:{values:R}}}else E=RT(h,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||AT(v,g),E=q4(c,l,v,g==="in"||g==="not-in");return kt.create(p,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Y4(n,e,t){const r=e,i=Yf("where",n);return Xf._create(i,r,t)}class O_ extends D_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new O_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const h of c)Vx(l,h),l=$g(l,h)}(e._query,t),new so(e.firestore,e.converter,$g(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class L_ extends Mx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new L_(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(o,l)}(e._query,this._field,this._direction);return new so(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new Dl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function l8(n,e="asc"){const t=e,r=Yf("orderBy",n);return L_._create(r,t)}function RT(n,e,t){if(typeof(t=it(t))=="string"){if(t==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OS(e)&&t.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ct.fromString(t));if(!ve.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BE(n,new ve(r))}if(t instanceof fn)return BE(n,t._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(t)}.`)}function AT(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vx(n,e){const t=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class X4{convertValue(e,t="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ro(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Yh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new A_(o)}convertGeoPoint(e){return new R_(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Df(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const t=Hs(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);Xe(nx(r));const i=new hc(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||Ui(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fx extends Ox{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Yf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Dh extends Fx{data(e={}){return super.data(e)}}class Ux{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Hu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Dh(this._firestore,this._userDataWriter,r.key,r,new Hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new Dh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Dh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:J4(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function J4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(n){n=Dn(n,fn);const e=Dn(n.firestore,Bi);return M4(Hf(e),n._key).then(t=>zx(e,n,t))}class M_ extends X4{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function $x(n){n=Dn(n,so);const e=Dn(n.firestore,Bi),t=Hf(e),r=new M_(e);return Lx(n._query),V4(t,n._query).then(i=>new Ux(e,r,n,i))}function Bx(n,e,t){n=Dn(n,fn);const r=Dn(n.firestore,Bi),i=jx(n.converter,e,t);return Jf(r,[kx(Gf(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,cr.none())])}function Z4(n,e,t,...r){n=Dn(n,fn);const i=Dn(n.firestore,Bi),o=Gf(i);let l;return l=typeof(e=it(e))=="string"||e instanceof qf?H4(o,"updateDoc",n._key,e,t,r):W4(o,"updateDoc",n._key,e),Jf(i,[l.toMutation(n._key,cr.exists(!0))])}function u8(n){return Jf(Dn(n.firestore,Bi),[new o_(n._key,cr.none())])}function c8(n,e){const t=Dn(n.firestore,Bi),r=gl(n),i=jx(n.converter,e);return Jf(t,[kx(Gf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function eV(n,...e){var t,r,i;n=it(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||xT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(xT(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let h,p,g;if(n instanceof fn)p=Dn(n.firestore,Bi),g=Of(n._key.path),h={next:v=>{e[l]&&e[l](zx(p,n,v))},error:e[l+1],complete:e[l+2]};else{const v=Dn(n,so);p=Dn(v.firestore,Bi),g=v._query;const E=new M_(p);h={next:S=>{e[l]&&e[l](new Ux(p,E,v,S))},error:e[l+1],complete:e[l+2]},Lx(n._query)}return function(E,S,R,b){const x=new x_(b),j=new I_(S,x,R);return E.asyncQueue.enqueueAndForget(async()=>w_(await rf(E),j)),()=>{x.su(),E.asyncQueue.enqueueAndForget(async()=>E_(await rf(E),j))}}(Hf(p),g,c,h)}function Jf(n,e){return function(r,i){const o=new Oi;return r.asyncQueue.enqueueAndForget(async()=>C4(await L4(r),i,o)),o.promise}(Hf(n),e)}function zx(n,e,t){const r=t.docs.get(e._key),i=new M_(n);return new Fx(n,i,e._key,r,new Hu(t.hasPendingWrites,t.fromCache),e.converter)}function d8(){return new k_("serverTimestamp")}(function(e,t=!0){(function(i){kl=i})(eo),Bs(new Vi("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Bi(new KO(r.getProvider("auth-internal")),new YO(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(p.options.projectId,g)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ur(bE,NE,e),ur(bE,NE,"esm2017")})();var PT={};const kT="@firebase/database",bT="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wx="";function tV(n){Wx=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ac(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ki(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nV(e)}}catch{}return new rV},Uo=Hx("localStorage"),iV=Hx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Sf("@firebase/database"),sV=function(){let n=1;return function(){return n++}}(),qx=function(n){const e=y2(n),t=new h2;t.update(e);const r=t.digest();return My.encodeByteArray(r)},Vc=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Vc.apply(null,r):typeof r=="object"?e+=Xt(r):e+=r,e+=" "}return e};let Xu=null,NT=!0;const oV=function(n,e){ce(!0,"Can't turn on custom loggers persistently."),sl.logLevel=Me.VERBOSE,Xu=sl.log.bind(sl)},un=function(...n){if(NT===!0&&(NT=!1,Xu===null&&iV.get("logging_enabled")===!0&&oV()),Xu){const e=Vc.apply(null,n);Xu(e)}},jc=function(n){return function(...e){un(n,...e)}},ey=function(...n){const e="FIREBASE INTERNAL ERROR: "+Vc(...n);sl.error(e)},zi=function(...n){const e=`FIREBASE FATAL ERROR: ${Vc(...n)}`;throw sl.error(e),new Error(e)},Gn=function(...n){const e="FIREBASE WARNING: "+Vc(...n);sl.warn(e)},aV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kx=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},lV=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},_l="[MIN_NAME]",Ko="[MAX_NAME]",Ll=function(n,e){if(n===e)return 0;if(n===_l||e===Ko)return-1;if(e===_l||n===Ko)return 1;{const t=DT(n),r=DT(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},uV=function(n,e){return n===e?0:n<e?-1:1},Nu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Xt(e))},V_=function(n){if(typeof n!="object"||n===null)return Xt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Xt(e[r]),t+=":",t+=V_(n[e[r]]);return t+="}",t},Gx=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Qx=function(n){ce(!Kx(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,o,l,c,h;n===0?(o=0,l=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=c+r,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-r-t))));const p=[];for(h=t;h;h-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(i?1:0),p.reverse();const g=p.join("");let v="";for(h=0;h<64;h+=8){let E=parseInt(g.substr(h,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},cV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},hV=new RegExp("^-?(0*)\\d{1,10}$"),fV=-2147483648,pV=2147483647,DT=function(n){if(hV.test(n)){const e=Number(n);if(e>=fV&&e<=pV)return e}return null},Fc=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Gn("Exception was thrown by user callback.",t),e},Math.floor(0))}},mV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ju=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Gn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gn(e)}}class Oh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Oh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="5",Yx="v",Xx="s",Jx="r",Zx="f",eR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tR="ls",nR="p",ty="ac",rR="websocket",iR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,r,i,o=!1,l="",c=!1,h=!1,p=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Uo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Uo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function _V(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function oR(n,e,t){ce(typeof e=="string","typeof type must == string"),ce(typeof t=="object","typeof params must == object");let r;if(e===rR)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===iR)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);_V(n)&&(t.ns=n.namespace);const i=[];return hr(t,(o,l)=>{i.push(o+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.counters_={}}incrementCounter(e,t=1){Ki(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Kb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg={},ng={};function F_(n){const e=n.toString();return tg[e]||(tg[e]=new vV),tg[e]}function wV(n,e){const t=n.toString();return ng[t]||(ng[t]=e()),ng[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Fc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="start",TV="close",IV="pLPCommand",CV="pRTLPCB",aR="id",lR="pw",uR="ser",SV="cb",xV="seg",RV="ts",AV="d",PV="dframe",cR=1870,dR=30,kV=cR-dR,bV=25e3,NV=3e4;class Za{constructor(e,t,r,i,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jc(e),this.stats_=F_(t),this.urlFn=h=>(this.appCheckToken&&(h[ty]=this.appCheckToken),oR(t,iR,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new EV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NV)),lV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new U_((...o)=>{const[l,c,h,p,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===OT)this.id=c,this.password=h;else if(l===TV)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[OT]="t",r[uR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[SV]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Yx]=j_,this.transportSessionId&&(r[Xx]=this.transportSessionId),this.lastSessionId&&(r[tR]=this.lastSessionId),this.applicationId&&(r[nR]=this.applicationId),this.appCheckToken&&(r[ty]=this.appCheckToken),typeof location<"u"&&location.hostname&&eR.test(location.hostname)&&(r[Jx]=Zx);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Za.forceAllow_=!0}static forceDisallow(){Za.forceDisallow_=!0}static isAvailable(){return Za.forceAllow_?!0:!Za.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!cV()&&!dV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=yC(t),i=Gx(r,kV);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[PV]="t",r[aR]=e,r[lR]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Xt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class U_{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sV(),window[IV+this.uniqueCallbackIdentifier]=e,window[CV+this.uniqueCallbackIdentifier]=t,this.myIFrame=U_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){un("frame writing exception"),c.stack&&un(c.stack),un(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||un("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[aR]=this.myID,e[lR]=this.myPW,e[uR]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dR+r.length<=cR;){const l=this.pendingSegs.shift();r=r+"&"+xV+i+"="+l.seg+"&"+RV+i+"="+l.ts+"&"+AV+i+"="+l.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(bV)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{un("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=16384,OV=45e3;let of=null;typeof MozWebSocket<"u"?of=MozWebSocket:typeof WebSocket<"u"&&(of=WebSocket);class br{constructor(e,t,r,i,o,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jc(this.connId),this.stats_=F_(t),this.connURL=br.connectionURL_(t,l,c,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,o){const l={};return l[Yx]=j_,typeof location<"u"&&location.hostname&&eR.test(location.hostname)&&(l[Jx]=Zx),t&&(l[Xx]=t),r&&(l[tR]=r),i&&(l[ty]=i),o&&(l[nR]=o),oR(e,rR,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Uo.set("previous_websocket_failure",!0);try{let r;r2(),this.mySock=new of(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){br.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&of!==null&&!br.forceDisallow_}static previouslyFailed(){return Uo.isInMemoryStorage||Uo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Uo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=ac(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Xt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Gx(t,DV);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OV))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}br.responsesRequiredToBeHealthy=2;br.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{static get ALL_TRANSPORTS(){return[Za,br]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=br&&br.isAvailable();let r=t&&!br.previouslyFailed();if(e.webSocketOnly&&(t||Gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[br];else{const i=this.transports_=[];for(const o of _c.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);_c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_c.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=6e4,MV=5e3,VV=10*1024,jV=100*1024,rg="t",LT="d",FV="s",MT="r",UV="e",VT="o",jT="a",FT="n",UT="p",$V="h";class BV{constructor(e,t,r,i,o,l,c,h,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jc("c:"+this.id+":"),this.transportManager_=new _c(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ju(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rg in e){const t=e[rg];t===jT?this.upgradeIfSecondaryHealthy_():t===MT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===VT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Nu("t",e),r=Nu("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:UT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:FT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Nu("t",e),r=Nu("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Nu(rg,e);if(LT in e){const r=e[LT];if(t===$V){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===FT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===FV?this.onConnectionShutdown_(r):t===MT?this.onReset_(r):t===UV?ey("Server Error: "+r):t===VT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ey("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),j_!==r&&Gn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ju(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(LV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ju(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(MV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:UT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Uo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends fR{static getInstance(){return new af}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Uy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=32,BT=768;class dt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function et(){return new dt("")}function He(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ys(n){return n.pieces_.length-n.pieceNum_}function ut(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new dt(n.pieces_,e)}function pR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function zV(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function mR(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function gR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new dt(e,0)}function Ht(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof dt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new dt(t,0)}function $e(n){return n.pieceNum_>=n.pieces_.length}function ar(n,e){const t=He(n),r=He(e);if(t===null)return e;if(t===r)return ar(ut(n),ut(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function yR(n,e){if(Ys(n)!==Ys(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Nr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ys(n)>Ys(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class WV{constructor(e,t){this.errorPrefix_=t,this.parts_=mR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Cf(this.parts_[r]);_R(this)}}function HV(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Cf(e),_R(n)}function qV(n){const e=n.parts_.pop();n.byteLength_-=Cf(e),n.parts_.length>0&&(n.byteLength_-=1)}function _R(n){if(n.byteLength_>BT)throw new Error(n.errorPrefix_+"has a key path longer than "+BT+" bytes ("+n.byteLength_+").");if(n.parts_.length>$T)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$T+") or object contains a cycle "+Vo(n))}function Vo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends fR{static getInstance(){return new $_}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=1e3,KV=60*5*1e3,zT=30*1e3,GV=1.3,QV=3e4,YV="server_kill",WT=3;class Li extends hR{constructor(e,t,r,i,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=Li.nextPersistentConnectionId_++,this.log_=jc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Du,this.maxReconnectDelay_=KV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&af.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,o={r:i,a:e,b:t};this.log_(Xt(o)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new jy,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,r,i){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,p=c.s;Li.warnOnListenWarnings_(h,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),p!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(p,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ki(e,"w")){const r=ul(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Gn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||d2(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=c2(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const o=i.s,l=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";i&&(o.q=r,o.t=i),this.sendRequest(l,o)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,o){this.initConnection_();const l={p:t,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xt(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):ey("Unrecognized action received from server: "+Xt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QV&&(this.reconnectDelay_=Du),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Li.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,r())},p=function(v){ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(v)};this.realtime_={close:h,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?un("getToken() completed but was canceled"):(un("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,c=new BV(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,S=>{Gn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(YV)},o))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&Gn(v),h())}}}interrupt(e){un("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){un("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cg(this.interruptReasons_)&&(this.reconnectDelay_=Du,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(o=>V_(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new dt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(t),o.delete(t),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){un("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=WT&&(this.reconnectDelay_=zT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){un("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=WT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Wx.replace(/\./g,"-")]=1,Uy()?e["framework.cordova"]=1:TC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=af.getInstance().currentlyOnline();return Cg(this.interruptReasons_)&&e}}Li.nextPersistentConnectionId_=0;Li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new qe(_l,e),i=new qe(_l,t);return this.compare(r,i)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph;class vR extends Zf{static get __EMPTY_NODE(){return ph}static set __EMPTY_NODE(e){ph=e}compare(e,t){return Ll(e.name,t.name)}isDefinedOn(e){throw Rl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(Ko,ph)}makePost(e,t){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,ph)}toString(){return".key"}}const ol=new vR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Wt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Wt.RED,this.left=i??Nn.EMPTY_NODE,this.right=o??Nn.EMPTY_NODE}copy(e,t,r,i,o){return new Wt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return Nn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Wt.RED=!0;Wt.BLACK=!1;class XV{copy(e,t,r,i,o){return this}insert(e,t,r){return new Wt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nn{constructor(e,t=Nn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Nn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new mh(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new mh(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new mh(this.root_,null,this.comparator_,!0,e)}}Nn.EMPTY_NODE=new XV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(n,e){return Ll(n.name,e.name)}function B_(n,e){return Ll(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny;function ZV(n){ny=n}const wR=function(n){return typeof n=="number"?"number:"+Qx(n):"string:"+n},ER=function(n){if(n.isLeafNode()){const e=n.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ki(e,".sv"),"Priority must be a string or number.")}else ce(n===ny||n.isEmpty(),"priority of unexpected type.");ce(n===ny||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HT;class Bt{static set __childrenNodeConstructor(e){HT=e}static get __childrenNodeConstructor(){return HT}constructor(e,t=Bt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ER(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Bt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:He(e)===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Bt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=He(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||Ys(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Bt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ut(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=Qx(this.value_):e+=this.value_,this.lazyHash_=qx(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Bt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Bt.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Bt.VALUE_TYPE_ORDER.indexOf(t),o=Bt.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+t),ce(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Bt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TR,IR;function e3(n){TR=n}function t3(n){IR=n}class n3 extends Zf{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?Ll(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(Ko,new Bt("[PRIORITY-POST]",IR))}makePost(e,t){const r=TR(e);return new qe(t,new Bt("[PRIORITY-POST]",r))}toString(){return".priority"}}const hn=new n3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=Math.log(2);class i3{constructor(e){const t=o=>parseInt(Math.log(o)/r3,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lf=function(n,e,t,r){n.sort(e);const i=function(h,p){const g=p-h;let v,E;if(g===0)return null;if(g===1)return v=n[h],E=t?t(v):v,new Wt(E,v.node,Wt.BLACK,null,null);{const S=parseInt(g/2,10)+h,R=i(h,S),b=i(S+1,p);return v=n[S],E=t?t(v):v,new Wt(E,v.node,Wt.BLACK,R,b)}},o=function(h){let p=null,g=null,v=n.length;const E=function(R,b){const x=v-R,j=v;v-=R;const U=i(x+1,j),B=n[x],q=t?t(B):B;S(new Wt(q,B.node,b,null,U))},S=function(R){p?(p.left=R,p=R):(g=R,p=R)};for(let R=0;R<h.count;++R){const b=h.nextBitIsOne(),x=Math.pow(2,h.count-(R+1));b?E(x,Wt.BLACK):(E(x,Wt.BLACK),E(x,Wt.RED))}return g},l=new i3(n.length),c=o(l);return new Nn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig;const Ga={};class Ni{static get Default(){return ce(Ga&&hn,"ChildrenNode.ts has not been loaded"),ig=ig||new Ni({".priority":Ga},{".priority":hn}),ig}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ul(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Nn?t:null}hasIndex(e){return Ki(this.indexSet_,e.toString())}addIndex(e,t){ce(e!==ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(qe.Wrap);let l=o.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let c;i?c=lf(r,e.getCompare()):c=Ga;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new Ni(g,p)}addToIndexes(e,t){const r=$h(this.indexes_,(i,o)=>{const l=ul(this.indexSet_,o);if(ce(l,"Missing index implementation for "+o),i===Ga)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(qe.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&c.push(p),p=h.getNext();return c.push(e),lf(c,l.getCompare())}else return Ga;else{const c=t.get(e.name);let h=i;return c&&(h=h.remove(new qe(e.name,c))),h.insert(e,e.node)}});return new Ni(r,this.indexSet_)}removeFromIndexes(e,t){const r=$h(this.indexes_,i=>{if(i===Ga)return i;{const o=t.get(e.name);return o?i.remove(new qe(e.name,o)):i}});return new Ni(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou;class Ye{static get EMPTY_NODE(){return Ou||(Ou=new Ye(new Nn(B_),null,Ni.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ER(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ou}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Ou:t}}getChild(e){const t=He(e);return t===null?this:this.getImmediateChild(t).getChild(ut(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ce(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new qe(e,t);let i,o;t.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?Ou:this.priorityNode_;return new Ye(i,l,o)}}updateChild(e,t){const r=He(e);if(r===null)return t;{ce(He(e)!==".priority"||Ys(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ut(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,o=!0;if(this.forEachChild(hn,(l,c)=>{t[l]=c.val(e),r++,o&&Ye.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1}),!e&&o&&i<2*r){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wR(this.getPriority().val())+":"),this.forEachChild(hn,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":qx(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new qe(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,qe.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uc?-1:0}withIndex(e){if(e===ol||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ol||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(hn),i=t.getIterator(hn);let o=r.getNext(),l=i.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=i.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===ol?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class s3 extends Ye{constructor(){super(new Nn(B_),Ye.EMPTY_NODE,Ni.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const Uc=new s3;Object.defineProperties(qe,{MIN:{value:new qe(_l,Ye.EMPTY_NODE)},MAX:{value:new qe(Ko,Uc)}});vR.__EMPTY_NODE=Ye.EMPTY_NODE;Bt.__childrenNodeConstructor=Ye;ZV(Uc);t3(Uc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=!0;function cn(n,e=null){if(n===null)return Ye.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Bt(t,cn(e))}if(!(n instanceof Array)&&o3){const t=[];let r=!1;if(hr(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=cn(c);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),t.push(new qe(l,h)))}}),t.length===0)return Ye.EMPTY_NODE;const o=lf(t,JV,l=>l.name,B_);if(r){const l=lf(t,hn.getCompare());return new Ye(o,cn(e),new Ni({".priority":l},{".priority":hn}))}else return new Ye(o,cn(e),Ni.Default)}else{let t=Ye.EMPTY_NODE;return hr(n,(r,i)=>{if(Ki(n,r)&&r.substring(0,1)!=="."){const o=cn(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(cn(e))}}e3(cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3 extends Zf{constructor(e){super(),this.indexPath_=e,ce(!$e(e)&&He(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?Ll(e.name,t.name):o}makePost(e,t){const r=cn(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new qe(t,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,Uc);return new qe(Ko,e)}toString(){return mR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3 extends Zf{compare(e,t){const r=e.node.compareTo(t.node);return r===0?Ll(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const r=cn(e);return new qe(t,r)}toString(){return".value"}}const u3=new l3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n){return{type:"value",snapshotNode:n}}function d3(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function h3(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function qT(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function f3(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_l}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ko}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){const e=new z_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KT(n){const e={};if(n.isDefault())return e;let t;if(n.index_===hn?t="$priority":n.index_===u3?t="$value":n.index_===ol?t="$key":(ce(n.index_ instanceof a3,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Xt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Xt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Xt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Xt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Xt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function GT(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==hn&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends hR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jc("p:rest:"),this.listens_={}}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=uf.getListenId_(e,r),c={};this.listens_[l]=c;const h=KT(e._queryParams);this.restRequest_(o+".json",h,(p,g)=>{let v=g;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(o,v,!1,r),ul(this.listens_,l)===c){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",i(E,null)}})}unlisten(e,t){const r=uf.getListenId_(e,t);delete this.listens_[r]}get(e){const t=KT(e._queryParams),r=e._path.toString(),i=new jy;return this.restRequest_(r+".json",t,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Al(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=ac(c.responseText)}catch{Gn("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,h)}else c.status!==401&&c.status!==404&&Gn("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){return{value:null,children:new Map}}function CR(n,e,t){if($e(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=He(e);n.children.has(r)||n.children.set(r,cf());const i=n.children.get(r);e=ut(e),CR(i,e,t)}}function ry(n,e,t){n.value!==null?t(e,n.value):m3(n,(r,i)=>{const o=new dt(e.toString()+"/"+r);ry(i,o,t)})}function m3(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&hr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=10*1e3,y3=30*1e3,_3=5*60*1e3;class v3{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new g3(e);const r=QT+(y3-QT)*Math.random();Ju(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;hr(e,(i,o)=>{o>0&&Ki(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Ju(this.reportStats_.bind(this),Math.floor(Math.random()*2*_3))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zr||(Zr={}));function SR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function RR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Zr.ACK_USER_WRITE,this.source=SR()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new dt(e));return new df(et(),t,this.revert)}}else return ce(He(this.path)===e,"operationForChild called for unrelated child."),new df(ut(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Zr.OVERWRITE}operationForChild(e){return $e(this.path)?new Go(this.source,et(),this.snap.getImmediateChild(e)):new Go(this.source,ut(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Zr.MERGE}operationForChild(e){if($e(this.path)){const t=this.children.subtree(new dt(e));return t.isEmpty()?null:t.value?new Go(this.source,et(),t.value):new vc(this.source,et(),t)}else return ce(He(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vc(this.source,ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const t=He(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function w3(n,e,t,r){const i=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(f3(l.childName,l.snapshotNode))}),Lu(n,i,"child_removed",e,r,t),Lu(n,i,"child_added",e,r,t),Lu(n,i,"child_moved",o,r,t),Lu(n,i,"child_changed",e,r,t),Lu(n,i,"value",e,r,t),i}function Lu(n,e,t,r,i,o){const l=r.filter(c=>c.type===t);l.sort((c,h)=>T3(n,c,h)),l.forEach(c=>{const h=E3(n,c,o);i.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(h,n.query_))})})}function E3(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function T3(n,e,t){if(e.childName==null||t.childName==null)throw Rl("Should only compare child_ events.");const r=new qe(e.childName,e.snapshotNode),i=new qe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n,e){return{eventCache:n,serverCache:e}}function Zu(n,e,t,r){return AR(new W_(e,t,r),n.serverCache)}function PR(n,e,t,r){return AR(n.eventCache,new W_(e,t,r))}function iy(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Qo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg;const I3=()=>(sg||(sg=new Nn(uV)),sg);class lt{static fromObject(e){let t=new lt(null);return hr(e,(r,i)=>{t=t.set(new dt(r),i)}),t}constructor(e,t=I3()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:et(),value:this.value};if($e(e))return null;{const r=He(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(ut(e),t);return o!=null?{path:Ht(new dt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const t=He(e),r=this.children.get(t);return r!==null?r.subtree(ut(e)):new lt(null)}}set(e,t){if($e(e))return new lt(t,this.children);{const r=He(e),o=(this.children.get(r)||new lt(null)).set(ut(e),t),l=this.children.insert(r,o);return new lt(this.value,l)}}remove(e){if($e(e))return this.children.isEmpty()?new lt(null):new lt(null,this.children);{const t=He(e),r=this.children.get(t);if(r){const i=r.remove(ut(e));let o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new lt(null):new lt(this.value,o)}else return this}}get(e){if($e(e))return this.value;{const t=He(e),r=this.children.get(t);return r?r.get(ut(e)):null}}setTree(e,t){if($e(e))return t;{const r=He(e),o=(this.children.get(r)||new lt(null)).setTree(ut(e),t);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new lt(this.value,l)}}fold(e){return this.fold_(et(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ht(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,et(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if($e(e))return null;{const o=He(e),l=this.children.get(o);return l?l.findOnPath_(ut(e),Ht(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,et(),t)}foreachOnPath_(e,t,r){if($e(e))return this;{this.value&&r(t,this.value);const i=He(e),o=this.children.get(i);return o?o.foreachOnPath_(ut(e),Ht(t,i),r):new lt(null)}}foreach(e){this.foreach_(et(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ht(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.writeTree_=e}static empty(){return new Or(new lt(null))}}function ec(n,e,t){if($e(e))return new Or(new lt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const l=ar(i,e);return o=o.updateChild(l,t),new Or(n.writeTree_.set(i,o))}else{const i=new lt(t),o=n.writeTree_.setTree(e,i);return new Or(o)}}}function YT(n,e,t){let r=n;return hr(t,(i,o)=>{r=ec(r,Ht(e,i),o)}),r}function XT(n,e){if($e(e))return Or.empty();{const t=n.writeTree_.setTree(e,new lt(null));return new Or(t)}}function sy(n,e){return na(n,e)!=null}function na(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(ar(t.path,e)):null}function JT(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(hn,(r,i)=>{e.push(new qe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new qe(r,i.value))}),e}function Fs(n,e){if($e(e))return n;{const t=na(n,e);return t!=null?new Or(new lt(t)):new Or(n.writeTree_.subtree(e))}}function oy(n){return n.writeTree_.isEmpty()}function vl(n,e){return kR(et(),n.writeTree_,e)}function kR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ce(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=kR(Ht(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Ht(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n,e){return MR(e,n)}function C3(n,e,t,r,i){ce(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=ec(n.visibleWrites,e,t)),n.lastWriteId=r}function S3(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function x3(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ce(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&R3(c,r.path)?i=!1:Nr(r.path,c.path)&&(o=!0)),l--}if(i){if(o)return A3(n),!0;if(r.snap)n.visibleWrites=XT(n.visibleWrites,r.path);else{const c=r.children;hr(c,h=>{n.visibleWrites=XT(n.visibleWrites,Ht(r.path,h))})}return!0}else return!1}function R3(n,e){if(n.snap)return Nr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Nr(Ht(n.path,t),e))return!0;return!1}function A3(n){n.visibleWrites=NR(n.allWrites,P3,et()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function P3(n){return n.visible}function NR(n,e,t){let r=Or.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const l=o.path;let c;if(o.snap)Nr(t,l)?(c=ar(t,l),r=ec(r,c,o.snap)):Nr(l,t)&&(c=ar(l,t),r=ec(r,et(),o.snap.getChild(c)));else if(o.children){if(Nr(t,l))c=ar(t,l),r=YT(r,c,o.children);else if(Nr(l,t))if(c=ar(l,t),$e(c))r=YT(r,et(),o.children);else{const h=ul(o.children,He(c));if(h){const p=h.getChild(ut(c));r=ec(r,et(),p)}}}else throw Rl("WriteRecord should have .snap or .children")}}return r}function DR(n,e,t,r,i){if(!r&&!i){const o=na(n.visibleWrites,e);if(o!=null)return o;{const l=Fs(n.visibleWrites,e);if(oy(l))return t;if(t==null&&!sy(l,et()))return null;{const c=t||Ye.EMPTY_NODE;return vl(l,c)}}}else{const o=Fs(n.visibleWrites,e);if(!i&&oy(o))return t;if(!i&&t==null&&!sy(o,et()))return null;{const l=function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(Nr(p.path,e)||Nr(e,p.path))},c=NR(n.allWrites,l,e),h=t||Ye.EMPTY_NODE;return vl(c,h)}}}function k3(n,e,t){let r=Ye.EMPTY_NODE;const i=na(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(hn,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(t){const o=Fs(n.visibleWrites,e);return t.forEachChild(hn,(l,c)=>{const h=vl(Fs(o,new dt(l)),c);r=r.updateImmediateChild(l,h)}),JT(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Fs(n.visibleWrites,e);return JT(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function b3(n,e,t,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ht(e,t);if(sy(n.visibleWrites,o))return null;{const l=Fs(n.visibleWrites,o);return oy(l)?i.getChild(t):vl(l,i.getChild(t))}}function N3(n,e,t,r){const i=Ht(e,t),o=na(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){const l=Fs(n.visibleWrites,i);return vl(l,r.getNode().getImmediateChild(t))}else return null}function D3(n,e){return na(n.visibleWrites,e)}function O3(n,e,t,r,i,o,l){let c;const h=Fs(n.visibleWrites,e),p=na(h,et());if(p!=null)c=p;else if(t!=null)c=vl(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],v=l.getCompare(),E=o?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let S=E.getNext();for(;S&&g.length<i;)v(S,r)!==0&&g.push(S),S=E.getNext();return g}else return[]}function L3(){return{visibleWrites:Or.empty(),allWrites:[],lastWriteId:-1}}function ay(n,e,t,r){return DR(n.writeTree,n.treePath,e,t,r)}function OR(n,e){return k3(n.writeTree,n.treePath,e)}function ZT(n,e,t,r){return b3(n.writeTree,n.treePath,e,t,r)}function hf(n,e){return D3(n.writeTree,Ht(n.treePath,e))}function M3(n,e,t,r,i,o){return O3(n.writeTree,n.treePath,e,t,r,i,o)}function H_(n,e,t){return N3(n.writeTree,n.treePath,e,t)}function LR(n,e){return MR(Ht(n.treePath,e),n.writeTree)}function MR(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ce(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,qT(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,h3(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,d3(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,qT(r,e.snapshotNode,i.oldSnap));else throw Rl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const VR=new j3;class q_{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new W_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return H_(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qo(this.viewCache_),o=M3(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]}}function F3(n,e){ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function U3(n,e,t,r,i){const o=new V3;let l,c;if(t.type===Zr.OVERWRITE){const p=t;p.source.fromUser?l=ly(n,e,p.path,p.snap,r,i,o):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!$e(p.path),l=ff(n,e,p.path,p.snap,r,i,c,o))}else if(t.type===Zr.MERGE){const p=t;p.source.fromUser?l=B3(n,e,p.path,p.children,r,i,o):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),l=uy(n,e,p.path,p.children,r,i,c,o))}else if(t.type===Zr.ACK_USER_WRITE){const p=t;p.revert?l=H3(n,e,p.path,r,i,o):l=z3(n,e,p.path,p.affectedTree,r,i,o)}else if(t.type===Zr.LISTEN_COMPLETE)l=W3(n,e,t.path,r,o);else throw Rl("Unknown operation type: "+t.type);const h=o.getChanges();return $3(e,l,h),{viewCache:l,changes:h}}function $3(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=iy(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(c3(iy(e)))}}function jR(n,e,t,r,i,o){const l=e.eventCache;if(hf(r,t)!=null)return e;{let c,h;if($e(t))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Qo(e),g=p instanceof Ye?p:Ye.EMPTY_NODE,v=OR(r,g);c=n.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{const p=ay(r,Qo(e));c=n.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const p=He(t);if(p===".priority"){ce(Ys(t)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const v=ZT(r,t,g,h);v!=null?c=n.filter.updatePriority(g,v):c=l.getNode()}else{const g=ut(t);let v;if(l.isCompleteForChild(p)){h=e.serverCache.getNode();const E=ZT(r,t,l.getNode(),h);E!=null?v=l.getNode().getImmediateChild(p).updateChild(g,E):v=l.getNode().getImmediateChild(p)}else v=H_(r,p,e.serverCache);v!=null?c=n.filter.updateChild(l.getNode(),p,v,g,i,o):c=l.getNode()}}return Zu(e,c,l.isFullyInitialized()||$e(t),n.filter.filtersNodes())}}function ff(n,e,t,r,i,o,l,c){const h=e.serverCache;let p;const g=l?n.filter:n.filter.getIndexedFilter();if($e(t))p=g.updateFullNode(h.getNode(),r,null);else if(g.filtersNodes()&&!h.isFiltered()){const S=h.getNode().updateChild(t,r);p=g.updateFullNode(h.getNode(),S,null)}else{const S=He(t);if(!h.isCompleteForPath(t)&&Ys(t)>1)return e;const R=ut(t),x=h.getNode().getImmediateChild(S).updateChild(R,r);S===".priority"?p=g.updatePriority(h.getNode(),x):p=g.updateChild(h.getNode(),S,x,R,VR,null)}const v=PR(e,p,h.isFullyInitialized()||$e(t),g.filtersNodes()),E=new q_(i,v,o);return jR(n,v,t,i,E,c)}function ly(n,e,t,r,i,o,l){const c=e.eventCache;let h,p;const g=new q_(i,e,o);if($e(t))p=n.filter.updateFullNode(e.eventCache.getNode(),r,l),h=Zu(e,p,!0,n.filter.filtersNodes());else{const v=He(t);if(v===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),r),h=Zu(e,p,c.isFullyInitialized(),c.isFiltered());else{const E=ut(t),S=c.getNode().getImmediateChild(v);let R;if($e(E))R=r;else{const b=g.getCompleteChild(v);b!=null?pR(E)===".priority"&&b.getChild(gR(E)).isEmpty()?R=b:R=b.updateChild(E,r):R=Ye.EMPTY_NODE}if(S.equals(R))h=e;else{const b=n.filter.updateChild(c.getNode(),v,R,E,g,l);h=Zu(e,b,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function eI(n,e){return n.eventCache.isCompleteForChild(e)}function B3(n,e,t,r,i,o,l){let c=e;return r.foreach((h,p)=>{const g=Ht(t,h);eI(e,He(g))&&(c=ly(n,c,g,p,i,o,l))}),r.foreach((h,p)=>{const g=Ht(t,h);eI(e,He(g))||(c=ly(n,c,g,p,i,o,l))}),c}function tI(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function uy(n,e,t,r,i,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,p;$e(t)?p=r:p=new lt(null).setTree(t,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(g.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),R=tI(n,S,E);h=ff(n,h,new dt(v),R,i,o,l,c)}}),p.children.inorderTraversal((v,E)=>{const S=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!g.hasChild(v)&&!S){const R=e.serverCache.getNode().getImmediateChild(v),b=tI(n,R,E);h=ff(n,h,new dt(v),b,i,o,l,c)}}),h}function z3(n,e,t,r,i,o,l){if(hf(i,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(r.value!=null){if($e(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return ff(n,e,t,h.getNode().getChild(t),i,o,c,l);if($e(t)){let p=new lt(null);return h.getNode().forEachChild(ol,(g,v)=>{p=p.set(new dt(g),v)}),uy(n,e,t,p,i,o,c,l)}else return e}else{let p=new lt(null);return r.foreach((g,v)=>{const E=Ht(t,g);h.isCompleteForPath(E)&&(p=p.set(g,h.getNode().getChild(E)))}),uy(n,e,t,p,i,o,c,l)}}function W3(n,e,t,r,i){const o=e.serverCache,l=PR(e,o.getNode(),o.isFullyInitialized()||$e(t),o.isFiltered());return jR(n,l,t,r,VR,i)}function H3(n,e,t,r,i,o){let l;if(hf(r,t)!=null)return e;{const c=new q_(r,e,i),h=e.eventCache.getNode();let p;if($e(t)||He(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=ay(r,Qo(e));else{const v=e.serverCache.getNode();ce(v instanceof Ye,"serverChildren would be complete if leaf node"),g=OR(r,v)}g=g,p=n.filter.updateFullNode(h,g,o)}else{const g=He(t);let v=H_(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=h.getImmediateChild(g)),v!=null?p=n.filter.updateChild(h,g,v,ut(t),c,o):e.eventCache.getNode().hasChild(g)?p=n.filter.updateChild(h,g,Ye.EMPTY_NODE,ut(t),c,o):p=h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=ay(r,Qo(e)),l.isLeafNode()&&(p=n.filter.updateFullNode(p,l,o)))}return l=e.serverCache.isFullyInitialized()||hf(r,et())!=null,Zu(e,p,l,n.filter.filtersNodes())}}function q3(n,e){const t=Qo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!$e(e)&&!t.getImmediateChild(He(e)).isEmpty())?t.getChild(e):null}function nI(n,e,t,r){e.type===Zr.MERGE&&e.source.queryId!==null&&(ce(Qo(n.viewCache_),"We should always have a full cache before handling merges"),ce(iy(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=U3(n.processor_,i,e,t,r);return F3(n.processor_,o.viewCache),ce(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,K3(n,o.changes,o.viewCache.eventCache.getNode())}function K3(n,e,t,r){const i=n.eventRegistrations_;return w3(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rI;function G3(n){ce(!rI,"__referenceConstructor has already been defined"),rI=n}function K_(n,e,t,r){const i=e.source.queryId;if(i!==null){const o=n.views.get(i);return ce(o!=null,"SyncTree gave us an op for an invalid query."),nI(o,e,t,r)}else{let o=[];for(const l of n.views.values())o=o.concat(nI(l,e,t,r));return o}}function G_(n,e){let t=null;for(const r of n.views.values())t=t||q3(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iI;function Q3(n){ce(!iI,"__referenceConstructor has already been defined"),iI=n}class sI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lt(null),this.pendingWriteTree_=L3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Y3(n,e,t,r,i){return C3(n.pendingWriteTree_,e,t,r,i),i?tp(n,new Go(SR(),e,t)):[]}function el(n,e,t=!1){const r=S3(n.pendingWriteTree_,e);if(x3(n.pendingWriteTree_,e)){let o=new lt(null);return r.snap!=null?o=o.set(et(),!0):hr(r.children,l=>{o=o.set(new dt(l),!0)}),tp(n,new df(r.path,o,t))}else return[]}function ep(n,e,t){return tp(n,new Go(xR(),e,t))}function X3(n,e,t){const r=lt.fromObject(t);return tp(n,new vc(xR(),e,r))}function J3(n,e,t,r){const i=BR(n,r);if(i!=null){const o=zR(i),l=o.path,c=o.queryId,h=ar(l,e),p=new Go(RR(c),h,t);return WR(n,l,p)}else return[]}function Z3(n,e,t,r){const i=BR(n,r);if(i){const o=zR(i),l=o.path,c=o.queryId,h=ar(l,e),p=lt.fromObject(t),g=new vc(RR(c),h,p);return WR(n,l,g)}else return[]}function FR(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=ar(l,e),p=G_(c,h);if(p)return p});return DR(i,e,o,t,!0)}function tp(n,e){return UR(e,n.syncPointTree_,null,bR(n.pendingWriteTree_,et()))}function UR(n,e,t,r){if($e(n.path))return $R(n,e,t,r);{const i=e.get(et());t==null&&i!=null&&(t=G_(i,et()));let o=[];const l=He(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const p=t?t.getImmediateChild(l):null,g=LR(r,l);o=o.concat(UR(c,h,p,g))}return i&&(o=o.concat(K_(i,n,r,t))),o}}function $R(n,e,t,r){const i=e.get(et());t==null&&i!=null&&(t=G_(i,et()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,p=LR(r,l),g=n.operationForChild(l);g&&(o=o.concat($R(g,c,h,p)))}),i&&(o=o.concat(K_(i,n,r,t))),o}function BR(n,e){return n.tagToQueryMap.get(e)}function zR(n){const e=n.indexOf("$");return ce(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new dt(n.substr(0,e))}}function WR(n,e,t){const r=n.syncPointTree_.get(e);ce(r,"Missing sync point for query tag that we're tracking");const i=bR(n.pendingWriteTree_,e);return K_(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Q_(t)}node(){return this.node_}}class Y_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ht(this.path_,e);return new Y_(this.syncTree_,t)}node(){return FR(this.syncTree_,this.path_)}}const ej=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},oI=function(n,e,t){if(!n||typeof n!="object")return n;if(ce(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return tj(n[".sv"],e,t);if(typeof n[".sv"]=="object")return nj(n[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},tj=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ce(!1,"Unexpected server value: "+n)}},nj=function(n,e,t){n.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},rj=function(n,e,t,r){return X_(e,new Y_(t,n),r)},ij=function(n,e,t){return X_(n,new Q_(e),t)};function X_(n,e,t){const r=n.getPriority().val(),i=oI(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,c=oI(l.getValue(),e,t);return c!==l.getValue()||i!==l.getPriority().val()?new Bt(c,cn(i)):n}else{const l=n;return o=l,i!==l.getPriority().val()&&(o=o.updatePriority(new Bt(i))),l.forEachChild(hn,(c,h)=>{const p=X_(h,e.getImmediateChild(c),t);p!==h&&(o=o.updateImmediateChild(c,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Z_(n,e){let t=e instanceof dt?e:new dt(e),r=n,i=He(t);for(;i!==null;){const o=ul(r.node.children,i)||{children:{},childCount:0};r=new J_(i,r,o),t=ut(t),i=He(t)}return r}function Ml(n){return n.node.value}function HR(n,e){n.node.value=e,cy(n)}function qR(n){return n.node.childCount>0}function sj(n){return Ml(n)===void 0&&!qR(n)}function np(n,e){hr(n.node.children,(t,r)=>{e(new J_(t,n,r))})}function KR(n,e,t,r){t&&e(n),np(n,i=>{KR(i,e,!0)})}function oj(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function $c(n){return new dt(n.parent===null?n.name:$c(n.parent)+"/"+n.name)}function cy(n){n.parent!==null&&aj(n.parent,n.name,n)}function aj(n,e,t){const r=sj(t),i=Ki(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,cy(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,cy(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/[\[\].#$\/\u0000-\u001F\u007F]/,uj=/[\[\].#$\u0000-\u001F\u007F]/,og=10*1024*1024,GR=function(n){return typeof n=="string"&&n.length!==0&&!lj.test(n)},cj=function(n){return typeof n=="string"&&n.length!==0&&!uj.test(n)},dj=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cj(n)},QR=function(n,e,t){const r=t instanceof dt?new WV(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Vo(r));if(typeof e=="function")throw new Error(n+"contains a function "+Vo(r)+" with contents = "+e.toString());if(Kx(e))throw new Error(n+"contains "+e.toString()+" "+Vo(r));if(typeof e=="string"&&e.length>og/3&&Cf(e)>og)throw new Error(n+"contains a string greater than "+og+" utf8 bytes "+Vo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(hr(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!GR(l)))throw new Error(n+" contains an invalid key ("+l+") "+Vo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);HV(r,l),QR(n,c,r),qV(r)}),i&&o)throw new Error(n+' contains ".value" child '+Vo(r)+" in addition to actual children.")}},hj=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!GR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!dj(t))throw new Error(g2(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pj(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();t!==null&&!yR(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function ra(n,e,t){pj(n,t),mj(n,r=>Nr(r,e)||Nr(e,r))}function mj(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const o=i.path;e(o)?(gj(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function gj(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Xu&&un("event: "+t.toString()),Fc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="repo_interrupt",_j=25;class vj{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cf(),this.transactionQueueTree_=new J_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wj(n,e,t){if(n.stats_=F_(n.repoInfo_),n.forceRestClient_||mV())n.server_=new uf(n.repoInfo_,(r,i,o,l)=>{aI(n,r,i,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>lI(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Li(n.repoInfo_,e,(r,i,o,l)=>{aI(n,r,i,o,l)},r=>{lI(n,r)},r=>{Tj(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=wV(n.repoInfo_,()=>new v3(n.stats_,n.server_)),n.infoData_=new p3,n.infoSyncTree_=new sI({startListening:(r,i,o,l)=>{let c=[];const h=n.infoData_.getNode(r._path);return h.isEmpty()||(c=ep(n.infoSyncTree_,r._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),ev(n,"connected",!1),n.serverSyncTree_=new sI({startListening:(r,i,o,l)=>(n.server_.listen(r,o,i,(c,h)=>{const p=l(c,h);ra(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function Ej(n){const t=n.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function YR(n){return ej({timestamp:Ej(n)})}function aI(n,e,t,r,i){n.dataUpdateCount++;const o=new dt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const h=$h(t,p=>cn(p));l=Z3(n.serverSyncTree_,o,h,i)}else{const h=cn(t);l=J3(n.serverSyncTree_,o,h,i)}else if(r){const h=$h(t,p=>cn(p));l=X3(n.serverSyncTree_,o,h)}else{const h=cn(t);l=ep(n.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=nv(n,o)),ra(n.eventQueue_,c,l)}function lI(n,e){ev(n,"connected",e),e===!1&&Cj(n)}function Tj(n,e){hr(e,(t,r)=>{ev(n,t,r)})}function ev(n,e,t){const r=new dt("/.info/"+e),i=cn(t);n.infoData_.updateSnapshot(r,i);const o=ep(n.infoSyncTree_,r,i);ra(n.eventQueue_,r,o)}function Ij(n){return n.nextWriteId_++}function Cj(n){XR(n,"onDisconnectEvents");const e=YR(n),t=cf();ry(n.onDisconnect_,et(),(i,o)=>{const l=rj(i,o,n.serverSyncTree_,e);CR(t,i,l)});let r=[];ry(t,et(),(i,o)=>{r=r.concat(ep(n.serverSyncTree_,i,o));const l=Aj(n,i);nv(n,l)}),n.onDisconnect_=cf(),ra(n.eventQueue_,et(),r)}function Sj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(yj)}function XR(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),un(t,...e)}function JR(n,e,t){return FR(n.serverSyncTree_,e,t)||Ye.EMPTY_NODE}function tv(n,e=n.transactionQueueTree_){if(e||rp(n,e),Ml(e)){const t=eA(n,e);ce(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&xj(n,$c(e),t)}else qR(e)&&np(e,t=>{tv(n,t)})}function xj(n,e,t){const r=t.map(p=>p.currentWriteId),i=JR(n,e,r);let o=i;const l=i.hash();for(let p=0;p<t.length;p++){const g=t[p];ce(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=ar(e,g.path);o=o.updateChild(v,g.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;n.server_.put(h.toString(),c,p=>{XR(n,"transaction put response",{path:h.toString(),status:p});let g=[];if(p==="ok"){const v=[];for(let E=0;E<t.length;E++)t[E].status=2,g=g.concat(el(n.serverSyncTree_,t[E].currentWriteId)),t[E].onComplete&&v.push(()=>t[E].onComplete(null,!0,t[E].currentOutputSnapshotResolved)),t[E].unwatcher();rp(n,Z_(n.transactionQueueTree_,e)),tv(n,n.transactionQueueTree_),ra(n.eventQueue_,e,g);for(let E=0;E<v.length;E++)Fc(v[E])}else{if(p==="datastale")for(let v=0;v<t.length;v++)t[v].status===3?t[v].status=4:t[v].status=0;else{Gn("transaction at "+h.toString()+" failed: "+p);for(let v=0;v<t.length;v++)t[v].status=4,t[v].abortReason=p}nv(n,e)}},l)}function nv(n,e){const t=ZR(n,e),r=$c(t),i=eA(n,t);return Rj(n,i,r),r}function Rj(n,e,t){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],p=ar(t,h.path);let g=!1,v;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,v=h.abortReason,i=i.concat(el(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=_j)g=!0,v="maxretry",i=i.concat(el(n.serverSyncTree_,h.currentWriteId,!0));else{const E=JR(n,h.path,l);h.currentInputSnapshot=E;const S=e[c].update(E.val());if(S!==void 0){QR("transaction failed: Data returned ",S,h.path);let R=cn(S);typeof S=="object"&&S!=null&&Ki(S,".priority")||(R=R.updatePriority(E.getPriority()));const x=h.currentWriteId,j=YR(n),U=ij(R,E,j);h.currentOutputSnapshotRaw=R,h.currentOutputSnapshotResolved=U,h.currentWriteId=Ij(n),l.splice(l.indexOf(x),1),i=i.concat(Y3(n.serverSyncTree_,h.path,U,h.currentWriteId,h.applyLocally)),i=i.concat(el(n.serverSyncTree_,x,!0))}else g=!0,v="nodata",i=i.concat(el(n.serverSyncTree_,h.currentWriteId,!0))}ra(n.eventQueue_,t,i),i=[],g&&(e[c].status=2,function(E){setTimeout(E,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(v==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(v),!1,null))))}rp(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)Fc(r[c]);tv(n,n.transactionQueueTree_)}function ZR(n,e){let t,r=n.transactionQueueTree_;for(t=He(e);t!==null&&Ml(r)===void 0;)r=Z_(r,t),e=ut(e),t=He(e);return r}function eA(n,e){const t=[];return tA(n,e,t),t.sort((r,i)=>r.order-i.order),t}function tA(n,e,t){const r=Ml(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);np(e,i=>{tA(n,i,t)})}function rp(n,e){const t=Ml(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,HR(e,t.length>0?t:void 0)}np(e,r=>{rp(n,r)})}function Aj(n,e){const t=$c(ZR(n,e)),r=Z_(n.transactionQueueTree_,e);return oj(r,i=>{ag(n,i)}),ag(n,r),KR(r,i=>{ag(n,i)}),t}function ag(n,e){const t=Ml(e);if(t){const r=[];let i=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ce(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(ce(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(el(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?HR(e,void 0):t.length=o+1,ra(n.eventQueue_,$c(e),i);for(let l=0;l<r.length;l++)Fc(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function kj(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Gn(`Invalid query segment '${t}' in query '${n}'`)}return e}const uI=function(n,e){const t=bj(n),r=t.namespace;t.domain==="firebase.com"&&zi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&zi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||aV();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new sR(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new dt(t.pathString)}},bj=function(n){let e="",t="",r="",i="",o="",l=!0,c="https",h=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");g===-1&&(g=n.length);let v=n.indexOf("?");v===-1&&(v=n.length),e=n.substring(0,Math.min(g,v)),g<v&&(i=Pj(n.substring(g,v)));const E=kj(n.substring(Math.min(n.length,v)));p=e.indexOf(":"),p>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")t="localhost";else if(S.split(".").length<=2)t=S;else{const R=e.indexOf(".");r=e.substring(0,R).toLowerCase(),t=e.substring(R+1),o=r}"ns"in E&&(o=E.ns)}return{host:e,port:h,domain:t,subdomain:r,secure:l,scheme:c,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:pR(this._path)}get ref(){return new Vl(this._repo,this._path)}get _queryIdentifier(){const e=GT(this._queryParams),t=V_(e);return t==="{}"?"default":t}get _queryObject(){return GT(this._queryParams)}isEqual(e){if(e=it(e),!(e instanceof rv))return!1;const t=this._repo===e._repo,r=yR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+zV(this._path)}}class Vl extends rv{constructor(e,t){super(e,t,new z_,!1)}get parent(){const e=gR(this._path);return e===null?null:new Vl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}G3(Vl);Q3(Vl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="FIREBASE_DATABASE_EMULATOR_HOST",dy={};let Dj=!1;function Oj(n,e,t,r){n.repoInfo_=new sR(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function Lj(n,e,t,r,i){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||zi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),un("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=uI(o,i),c=l.repoInfo,h;typeof process<"u"&&PT&&(h=PT[Nj]),h?(o=`http://${h}?ns=${c.namespace}`,l=uI(o,i),c=l.repoInfo):l.repoInfo.secure;const p=new yV(n.name,n.options,e);hj("Invalid Firebase Database URL",l),$e(l.path)||zi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=Vj(c,n,p,new gV(n,t));return new jj(g,n)}function Mj(n,e){const t=dy[e];(!t||t[n.key]!==n)&&zi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Sj(n),delete t[n.key]}function Vj(n,e,t,r){let i=dy[e.name];i||(i={},dy[e.name]=i);let o=i[n.toURLString()];return o&&zi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new vj(n,Dj,t,r),i[n.toURLString()]=o,o}class jj{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vl(this._repo,et())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Mj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zi("Cannot call "+e+" on a deleted database.")}}function Fj(n=xf(),e){const t=xc(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=Vy("database");r&&Uj(t,...r)}return t}function Uj(n,e,t,r={}){n=it(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&$s(r,o.repoInfo_.emulatorOptions))return;zi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&zi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Oh(Oh.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:Fy(r.mockUserToken,n.app.options.projectId);l=new Oh(c)}Oj(o,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(n){tV(eo),Bs(new Vi("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Lj(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),ur(kT,bT,n),ur(kT,bT,"esm2017")}Li.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Li.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};$j();const iv=async(n,e,t,r,i,o,l)=>{const c=Lc();let h;e||t?h=`${e||""} ${t||""}`.trim():h=o||"";const p={displayName:h,firstName:e||(o?o.split(" ")[0]:""),lastName:t||(o?o.split(" ").slice(1).join(" "):""),email:r,phoneNumber:i,createdAt:new Date};typeof l=="boolean"&&(p.isAdmin=l),await Bx(gl(c,"users",n),p,{merge:!0})},nA={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-b0c23.firebaseio.com"};console.log("FIREBASE CONFIG:",nA);const sv=xC(nA),ip=kf(sv);new Jr;const Bj=Lc(sv);WO("debug");const rA=wn.createContext();function ia(){return I.useContext(rA)}function zj({children:n}){const[e,t]=I.useState(null),[r,i]=I.useState(!1),[o,l]=I.useState(!0),[c,h]=I.useState(!1),[p,g]=I.useState(!1),[v,E]=I.useState(!1),S={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:p,loading:o,redirectAfterAuth:v,setRedirectAfterAuth:E};return I.useEffect(()=>{const R=kf(),b=JC(R,x=>{var j;if(t(x),i(!!x),x){const U=(j=x.providerData[0])==null?void 0:j.providerId;h(U==="password"),g(U==="google.com")}else h(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLogggedIn =",r)});return()=>b}),w.jsx(rA.Provider,{value:S,children:!o&&n})}const hy=Lc(sv),Wj=async n=>{try{const e=gl(hy,"users",n),t=await Zg(e);return t.exists()?t.data():null}catch(e){throw console.error("Error fetching user profile:",e),e}},sp=I.createContext(),Hj=()=>I.useContext(sp),qj=({children:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState(null),[o,l]=I.useState(!0);return I.useEffect(()=>{const c=JC(ip,async h=>{if(t(h),!h){i(null),l(!1);return}console.log("Current user UID:",h==null?void 0:h.uid);let p=null,g=null;if(h.displayName){const S=h.displayName.split(" ");p=S[0]||"",g=S.slice(1).join(" ")||""}const v=gl(hy,"users",h.uid);(await Zg(v)).exists()?console.log("User profile already exists, skipping creation."):(console.log("User profile doesn't exist yet, creating it."),await iv(h.uid,p,g,h.email,null,h.displayName));try{const S=await Wj(h.uid),R={displayName:h.displayName||"",email:h.email||"",photoURL:h.photoURL||""};i(S||R),l(!1);try{const b=gl(hy,"users",h.uid);console.log("Setting up Firestore listener on: /users/"+h.uid),(await Zg(b)).exists()||(console.log("Document doesn't exist yet, creating it first"),await Bx(b,{displayName:r.displayName,email:r.email,photoURL:r.photoURL,createdAt:new Date},{merge:!0}));const j=eV(b,U=>{U.exists()?(console.log("Received profile update for UID:",h.uid,"Data:",U.data()),i(U.data())):console.warn("User document does not exist for UID:",h.uid)},U=>{console.error("Error listening to profile updates:",U)});return()=>j()}catch(b){console.error("Error setting up profile listener:",b)}}catch(S){console.error("Failed to fetch user profile:",S.message),l(!1)}});return()=>c()},[]),w.jsx(sp.Provider,{value:{user:e,profile:r,loading:o},children:n})},iA=I.createContext(),Kj={conversations:[],selectedConversation:null,messages:[],loading:!1};function Gj(n,e){switch(e.type){case"SET_CONVERSATIONS":return{...n,conversations:e.payload};case"SELECT_CONVERSATION":return n.selectedConversation===e.payload?n:{...n,selectedConversation:e.payload,messages:[]};case"SET_MESSAGES":return{...n,messages:e.payload};case"ADD_MESSAGE":return{...n,messages:[...n.messages,e.payload]};case"SET_LOADING":return{...n,loading:e.payload};default:return n}}function Qj({children:n}){const[e,t]=I.useReducer(Gj,Kj);return w.jsx(iA.Provider,{value:{state:e,dispatch:t},children:n})}function h8(){return I.useContext(iA)}function Yj(){return w.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}const Xj="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",Jj="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",cI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",dI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",hI="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",fI="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",ov=()=>w.jsxs("div",{className:"footer",children:[w.jsxs("div",{className:"left",children:[w.jsx("div",{className:"logo",children:"URENO"}),w.jsxs("div",{className:"social-sites",children:[w.jsx("object",{data:cI,type:"image/svg+xml",children:w.jsx("img",{src:cI})}),w.jsx("object",{data:dI,type:"image/svg+xml",children:w.jsx("img",{src:dI})}),w.jsx("object",{data:hI,type:"image/svg+xml",children:w.jsx("img",{src:hI})}),w.jsx("object",{data:fI,type:"image/svg+xml",children:w.jsx("img",{src:fI})})]})]}),w.jsxs("div",{className:"right",children:[w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]}),w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]}),w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]})]})]}),fy="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Zj=async(n,e)=>CD(ip,n,e),eF=(n,e)=>SD(ip,n,e),tF=async()=>{var t;const n=kf(),e=new Jr;try{const r=await YD(n,e),i=(t=r==null?void 0:r.additionalUserInfo)==null?void 0:t.isNewUser,o=r.user;return i?(console.log("New user signed up with Google:",r.user),await iv(o.uid,o.displayname||"Google User",o.email,o.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},sA=()=>ip.signOut();var lg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var pI;function nF(){return pI||(pI=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(lg)),lg.exports}var rF=nF();const Et=Tc(rF);var iF=Function.prototype.bind.call(Function.prototype.call,[].slice);function mI(n,e){return iF(n.querySelectorAll(e))}const oA=!!(typeof window<"u"&&window.document&&window.document.createElement);var py=!1,my=!1;try{var ug={get passive(){return py=!0},get once(){return my=py=!0}};oA&&(window.addEventListener("test",ug,ug),window.removeEventListener("test",ug,!0))}catch{}function aA(n,e,t,r){if(r&&typeof r!="boolean"&&!my){var i=r.once,o=r.capture,l=t;!my&&i&&(l=t.__once||function c(h){this.removeEventListener(e,c,o),t.call(this,h)},t.__once=l),n.addEventListener(e,l,py?r:o)}n.addEventListener(e,t,r)}function sF(n,e,t){const r=I.useRef(n!==void 0),[i,o]=I.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&o(e),[l?n:i,I.useCallback((...h)=>{const[p,...g]=h;let v=t==null?void 0:t(p,...g);return o(p),v},[t])]}function oF(n){const e=I.useRef(null);return I.useEffect(()=>{e.current=n}),e.current}function aF(){const[,n]=I.useReducer(e=>e+1,0);return n}function lF(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n},[n]),e}function Us(n){const e=lF(n);return I.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function uF(n,e,t,r=!1){const i=Us(t);I.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}const op=I.createContext(null);function cF(){return I.useState(null)}var gI=Object.prototype.hasOwnProperty;function yI(n,e,t){for(t of n.keys())if(tc(t,e))return t}function tc(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&tc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=yI(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=yI(e,i),!i)||!tc(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(gI.call(n,t)&&++r&&!gI.call(e,t)||!(t in e)||!tc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function dF(){const n=I.useRef(!0),e=I.useRef(()=>n.current);return I.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function hF(n){const e=dF();return[n[0],I.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var On="top",fr="bottom",pr="right",Ln="left",av="auto",Bc=[On,fr,pr,Ln],wl="start",wc="end",fF="clippingParents",lA="viewport",Mu="popper",pF="reference",_I=Bc.reduce(function(n,e){return n.concat([e+"-"+wl,e+"-"+wc])},[]),uA=[].concat(Bc,[av]).reduce(function(n,e){return n.concat([e,e+"-"+wl,e+"-"+wc])},[]),mF="beforeRead",gF="read",yF="afterRead",_F="beforeMain",vF="main",wF="afterMain",EF="beforeWrite",TF="write",IF="afterWrite",CF=[mF,gF,yF,_F,vF,wF,EF,TF,IF];function si(n){return n.split("-")[0]}function Qn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Yo(n){var e=Qn(n).Element;return n instanceof e||n instanceof Element}function oi(n){var e=Qn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function lv(n){if(typeof ShadowRoot>"u")return!1;var e=Qn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var $o=Math.max,pf=Math.min,El=Math.round;function gy(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function cA(){return!/^((?!chrome|android).)*safari/i.test(gy())}function Tl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&oi(n)&&(i=n.offsetWidth>0&&El(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&El(r.height)/n.offsetHeight||1);var l=Yo(n)?Qn(n):window,c=l.visualViewport,h=!cA()&&t,p=(r.left+(h&&c?c.offsetLeft:0))/i,g=(r.top+(h&&c?c.offsetTop:0))/o,v=r.width/i,E=r.height/o;return{width:v,height:E,top:g,right:p+v,bottom:g+E,left:p,x:p,y:g}}function uv(n){var e=Tl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function dA(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&lv(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xs(n){return n?(n.nodeName||"").toLowerCase():null}function Wi(n){return Qn(n).getComputedStyle(n)}function SF(n){return["table","td","th"].indexOf(Xs(n))>=0}function oo(n){return((Yo(n)?n.ownerDocument:n.document)||window.document).documentElement}function ap(n){return Xs(n)==="html"?n:n.assignedSlot||n.parentNode||(lv(n)?n.host:null)||oo(n)}function vI(n){return!oi(n)||Wi(n).position==="fixed"?null:n.offsetParent}function xF(n){var e=/firefox/i.test(gy()),t=/Trident/i.test(gy());if(t&&oi(n)){var r=Wi(n);if(r.position==="fixed")return null}var i=ap(n);for(lv(i)&&(i=i.host);oi(i)&&["html","body"].indexOf(Xs(i))<0;){var o=Wi(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function zc(n){for(var e=Qn(n),t=vI(n);t&&SF(t)&&Wi(t).position==="static";)t=vI(t);return t&&(Xs(t)==="html"||Xs(t)==="body"&&Wi(t).position==="static")?e:t||xF(n)||e}function cv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function nc(n,e,t){return $o(n,pf(e,t))}function RF(n,e,t){var r=nc(n,e,t);return r>t?t:r}function hA(){return{top:0,right:0,bottom:0,left:0}}function fA(n){return Object.assign({},hA(),n)}function pA(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var AF=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,fA(typeof e!="number"?e:pA(e,Bc))};function PF(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,c=si(t.placement),h=cv(c),p=[Ln,pr].indexOf(c)>=0,g=p?"height":"width";if(!(!o||!l)){var v=AF(i.padding,t),E=uv(o),S=h==="y"?On:Ln,R=h==="y"?fr:pr,b=t.rects.reference[g]+t.rects.reference[h]-l[h]-t.rects.popper[g],x=l[h]-t.rects.reference[h],j=zc(o),U=j?h==="y"?j.clientHeight||0:j.clientWidth||0:0,B=b/2-x/2,q=v[S],X=U-E[g]-v[R],Z=U/2-E[g]/2+B,N=nc(q,Z,X),P=h;t.modifiersData[r]=(e={},e[P]=N,e.centerOffset=N-Z,e)}}function kF(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||dA(e.elements.popper,i)&&(e.elements.arrow=i))}const bF={name:"arrow",enabled:!0,phase:"main",fn:PF,effect:kF,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Il(n){return n.split("-")[1]}var NF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DF(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:El(t*i)/i||0,y:El(r*i)/i||0}}function wI(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,c=n.position,h=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,v=n.isFixed,E=l.x,S=E===void 0?0:E,R=l.y,b=R===void 0?0:R,x=typeof g=="function"?g({x:S,y:b}):{x:S,y:b};S=x.x,b=x.y;var j=l.hasOwnProperty("x"),U=l.hasOwnProperty("y"),B=Ln,q=On,X=window;if(p){var Z=zc(t),N="clientHeight",P="clientWidth";if(Z===Qn(t)&&(Z=oo(t),Wi(Z).position!=="static"&&c==="absolute"&&(N="scrollHeight",P="scrollWidth")),Z=Z,i===On||(i===Ln||i===pr)&&o===wc){q=fr;var k=v&&Z===X&&X.visualViewport?X.visualViewport.height:Z[N];b-=k-r.height,b*=h?1:-1}if(i===Ln||(i===On||i===fr)&&o===wc){B=pr;var L=v&&Z===X&&X.visualViewport?X.visualViewport.width:Z[P];S-=L-r.width,S*=h?1:-1}}var M=Object.assign({position:c},p&&NF),V=g===!0?DF({x:S,y:b},Qn(t)):{x:S,y:b};if(S=V.x,b=V.y,h){var D;return Object.assign({},M,(D={},D[q]=U?"0":"",D[B]=j?"0":"",D.transform=(X.devicePixelRatio||1)<=1?"translate("+S+"px, "+b+"px)":"translate3d("+S+"px, "+b+"px, 0)",D))}return Object.assign({},M,(e={},e[q]=U?b+"px":"",e[B]=j?S+"px":"",e.transform="",e))}function OF(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,c=t.roundOffsets,h=c===void 0?!0:c,p={placement:si(e.placement),variation:Il(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,wI(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,wI(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const LF={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OF,data:{}};var gh={passive:!0};function MF(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,h=Qn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(g){g.addEventListener("scroll",t.update,gh)}),c&&h.addEventListener("resize",t.update,gh),function(){o&&p.forEach(function(g){g.removeEventListener("scroll",t.update,gh)}),c&&h.removeEventListener("resize",t.update,gh)}}const VF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:MF,data:{}};var jF={left:"right",right:"left",bottom:"top",top:"bottom"};function Lh(n){return n.replace(/left|right|bottom|top/g,function(e){return jF[e]})}var FF={start:"end",end:"start"};function EI(n){return n.replace(/start|end/g,function(e){return FF[e]})}function dv(n){var e=Qn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function hv(n){return Tl(oo(n)).left+dv(n).scrollLeft}function UF(n,e){var t=Qn(n),r=oo(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){o=i.width,l=i.height;var p=cA();(p||!p&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:o,height:l,x:c+hv(n),y:h}}function $F(n){var e,t=oo(n),r=dv(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=$o(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=$o(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+hv(n),h=-r.scrollTop;return Wi(i||t).direction==="rtl"&&(c+=$o(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:c,y:h}}function fv(n){var e=Wi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function mA(n){return["html","body","#document"].indexOf(Xs(n))>=0?n.ownerDocument.body:oi(n)&&fv(n)?n:mA(ap(n))}function rc(n,e){var t;e===void 0&&(e=[]);var r=mA(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Qn(r),l=i?[o].concat(o.visualViewport||[],fv(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(rc(ap(l)))}function yy(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function BF(n,e){var t=Tl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function TI(n,e,t){return e===lA?yy(UF(n,t)):Yo(e)?BF(e,t):yy($F(oo(n)))}function zF(n){var e=rc(ap(n)),t=["absolute","fixed"].indexOf(Wi(n).position)>=0,r=t&&oi(n)?zc(n):n;return Yo(r)?e.filter(function(i){return Yo(i)&&dA(i,r)&&Xs(i)!=="body"}):[]}function WF(n,e,t,r){var i=e==="clippingParents"?zF(n):[].concat(e),o=[].concat(i,[t]),l=o[0],c=o.reduce(function(h,p){var g=TI(n,p,r);return h.top=$o(g.top,h.top),h.right=pf(g.right,h.right),h.bottom=pf(g.bottom,h.bottom),h.left=$o(g.left,h.left),h},TI(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function gA(n){var e=n.reference,t=n.element,r=n.placement,i=r?si(r):null,o=r?Il(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,h;switch(i){case On:h={x:l,y:e.y-t.height};break;case fr:h={x:l,y:e.y+e.height};break;case pr:h={x:e.x+e.width,y:c};break;case Ln:h={x:e.x-t.width,y:c};break;default:h={x:e.x,y:e.y}}var p=i?cv(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(o){case wl:h[p]=h[p]-(e[g]/2-t[g]/2);break;case wc:h[p]=h[p]+(e[g]/2-t[g]/2);break}}return h}function Ec(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,c=t.boundary,h=c===void 0?fF:c,p=t.rootBoundary,g=p===void 0?lA:p,v=t.elementContext,E=v===void 0?Mu:v,S=t.altBoundary,R=S===void 0?!1:S,b=t.padding,x=b===void 0?0:b,j=fA(typeof x!="number"?x:pA(x,Bc)),U=E===Mu?pF:Mu,B=n.rects.popper,q=n.elements[R?U:E],X=WF(Yo(q)?q:q.contextElement||oo(n.elements.popper),h,g,l),Z=Tl(n.elements.reference),N=gA({reference:Z,element:B,placement:i}),P=yy(Object.assign({},B,N)),k=E===Mu?P:Z,L={top:X.top-k.top+j.top,bottom:k.bottom-X.bottom+j.bottom,left:X.left-k.left+j.left,right:k.right-X.right+j.right},M=n.modifiersData.offset;if(E===Mu&&M){var V=M[i];Object.keys(L).forEach(function(D){var le=[pr,fr].indexOf(D)>=0?1:-1,Se=[On,fr].indexOf(D)>=0?"y":"x";L[D]+=V[Se]*le})}return L}function HF(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,c=t.flipVariations,h=t.allowedAutoPlacements,p=h===void 0?uA:h,g=Il(r),v=g?c?_I:_I.filter(function(R){return Il(R)===g}):Bc,E=v.filter(function(R){return p.indexOf(R)>=0});E.length===0&&(E=v);var S=E.reduce(function(R,b){return R[b]=Ec(n,{placement:b,boundary:i,rootBoundary:o,padding:l})[si(b)],R},{});return Object.keys(S).sort(function(R,b){return S[R]-S[b]})}function qF(n){if(si(n)===av)return[];var e=Lh(n);return[EI(n),e,EI(e)]}function KF(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,h=t.fallbackPlacements,p=t.padding,g=t.boundary,v=t.rootBoundary,E=t.altBoundary,S=t.flipVariations,R=S===void 0?!0:S,b=t.allowedAutoPlacements,x=e.options.placement,j=si(x),U=j===x,B=h||(U||!R?[Lh(x)]:qF(x)),q=[x].concat(B).reduce(function(Ie,Ae){return Ie.concat(si(Ae)===av?HF(e,{placement:Ae,boundary:g,rootBoundary:v,padding:p,flipVariations:R,allowedAutoPlacements:b}):Ae)},[]),X=e.rects.reference,Z=e.rects.popper,N=new Map,P=!0,k=q[0],L=0;L<q.length;L++){var M=q[L],V=si(M),D=Il(M)===wl,le=[On,fr].indexOf(V)>=0,Se=le?"width":"height",Re=Ec(e,{placement:M,boundary:g,rootBoundary:v,altBoundary:E,padding:p}),Te=le?D?pr:Ln:D?fr:On;X[Se]>Z[Se]&&(Te=Lh(Te));var ie=Lh(Te),ue=[];if(o&&ue.push(Re[V]<=0),c&&ue.push(Re[Te]<=0,Re[ie]<=0),ue.every(function(Ie){return Ie})){k=M,P=!1;break}N.set(M,ue)}if(P)for(var se=R?3:1,z=function(Ae){var De=q.find(function(Ve){var Oe=N.get(Ve);if(Oe)return Oe.slice(0,Ae).every(function(Qe){return Qe})});if(De)return k=De,"break"},Y=se;Y>0;Y--){var pe=z(Y);if(pe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const GF={name:"flip",enabled:!0,phase:"main",fn:KF,requiresIfExists:["offset"],data:{_skip:!1}};function II(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function CI(n){return[On,pr,fr,Ln].some(function(e){return n[e]>=0})}function QF(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=Ec(e,{elementContext:"reference"}),c=Ec(e,{altBoundary:!0}),h=II(l,r),p=II(c,i,o),g=CI(h),v=CI(p);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const YF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QF};function XF(n,e,t){var r=si(n),i=[Ln,On].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],c=o[1];return l=l||0,c=(c||0)*i,[Ln,pr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function JF(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=uA.reduce(function(g,v){return g[v]=XF(v,e.rects,o),g},{}),c=l[e.placement],h=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const ZF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:JF};function e9(n){var e=n.state,t=n.name;e.modifiersData[t]=gA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const t9={name:"popperOffsets",enabled:!0,phase:"read",fn:e9,data:{}};function n9(n){return n==="x"?"y":"x"}function r9(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,v=t.padding,E=t.tether,S=E===void 0?!0:E,R=t.tetherOffset,b=R===void 0?0:R,x=Ec(e,{boundary:h,rootBoundary:p,padding:v,altBoundary:g}),j=si(e.placement),U=Il(e.placement),B=!U,q=cv(j),X=n9(q),Z=e.modifiersData.popperOffsets,N=e.rects.reference,P=e.rects.popper,k=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,L=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Z){if(o){var D,le=q==="y"?On:Ln,Se=q==="y"?fr:pr,Re=q==="y"?"height":"width",Te=Z[q],ie=Te+x[le],ue=Te-x[Se],se=S?-P[Re]/2:0,z=U===wl?N[Re]:P[Re],Y=U===wl?-P[Re]:-N[Re],pe=e.elements.arrow,Ie=S&&pe?uv(pe):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hA(),De=Ae[le],Ve=Ae[Se],Oe=nc(0,N[Re],Ie[Re]),Qe=B?N[Re]/2-se-Oe-De-L.mainAxis:z-Oe-De-L.mainAxis,xt=B?-N[Re]/2+se+Oe+Ve+L.mainAxis:Y+Oe+Ve+L.mainAxis,Mn=e.elements.arrow&&zc(e.elements.arrow),Gi=Mn?q==="y"?Mn.clientTop||0:Mn.clientLeft||0:0,mr=(D=M==null?void 0:M[q])!=null?D:0,di=Te+Qe-mr-Gi,Qi=Te+xt-mr,Yi=nc(S?pf(ie,di):ie,Te,S?$o(ue,Qi):ue);Z[q]=Yi,V[q]=Yi-Te}if(c){var Xi,oa=q==="x"?On:Ln,Ji=q==="x"?fr:pr,qt=Z[X],En=X==="y"?"height":"width",Zi=qt+x[oa],hi=qt-x[Ji],Fr=[On,Ln].indexOf(j)!==-1,es=(Xi=M==null?void 0:M[X])!=null?Xi:0,yt=Fr?Zi:qt-N[En]-P[En]-es+L.altAxis,_t=Fr?qt+N[En]+P[En]-es-L.altAxis:hi,Yn=S&&Fr?RF(yt,qt,_t):nc(S?yt:Zi,qt,S?_t:hi);Z[X]=Yn,V[X]=Yn-qt}e.modifiersData[r]=V}}const i9={name:"preventOverflow",enabled:!0,phase:"main",fn:r9,requiresIfExists:["offset"]};function s9(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function o9(n){return n===Qn(n)||!oi(n)?dv(n):s9(n)}function a9(n){var e=n.getBoundingClientRect(),t=El(e.width)/n.offsetWidth||1,r=El(e.height)/n.offsetHeight||1;return t!==1||r!==1}function l9(n,e,t){t===void 0&&(t=!1);var r=oi(e),i=oi(e)&&a9(e),o=oo(e),l=Tl(n,i,t),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((Xs(e)!=="body"||fv(o))&&(c=o9(e)),oi(e)?(h=Tl(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):o&&(h.x=hv(o))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function u9(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var h=e.get(c);h&&i(h)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function c9(n){var e=u9(n);return CF.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function d9(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function h9(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var SI={placement:"bottom",modifiers:[],strategy:"absolute"};function xI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function f9(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?SI:i;return function(c,h,p){p===void 0&&(p=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},SI,o),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},v=[],E=!1,S={state:g,setOptions:function(j){var U=typeof j=="function"?j(g.options):j;b(),g.options=Object.assign({},o,g.options,U),g.scrollParents={reference:Yo(c)?rc(c):c.contextElement?rc(c.contextElement):[],popper:rc(h)};var B=c9(h9([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(q){return q.enabled}),R(),S.update()},forceUpdate:function(){if(!E){var j=g.elements,U=j.reference,B=j.popper;if(xI(U,B)){g.rects={reference:l9(U,zc(B),g.options.strategy==="fixed"),popper:uv(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(L){return g.modifiersData[L.name]=Object.assign({},L.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(g.reset===!0){g.reset=!1,q=-1;continue}var X=g.orderedModifiers[q],Z=X.fn,N=X.options,P=N===void 0?{}:N,k=X.name;typeof Z=="function"&&(g=Z({state:g,options:P,name:k,instance:S})||g)}}}},update:d9(function(){return new Promise(function(x){S.forceUpdate(),x(g)})}),destroy:function(){b(),E=!0}};if(!xI(c,h))return S;S.setOptions(p).then(function(x){!E&&p.onFirstUpdate&&p.onFirstUpdate(x)});function R(){g.orderedModifiers.forEach(function(x){var j=x.name,U=x.options,B=U===void 0?{}:U,q=x.effect;if(typeof q=="function"){var X=q({state:g,name:j,instance:S,options:B}),Z=function(){};v.push(X||Z)}})}function b(){v.forEach(function(x){return x()}),v=[]}return S}}const p9=f9({defaultModifiers:[YF,t9,LF,VF,ZF,GF,i9,bF]}),m9=["enabled","placement","strategy","modifiers"];function g9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const y9={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},_9={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},v9=[];function w9(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:l=v9}=t,c=g9(t,m9);const h=I.useRef(l),p=I.useRef(),g=I.useCallback(()=>{var x;(x=p.current)==null||x.update()},[]),v=I.useCallback(()=>{var x;(x=p.current)==null||x.forceUpdate()},[]),[E,S]=hF(I.useState({placement:i,update:g,forceUpdate:v,attributes:{},styles:{popper:{},arrow:{}}})),R=I.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const j={},U={};Object.keys(x.elements).forEach(B=>{j[B]=x.styles[B],U[B]=x.attributes[B]}),S({state:x,styles:j,attributes:U,update:g,forceUpdate:v,placement:x.placement})}}),[g,v,S]),b=I.useMemo(()=>(tc(h.current,l)||(h.current=l),h.current),[l]);return I.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:o,modifiers:[...b,R,y9]})},[o,i,R,r,b]),I.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=p9(n,e,Object.assign({},c,{placement:i,strategy:o,modifiers:[...b,_9,R]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),E}function RI(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function E9(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function yh(n,e,t,r){return aA(n,e,t,r),function(){E9(n,e,t,r)}}function T9(n){return n&&n.ownerDocument||document}var cg,AI;function I9(){if(AI)return cg;AI=1;var n=function(){};return cg=n,cg}var C9=I9();const S9=Tc(C9),PI=()=>{};function x9(n){return n.button===0}function R9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const dg=n=>n&&("current"in n?n.current:n),kI={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function A9(n,e=PI,{disabled:t,clickTrigger:r="click"}={}){const i=I.useRef(!1),o=I.useRef(!1),l=I.useCallback(p=>{const g=dg(n);S9(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||R9(p)||!x9(p)||!!RI(g,p.target)||o.current,o.current=!1},[n]),c=Us(p=>{const g=dg(n);g&&RI(g,p.target)?o.current=!0:o.current=!1}),h=Us(p=>{i.current||e(p)});I.useEffect(()=>{var p,g;if(t||n==null)return;const v=T9(dg(n)),E=v.defaultView||window;let S=(p=E.event)!=null?p:(g=E.parent)==null?void 0:g.event,R=null;kI[r]&&(R=yh(v,kI[r],c,!0));const b=yh(v,r,l,!0),x=yh(v,r,U=>{if(U===S){S=void 0;return}h(U)});let j=[];return"ontouchstart"in v.documentElement&&(j=[].slice.call(v.body.children).map(U=>yh(U,"mousemove",PI))),()=>{R==null||R(),b(),x(),j.forEach(U=>U())}},[n,t,r,l,c,h])}function P9(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function k9(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function b9({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:l,arrowElement:c,popperConfig:h={}}){var p,g,v,E,S;const R=P9(h.modifiers);return Object.assign({},h,{placement:t,enabled:n,strategy:o?"fixed":h.strategy,modifiers:k9(Object.assign({},R,{eventListeners:{enabled:e,options:(p=R.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},R.preventOverflow,{options:l?Object.assign({padding:l},(g=R.preventOverflow)==null?void 0:g.options):(v=R.preventOverflow)==null?void 0:v.options}),offset:{options:Object.assign({offset:i},(E=R.offset)==null?void 0:E.options)},arrow:Object.assign({},R.arrow,{enabled:!!c,options:Object.assign({},(S=R.arrow)==null?void 0:S.options,{element:c})}),flip:Object.assign({enabled:!!r},R.flip)}))})}const N9=["children","usePopper"];function D9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const O9=()=>{};function yA(n={}){const e=I.useContext(op),[t,r]=cF(),i=I.useRef(!1),{flip:o,offset:l,rootCloseEvent:c,fixed:h=!1,placement:p,popperConfig:g={},enableEventListeners:v=!0,usePopper:E=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const R=Z=>{e==null||e.toggle(!1,Z)},{placement:b,setMenu:x,menuElement:j,toggleElement:U}=e||{},B=w9(U,j,b9({placement:p||b||"bottom-start",enabled:E,enableEvents:v??S,offset:l,flip:o,fixed:h,arrowElement:t,popperConfig:g})),q=Object.assign({ref:x||O9,"aria-labelledby":U==null?void 0:U.id},B.attributes.popper,{style:B.styles.popper}),X={show:S,placement:b,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:E?B:null,arrowProps:E?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return A9(j,R,{clickTrigger:c,disabled:!S}),[q,X]}function _A(n){let{children:e,usePopper:t=!0}=n,r=D9(n,N9);const[i,o]=yA(Object.assign({},r,{usePopper:t}));return w.jsx(w.Fragment,{children:e(i,o)})}_A.displayName="DropdownMenu";const pv={prefix:String(Math.round(Math.random()*1e10)),current:0},vA=wn.createContext(pv),L9=wn.createContext(!1);let M9=!!(typeof window<"u"&&window.document&&window.document.createElement),hg=new WeakMap;function V9(n=!1){let e=I.useContext(vA),t=I.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=hg.get(o);l==null?hg.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,hg.delete(o))}t.current=++e.current}return t.current}function j9(n){let e=I.useContext(vA);e===pv&&!M9&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=V9(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function F9(n){let e=wn.useId(),[t]=I.useState(W9()),r=t?"react-aria":`react-aria${pv.prefix}`;return n||`${r}-${e}`}const U9=typeof wn.useId=="function"?F9:j9;function $9(){return!1}function B9(){return!0}function z9(n){return()=>{}}function W9(){return typeof wn.useSyncExternalStore=="function"?wn.useSyncExternalStore(z9,$9,B9):I.useContext(L9)}const wA=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},bI=()=>{};function EA(){const n=U9(),{show:e=!1,toggle:t=bI,setToggle:r,menuElement:i}=I.useContext(op)||{},o=I.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||bI,onClick:o,"aria-expanded":!!e};return i&&wA(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function TA({children:n}){const[e,t]=EA();return w.jsx(w.Fragment,{children:n(e,t)})}TA.displayName="DropdownToggle";const _y=I.createContext(null),NI=(n,e=null)=>n!=null?String(n):e||null,IA=I.createContext(null);IA.displayName="NavContext";const H9=["as","disabled"];function q9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function K9(n){return!n||n.trim()==="#"}function mv({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:l,tabIndex:c=0,type:h}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},p];const g=E=>{if((e||n==="a"&&K9(t))&&E.preventDefault(),e){E.stopPropagation();return}l==null||l(E)},v=E=>{E.key===" "&&(E.preventDefault(),g(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:v},p]}const CA=I.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=q9(n,H9);const[o,{tagName:l}]=mv(Object.assign({tagName:t,disabled:r},i));return w.jsx(l,Object.assign({},i,o,{ref:e}))});CA.displayName="Button";const G9="data-rr-ui-";function SA(n){return`${G9}${n}`}const Q9=["eventKey","disabled","onClick","active","as"];function Y9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function xA({key:n,href:e,active:t,disabled:r,onClick:i}){const o=I.useContext(_y),l=I.useContext(IA),{activeKey:c}=l||{},h=NI(n,e),p=t==null&&n!=null?NI(c)===h:t;return[{onClick:Us(v=>{r||(i==null||i(v),o&&!v.isPropagationStopped()&&o(h,v))}),"aria-disabled":r||void 0,"aria-selected":p,[SA("dropdown-item")]:""},{isActive:p}]}const RA=I.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:l=CA}=n,c=Y9(n,Q9);const[h]=xA({key:t,href:c.href,disabled:r,onClick:i,active:o});return w.jsx(l,Object.assign({},c,{ref:e},h))});RA.displayName="DropdownItem";const AA=I.createContext(oA?window:void 0);AA.Provider;function X9(){return I.useContext(AA)}function DI(){const n=aF(),e=I.useRef(null),t=I.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Wc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${SA("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:c}){const h=X9(),[p,g]=sF(e,n,r),[v,E]=DI(),S=v.current,[R,b]=DI(),x=R.current,j=oF(p),U=I.useRef(null),B=I.useRef(!1),q=I.useContext(_y),X=I.useCallback((M,V,D=V==null?void 0:V.type)=>{g(M,{originalEvent:V,source:D})},[g]),Z=Us((M,V)=>{t==null||t(M,V),X(!1,V,"select"),V.isPropagationStopped()||q==null||q(M,V)}),N=I.useMemo(()=>({toggle:X,placement:l,show:p,menuElement:S,toggleElement:x,setMenu:E,setToggle:b}),[X,l,p,S,x,E,b]);S&&j&&!p&&(B.current=S.contains(S.ownerDocument.activeElement));const P=Us(()=>{x&&x.focus&&x.focus()}),k=Us(()=>{const M=U.current;let V=o;if(V==null&&(V=v.current&&wA(v.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(M))return;const D=mI(v.current,i)[0];D&&D.focus&&D.focus()});I.useEffect(()=>{p?k():B.current&&(B.current=!1,P())},[p,B,P,k]),I.useEffect(()=>{U.current=null});const L=(M,V)=>{if(!v.current)return null;const D=mI(v.current,i);let le=D.indexOf(M)+V;return le=Math.max(0,Math.min(le,D.length)),D[le]};return uF(I.useCallback(()=>h.document,[h]),"keydown",M=>{var V,D;const{key:le}=M,Se=M.target,Re=(V=v.current)==null?void 0:V.contains(Se),Te=(D=R.current)==null?void 0:D.contains(Se);if(/input|textarea/i.test(Se.tagName)&&(le===" "||le!=="Escape"&&Re||le==="Escape"&&Se.type==="search")||!Re&&!Te||le==="Tab"&&(!v.current||!p))return;U.current=M.type;const ue={originalEvent:M,source:M.type};switch(le){case"ArrowUp":{const se=L(Se,-1);se&&se.focus&&se.focus(),M.preventDefault();return}case"ArrowDown":if(M.preventDefault(),!p)g(!0,ue);else{const se=L(Se,1);se&&se.focus&&se.focus()}return;case"Tab":aA(Se.ownerDocument,"keyup",se=>{var z;(se.key==="Tab"&&!se.target||!((z=v.current)!=null&&z.contains(se.target)))&&g(!1,ue)},{once:!0});break;case"Escape":le==="Escape"&&(M.preventDefault(),M.stopPropagation()),g(!1,ue);break}}),w.jsx(_y.Provider,{value:Z,children:w.jsx(op.Provider,{value:N,children:c})})}Wc.displayName="Dropdown";Wc.Menu=_A;Wc.Toggle=TA;Wc.Item=RA;function vy(){return vy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vy.apply(null,arguments)}function J9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function OI(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function Z9(n){var e=eU(n,"string");return typeof e=="symbol"?e:String(e)}function eU(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function tU(n,e,t){var r=I.useRef(n!==void 0),i=I.useState(e),o=i[0],l=i[1],c=n!==void 0,h=r.current;return r.current=c,!c&&h&&o!==e&&l(e),[c?n:o,I.useCallback(function(p){for(var g=arguments.length,v=new Array(g>1?g-1:0),E=1;E<g;E++)v[E-1]=arguments[E];t&&t.apply(void 0,[p].concat(v)),l(p)},[t])]}function nU(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[OI(r)],c=o[r],h=J9(o,[OI(r),r].map(Z9)),p=e[r],g=tU(c,l,n[p]),v=g[0],E=g[1];return vy({},h,(i={},i[r]=v,i[p]=E,i))},n)}function rU(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n},[n]),e}function iU(n){const e=rU(n);return I.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const gv=I.createContext({});gv.displayName="DropdownContext";const sU=["xxl","xl","lg","md","sm","xs"],oU="xs",Hc=I.createContext({prefixes:{},breakpoints:sU,minBreakpoint:oU}),{Consumer:f8,Provider:p8}=Hc;function Nt(n,e){const{prefixes:t}=I.useContext(Hc);return n||t[e]||e}function aU(){const{breakpoints:n}=I.useContext(Hc);return n}function lU(){const{minBreakpoint:n}=I.useContext(Hc);return n}function uU(){const{dir:n}=I.useContext(Hc);return n==="rtl"}const PA=I.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=Nt(e,"dropdown-divider"),w.jsx(t,{ref:o,className:Et(n,e),role:r,...i})));PA.displayName="DropdownDivider";const kA=I.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=Nt(e,"dropdown-header"),w.jsx(t,{ref:o,className:Et(n,e),role:r,...i})));kA.displayName="DropdownHeader";const cU=["onKeyDown"];function dU(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function hU(n){return!n||n.trim()==="#"}const bA=I.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=dU(n,cU);const[i]=mv(Object.assign({tagName:"a"},r)),o=Us(l=>{i.onKeyDown(l),t==null||t(l)});return hU(r.href)||r.role==="button"?w.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):w.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});bA.displayName="Anchor";const NA=I.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:l=bA,...c},h)=>{const p=Nt(n,"dropdown-item"),[g,v]=xA({key:t,href:c.href,disabled:r,onClick:i,active:o});return w.jsx(l,{...c,...g,ref:h,className:Et(e,p,v.isActive&&"active",r&&"disabled")})});NA.displayName="DropdownItem";const DA=I.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Nt(e,"dropdown-item-text"),w.jsx(t,{ref:i,className:Et(n,e),...r})));DA.displayName="DropdownItemText";const fU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",pU=typeof document<"u",mU=pU||fU?I.useLayoutEffect:I.useEffect,LI=n=>!n||typeof n=="function"?n:e=>{n.current=e};function gU(n,e){const t=LI(n),r=LI(e);return i=>{t&&t(i),r&&r(i)}}function OA(n,e){return I.useMemo(()=>gU(n,e),[n,e])}const yv=I.createContext(null);yv.displayName="InputGroupContext";const LA=I.createContext(null);LA.displayName="NavbarContext";function MA(n,e){return n}var fg={exports:{}},pg,MI;function yU(){if(MI)return pg;MI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pg=n,pg}var mg,VI;function _U(){if(VI)return mg;VI=1;var n=yU();function e(){}function t(){}return t.resetWarningCache=e,mg=function(){function r(l,c,h,p,g,v){if(v!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},mg}var jI;function vU(){return jI||(jI=1,fg.exports=_U()()),fg.exports}var wU=vU();const al=Tc(wU);function VA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",h=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let v=n?l:o;return e==="up"?v=n?i:r:e==="end"?v=n?g:p:e==="start"?v=n?h:c:e==="down-centered"?v="bottom":e==="up-centered"&&(v="top"),v}const jA=I.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:l,as:c="div",popperConfig:h,variant:p,...g},v)=>{let E=!1;const S=I.useContext(LA),R=Nt(n,"dropdown-menu"),{align:b,drop:x,isRTL:j}=I.useContext(gv);t=t||b;const U=I.useContext(yv),B=[];if(t)if(typeof t=="object"){const M=Object.keys(t);if(M.length){const V=M[0],D=t[V];E=D==="start",B.push(`${R}-${V}-${D}`)}}else t==="end"&&(E=!0);const q=VA(E,x,j),[X,{hasShown:Z,popper:N,show:P,toggle:k}]=yA({flip:i,rootCloseEvent:r,show:o,usePopper:!S&&B.length===0,offset:[0,2],popperConfig:h,placement:q});if(X.ref=OA(MA(v),X.ref),mU(()=>{P&&(N==null||N.update())},[P]),!Z&&!l&&!U)return null;typeof c!="string"&&(X.show=P,X.close=()=>k==null?void 0:k(!1),X.align=t);let L=g.style;return N!=null&&N.placement&&(L={...g.style,...X.style},g["x-placement"]=N.placement),w.jsx(c,{...g,...X,style:L,...(B.length||S)&&{"data-bs-popper":"static"},className:Et(e,R,P&&"show",E&&`${R}-end`,p&&`${R}-${p}`,...B)})});jA.displayName="DropdownMenu";const mf=I.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:l,...c},h)=>{const p=Nt(e,"btn"),[g,{tagName:v}]=mv({tagName:n,disabled:o,...c}),E=v;return w.jsx(E,{...g,...c,ref:h,disabled:o,className:Et(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&o&&"disabled")})});mf.displayName="Button";const FA=I.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=mf,...o},l)=>{const c=Nt(n,"dropdown-toggle"),h=I.useContext(op);r!==void 0&&(o.bsPrefix=r);const[p]=EA();return p.ref=OA(p.ref,MA(l)),w.jsx(i,{className:Et(t,c,e&&`${c}-split`,(h==null?void 0:h.show)&&"show"),...p,...o})});FA.displayName="DropdownToggle";const UA=I.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:l="start",onSelect:c,onToggle:h,focusFirstItemOnShow:p,as:g="div",navbar:v,autoClose:E=!0,...S}=nU(n,{show:"onToggle"}),R=I.useContext(yv),b=Nt(t,"dropdown"),x=uU(),j=N=>E===!1?N==="click":E==="inside"?N!=="rootClose":E==="outside"?N!=="select":!0,U=iU((N,P)=>{var k;!((k=P.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&P.source==="mousedown"||(P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),j(P.source)&&(h==null||h(N,P)))}),q=VA(l==="end",r,x),X=I.useMemo(()=>({align:l,drop:r,isRTL:x}),[l,r,x]),Z={down:b,"down-centered":`${b}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w.jsx(gv.Provider,{value:X,children:w.jsx(Wc,{placement:q,show:i,onSelect:c,onToggle:U,focusFirstItemOnShow:p,itemSelector:`.${b}-item:not(.disabled):not(:disabled)`,children:R?S.children:w.jsx(g,{...S,ref:e,className:Et(o,i&&"show",Z[r])})})})});UA.displayName="Dropdown";const xs=Object.assign(UA,{Toggle:FA,Menu:jA,Item:NA,ItemText:DA,Divider:PA,Header:kA}),EU=()=>{const n=Zs(),{currentUser:e}=ia(),{profile:t}=I.useContext(sp),r=async()=>{await sA(),n("/")};return w.jsxs(xs,{children:[w.jsx(xs.Toggle,{variant:"success",id:"dropdown-basic",children:w.jsx("img",{src:fy})}),w.jsxs(xs.Menu,{children:[w.jsx(xs.Item,{as:lr,to:"/ProfileDashboard",children:"Profile"}),w.jsx(xs.Item,{as:lr,to:"/designerPage",children:"Designs"}),(e==null?void 0:e.isAdmin)&&w.jsx(xs.Item,{as:lr,to:"/Admin",children:"Admin"}),w.jsx(xs.Item,{href:"#/action-3",children:"Action"}),w.jsx(xs.Item,{onClick:r,children:"Log Out"})]})]})},_v=()=>{const{userLoggedIn:n}=ia()||{userLoggedIn:!1},e=Zs(),t=async()=>{await sA(),e("/")};return w.jsxs("div",{className:"nav",children:[w.jsx(lr,{to:"/",children:w.jsx("div",{className:"logo",children:"URENO"})}),w.jsxs("div",{className:"Right",children:[w.jsxs("menu",{children:[w.jsx("li",{children:"AI Design"}),w.jsx("li",{children:"Architects & Designers"}),w.jsx("li",{children:"Projects"}),w.jsx("li",{children:"Messages"})]}),n?w.jsx("button",{className:"btn login-btn",onClick:t,children:"Log Out"}):w.jsx(lr,{to:"/sign-in",children:w.jsx("button",{className:"btn login-btn",children:"Log In"})}),n?w.jsx(EU,{}):w.jsx("button",{className:"btn profile-btn",children:w.jsx("object",{data:fy,type:"image/svg+xml",children:w.jsx("img",{src:fy})})})]})]})};function TU(){return w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"Ureno"}),w.jsx(_v,{}),w.jsx("div",{className:"center-logo",children:w.jsxs("div",{className:"container",children:[w.jsx("h1",{children:"URENO"}),w.jsx("p",{children:"Renovation Made Simple"}),w.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),w.jsxs("div",{className:"services",children:[w.jsx("div",{className:"our-services",children:w.jsx("p",{children:"Our Services"})}),w.jsxs("div",{className:"floor-content",children:[w.jsx("div",{className:"flooring fadeInRight",children:w.jsx("p",{children:w.jsx(lr,{to:"/product-page",children:w.jsx("img",{src:Xj,alt:"light oak wooden floor"})})})}),w.jsxs("div",{className:"floor-txt fadeInRight",children:[w.jsx("h3",{children:"flooring"}),w.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),w.jsxs("div",{className:"paint-content",children:[w.jsx("div",{className:"painting fadeInLeft",children:w.jsx("img",{src:Jj,alt:"blue painted walls"})}),w.jsxs("div",{className:"paint-txt fadeInLeft",children:[w.jsx("h3",{children:"paint"}),w.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),w.jsx(ov,{})]})}const IU="/Ureno_webdesign/assets/Harvest-grove-rigid-CaKY0j96.png",CU="/Ureno_webdesign/assets/tavertine-BlkzyBiO.png",$A=({productId:n,image:e,title:t,description:r,price:i,link:o})=>w.jsx("div",{className:"products",children:w.jsxs(lr,{to:`/productDetail/${n}`,className:"container",children:[w.jsx("img",{src:e,alt:t}),w.jsx("div",{className:"prod-title",children:t}),w.jsx("p",{children:r}),w.jsx("p",{children:i})]})});$A.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function SU(){const[n,e]=I.useState(0),{userLoggedIn:t}=ia()||{userLoggedIn:!1},[r,i]=I.useState([]);return I.useEffect(()=>{(async()=>{try{const l=Lc();console.log("Attempting to fetch products from Firestore...");const c=await $x(Rx(l,"products"));console.log("Products fetched successfully:",c.size);const h=c.docs.map(p=>({id:p.id,...p.data()}));i(h)}catch(l){console.error("Error fetching products:",l),i([{id:"HarvestGrove",image:IU,title:"Harvest Grove Rigid Luxury Vinyl",description:"Floor and Decor",price:"$2.19/sqft"},{id:"tavertine",image:CU,title:"Inverness Tavertine Vinyl",description:"Floor and Decor",price:"$2.19/sqft"}])}})()},[]),I.useEffect(()=>{const o=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"URENO"}),w.jsx(_v,{}),w.jsxs("div",{className:"body",children:[w.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[w.jsx("h1",{children:"Flooring"}),w.jsxs("div",{className:"search",children:[w.jsx("div",{className:"input",children:w.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),w.jsx("div",{className:"filter",children:"Filter"})]}),w.jsx("p",{children:"Popular"}),w.jsx("div",{className:"products",children:r.map(o=>w.jsx($A,{productId:o.id,image:o.image,title:o.title,description:o.description,price:o.price,link:o.link},o.id))})]}),w.jsx(ov,{})]})]})}function BA(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=BA(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zA(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=BA(n))&&(r&&(r+=" "),r+=e);return r}const vv="-",xU=n=>{const e=AU(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(vv);return c[0]===""&&c.length!==1&&c.shift(),WA(c,e)||RU(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},WA=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?WA(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(vv);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},FI=/^\[(.+)\]$/,RU=n=>{if(FI.test(n)){const e=FI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},AU=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return kU(Object.entries(n.classGroups),t).forEach(([o,l])=>{wy(l,r,o,e)}),r},wy=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:UI(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(PU(i)){wy(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{wy(l,UI(e,o),t,r)})})},UI=(n,e)=>{let t=n;return e.split(vv).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},PU=n=>n.isThemeGetter,kU=(n,e)=>e?n.map(([t,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[e+l,c])):o);return[t,i]}):n,bU=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},HA="!",NU=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],o=e.length,l=c=>{const h=[];let p=0,g=0,v;for(let x=0;x<c.length;x++){let j=c[x];if(p===0){if(j===i&&(r||c.slice(x,x+o)===e)){h.push(c.slice(g,x)),g=x+o;continue}if(j==="/"){v=x;continue}}j==="["?p++:j==="]"&&p--}const E=h.length===0?c:c.substring(g),S=E.startsWith(HA),R=S?E.substring(1):E,b=v&&v>g?v-g:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:b}};return t?c=>t({className:c,parseClassName:l}):l},DU=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},OU=n=>({cache:bU(n.cacheSize),parseClassName:NU(n),...xU(n)}),LU=/\s+/,MU=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],l=n.trim().split(LU);let c="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:g,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:S}=t(p);let R=!!S,b=r(R?E.substring(0,S):E);if(!b){if(!R){c=p+(c.length>0?" "+c:c);continue}if(b=r(E),!b){c=p+(c.length>0?" "+c:c);continue}R=!1}const x=DU(g).join(":"),j=v?x+HA:x,U=j+b;if(o.includes(U))continue;o.push(U);const B=i(b,R);for(let q=0;q<B.length;++q){const X=B[q];o.push(j+X)}c=p+(c.length>0?" "+c:c)}return c};function VU(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=qA(e))&&(r&&(r+=" "),r+=t);return r}const qA=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=qA(n[r]))&&(t&&(t+=" "),t+=e);return t};function jU(n,...e){let t,r,i,o=l;function l(h){const p=e.reduce((g,v)=>v(g),n());return t=OU(p),r=t.cache.get,i=t.cache.set,o=c,c(h)}function c(h){const p=r(h);if(p)return p;const g=MU(h,t);return i(h,g),g}return function(){return o(VU.apply(null,arguments))}}const at=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},KA=/^\[(?:([a-z-]+):)?(.+)\]$/i,FU=/^\d+\/\d+$/,UU=new Set(["px","full","screen"]),$U=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ri=n=>ll(n)||UU.has(n)||FU.test(n),Rs=n=>jl(n,"length",ZU),ll=n=>!!n&&!Number.isNaN(Number(n)),gg=n=>jl(n,"number",ll),Vu=n=>!!n&&Number.isInteger(Number(n)),qU=n=>n.endsWith("%")&&ll(n.slice(0,-1)),Ne=n=>KA.test(n),As=n=>$U.test(n),KU=new Set(["length","size","percentage"]),GU=n=>jl(n,KU,GA),QU=n=>jl(n,"position",GA),YU=new Set(["image","url"]),XU=n=>jl(n,YU,t6),JU=n=>jl(n,"",e6),ju=()=>!0,jl=(n,e,t)=>{const r=KA.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},ZU=n=>BU.test(n)&&!zU.test(n),GA=()=>!1,e6=n=>WU.test(n),t6=n=>HU.test(n),n6=()=>{const n=at("colors"),e=at("spacing"),t=at("blur"),r=at("brightness"),i=at("borderColor"),o=at("borderRadius"),l=at("borderSpacing"),c=at("borderWidth"),h=at("contrast"),p=at("grayscale"),g=at("hueRotate"),v=at("invert"),E=at("gap"),S=at("gradientColorStops"),R=at("gradientColorStopPositions"),b=at("inset"),x=at("margin"),j=at("opacity"),U=at("padding"),B=at("saturate"),q=at("scale"),X=at("sepia"),Z=at("skew"),N=at("space"),P=at("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ne,e],V=()=>[Ne,e],D=()=>["",Ri,Rs],le=()=>["auto",ll,Ne],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Re=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",Ne],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ll,Ne];return{cacheSize:500,separator:":",theme:{colors:[ju],spacing:[Ri,Rs],blur:["none","",As,Ne],brightness:z(),borderColor:[n],borderRadius:["none","","full",As,Ne],borderSpacing:V(),borderWidth:D(),contrast:z(),grayscale:ue(),hueRotate:z(),invert:ue(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[qU,Rs],inset:M(),margin:M(),opacity:z(),padding:V(),saturate:z(),scale:z(),sepia:ue(),skew:z(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),Ne]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vu,Ne]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",Vu,Ne]}],"grid-cols":[{"grid-cols":[ju]}],"col-start-end":[{col:["auto",{span:["full",Vu,Ne]},Ne]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[ju]}],"row-start-end":[{row:["auto",{span:[Vu,Ne]},Ne]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[U]}],px:[{px:[U]}],py:[{py:[U]}],ps:[{ps:[U]}],pe:[{pe:[U]}],pt:[{pt:[U]}],pr:[{pr:[U]}],pb:[{pb:[U]}],pl:[{pl:[U]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gg]}],"font-family":[{font:[ju]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",ll,gg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ri,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ri,Rs]}],"underline-offset":[{"underline-offset":["auto",Ri,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),QU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...Re(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:Re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Re()]}],"outline-offset":[{"outline-offset":[Ri,Ne]}],"outline-w":[{outline:[Ri,Rs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Ri,Rs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",As,JU]}],"shadow-color":[{shadow:[ju]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",As,Ne]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[B]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Vu,Ne]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ri,Rs,gg]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},r6=jU(n6);function ao(...n){return r6(zA(n))}const $I=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,BI=zA,QA=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return BI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(p=>{const g=t==null?void 0:t[p],v=o==null?void 0:o[p];if(g===null)return null;const E=$I(g)||$I(v);return i[p][E]}),c=t&&Object.entries(t).reduce((p,g)=>{let[v,E]=g;return E===void 0||(p[v]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:E,...S}=g;return Object.entries(S).every(R=>{let[b,x]=R;return Array.isArray(x)?x.includes({...o,...c}[b]):{...o,...c}[b]===x})?[...p,v,E]:p},[]);return BI(n,l,h,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YA=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},h)=>I.createElement("svg",{ref:h,...s6,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:YA("lucide",i),...c},[...l.map(([p,g])=>I.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=(n,e)=>{const t=I.forwardRef(({className:r,...i},o)=>I.createElement(o6,{ref:o,iconNode:e,className:YA(`lucide-${i6(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],l6=XA("LoaderCircle",a6);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],c6=XA("X",u6),d6=QA("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-zinc-900 text-zinc-100 hover:bg-zinc-800",destructive:"text-white hover:bg-red-600 dark:hover:bg-red-600",outline:"bg-zinc-100 text-zinc-900 hover:bg-zinc-200 outline outline-1 outline-zinc-300",subtle:"hover:bg-zinc-200 bg-zinc-100 text-zinc-900",ghost:"bg-transparent hover:bg-zinc-100 text-zinc-800 data-[state=open]:bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent dark:bg-transparent underline-offset-4 hover:underline text-slate-900 dark:text-slate-100 hover:bg-transparent dark:hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",xs:"h-8 px-1.5 rounded-sm",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),gf=I.forwardRef(({className:n,children:e,variant:t,isLoading:r,size:i,...o},l)=>w.jsxs("button",{className:ao(d6({variant:t,size:i,className:n})),ref:l,disabled:r,...o,children:[r?w.jsx(l6,{className:"mr-2 h-4 w-4 animate-spin"}):null,e]}));gf.displayName="Button";const wv={logo:n=>w.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:w.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>w.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[w.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),w.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),w.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),w.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),w.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},h6=1,f6=1e6;let yg=0;function p6(){return yg=(yg+1)%Number.MAX_SAFE_INTEGER,yg.toString()}const _g=new Map,zI=n=>{if(_g.has(n))return;const e=setTimeout(()=>{_g.delete(n),ic({type:"REMOVE_TOAST",toastId:n})},f6);_g.set(n,e)},m6=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,h6)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?zI(t):n.toasts.forEach(r=>{zI(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Mh=[];let Vh={toasts:[]};function ic(n){Vh=m6(Vh,n),Mh.forEach(e=>{e(Vh)})}function g6({...n}){const e=p6(),t=i=>ic({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>ic({type:"DISMISS_TOAST",toastId:e});return ic({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function JA(){const[n,e]=I.useState(Vh);return I.useEffect(()=>(Mh.push(e),()=>{const t=Mh.indexOf(e);t>-1&&Mh.splice(t,1)}),[n]),{...n,toast:g6,dismiss:t=>ic({type:"DISMISS_TOAST",toastId:t})}}function Hn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function WI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ZA(...n){return e=>{let t=!1;const r=n.map(i=>{const o=WI(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():WI(n[i],null)}}}}function Xo(...n){return I.useCallback(ZA(...n),n)}function e1(n,e=[]){let t=[];function r(o,l){const c=I.createContext(l),h=t.length;t=[...t,l];const p=v=>{var j;const{scope:E,children:S,...R}=v,b=((j=E==null?void 0:E[n])==null?void 0:j[h])||c,x=I.useMemo(()=>R,Object.values(R));return w.jsx(b.Provider,{value:x,children:S})};p.displayName=o+"Provider";function g(v,E){var b;const S=((b=E==null?void 0:E[n])==null?void 0:b[h])||c,R=I.useContext(S);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[p,g]}const i=()=>{const o=t.map(l=>I.createContext(l));return function(c){const h=(c==null?void 0:c[n])||o;return I.useMemo(()=>({[`__scope${n}`]:{...c,[n]:h}}),[c,h])}};return i.scopeName=n,[r,y6(i,...e)]}function y6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:h,scopeName:p})=>{const v=h(o)[`__scope${p}`];return{...c,...v}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var yf=I.forwardRef((n,e)=>{const{children:t,...r}=n,i=I.Children.toArray(t),o=i.find(v6);if(o){const l=o.props.children,c=i.map(h=>h===o?I.Children.count(l)>1?I.Children.only(null):I.isValidElement(l)?l.props.children:null:h);return w.jsx(Ey,{...r,ref:e,children:I.isValidElement(l)?I.cloneElement(l,void 0,c):null})}return w.jsx(Ey,{...r,ref:e,children:t})});yf.displayName="Slot";var Ey=I.forwardRef((n,e)=>{const{children:t,...r}=n;if(I.isValidElement(t)){const i=E6(t),o=w6(r,t.props);return t.type!==I.Fragment&&(o.ref=e?ZA(e,i):i),I.cloneElement(t,o)}return I.Children.count(t)>1?I.Children.only(null):null});Ey.displayName="SlotClone";var _6=({children:n})=>w.jsx(w.Fragment,{children:n});function v6(n){return I.isValidElement(n)&&n.type===_6}function w6(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{o(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function E6(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function T6(n){const e=n+"CollectionProvider",[t,r]=e1(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:R,children:b}=S,x=wn.useRef(null),j=wn.useRef(new Map).current;return w.jsx(i,{scope:R,itemMap:j,collectionRef:x,children:b})};l.displayName=e;const c=n+"CollectionSlot",h=wn.forwardRef((S,R)=>{const{scope:b,children:x}=S,j=o(c,b),U=Xo(R,j.collectionRef);return w.jsx(yf,{ref:U,children:x})});h.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",v=wn.forwardRef((S,R)=>{const{scope:b,children:x,...j}=S,U=wn.useRef(null),B=Xo(R,U),q=o(p,b);return wn.useEffect(()=>(q.itemMap.set(U,{ref:U,...j}),()=>void q.itemMap.delete(U))),w.jsx(yf,{[g]:"",ref:B,children:x})});v.displayName=p;function E(S){const R=o(n+"CollectionConsumer",S);return wn.useCallback(()=>{const x=R.collectionRef.current;if(!x)return[];const j=Array.from(x.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort((q,X)=>j.indexOf(q.ref.current)-j.indexOf(X.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},E,r]}var I6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ci=I6.reduce((n,e)=>{const t=I.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?yf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(c,{...l,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function t1(n,e){n&&Ly.flushSync(()=>n.dispatchEvent(e))}function Hi(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function C6(n,e=globalThis==null?void 0:globalThis.document){const t=Hi(n);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var S6="DismissableLayer",Ty="dismissableLayer.update",x6="dismissableLayer.pointerDownOutside",R6="dismissableLayer.focusOutside",HI,n1=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),r1=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...h}=n,p=I.useContext(n1),[g,v]=I.useState(null),E=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=I.useState({}),R=Xo(e,N=>v(N)),b=Array.from(p.layers),[x]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(x),U=g?b.indexOf(g):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,q=U>=j,X=P6(N=>{const P=N.target,k=[...p.branches].some(L=>L.contains(P));!q||k||(i==null||i(N),l==null||l(N),N.defaultPrevented||c==null||c())},E),Z=k6(N=>{const P=N.target;[...p.branches].some(L=>L.contains(P))||(o==null||o(N),l==null||l(N),N.defaultPrevented||c==null||c())},E);return C6(N=>{U===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},E),I.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(HI=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),qI(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=HI)}},[g,E,t,p]),I.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),qI())},[g,p]),I.useEffect(()=>{const N=()=>S({});return document.addEventListener(Ty,N),()=>document.removeEventListener(Ty,N)},[]),w.jsx(ci.div,{...h,ref:R,style:{pointerEvents:B?q?"auto":"none":void 0,...n.style},onFocusCapture:Hn(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:Hn(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Hn(n.onPointerDownCapture,X.onPointerDownCapture)})});r1.displayName=S6;var A6="DismissableLayerBranch",i1=I.forwardRef((n,e)=>{const t=I.useContext(n1),r=I.useRef(null),i=Xo(e,r);return I.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),w.jsx(ci.div,{...n,ref:i})});i1.displayName=A6;function P6(n,e=globalThis==null?void 0:globalThis.document){const t=Hi(n),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let h=function(){s1(x6,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function k6(n,e=globalThis==null?void 0:globalThis.document){const t=Hi(n),r=I.useRef(!1);return I.useEffect(()=>{const i=o=>{o.target&&!r.current&&s1(R6,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qI(){const n=new CustomEvent(Ty);document.dispatchEvent(n)}function s1(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?t1(i,o):i.dispatchEvent(o)}var b6=r1,N6=i1,_f=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},D6="Portal",o1=I.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,o]=I.useState(!1);_f(()=>o(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?zb.createPortal(w.jsx(ci.div,{...r,ref:e}),l):null});o1.displayName=D6;function O6(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var a1=n=>{const{present:e,children:t}=n,r=L6(e),i=typeof t=="function"?t({present:r.isPresent}):I.Children.only(t),o=Xo(r.ref,M6(i));return typeof t=="function"||r.isPresent?I.cloneElement(i,{ref:o}):null};a1.displayName="Presence";function L6(n){const[e,t]=I.useState(),r=I.useRef({}),i=I.useRef(n),o=I.useRef("none"),l=n?"mounted":"unmounted",[c,h]=O6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const p=_h(r.current);o.current=c==="mounted"?p:"none"},[c]),_f(()=>{const p=r.current,g=i.current;if(g!==n){const E=o.current,S=_h(p);n?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&E!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,h]),_f(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,v=S=>{const b=_h(r.current).includes(S.animationName);if(S.target===e&&b&&(h("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},E=S=>{S.target===e&&(o.current=_h(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:I.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function _h(n){return(n==null?void 0:n.animationName)||"none"}function M6(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function V6({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=j6({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:r,c=Hi(t),h=I.useCallback(p=>{if(o){const v=typeof p=="function"?p(n):p;v!==n&&c(v)}else i(p)},[o,n,i,c]);return[l,h]}function j6({defaultProp:n,onChange:e}){const t=I.useState(n),[r]=t,i=I.useRef(r),o=Hi(e);return I.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}var F6="VisuallyHidden",Ev=I.forwardRef((n,e)=>w.jsx(ci.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Ev.displayName=F6;var Tv="ToastProvider",[Iv,U6,$6]=T6("Toast"),[l1,m8]=e1("Toast",[$6]),[B6,lp]=l1(Tv),u1=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=n,[c,h]=I.useState(null),[p,g]=I.useState(0),v=I.useRef(!1),E=I.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tv}\`. Expected non-empty \`string\`.`),w.jsx(Iv.Provider,{scope:e,children:w.jsx(B6,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:p,viewport:c,onViewportChange:h,onToastAdd:I.useCallback(()=>g(S=>S+1),[]),onToastRemove:I.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:l})})};u1.displayName=Tv;var c1="ToastViewport",z6=["F8"],Iy="toast.viewportPause",Cy="toast.viewportResume",d1=I.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=z6,label:i="Notifications ({hotkey})",...o}=n,l=lp(c1,t),c=U6(t),h=I.useRef(null),p=I.useRef(null),g=I.useRef(null),v=I.useRef(null),E=Xo(e,v,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=l.toastCount>0;I.useEffect(()=>{const x=j=>{var B;r.length!==0&&r.every(q=>j[q]||j.code===q)&&((B=v.current)==null||B.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),I.useEffect(()=>{const x=h.current,j=v.current;if(R&&x&&j){const U=()=>{if(!l.isClosePausedRef.current){const Z=new CustomEvent(Iy);j.dispatchEvent(Z),l.isClosePausedRef.current=!0}},B=()=>{if(l.isClosePausedRef.current){const Z=new CustomEvent(Cy);j.dispatchEvent(Z),l.isClosePausedRef.current=!1}},q=Z=>{!x.contains(Z.relatedTarget)&&B()},X=()=>{x.contains(document.activeElement)||B()};return x.addEventListener("focusin",U),x.addEventListener("focusout",q),x.addEventListener("pointermove",U),x.addEventListener("pointerleave",X),window.addEventListener("blur",U),window.addEventListener("focus",B),()=>{x.removeEventListener("focusin",U),x.removeEventListener("focusout",q),x.removeEventListener("pointermove",U),x.removeEventListener("pointerleave",X),window.removeEventListener("blur",U),window.removeEventListener("focus",B)}}},[R,l.isClosePausedRef]);const b=I.useCallback(({tabbingDirection:x})=>{const U=c().map(B=>{const q=B.ref.current,X=[q,...n5(q)];return x==="forwards"?X:X.reverse()});return(x==="forwards"?U.reverse():U).flat()},[c]);return I.useEffect(()=>{const x=v.current;if(x){const j=U=>{var X,Z,N;const B=U.altKey||U.ctrlKey||U.metaKey;if(U.key==="Tab"&&!B){const P=document.activeElement,k=U.shiftKey;if(U.target===x&&k){(X=p.current)==null||X.focus();return}const V=b({tabbingDirection:k?"backwards":"forwards"}),D=V.findIndex(le=>le===P);vg(V.slice(D+1))?U.preventDefault():k?(Z=p.current)==null||Z.focus():(N=g.current)==null||N.focus()}};return x.addEventListener("keydown",j),()=>x.removeEventListener("keydown",j)}},[c,b]),w.jsxs(N6,{ref:h,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&w.jsx(Sy,{ref:p,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});vg(x)}}),w.jsx(Iv.Slot,{scope:t,children:w.jsx(ci.ol,{tabIndex:-1,...o,ref:E})}),R&&w.jsx(Sy,{ref:g,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});vg(x)}})]})});d1.displayName=c1;var h1="ToastFocusProxy",Sy=I.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,o=lp(h1,t);return w.jsx(Ev,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var p;const c=l.relatedTarget;!((p=o.viewport)!=null&&p.contains(c))&&r()}})});Sy.displayName=h1;var up="Toast",W6="toast.swipeStart",H6="toast.swipeMove",q6="toast.swipeCancel",K6="toast.swipeEnd",f1=I.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:o,...l}=n,[c=!0,h]=V6({prop:r,defaultProp:i,onChange:o});return w.jsx(a1,{present:t||c,children:w.jsx(Y6,{open:c,...l,ref:e,onClose:()=>h(!1),onPause:Hi(n.onPause),onResume:Hi(n.onResume),onSwipeStart:Hn(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Hn(n.onSwipeMove,p=>{const{x:g,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Hn(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Hn(n.onSwipeEnd,p=>{const{x:g,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),h(!1)})})})});f1.displayName=up;var[G6,Q6]=l1(up,{onClose(){}}),Y6=I.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:c,onPause:h,onResume:p,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:S,...R}=n,b=lp(up,t),[x,j]=I.useState(null),U=Xo(e,le=>j(le)),B=I.useRef(null),q=I.useRef(null),X=i||b.duration,Z=I.useRef(0),N=I.useRef(X),P=I.useRef(0),{onToastAdd:k,onToastRemove:L}=b,M=Hi(()=>{var Se;(x==null?void 0:x.contains(document.activeElement))&&((Se=b.viewport)==null||Se.focus()),l()}),V=I.useCallback(le=>{!le||le===1/0||(window.clearTimeout(P.current),Z.current=new Date().getTime(),P.current=window.setTimeout(M,le))},[M]);I.useEffect(()=>{const le=b.viewport;if(le){const Se=()=>{V(N.current),p==null||p()},Re=()=>{const Te=new Date().getTime()-Z.current;N.current=N.current-Te,window.clearTimeout(P.current),h==null||h()};return le.addEventListener(Iy,Re),le.addEventListener(Cy,Se),()=>{le.removeEventListener(Iy,Re),le.removeEventListener(Cy,Se)}}},[b.viewport,X,h,p,V]),I.useEffect(()=>{o&&!b.isClosePausedRef.current&&V(X)},[o,X,b.isClosePausedRef,V]),I.useEffect(()=>(k(),()=>L()),[k,L]);const D=I.useMemo(()=>x?w1(x):null,[x]);return b.viewport?w.jsxs(w.Fragment,{children:[D&&w.jsx(X6,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),w.jsx(G6,{scope:t,onClose:M,children:Ly.createPortal(w.jsx(Iv.ItemSlot,{scope:t,children:w.jsx(b6,{asChild:!0,onEscapeKeyDown:Hn(c,()=>{b.isFocusedToastEscapeKeyDownRef.current||M(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(ci.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":b.swipeDirection,...R,ref:U,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Hn(n.onKeyDown,le=>{le.key==="Escape"&&(c==null||c(le.nativeEvent),le.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Hn(n.onPointerDown,le=>{le.button===0&&(B.current={x:le.clientX,y:le.clientY})}),onPointerMove:Hn(n.onPointerMove,le=>{if(!B.current)return;const Se=le.clientX-B.current.x,Re=le.clientY-B.current.y,Te=!!q.current,ie=["left","right"].includes(b.swipeDirection),ue=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,se=ie?ue(0,Se):0,z=ie?0:ue(0,Re),Y=le.pointerType==="touch"?10:2,pe={x:se,y:z},Ie={originalEvent:le,delta:pe};Te?(q.current=pe,vh(H6,v,Ie,{discrete:!1})):KI(pe,b.swipeDirection,Y)?(q.current=pe,vh(W6,g,Ie,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(Se)>Y||Math.abs(Re)>Y)&&(B.current=null)}),onPointerUp:Hn(n.onPointerUp,le=>{const Se=q.current,Re=le.target;if(Re.hasPointerCapture(le.pointerId)&&Re.releasePointerCapture(le.pointerId),q.current=null,B.current=null,Se){const Te=le.currentTarget,ie={originalEvent:le,delta:Se};KI(Se,b.swipeDirection,b.swipeThreshold)?vh(K6,S,ie,{discrete:!0}):vh(q6,E,ie,{discrete:!0}),Te.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),X6=n=>{const{__scopeToast:e,children:t,...r}=n,i=lp(up,e),[o,l]=I.useState(!1),[c,h]=I.useState(!1);return e5(()=>l(!0)),I.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:w.jsx(o1,{asChild:!0,children:w.jsx(Ev,{...r,children:o&&w.jsxs(w.Fragment,{children:[i.label," ",t]})})})},J6="ToastTitle",p1=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return w.jsx(ci.div,{...r,ref:e})});p1.displayName=J6;var Z6="ToastDescription",m1=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return w.jsx(ci.div,{...r,ref:e})});m1.displayName=Z6;var g1="ToastAction",y1=I.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?w.jsx(v1,{altText:t,asChild:!0,children:w.jsx(Cv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${g1}\`. Expected non-empty \`string\`.`),null)});y1.displayName=g1;var _1="ToastClose",Cv=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=Q6(_1,t);return w.jsx(v1,{asChild:!0,children:w.jsx(ci.button,{type:"button",...r,ref:e,onClick:Hn(n.onClick,i.onClose)})})});Cv.displayName=_1;var v1=I.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return w.jsx(ci.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function w1(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),t5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...w1(r))}}),e}function vh(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,o=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?t1(i,o):i.dispatchEvent(o)}var KI=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),o=r>i;return e==="left"||e==="right"?o&&r>t:!o&&i>t};function e5(n=()=>{}){const e=Hi(n);_f(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function t5(n){return n.nodeType===n.ELEMENT_NODE}function n5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function vg(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var r5=u1,E1=d1,T1=f1,I1=p1,C1=m1,S1=y1,x1=Cv;const i5=r5,R1=I.forwardRef(({className:n,...e},t)=>w.jsx(E1,{ref:t,className:ao("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));R1.displayName=E1.displayName;const s5=QA("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),A1=I.forwardRef(({className:n,variant:e,...t},r)=>w.jsx(T1,{ref:r,className:ao(s5({variant:e}),n),...t}));A1.displayName=T1.displayName;const o5=I.forwardRef(({className:n,...e},t)=>w.jsx(S1,{ref:t,className:ao("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));o5.displayName=S1.displayName;const P1=I.forwardRef(({className:n,...e},t)=>w.jsx(x1,{ref:t,className:ao("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:w.jsx(c6,{className:"h-4 w-4"})}));P1.displayName=x1.displayName;const k1=I.forwardRef(({className:n,...e},t)=>w.jsx(I1,{ref:t,className:ao("text-sm font-semibold [&+div]:text-xs",n),...e}));k1.displayName=I1.displayName;const b1=I.forwardRef(({className:n,...e},t)=>w.jsx(C1,{ref:t,className:ao("text-sm opacity-90",n),...e}));b1.displayName=C1.displayName;function a5(){const{toasts:n}=JA();return w.jsxs(i5,{children:[n.map(function({id:e,title:t,description:r,action:i,...o}){return w.jsxs(A1,{...o,children:[w.jsxs("div",{className:"grid gap-1",children:[t&&w.jsx(k1,{children:t}),r&&w.jsx(b1,{children:r})]}),i,w.jsx(P1,{})]},e)}),w.jsx(R1,{})]})}const l5=({className:n,...e})=>{const{userLoggedIn:t}=ia()||{userLoggedIn:!1},r=Zs(),[i,o]=I.useState(""),[l,c]=I.useState(""),[h,p]=I.useState(!1),{toast:g}=JA();I.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const v=async()=>{p(!0);try{const S=await tF();r("/")}catch(S){console.error("Google sign-in error:",S),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}},E=async(S,R)=>{p(!0);try{const b=await eF(S,R);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(b){let x="Error logging in with email and password";console.log(b.code),b.code==="auth/invalid-credential"?x="Incorrect email or password. Please try again.":b.code==="auth/user-not-found"?x="No account found with this email.":b.code==="auth/invalid-email"?x="Invalid email format":b.code==="auth/too-many-requests"&&(x="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:x,variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}};return w.jsxs(w.Fragment,{children:[w.jsx(a5,{}),w.jsx("div",{className:ao("flex flex-col items-center space-y-4 justify-center",n),...e,children:w.jsxs("div",{className:"flex flex-col space-y-4",children:[w.jsx("input",{type:"email",value:i,onChange:S=>o(S.currentTarget.value),placeholder:"Email",className:"input"}),w.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"Password",className:"input"}),w.jsx(gf,{onClick:()=>E(i,l),isLoading:h,size:"sm",className:"w-full",children:"Login with Email"}),w.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[w.jsx("span",{className:"flex-grow border-t border-gray-300"}),w.jsx("span",{className:"px-3",children:" Or Login with Google "}),w.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),w.jsxs(gf,{onClick:v,isLoading:h,size:"sm",className:"w-full",children:[h?null:w.jsx(wv.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},u5=()=>{const n=Zs();return w.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:w.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:w.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[w.jsx("div",{className:"w-full flex justify-center",children:w.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:w.jsx(wv.logo,{className:"h-12 w-auto"})})}),w.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),w.jsx(l5,{}),w.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",w.jsx(lr,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),w.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",w.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",w.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},c5=()=>{const n=Zs();Fj();const{userLoggedIn:e,loading:t}=ia(),[r,i]=I.useState(""),[o,l]=I.useState(""),[c,h]=I.useState(""),[p,g]=I.useState(!1),[v,E]=I.useState(!1),[S,R]=I.useState(""),[b,x]=I.useState(""),[j,U]=I.useState(""),[B,q]=I.useState(!1),[X,Z]=I.useState(""),N=async k=>{if(k.preventDefault(),!B){if(Z(""),q(!0),b!==j){Z("Passwords don't match"),q(!1);return}try{const M=(await Zj(S,b)).user;await Dg(M,{displayName:`${r} ${o}`}),await iv(M.uid,r,o,S,c),n("/"),console.log(e)}catch{Z("There was a problem creating your account"),q(!1)}}},P=async()=>{E(!0);try{const k=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{E(!1),console.log("Logged in: ",e)}};return I.useEffect(()=>{p&&(n("/"),g(!1))},[p,n,g]),t?w.jsx("div",{children:"Loading..."}):w.jsxs(w.Fragment,{children:[e&&w.jsx(lb,{to:"/",replace:!0}),w.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:w.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[w.jsx("div",{className:"text-center mb-6",children:w.jsxs("div",{className:"mt-2",children:[w.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),w.jsx("p",{children:"Enter your information to sign up"})]})}),w.jsxs("form",{onSubmit:N,className:"space-y-4",children:[X&&w.jsx("span",{className:"text-red-600 font-bold",children:X}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:k=>{i(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:o,onChange:k=>{l(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:k=>{h(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:S,onChange:k=>{R(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:b,onChange:k=>{x(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{disabled:B,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:j,onChange:k=>{U(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),X&&w.jsx("span",{className:"text-red-600 font-bold",children:X}),w.jsx("button",{type:"submit",disabled:B,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${B?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:B?"Signing Up...":"Create Account"})]}),w.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[w.jsx("span",{className:"flex-grow border-t border-gray-300"}),w.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),w.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),w.jsxs(gf,{onClick:P,isLoading:v,size:"sm",className:"w-full",children:[v?null:w.jsx(wv.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),w.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",w.jsx(lr,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),w.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",w.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",w.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},d5=()=>w.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:w.jsx("div",{className:"flex flex-col space-y-2 text-center",children:w.jsx(c5,{})})}),We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",N1=()=>{const{productId:n}=Gk(),t=[{id:"HarvestGrove",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"tavertine",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne",productTitle:"Champagne Limestone Rigid Core Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Luxury",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Harvest",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne2",productTitle:"Champagne Limestone Rigid Core luxiry Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}}].find(r=>r.id===n);return t?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{id:"left",children:[w.jsx("div",{className:"main-image",children:w.jsx("img",{src:t.mainIm,alt:""})}),w.jsxs("div",{className:"thumbnails",children:[w.jsx("img",{src:t.mainIm,alt:""}),w.jsx("img",{src:t.alternate1,alt:""}),w.jsx("img",{src:t.alternate2,alt:""})]})]}),w.jsxs("div",{id:"right",children:[w.jsxs("div",{className:"title-section",children:[w.jsxs("div",{className:"title",children:[w.jsx("p",{id:"main",children:t.productTitle}),w.jsx("p",{id:"sub",children:t.productCategory})]}),w.jsxs("div",{className:"price-link",children:[w.jsx("div",{className:"title-left",children:w.jsx("p",{children:"$"})}),w.jsx("div",{className:"title-right",children:w.jsx("a",{href:"",children:"See in my room"})})]}),w.jsx("a",{href:"",children:"View specifications"})]}),w.jsxs("div",{className:"description",children:[w.jsx("p",{children:t.description}),w.jsxs("ul",{children:[w.jsx("li",{children:"Install up to 6,400 square feetNo need for transition molding."}),w.jsx("li",{children:"You can install it right awayPre-installation acclimation is unnecessary."}),w.jsx("li",{children:"Attached foam underlayment makes for a quieter, warmer floor."}),w.jsx("li",{children:"Can be installed on, above, and below grade-level (perfect for basements!) and over most existing hard-surface flooring, including slightly irregular subfloors."}),w.jsx("li",{children:"This DuraLux Performance product is backed by a lifetime res./ 15 yr comm. warranty."}),w.jsx("li",{children:"It is recommended to use Sentinel Protect Plus Underlayment for optimal sound absorption and moisture resistance or a standard vapor barrier like 6mil PE Film."})]}),w.jsx("a",{href:"",children:"Product Details"}),w.jsx("a",{href:"",children:"Reviews"})]})]})]}),w.jsxs("div",{className:"secondary-content",children:[w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{id:"left",children:[w.jsx("div",{className:"main-image",children:w.jsx("img",{src:We,alt:""})}),w.jsxs("div",{className:"thumbnails",children:[w.jsx("img",{src:We,alt:""}),w.jsx("img",{src:We,alt:""}),w.jsx("img",{src:We,alt:""})]})]}),w.jsxs("div",{id:"right",children:[w.jsxs("div",{className:"title-section",children:[w.jsxs("div",{className:"title",children:[w.jsx("p",{id:"main",children:"Deafult Title"}),w.jsx("p",{id:"sub",children:"Default Category"})]}),w.jsxs("div",{className:"price-link",children:[w.jsx("div",{className:"title-left",children:w.jsx("p",{children:"$"})}),w.jsx("div",{className:"title-right",children:w.jsx("a",{href:"",children:"See in my room"})})]}),w.jsx("a",{href:"",children:"View specifications"})]}),w.jsxs("div",{className:"description",children:[w.jsx("p",{children:"Default Description"}),w.jsx("a",{href:"",children:"Product Details"}),w.jsx("a",{href:"",children:"Reviews"})]})]})]}),w.jsxs("div",{className:"secondary-content",children:[w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})})]})]})};N1.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We},suggested1:{defaultImage:We},suggested2:{defaultImage:We},suggested3:{defaultImage:We}};function h5(){return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"product-detail-page",children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"product detail"}),w.jsx(_v,{}),w.jsx(N1,{}),w.jsx(ov,{})]})})}function f5(n,e){return I.Children.toArray(n).some(t=>I.isValidElement(t)&&t.type===e)}function p5({as:n,bsPrefix:e,className:t,...r}){e=Nt(e,"col");const i=aU(),o=lU(),l=[],c=[];return i.forEach(h=>{const p=r[h];delete r[h];let g,v,E;typeof p=="object"&&p!=null?{span:g,offset:v,order:E}=p:g=p;const S=h!==o?`-${h}`:"";g&&l.push(g===!0?`${e}${S}`:`${e}${S}-${g}`),E!=null&&c.push(`order${S}-${E}`),v!=null&&c.push(`offset${S}-${v}`)}),[{...r,className:Et(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const D1=I.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:l}]=p5(n);return w.jsx(i,{...r,ref:e,className:Et(t,!l.length&&o)})});D1.displayName="Col";const m5={type:al.string,tooltip:al.bool,as:al.elementType},cp=I.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>w.jsx(n,{...i,ref:o,className:Et(e,`${t}-${r?"tooltip":"feedback"}`)}));cp.displayName="Feedback";cp.propTypes=m5;const qi=I.createContext({}),Sv=I.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...c},h)=>{const{controlId:p}=I.useContext(qi);return e=Nt(e,"form-check-input"),w.jsx(l,{...c,ref:h,type:r,id:n||p,className:Et(t,e,i&&"is-valid",o&&"is-invalid")})});Sv.displayName="FormCheckInput";const vf=I.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=I.useContext(qi);return n=Nt(n,"form-check-label"),w.jsx("label",{...r,ref:i,htmlFor:t||o,className:Et(e,n)})});vf.displayName="FormCheckLabel";const O1=I.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:h=!1,feedback:p,feedbackType:g,className:v,style:E,title:S="",type:R="checkbox",label:b,children:x,as:j="input",...U},B)=>{e=Nt(e,"form-check"),t=Nt(t,"form-switch");const{controlId:q}=I.useContext(qi),X=I.useMemo(()=>({controlId:n||q}),[q,n]),Z=!x&&b!=null&&b!==!1||f5(x,vf),N=w.jsx(Sv,{...U,type:R==="switch"?"checkbox":R,ref:B,isValid:l,isInvalid:c,disabled:o,as:j});return w.jsx(qi.Provider,{value:X,children:w.jsx("div",{style:E,className:Et(v,Z&&e,r&&`${e}-inline`,i&&`${e}-reverse`,R==="switch"&&t),children:x||w.jsxs(w.Fragment,{children:[N,Z&&w.jsx(vf,{title:S,children:b}),p&&w.jsx(cp,{type:g,tooltip:h,children:p})]})})})});O1.displayName="FormCheck";const wf=Object.assign(O1,{Input:Sv,Label:vf}),L1=I.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:l=!1,isInvalid:c=!1,plaintext:h,readOnly:p,as:g="input",...v},E)=>{const{controlId:S}=I.useContext(qi);return n=Nt(n,"form-control"),w.jsx(g,{...v,type:e,size:r,ref:E,readOnly:p,id:i||S,className:Et(o,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});L1.displayName="FormControl";const g5=Object.assign(L1,{Feedback:cp}),M1=I.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Nt(e,"form-floating"),w.jsx(t,{ref:i,className:Et(n,e),...r})));M1.displayName="FormFloating";const xv=I.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=I.useMemo(()=>({controlId:n}),[n]);return w.jsx(qi.Provider,{value:i,children:w.jsx(e,{...t,ref:r})})});xv.displayName="FormGroup";const V1=I.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...l},c)=>{const{controlId:h}=I.useContext(qi);e=Nt(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=Et(i,e,r&&"visually-hidden",t&&p);return o=o||h,t?w.jsx(D1,{ref:c,as:"label",className:g,htmlFor:o,...l}):w.jsx(n,{ref:c,className:g,htmlFor:o,...l})});V1.displayName="FormLabel";const j1=I.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=I.useContext(qi);return n=Nt(n,"form-range"),w.jsx("input",{...r,type:"range",ref:i,className:Et(e,n),id:t||o})});j1.displayName="FormRange";const F1=I.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:l,...c},h)=>{const{controlId:p}=I.useContext(qi);return n=Nt(n,"form-select"),w.jsx("select",{...c,size:t,ref:h,className:Et(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||p})});F1.displayName="FormSelect";const U1=I.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=Nt(n,"form-text"),w.jsx(t,{...i,ref:o,className:Et(e,n,r&&"text-muted")})));U1.displayName="FormText";const $1=I.forwardRef((n,e)=>w.jsx(wf,{...n,ref:e,type:"switch"}));$1.displayName="Switch";const y5=Object.assign($1,{Input:wf.Input,Label:wf.Label}),B1=I.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},l)=>(n=Nt(n,"form-floating"),w.jsxs(xv,{ref:l,className:Et(e,n),controlId:r,...o,children:[t,w.jsx("label",{htmlFor:r,children:i})]})));B1.displayName="FloatingLabel";const _5={_ref:al.any,validated:al.bool,as:al.elementType},Rv=I.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>w.jsx(t,{...r,ref:i,className:Et(n,e&&"was-validated")}));Rv.displayName="Form";Rv.propTypes=_5;const Wn=Object.assign(Rv,{Group:xv,Control:g5,Floating:M1,Check:wf,Switch:y5,Label:V1,Text:U1,Range:j1,Select:F1,FloatingLabel:B1});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebasestorage.googleapis.com",W1="storageBucket",v5=2*60*1e3,w5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends li{constructor(e,t,r=0){super(wg(e),`Firebase Storage: ${t} (${wg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function wg(n){return"storage/"+n}function Av(){const n="An unknown error occurred, please check the error payload for server response.";return new Tt(wt.UNKNOWN,n)}function E5(n){return new Tt(wt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function T5(n){return new Tt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function I5(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(wt.UNAUTHENTICATED,n)}function C5(){return new Tt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function S5(n){return new Tt(wt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function x5(){return new Tt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R5(){return new Tt(wt.CANCELED,"User canceled the upload/download.")}function A5(n){return new Tt(wt.INVALID_URL,"Invalid URL '"+n+"'.")}function P5(n){return new Tt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function k5(){return new Tt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W1+"' property when initializing the app?")}function b5(){return new Tt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function N5(){return new Tt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function D5(n){return new Tt(wt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xy(n){return new Tt(wt.INVALID_ARGUMENT,n)}function H1(){return new Tt(wt.APP_DELETED,"The Firebase app was deleted.")}function O5(n){return new Tt(wt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sc(n,e){return new Tt(wt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Fu(n){throw new Tt(wt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Kn.makeFromUrl(e,t)}catch{return new Kn(e,"")}if(r.path==="")return r;throw P5(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function p(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${g}/b/${i}/o${E}`,"i"),R={bucket:1,path:3},b=t===z1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",j=new RegExp(`^https?://${b}/${i}/${x}`,"i"),B=[{regex:c,indices:h,postModify:o},{regex:S,indices:R,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let q=0;q<B.length;q++){const X=B[q],Z=X.regex.exec(e);if(Z){const N=Z[X.indices.bucket];let P=Z[X.indices.path];P||(P=""),r=new Kn(N,P),X.postModify(r);break}}if(r==null)throw A5(e);return r}}class L5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(n,e,t){let r=1,i=null,o=null,l=!1,c=0;function h(){return c===2}let p=!1;function g(...x){p||(p=!0,e.apply(null,x))}function v(x){i=setTimeout(()=>{i=null,n(S,h())},x)}function E(){o&&clearTimeout(o)}function S(x,...j){if(p){E();return}if(x){E(),g.call(null,x,...j);return}if(h()||l){E(),g.call(null,x,...j);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,v(B)}let R=!1;function b(x){R||(R=!0,E(),!p&&(i!==null?(x||(c=2),clearTimeout(i),v(0)):x||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,b(!0)},t),b}function V5(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(n){return n!==void 0}function F5(n){return typeof n=="object"&&!Array.isArray(n)}function Pv(n){return typeof n=="string"||n instanceof String}function GI(n){return kv()&&n instanceof Blob}function kv(){return typeof Blob<"u"}function QI(n,e,t,r){if(r<e)throw xy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw xy(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function q1(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Bo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Bo||(Bo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t,r,i,o,l,c,h,p,g,v,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,R)=>{this.resolve_=S,this.reject_=R,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new wh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Bo.NO_ERROR,h=o.getStatus();if(!c||U5(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Bo.ABORT;r(!1,new wh(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new wh(p,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());j5(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=Av();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?H1():R5();l(h)}else{const h=x5();l(h)}};this.canceled_?t(!1,new wh(!1,null,!0)):this.backoffId_=M5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function B5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function z5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function H5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function q5(n,e,t,r,i,o,l=!0){const c=q1(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return W5(p,e),B5(p,t),z5(p,o),H5(p,r),new $5(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function G5(...n){const e=K5();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(kv())return new Blob(n);throw new Tt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(n){if(typeof atob>"u")throw D5("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Eg{constructor(e,t){this.data=e,this.contentType=t||null}}function X5(n,e){switch(n){case ei.RAW:return new Eg(K1(e));case ei.BASE64:case ei.BASE64URL:return new Eg(G1(n,e));case ei.DATA_URL:return new Eg(Z5(e),e$(e))}throw Av()}function K1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function J5(n){let e;try{e=decodeURIComponent(n)}catch{throw sc(ei.DATA_URL,"Malformed data URL.")}return K1(e)}function G1(n,e){switch(n){case ei.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw sc(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ei.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw sc(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Y5(e)}catch(i){throw i.message.includes("polyfill")?i:sc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class Q1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw sc(ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=t$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z5(n){const e=new Q1(n);return e.base64?G1(ei.BASE64,e.rest):J5(e.rest)}function e$(n){return new Q1(n).contentType}function t$(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){let r=0,i="";GI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(GI(this.data_)){const r=this.data_,i=Q5(r,e,t);return i===null?null:new Ns(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ns(r,!0)}}static getBlob(...e){if(kv()){const t=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(G5.apply(null,t))}else{const t=e.map(l=>Pv(l)?X5(ei.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new Ns(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(n){let e;try{e=JSON.parse(n)}catch{return null}return F5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function r$(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function X1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(n,e){return e}class vn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||i$}}let Eh=null;function s$(n){return!Pv(n)||n.length<2?n:X1(n)}function J1(){if(Eh)return Eh;const n=[];n.push(new vn("bucket")),n.push(new vn("generation")),n.push(new vn("metageneration")),n.push(new vn("name","fullPath",!0));function e(o,l){return s$(l)}const t=new vn("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const i=new vn("size");return i.xform=r,n.push(i),n.push(new vn("timeCreated")),n.push(new vn("updated")),n.push(new vn("md5Hash",null,!0)),n.push(new vn("cacheControl",null,!0)),n.push(new vn("contentDisposition",null,!0)),n.push(new vn("contentEncoding",null,!0)),n.push(new vn("contentLanguage",null,!0)),n.push(new vn("contentType",null,!0)),n.push(new vn("metadata","customMetadata",!0)),Eh=n,Eh}function o$(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new Kn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function a$(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return o$(r,n),r}function Z1(n,e,t){const r=Y1(e);return r===null?null:a$(n,r,t)}function l$(n,e,t,r){const i=Y1(e);if(i===null||!Pv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(p=>{const g=n.bucket,v=n.fullPath,E="/b/"+l(g)+"/o/"+l(v),S=bv(E,t,r),R=q1({alt:"media",token:p});return S+R})[0]}function u$(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class eP{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n){if(!n)throw Av()}function c$(n,e){function t(r,i){const o=Z1(n,i,e);return tP(o!==null),o}return t}function d$(n,e){function t(r,i){const o=Z1(n,i,e);return tP(o!==null),l$(o,i,n.host,n._protocol)}return t}function nP(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=C5():i=I5():t.getStatus()===402?i=T5(n.bucket):t.getStatus()===403?i=S5(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function h$(n){const e=nP(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=E5(n.path)),o.serverResponse=i.serverResponse,o}return t}function f$(n,e,t){const r=e.fullServerUrl(),i=bv(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new eP(i,o,d$(n,t),l);return c.errorHandler=h$(e),c}function p$(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function m$(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=p$(null,e)),r}function g$(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let B="";for(let q=0;q<2;q++)B=B+Math.random().toString().slice(2);return B}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=m$(e,r,i),g=u$(p,t),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+h+"--",S=Ns.getBlob(v,r,E);if(S===null)throw b5();const R={name:p.fullPath},b=bv(o,n.host,n._protocol),x="POST",j=n.maxUploadRetryTime,U=new eP(b,x,c$(n,t),j);return U.urlParams=R,U.headers=l,U.body=S.uploadData(),U.errorHandler=nP(e),U}class y${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Fu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _$ extends y${initXhr(){this.xhr_.responseType="text"}}function rP(){return new _$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t){this._service=e,t instanceof Kn?this._location=t:this._location=Kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jo(e,t)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X1(this._location.path)}get storage(){return this._service}get parent(){const e=n$(this._location.path);if(e===null)return null;const t=new Kn(this._location.bucket,e);return new Jo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw O5(e)}}function v$(n,e,t){n._throwIfRoot("uploadBytes");const r=g$(n.storage,n._location,J1(),new Ns(e,!0),t);return n.storage.makeRequestWithTokens(r,rP).then(i=>({metadata:i,ref:n}))}function w$(n){n._throwIfRoot("getDownloadURL");const e=f$(n.storage,n._location,J1());return n.storage.makeRequestWithTokens(e,rP).then(t=>{if(t===null)throw N5();return t})}function E$(n,e){const t=r$(n._location.path,e),r=new Kn(n._location.bucket,t);return new Jo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(n){return/^[A-Za-z]+:\/\//.test(n)}function I$(n,e){return new Jo(n,e)}function iP(n,e){if(n instanceof Nv){const t=n;if(t._bucket==null)throw k5();const r=new Jo(t,t._bucket);return e!=null?iP(r,e):r}else return e!==void 0?E$(n,e):n}function C$(n,e){if(e&&T$(e)){if(n instanceof Nv)return I$(n,e);throw xy("To use ref(service, url), the first argument must be a Storage instance.")}else return iP(n,e)}function YI(n,e){const t=e==null?void 0:e[W1];return t==null?null:Kn.makeFromBucketSpec(t,n)}function S$(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Fy(i,n.app.options.projectId))}class Nv{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=z1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=v5,this._maxUploadRetryTime=w5,this._requests=new Set,i!=null?this._bucket=Kn.makeFromBucketSpec(i,this._host):this._bucket=YI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=YI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jo(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new L5(H1());{const l=q5(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const XI="@firebase/storage",JI="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="storage";function x$(n,e,t){return n=it(n),v$(n,e,t)}function R$(n){return n=it(n),w$(n)}function A$(n,e){return n=it(n),C$(n,e)}function P$(n=xf(),e){n=it(n);const r=xc(n,sP).getImmediate({identifier:e}),i=Vy("storage");return i&&k$(r,...i),r}function k$(n,e,t,r={}){S$(n,e,t,r)}function b$(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Nv(t,r,i,e,eo)}function N$(){Bs(new Vi(sP,b$,"PUBLIC").setMultipleInstances(!0)),ur(XI,JI,""),ur(XI,JI,"esm2017")}N$();function D$(){const{user:n,profile:e}=Hj(),t=Zs(),[r,i]=I.useState({displayName:"",email:"",phone:"",profilePicture:null});if(I.useEffect(()=>{e&&i({displayName:n.displayName||"",email:n.email||"",phone:e.phone||"",profilePicture:null})},[e,n]),!n||!e)return w.jsx("p",{children:"Loading profile data..."});const o=async l=>{l.preventDefault();const c=kf(),h=Lc(),p=P$(),g=c.currentUser;if(!g)return;const v={};try{if(r.displayName&&r.displayName!==g.displayName&&(await Dg(g,{displayName:r.displayName}),v.displayName=r.displayName),r.email&&r.email!==g.email&&(await RD(g,r.email),v.email=r.email),r.phone&&(v.phone=r.phone),r.profilePicture){const E=A$(p,`profilePictures/${g.uid}`);await x$(E,r.profilePicture);const S=await R$(E);await Dg(g,{photoURL:S}),v.photoURL=S}if(Object.keys(v).length>0){const E=gl(h,"users",g.uid);await Z4(E,v)}alert("profile updated succesfully"),t("/ProfileDashboard")}catch(E){console.error("Error updating profile:",E),alert("Failed to update profile. Check the console for details.")}};return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Edit Profile"}),w.jsxs(Wn,{children:[w.jsxs(Wn.Group,{controlId:"displayName",className:"mb-3",children:[w.jsx(Wn.Label,{children:"Display Name"}),w.jsx(Wn.Control,{type:"text",value:r.displayName,onChange:l=>i({...r,displayName:l.target.value})})]}),w.jsxs(Wn.Group,{controlId:"email",className:"mb-3",children:[w.jsx(Wn.Label,{children:"email"}),w.jsx(Wn.Control,{type:"email",value:r.email,onChange:l=>i({...r,email:l.target.value})})]}),w.jsxs(Wn.Group,{controlId:"phone",className:"mb-3",children:[w.jsx(Wn.Label,{children:"Phone Number"}),w.jsx(Wn.Control,{type:"text",value:r.phone,onChange:l=>i({...r,phone:l.target.value})})]}),w.jsxs(Wn.Group,{controlId:"profilePicture",className:"mb-3",children:[w.jsx(Wn.Label,{children:"Profile Picture"}),w.jsx(Wn.Control,{type:"file",onChange:l=>i({...r,profilePicture:l.target.files[0]})})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx(mf,{variant:"primary",onClick:o,type:"submit",children:"Save Changes"}),w.jsx(mf,{variant:"secondary",onClick:()=>t("/ProfileDashboard"),children:"Cancel"})]})]})]})})}function O$(){const{currentUser:n}=ia(),[e,t]=I.useState([]),[r,i]=I.useState(!0);return I.useEffect(()=>{(async()=>{if(!n)return;const l=Rx(Bj,"savedMaterials"),c=Q4(l,Y4("userId","==",n.uid));try{const p=(await $x(c)).docs.map(g=>({id:g.id,...g.data()}));t(p)}catch(h){console.error("Error fetching saved materials:",h)}finally{i(!1)}})()},[n]),r?w.jsx("div",{children:"Loading saved materials..."}):w.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(lr,{to:"/ProfileDashboard",className:"text-blue-500 text-3xl font-bold hover:scale-110 hover:text-blue-700 transition-all duration-200 flex items-center justify-center",children:"<"}),w.jsx("h1",{className:"text-2xl font-bold",children:"Saved Items"})]}),e.length===0?w.jsx("p",{className:"text-gray-500",children:"You don't have any saved materials yet."}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(o=>w.jsxs("div",{className:"border p-4 rounded shadow",children:[o.materialImageURL&&w.jsx("img",{src:o.materialImageURL,alt:o.materialName,className:"w-full h-32 object-cover rounded mb-2"}),w.jsx("h2",{className:"text-xl font-semibold",children:o.materialName}),w.jsx("p",{className:"text-gray-600",children:o.materialType})]},o.id))})]})}const L$="_loginWrapper_1063v_3",M$="_container_1063v_11",V$="_form_1063v_32",j$="_formBox_1063v_34",F$="_active_1063v_49",U$="_register_1063v_51",$$="_inputBox_1063v_54",B$="_forgotLink_1063v_84",z$="_btn_1063v_90",W$="_socialIcons_1063v_103",H$="_toggleBox_1063v_118",q$="_togglePanel_1063v_138",K$="_toggleLeft_1063v_152",G$="_toggleRight_1063v_161",Ze={loginWrapper:L$,container:M$,form:V$,formBox:j$,active:F$,register:U$,inputBox:$$,forgotLink:B$,btn:z$,socialIcons:W$,toggleBox:H$,togglePanel:q$,toggleLeft:K$,toggleRight:G$},Q$=()=>{const[n,e]=I.useState(!1),t=()=>{e(!0)},r=()=>{e(!1)};return w.jsx("div",{className:Ze.loginWrapper,children:w.jsxs("div",{className:`${Ze.container} ${n?Ze.active:""}`,children:[w.jsx("div",{className:`${Ze.formBox} ${Ze.login}`,children:w.jsxs("form",{className:Ze.form,action:"#",children:[w.jsx("h1",{children:"Login"}),w.jsxs("div",{className:Ze.inputBox,children:[w.jsx("input",{type:"text",placeholder:"Email",required:!0}),w.jsx("i",{className:"bx bxs-user"})]}),w.jsxs("div",{className:Ze.inputBox,children:[w.jsx("input",{type:"password",placeholder:"Password",required:!0}),w.jsx("i",{className:"bx bxs-lock-alt"})]}),w.jsx("div",{className:Ze.forgotLink,children:w.jsx("a",{href:"#",children:"Forgot Password?"})}),w.jsx("button",{type:"submit",className:Ze.btn,children:"Login"}),w.jsx("p",{children:"or login with social platforms"}),w.jsxs("div",{className:Ze.socialIcons,children:[w.jsx("a",{href:"#",children:w.jsx("i",{className:"bx bxl-google"})}),w.jsx("a",{href:"#",children:w.jsx("i",{className:"bx bxl-facebook"})}),w.jsx("a",{href:"#",children:w.jsx("i",{className:"bx bxl-github"})}),w.jsx("a",{href:"#",children:w.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),w.jsx("div",{className:`${Ze.formBox} ${Ze.register}`,children:w.jsxs("form",{className:Ze.form,action:"#",children:[w.jsx("h1",{children:"Registration"}),w.jsxs("div",{className:Ze.inputBox,children:[w.jsx("input",{type:"text",placeholder:"First Name",required:!0}),w.jsx("i",{className:"bx bxs-user"})]}),w.jsxs("div",{className:Ze.inputBox,children:[w.jsx("input",{type:"text",placeholder:"Last Name",required:!0}),w.jsx("i",{className:"bx bxs-user"})]}),w.jsxs("div",{className:Ze.inputBox,children:[w.jsx("input",{type:"email",placeholder:"Email",required:!0}),w.jsx("i",{className:"bx bxs-envelope"})]}),w.jsxs("div",{className:Ze.inputBox,children:[w.jsx("input",{type:"password",placeholder:"Password",required:!0}),w.jsx("i",{className:"bx bxs-lock-alt"})]}),w.jsxs("div",{className:Ze.inputBox,children:[w.jsx("input",{type:"password",placeholder:"Confirm Password",required:!0}),w.jsx("i",{className:"bx bxs-lock-alt"})]}),w.jsx("button",{type:"submit",className:Ze.btn,children:"Register"}),w.jsx("p",{children:"or register with social platforms"}),w.jsxs("div",{className:Ze.socialIcons,children:[w.jsx("a",{href:"#",children:w.jsx("i",{className:"bx bxl-google"})}),w.jsx("a",{href:"#",children:w.jsx("i",{className:"bx bxl-facebook"})}),w.jsx("a",{href:"#",children:w.jsx("i",{className:"bx bxl-github"})}),w.jsx("a",{href:"#",children:w.jsx("i",{className:"bx bxl-linkedin"})})]})]})}),w.jsxs("div",{className:Ze.toggleBox,children:[w.jsxs("div",{className:`${Ze.togglePanel} ${Ze.toggleLeft}`,children:[w.jsx("h1",{children:"Hello, Welcome!"}),w.jsx("p",{children:"Don't have an account?"}),w.jsx("button",{className:Ze.btn,onClick:t,children:"Register"})]}),w.jsxs("div",{className:`${Ze.togglePanel} ${Ze.toggleRight}`,children:[w.jsx("h1",{children:"Welcome Back!"}),w.jsx("p",{children:"Already have an account?"}),w.jsx("button",{className:Ze.btn,onClick:r,children:"Login"})]})]})]})})};function sa(n,e=0){return e>0?I.lazy(()=>Promise.all([n(),new Promise(t=>setTimeout(t,e))]).then(([t])=>t)):I.lazy(async()=>{try{return await n()}catch(t){return console.error("Error loading component:",t),{}}})}const Y$=sa(()=>Zo(()=>import("./designer-CHh5XkLv.js"),[])),X$=sa(()=>Zo(()=>import("./profile-DqZ01z-T.js"),[])),J$=sa(()=>Zo(()=>import("./projectsDashboard-BuyiPJed.js"),[])),Z$=sa(()=>Zo(()=>import("./CreateProject-Bxc80SRI.js"),[])),e8=sa(()=>Zo(()=>import("./MessagePage-CXRJxY9L.js"),[])),t8=sa(()=>Zo(()=>import("./AdminDashboard-HQLVDuAq.js"),[])),n8=sa(()=>Zo(()=>import("./ProductForm-DtVlZe1l.js"),[])),ZI=({children:n})=>{const{currentUser:e}=ia(),{profile:t}=I.useContext(sp);return!e||!(t!=null&&t.isAdmin)?null:n},r8=document.getElementById("root"),i8=_k.createRoot(r8);i8.render(w.jsx(I.StrictMode,{children:w.jsx(zj,{children:w.jsx(qj,{children:w.jsx(Qj,{children:w.jsx(Db,{basename:"/Ureno_webdesign/",children:w.jsx(I.Suspense,{fallback:w.jsx(Yj,{}),children:w.jsxs(cb,{children:[w.jsx(on,{path:"/",element:w.jsx(TU,{})}),w.jsx(on,{path:"/product-page",element:w.jsx(SU,{})}),w.jsx(on,{path:"/productDetail/:productId",element:w.jsx(h5,{})}),w.jsx(on,{path:"/designerPage",element:w.jsx(Y$,{})}),w.jsx(on,{path:"/ProfileDashboard",element:w.jsx(X$,{})}),w.jsx(on,{path:"/edit-profile",element:w.jsx(D$,{})}),w.jsx(on,{path:"/sign-in",element:w.jsx(u5,{})}),w.jsx(on,{path:"/Login",element:w.jsx(Q$,{})}),w.jsx(on,{path:"/sign-up",element:w.jsx(d5,{})}),w.jsx(on,{path:"/admin",element:w.jsx(ZI,{children:w.jsx(t8,{})})}),w.jsx(on,{path:"/admin/add",element:w.jsx(ZI,{children:w.jsx(n8,{})})}),w.jsx(on,{path:"/projects",element:w.jsx(J$,{})}),w.jsx(on,{path:"/projects/new",element:w.jsx(Z$,{})}),w.jsx(on,{path:"/savedItems",element:w.jsx(O$,{})}),w.jsx(on,{path:"/messages",element:w.jsx(e8,{})})]})})})})})})}));export{R$ as A,mf as B,ov as F,lr as L,_v as N,Et as a,Zs as b,XA as c,sA as d,Hj as e,h8 as f,Rx as g,Bj as h,$x as i,w as j,ia as k,c8 as l,l8 as m,gl as n,eV as o,Z4 as p,Q4 as q,I as r,d8 as s,Lc as t,Nt as u,u8 as v,Y4 as w,P$ as x,A$ as y,x$ as z};
