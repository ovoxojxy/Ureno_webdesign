(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function hf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vm={exports:{}},Tu={},wm={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function P2(){if(pw)return Le;pw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function R(z,Y,fe){this.props=z,this.context=Y,this.refs=b,this.updater=fe||S}R.prototype.isReactComponent={},R.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=R.prototype;function B(z,Y,fe){this.props=z,this.context=Y,this.refs=b,this.updater=fe||S}var $=B.prototype=new F;$.constructor=B,x($,R.prototype),$.isPureReactComponent=!0;var q=Array.isArray,X=Object.prototype.hasOwnProperty,Z={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function P(z,Y,fe){var Ie,Ae={},Oe=null,Ve=null;if(Y!=null)for(Ie in Y.ref!==void 0&&(Ve=Y.ref),Y.key!==void 0&&(Oe=""+Y.key),Y)X.call(Y,Ie)&&!N.hasOwnProperty(Ie)&&(Ae[Ie]=Y[Ie]);var De=arguments.length-2;if(De===1)Ae.children=fe;else if(1<De){for(var Qe=Array(De),Ct=0;Ct<De;Ct++)Qe[Ct]=arguments[Ct+2];Ae.children=Qe}if(z&&z.defaultProps)for(Ie in De=z.defaultProps,De)Ae[Ie]===void 0&&(Ae[Ie]=De[Ie]);return{$$typeof:n,type:z,key:Oe,ref:Ve,props:Ae,_owner:Z.current}}function k(z,Y){return{$$typeof:n,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return Y[fe]})}var V=/\/+/g;function O(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):Y.toString(36)}function le(z,Y,fe,Ie,Ae){var Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var Ve=!1;if(z===null)Ve=!0;else switch(Oe){case"string":case"number":Ve=!0;break;case"object":switch(z.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=z,Ae=Ae(Ve),z=Ie===""?"."+O(Ve,0):Ie,q(Ae)?(fe="",z!=null&&(fe=z.replace(V,"$&/")+"/"),le(Ae,Y,fe,"",function(Ct){return Ct})):Ae!=null&&(L(Ae)&&(Ae=k(Ae,fe+(!Ae.key||Ve&&Ve.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+z)),Y.push(Ae)),1;if(Ve=0,Ie=Ie===""?".":Ie+":",q(z))for(var De=0;De<z.length;De++){Oe=z[De];var Qe=Ie+O(Oe,De);Ve+=le(Oe,Y,fe,Qe,Ae)}else if(Qe=T(z),typeof Qe=="function")for(z=Qe.call(z),De=0;!(Oe=z.next()).done;)Oe=Oe.value,Qe=Ie+O(Oe,De++),Ve+=le(Oe,Y,fe,Qe,Ae);else if(Oe==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Se(z,Y,fe){if(z==null)return z;var Ie=[],Ae=0;return le(z,Ie,"","",function(Oe){return Y.call(fe,Oe,Ae++)}),Ie}function xe(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var Te={current:null},ie={transition:null},ue={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Z};function se(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Se,forEach:function(z,Y,fe){Se(z,function(){Y.apply(this,arguments)},fe)},count:function(z){var Y=0;return Se(z,function(){Y++}),Y},toArray:function(z){return Se(z,function(Y){return Y})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Le.Component=R,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=B,Le.StrictMode=r,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Le.act=se,Le.cloneElement=function(z,Y,fe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ie=x({},z.props),Ae=z.key,Oe=z.ref,Ve=z._owner;if(Y!=null){if(Y.ref!==void 0&&(Oe=Y.ref,Ve=Z.current),Y.key!==void 0&&(Ae=""+Y.key),z.type&&z.type.defaultProps)var De=z.type.defaultProps;for(Qe in Y)X.call(Y,Qe)&&!N.hasOwnProperty(Qe)&&(Ie[Qe]=Y[Qe]===void 0&&De!==void 0?De[Qe]:Y[Qe])}var Qe=arguments.length-2;if(Qe===1)Ie.children=fe;else if(1<Qe){De=Array(Qe);for(var Ct=0;Ct<Qe;Ct++)De[Ct]=arguments[Ct+2];Ie.children=De}return{$$typeof:n,type:z.type,key:Ae,ref:Oe,props:Ie,_owner:Ve}},Le.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Le.createElement=P,Le.createFactory=function(z){var Y=P.bind(null,z);return Y.type=z,Y},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:c,render:z}},Le.isValidElement=L,Le.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:xe}},Le.memo=function(z,Y){return{$$typeof:p,type:z,compare:Y===void 0?null:Y}},Le.startTransition=function(z){var Y=ie.transition;ie.transition={};try{z()}finally{ie.transition=Y}},Le.unstable_act=se,Le.useCallback=function(z,Y){return Te.current.useCallback(z,Y)},Le.useContext=function(z){return Te.current.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z){return Te.current.useDeferredValue(z)},Le.useEffect=function(z,Y){return Te.current.useEffect(z,Y)},Le.useId=function(){return Te.current.useId()},Le.useImperativeHandle=function(z,Y,fe){return Te.current.useImperativeHandle(z,Y,fe)},Le.useInsertionEffect=function(z,Y){return Te.current.useInsertionEffect(z,Y)},Le.useLayoutEffect=function(z,Y){return Te.current.useLayoutEffect(z,Y)},Le.useMemo=function(z,Y){return Te.current.useMemo(z,Y)},Le.useReducer=function(z,Y,fe){return Te.current.useReducer(z,Y,fe)},Le.useRef=function(z){return Te.current.useRef(z)},Le.useState=function(z){return Te.current.useState(z)},Le.useSyncExternalStore=function(z,Y,fe){return Te.current.useSyncExternalStore(z,Y,fe)},Le.useTransition=function(){return Te.current.useTransition()},Le.version="18.3.1",Le}var mw;function ny(){return mw||(mw=1,wm.exports=P2()),wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function k2(){if(gw)return Tu;gw=1;var n=ny(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,v={},T=null,S=null;p!==void 0&&(T=""+p),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:c,key:T,ref:S,props:v,_owner:i.current}}return Tu.Fragment=t,Tu.jsx=l,Tu.jsxs=l,Tu}var yw;function b2(){return yw||(yw=1,vm.exports=k2()),vm.exports}var w=b2(),C=ny();const gn=hf(C);var Zd={},Em={exports:{}},Rn={},Tm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function N2(){return _w||(_w=1,function(n){function e(ie,ue){var se=ie.length;ie.push(ue);e:for(;0<se;){var z=se-1>>>1,Y=ie[z];if(0<i(Y,ue))ie[z]=ue,ie[se]=Y,se=z;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ue=ie[0],se=ie.pop();if(se!==ue){ie[0]=se;e:for(var z=0,Y=ie.length,fe=Y>>>1;z<fe;){var Ie=2*(z+1)-1,Ae=ie[Ie],Oe=Ie+1,Ve=ie[Oe];if(0>i(Ae,se))Oe<Y&&0>i(Ve,Ae)?(ie[z]=Ve,ie[Oe]=se,z=Oe):(ie[z]=Ae,ie[Ie]=se,z=Ie);else if(Oe<Y&&0>i(Ve,se))ie[z]=Ve,ie[Oe]=se,z=Oe;else break e}}return ue}function i(ie,ue){var se=ie.sortIndex-ue.sortIndex;return se!==0?se:ie.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,v=null,T=3,S=!1,x=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ie){for(var ue=t(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=ie)r(p),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=t(p)}}function q(ie){if(b=!1,$(ie),!x)if(t(h)!==null)x=!0,xe(X);else{var ue=t(p);ue!==null&&Te(q,ue.startTime-ie)}}function X(ie,ue){x=!1,b&&(b=!1,F(P),P=-1),S=!0;var se=T;try{for($(ue),v=t(h);v!==null&&(!(v.expirationTime>ue)||ie&&!M());){var z=v.callback;if(typeof z=="function"){v.callback=null,T=v.priorityLevel;var Y=z(v.expirationTime<=ue);ue=n.unstable_now(),typeof Y=="function"?v.callback=Y:v===t(h)&&r(h),$(ue)}else r(h);v=t(h)}if(v!==null)var fe=!0;else{var Ie=t(p);Ie!==null&&Te(q,Ie.startTime-ue),fe=!1}return fe}finally{v=null,T=se,S=!1}}var Z=!1,N=null,P=-1,k=5,L=-1;function M(){return!(n.unstable_now()-L<k)}function V(){if(N!==null){var ie=n.unstable_now();L=ie;var ue=!0;try{ue=N(!0,ie)}finally{ue?O():(Z=!1,N=null)}}else Z=!1}var O;if(typeof B=="function")O=function(){B(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=V,O=function(){Se.postMessage(null)}}else O=function(){R(V,0)};function xe(ie){N=ie,Z||(Z=!0,O())}function Te(ie,ue){P=R(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){x||S||(x=!0,xe(X))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var se=T;T=ue;try{return ie()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=T;T=ie;try{return ue()}finally{T=se}},n.unstable_scheduleCallback=function(ie,ue,se){var z=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?z+se:z):se=z,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,ie={id:g++,callback:ue,priorityLevel:ie,startTime:se,expirationTime:Y,sortIndex:-1},se>z?(ie.sortIndex=se,e(p,ie),t(h)===null&&ie===t(p)&&(b?(F(P),P=-1):b=!0,Te(q,se-z))):(ie.sortIndex=Y,e(h,ie),x||S||(x=!0,xe(X))),ie},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ie){var ue=T;return function(){var se=T;T=ue;try{return ie.apply(this,arguments)}finally{T=se}}}}(Im)),Im}var vw;function O2(){return vw||(vw=1,Tm.exports=N2()),Tm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function D2(){if(ww)return Rn;ww=1;var n=ny(),e=O2();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function T(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function S(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,o,u,f){if(o===null||typeof o>"u"||S(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,u,f,m,_,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,B);R[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,B);R[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,B);R[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,o,u,f){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,u,m,f)&&(u=null),f||m===null?T(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Z=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,z;function Y(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var fe=!1;function Ie(s,o){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(s,[],o)}else{try{o.call()}catch(G){f=G}s.call(o.prototype)}else{try{throw Error()}catch(G){f=G}s()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),_=f.stack.split(`
`),I=m.length-1,D=_.length-1;1<=I&&0<=D&&m[I]!==_[D];)D--;for(;1<=I&&0<=D;I--,D--)if(m[I]!==_[D]){if(I!==1||D!==1)do if(I--,D--,0>D||m[I]!==_[D]){var j=`
`+m[I].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=I&&0<=D);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Y(s):""}function Ae(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ie(s.type,!1),s;case 11:return s=Ie(s.type.render,!1),s;case 1:return s=Ie(s.type,!0),s;default:return""}}function Oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case Z:return"Portal";case k:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return o=s.displayName||null,o!==null?o:Oe(s.type)||"Memo";case xe:o=s._payload,s=s._init;try{return Oe(s(o))}catch{}}return null}function Ve(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ct(s){var o=Qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,_.call(this,I)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function On(s){s._valueTracker||(s._valueTracker=Ct(s))}function Hi(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=Qe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function cr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function li(s,o){var u=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function qi(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=De(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ki(s,o){o=o.checked,o!=null&&$(s,"checked",o,!1)}function Gi(s,o){Ki(s,o);var u=De(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Qi(s,o.type,u):o.hasOwnProperty("defaultValue")&&Qi(s,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Zo(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Qi(s,o,u){(o!=="number"||cr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Ht=Array.isArray;function _n(s,o,u,f){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+De(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Yi(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ui(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Ht(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:De(u)}}function Lr(s,o){var u=De(o.value),f=De(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Xi(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function mt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?mt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Hn,Nl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Hn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ji(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},no=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(s){no.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),to[o]=to[s]})});function Ol(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||to.hasOwnProperty(s)&&to[s]?(""+o).trim():o+"px"}function Dl(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ol(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var Ll=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(s,o){if(o){if(Ll[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Vl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function ea(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ta=null,qn=null,Mr=null;function na(s){if(s=au(s)){if(typeof ta!="function")throw Error(t(280));var o=s.stateNode;o&&(o=pd(o),ta(s.stateNode,s.type,o))}}function Vr(s){qn?Mr?Mr.push(s):Mr=[s]:qn=s}function Fl(){if(qn){var s=qn,o=Mr;if(Mr=qn=null,na(s),o)for(s=0;s<o.length;s++)na(o[s])}}function io(s,o){return s(o)}function jl(){}var ci=!1;function Ul(s,o,u){if(ci)return s(o,u);ci=!0;try{return io(s,o,u)}finally{ci=!1,(qn!==null||Mr!==null)&&(jl(),Fl())}}function wt(s,o){var u=s.stateNode;if(u===null)return null;var f=pd(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var ra=!1;if(c)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){ra=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{ra=!1}function so(s,o,u,f,m,_,I,D,j){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(te){this.onError(te)}}var oo=!1,ia=null,hr=!1,Bl=null,Kf={onError:function(s){oo=!0,ia=s}};function sa(s,o,u,f,m,_,I,D,j){oo=!1,ia=null,so.apply(Kf,arguments)}function jc(s,o,u,f,m,_,I,D,j){if(sa.apply(this,arguments),oo){if(oo){var G=ia;oo=!1,ia=null}else throw Error(t(198));hr||(hr=!0,Bl=G)}}function fr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function ao(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function pr(s){if(fr(s)!==s)throw Error(t(188))}function Uc(s){var o=s.alternate;if(!o){if(o=fr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,f=o;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return pr(m),s;if(_===f)return pr(m),o;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=_;else{for(var I=!1,D=m.child;D;){if(D===u){I=!0,u=m,f=_;break}if(D===f){I=!0,f=m,u=_;break}D=D.sibling}if(!I){for(D=_.child;D;){if(D===u){I=!0,u=_,f=m;break}if(D===f){I=!0,f=_,u=m;break}D=D.sibling}if(!I)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function $l(s){return s=Uc(s),s!==null?oa(s):null}function oa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=oa(s);if(o!==null)return o;s=s.sibling}return null}var aa=e.unstable_scheduleCallback,zl=e.unstable_cancelCallback,Bc=e.unstable_shouldYield,Gf=e.unstable_requestPaint,tt=e.unstable_now,$c=e.unstable_getCurrentPriorityLevel,lo=e.unstable_ImmediatePriority,Zi=e.unstable_UserBlockingPriority,Kn=e.unstable_NormalPriority,Wl=e.unstable_LowPriority,zc=e.unstable_IdlePriority,uo=null,Dn=null;function Wc(s){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(uo,s,void 0,(s.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:qc,Hl=Math.log,Hc=Math.LN2;function qc(s){return s>>>=0,s===0?32:31-(Hl(s)/Hc|0)|0}var la=64,ua=4194304;function es(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function co(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,_=s.pingedLanes,I=u&268435455;if(I!==0){var D=I&~m;D!==0?f=es(D):(_&=I,_!==0&&(f=es(_)))}else I=u&~m,I!==0?f=es(I):_!==0&&(f=es(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-dn(o),m=1<<u,f|=s[u],o&=~m;return f}function Qf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var I=31-dn(_),D=1<<I,j=m[I];j===-1?((D&u)===0||(D&f)!==0)&&(m[I]=Qf(D,o)):j<=o&&(s.expiredLanes|=D),_&=~D}}function Ln(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ho(){var s=la;return la<<=1,(la&4194240)===0&&(la=64),s}function ts(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ns(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-dn(o),s[o]=u}function et(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-dn(u),_=1<<m;o[m]=0,f[m]=-1,s[m]=-1,u&=~_}}function rs(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-dn(u),m=1<<f;m&o|s[f]&o&&(s[f]|=o),u&=~m}}var je=0;function is(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Kc,ca,Gc,Qc,Yc,ql=!1,Fr=[],qt=null,mr=null,gr=null,ss=new Map,Gn=new Map,jr=[],Yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xc(s,o){switch(s){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":ss.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(o.pointerId)}}function vn(s,o,u,f,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},o!==null&&(o=au(o),o!==null&&ca(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Xf(s,o,u,f,m){switch(o){case"focusin":return qt=vn(qt,s,o,u,f,m),!0;case"dragenter":return mr=vn(mr,s,o,u,f,m),!0;case"mouseover":return gr=vn(gr,s,o,u,f,m),!0;case"pointerover":var _=m.pointerId;return ss.set(_,vn(ss.get(_)||null,s,o,u,f,m)),!0;case"gotpointercapture":return _=m.pointerId,Gn.set(_,vn(Gn.get(_)||null,s,o,u,f,m)),!0}return!1}function Jc(s){var o=yo(s.target);if(o!==null){var u=fr(o);if(u!==null){if(o=u.tag,o===13){if(o=ao(u),o!==null){s.blockedOn=o,Yc(s.priority,function(){Gc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=da(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);ro=f,u.target.dispatchEvent(f),ro=null}else return o=au(u),o!==null&&ca(o),s.blockedOn=u,!1;o.shift()}return!0}function fo(s,o,u){hi(s)&&u.delete(o)}function Zc(){ql=!1,qt!==null&&hi(qt)&&(qt=null),mr!==null&&hi(mr)&&(mr=null),gr!==null&&hi(gr)&&(gr=null),ss.forEach(fo),Gn.forEach(fo)}function yr(s,o){s.blockedOn===o&&(s.blockedOn=null,ql||(ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zc)))}function _r(s){function o(m){return yr(m,s)}if(0<Fr.length){yr(Fr[0],s);for(var u=1;u<Fr.length;u++){var f=Fr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(qt!==null&&yr(qt,s),mr!==null&&yr(mr,s),gr!==null&&yr(gr,s),ss.forEach(o),Gn.forEach(o),u=0;u<jr.length;u++)f=jr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<jr.length&&(u=jr[0],u.blockedOn===null);)Jc(u),u.blockedOn===null&&jr.shift()}var fi=q.ReactCurrentBatchConfig,os=!0;function ut(s,o,u,f){var m=je,_=fi.transition;fi.transition=null;try{je=1,Kl(s,o,u,f)}finally{je=m,fi.transition=_}}function Jf(s,o,u,f){var m=je,_=fi.transition;fi.transition=null;try{je=4,Kl(s,o,u,f)}finally{je=m,fi.transition=_}}function Kl(s,o,u,f){if(os){var m=da(s,o,u,f);if(m===null)up(s,o,f,po,u),Xc(s,f);else if(Xf(m,s,o,u,f))f.stopPropagation();else if(Xc(s,f),o&4&&-1<Yf.indexOf(s)){for(;m!==null;){var _=au(m);if(_!==null&&Kc(_),_=da(s,o,u,f),_===null&&up(s,o,f,po,u),_===m)break;m=_}m!==null&&f.stopPropagation()}else up(s,o,f,null,u)}}var po=null;function da(s,o,u,f){if(po=null,s=ea(f),s=yo(s),s!==null)if(o=fr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=ao(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return po=s,null}function Gl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($c()){case lo:return 1;case Zi:return 4;case Kn:case Wl:return 16;case zc:return 536870912;default:return 16}default:return 16}}var Mn=null,ha=null,wn=null;function Ql(){if(wn)return wn;var s,o=ha,u=o.length,f,m="value"in Mn?Mn.value:Mn.textContent,_=m.length;for(s=0;s<u&&o[s]===m[s];s++);var I=u-s;for(f=1;f<=I&&o[u-f]===m[_-f];f++);return wn=m.slice(s,1<f?1-f:void 0)}function fa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ur(){return!0}function Yl(){return!1}function Kt(s){function o(u,f,m,_,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ur:Yl,this.isPropagationStopped=Yl,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),o}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Kt(vr),Br=se({},vr,{view:0,detail:0}),Zf=Kt(Br),ma,pi,as,mo=se({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==as&&(as&&s.type==="mousemove"?(ma=s.screenX-as.screenX,pi=s.screenY-as.screenY):pi=ma=0,as=s),ma)},movementY:function(s){return"movementY"in s?s.movementY:pi}}),ga=Kt(mo),Xl=se({},mo,{dataTransfer:0}),ed=Kt(Xl),ya=se({},Br,{relatedTarget:0}),_a=Kt(ya),td=se({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),mi=Kt(td),nd=se({},vr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rd=Kt(nd),id=se({},vr,{data:0}),Jl=Kt(id),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function od(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=sd[s])?!!o[s]:!1}function $r(){return od}var d=se({},Br,{key:function(s){if(s.key){var o=va[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=fa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(s){return s.type==="keypress"?fa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Kt(d),E=se({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Kt(E),W=se({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),Q=Kt(W),ae=se({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Kt(ae),Pt=se({},mo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Kt(Pt),Mt=[9,13,27,32],St=c&&"CompositionEvent"in window,Qn=null;c&&"documentMode"in document&&(Qn=document.documentMode);var Vn=c&&"TextEvent"in window&&!Qn,go=c&&(!St||Qn&&8<Qn&&11>=Qn),wa=" ",lv=!1;function uv(s,o){switch(s){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ea=!1;function RA(s,o){switch(s){case"compositionend":return cv(o);case"keypress":return o.which!==32?null:(lv=!0,wa);case"textInput":return s=o.data,s===wa&&lv?null:s;default:return null}}function xA(s,o){if(Ea)return s==="compositionend"||!St&&uv(s,o)?(s=Ql(),wn=ha=Mn=null,Ea=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return go&&o.locale!=="ko"?null:o.data;default:return null}}var AA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!AA[s.type]:o==="textarea"}function hv(s,o,u,f){Vr(f),o=dd(o,"onChange"),0<o.length&&(u=new pa("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var Zl=null,eu=null;function PA(s){kv(s,0)}function ad(s){var o=Ra(s);if(Hi(o))return s}function kA(s,o){if(s==="change")return o}var fv=!1;if(c){var ep;if(c){var tp="oninput"in document;if(!tp){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),tp=typeof pv.oninput=="function"}ep=tp}else ep=!1;fv=ep&&(!document.documentMode||9<document.documentMode)}function mv(){Zl&&(Zl.detachEvent("onpropertychange",gv),eu=Zl=null)}function gv(s){if(s.propertyName==="value"&&ad(eu)){var o=[];hv(o,eu,s,ea(s)),Ul(PA,o)}}function bA(s,o,u){s==="focusin"?(mv(),Zl=o,eu=u,Zl.attachEvent("onpropertychange",gv)):s==="focusout"&&mv()}function NA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ad(eu)}function OA(s,o){if(s==="click")return ad(o)}function DA(s,o){if(s==="input"||s==="change")return ad(o)}function LA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var wr=typeof Object.is=="function"?Object.is:LA;function tu(s,o){if(wr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!wr(s[m],o[m]))return!1}return!0}function yv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _v(s,o){var u=yv(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yv(u)}}function vv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?vv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function wv(){for(var s=window,o=cr();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=cr(s.document)}return o}function np(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function MA(s){var o=wv(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&vv(u.ownerDocument.documentElement,u)){if(f!==null&&np(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!s.extend&&_>f&&(m=f,f=_,_=m),m=_v(u,_);var I=_v(u,f);m&&I&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),_>f?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var VA=c&&"documentMode"in document&&11>=document.documentMode,Ta=null,rp=null,nu=null,ip=!1;function Ev(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ip||Ta==null||Ta!==cr(f)||(f=Ta,"selectionStart"in f&&np(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),nu&&tu(nu,f)||(nu=f,f=dd(rp,"onSelect"),0<f.length&&(o=new pa("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=Ta)))}function ld(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ia={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},sp={},Tv={};c&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ud(s){if(sp[s])return sp[s];if(!Ia[s])return s;var o=Ia[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Tv)return sp[s]=o[u];return s}var Iv=ud("animationend"),Cv=ud("animationiteration"),Sv=ud("animationstart"),Rv=ud("transitionend"),xv=new Map,Av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(s,o){xv.set(s,o),a(o,[s])}for(var op=0;op<Av.length;op++){var ap=Av[op],FA=ap.toLowerCase(),jA=ap[0].toUpperCase()+ap.slice(1);ls(FA,"on"+jA)}ls(Iv,"onAnimationEnd"),ls(Cv,"onAnimationIteration"),ls(Sv,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(Rv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function Pv(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,jc(f,o,void 0,s),s.currentTarget=null}function kv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var I=f.length-1;0<=I;I--){var D=f[I],j=D.instance,G=D.currentTarget;if(D=D.listener,j!==_&&m.isPropagationStopped())break e;Pv(m,D,G),_=j}else for(I=0;I<f.length;I++){if(D=f[I],j=D.instance,G=D.currentTarget,D=D.listener,j!==_&&m.isPropagationStopped())break e;Pv(m,D,G),_=j}}}if(hr)throw s=Bl,hr=!1,Bl=null,s}function rt(s,o){var u=o[mp];u===void 0&&(u=o[mp]=new Set);var f=s+"__bubble";u.has(f)||(bv(o,s,2,!1),u.add(f))}function lp(s,o,u){var f=0;o&&(f|=4),bv(u,s,f,o)}var cd="_reactListening"+Math.random().toString(36).slice(2);function iu(s){if(!s[cd]){s[cd]=!0,r.forEach(function(u){u!=="selectionchange"&&(UA.has(u)||lp(u,!1,s),lp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[cd]||(o[cd]=!0,lp("selectionchange",!1,o))}}function bv(s,o,u,f){switch(Gl(o)){case 1:var m=ut;break;case 4:m=Jf;break;default:m=Kl}u=m.bind(null,o,u,s),m=void 0,!ra||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function up(s,o,u,f,m){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var D=f.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;I=I.return}for(;D!==null;){if(I=yo(D),I===null)return;if(j=I.tag,j===5||j===6){f=_=I;continue e}D=D.parentNode}}f=f.return}Ul(function(){var G=_,te=ea(u),re=[];e:{var ee=xv.get(s);if(ee!==void 0){var de=pa,me=s;switch(s){case"keypress":if(fa(u)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":me="focus",de=_a;break;case"focusout":me="blur",de=_a;break;case"beforeblur":case"afterblur":de=_a;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case Iv:case Cv:case Sv:de=mi;break;case Rv:de=Je;break;case"scroll":de=Zf;break;case"wheel":de=$e;break;case"copy":case"cut":case"paste":de=rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=A}var ge=(o&4)!==0,Et=!ge&&s==="scroll",H=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var U=G,K;U!==null;){K=U;var oe=K.stateNode;if(K.tag===5&&oe!==null&&(K=oe,H!==null&&(oe=wt(U,H),oe!=null&&ge.push(su(U,oe,K)))),Et)break;U=U.return}0<ge.length&&(ee=new de(ee,me,null,u,te),re.push({event:ee,listeners:ge}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ee&&u!==ro&&(me=u.relatedTarget||u.fromElement)&&(yo(me)||me[gi]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(me=u.relatedTarget||u.toElement,de=G,me=me?yo(me):null,me!==null&&(Et=fr(me),me!==Et||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=G),de!==me)){if(ge=ga,oe="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(ge=A,oe="onPointerLeave",H="onPointerEnter",U="pointer"),Et=de==null?ee:Ra(de),K=me==null?ee:Ra(me),ee=new ge(oe,U+"leave",de,u,te),ee.target=Et,ee.relatedTarget=K,oe=null,yo(te)===G&&(ge=new ge(H,U+"enter",me,u,te),ge.target=K,ge.relatedTarget=Et,oe=ge),Et=oe,de&&me)t:{for(ge=de,H=me,U=0,K=ge;K;K=Ca(K))U++;for(K=0,oe=H;oe;oe=Ca(oe))K++;for(;0<U-K;)ge=Ca(ge),U--;for(;0<K-U;)H=Ca(H),K--;for(;U--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=Ca(ge),H=Ca(H)}ge=null}else ge=null;de!==null&&Nv(re,ee,de,ge,!1),me!==null&&Et!==null&&Nv(re,Et,me,ge,!0)}}e:{if(ee=G?Ra(G):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ye=kA;else if(dv(ee))if(fv)ye=DA;else{ye=NA;var ve=bA}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=OA);if(ye&&(ye=ye(s,G))){hv(re,ye,u,te);break e}ve&&ve(s,ee,G),s==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&Qi(ee,"number",ee.value)}switch(ve=G?Ra(G):window,s){case"focusin":(dv(ve)||ve.contentEditable==="true")&&(Ta=ve,rp=G,nu=null);break;case"focusout":nu=rp=Ta=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,Ev(re,u,te);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":Ev(re,u,te)}var we;if(St)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ea?uv(s,u)&&(Pe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Pe="onCompositionStart");Pe&&(go&&u.locale!=="ko"&&(Ea||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ea&&(we=Ql()):(Mn=te,ha="value"in Mn?Mn.value:Mn.textContent,Ea=!0)),ve=dd(G,Pe),0<ve.length&&(Pe=new Jl(Pe,s,null,u,te),re.push({event:Pe,listeners:ve}),we?Pe.data=we:(we=cv(u),we!==null&&(Pe.data=we)))),(we=Vn?RA(s,u):xA(s,u))&&(G=dd(G,"onBeforeInput"),0<G.length&&(te=new Jl("onBeforeInput","beforeinput",null,u,te),re.push({event:te,listeners:G}),te.data=we))}kv(re,o)})}function su(s,o,u){return{instance:s,listener:o,currentTarget:u}}function dd(s,o){for(var u=o+"Capture",f=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=wt(s,u),_!=null&&f.unshift(su(s,_,m)),_=wt(s,o),_!=null&&f.push(su(s,_,m))),s=s.return}return f}function Ca(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Nv(s,o,u,f,m){for(var _=o._reactName,I=[];u!==null&&u!==f;){var D=u,j=D.alternate,G=D.stateNode;if(j!==null&&j===f)break;D.tag===5&&G!==null&&(D=G,m?(j=wt(u,_),j!=null&&I.unshift(su(u,j,D))):m||(j=wt(u,_),j!=null&&I.push(su(u,j,D)))),u=u.return}I.length!==0&&s.push({event:o,listeners:I})}var BA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function Ov(s){return(typeof s=="string"?s:""+s).replace(BA,`
`).replace($A,"")}function hd(s,o,u){if(o=Ov(o),Ov(s)!==o&&u)throw Error(t(425))}function fd(){}var cp=null,dp=null;function hp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(s){return Dv.resolve(null).then(s).catch(HA)}:fp;function HA(s){setTimeout(function(){throw s})}function pp(s,o){var u=o,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),_r(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);_r(o)}function us(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Lv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),zr="__reactFiber$"+Sa,ou="__reactProps$"+Sa,gi="__reactContainer$"+Sa,mp="__reactEvents$"+Sa,qA="__reactListeners$"+Sa,KA="__reactHandles$"+Sa;function yo(s){var o=s[zr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[gi]||u[zr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Lv(s);s!==null;){if(u=s[zr])return u;s=Lv(s)}return o}s=u,u=s.parentNode}return null}function au(s){return s=s[zr]||s[gi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ra(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function pd(s){return s[ou]||null}var gp=[],xa=-1;function cs(s){return{current:s}}function it(s){0>xa||(s.current=gp[xa],gp[xa]=null,xa--)}function nt(s,o){xa++,gp[xa]=s.current,s.current=o}var ds={},Zt=cs(ds),En=cs(!1),_o=ds;function Aa(s,o){var u=s.type.contextTypes;if(!u)return ds;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=o[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function Tn(s){return s=s.childContextTypes,s!=null}function md(){it(En),it(Zt)}function Mv(s,o,u){if(Zt.current!==ds)throw Error(t(168));nt(Zt,o),nt(En,u)}function Vv(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,Ve(s)||"Unknown",m));return se({},u,f)}function gd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ds,_o=Zt.current,nt(Zt,s),nt(En,En.current),!0}function Fv(s,o,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=Vv(s,o,_o),f.__reactInternalMemoizedMergedChildContext=s,it(En),it(Zt),nt(Zt,s)):it(En),nt(En,u)}var yi=null,yd=!1,yp=!1;function jv(s){yi===null?yi=[s]:yi.push(s)}function GA(s){yd=!0,jv(s)}function hs(){if(!yp&&yi!==null){yp=!0;var s=0,o=je;try{var u=yi;for(je=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}yi=null,yd=!1}catch(m){throw yi!==null&&(yi=yi.slice(s+1)),aa(lo,hs),m}finally{je=o,yp=!1}}return null}var Pa=[],ka=0,_d=null,vd=0,Yn=[],Xn=0,vo=null,_i=1,vi="";function wo(s,o){Pa[ka++]=vd,Pa[ka++]=_d,_d=s,vd=o}function Uv(s,o,u){Yn[Xn++]=_i,Yn[Xn++]=vi,Yn[Xn++]=vo,vo=s;var f=_i;s=vi;var m=32-dn(f)-1;f&=~(1<<m),u+=1;var _=32-dn(o)+m;if(30<_){var I=m-m%5;_=(f&(1<<I)-1).toString(32),f>>=I,m-=I,_i=1<<32-dn(o)+m|u<<m|f,vi=_+s}else _i=1<<_|u<<m|f,vi=s}function _p(s){s.return!==null&&(wo(s,1),Uv(s,1,0))}function vp(s){for(;s===_d;)_d=Pa[--ka],Pa[ka]=null,vd=Pa[--ka],Pa[ka]=null;for(;s===vo;)vo=Yn[--Xn],Yn[Xn]=null,vi=Yn[--Xn],Yn[Xn]=null,_i=Yn[--Xn],Yn[Xn]=null}var Fn=null,jn=null,ct=!1,Er=null;function Bv(s,o){var u=tr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function $v(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Fn=s,jn=us(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Fn=s,jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=vo!==null?{id:_i,overflow:vi}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=tr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Fn=s,jn=null,!0):!1;default:return!1}}function wp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ep(s){if(ct){var o=jn;if(o){var u=o;if(!$v(s,o)){if(wp(s))throw Error(t(418));o=us(u.nextSibling);var f=Fn;o&&$v(s,o)?Bv(f,u):(s.flags=s.flags&-4097|2,ct=!1,Fn=s)}}else{if(wp(s))throw Error(t(418));s.flags=s.flags&-4097|2,ct=!1,Fn=s}}}function zv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Fn=s}function wd(s){if(s!==Fn)return!1;if(!ct)return zv(s),ct=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!hp(s.type,s.memoizedProps)),o&&(o=jn)){if(wp(s))throw Wv(),Error(t(418));for(;o;)Bv(s,o),o=us(o.nextSibling)}if(zv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){jn=us(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}jn=null}}else jn=Fn?us(s.stateNode.nextSibling):null;return!0}function Wv(){for(var s=jn;s;)s=us(s.nextSibling)}function ba(){jn=Fn=null,ct=!1}function Tp(s){Er===null?Er=[s]:Er.push(s)}var QA=q.ReactCurrentBatchConfig;function lu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(I){var D=m.refs;I===null?delete D[_]:D[_]=I},o._stringRef=_,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Ed(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Hv(s){var o=s._init;return o(s._payload)}function qv(s){function o(H,U){if(s){var K=H.deletions;K===null?(H.deletions=[U],H.flags|=16):K.push(U)}}function u(H,U){if(!s)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function f(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=ws(H,U),H.index=0,H.sibling=null,H}function _(H,U,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<U?(H.flags|=2,U):K):(H.flags|=2,U)):(H.flags|=1048576,U)}function I(H){return s&&H.alternate===null&&(H.flags|=2),H}function D(H,U,K,oe){return U===null||U.tag!==6?(U=fm(K,H.mode,oe),U.return=H,U):(U=m(U,K),U.return=H,U)}function j(H,U,K,oe){var ye=K.type;return ye===N?te(H,U,K.props.children,oe,K.key):U!==null&&(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===xe&&Hv(ye)===U.type)?(oe=m(U,K.props),oe.ref=lu(H,U,K),oe.return=H,oe):(oe=Hd(K.type,K.key,K.props,null,H.mode,oe),oe.ref=lu(H,U,K),oe.return=H,oe)}function G(H,U,K,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=pm(K,H.mode,oe),U.return=H,U):(U=m(U,K.children||[]),U.return=H,U)}function te(H,U,K,oe,ye){return U===null||U.tag!==7?(U=Ao(K,H.mode,oe,ye),U.return=H,U):(U=m(U,K),U.return=H,U)}function re(H,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=fm(""+U,H.mode,K),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case X:return K=Hd(U.type,U.key,U.props,null,H.mode,K),K.ref=lu(H,null,U),K.return=H,K;case Z:return U=pm(U,H.mode,K),U.return=H,U;case xe:var oe=U._init;return re(H,oe(U._payload),K)}if(Ht(U)||ue(U))return U=Ao(U,H.mode,K,null),U.return=H,U;Ed(H,U)}return null}function ee(H,U,K,oe){var ye=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ye!==null?null:D(H,U,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X:return K.key===ye?j(H,U,K,oe):null;case Z:return K.key===ye?G(H,U,K,oe):null;case xe:return ye=K._init,ee(H,U,ye(K._payload),oe)}if(Ht(K)||ue(K))return ye!==null?null:te(H,U,K,oe,null);Ed(H,K)}return null}function de(H,U,K,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(K)||null,D(U,H,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return H=H.get(oe.key===null?K:oe.key)||null,j(U,H,oe,ye);case Z:return H=H.get(oe.key===null?K:oe.key)||null,G(U,H,oe,ye);case xe:var ve=oe._init;return de(H,U,K,ve(oe._payload),ye)}if(Ht(oe)||ue(oe))return H=H.get(K)||null,te(U,H,oe,ye,null);Ed(U,oe)}return null}function me(H,U,K,oe){for(var ye=null,ve=null,we=U,Pe=U=0,jt=null;we!==null&&Pe<K.length;Pe++){we.index>Pe?(jt=we,we=null):jt=we.sibling;var Ge=ee(H,we,K[Pe],oe);if(Ge===null){we===null&&(we=jt);break}s&&we&&Ge.alternate===null&&o(H,we),U=_(Ge,U,Pe),ve===null?ye=Ge:ve.sibling=Ge,ve=Ge,we=jt}if(Pe===K.length)return u(H,we),ct&&wo(H,Pe),ye;if(we===null){for(;Pe<K.length;Pe++)we=re(H,K[Pe],oe),we!==null&&(U=_(we,U,Pe),ve===null?ye=we:ve.sibling=we,ve=we);return ct&&wo(H,Pe),ye}for(we=f(H,we);Pe<K.length;Pe++)jt=de(we,H,Pe,K[Pe],oe),jt!==null&&(s&&jt.alternate!==null&&we.delete(jt.key===null?Pe:jt.key),U=_(jt,U,Pe),ve===null?ye=jt:ve.sibling=jt,ve=jt);return s&&we.forEach(function(Es){return o(H,Es)}),ct&&wo(H,Pe),ye}function ge(H,U,K,oe){var ye=ue(K);if(typeof ye!="function")throw Error(t(150));if(K=ye.call(K),K==null)throw Error(t(151));for(var ve=ye=null,we=U,Pe=U=0,jt=null,Ge=K.next();we!==null&&!Ge.done;Pe++,Ge=K.next()){we.index>Pe?(jt=we,we=null):jt=we.sibling;var Es=ee(H,we,Ge.value,oe);if(Es===null){we===null&&(we=jt);break}s&&we&&Es.alternate===null&&o(H,we),U=_(Es,U,Pe),ve===null?ye=Es:ve.sibling=Es,ve=Es,we=jt}if(Ge.done)return u(H,we),ct&&wo(H,Pe),ye;if(we===null){for(;!Ge.done;Pe++,Ge=K.next())Ge=re(H,Ge.value,oe),Ge!==null&&(U=_(Ge,U,Pe),ve===null?ye=Ge:ve.sibling=Ge,ve=Ge);return ct&&wo(H,Pe),ye}for(we=f(H,we);!Ge.done;Pe++,Ge=K.next())Ge=de(we,H,Pe,Ge.value,oe),Ge!==null&&(s&&Ge.alternate!==null&&we.delete(Ge.key===null?Pe:Ge.key),U=_(Ge,U,Pe),ve===null?ye=Ge:ve.sibling=Ge,ve=Ge);return s&&we.forEach(function(A2){return o(H,A2)}),ct&&wo(H,Pe),ye}function Et(H,U,K,oe){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case X:e:{for(var ye=K.key,ve=U;ve!==null;){if(ve.key===ye){if(ye=K.type,ye===N){if(ve.tag===7){u(H,ve.sibling),U=m(ve,K.props.children),U.return=H,H=U;break e}}else if(ve.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===xe&&Hv(ye)===ve.type){u(H,ve.sibling),U=m(ve,K.props),U.ref=lu(H,ve,K),U.return=H,H=U;break e}u(H,ve);break}else o(H,ve);ve=ve.sibling}K.type===N?(U=Ao(K.props.children,H.mode,oe,K.key),U.return=H,H=U):(oe=Hd(K.type,K.key,K.props,null,H.mode,oe),oe.ref=lu(H,U,K),oe.return=H,H=oe)}return I(H);case Z:e:{for(ve=K.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){u(H,U.sibling),U=m(U,K.children||[]),U.return=H,H=U;break e}else{u(H,U);break}else o(H,U);U=U.sibling}U=pm(K,H.mode,oe),U.return=H,H=U}return I(H);case xe:return ve=K._init,Et(H,U,ve(K._payload),oe)}if(Ht(K))return me(H,U,K,oe);if(ue(K))return ge(H,U,K,oe);Ed(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(u(H,U.sibling),U=m(U,K),U.return=H,H=U):(u(H,U),U=fm(K,H.mode,oe),U.return=H,H=U),I(H)):u(H,U)}return Et}var Na=qv(!0),Kv=qv(!1),Td=cs(null),Id=null,Oa=null,Ip=null;function Cp(){Ip=Oa=Id=null}function Sp(s){var o=Td.current;it(Td),s._currentValue=o}function Rp(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Da(s,o){Id=s,Ip=Oa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(In=!0),s.firstContext=null)}function Jn(s){var o=s._currentValue;if(Ip!==s)if(s={context:s,memoizedValue:o,next:null},Oa===null){if(Id===null)throw Error(t(308));Oa=s,Id.dependencies={lanes:0,firstContext:s}}else Oa=Oa.next=s;return o}var Eo=null;function xp(s){Eo===null?Eo=[s]:Eo.push(s)}function Gv(s,o,u,f){var m=o.interleaved;return m===null?(u.next=u,xp(o)):(u.next=m.next,m.next=u),o.interleaved=u,wi(s,f)}function wi(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var fs=!1;function Ap(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ei(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ps(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ke&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,wi(s,u)}return m=f.interleaved,m===null?(o.next=o,xp(f)):(o.next=m.next,m.next=o),f.interleaved=o,wi(s,u)}function Cd(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,rs(s,u)}}function Yv(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=I:_=_.next=I,u=u.next}while(u!==null);_===null?m=_=o:_=_.next=o}else m=_=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Sd(s,o,u,f){var m=s.updateQueue;fs=!1;var _=m.firstBaseUpdate,I=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var j=D,G=j.next;j.next=null,I===null?_=G:I.next=G,I=j;var te=s.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==I&&(D===null?te.firstBaseUpdate=G:D.next=G,te.lastBaseUpdate=j))}if(_!==null){var re=m.baseState;I=0,te=G=j=null,D=_;do{var ee=D.lane,de=D.eventTime;if((f&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var me=s,ge=D;switch(ee=o,de=u,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){re=me.call(de,re,ee);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ee=typeof me=="function"?me.call(de,re,ee):me,ee==null)break e;re=se({},re,ee);break e;case 2:fs=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[D]:ee.push(D))}else de={eventTime:de,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(G=te=de,j=re):te=te.next=de,I|=ee;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(j=re),m.baseState=j,m.firstBaseUpdate=G,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);Co|=I,s.lanes=I,s.memoizedState=re}}function Xv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var uu={},Wr=cs(uu),cu=cs(uu),du=cs(uu);function To(s){if(s===uu)throw Error(t(174));return s}function Pp(s,o){switch(nt(du,o),nt(cu,s),nt(Wr,uu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:gt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=gt(o,s)}it(Wr),nt(Wr,o)}function La(){it(Wr),it(cu),it(du)}function Jv(s){To(du.current);var o=To(Wr.current),u=gt(o,s.type);o!==u&&(nt(cu,s),nt(Wr,u))}function kp(s){cu.current===s&&(it(Wr),it(cu))}var ft=cs(0);function Rd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var bp=[];function Np(){for(var s=0;s<bp.length;s++)bp[s]._workInProgressVersionPrimary=null;bp.length=0}var xd=q.ReactCurrentDispatcher,Op=q.ReactCurrentBatchConfig,Io=0,pt=null,kt=null,Vt=null,Ad=!1,hu=!1,fu=0,YA=0;function en(){throw Error(t(321))}function Dp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!wr(s[u],o[u]))return!1;return!0}function Lp(s,o,u,f,m,_){if(Io=_,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,xd.current=s===null||s.memoizedState===null?e2:t2,s=u(f,m),hu){_=0;do{if(hu=!1,fu=0,25<=_)throw Error(t(301));_+=1,Vt=kt=null,o.updateQueue=null,xd.current=n2,s=u(f,m)}while(hu)}if(xd.current=bd,o=kt!==null&&kt.next!==null,Io=0,Vt=kt=pt=null,Ad=!1,o)throw Error(t(300));return s}function Mp(){var s=fu!==0;return fu=0,s}function Hr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?pt.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Zn(){if(kt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=Vt===null?pt.memoizedState:Vt.next;if(o!==null)Vt=o,kt=s;else{if(s===null)throw Error(t(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Vt===null?pt.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function pu(s,o){return typeof o=="function"?o(s):o}function Vp(s){var o=Zn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=kt,m=f.baseQueue,_=u.pending;if(_!==null){if(m!==null){var I=m.next;m.next=_.next,_.next=I}f.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,f=f.baseState;var D=I=null,j=null,G=_;do{var te=G.lane;if((Io&te)===te)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:s(f,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(D=j=re,I=f):j=j.next=re,pt.lanes|=te,Co|=te}G=G.next}while(G!==null&&G!==_);j===null?I=f:j.next=D,wr(f,o.memoizedState)||(In=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=j,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do _=m.lane,pt.lanes|=_,Co|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Fp(s){var o=Zn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,_=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do _=s(_,I.action),I=I.next;while(I!==m);wr(_,o.memoizedState)||(In=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function Zv(){}function e0(s,o){var u=pt,f=Zn(),m=o(),_=!wr(f.memoizedState,m);if(_&&(f.memoizedState=m,In=!0),f=f.queue,jp(r0.bind(null,u,f,s),[s]),f.getSnapshot!==o||_||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,mu(9,n0.bind(null,u,f,m,o),void 0,null),Ft===null)throw Error(t(349));(Io&30)!==0||t0(u,o,m)}return m}function t0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function n0(s,o,u,f){o.value=u,o.getSnapshot=f,i0(o)&&s0(s)}function r0(s,o,u){return u(function(){i0(o)&&s0(s)})}function i0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!wr(s,u)}catch{return!0}}function s0(s){var o=wi(s,1);o!==null&&Sr(o,s,1,-1)}function o0(s){var o=Hr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:s},o.queue=s,s=s.dispatch=ZA.bind(null,pt,s),[o.memoizedState,s]}function mu(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function a0(){return Zn().memoizedState}function Pd(s,o,u,f){var m=Hr();pt.flags|=s,m.memoizedState=mu(1|o,u,void 0,f===void 0?null:f)}function kd(s,o,u,f){var m=Zn();f=f===void 0?null:f;var _=void 0;if(kt!==null){var I=kt.memoizedState;if(_=I.destroy,f!==null&&Dp(f,I.deps)){m.memoizedState=mu(o,u,_,f);return}}pt.flags|=s,m.memoizedState=mu(1|o,u,_,f)}function l0(s,o){return Pd(8390656,8,s,o)}function jp(s,o){return kd(2048,8,s,o)}function u0(s,o){return kd(4,2,s,o)}function c0(s,o){return kd(4,4,s,o)}function d0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function h0(s,o,u){return u=u!=null?u.concat([s]):null,kd(4,4,d0.bind(null,o,s),u)}function Up(){}function f0(s,o){var u=Zn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Dp(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function p0(s,o){var u=Zn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Dp(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function m0(s,o,u){return(Io&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=u):(wr(u,o)||(u=ho(),pt.lanes|=u,Co|=u,s.baseState=!0),o)}function XA(s,o){var u=je;je=u!==0&&4>u?u:4,s(!0);var f=Op.transition;Op.transition={};try{s(!1),o()}finally{je=u,Op.transition=f}}function g0(){return Zn().memoizedState}function JA(s,o,u){var f=_s(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},y0(s))_0(o,u);else if(u=Gv(s,o,u,f),u!==null){var m=pn();Sr(u,s,f,m),v0(u,o,f)}}function ZA(s,o,u){var f=_s(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(y0(s))_0(o,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,D=_(I,u);if(m.hasEagerState=!0,m.eagerState=D,wr(D,I)){var j=o.interleaved;j===null?(m.next=m,xp(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=Gv(s,o,m,f),u!==null&&(m=pn(),Sr(u,s,f,m),v0(u,o,f))}}function y0(s){var o=s.alternate;return s===pt||o!==null&&o===pt}function _0(s,o){hu=Ad=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function v0(s,o,u){if((u&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,rs(s,u)}}var bd={readContext:Jn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},e2={readContext:Jn,useCallback:function(s,o){return Hr().memoizedState=[s,o===void 0?null:o],s},useContext:Jn,useEffect:l0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Pd(4194308,4,d0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Pd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Pd(4,2,s,o)},useMemo:function(s,o){var u=Hr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=Hr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=JA.bind(null,pt,s),[f.memoizedState,s]},useRef:function(s){var o=Hr();return s={current:s},o.memoizedState=s},useState:o0,useDebugValue:Up,useDeferredValue:function(s){return Hr().memoizedState=s},useTransition:function(){var s=o0(!1),o=s[0];return s=XA.bind(null,s[1]),Hr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=pt,m=Hr();if(ct){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Ft===null)throw Error(t(349));(Io&30)!==0||t0(f,o,u)}m.memoizedState=u;var _={value:u,getSnapshot:o};return m.queue=_,l0(r0.bind(null,f,_,s),[s]),f.flags|=2048,mu(9,n0.bind(null,f,_,u,o),void 0,null),u},useId:function(){var s=Hr(),o=Ft.identifierPrefix;if(ct){var u=vi,f=_i;u=(f&~(1<<32-dn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=fu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=YA++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},t2={readContext:Jn,useCallback:f0,useContext:Jn,useEffect:jp,useImperativeHandle:h0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:p0,useReducer:Vp,useRef:a0,useState:function(){return Vp(pu)},useDebugValue:Up,useDeferredValue:function(s){var o=Zn();return m0(o,kt.memoizedState,s)},useTransition:function(){var s=Vp(pu)[0],o=Zn().memoizedState;return[s,o]},useMutableSource:Zv,useSyncExternalStore:e0,useId:g0,unstable_isNewReconciler:!1},n2={readContext:Jn,useCallback:f0,useContext:Jn,useEffect:jp,useImperativeHandle:h0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:p0,useReducer:Fp,useRef:a0,useState:function(){return Fp(pu)},useDebugValue:Up,useDeferredValue:function(s){var o=Zn();return kt===null?o.memoizedState=s:m0(o,kt.memoizedState,s)},useTransition:function(){var s=Fp(pu)[0],o=Zn().memoizedState;return[s,o]},useMutableSource:Zv,useSyncExternalStore:e0,useId:g0,unstable_isNewReconciler:!1};function Tr(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Bp(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:se({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Nd={isMounted:function(s){return(s=s._reactInternals)?fr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=pn(),m=_s(s),_=Ei(f,m);_.payload=o,u!=null&&(_.callback=u),o=ps(s,_,m),o!==null&&(Sr(o,s,m,f),Cd(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=pn(),m=_s(s),_=Ei(f,m);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=ps(s,_,m),o!==null&&(Sr(o,s,m,f),Cd(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=pn(),f=_s(s),m=Ei(u,f);m.tag=2,o!=null&&(m.callback=o),o=ps(s,m,f),o!==null&&(Sr(o,s,f,u),Cd(o,s,f))}};function w0(s,o,u,f,m,_,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,I):o.prototype&&o.prototype.isPureReactComponent?!tu(u,f)||!tu(m,_):!0}function E0(s,o,u){var f=!1,m=ds,_=o.contextType;return typeof _=="object"&&_!==null?_=Jn(_):(m=Tn(o)?_o:Zt.current,f=o.contextTypes,_=(f=f!=null)?Aa(s,m):ds),o=new o(u,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nd,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),o}function T0(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&Nd.enqueueReplaceState(o,o.state,null)}function $p(s,o,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Ap(s);var _=o.contextType;typeof _=="object"&&_!==null?m.context=Jn(_):(_=Tn(o)?_o:Zt.current,m.context=Aa(s,_)),m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Bp(s,o,_,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Nd.enqueueReplaceState(m,m.state,null),Sd(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Ma(s,o){try{var u="",f=o;do u+=Ae(f),f=f.return;while(f);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:m,digest:null}}function zp(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Wp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var r2=typeof WeakMap=="function"?WeakMap:Map;function I0(s,o,u){u=Ei(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){jd||(jd=!0,sm=f),Wp(s,o)},u}function C0(s,o,u){u=Ei(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Wp(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Wp(s,o),typeof f!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function S0(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new r2;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),s=y2.bind(null,s,o,u),o.then(s,s))}function R0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function x0(s,o,u,f,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Ei(-1,1),o.tag=2,ps(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var i2=q.ReactCurrentOwner,In=!1;function fn(s,o,u,f){o.child=s===null?Kv(o,null,u,f):Na(o,s.child,u,f)}function A0(s,o,u,f,m){u=u.render;var _=o.ref;return Da(o,m),f=Lp(s,o,u,f,_,m),u=Mp(),s!==null&&!In?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ti(s,o,m)):(ct&&u&&_p(o),o.flags|=1,fn(s,o,f,m),o.child)}function P0(s,o,u,f,m){if(s===null){var _=u.type;return typeof _=="function"&&!hm(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,k0(s,o,_,f,m)):(s=Hd(u.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&m)===0){var I=_.memoizedProps;if(u=u.compare,u=u!==null?u:tu,u(I,f)&&s.ref===o.ref)return Ti(s,o,m)}return o.flags|=1,s=ws(_,f),s.ref=o.ref,s.return=o,o.child=s}function k0(s,o,u,f,m){if(s!==null){var _=s.memoizedProps;if(tu(_,f)&&s.ref===o.ref)if(In=!1,o.pendingProps=f=_,(s.lanes&m)!==0)(s.flags&131072)!==0&&(In=!0);else return o.lanes=s.lanes,Ti(s,o,m)}return Hp(s,o,u,f,m)}function b0(s,o,u){var f=o.pendingProps,m=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Fa,Un),Un|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,nt(Fa,Un),Un|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,nt(Fa,Un),Un|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,nt(Fa,Un),Un|=f;return fn(s,o,m,u),o.child}function N0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Hp(s,o,u,f,m){var _=Tn(u)?_o:Zt.current;return _=Aa(o,_),Da(o,m),u=Lp(s,o,u,f,_,m),f=Mp(),s!==null&&!In?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ti(s,o,m)):(ct&&f&&_p(o),o.flags|=1,fn(s,o,u,m),o.child)}function O0(s,o,u,f,m){if(Tn(u)){var _=!0;gd(o)}else _=!1;if(Da(o,m),o.stateNode===null)Dd(s,o),E0(o,u,f),$p(o,u,f,m),f=!0;else if(s===null){var I=o.stateNode,D=o.memoizedProps;I.props=D;var j=I.context,G=u.contextType;typeof G=="object"&&G!==null?G=Jn(G):(G=Tn(u)?_o:Zt.current,G=Aa(o,G));var te=u.getDerivedStateFromProps,re=typeof te=="function"||typeof I.getSnapshotBeforeUpdate=="function";re||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(D!==f||j!==G)&&T0(o,I,f,G),fs=!1;var ee=o.memoizedState;I.state=ee,Sd(o,f,I,m),j=o.memoizedState,D!==f||ee!==j||En.current||fs?(typeof te=="function"&&(Bp(o,u,te,f),j=o.memoizedState),(D=fs||w0(o,u,D,f,ee,j,G))?(re||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),I.props=f,I.state=j,I.context=G,f=D):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,Qv(s,o),D=o.memoizedProps,G=o.type===o.elementType?D:Tr(o.type,D),I.props=G,re=o.pendingProps,ee=I.context,j=u.contextType,typeof j=="object"&&j!==null?j=Jn(j):(j=Tn(u)?_o:Zt.current,j=Aa(o,j));var de=u.getDerivedStateFromProps;(te=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(D!==re||ee!==j)&&T0(o,I,f,j),fs=!1,ee=o.memoizedState,I.state=ee,Sd(o,f,I,m);var me=o.memoizedState;D!==re||ee!==me||En.current||fs?(typeof de=="function"&&(Bp(o,u,de,f),me=o.memoizedState),(G=fs||w0(o,u,G,f,ee,me,j)||!1)?(te||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,me,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,me,j)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=me),I.props=f,I.state=me,I.context=j,f=G):(typeof I.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),f=!1)}return qp(s,o,u,f,_,m)}function qp(s,o,u,f,m,_){N0(s,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&Fv(o,u,!1),Ti(s,o,_);f=o.stateNode,i2.current=o;var D=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&I?(o.child=Na(o,s.child,null,_),o.child=Na(o,null,D,_)):fn(s,o,D,_),o.memoizedState=f.state,m&&Fv(o,u,!0),o.child}function D0(s){var o=s.stateNode;o.pendingContext?Mv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Mv(s,o.context,!1),Pp(s,o.containerInfo)}function L0(s,o,u,f,m){return ba(),Tp(m),o.flags|=256,fn(s,o,u,f),o.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Gp(s){return{baseLanes:s,cachePool:null,transitions:null}}function M0(s,o,u){var f=o.pendingProps,m=ft.current,_=!1,I=(o.flags&128)!==0,D;if((D=I)||(D=s!==null&&s.memoizedState===null?!1:(m&2)!==0),D?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),nt(ft,m&1),s===null)return Ep(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,s=f.fallback,_?(f=o.mode,_=o.child,I={mode:"hidden",children:I},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=I):_=qd(I,f,0,null),s=Ao(s,f,u,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Gp(u),o.memoizedState=Kp,s):Qp(o,I));if(m=s.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return s2(s,o,I,f,D,m,u);if(_){_=f.fallback,I=o.mode,m=s.child,D=m.sibling;var j={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=ws(m,j),f.subtreeFlags=m.subtreeFlags&14680064),D!==null?_=ws(D,_):(_=Ao(_,I,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,I=s.child.memoizedState,I=I===null?Gp(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},_.memoizedState=I,_.childLanes=s.childLanes&~u,o.memoizedState=Kp,f}return _=s.child,s=_.sibling,f=ws(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=f,o.memoizedState=null,f}function Qp(s,o){return o=qd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Od(s,o,u,f){return f!==null&&Tp(f),Na(o,s.child,null,u),s=Qp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function s2(s,o,u,f,m,_,I){if(u)return o.flags&256?(o.flags&=-257,f=zp(Error(t(422))),Od(s,o,I,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=f.fallback,m=o.mode,f=qd({mode:"visible",children:f.children},m,0,null),_=Ao(_,m,I,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&Na(o,s.child,null,I),o.child.memoizedState=Gp(I),o.memoizedState=Kp,_);if((o.mode&1)===0)return Od(s,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var D=f.dgst;return f=D,_=Error(t(419)),f=zp(_,f,void 0),Od(s,o,I,f)}if(D=(I&s.childLanes)!==0,In||D){if(f=Ft,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,wi(s,m),Sr(f,s,m,-1))}return dm(),f=zp(Error(t(421))),Od(s,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=_2.bind(null,s),m._reactRetry=o,null):(s=_.treeContext,jn=us(m.nextSibling),Fn=o,ct=!0,Er=null,s!==null&&(Yn[Xn++]=_i,Yn[Xn++]=vi,Yn[Xn++]=vo,_i=s.id,vi=s.overflow,vo=o),o=Qp(o,f.children),o.flags|=4096,o)}function V0(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Rp(s.return,o,u)}function Yp(s,o,u,f,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m)}function F0(s,o,u){var f=o.pendingProps,m=f.revealOrder,_=f.tail;if(fn(s,o,f.children,u),f=ft.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&V0(s,u,o);else if(s.tag===19)V0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(nt(ft,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Rd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Yp(o,!1,m,u,_);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Rd(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Yp(o,!0,u,null,_);break;case"together":Yp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ti(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Co|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=ws(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=ws(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function o2(s,o,u){switch(o.tag){case 3:D0(o),ba();break;case 5:Jv(o);break;case 1:Tn(o.type)&&gd(o);break;case 4:Pp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;nt(Td,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(nt(ft,ft.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?M0(s,o,u):(nt(ft,ft.current&1),s=Ti(s,o,u),s!==null?s.sibling:null);nt(ft,ft.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(s.flags&128)!==0){if(f)return F0(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(ft,ft.current),f)break;return null;case 22:case 23:return o.lanes=0,b0(s,o,u)}return Ti(s,o,u)}var j0,Xp,U0,B0;j0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Xp=function(){},U0=function(s,o,u,f){var m=s.memoizedProps;if(m!==f){s=o.stateNode,To(Wr.current);var _=null;switch(u){case"input":m=li(s,m),f=li(s,f),_=[];break;case"select":m=se({},m,{value:void 0}),f=se({},f,{value:void 0}),_=[];break;case"textarea":m=Yi(s,m),f=Yi(s,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=fd)}Ml(u,f);var I;u=null;for(G in m)if(!f.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var D=m[G];for(I in D)D.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in f){var j=f[G];if(D=m!=null?m[G]:void 0,f.hasOwnProperty(G)&&j!==D&&(j!=null||D!=null))if(G==="style")if(D){for(I in D)!D.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in j)j.hasOwnProperty(I)&&D[I]!==j[I]&&(u||(u={}),u[I]=j[I])}else u||(_||(_=[]),_.push(G,u)),u=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,D=D?D.__html:void 0,j!=null&&D!==j&&(_=_||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&rt("scroll",s),_||D===j||(_=[])):(_=_||[]).push(G,j))}u&&(_=_||[]).push("style",u);var G=_;(o.updateQueue=G)&&(o.flags|=4)}},B0=function(s,o,u,f){u!==f&&(o.flags|=4)};function gu(s,o){if(!ct)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function tn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function a2(s,o,u){var f=o.pendingProps;switch(vp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return Tn(o.type)&&md(),tn(o),null;case 3:return f=o.stateNode,La(),it(En),it(Zt),Np(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(wd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Er!==null&&(lm(Er),Er=null))),Xp(s,o),tn(o),null;case 5:kp(o);var m=To(du.current);if(u=o.type,s!==null&&o.stateNode!=null)U0(s,o,u,f,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return tn(o),null}if(s=To(Wr.current),wd(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[zr]=o,f[ou]=_,s=(o.mode&1)!==0,u){case"dialog":rt("cancel",f),rt("close",f);break;case"iframe":case"object":case"embed":rt("load",f);break;case"video":case"audio":for(m=0;m<ru.length;m++)rt(ru[m],f);break;case"source":rt("error",f);break;case"img":case"image":case"link":rt("error",f),rt("load",f);break;case"details":rt("toggle",f);break;case"input":qi(f,_),rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},rt("invalid",f);break;case"textarea":ui(f,_),rt("invalid",f)}Ml(u,_),m=null;for(var I in _)if(_.hasOwnProperty(I)){var D=_[I];I==="children"?typeof D=="string"?f.textContent!==D&&(_.suppressHydrationWarning!==!0&&hd(f.textContent,D,s),m=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&hd(f.textContent,D,s),m=["children",""+D]):i.hasOwnProperty(I)&&D!=null&&I==="onScroll"&&rt("scroll",f)}switch(u){case"input":On(f),Zo(f,_,!0);break;case"textarea":On(f),Xi(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=fd)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=mt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=I.createElement(u,{is:f.is}):(s=I.createElement(u),u==="select"&&(I=s,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):s=I.createElementNS(s,u),s[zr]=o,s[ou]=f,j0(s,o,!1,!1),o.stateNode=s;e:{switch(I=Vl(u,f),u){case"dialog":rt("cancel",s),rt("close",s),m=f;break;case"iframe":case"object":case"embed":rt("load",s),m=f;break;case"video":case"audio":for(m=0;m<ru.length;m++)rt(ru[m],s);m=f;break;case"source":rt("error",s),m=f;break;case"img":case"image":case"link":rt("error",s),rt("load",s),m=f;break;case"details":rt("toggle",s),m=f;break;case"input":qi(s,f),m=li(s,f),rt("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=se({},f,{value:void 0}),rt("invalid",s);break;case"textarea":ui(s,f),m=Yi(s,f),rt("invalid",s);break;default:m=f}Ml(u,m),D=m;for(_ in D)if(D.hasOwnProperty(_)){var j=D[_];_==="style"?Dl(s,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Nl(s,j)):_==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&Ji(s,j):typeof j=="number"&&Ji(s,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?j!=null&&_==="onScroll"&&rt("scroll",s):j!=null&&$(s,_,j,I))}switch(u){case"input":On(s),Zo(s,f,!1);break;case"textarea":On(s),Xi(s);break;case"option":f.value!=null&&s.setAttribute("value",""+De(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?_n(s,!!f.multiple,_,!1):f.defaultValue!=null&&_n(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=fd)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(s&&o.stateNode!=null)B0(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=To(du.current),To(Wr.current),wd(o)){if(f=o.stateNode,u=o.memoizedProps,f[zr]=o,(_=f.nodeValue!==u)&&(s=Fn,s!==null))switch(s.tag){case 3:hd(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&hd(f.nodeValue,u,(s.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[zr]=o,o.stateNode=f}return tn(o),null;case 13:if(it(ft),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&jn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Wv(),ba(),o.flags|=98560,_=!1;else if(_=wd(o),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[zr]=o}else ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),_=!1}else Er!==null&&(lm(Er),Er=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ft.current&1)!==0?bt===0&&(bt=3):dm())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return La(),Xp(s,o),s===null&&iu(o.stateNode.containerInfo),tn(o),null;case 10:return Sp(o.type._context),tn(o),null;case 17:return Tn(o.type)&&md(),tn(o),null;case 19:if(it(ft),_=o.memoizedState,_===null)return tn(o),null;if(f=(o.flags&128)!==0,I=_.rendering,I===null)if(f)gu(_,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=Rd(s),I!==null){for(o.flags|=128,gu(_,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,s=f,_.flags&=14680066,I=_.alternate,I===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=I.childLanes,_.lanes=I.lanes,_.child=I.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=I.memoizedProps,_.memoizedState=I.memoizedState,_.updateQueue=I.updateQueue,_.type=I.type,s=I.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return nt(ft,ft.current&1|2),o.child}s=s.sibling}_.tail!==null&&tt()>ja&&(o.flags|=128,f=!0,gu(_,!1),o.lanes=4194304)}else{if(!f)if(s=Rd(I),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),gu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!I.alternate&&!ct)return tn(o),null}else 2*tt()-_.renderingStartTime>ja&&u!==1073741824&&(o.flags|=128,f=!0,gu(_,!1),o.lanes=4194304);_.isBackwards?(I.sibling=o.child,o.child=I):(u=_.last,u!==null?u.sibling=I:o.child=I,_.last=I)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=tt(),o.sibling=null,u=ft.current,nt(ft,f?u&1|2:u&1),o):(tn(o),null);case 22:case 23:return cm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Un&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function l2(s,o){switch(vp(o),o.tag){case 1:return Tn(o.type)&&md(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return La(),it(En),it(Zt),Np(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return kp(o),null;case 13:if(it(ft),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ba()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return it(ft),null;case 4:return La(),null;case 10:return Sp(o.type._context),null;case 22:case 23:return cm(),null;case 24:return null;default:return null}}var Ld=!1,nn=!1,u2=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Va(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){yt(s,o,f)}else u.current=null}function Jp(s,o,u){try{u()}catch(f){yt(s,o,f)}}var $0=!1;function c2(s,o){if(cp=os,s=wv(),np(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var I=0,D=-1,j=-1,G=0,te=0,re=s,ee=null;t:for(;;){for(var de;re!==u||m!==0&&re.nodeType!==3||(D=I+m),re!==_||f!==0&&re.nodeType!==3||(j=I+f),re.nodeType===3&&(I+=re.nodeValue.length),(de=re.firstChild)!==null;)ee=re,re=de;for(;;){if(re===s)break t;if(ee===u&&++G===m&&(D=I),ee===_&&++te===f&&(j=I),(de=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=de}u=D===-1||j===-1?null:{start:D,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(dp={focusedElem:s,selectionRange:u},os=!1,pe=o;pe!==null;)if(o=pe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,pe=s;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,Et=me.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?ge:Tr(o.type,ge),Et);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){yt(o,o.return,oe)}if(s=o.sibling,s!==null){s.return=o.return,pe=s;break}pe=o.return}return me=$0,$0=!1,me}function yu(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&Jp(o,u,_)}m=m.next}while(m!==f)}}function Md(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Zp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function z0(s){var o=s.alternate;o!==null&&(s.alternate=null,z0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[zr],delete o[ou],delete o[mp],delete o[qA],delete o[KA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function W0(s){return s.tag===5||s.tag===3||s.tag===4}function H0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||W0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function em(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=fd));else if(f!==4&&(s=s.child,s!==null))for(em(s,o,u),s=s.sibling;s!==null;)em(s,o,u),s=s.sibling}function tm(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(tm(s,o,u),s=s.sibling;s!==null;)tm(s,o,u),s=s.sibling}var Gt=null,Ir=!1;function ms(s,o,u){for(u=u.child;u!==null;)q0(s,o,u),u=u.sibling}function q0(s,o,u){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(uo,u)}catch{}switch(u.tag){case 5:nn||Va(u,o);case 6:var f=Gt,m=Ir;Gt=null,ms(s,o,u),Gt=f,Ir=m,Gt!==null&&(Ir?(s=Gt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Gt.removeChild(u.stateNode));break;case 18:Gt!==null&&(Ir?(s=Gt,u=u.stateNode,s.nodeType===8?pp(s.parentNode,u):s.nodeType===1&&pp(s,u),_r(s)):pp(Gt,u.stateNode));break;case 4:f=Gt,m=Ir,Gt=u.stateNode.containerInfo,Ir=!0,ms(s,o,u),Gt=f,Ir=m;break;case 0:case 11:case 14:case 15:if(!nn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,I=_.destroy;_=_.tag,I!==void 0&&((_&2)!==0||(_&4)!==0)&&Jp(u,o,I),m=m.next}while(m!==f)}ms(s,o,u);break;case 1:if(!nn&&(Va(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(D){yt(u,o,D)}ms(s,o,u);break;case 21:ms(s,o,u);break;case 22:u.mode&1?(nn=(f=nn)||u.memoizedState!==null,ms(s,o,u),nn=f):ms(s,o,u);break;default:ms(s,o,u)}}function K0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new u2),o.forEach(function(f){var m=v2.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function Cr(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var _=s,I=o,D=I;e:for(;D!==null;){switch(D.tag){case 5:Gt=D.stateNode,Ir=!1;break e;case 3:Gt=D.stateNode.containerInfo,Ir=!0;break e;case 4:Gt=D.stateNode.containerInfo,Ir=!0;break e}D=D.return}if(Gt===null)throw Error(t(160));q0(_,I,m),Gt=null,Ir=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(G){yt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)G0(o,s),o=o.sibling}function G0(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Cr(o,s),qr(s),f&4){try{yu(3,s,s.return),Md(3,s)}catch(ge){yt(s,s.return,ge)}try{yu(5,s,s.return)}catch(ge){yt(s,s.return,ge)}}break;case 1:Cr(o,s),qr(s),f&512&&u!==null&&Va(u,u.return);break;case 5:if(Cr(o,s),qr(s),f&512&&u!==null&&Va(u,u.return),s.flags&32){var m=s.stateNode;try{Ji(m,"")}catch(ge){yt(s,s.return,ge)}}if(f&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,I=u!==null?u.memoizedProps:_,D=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&Ki(m,_),Vl(D,I);var G=Vl(D,_);for(I=0;I<j.length;I+=2){var te=j[I],re=j[I+1];te==="style"?Dl(m,re):te==="dangerouslySetInnerHTML"?Nl(m,re):te==="children"?Ji(m,re):$(m,te,re,G)}switch(D){case"input":Gi(m,_);break;case"textarea":Lr(m,_);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var de=_.value;de!=null?_n(m,!!_.multiple,de,!1):ee!==!!_.multiple&&(_.defaultValue!=null?_n(m,!!_.multiple,_.defaultValue,!0):_n(m,!!_.multiple,_.multiple?[]:"",!1))}m[ou]=_}catch(ge){yt(s,s.return,ge)}}break;case 6:if(Cr(o,s),qr(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(ge){yt(s,s.return,ge)}}break;case 3:if(Cr(o,s),qr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{_r(o.containerInfo)}catch(ge){yt(s,s.return,ge)}break;case 4:Cr(o,s),qr(s);break;case 13:Cr(o,s),qr(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(im=tt())),f&4&&K0(s);break;case 22:if(te=u!==null&&u.memoizedState!==null,s.mode&1?(nn=(G=nn)||te,Cr(o,s),nn=G):Cr(o,s),qr(s),f&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!te&&(s.mode&1)!==0)for(pe=s,te=s.child;te!==null;){for(re=pe=te;pe!==null;){switch(ee=pe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:yu(4,ee,ee.return);break;case 1:Va(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){f=ee,u=ee.return;try{o=f,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){yt(f,u,ge)}}break;case 5:Va(ee,ee.return);break;case 22:if(ee.memoizedState!==null){X0(re);continue}}de!==null?(de.return=ee,pe=de):X0(re)}te=te.sibling}e:for(te=null,re=s;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,G?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=re.stateNode,j=re.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,D.style.display=Ol("display",I))}catch(ge){yt(s,s.return,ge)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(ge){yt(s,s.return,ge)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Cr(o,s),qr(s),f&4&&K0(s);break;case 21:break;default:Cr(o,s),qr(s)}}function qr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(W0(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Ji(m,""),f.flags&=-33);var _=H0(s);tm(s,_,m);break;case 3:case 4:var I=f.stateNode.containerInfo,D=H0(s);em(s,D,I);break;default:throw Error(t(161))}}catch(j){yt(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function d2(s,o,u){pe=s,Q0(s)}function Q0(s,o,u){for(var f=(s.mode&1)!==0;pe!==null;){var m=pe,_=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||Ld;if(!I){var D=m.alternate,j=D!==null&&D.memoizedState!==null||nn;D=Ld;var G=nn;if(Ld=I,(nn=j)&&!G)for(pe=m;pe!==null;)I=pe,j=I.child,I.tag===22&&I.memoizedState!==null?J0(m):j!==null?(j.return=I,pe=j):J0(m);for(;_!==null;)pe=_,Q0(_),_=_.sibling;pe=m,Ld=D,nn=G}Y0(s)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,pe=_):Y0(s)}}function Y0(s){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||Md(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!nn)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Tr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&Xv(o,_,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Xv(o,I,u)}break;case 5:var D=o.stateNode;if(u===null&&o.flags&4){u=D;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&_r(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||o.flags&512&&Zp(o)}catch(ee){yt(o,o.return,ee)}}if(o===s){pe=null;break}if(u=o.sibling,u!==null){u.return=o.return,pe=u;break}pe=o.return}}function X0(s){for(;pe!==null;){var o=pe;if(o===s){pe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,pe=u;break}pe=o.return}}function J0(s){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Md(4,o)}catch(j){yt(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(j){yt(o,m,j)}}var _=o.return;try{Zp(o)}catch(j){yt(o,_,j)}break;case 5:var I=o.return;try{Zp(o)}catch(j){yt(o,I,j)}}}catch(j){yt(o,o.return,j)}if(o===s){pe=null;break}var D=o.sibling;if(D!==null){D.return=o.return,pe=D;break}pe=o.return}}var h2=Math.ceil,Vd=q.ReactCurrentDispatcher,nm=q.ReactCurrentOwner,er=q.ReactCurrentBatchConfig,Ke=0,Ft=null,Rt=null,Qt=0,Un=0,Fa=cs(0),bt=0,_u=null,Co=0,Fd=0,rm=0,vu=null,Cn=null,im=0,ja=1/0,Ii=null,jd=!1,sm=null,gs=null,Ud=!1,ys=null,Bd=0,wu=0,om=null,$d=-1,zd=0;function pn(){return(Ke&6)!==0?tt():$d!==-1?$d:$d=tt()}function _s(s){return(s.mode&1)===0?1:(Ke&2)!==0&&Qt!==0?Qt&-Qt:QA.transition!==null?(zd===0&&(zd=ho()),zd):(s=je,s!==0||(s=window.event,s=s===void 0?16:Gl(s.type)),s)}function Sr(s,o,u,f){if(50<wu)throw wu=0,om=null,Error(t(185));ns(s,u,f),((Ke&2)===0||s!==Ft)&&(s===Ft&&((Ke&2)===0&&(Fd|=u),bt===4&&vs(s,Qt)),Sn(s,f),u===1&&Ke===0&&(o.mode&1)===0&&(ja=tt()+500,yd&&hs()))}function Sn(s,o){var u=s.callbackNode;di(s,o);var f=co(s,s===Ft?Qt:0);if(f===0)u!==null&&zl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&zl(u),o===1)s.tag===0?GA(ew.bind(null,s)):jv(ew.bind(null,s)),WA(function(){(Ke&6)===0&&hs()}),u=null;else{switch(is(f)){case 1:u=lo;break;case 4:u=Zi;break;case 16:u=Kn;break;case 536870912:u=zc;break;default:u=Kn}u=lw(u,Z0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Z0(s,o){if($d=-1,zd=0,(Ke&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Ua()&&s.callbackNode!==u)return null;var f=co(s,s===Ft?Qt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Wd(s,f);else{o=f;var m=Ke;Ke|=2;var _=nw();(Ft!==s||Qt!==o)&&(Ii=null,ja=tt()+500,Ro(s,o));do try{m2();break}catch(D){tw(s,D)}while(!0);Cp(),Vd.current=_,Ke=m,Rt!==null?o=0:(Ft=null,Qt=0,o=bt)}if(o!==0){if(o===2&&(m=Ln(s),m!==0&&(f=m,o=am(s,m))),o===1)throw u=_u,Ro(s,0),vs(s,f),Sn(s,tt()),u;if(o===6)vs(s,f);else{if(m=s.current.alternate,(f&30)===0&&!f2(m)&&(o=Wd(s,f),o===2&&(_=Ln(s),_!==0&&(f=_,o=am(s,_))),o===1))throw u=_u,Ro(s,0),vs(s,f),Sn(s,tt()),u;switch(s.finishedWork=m,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:xo(s,Cn,Ii);break;case 3:if(vs(s,f),(f&130023424)===f&&(o=im+500-tt(),10<o)){if(co(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){pn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=fp(xo.bind(null,s,Cn,Ii),o);break}xo(s,Cn,Ii);break;case 4:if(vs(s,f),(f&4194240)===f)break;for(o=s.eventTimes,m=-1;0<f;){var I=31-dn(f);_=1<<I,I=o[I],I>m&&(m=I),f&=~_}if(f=m,f=tt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*h2(f/1960))-f,10<f){s.timeoutHandle=fp(xo.bind(null,s,Cn,Ii),f);break}xo(s,Cn,Ii);break;case 5:xo(s,Cn,Ii);break;default:throw Error(t(329))}}}return Sn(s,tt()),s.callbackNode===u?Z0.bind(null,s):null}function am(s,o){var u=vu;return s.current.memoizedState.isDehydrated&&(Ro(s,o).flags|=256),s=Wd(s,o),s!==2&&(o=Cn,Cn=u,o!==null&&lm(o)),s}function lm(s){Cn===null?Cn=s:Cn.push.apply(Cn,s)}function f2(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],_=m.getSnapshot;m=m.value;try{if(!wr(_(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function vs(s,o){for(o&=~rm,o&=~Fd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-dn(o),f=1<<u;s[u]=-1,o&=~f}}function ew(s){if((Ke&6)!==0)throw Error(t(327));Ua();var o=co(s,0);if((o&1)===0)return Sn(s,tt()),null;var u=Wd(s,o);if(s.tag!==0&&u===2){var f=Ln(s);f!==0&&(o=f,u=am(s,f))}if(u===1)throw u=_u,Ro(s,0),vs(s,o),Sn(s,tt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,xo(s,Cn,Ii),Sn(s,tt()),null}function um(s,o){var u=Ke;Ke|=1;try{return s(o)}finally{Ke=u,Ke===0&&(ja=tt()+500,yd&&hs())}}function So(s){ys!==null&&ys.tag===0&&(Ke&6)===0&&Ua();var o=Ke;Ke|=1;var u=er.transition,f=je;try{if(er.transition=null,je=1,s)return s()}finally{je=f,er.transition=u,Ke=o,(Ke&6)===0&&hs()}}function cm(){Un=Fa.current,it(Fa)}function Ro(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,zA(u)),Rt!==null)for(u=Rt.return;u!==null;){var f=u;switch(vp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&md();break;case 3:La(),it(En),it(Zt),Np();break;case 5:kp(f);break;case 4:La();break;case 13:it(ft);break;case 19:it(ft);break;case 10:Sp(f.type._context);break;case 22:case 23:cm()}u=u.return}if(Ft=s,Rt=s=ws(s.current,null),Qt=Un=o,bt=0,_u=null,rm=Fd=Co=0,Cn=vu=null,Eo!==null){for(o=0;o<Eo.length;o++)if(u=Eo[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,_=u.pending;if(_!==null){var I=_.next;_.next=m,f.next=I}u.pending=f}Eo=null}return s}function tw(s,o){do{var u=Rt;try{if(Cp(),xd.current=bd,Ad){for(var f=pt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Ad=!1}if(Io=0,Vt=kt=pt=null,hu=!1,fu=0,nm.current=null,u===null||u.return===null){bt=1,_u=o,Rt=null;break}e:{var _=s,I=u.return,D=u,j=o;if(o=Qt,D.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,te=D,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=R0(I);if(de!==null){de.flags&=-257,x0(de,I,D,_,o),de.mode&1&&S0(_,G,o),o=de,j=G;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(j),o.updateQueue=ge}else me.add(j);break e}else{if((o&1)===0){S0(_,G,o),dm();break e}j=Error(t(426))}}else if(ct&&D.mode&1){var Et=R0(I);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),x0(Et,I,D,_,o),Tp(Ma(j,D));break e}}_=j=Ma(j,D),bt!==4&&(bt=2),vu===null?vu=[_]:vu.push(_),_=I;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var H=I0(_,j,o);Yv(_,H);break e;case 1:D=j;var U=_.type,K=_.stateNode;if((_.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(gs===null||!gs.has(K)))){_.flags|=65536,o&=-o,_.lanes|=o;var oe=C0(_,D,o);Yv(_,oe);break e}}_=_.return}while(_!==null)}iw(u)}catch(ye){o=ye,Rt===u&&u!==null&&(Rt=u=u.return);continue}break}while(!0)}function nw(){var s=Vd.current;return Vd.current=bd,s===null?bd:s}function dm(){(bt===0||bt===3||bt===2)&&(bt=4),Ft===null||(Co&268435455)===0&&(Fd&268435455)===0||vs(Ft,Qt)}function Wd(s,o){var u=Ke;Ke|=2;var f=nw();(Ft!==s||Qt!==o)&&(Ii=null,Ro(s,o));do try{p2();break}catch(m){tw(s,m)}while(!0);if(Cp(),Ke=u,Vd.current=f,Rt!==null)throw Error(t(261));return Ft=null,Qt=0,bt}function p2(){for(;Rt!==null;)rw(Rt)}function m2(){for(;Rt!==null&&!Bc();)rw(Rt)}function rw(s){var o=aw(s.alternate,s,Un);s.memoizedProps=s.pendingProps,o===null?iw(s):Rt=o,nm.current=null}function iw(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=a2(u,o,Un),u!==null){Rt=u;return}}else{if(u=l2(u,o),u!==null){u.flags&=32767,Rt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{bt=6,Rt=null;return}}if(o=o.sibling,o!==null){Rt=o;return}Rt=o=s}while(o!==null);bt===0&&(bt=5)}function xo(s,o,u){var f=je,m=er.transition;try{er.transition=null,je=1,g2(s,o,u,f)}finally{er.transition=m,je=f}return null}function g2(s,o,u,f){do Ua();while(ys!==null);if((Ke&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(et(s,_),s===Ft&&(Rt=Ft=null,Qt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ud||(Ud=!0,lw(Kn,function(){return Ua(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=er.transition,er.transition=null;var I=je;je=1;var D=Ke;Ke|=4,nm.current=null,c2(s,u),G0(u,s),MA(dp),os=!!cp,dp=cp=null,s.current=u,d2(u),Gf(),Ke=D,je=I,er.transition=_}else s.current=u;if(Ud&&(Ud=!1,ys=s,Bd=m),_=s.pendingLanes,_===0&&(gs=null),Wc(u.stateNode),Sn(s,tt()),o!==null)for(f=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(jd)throw jd=!1,s=sm,sm=null,s;return(Bd&1)!==0&&s.tag!==0&&Ua(),_=s.pendingLanes,(_&1)!==0?s===om?wu++:(wu=0,om=s):wu=0,hs(),null}function Ua(){if(ys!==null){var s=is(Bd),o=er.transition,u=je;try{if(er.transition=null,je=16>s?16:s,ys===null)var f=!1;else{if(s=ys,ys=null,Bd=0,(Ke&6)!==0)throw Error(t(331));var m=Ke;for(Ke|=4,pe=s.current;pe!==null;){var _=pe,I=_.child;if((pe.flags&16)!==0){var D=_.deletions;if(D!==null){for(var j=0;j<D.length;j++){var G=D[j];for(pe=G;pe!==null;){var te=pe;switch(te.tag){case 0:case 11:case 15:yu(8,te,_)}var re=te.child;if(re!==null)re.return=te,pe=re;else for(;pe!==null;){te=pe;var ee=te.sibling,de=te.return;if(z0(te),te===G){pe=null;break}if(ee!==null){ee.return=de,pe=ee;break}pe=de}}}var me=_.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var Et=ge.sibling;ge.sibling=null,ge=Et}while(ge!==null)}}pe=_}}if((_.subtreeFlags&2064)!==0&&I!==null)I.return=_,pe=I;else e:for(;pe!==null;){if(_=pe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:yu(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,pe=H;break e}pe=_.return}}var U=s.current;for(pe=U;pe!==null;){I=pe;var K=I.child;if((I.subtreeFlags&2064)!==0&&K!==null)K.return=I,pe=K;else e:for(I=U;pe!==null;){if(D=pe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Md(9,D)}}catch(ye){yt(D,D.return,ye)}if(D===I){pe=null;break e}var oe=D.sibling;if(oe!==null){oe.return=D.return,pe=oe;break e}pe=D.return}}if(Ke=m,hs(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(uo,s)}catch{}f=!0}return f}finally{je=u,er.transition=o}}return!1}function sw(s,o,u){o=Ma(u,o),o=I0(s,o,1),s=ps(s,o,1),o=pn(),s!==null&&(ns(s,1,o),Sn(s,o))}function yt(s,o,u){if(s.tag===3)sw(s,s,u);else for(;o!==null;){if(o.tag===3){sw(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(gs===null||!gs.has(f))){s=Ma(u,s),s=C0(o,s,1),o=ps(o,s,1),s=pn(),o!==null&&(ns(o,1,s),Sn(o,s));break}}o=o.return}}function y2(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=pn(),s.pingedLanes|=s.suspendedLanes&u,Ft===s&&(Qt&u)===u&&(bt===4||bt===3&&(Qt&130023424)===Qt&&500>tt()-im?Ro(s,0):rm|=u),Sn(s,o)}function ow(s,o){o===0&&((s.mode&1)===0?o=1:(o=ua,ua<<=1,(ua&130023424)===0&&(ua=4194304)));var u=pn();s=wi(s,o),s!==null&&(ns(s,o,u),Sn(s,u))}function _2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),ow(s,u)}function v2(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),ow(s,u)}var aw;aw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||En.current)In=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return In=!1,o2(s,o,u);In=(s.flags&131072)!==0}else In=!1,ct&&(o.flags&1048576)!==0&&Uv(o,vd,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Dd(s,o),s=o.pendingProps;var m=Aa(o,Zt.current);Da(o,u),m=Lp(null,o,f,s,m,u);var _=Mp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Tn(f)?(_=!0,gd(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ap(o),m.updater=Nd,o.stateNode=m,m._reactInternals=o,$p(o,f,s,u),o=qp(null,o,f,!0,_,u)):(o.tag=0,ct&&_&&_p(o),fn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Dd(s,o),s=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=E2(f),s=Tr(f,s),m){case 0:o=Hp(null,o,f,s,u);break e;case 1:o=O0(null,o,f,s,u);break e;case 11:o=A0(null,o,f,s,u);break e;case 14:o=P0(null,o,f,Tr(f.type,s),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Tr(f,m),Hp(s,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Tr(f,m),O0(s,o,f,m,u);case 3:e:{if(D0(o),s===null)throw Error(t(387));f=o.pendingProps,_=o.memoizedState,m=_.element,Qv(s,o),Sd(o,f,null,u);var I=o.memoizedState;if(f=I.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=Ma(Error(t(423)),o),o=L0(s,o,f,u,m);break e}else if(f!==m){m=Ma(Error(t(424)),o),o=L0(s,o,f,u,m);break e}else for(jn=us(o.stateNode.containerInfo.firstChild),Fn=o,ct=!0,Er=null,u=Kv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ba(),f===m){o=Ti(s,o,u);break e}fn(s,o,f,u)}o=o.child}return o;case 5:return Jv(o),s===null&&Ep(o),f=o.type,m=o.pendingProps,_=s!==null?s.memoizedProps:null,I=m.children,hp(f,m)?I=null:_!==null&&hp(f,_)&&(o.flags|=32),N0(s,o),fn(s,o,I,u),o.child;case 6:return s===null&&Ep(o),null;case 13:return M0(s,o,u);case 4:return Pp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Na(o,null,f,u):fn(s,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Tr(f,m),A0(s,o,f,m,u);case 7:return fn(s,o,o.pendingProps,u),o.child;case 8:return fn(s,o,o.pendingProps.children,u),o.child;case 12:return fn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,_=o.memoizedProps,I=m.value,nt(Td,f._currentValue),f._currentValue=I,_!==null)if(wr(_.value,I)){if(_.children===m.children&&!En.current){o=Ti(s,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var D=_.dependencies;if(D!==null){I=_.child;for(var j=D.firstContext;j!==null;){if(j.context===f){if(_.tag===1){j=Ei(-1,u&-u),j.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?j.next=j:(j.next=te.next,te.next=j),G.pending=j}}_.lanes|=u,j=_.alternate,j!==null&&(j.lanes|=u),Rp(_.return,u,o),D.lanes|=u;break}j=j.next}}else if(_.tag===10)I=_.type===o.type?null:_.child;else if(_.tag===18){if(I=_.return,I===null)throw Error(t(341));I.lanes|=u,D=I.alternate,D!==null&&(D.lanes|=u),Rp(I,u,o),I=_.sibling}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===o){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}fn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Da(o,u),m=Jn(m),f=f(m),o.flags|=1,fn(s,o,f,u),o.child;case 14:return f=o.type,m=Tr(f,o.pendingProps),m=Tr(f.type,m),P0(s,o,f,m,u);case 15:return k0(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Tr(f,m),Dd(s,o),o.tag=1,Tn(f)?(s=!0,gd(o)):s=!1,Da(o,u),E0(o,f,m),$p(o,f,m,u),qp(null,o,f,!0,s,u);case 19:return F0(s,o,u);case 22:return b0(s,o,u)}throw Error(t(156,o.tag))};function lw(s,o){return aa(s,o)}function w2(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(s,o,u,f){return new w2(s,o,u,f)}function hm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function E2(s){if(typeof s=="function")return hm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Se)return 14}return 2}function ws(s,o){var u=s.alternate;return u===null?(u=tr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Hd(s,o,u,f,m,_){var I=2;if(f=s,typeof s=="function")hm(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case N:return Ao(u.children,m,_,o);case P:I=8,m|=8;break;case k:return s=tr(12,u,o,m|2),s.elementType=k,s.lanes=_,s;case O:return s=tr(13,u,o,m),s.elementType=O,s.lanes=_,s;case le:return s=tr(19,u,o,m),s.elementType=le,s.lanes=_,s;case Te:return qd(u,m,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case M:I=9;break e;case V:I=11;break e;case Se:I=14;break e;case xe:I=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=tr(I,u,o,m),o.elementType=s,o.type=f,o.lanes=_,o}function Ao(s,o,u,f){return s=tr(7,s,f,o),s.lanes=u,s}function qd(s,o,u,f){return s=tr(22,s,f,o),s.elementType=Te,s.lanes=u,s.stateNode={isHidden:!1},s}function fm(s,o,u){return s=tr(6,s,null,o),s.lanes=u,s}function pm(s,o,u){return o=tr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function T2(s,o,u,f,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ts(0),this.expirationTimes=ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function mm(s,o,u,f,m,_,I,D,j){return s=new T2(s,o,u,D,j),o===1?(o=1,_===!0&&(o|=8)):o=0,_=tr(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(_),s}function I2(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function uw(s){if(!s)return ds;s=s._reactInternals;e:{if(fr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Tn(u))return Vv(s,u,o)}return o}function cw(s,o,u,f,m,_,I,D,j){return s=mm(u,f,!0,s,m,_,I,D,j),s.context=uw(null),u=s.current,f=pn(),m=_s(u),_=Ei(f,m),_.callback=o??null,ps(u,_,m),s.current.lanes=m,ns(s,m,f),Sn(s,f),s}function Kd(s,o,u,f){var m=o.current,_=pn(),I=_s(m);return u=uw(u),o.context===null?o.context=u:o.pendingContext=u,o=Ei(_,I),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ps(m,o,I),s!==null&&(Sr(s,m,I,_),Cd(s,m,I)),I}function Gd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function dw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function gm(s,o){dw(s,o),(s=s.alternate)&&dw(s,o)}function C2(){return null}var hw=typeof reportError=="function"?reportError:function(s){console.error(s)};function ym(s){this._internalRoot=s}Qd.prototype.render=ym.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Kd(s,o,null,null)},Qd.prototype.unmount=ym.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;So(function(){Kd(null,s,null,null)}),o[gi]=null}};function Qd(s){this._internalRoot=s}Qd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Qc();s={blockedOn:null,target:s,priority:o};for(var u=0;u<jr.length&&o!==0&&o<jr[u].priority;u++);jr.splice(u,0,s),u===0&&Jc(s)}};function _m(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function fw(){}function S2(s,o,u,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var G=Gd(I);_.call(G)}}var I=cw(o,f,s,0,null,!1,!1,"",fw);return s._reactRootContainer=I,s[gi]=I.current,iu(s.nodeType===8?s.parentNode:s),So(),I}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var D=f;f=function(){var G=Gd(j);D.call(G)}}var j=mm(s,0,!1,null,null,!1,!1,"",fw);return s._reactRootContainer=j,s[gi]=j.current,iu(s.nodeType===8?s.parentNode:s),So(function(){Kd(o,j,u,f)}),j}function Xd(s,o,u,f,m){var _=u._reactRootContainer;if(_){var I=_;if(typeof m=="function"){var D=m;m=function(){var j=Gd(I);D.call(j)}}Kd(o,I,s,m)}else I=S2(u,o,s,m,f);return Gd(I)}Kc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=es(o.pendingLanes);u!==0&&(rs(o,u|1),Sn(o,tt()),(Ke&6)===0&&(ja=tt()+500,hs()))}break;case 13:So(function(){var f=wi(s,1);if(f!==null){var m=pn();Sr(f,s,1,m)}}),gm(s,1)}},ca=function(s){if(s.tag===13){var o=wi(s,134217728);if(o!==null){var u=pn();Sr(o,s,134217728,u)}gm(s,134217728)}},Gc=function(s){if(s.tag===13){var o=_s(s),u=wi(s,o);if(u!==null){var f=pn();Sr(u,s,o,f)}gm(s,o)}},Qc=function(){return je},Yc=function(s,o){var u=je;try{return je=s,o()}finally{je=u}},ta=function(s,o,u){switch(o){case"input":if(Gi(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var m=pd(f);if(!m)throw Error(t(90));Hi(f),Gi(f,m)}}}break;case"textarea":Lr(s,u);break;case"select":o=u.value,o!=null&&_n(s,!!u.multiple,o,!1)}},io=um,jl=So;var R2={usingClientEntryPoint:!1,Events:[au,Ra,pd,Vr,Fl,um]},Eu={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x2={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=$l(s),s===null?null:s.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||C2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{uo=Jd.inject(x2),Dn=Jd}catch{}}return Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R2,Rn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(o))throw Error(t(200));return I2(s,o,null,u)},Rn.createRoot=function(s,o){if(!_m(s))throw Error(t(299));var u=!1,f="",m=hw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=mm(s,1,!1,null,null,u,!1,f,m),s[gi]=o.current,iu(s.nodeType===8?s.parentNode:s),new ym(o)},Rn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=$l(o),s=s===null?null:s.stateNode,s},Rn.flushSync=function(s){return So(s)},Rn.hydrate=function(s,o,u){if(!Yd(o))throw Error(t(200));return Xd(null,s,o,!0,u)},Rn.hydrateRoot=function(s,o,u){if(!_m(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,_="",I=hw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=cw(o,null,s,1,u??null,m,!1,_,I),s[gi]=o.current,iu(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Qd(o)},Rn.render=function(s,o,u){if(!Yd(o))throw Error(t(200));return Xd(null,s,o,!1,u)},Rn.unmountComponentAtNode=function(s){if(!Yd(s))throw Error(t(40));return s._reactRootContainer?(So(function(){Xd(null,null,s,!1,function(){s._reactRootContainer=null,s[gi]=null})}),!0):!1},Rn.unstable_batchedUpdates=um,Rn.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!Yd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Xd(s,o,u,!1,f)},Rn.version="18.3.1-next-f1338f8080-20240426",Rn}var Ew;function TI(){if(Ew)return Em.exports;Ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Em.exports=D2(),Em.exports}var Tw;function L2(){if(Tw)return Zd;Tw=1;var n=TI();return Zd.createRoot=n.createRoot,Zd.hydrateRoot=n.hydrateRoot,Zd}var M2=L2(),Iu={},Iw;function V2(){if(Iw)return Iu;Iw=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.parse=l,Iu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function l(T,S){const x=new a,b=T.length;if(b<2)return x;const R=(S==null?void 0:S.decode)||g;let F=0;do{const B=T.indexOf("=",F);if(B===-1)break;const $=T.indexOf(";",F),q=$===-1?b:$;if(B>q){F=T.lastIndexOf(";",B-1)+1;continue}const X=c(T,F,B),Z=h(T,B,X),N=T.slice(X,Z);if(x[N]===void 0){let P=c(T,B+1,q),k=h(T,q,P);const L=R(T.slice(P,k));x[N]=L}F=q+1}while(F<b);return x}function c(T,S,x){do{const b=T.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<x);return x}function h(T,S,x){for(;S>x;){const b=T.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return x}function p(T,S,x){const b=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const R=b(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let F=T+"="+R;if(!x)return F;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);F+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);F+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);F+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);F+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(F+="; HttpOnly"),x.secure&&(F+="; Secure"),x.partitioned&&(F+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return F}function g(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function v(T){return i.call(T)==="[object Date]"}return Iu}V2();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cw="popstate";function F2(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return ng("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Zu(i)}return U2(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j2(){return Math.random().toString(36).substring(2,10)}function Sw(n,e){return{usr:n.state,key:n.key,idx:e}}function ng(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yl(e):e,state:t,key:e&&e.key||r||j2()}}function Zu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function U2(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){c="POP";let R=g(),F=R==null?null:R-p;p=R,h&&h({action:c,location:b.location,delta:F})}function T(R,F){c="PUSH";let B=ng(b.location,R,F);p=g()+1;let $=Sw(B,p),q=b.createHref(B);try{l.pushState($,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(q)}a&&h&&h({action:c,location:b.location,delta:1})}function S(R,F){c="REPLACE";let B=ng(b.location,R,F);p=g();let $=Sw(B,p),q=b.createHref(B);l.replaceState($,"",q),a&&h&&h({action:c,location:b.location,delta:0})}function x(R){let F=i.location.origin!=="null"?i.location.origin:i.location.href,B=typeof R=="string"?R:Zu(R);return B=B.replace(/ $/,"%20"),ht(F,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,F)}let b={get action(){return c},get location(){return n(i,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Cw,v),h=R,()=>{i.removeEventListener(Cw,v),h=null}},createHref(R){return e(i,R)},createURL:x,encodeLocation(R){let F=x(R);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:S,go(R){return l.go(R)}};return b}function II(n,e,t="/"){return B2(n,e,t,!1)}function B2(n,e,t,r){let i=typeof e=="string"?yl(e):e,a=Di(i.pathname||"/",t);if(a==null)return null;let l=CI(n);$2(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=Z2(a);c=X2(l[h],p,r)}return c}function CI(n,e=[],t=[],r=""){let i=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ht(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=ki([r,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(ht(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),CI(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Q2(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let h of SI(a.path))i(a,l,h)}),e}function SI(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=SI(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function $2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Y2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var z2=/^:[\w-]+$/,W2=3,H2=2,q2=1,K2=10,G2=-2,Rw=n=>n==="*";function Q2(n,e){let t=n.split("/"),r=t.length;return t.some(Rw)&&(r+=G2),e&&(r+=H2),t.filter(i=>!Rw(i)).reduce((i,a)=>i+(z2.test(a)?W2:a===""?q2:K2),r)}function Y2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function X2(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=bh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),T=h.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=bh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:ki([a,v.pathname]),pathnameBase:rP(ki([a,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(a=ki([a,v.pathnameBase]))}return l}function bh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=J2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},T)=>{if(g==="*"){let x=c[T]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const S=c[T];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function J2(n,e=!1,t=!0){Nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Z2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Di(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function eP(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?yl(n):n;return{pathname:t?t.startsWith("/")?t:tP(t,e):e,search:iP(r),hash:sP(i)}}function tP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Cm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ry(n){let e=nP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function iy(n,e,t,r=!1){let i;typeof n=="string"?i=yl(n):(i={...n},ht(!i.pathname||!i.pathname.includes("?"),Cm("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Cm("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Cm("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),v-=1;i.pathname=T.join("/")}c=v>=0?e[v]:"/"}let h=eP(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var ki=n=>n.join("/").replace(/\/\/+/g,"/"),rP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var RI=["POST","PUT","PATCH","DELETE"];new Set(RI);var aP=["GET",...RI];new Set(aP);var _l=C.createContext(null);_l.displayName="DataRouter";var ff=C.createContext(null);ff.displayName="DataRouterState";var xI=C.createContext({isTransitioning:!1});xI.displayName="ViewTransition";var lP=C.createContext(new Map);lP.displayName="Fetchers";var uP=C.createContext(null);uP.displayName="Await";var Or=C.createContext(null);Or.displayName="Navigation";var pc=C.createContext(null);pc.displayName="Location";var Dr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var sy=C.createContext(null);sy.displayName="RouteError";function cP(n,{relative:e}={}){ht(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(Or),{hash:i,pathname:a,search:l}=mc(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:ki([t,a])),r.createHref({pathname:c,search:l,hash:i})}function vl(){return C.useContext(pc)!=null}function Qs(){return ht(vl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(pc).location}var AI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PI(n){C.useContext(Or).static||C.useLayoutEffect(n)}function si(){let{isDataRoute:n}=C.useContext(Dr);return n?CP():dP()}function dP(){ht(vl(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(_l),{basename:e,navigator:t}=C.useContext(Or),{matches:r}=C.useContext(Dr),{pathname:i}=Qs(),a=JSON.stringify(ry(r)),l=C.useRef(!1);return PI(()=>{l.current=!0}),C.useCallback((h,p={})=>{if(Nr(l.current,AI),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=iy(h,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ki([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,i,n])}C.createContext(null);function hP(){let{matches:n}=C.useContext(Dr),e=n[n.length-1];return e?e.params:{}}function mc(n,{relative:e}={}){let{matches:t}=C.useContext(Dr),{pathname:r}=Qs(),i=JSON.stringify(ry(t));return C.useMemo(()=>iy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function fP(n,e){return kI(n,e)}function kI(n,e,t,r){var B;ht(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=C.useContext(Or),{matches:l}=C.useContext(Dr),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let $=v&&v.path||"";bI(p,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let T=Qs(),S;if(e){let $=typeof e=="string"?yl(e):e;ht(g==="/"||((B=$.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=T;let x=S.pathname||"/",b=x;if(g!=="/"){let $=g.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice($.length).join("/")}let R=!a&&t&&t.matches&&t.matches.length>0?t.matches:II(n,{pathname:b});Nr(v||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Nr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=_P(R&&R.map($=>Object.assign({},$,{params:Object.assign({},h,$.params),pathname:ki([g,i.encodeLocation?i.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:ki([g,i.encodeLocation?i.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),l,t,r);return e&&F?C.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function pP(){let n=IP(),e=oP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,l)}var mP=C.createElement(pP,null),gP=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Dr.Provider,{value:this.props.routeContext},C.createElement(sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yP({routeContext:n,match:e,children:t}){let r=C.useContext(_l);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Dr.Provider,{value:n},t)}function _P(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:v}=t,T=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||T){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let v,T=!1,S=null,x=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||mP,l&&(c<0&&g===0?(bI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):c===g&&(T=!0,x=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),R=()=>{let F;return v?F=S:T?F=x:p.route.Component?F=C.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=h,C.createElement(yP,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:F})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(gP,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function oy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vP(n){let e=C.useContext(_l);return ht(e,oy(n)),e}function wP(n){let e=C.useContext(ff);return ht(e,oy(n)),e}function EP(n){let e=C.useContext(Dr);return ht(e,oy(n)),e}function ay(n){let e=EP(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function TP(){return ay("useRouteId")}function IP(){var r;let n=C.useContext(sy),e=wP("useRouteError"),t=ay("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function CP(){let{router:n}=vP("useNavigate"),e=ay("useNavigate"),t=C.useRef(!1);return PI(()=>{t.current=!0}),C.useCallback(async(i,a={})=>{Nr(t.current,AI),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var xw={};function bI(n,e,t){!e&&!xw[n]&&(xw[n]=!0,Nr(!1,t))}C.memo(SP);function SP({routes:n,future:e,state:t}){return kI(n,void 0,t,e)}function RP({to:n,replace:e,state:t,relative:r}){ht(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Or);Nr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(Dr),{pathname:l}=Qs(),c=si(),h=iy(n,ry(a),l,r==="path"),p=JSON.stringify(h);return C.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function Kr(n){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){ht(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=yl(t));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:T="default"}=t,S=C.useMemo(()=>{let x=Di(h,l);return x==null?null:{location:{pathname:x,search:p,hash:g,state:v,key:T},navigationType:r}},[l,h,p,g,v,T,r]);return Nr(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:C.createElement(Or.Provider,{value:c},C.createElement(pc.Provider,{children:e,value:S}))}function AP({children:n,location:e}){return fP(rg(n),e)}function rg(n,e=[]){let t=[];return C.Children.forEach(n,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){t.push.apply(t,rg(r.props.children,a));return}ht(r.type===Kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=rg(r.props.children,a)),t.push(l)}),t}var mh="get",gh="application/x-www-form-urlencoded";function pf(n){return n!=null&&typeof n.tagName=="string"}function PP(n){return pf(n)&&n.tagName.toLowerCase()==="button"}function kP(n){return pf(n)&&n.tagName.toLowerCase()==="form"}function bP(n){return pf(n)&&n.tagName.toLowerCase()==="input"}function NP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OP(n,e){return n.button===0&&(!e||e==="_self")&&!NP(n)}var eh=null;function DP(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var LP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(n){return n!=null&&!LP.has(n)?(Nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):n}function MP(n,e){let t,r,i,a,l;if(kP(n)){let c=n.getAttribute("action");r=c?Di(c,e):null,t=n.getAttribute("method")||mh,i=Sm(n.getAttribute("enctype"))||gh,a=new FormData(n)}else if(PP(n)||bP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Di(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||mh,i=Sm(n.getAttribute("formenctype"))||Sm(c.getAttribute("enctype"))||gh,a=new FormData(c,n),!DP()){let{name:p,type:g,value:v}=n;if(g==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,v)}}else{if(pf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mh,r=null,i=gh,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function ly(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function VP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jP(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await VP(a,t);return l.links?l.links():[]}return[]}));return zP(r.flat(1).filter(FP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Aw(n,e,t,r,i,a){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let T=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function UP(n,e,{includeHydrateFallback:t}={}){return BP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function BP(n){return[...new Set(n)]}function $P(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function zP(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify($P(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function WP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Di(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function NI(){let n=C.useContext(_l);return ly(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function HP(){let n=C.useContext(ff);return ly(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var uy=C.createContext(void 0);uy.displayName="FrameworkContext";function OI(){let n=C.useContext(uy);return ly(n,"You must render this element inside a <HydratedRouter> element"),n}function qP(n,e){let t=C.useContext(uy),[r,i]=C.useState(!1),[a,l]=C.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,T=C.useRef(null);C.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let b=F=>{F.forEach(B=>{l(B.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return T.current&&R.observe(T.current),()=>{R.disconnect()}}},[n]),C.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{i(!0)},x=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:Cu(c,S),onBlur:Cu(h,x),onMouseEnter:Cu(p,S),onMouseLeave:Cu(g,x),onTouchStart:Cu(v,S)}]:[!1,T,{}]}function Cu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KP({page:n,...e}){let{router:t}=NI(),r=C.useMemo(()=>II(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(QP,{page:n,matches:r,...e}):null}function GP(n){let{manifest:e,routeModules:t}=OI(),[r,i]=C.useState([]);return C.useEffect(()=>{let a=!1;return jP(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function QP({page:n,matches:e,...t}){let r=Qs(),{manifest:i,routeModules:a}=OI(),{basename:l}=NI(),{loaderData:c,matches:h}=HP(),p=C.useMemo(()=>Aw(n,e,h,i,r,"data"),[n,e,h,i,r]),g=C.useMemo(()=>Aw(n,e,h,i,r,"assets"),[n,e,h,i,r]),v=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(e.forEach(F=>{var $;let B=i.routes[F.route.id];!B||!B.hasLoader||(!p.some(q=>q.route.id===F.route.id)&&F.route.id in c&&(($=a[F.route.id])!=null&&$.shouldRevalidate)||B.hasClientLoader?b=!0:x.add(F.route.id))}),x.size===0)return[];let R=WP(n,l);return b&&x.size>0&&R.searchParams.set("_routes",e.filter(F=>x.has(F.route.id)).map(F=>F.route.id).join(",")),[R.pathname+R.search]},[l,c,r,i,p,e,n,a]),T=C.useMemo(()=>UP(g,i),[g,i]),S=GP(g);return C.createElement(C.Fragment,null,v.map(x=>C.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),T.map(x=>C.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),S.map(({key:x,link:b})=>C.createElement("link",{key:x,...b})))}function YP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DI&&(window.__reactRouterVersion="7.3.0")}catch{}function XP({basename:n,children:e,window:t}){let r=C.useRef();r.current==null&&(r.current=F2({window:t,v5Compat:!0}));let i=r.current,[a,l]=C.useState({action:i.action,location:i.location}),c=C.useCallback(h=>{C.startTransition(()=>l(h))},[l]);return C.useLayoutEffect(()=>i.listen(c),[i,c]),C.createElement(xP,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var LI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:v,...T},S){let{basename:x}=C.useContext(Or),b=typeof p=="string"&&LI.test(p),R,F=!1;if(typeof p=="string"&&b&&(R=p,DI))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),M=Di(L.pathname,x);L.origin===k.origin&&M!=null?p=M+L.search+L.hash:F=!0}catch{Nr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=cP(p,{relative:i}),[$,q,X]=qP(r,T),Z=tk(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:i,viewTransition:v});function N(k){e&&e(k),k.defaultPrevented||Z(k)}let P=C.createElement("a",{...T,...X,href:R||B,onClick:F||a?e:N,ref:YP(S,q),target:h,"data-discover":!b&&t==="render"?"true":void 0});return $&&!b?C.createElement(C.Fragment,null,P,C.createElement(KP,{page:B})):P});An.displayName="Link";var JP=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:h,...p},g){let v=mc(l,{relative:p.relative}),T=Qs(),S=C.useContext(ff),{navigator:x,basename:b}=C.useContext(Or),R=S!=null&&ok(v)&&c===!0,F=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,B=T.pathname,$=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(B=B.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&b&&($=Di($,b)||$);const q=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let X=B===F||!i&&B.startsWith(F)&&B.charAt(q)==="/",Z=$!=null&&($===F||!i&&$.startsWith(F)&&$.charAt(F.length)==="/"),N={isActive:X,isPending:Z,isTransitioning:R},P=X?e:void 0,k;typeof r=="function"?k=r(N):k=[r,X?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(N):a;return C.createElement(An,{...p,"aria-current":P,className:k,ref:g,style:L,to:l,viewTransition:c},typeof h=="function"?h(N):h)});JP.displayName="NavLink";var ZP=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=mh,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,...T},S)=>{let x=ik(),b=sk(c,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",F=typeof c=="string"&&LI.test(c),B=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let q=$.nativeEvent.submitter,X=(q==null?void 0:q.getAttribute("formmethod"))||l;x(q||$.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return C.createElement("form",{ref:S,method:R,action:b,onSubmit:r?h:B,...T,"data-discover":!F&&n==="render"?"true":void 0})});ZP.displayName="Form";function ek(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MI(n){let e=C.useContext(_l);return ht(e,ek(n)),e}function tk(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=si(),h=Qs(),p=mc(n,{relative:a});return C.useCallback(g=>{if(OP(g,e)){g.preventDefault();let v=t!==void 0?t:Zu(h)===Zu(p);c(n,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,p,t,r,e,n,i,a,l])}var nk=0,rk=()=>`__${String(++nk)}__`;function ik(){let{router:n}=MI("useSubmit"),{basename:e}=C.useContext(Or),t=TP();return C.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=MP(r,e);if(i.navigate===!1){let g=i.fetcherKey||rk();await n.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function sk(n,{relative:e}={}){let{basename:t}=C.useContext(Or),r=C.useContext(Dr);ht(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...mc(n||".",{relative:e})},l=Qs();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ki([t,a.pathname])),Zu(a)}function ok(n,e={}){let t=C.useContext(xI);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=MI("useViewTransitionState"),i=mc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Di(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Di(t.nextLocation.pathname,r)||t.nextLocation.pathname;return bh(i.pathname,l)!=null||bh(i.pathname,a)!=null}new TextEncoder;var cy=TI();const ak=hf(cy),lk="/Ureno_webdesign/assets/flooring-background-D6oQgrl-.png",uk="/Ureno_webdesign/assets/paint-background-DV-ynsPo.png",Pw="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.013,3.693,9.153,8.505,9.876V14.65H8.031v-2.629h2.474v-1.749%20c0-2.896,1.411-4.167,3.818-4.167c1.153,0,1.762,0.085,2.051,0.124v2.294h-1.642c-1.022,0-1.379,0.969-1.379,2.061v1.437h2.995%20l-0.406,2.629h-2.588v7.247C18.235,21.236,22,17.062,22,12C22,6.477,17.523,2,12,2z'/%3e%3c/svg%3e",kw="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%208%203%20C%205.243%203%203%205.243%203%208%20L%203%2016%20C%203%2018.757%205.243%2021%208%2021%20L%2016%2021%20C%2018.757%2021%2021%2018.757%2021%2016%20L%2021%208%20C%2021%205.243%2018.757%203%2016%203%20L%208%203%20z%20M%208%205%20L%2016%205%20C%2017.654%205%2019%206.346%2019%208%20L%2019%2016%20C%2019%2017.654%2017.654%2019%2016%2019%20L%208%2019%20C%206.346%2019%205%2017.654%205%2016%20L%205%208%20C%205%206.346%206.346%205%208%205%20z%20M%2017%206%20A%201%201%200%200%200%2016%207%20A%201%201%200%200%200%2017%208%20A%201%201%200%200%200%2018%207%20A%201%201%200%200%200%2017%206%20z%20M%2012%207%20C%209.243%207%207%209.243%207%2012%20C%207%2014.757%209.243%2017%2012%2017%20C%2014.757%2017%2017%2014.757%2017%2012%20C%2017%209.243%2014.757%207%2012%207%20z%20M%2012%209%20C%2013.654%209%2015%2010.346%2015%2012%20C%2015%2013.654%2013.654%2015%2012%2015%20C%2010.346%2015%209%2013.654%209%2012%20C%209%2010.346%2010.346%209%2012%209%20z'/%3e%3c/svg%3e",bw="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M%205%203%20C%203.895%203%203%203.895%203%205%20L%203%2019%20C%203%2020.105%203.895%2021%205%2021%20L%2019%2021%20C%2020.105%2021%2021%2020.105%2021%2019%20L%2021%205%20C%2021%203.895%2020.105%203%2019%203%20L%205%203%20z%20M%205%205%20L%2019%205%20L%2019%2019%20L%205%2019%20L%205%205%20z%20M%207.7792969%206.3164062%20C%206.9222969%206.3164062%206.4082031%206.8315781%206.4082031%207.5175781%20C%206.4082031%208.2035781%206.9223594%208.7167969%207.6933594%208.7167969%20C%208.5503594%208.7167969%209.0644531%208.2035781%209.0644531%207.5175781%20C%209.0644531%206.8315781%208.5502969%206.3164062%207.7792969%206.3164062%20z%20M%206.4765625%2010%20L%206.4765625%2017%20L%209%2017%20L%209%2010%20L%206.4765625%2010%20z%20M%2011.082031%2010%20L%2011.082031%2017%20L%2013.605469%2017%20L%2013.605469%2013.173828%20C%2013.605469%2012.034828%2014.418109%2011.871094%2014.662109%2011.871094%20C%2014.906109%2011.871094%2015.558594%2012.115828%2015.558594%2013.173828%20L%2015.558594%2017%20L%2018%2017%20L%2018%2013.173828%20C%2018%2010.976828%2017.023734%2010%2015.802734%2010%20C%2014.581734%2010%2013.930469%2010.406562%2013.605469%2010.976562%20L%2013.605469%2010%20L%2011.082031%2010%20z'/%3e%3c/svg%3e",Nw="/Ureno_webdesign/assets/icons8-youtube-logo-CImQkwOS.svg",gc=()=>w.jsxs("div",{className:"footer",children:[w.jsxs("div",{className:"left",children:[w.jsx("div",{className:"logo",children:"URENO"}),w.jsxs("div",{className:"social-sites",children:[w.jsx("object",{data:Pw,type:"image/svg+xml",children:w.jsx("img",{src:Pw})}),w.jsx("object",{data:kw,type:"image/svg+xml",children:w.jsx("img",{src:kw})}),w.jsx("object",{data:bw,type:"image/svg+xml",children:w.jsx("img",{src:bw})}),w.jsx("object",{data:Nw,type:"image/svg+xml",children:w.jsx("img",{src:Nw})})]})]}),w.jsxs("div",{className:"right",children:[w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]}),w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]}),w.jsxs("menu",{children:[w.jsx("li",{children:"Topic"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"}),w.jsx("li",{children:"Page"})]})]})]}),ig="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='40px'%20width='40px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20402.161%20402.161'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M201.08,49.778c-38.794,0-70.355,31.561-70.355,70.355c0,18.828,7.425,40.193,19.862,57.151%20c14.067,19.181,32,29.745,50.493,29.745c18.494,0,36.426-10.563,50.494-29.745c12.437-16.958,19.862-38.323,19.862-57.151%20C271.436,81.339,239.874,49.778,201.08,49.778z%20M201.08,192.029c-13.396,0-27.391-8.607-38.397-23.616%20c-10.46-14.262-16.958-32.762-16.958-48.28c0-30.523,24.832-55.355,55.355-55.355s55.355,24.832,55.355,55.355%20C256.436,151.824,230.372,192.029,201.08,192.029z'/%3e%3cpath%20d='M201.08,0C109.387,0,34.788,74.598,34.788,166.292c0,91.693,74.598,166.292,166.292,166.292%20s166.292-74.598,166.292-166.292C367.372,74.598,292.773,0,201.08,0z%20M201.08,317.584c-30.099-0.001-58.171-8.839-81.763-24.052%20c0.82-22.969,11.218-44.503,28.824-59.454c6.996-5.941,17.212-6.59,25.422-1.615c8.868,5.374,18.127,8.099,27.52,8.099%20c9.391,0,18.647-2.724,27.511-8.095c8.201-4.97,18.39-4.345,25.353,1.555c17.619,14.93,28.076,36.526,28.895,59.512%20C259.25,308.746,231.178,317.584,201.08,317.584z%20M296.981,283.218c-3.239-23.483-15.011-45.111-33.337-60.64%20c-11.89-10.074-29.1-11.256-42.824-2.939c-12.974,7.861-26.506,7.86-39.483-0.004c-13.74-8.327-30.981-7.116-42.906,3.01%20c-18.31,15.549-30.035,37.115-33.265,60.563c-33.789-27.77-55.378-69.868-55.378-116.915C49.788,82.869,117.658,15,201.08,15%20c83.423,0,151.292,67.869,151.292,151.292C352.372,213.345,330.778,255.448,296.981,283.218z'/%3e%3cpath%20d='M302.806,352.372H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,355.73,306.948,352.372,302.806,352.372z'/%3e%3cpath%20d='M302.806,387.161H99.354c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h203.452c4.142,0,7.5-3.358,7.5-7.5%20C310.307,390.519,306.948,387.161,302.806,387.161z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ck=()=>{};var Ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(n,e){if(!n)throw wl(e)},wl=function(n){return new Error("Firebase Database ("+VI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},dk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},dy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,g=a>>2,v=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,S=p&63;h||(S=64,l||(T=64)),r.push(t[g],t[v],t[T],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||v==null)throw new hk;const T=a<<2|c>>4;if(r.push(T),p!==64){const S=c<<4&240|p>>2;if(r.push(S),v!==64){const x=p<<6&192|v;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jI=function(n){const e=FI(n);return dy.encodeByteArray(e,!0)},Nh=function(n){return jI(n).replace(/\./g,"")},Oh=function(n){try{return dy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){return UI(void 0,n)}function UI(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!pk(t)||(n[t]=UI(n[t],e[t]));return n}function pk(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=()=>mk().__FIREBASE_DEFAULTS__,yk=()=>{if(typeof process>"u"||typeof Ow>"u")return;const n=Ow.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_k=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Oh(n[1]);return e&&JSON.parse(e)},mf=()=>{try{return ck()||gk()||yk()||_k()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},BI=n=>{var e,t;return(t=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hy=n=>{const e=BI(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$I=()=>{var n;return(n=mf())===null||n===void 0?void 0:n.config},zI=n=>{var e;return(e=mf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nh(JSON.stringify(t)),Nh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function my(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function vk(){var n;const e=(n=mf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ek(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tk(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ik(){return VI.NODE_ADMIN===!0}function Ck(){return!vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sk(){try{return typeof indexedDB=="object"}catch{return!1}}function Rk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="FirebaseError";class oi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=xk,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?Ak(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new oi(i,c,r)}}function Ak(n,e){return n.replace(Pk,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Pk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){return JSON.parse(n)}function Yt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=function(n){let e={},t={},r={},i="";try{const a=n.split(".");e=ec(Oh(a[0])||""),t=ec(Oh(a[1])||""),i=a[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},kk=function(n){const e=HI(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},bk=function(n){const e=HI(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function nl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function sg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dh(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Vs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(Dw(a)&&Dw(l)){if(!Vs(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Dw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ou(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Du(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let v=0;v<16;v++)r[v]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let v=16;v<80;v++){const T=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(T<<1|T>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],p,g;for(let v=0;v<80;v++){v<40?v<20?(p=c^a&(l^c),g=1518500249):(p=a^l^c,g=1859775393):v<60?(p=a&l|c&(a|l),g=2400959708):(p=a^l^c,g=3395469782);const T=(i<<5|i>>>27)+p+h+g+r[v]&4294967295;h=c,c=l,l=(a<<30|a>>>2)&4294967295,a=i,i=T}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const a=this.buf_;let l=this.inbuf_;for(;i<t;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(a[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}else for(;i<t;)if(a[l]=e[i],++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}function Ok(n,e){const t=new Dk(n,e);return t.subscribe.bind(t)}class Dk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Lk(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Rm),i.error===void 0&&(i.error=Rm),i.complete===void 0&&(i.complete=Rm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rm(){}function Mk(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const a=i-55296;r++,ce(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;i=65536+(a<<10)+l}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gf=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(n){return n&&n._delegate?n._delegate:n}class Li{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fk=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new fy;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uk(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jk(n){return n===ko?void 0:n}function Uk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Fk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const $k={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},zk=Me.INFO,Wk={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Hk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Wk[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yf{constructor(e){this.name=e,this._logLevel=zk,this._logHandler=Hk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const qk=(n,e)=>e.some(t=>n instanceof t);let Lw,Mw;function Kk(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gk(){return Mw||(Mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qI=new WeakMap,og=new WeakMap,KI=new WeakMap,xm=new WeakMap,gy=new WeakMap;function Qk(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ks(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&qI.set(t,n)}).catch(()=>{}),gy.set(e,n),e}function Yk(n){if(og.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});og.set(n,e)}let ag={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return og.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Xk(n){ag=n(ag)}function Jk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Am(this),e,...t);return KI.set(r,e.sort?e.sort():[e]),ks(r)}:Gk().includes(n)?function(...e){return n.apply(Am(this),e),ks(qI.get(this))}:function(...e){return ks(n.apply(Am(this),e))}}function Zk(n){return typeof n=="function"?Jk(n):(n instanceof IDBTransaction&&Yk(n),qk(n,Kk())?new Proxy(n,ag):n)}function ks(n){if(n instanceof IDBRequest)return Qk(n);if(xm.has(n))return xm.get(n);const e=Zk(n);return e!==n&&(xm.set(n,e),gy.set(e,n)),e}const Am=n=>gy.get(n);function eb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=ks(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ks(l.result),h.oldVersion,h.newVersion,ks(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const tb=["get","getKey","getAll","getAllKeys","count"],nb=["put","add","delete","clear"],Pm=new Map;function Vw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=nb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tb.includes(t)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&h.done]))[0]};return Pm.set(e,a),a}Xk(n=>({...n,get:(e,t,r)=>Vw(e,t)||n.get(e,t,r),has:(e,t)=>!!Vw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ib(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ib(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lg="@firebase/app",Fw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new yf("@firebase/app"),sb="@firebase/app-compat",ob="@firebase/analytics-compat",ab="@firebase/analytics",lb="@firebase/app-check-compat",ub="@firebase/app-check",cb="@firebase/auth",db="@firebase/auth-compat",hb="@firebase/database",fb="@firebase/data-connect",pb="@firebase/database-compat",mb="@firebase/functions",gb="@firebase/functions-compat",yb="@firebase/installations",_b="@firebase/installations-compat",vb="@firebase/messaging",wb="@firebase/messaging-compat",Eb="@firebase/performance",Tb="@firebase/performance-compat",Ib="@firebase/remote-config",Cb="@firebase/remote-config-compat",Sb="@firebase/storage",Rb="@firebase/storage-compat",xb="@firebase/firestore",Ab="@firebase/vertexai",Pb="@firebase/firestore-compat",kb="firebase",bb="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="[DEFAULT]",Nb={[lg]:"fire-core",[sb]:"fire-core-compat",[ab]:"fire-analytics",[ob]:"fire-analytics-compat",[ub]:"fire-app-check",[lb]:"fire-app-check-compat",[cb]:"fire-auth",[db]:"fire-auth-compat",[hb]:"fire-rtdb",[fb]:"fire-data-connect",[pb]:"fire-rtdb-compat",[mb]:"fire-fn",[gb]:"fire-fn-compat",[yb]:"fire-iid",[_b]:"fire-iid-compat",[vb]:"fire-fcm",[wb]:"fire-fcm-compat",[Eb]:"fire-perf",[Tb]:"fire-perf-compat",[Ib]:"fire-rc",[Cb]:"fire-rc-compat",[Sb]:"fire-gcs",[Rb]:"fire-gcs-compat",[xb]:"fire-fst",[Pb]:"fire-fst-compat",[Ab]:"fire-vertex","fire-js":"fire-js",[kb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,Ob=new Map,cg=new Map;function jw(n,e){try{n.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fs(n){const e=n.name;if(cg.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,n);for(const t of Lh.values())jw(t,n);for(const t of Ob.values())jw(t,n);return!0}function _c(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new yc("app","Firebase",Db);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=bb;function GI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ug,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bs.create("bad-app-name",{appName:String(i)});if(t||(t=$I()),!t)throw bs.create("no-options");const a=Lh.get(i);if(a){if(Vs(t,a.options)&&Vs(r,a.config))return a;throw bs.create("duplicate-app",{appName:i})}const l=new Bk(i);for(const h of cg.values())l.addComponent(h);const c=new Lb(t,r,l);return Lh.set(i,c),c}function _f(n=ug){const e=Lh.get(n);if(!e&&n===ug&&$I())return GI();if(!e)throw bs.create("no-app",{appName:n});return e}function ir(n,e,t){var r;let i=(r=Nb[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(c.join(" "));return}Fs(new Li(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebase-heartbeat-database",Vb=1,tc="firebase-heartbeat-store";let km=null;function QI(){return km||(km=eb(Mb,Vb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tc)}catch(t){console.warn(t)}}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),km}async function Fb(n){try{const t=(await QI()).transaction(tc),r=await t.objectStore(tc).get(YI(n));return await t.done,r}catch(e){if(e instanceof oi)Mi.warn(e.message);else{const t=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function Uw(n,e){try{const r=(await QI()).transaction(tc,"readwrite");await r.objectStore(tc).put(e,YI(n)),await r.done}catch(t){if(t instanceof oi)Mi.warn(t.message);else{const r=bs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(r.message)}}}function YI(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1024,Ub=30;class Bb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Bw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Ub){const l=Wb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Bw(),{heartbeatsToSend:r,unsentEntries:i}=$b(this._heartbeatsCache.heartbeats),a=Nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Mi.warn(t),""}}}function Bw(){return new Date().toISOString().substring(0,10)}function $b(n,e=jb){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),$w(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$w(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class zb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sk()?Rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Fb(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $w(n){return Nh(JSON.stringify({version:2,heartbeats:n})).length}function Wb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n){Fs(new Li("platform-logger",e=>new rb(e),"PRIVATE")),Fs(new Li("heartbeat",e=>new Bb(e),"PRIVATE")),ir(lg,Fw,n),ir(lg,Fw,"esm2017"),ir("fire-js","")}Hb("");function yy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qb=XI,JI=new yc("auth","Firebase",XI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new yf("@firebase/auth");function Kb(n,...e){Mh.logLevel<=Me.WARN&&Mh.warn(`Auth (${Ys}): ${n}`,...e)}function yh(n,...e){Mh.logLevel<=Me.ERROR&&Mh.error(`Auth (${Ys}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...e){throw vy(n,...e)}function Pr(n,...e){return vy(n,...e)}function _y(n,e,t){const r=Object.assign(Object.assign({},qb()),{[e]:t});return new yc("auth","Firebase",r).create(e,{appName:n.name})}function bi(n){return _y(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gb(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&or(n,"argument-error"),_y(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return JI.create(n,...e)}function Ce(n,e,...t){if(!n)throw vy(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yh(e),new Error(e)}function Vi(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Qb(){return zw()==="http:"||zw()==="https:"}function zw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qb()||Ek()||"connection"in navigator)?navigator.onLine:!0}function Xb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=my()||WI()}get(){return Yb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e){Vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=new vc(3e4,6e4);function Xs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Wi(n,e,t,r,i={}){return eC(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=El(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return wk()||(p.referrerPolicy="no-referrer"),ZI.fetch()(tC(n,n.config.apiHost,t,c),p)})}async function eC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jb),e);try{const i=new tN(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw th(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw th(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw th(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _y(n,g,p);or(n,g)}}catch(i){if(i instanceof oi)throw i;or(n,"network-request-failed",{message:String(i)})}}async function wc(n,e,t,r,i={}){const a=await Wi(n,e,t,r,i);return"mfaPendingCredential"in a&&or(n,"multi-factor-auth-required",{_serverResponse:a}),a}function tC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?wy(n.config,i):`${n.config.apiScheme}://${i}`}function eN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),Zb.get())})}}function th(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Pr(n,e,r);return i.customData._tokenResponse=t,i}function Ww(n){return n!==void 0&&n.enterprise!==void 0}class nN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rN(n,e){return Wi(n,"GET","/v2/recaptchaConfig",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e){return Wi(n,"POST","/v1/accounts:delete",e)}async function nC(n,e){return Wi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sN(n,e=!1){const t=It(n),r=await t.getIdToken(e),i=Ey(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ju(bm(i.auth_time)),issuedAtTime:ju(bm(i.iat)),expirationTime:ju(bm(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function bm(n){return Number(n)*1e3}function Ey(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Oh(t);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Hw(n){const e=Ey(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof oi&&oN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function oN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await rl(n,nC(t,{idToken:r}));Ce(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?rC(a.providerUserInfo):[],c=uN(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new hg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function lN(n){const e=It(n);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rC(n){return n.map(e=>{var{providerId:t}=e,r=yy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(n,e){const t=await eC(n,{},async()=>{const r=El({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=tC(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ZI.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dN(n,e){return Wi(n,"POST","/v2/accounts:revokeToken",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=Hw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await cN(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Qa;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await rl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sN(this,e)}reload(){return lN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await rl(this,iN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,h,p,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,x=(l=t.photoURL)!==null&&l!==void 0?l:void 0,b=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,B=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:$,emailVerified:q,isAnonymous:X,providerData:Z,stsTokenManager:N}=t;Ce($&&N,e,"internal-error");const P=Qa.fromJSON(this.name,N);Ce(typeof $=="string",e,"internal-error"),Ts(v,e.name),Ts(T,e.name),Ce(typeof q=="boolean",e,"internal-error"),Ce(typeof X=="boolean",e,"internal-error"),Ts(S,e.name),Ts(x,e.name),Ts(b,e.name),Ts(R,e.name),Ts(F,e.name),Ts(B,e.name);const k=new xi({uid:$,auth:e,email:T,emailVerified:q,displayName:v,isAnonymous:X,photoURL:x,phoneNumber:S,tenantId:b,stsTokenManager:P,createdAt:F,lastLoginAt:B});return Z&&Array.isArray(Z)&&(k.providerData=Z.map(L=>Object.assign({},L))),R&&(k._redirectEventId=R),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Qa;i.updateFromServerResponse(t);const a=new xi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ce(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?rC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Qa;c.updateFromIdToken(r);const h=new xi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function Ai(n){Vi(n instanceof Function,"Expected a class definition");let e=qw.get(n);return e?(Vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iC.type="NONE";const Kw=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(n,e,t){return`firebase:${n}:${e}:${t}`}class Ya{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=_h(this.userKey,i.apiKey,a),this.fullPersistenceKey=_h("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ya(Ai(Kw),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Ai(Kw);const l=_h(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const v=xi._fromJSON(e,g);p!==a&&(c=v),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ya(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ya(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cC(e))return"Blackberry";if(dC(e))return"Webos";if(oC(e))return"Safari";if((e.includes("chrome/")||aC(e))&&!e.includes("edge/"))return"Chrome";if(uC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sC(n=cn()){return/firefox\//i.test(n)}function oC(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aC(n=cn()){return/crios\//i.test(n)}function lC(n=cn()){return/iemobile/i.test(n)}function uC(n=cn()){return/android/i.test(n)}function cC(n=cn()){return/blackberry/i.test(n)}function dC(n=cn()){return/webos/i.test(n)}function Ty(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hN(n=cn()){var e;return Ty(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fN(){return Tk()&&document.documentMode===10}function hC(n=cn()){return Ty(n)||uC(n)||dC(n)||cC(n)||/windows phone/i.test(n)||lC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n,e=[]){let t;switch(n){case"Browser":t=Gw(cn());break;case"Worker":t=`${Gw(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ys}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n,e={}){return Wi(n,"GET","/v2/passwordPolicy",Xs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=6;class yN{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:gN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qw(this),this.idTokenSubscription=new Qw(this),this.beforeStateQueue=new pN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nC(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(bi(this));const t=e?It(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mN(this),t=new yN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await dN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ai(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Kb(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Js(n){return It(n)}class Qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ok(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vN(n){vf=n}function pC(n){return vf.loadJS(n)}function wN(){return vf.recaptchaEnterpriseScript}function EN(){return vf.gapiScript}function TN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class IN{constructor(){this.enterprise=new CN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SN="recaptcha-enterprise",mC="NO_RECAPTCHA";class RN{constructor(e){this.type=SN,this.auth=Js(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{rN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new nN(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function i(a,l,c){const h=window.grecaptcha;Ww(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(mC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&Ww(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=wN();h.length!==0&&(h+=c),pC(h).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function Yw(n,e,t,r=!1,i=!1){const a=new RN(n);let l;if(i)l=mC;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function fg(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Yw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Yw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n,e){const t=_c(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Vs(a,e??{}))return i;or(i,"already-initialized")}return t.initialize({options:e})}function AN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ai);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PN(n,e,t){const r=Js(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=gC(e),{host:l,port:c}=kN(e),h=c===null?"":`:${c}`,p={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Vs(p,r.config.emulator)&&Vs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,bN()}function gC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kN(n){const e=gC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Xw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Xw(l)}}}function Xw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function NN(n,e){return Wi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,e){return wc(n,"POST","/v1/accounts:signInWithPassword",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,e){return wc(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}async function LN(n,e){return wc(n,"POST","/v1/accounts:signInWithEmailLink",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Iy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new nc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new nc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(e,t,"signInWithPassword",ON);case"emailLink":return DN(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(e,r,"signUpPassword",NN);case"emailLink":return LN(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(n,e){return wc(n,"POST","/v1/accounts:signInWithIdp",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="http://localhost";class Vo extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=yy(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Vo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Xa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Xa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xa(e,t)}buildRequest(){const e={requestUri:MN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=El(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FN(n){const e=Ou(Du(n)).link,t=e?Ou(Du(e)).deep_link_id:null,r=Ou(Du(n)).deep_link_id;return(r?Ou(Du(r)).link:null)||r||t||e||n}class Cy{constructor(e){var t,r,i,a,l,c;const h=Ou(Du(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,v=VN((i=h.mode)!==null&&i!==void 0?i:null);Ce(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=FN(e);try{return new Cy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,t){return nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Cy.parseLink(t);return Ce(r,"argument-error"),nc._fromEmailAndCode(e,r.code,r.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Ec{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Qr.credential(t,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Ec{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Ec{constructor(){super("twitter.com")}static credential(e,t){return Vo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xs.credential(t,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e){return wc(n,"POST","/v1/accounts:signUp",Xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await xi._fromIdTokenResponse(e,r,i),l=Jw(r);return new Fo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Jw(r);return new Fo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Jw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends oi{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Fh(e,t,r,i)}}function yC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(n,a,e,r):a})}async function UN(n,e,t=!1){const r=await rl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(n,e,t=!1){const{auth:r}=n;if(yn(r.app))return Promise.reject(bi(r));const i="reauthenticate";try{const a=await rl(n,yC(r,i,e,n),t);Ce(a.idToken,r,"internal-error");const l=Ey(a.idToken);Ce(l,r,"internal-error");const{sub:c}=l;return Ce(n.uid===c,r,"user-mismatch"),Fo._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&or(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(n,e,t=!1){if(yn(n.app))return Promise.reject(bi(n));const r="signIn",i=await yC(n,r,e),a=await Fo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function $N(n,e){return _C(Js(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n){const e=Js(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zN(n,e,t){if(yn(n.app))return Promise.reject(bi(n));const r=Js(n),l=await fg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&vC(n),h}),c=await Fo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function WN(n,e,t){return yn(n.app)?Promise.reject(bi(n)):$N(It(n),Tl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vC(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e){return Wi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=It(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await rl(r,HN(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function KN(n,e,t,r){return It(n).onIdTokenChanged(e,t,r)}function GN(n,e,t){return It(n).beforeAuthStateChanged(e,t)}function Ry(n,e,t,r){return It(n).onAuthStateChanged(e,t,r)}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=1e3,YN=10;class EC extends wC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);fN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,YN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}EC.type="LOCAL";const XN=EC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends wC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TC.type="SESSION";const IC=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),h=await JN(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=xy("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function eO(n){Jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function tO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function rO(){return CC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebaseLocalStorageDb",iO=1,Uh="firebaseLocalStorage",RC="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ef(n,e){return n.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function sO(){const n=indexedDB.deleteDatabase(SC);return new Tc(n).toPromise()}function pg(){const n=indexedDB.open(SC,iO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Uh,{keyPath:RC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await sO(),e(await pg()))})})}async function Zw(n,e,t){const r=Ef(n,!0).put({[RC]:e,value:t});return new Tc(r).toPromise()}async function oO(n,e){const t=Ef(n,!1).get(e),r=await new Tc(t).toPromise();return r===void 0?null:r.value}function eE(n,e){const t=Ef(n,!0).delete(e);return new Tc(t).toPromise()}const aO=800,lO=3;class xC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>lO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(rO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tO(),!this.activeServiceWorker)return;this.sender=new ZN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pg();return await Zw(e,jh,"1"),await eE(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Zw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>oO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ef(i,!1).getAll();return new Tc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xC.type="LOCAL";const uO=xC;new vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n,e){return e?Ai(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cO(n){return _C(n.auth,new Ay(n),n.bypassAuthState)}function dO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),BN(t,new Ay(n),n.bypassAuthState)}async function hO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),UN(t,new Ay(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cO;case"linkViaPopup":case"linkViaRedirect":return hO;case"reauthViaPopup":case"reauthViaRedirect":return dO;default:or(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new vc(2e3,1e4);async function pO(n,e,t){if(yn(n.app))return Promise.reject(Pr(n,"operation-not-supported-in-this-environment"));const r=Js(n);Gb(n,e,Sy);const i=AC(r,t);return new No(r,"signInViaPopup",e,i).executeNotNull()}class No extends PC{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fO.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="pendingRedirect",vh=new Map;class gO extends PC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await yO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yO(n,e){const t=wO(e),r=vO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function _O(n,e){vh.set(n._key(),e)}function vO(n){return Ai(n._redirectPersistence)}function wO(n){return _h(mO,n.config.apiKey,n.name)}async function EO(n,e,t=!1){if(yn(n.app))return Promise.reject(bi(n));const r=Js(n),i=AC(r,e),l=await new gO(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=10*60*1e3;class IO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TO&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(n,e={}){return Wi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xO=/^https?/;async function AO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await SO(n);for(const t of e)try{if(PO(t))return}catch{}or(n,"unauthorized-domain")}function PO(n){const e=dg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!xO.test(t))return!1;if(RO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new vc(3e4,6e4);function nE(){const n=Jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bO(n){return new Promise((e,t)=>{var r,i,a;function l(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),t(Pr(n,"network-request-failed"))},timeout:kO.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Jr().gapi)===null||a===void 0)&&a.load)l();else{const c=TN("iframefcb");return Jr()[c]=()=>{gapi.load?l():t(Pr(n,"network-request-failed"))},pC(`${EN()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw wh=null,e})}let wh=null;function NO(n){return wh=wh||bO(n),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new vc(5e3,15e3),DO="__/auth/iframe",LO="emulator/auth/iframe",MO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FO(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wy(e,LO):`https://${n.config.authDomain}/${DO}`,r={apiKey:e.apiKey,appName:n.name,v:Ys},i=VO.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${El(r).slice(1)}`}async function jO(n){const e=await NO(n),t=Jr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:FO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Pr(n,"network-request-failed"),c=Jr().setTimeout(()=>{a(l)},OO.get());function h(){Jr().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BO=500,$O=600,zO="_blank",WO="http://localhost";class rE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HO(n,e,t,r=BO,i=$O){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},UO),{width:r.toString(),height:i.toString(),top:a,left:l}),p=cn().toLowerCase();t&&(c=aC(p)?zO:t),sC(p)&&(e=e||WO,h.scrollbars="yes");const g=Object.entries(h).reduce((T,[S,x])=>`${T}${S}=${x},`,"");if(hN(p)&&c!=="_self")return qO(e||"",c),new rE(null);const v=window.open(e||"",c,g);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new rE(v)}function qO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="__/auth/handler",GO="emulator/auth/handler",QO=encodeURIComponent("fac");async function iE(n,e,t,r,i,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ys,eventId:i};if(e instanceof Sy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",sg(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Ec){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),p=h?`#${QO}=${encodeURIComponent(h)}`:"";return`${YO(n)}?${El(c).slice(1)}${p}`}function YO({config:n}){return n.emulator?wy(n,GO):`https://${n.authDomain}/${KO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class XO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IC,this._completeRedirectFn=EO,this._overrideRedirectResult=_O}async _openPopup(e,t,r,i){var a;Vi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await iE(e,t,r,dg(),i);return HO(e,l,xy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await iE(e,t,r,dg(),i);return eO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Vi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jO(e),r=new IO(e);return t.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Nm];l!==void 0&&t(!!l),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hC()||oC()||Ty()}}const JO=XO;var sE="@firebase/auth",oE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tD(n){Fs(new Li("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fC(n)},p=new _N(r,i,a,h);return AN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new Li("auth-internal",e=>{const t=Js(e.getProvider("auth").getImmediate());return(r=>new ZO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(sE,oE,eD(n)),ir(sE,oE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=5*60,rD=zI("authIdTokenMaxAge")||nD;let aE=null;const iD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rD)return;const i=t==null?void 0:t.token;aE!==i&&(aE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Py(n=_f()){const e=_c(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xN(n,{popupRedirectResolver:JO,persistence:[uO,XN,IC]}),r=zI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=iD(a.toString());GN(t,l,()=>l(t.currentUser)),KN(t,c=>l(c))}}const i=BI("auth");return i&&PN(t,`http://${i}`),t}function sD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Pr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",sD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tD("Browser");var oD="firebase",aD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(oD,aD,"app");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,bC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function k(){}k.prototype=P.prototype,N.D=P.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,M,V){for(var O=Array(arguments.length-2),le=2;le<arguments.length;le++)O[le-2]=arguments[le];return P.prototype[M].apply(L,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,P,k){k||(k=0);var L=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)L[M]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(M=0;16>M;++M)L[M]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=N.g[0],k=N.g[1],M=N.g[2];var V=N.g[3],O=P+(V^k&(M^V))+L[0]+3614090360&4294967295;P=k+(O<<7&4294967295|O>>>25),O=V+(M^P&(k^M))+L[1]+3905402710&4294967295,V=P+(O<<12&4294967295|O>>>20),O=M+(k^V&(P^k))+L[2]+606105819&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(P^M&(V^P))+L[3]+3250441966&4294967295,k=M+(O<<22&4294967295|O>>>10),O=P+(V^k&(M^V))+L[4]+4118548399&4294967295,P=k+(O<<7&4294967295|O>>>25),O=V+(M^P&(k^M))+L[5]+1200080426&4294967295,V=P+(O<<12&4294967295|O>>>20),O=M+(k^V&(P^k))+L[6]+2821735955&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(P^M&(V^P))+L[7]+4249261313&4294967295,k=M+(O<<22&4294967295|O>>>10),O=P+(V^k&(M^V))+L[8]+1770035416&4294967295,P=k+(O<<7&4294967295|O>>>25),O=V+(M^P&(k^M))+L[9]+2336552879&4294967295,V=P+(O<<12&4294967295|O>>>20),O=M+(k^V&(P^k))+L[10]+4294925233&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(P^M&(V^P))+L[11]+2304563134&4294967295,k=M+(O<<22&4294967295|O>>>10),O=P+(V^k&(M^V))+L[12]+1804603682&4294967295,P=k+(O<<7&4294967295|O>>>25),O=V+(M^P&(k^M))+L[13]+4254626195&4294967295,V=P+(O<<12&4294967295|O>>>20),O=M+(k^V&(P^k))+L[14]+2792965006&4294967295,M=V+(O<<17&4294967295|O>>>15),O=k+(P^M&(V^P))+L[15]+1236535329&4294967295,k=M+(O<<22&4294967295|O>>>10),O=P+(M^V&(k^M))+L[1]+4129170786&4294967295,P=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(P^k))+L[6]+3225465664&4294967295,V=P+(O<<9&4294967295|O>>>23),O=M+(P^k&(V^P))+L[11]+643717713&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^P&(M^V))+L[0]+3921069994&4294967295,k=M+(O<<20&4294967295|O>>>12),O=P+(M^V&(k^M))+L[5]+3593408605&4294967295,P=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(P^k))+L[10]+38016083&4294967295,V=P+(O<<9&4294967295|O>>>23),O=M+(P^k&(V^P))+L[15]+3634488961&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^P&(M^V))+L[4]+3889429448&4294967295,k=M+(O<<20&4294967295|O>>>12),O=P+(M^V&(k^M))+L[9]+568446438&4294967295,P=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(P^k))+L[14]+3275163606&4294967295,V=P+(O<<9&4294967295|O>>>23),O=M+(P^k&(V^P))+L[3]+4107603335&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^P&(M^V))+L[8]+1163531501&4294967295,k=M+(O<<20&4294967295|O>>>12),O=P+(M^V&(k^M))+L[13]+2850285829&4294967295,P=k+(O<<5&4294967295|O>>>27),O=V+(k^M&(P^k))+L[2]+4243563512&4294967295,V=P+(O<<9&4294967295|O>>>23),O=M+(P^k&(V^P))+L[7]+1735328473&4294967295,M=V+(O<<14&4294967295|O>>>18),O=k+(V^P&(M^V))+L[12]+2368359562&4294967295,k=M+(O<<20&4294967295|O>>>12),O=P+(k^M^V)+L[5]+4294588738&4294967295,P=k+(O<<4&4294967295|O>>>28),O=V+(P^k^M)+L[8]+2272392833&4294967295,V=P+(O<<11&4294967295|O>>>21),O=M+(V^P^k)+L[11]+1839030562&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^P)+L[14]+4259657740&4294967295,k=M+(O<<23&4294967295|O>>>9),O=P+(k^M^V)+L[1]+2763975236&4294967295,P=k+(O<<4&4294967295|O>>>28),O=V+(P^k^M)+L[4]+1272893353&4294967295,V=P+(O<<11&4294967295|O>>>21),O=M+(V^P^k)+L[7]+4139469664&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^P)+L[10]+3200236656&4294967295,k=M+(O<<23&4294967295|O>>>9),O=P+(k^M^V)+L[13]+681279174&4294967295,P=k+(O<<4&4294967295|O>>>28),O=V+(P^k^M)+L[0]+3936430074&4294967295,V=P+(O<<11&4294967295|O>>>21),O=M+(V^P^k)+L[3]+3572445317&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^P)+L[6]+76029189&4294967295,k=M+(O<<23&4294967295|O>>>9),O=P+(k^M^V)+L[9]+3654602809&4294967295,P=k+(O<<4&4294967295|O>>>28),O=V+(P^k^M)+L[12]+3873151461&4294967295,V=P+(O<<11&4294967295|O>>>21),O=M+(V^P^k)+L[15]+530742520&4294967295,M=V+(O<<16&4294967295|O>>>16),O=k+(M^V^P)+L[2]+3299628645&4294967295,k=M+(O<<23&4294967295|O>>>9),O=P+(M^(k|~V))+L[0]+4096336452&4294967295,P=k+(O<<6&4294967295|O>>>26),O=V+(k^(P|~M))+L[7]+1126891415&4294967295,V=P+(O<<10&4294967295|O>>>22),O=M+(P^(V|~k))+L[14]+2878612391&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~P))+L[5]+4237533241&4294967295,k=M+(O<<21&4294967295|O>>>11),O=P+(M^(k|~V))+L[12]+1700485571&4294967295,P=k+(O<<6&4294967295|O>>>26),O=V+(k^(P|~M))+L[3]+2399980690&4294967295,V=P+(O<<10&4294967295|O>>>22),O=M+(P^(V|~k))+L[10]+4293915773&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~P))+L[1]+2240044497&4294967295,k=M+(O<<21&4294967295|O>>>11),O=P+(M^(k|~V))+L[8]+1873313359&4294967295,P=k+(O<<6&4294967295|O>>>26),O=V+(k^(P|~M))+L[15]+4264355552&4294967295,V=P+(O<<10&4294967295|O>>>22),O=M+(P^(V|~k))+L[6]+2734768916&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~P))+L[13]+1309151649&4294967295,k=M+(O<<21&4294967295|O>>>11),O=P+(M^(k|~V))+L[4]+4149444226&4294967295,P=k+(O<<6&4294967295|O>>>26),O=V+(k^(P|~M))+L[11]+3174756917&4294967295,V=P+(O<<10&4294967295|O>>>22),O=M+(P^(V|~k))+L[2]+718787259&4294967295,M=V+(O<<15&4294967295|O>>>17),O=k+(V^(M|~P))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.u=function(N,P){P===void 0&&(P=N.length);for(var k=P-this.blockSize,L=this.B,M=this.h,V=0;V<P;){if(M==0)for(;V<=k;)i(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<P;)if(L[M++]=N.charCodeAt(V++),M==this.blockSize){i(this,L),M=0;break}}else for(;V<P;)if(L[M++]=N[V++],M==this.blockSize){i(this,L),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;var k=8*this.o;for(P=N.length-8;P<N.length;++P)N[P]=k&255,k/=256;for(this.u(N),N=Array(16),P=k=0;4>P;++P)for(var L=0;32>L;L+=8)N[k++]=this.g[P]>>>L&255;return N};function a(N,P){var k=c;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=P(N)}function l(N,P){this.h=P;for(var k=[],L=!0,M=N.length-1;0<=M;M--){var V=N[M]|0;L&&V==P||(k[M]=V,L=!1)}this.g=k}var c={};function h(N){return-128<=N&&128>N?a(N,function(P){return new l([P|0],0>P?-1:0)}):new l([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return R(p(-N));for(var P=[],k=1,L=0;N>=k;L++)P[L]=N/k|0,k*=4294967296;return new l(P,0)}function g(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return R(g(N.substring(1),P));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(P,8)),L=v,M=0;M<N.length;M+=8){var V=Math.min(8,N.length-M),O=parseInt(N.substring(M,M+V),P);8>V?(V=p(Math.pow(P,V)),L=L.j(V).add(p(O))):(L=L.j(k),L=L.add(p(O)))}return L}var v=h(0),T=h(1),S=h(16777216);n=l.prototype,n.m=function(){if(b(this))return-R(this).m();for(var N=0,P=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*P,P*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(b(this))return"-"+R(this).toString(N);for(var P=p(Math.pow(N,6)),k=this,L="";;){var M=q(k,P).g;k=F(k,M.j(P));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=M,x(k))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function b(N){return N.h==-1}n.l=function(N){return N=F(this,N),b(N)?-1:x(N)?0:1};function R(N){for(var P=N.g.length,k=[],L=0;L<P;L++)k[L]=~N.g[L];return new l(k,~N.h).add(T)}n.abs=function(){return b(this)?R(this):this},n.add=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0,M=0;M<=P;M++){var V=L+(this.i(M)&65535)+(N.i(M)&65535),O=(V>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);L=O>>>16,V&=65535,O&=65535,k[M]=O<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function F(N,P){return N.add(R(P))}n.j=function(N){if(x(this)||x(N))return v;if(b(this))return b(N)?R(this).j(R(N)):R(R(this).j(N));if(b(N))return R(this.j(R(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var P=this.g.length+N.g.length,k=[],L=0;L<2*P;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<N.g.length;M++){var V=this.i(L)>>>16,O=this.i(L)&65535,le=N.i(M)>>>16,Se=N.i(M)&65535;k[2*L+2*M]+=O*Se,B(k,2*L+2*M),k[2*L+2*M+1]+=V*Se,B(k,2*L+2*M+1),k[2*L+2*M+1]+=O*le,B(k,2*L+2*M+1),k[2*L+2*M+2]+=V*le,B(k,2*L+2*M+2)}for(L=0;L<P;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=P;L<2*P;L++)k[L]=0;return new l(k,0)};function B(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function $(N,P){this.g=N,this.h=P}function q(N,P){if(x(P))throw Error("division by zero");if(x(N))return new $(v,v);if(b(N))return P=q(R(N),P),new $(R(P.g),R(P.h));if(b(P))return P=q(N,R(P)),new $(R(P.g),P.h);if(30<N.g.length){if(b(N)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var k=T,L=P;0>=L.l(N);)k=X(k),L=X(L);var M=Z(k,1),V=Z(L,1);for(L=Z(L,2),k=Z(k,2);!x(L);){var O=V.add(L);0>=O.l(N)&&(M=M.add(k),V=O),L=Z(L,1),k=Z(k,1)}return P=F(N,M.j(P)),new $(M,P)}for(M=v;0<=N.l(P);){for(k=Math.max(1,Math.floor(N.m()/P.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=p(k),O=V.j(P);b(O)||0<O.l(N);)k-=L,V=p(k),O=V.j(P);x(V)&&(V=T),M=M.add(V),N=F(N,O)}return new $(M,N)}n.A=function(N){return q(this,N).h},n.and=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)&N.i(L);return new l(k,this.h&N.h)},n.or=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)|N.i(L);return new l(k,this.h|N.h)},n.xor=function(N){for(var P=Math.max(this.g.length,N.g.length),k=[],L=0;L<P;L++)k[L]=this.i(L)^N.i(L);return new l(k,this.h^N.h)};function X(N){for(var P=N.g.length+1,k=[],L=0;L<P;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new l(k,N.h)}function Z(N,P){var k=P>>5;P%=32;for(var L=N.g.length-k,M=[],V=0;V<L;V++)M[V]=0<P?N.i(V+k)>>>P|N.i(V+k+1)<<32-P:N.i(V+k);return new l(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ns=l}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NC,Lu,OC,Eh,mg,DC,LC,MC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var W=d[A];if(!(W in E))break e;E=E[W]}d=d[d.length-1],A=E[d],y=y(A),y!=A&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var E=0,A=!1,W={next:function(){if(!A&&E<d.length){var Q=E++;return{value:y(Q,d[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function v(d,y,E){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function T(d,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,T.apply(null,arguments)}function S(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function x(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(A,W,Q){for(var ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ae[Je-2]=arguments[Je];return y.prototype[W].apply(A,ae)}}function b(d){const y=d.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=d[A];return E}return[]}function R(d,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(h(A)){const W=d.length||0,Q=A.length||0;d.length=W+Q;for(let ae=0;ae<Q;ae++)d[W+ae]=A[ae]}else d.push(A)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var X=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Z(d,y,E){for(const A in d)y.call(E,d[A],A,d)}function N(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function P(d){const y={};for(const E in d)y[E]=d[E];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,y){let E,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(E in A)d[E]=A[E];for(let Q=0;Q<k.length;Q++)E=k[Q],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function M(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function V(d){c.setTimeout(()=>{throw d},0)}function O(){var d=ue;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class le{constructor(){this.h=this.g=null}add(y,E){const A=Se.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Se=new F(()=>new xe,d=>d.reset());class xe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ie=!1,ue=new le,se=()=>{const d=c.Promise.resolve(void 0);Te=()=>{d.then(z)}};var z=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){V(E)}var y=Se;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function Ae(d,y){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(X){e:{try{q(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}x(Ae,fe);var Oe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),De=0;function Qe(d,y,E,A,W){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=W,this.key=++De,this.da=this.fa=!1}function Ct(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function On(d){this.src=d,this.g={},this.h=0}On.prototype.add=function(d,y,E,A,W){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ae=cr(d,y,A,W);return-1<ae?(y=d[ae],E||(y.fa=!1)):(y=new Qe(y,this.src,Q,!!A,W),y.fa=E,d.push(y)),y};function Hi(d,y){var E=y.type;if(E in d.g){var A=d.g[E],W=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(A,W,1),Q&&(Ct(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function cr(d,y,E,A){for(var W=0;W<d.length;++W){var Q=d[W];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==A)return W}return-1}var li="closure_lm_"+(1e6*Math.random()|0),qi={};function Ki(d,y,E,A,W){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Ki(d,y[Q],E,A,W);return null}return E=Xi(E),d&&d[Ve]?d.K(y,E,p(A)?!!A.capture:!1,W):Gi(d,y,E,!1,A,W)}function Gi(d,y,E,A,W,Q){if(!y)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,Je=ui(d);if(Je||(d[li]=Je=new On(d)),E=Je.add(y,E,A,ae,Q),E.proxy)return E;if(A=Zo(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)Ie||(W=ae),W===void 0&&(W=!1),d.addEventListener(y.toString(),A,W);else if(d.attachEvent)d.attachEvent(_n(y.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Zo(){function d(E){return y.call(d.src,d.listener,E)}const y=Yi;return d}function Qi(d,y,E,A,W){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Qi(d,y[Q],E,A,W);else A=p(A)?!!A.capture:!!A,E=Xi(E),d&&d[Ve]?(d=d.i,y=String(y).toString(),y in d.g&&(Q=d.g[y],E=cr(Q,E,A,W),-1<E&&(Ct(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete d.g[y],d.h--)))):d&&(d=ui(d))&&(y=d.g[y.toString()],d=-1,y&&(d=cr(y,E,A,W)),(E=-1<d?y[d]:null)&&Ht(E))}function Ht(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ve])Hi(y.i,d);else{var E=d.type,A=d.proxy;y.removeEventListener?y.removeEventListener(E,A,d.capture):y.detachEvent?y.detachEvent(_n(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=ui(y))?(Hi(E,d),E.h==0&&(E.src=null,y[li]=null)):Ct(d)}}}function _n(d){return d in qi?qi[d]:qi[d]="on"+d}function Yi(d,y){if(d.da)d=!0;else{y=new Ae(y,this);var E=d.listener,A=d.ha||d.src;d.fa&&Ht(d),d=E.call(A,y)}return d}function ui(d){return d=d[li],d instanceof On?d:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xi(d){return typeof d=="function"?d:(d[Lr]||(d[Lr]=function(y){return d.handleEvent(y)}),d[Lr])}function mt(){Y.call(this),this.i=new On(this),this.M=this,this.F=null}x(mt,Y),mt.prototype[Ve]=!0,mt.prototype.removeEventListener=function(d,y,E,A){Qi(this,d,y,E,A)};function gt(d,y){var E,A=d.F;if(A)for(E=[];A;A=A.F)E.push(A);if(d=d.M,A=y.type||y,typeof y=="string")y=new fe(y,d);else if(y instanceof fe)y.target=y.target||d;else{var W=y;y=new fe(A,d),L(y,W)}if(W=!0,E)for(var Q=E.length-1;0<=Q;Q--){var ae=y.g=E[Q];W=Hn(ae,A,!0,y)&&W}if(ae=y.g=d,W=Hn(ae,A,!0,y)&&W,W=Hn(ae,A,!1,y)&&W,E)for(Q=0;Q<E.length;Q++)ae=y.g=E[Q],W=Hn(ae,A,!1,y)&&W}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],A=0;A<E.length;A++)Ct(E[A]);delete d.g[y],d.h--}}this.F=null},mt.prototype.K=function(d,y,E,A){return this.i.add(String(d),y,!1,E,A)},mt.prototype.L=function(d,y,E,A){return this.i.add(String(d),y,!0,E,A)};function Hn(d,y,E,A){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==E){var Je=ae.listener,Pt=ae.ha||ae.src;ae.fa&&Hi(d.i,ae),W=Je.call(Pt,A)!==!1&&W}}return W&&!A.defaultPrevented}function Nl(d,y,E){if(typeof d=="function")E&&(d=T(d,E));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function Ji(d){d.g=Nl(()=>{d.g=null,d.i&&(d.i=!1,Ji(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class to extends Y{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ji(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(d){Y.call(this),this.h=d,this.g={}}x(no,Y);var Ol=[];function Dl(d){Z(d.g,function(y,E){this.g.hasOwnProperty(E)&&Ht(y)},d),d.g={}}no.prototype.N=function(){no.aa.N.call(this),Dl(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ll=c.JSON.stringify,Ml=c.JSON.parse,Vl=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function ro(){}ro.prototype.h=null;function ea(d){return d.h||(d.h=d.i())}function ta(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){fe.call(this,"d")}x(Mr,fe);function na(){fe.call(this,"c")}x(na,fe);var Vr={},Fl=null;function io(){return Fl=Fl||new mt}Vr.La="serverreachability";function jl(d){fe.call(this,Vr.La,d)}x(jl,fe);function ci(d){const y=io();gt(y,new jl(y))}Vr.STAT_EVENT="statevent";function Ul(d,y){fe.call(this,Vr.STAT_EVENT,d),this.stat=y}x(Ul,fe);function wt(d){const y=io();gt(y,new Ul(y,d))}Vr.Ma="timingevent";function ra(d,y){fe.call(this,Vr.Ma,d),this.size=y}x(ra,fe);function dr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function oo(d,y,E,A,W,Q){d.info(function(){if(d.g)if(Q)for(var ae="",Je=Q.split("&"),Pt=0;Pt<Je.length;Pt++){var $e=Je[Pt].split("=");if(1<$e.length){var Mt=$e[0];$e=$e[1];var St=Mt.split("_");ae=2<=St.length&&St[1]=="type"?ae+(Mt+"="+$e+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+y+`
`+E+`
`+ae})}function ia(d,y,E,A,W,Q,ae){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+y+`
`+E+`
`+Q+" "+ae})}function hr(d,y,E,A){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Kf(d,E)+(A?" "+A:"")})}function Bl(d,y){d.info(function(){return"TIMEOUT: "+y})}so.prototype.info=function(){};function Kf(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var A=E[d];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return Ll(E)}catch{return y}}var sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fr;function ao(){}x(ao,ro),ao.prototype.g=function(){return new XMLHttpRequest},ao.prototype.i=function(){return{}},fr=new ao;function pr(d,y,E,A){this.j=d,this.i=y,this.l=E,this.R=A||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uc}function Uc(){this.i=null,this.g="",this.h=!1}var $l={},oa={};function aa(d,y,E){d.L=1,d.v=rs(Ln(y)),d.m=E,d.P=!0,zl(d,null)}function zl(d,y){d.F=Date.now(),tt(d),d.A=Ln(d.v);var E=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),ss(E.i,"t",A),d.C=0,E=d.j.J,d.h=new Uc,d.g=id(d.j,E?y:null,!d.m),0<d.O&&(d.M=new to(T(d.Y,d,d.g),d.O)),y=d.U,E=d.g,A=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Ol[0]=W.toString()),W=Ol);for(var Q=0;Q<W.length;Q++){var ae=Ki(E,W[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),ci(),oo(d.i,d.u,d.A,d.l,d.R,d.m)}pr.prototype.ca=function(d){d=d.target;const y=this.M;y&&wn(d)==3?y.j():this.Y(d)},pr.prototype.Y=function(d){try{if(d==this.g)e:{const St=wn(this.g);var y=this.g.Ba();const Qn=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||St!=4||y==7||(y==8||0>=Qn?ci(3):ci(2)),lo(this);var E=this.g.Z();this.X=E;t:if(Bc(this)){var A=Ql(this.g);d="";var W=A.length,Q=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Zi(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(A[y],{stream:!(Q&&y==W-1)});A.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,ia(this.i,this.u,this.A,this.l,this.R,St,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Pt=this.g;if((Je=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Je)){var $e=Je;break t}}$e=null}if(E=$e)hr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wl(this,E);else{this.o=!1,this.s=3,wt(12),Kn(this),Zi(this);break e}}if(this.P){E=!0;let Vn;for(;!this.J&&this.C<ae.length;)if(Vn=Gf(this,ae),Vn==oa){St==4&&(this.s=4,wt(14),E=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==$l){this.s=4,wt(15),hr(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else hr(this.i,this.l,Vn,null),Wl(this,Vn);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ae.length!=0||this.h.h||(this.s=1,wt(16),E=!1),this.o=this.o&&E,!E)hr(this.i,this.l,ae,"[Invalid Chunked Response]"),Kn(this),Zi(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Xl(Mt),Mt.M=!0,wt(11))}}else hr(this.i,this.l,ae,null),Wl(this,ae);St==4&&Kn(this),this.o&&!this.J&&(St==4?_a(this.j,this):(this.o=!1,tt(this)))}else fa(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Kn(this),Zi(this)}}}catch{}finally{}};function Bc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Gf(d,y){var E=d.C,A=y.indexOf(`
`,E);return A==-1?oa:(E=Number(y.substring(E,A)),isNaN(E)?$l:(A+=1,A+E>y.length?oa:(y=y.slice(A,A+E),d.C=A+E,y)))}pr.prototype.cancel=function(){this.J=!0,Kn(this)};function tt(d){d.S=Date.now()+d.I,$c(d,d.I)}function $c(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=dr(T(d.ba,d),y)}function lo(d){d.B&&(c.clearTimeout(d.B),d.B=null)}pr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Bl(this.i,this.A),this.L!=2&&(ci(),wt(17)),Kn(this),this.s=2,Zi(this)):$c(this,this.S-d)};function Zi(d){d.j.G==0||d.J||_a(d.j,d)}function Kn(d){lo(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Dl(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Wl(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||dn(E.h,d))){if(!d.K&&dn(E.h,d)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)ya(E),vr(E);else break e;ga(E),wt(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=dr(T(E.Za,E),6e3));if(1>=Wc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else mi(E,11)}else if((d.K||E.g==d)&&ya(E),!B(y))for(W=E.Da.g.parse(y),y=0;y<W.length;y++){let $e=W[y];if(E.T=$e[0],$e=$e[1],E.G==2)if($e[0]=="c"){E.K=$e[1],E.ia=$e[2];const Mt=$e[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const St=$e[4];St!=null&&(E.Aa=St,E.j.info("SVER="+E.Aa));const Qn=$e[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(A=1.5*Qn,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Vn=d.g;if(Vn){const go=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(go){var Q=A.h;Q.g||go.indexOf("spdy")==-1&&go.indexOf("quic")==-1&&go.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Hl(Q,Q.h),Q.h=null))}if(A.D){const wa=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.ya=wa,et(A.I,A.D,wa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ae=d;if(A.qa=rd(A,A.J?A.ia:null,A.W),ae.K){Hc(A.h,ae);var Je=ae,Pt=A.L;Pt&&(Je.I=Pt),Je.B&&(lo(Je),tt(Je)),A.g=ae}else mo(A);0<E.i.length&&Br(E)}else $e[0]!="stop"&&$e[0]!="close"||mi(E,7);else E.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?mi(E,7):Kt(E):$e[0]!="noop"&&E.l&&E.l.ta($e),E.v=0)}}ci(4)}catch{}}var zc=class{constructor(d,y){this.g=d,this.map=y}};function uo(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Wc(d){return d.h?1:d.g?d.g.size:0}function dn(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Hl(d,y){d.g?d.g.add(y):d.h=y}function Hc(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}uo.prototype.cancel=function(){if(this.i=qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function qc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return b(d.i)}function la(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],E=d.length,A=0;A<E;A++)y.push(d[A]);return y}y=[],E=0;for(A in d)y[E++]=d[A];return y}function ua(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const A in d)y[E++]=A;return y}}}function es(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=ua(d),A=la(d),W=A.length,Q=0;Q<W;Q++)y.call(void 0,A[Q],E&&E[Q],d)}var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qf(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var A=d[E].indexOf("="),W=null;if(0<=A){var Q=d[E].substring(0,A);W=d[E].substring(A+1)}else Q=d[E];y(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function di(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof di){this.h=d.h,ho(this,d.j),this.o=d.o,this.g=d.g,ts(this,d.s),this.l=d.l;var y=d.i,E=new Fr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ns(this,E),this.m=d.m}else d&&(y=String(d).match(co))?(this.h=!1,ho(this,y[1]||"",!0),this.o=je(y[2]||""),this.g=je(y[3]||"",!0),ts(this,y[4]),this.l=je(y[5]||"",!0),ns(this,y[6]||"",!0),this.m=je(y[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}di.prototype.toString=function(){var d=[],y=this.j;y&&d.push(is(y,ca,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(is(y,ca,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(is(E,E.charAt(0)=="/"?Qc:Gc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",is(E,ql)),d.join("")};function Ln(d){return new di(d)}function ho(d,y,E){d.j=E?je(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function ts(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function ns(d,y,E){y instanceof Fr?(d.i=y,jr(d.i,d.h)):(E||(y=is(y,Yc)),d.i=new Fr(y,d.h))}function et(d,y,E){d.i.set(y,E)}function rs(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function je(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function is(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,Kc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Kc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ca=/[#\/\?@]/g,Gc=/[#\?:]/g,Qc=/[#\?]/g,Yc=/[#\?@]/g,ql=/#/g;function Fr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function qt(d){d.g||(d.g=new Map,d.h=0,d.i&&Qf(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Fr.prototype,n.add=function(d,y){qt(this),this.i=null,d=Gn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function mr(d,y){qt(d),y=Gn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function gr(d,y){return qt(d),y=Gn(d,y),d.g.has(y)}n.forEach=function(d,y){qt(this),this.g.forEach(function(E,A){E.forEach(function(W){d.call(y,W,A,this)},this)},this)},n.na=function(){qt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const W=d[A];for(let Q=0;Q<W.length;Q++)E.push(y[A])}return E},n.V=function(d){qt(this);let y=[];if(typeof d=="string")gr(this,d)&&(y=y.concat(this.g.get(Gn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},n.set=function(d,y){return qt(this),this.i=null,d=Gn(this,d),gr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function ss(d,y,E){mr(d,y),0<E.length&&(d.i=null,d.g.set(Gn(d,y),b(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const Q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var W=Q;ae[A]!==""&&(W+="="+encodeURIComponent(String(ae[A]))),d.push(W)}}return this.i=d.join("&")};function Gn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function jr(d,y){y&&!d.j&&(qt(d),d.i=null,d.g.forEach(function(E,A){var W=A.toLowerCase();A!=W&&(mr(this,A),ss(this,W,E))},d)),d.j=y}function Yf(d,y){const E=new so;if(c.Image){const A=new Image;A.onload=S(vn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=S(vn,E,"TestLoadImage: error",!1,y,A),A.onabort=S(vn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(vn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else y(!1)}function Xc(d,y){const E=new so,A=new AbortController,W=setTimeout(()=>{A.abort(),vn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:A.signal}).then(Q=>{clearTimeout(W),Q.ok?vn(E,"TestPingServer: ok",!0,y):vn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),vn(E,"TestPingServer: error",!1,y)})}function vn(d,y,E,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(E)}catch{}}function Xf(){this.g=new Vl}function Jc(d,y,E){const A=E||"";try{es(d,function(W,Q){let ae=W;p(W)&&(ae=Ll(W)),y.push(A+Q+"="+encodeURIComponent(ae))})}catch(W){throw y.push(A+"type="+encodeURIComponent("_badmap")),W}}function hi(d){this.l=d.Ub||null,this.j=d.eb||!1}x(hi,ro),hi.prototype.g=function(){return new fo(this.l,this.j)},hi.prototype.i=function(d){return function(){return d}}({});function fo(d,y){mt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(fo,mt),n=fo.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,_r(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?yr(this):_r(this),this.readyState==3&&Zc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,yr(this))},n.Qa=function(d){this.g&&(this.response=d,yr(this))},n.ga=function(){this.g&&yr(this)};function yr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,_r(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function _r(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function fi(d){let y="";return Z(d,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function os(d,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=fi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):et(d,y,E))}function ut(d){mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ut,mt);var Jf=/^https?$/i,Kl=["POST","PUT"];n=ut.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fr.g(),this.v=this.o?ea(this.o):ea(fr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Q){po(this,Q);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)E.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Kl,y,void 0))||A||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of E)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ha(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){po(this,Q)}};function po(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,da(d),Mn(d)}function da(d){d.A||(d.A=!0,gt(d,"complete"),gt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,gt(this,"complete"),gt(this,"abort"),Mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mn(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Gl(this):this.bb())},n.bb=function(){Gl(this)};function Gl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||wn(d)!=4||d.Z()!=2)){if(d.u&&wn(d)==4)Nl(d.Ea,0,d);else if(gt(d,"readystatechange"),wn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=ae===0){var W=String(d.D).match(co)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),A=!Jf.test(W?W.toLowerCase():"")}E=A}if(E)gt(d,"complete"),gt(d,"success");else{d.m=6;try{var Q=2<wn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",da(d)}}finally{Mn(d)}}}}function Mn(d,y){if(d.g){ha(d);const E=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||gt(d,"ready");try{E.onreadystatechange=A}catch{}}}function ha(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function wn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ml(y)}};function Ql(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function fa(d){const y={};d=(d.g&&2<=wn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(B(d[A]))continue;var E=M(d[A]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[W]||[];y[W]=Q,Q.push(E)}N(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function Yl(d){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ur("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ur("baseRetryDelayMs",5e3,d),this.cb=Ur("retryDelaySeedMs",1e4,d),this.Wa=Ur("forwardChannelMaxRetries",2,d),this.wa=Ur("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new uo(d&&d.concurrentRequestLimit),this.Da=new Xf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Yl.prototype,n.la=8,n.G=1,n.connect=function(d,y,E,A){wt(0),this.W=d,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=rd(this,null,this.W),Br(this)};function Kt(d){if(pa(d),d.G==3){var y=d.U++,E=Ln(d.I);if(et(E,"SID",d.K),et(E,"RID",y),et(E,"TYPE","terminate"),pi(d,E),y=new pr(d,d.j,y),y.L=2,y.v=rs(Ln(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=id(y.j,null),y.g.ea(y.v)),y.F=Date.now(),tt(y)}nd(d)}function vr(d){d.g&&(Xl(d),d.g.cancel(),d.g=null)}function pa(d){vr(d),d.u&&(c.clearTimeout(d.u),d.u=null),ya(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Br(d){if(!Dn(d.h)&&!d.s){d.s=!0;var y=d.Ga;Te||se(),ie||(Te(),ie=!0),ue.add(y,d),d.B=0}}function Zf(d,y){return Wc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=dr(T(d.Ga,d,y),td(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new pr(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=P(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=as(this,W,y),E=Ln(this.I),et(E,"RID",d),et(E,"CVER",22),this.D&&et(E,"X-HTTP-Session-Id",this.D),pi(this,E),Q&&(this.O?y="headers="+encodeURIComponent(String(fi(Q)))+"&"+y:this.m&&os(E,this.m,Q)),Hl(this.h,W),this.Ua&&et(E,"TYPE","init"),this.P?(et(E,"$req",y),et(E,"SID","null"),W.T=!0,aa(W,E,null)):aa(W,E,y),this.G=2}}else this.G==3&&(d?ma(this,d):this.i.length==0||Dn(this.h)||ma(this))};function ma(d,y){var E;y?E=y.l:E=d.U++;const A=Ln(d.I);et(A,"SID",d.K),et(A,"RID",E),et(A,"AID",d.T),pi(d,A),d.m&&d.o&&os(A,d.m,d.o),E=new pr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=as(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Hl(d.h,E),aa(E,A,y)}function pi(d,y){d.H&&Z(d.H,function(E,A){et(y,A,E)}),d.l&&es({},function(E,A){et(y,A,E)})}function as(d,y,E){E=Math.min(d.i.length,E);var A=d.l?T(d.l.Na,d.l,d):null;e:{var W=d.i;let Q=-1;for(;;){const ae=["count="+E];Q==-1?0<E?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Je=!0;for(let Pt=0;Pt<E;Pt++){let $e=W[Pt].g;const Mt=W[Pt].map;if($e-=Q,0>$e)Q=Math.max(0,W[Pt].g-100),Je=!1;else try{Jc(Mt,ae,"req"+$e+"_")}catch{A&&A(Mt)}}if(Je){A=ae.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,A}function mo(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Te||se(),ie||(Te(),ie=!0),ue.add(y,d),d.v=0}}function ga(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=dr(T(d.Fa,d),td(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,ed(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=dr(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),vr(this),ed(this))};function Xl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function ed(d){d.g=new pr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Ln(d.qa);et(y,"RID","rpc"),et(y,"SID",d.K),et(y,"AID",d.T),et(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(y,"TO",d.ja),et(y,"TYPE","xmlhttp"),pi(d,y),d.m&&d.o&&os(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=rs(Ln(y)),E.m=null,E.P=!0,zl(E,d)}n.Za=function(){this.C!=null&&(this.C=null,vr(this),ga(this),wt(19))};function ya(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function _a(d,y){var E=null;if(d.g==y){ya(d),Xl(d),d.g=null;var A=2}else if(dn(d.h,y))E=y.D,Hc(d.h,y),A=1;else return;if(d.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;A=io(),gt(A,new ra(A,E)),Br(d)}else mo(d);else if(W=y.s,W==3||W==0&&0<y.X||!(A==1&&Zf(d,y)||A==2&&ga(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),W){case 1:mi(d,5);break;case 4:mi(d,10);break;case 3:mi(d,6);break;default:mi(d,2)}}}function td(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function mi(d,y){if(d.j.info("Error code "+y),y==2){var E=T(d.fb,d),A=d.Xa;const W=!A;A=new di(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ho(A,"https"),rs(A),W?Yf(A.toString(),E):Xc(A.toString(),E)}else wt(2);d.G=0,d.l&&d.l.sa(y),nd(d),pa(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function nd(d){if(d.G=0,d.ka=[],d.l){const y=qc(d.h);(y.length!=0||d.i.length!=0)&&(R(d.ka,y),R(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function rd(d,y,E){var A=E instanceof di?Ln(E):new di(E);if(A.g!="")y&&(A.g=y+"."+A.g),ts(A,A.s);else{var W=c.location;A=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var Q=new di(null);A&&ho(Q,A),y&&(Q.g=y),W&&ts(Q,W),E&&(Q.l=E),A=Q}return E=d.D,y=d.ya,E&&y&&et(A,E,y),et(A,"VER",d.la),pi(d,A),A}function id(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new ut(new hi({eb:E})):new ut(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}n=Jl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function va(){}va.prototype.g=function(d,y){return new hn(d,y)};function hn(d,y){mt.call(this),this.g=new Yl(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!B(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new $r(this)}x(hn,mt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Kt(this.g)},hn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Ll(d),d=E);y.i.push(new zc(y.Ya++,d)),y.G==3&&Br(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,hn.aa.N.call(this)};function sd(d){Mr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}x(sd,Mr);function od(){na.call(this),this.status=1}x(od,na);function $r(d){this.g=d}x($r,Jl),$r.prototype.ua=function(){gt(this.g,"a")},$r.prototype.ta=function(d){gt(this.g,new sd(d))},$r.prototype.sa=function(d){gt(this.g,new od)},$r.prototype.ra=function(){gt(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,MC=function(){return new va},LC=function(){return io()},DC=Vr,mg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,Eh=sa,jc.COMPLETE="complete",OC=jc,ta.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Lu=ta,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,NC=ut}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const uE="@firebase/firestore",cE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new yf("@firebase/firestore");function $a(){return js.logLevel}function lD(n){js.setLogLevel(n)}function he(n,...e){if(js.logLevel<=Me.DEBUG){const t=e.map(ky);js.debug(`Firestore (${Il}): ${n}`,...t)}}function Fi(n,...e){if(js.logLevel<=Me.ERROR){const t=e.map(ky);js.error(`Firestore (${Il}): ${n}`,...t)}}function il(n,...e){if(js.logLevel<=Me.WARN){const t=e.map(ky);js.warn(`Firestore (${Il}): ${n}`,...t)}}function ky(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: `+n;throw Fi(e),new Error(e)}function Xe(n,e){n||Re()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class cD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ni)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new VC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new sn(e)}}class hD{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fD{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new hD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new dE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new dE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=mD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function sl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-62135596800,fE=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*fE);return new Ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hE)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ot(0,0))}static max(){return new ke(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__name__";class Gr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Gr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Gr.isNumericId(e),i=Gr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Gr.extractNumericId(e).compare(Gr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class dt extends Gr{construct(e,t,r){return new dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dt(t)}static emptyPath(){return new dt([])}}const gD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Gr{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return gD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pE}static keyField(){return new Xt([pE])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new _e(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new _e(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new _e(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new _e(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(dt.fromString(e))}static fromName(e){return new Ee(dt.fromString(e).popFirst(5))}static empty(){return new Ee(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function yD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new Us(i,Ee.empty(),e)}function _D(n){return new Us(n.readTime,n.key,rc)}class Us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Us(ke.min(),Ee.empty(),rc)}static max(){return new Us(ke.max(),Ee.empty(),rc)}}function vD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ED{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==wD)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,r)=>{t(e)})}static reject(e){return new J((t,r)=>{r(e)})}static waitFor(e){return new J((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},h=>r(h))}),l=!0,a===i&&t()})}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next(i=>i?J.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new J((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new J((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function TD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Tf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function If(n){return n==null}function Bh(n){return n===0&&1/n==-1/0}function ID(n){return typeof n=="number"&&Number.isInteger(n)&&!Bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="";function CD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mE(e)),e=SD(n.get(t),e);return mE(e)}function SD(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case jC:t+="";break;default:t+=a}}return t}function mE(n){return n+jC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let At=class gg{constructor(e,t){this.comparator=e,this.root=t||Os.EMPTY}insert(e,t){return new gg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Os.BLACK,null,null))}remove(e){return new gg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}},rh=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Os=class Si{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Si.RED,this.left=i??Si.EMPTY,this.right=a??Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Si(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}};Os.EMPTY=null,Os.RED=!0,Os.BLACK=!1;Os.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Os(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new xr([])}unionWith(e){let t=new Dt(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BC("Invalid base64 string: "+a):a}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const RD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=RD.exec(n);if(Xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $s(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="server_timestamp",zC="__type__",WC="__previous_value__",HC="__local_write_time__";function Ny(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zC])===null||t===void 0?void 0:t.stringValue)===$C}function Cf(n){const e=n.mapValue.fields[WC];return Ny(e)?Cf(e):e}function ic(n){const e=Bs(n.mapValue.fields[HC].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t,r,i,a,l,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const $h="(default)";class sc{constructor(e,t){this.projectId=e,this.database=t||$h}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__type__",AD="__max__",ih={mapValue:{}},KC="__vector__",zh="value";function zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ny(n)?4:kD(n)?9007199254740991:PD(n)?10:11:Re()}function ri(n,e){if(n===e)return!0;const t=zs(n);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ic(n).isEqual(ic(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Bs(i.timestampValue),c=Bs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return $s(i.bytesValue).isEqual($s(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Tt(i.geoPointValue.latitude)===Tt(a.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Tt(i.integerValue)===Tt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Tt(i.doubleValue),c=Tt(a.doubleValue);return l===c?Bh(l)===Bh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return sl(n.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(gE(l)!==gE(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ri(l[h],c[h])))return!1;return!0}(n,e);default:return Re()}}function oc(n,e){return(n.values||[]).find(t=>ri(t,e))!==void 0}function ol(n,e){if(n===e)return 0;const t=zs(n),r=zs(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Tt(a.integerValue||a.doubleValue),h=Tt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return _E(n.timestampValue,e.timestampValue);case 4:return _E(ic(n),ic(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(a,l){const c=$s(a),h=$s(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=Ue(c[p],h[p]);if(g!==0)return g}return Ue(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ue(Tt(a.latitude),Tt(l.latitude));return c!==0?c:Ue(Tt(a.longitude),Tt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return vE(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,g;const v=a.fields||{},T=l.fields||{},S=(c=v[zh])===null||c===void 0?void 0:c.arrayValue,x=(h=T[zh])===null||h===void 0?void 0:h.arrayValue,b=Ue(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:vE(S,x)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===ih.mapValue&&l===ih.mapValue)return 0;if(a===ih.mapValue)return 1;if(l===ih.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const T=Ue(h[v],g[v]);if(T!==0)return T;const S=ol(c[h[v]],p[g[v]]);if(S!==0)return S}return Ue(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Re()}}function _E(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Bs(n),r=Bs(e),i=Ue(t.seconds,r.seconds);return i!==0?i:Ue(t.nanos,r.nanos)}function vE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=ol(t[i],r[i]);if(a)return a}return Ue(t.length,r.length)}function al(n){return yg(n)}function yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Bs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $s(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=yg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${yg(t.fields[l])}`;return i+"}"}(n.mapValue):Re()}function Th(n){switch(zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(n);return e?16+Th(e):16;case 5:return 2*n.stringValue.length;case 6:return $s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Th(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ko(r.fields,(a,l)=>{i+=a.length+Th(l)}),i}(n.mapValue);default:throw Re()}}function _g(n){return!!n&&"integerValue"in n}function Oy(n){return!!n&&"arrayValue"in n}function wE(n){return!!n&&"nullValue"in n}function EE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ih(n){return!!n&&"mapValue"in n}function PD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qC])===null||t===void 0?void 0:t.stringValue)===KC}function Uu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ko(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Uu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=Xt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Uu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ko(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new nr(Uu(this.value))}}function GC(n){const e=[];return Ko(n.fields,(t,r)=>{const i=new Xt([t]);if(Ih(r)){const a=GC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new on(e,0,ke.min(),ke.min(),ke.min(),nr.empty(),0)}static newFoundDocument(e,t,r,i){return new on(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new on(e,2,t,ke.min(),ke.min(),nr.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,ke.min(),ke.min(),nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.position=e,this.inclusive=t}}function TE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=ol(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function IE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t="asc"){this.field=e,this.dir=t}}function bD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{}class Nt extends QC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OD(e,t,r):t==="array-contains"?new MD(e,r):t==="in"?new VD(e,r):t==="not-in"?new FD(e,r):t==="array-contains-any"?new jD(e,r):new Nt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new DD(e,r):new LD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ol(t,this.value)):t!==null&&zs(this.value)===zs(t)&&this.matchesComparison(ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends QC{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ii(e,t)}matches(e){return YC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function YC(n){return n.op==="and"}function XC(n){return ND(n)&&YC(n)}function ND(n){for(const e of n.filters)if(e instanceof ii)return!1;return!0}function vg(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+al(n.value);if(XC(n))return n.filters.map(e=>vg(e)).join(",");{const e=n.filters.map(t=>vg(t)).join(",");return`${n.op}(${e})`}}function JC(n,e){return n instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&ri(r.value,i.value)}(n,e):n instanceof ii?function(r,i){return i instanceof ii&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&JC(l,i.filters[c]),!0):!1}(n,e):void Re()}function ZC(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${al(t.value)}`}(n):n instanceof ii?function(t){return t.op.toString()+" {"+t.getFilters().map(ZC).join(" ,")+"}"}(n):"Filter"}class OD extends Nt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class DD extends Nt{constructor(e,t){super(e,"in",t),this.keys=eS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LD extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=eS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class MD extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oy(t)&&oc(t.arrayValue,this.value)}}class VD extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&oc(this.value.arrayValue,t)}}class FD extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!oc(this.value.arrayValue,t)}}class jD extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function CE(n,e=null,t=[],r=[],i=null,a=null,l=null){return new UD(n,e,t,r,i,a,l)}function Dy(n){const e=be(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>al(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>al(r)).join(",")),e.le=t}return e.le}function Ly(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IE(n.startAt,e.startAt)&&IE(n.endAt,e.endAt)}function wg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BD(n,e,t,r,i,a,l,c){return new Sf(n,e,t,r,i,a,l,c)}function Rf(n){return new Sf(n)}function SE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $D(n){return n.collectionGroup!==null}function Bu(n){const e=be(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Dt(Xt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Hh(a,r))}),t.has(Xt.keyField().canonicalString())||e.he.push(new Hh(Xt.keyField(),r))}return e.he}function Zr(n){const e=be(n);return e.Pe||(e.Pe=zD(e,Bu(n))),e.Pe}function zD(n,e){if(n.limitType==="F")return CE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Hh(i.field,a)});const t=n.endAt?new Wh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wh(n.startAt.position,n.startAt.inclusive):null;return CE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Eg(n,e,t){return new Sf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xf(n,e){return Ly(Zr(n),Zr(e))&&n.limitType===e.limitType}function tS(n){return`${Dy(Zr(n))}|lt:${n.limitType}`}function za(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ZC(i)).join(", ")}]`),If(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>al(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>al(i)).join(",")),`Target(${r})`}(Zr(n))}; limitType=${n.limitType})`}function Af(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Bu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const p=TE(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,Bu(r),i)||r.endAt&&!function(l,c,h){const p=TE(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,Bu(r),i))}(n,e)}function WD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nS(n){return(e,t)=>{let r=!1;for(const i of Bu(n)){const a=HD(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function HD(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?ol(h,p):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return UC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new At(Ee.comparator);function ji(){return qD}const rS=new At(Ee.comparator);function Mu(...n){let e=rS;for(const t of n)e=e.insert(t.key,t);return e}function iS(n){let e=rS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oo(){return $u()}function sS(){return $u()}function $u(){return new Go(n=>n.toString(),(n,e)=>n.isEqual(e))}const KD=new At(Ee.comparator),GD=new Dt(Ee.comparator);function Fe(...n){let e=GD;for(const t of n)e=e.add(t);return e}const QD=new Dt(Ue);function YD(){return QD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function oS(n){return{integerValue:""+n}}function XD(n,e){return ID(e)?oS(e):My(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function JD(n,e,t){return n instanceof ac?function(i,a){const l={fields:{[zC]:{stringValue:$C},[HC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ny(a)&&(a=Cf(a)),a&&(l.fields[WC]=a),{mapValue:l}}(t,e):n instanceof lc?lS(n,e):n instanceof uc?uS(n,e):function(i,a){const l=aS(i,a),c=RE(l)+RE(i.Ie);return _g(l)&&_g(i.Ie)?oS(c):My(i.serializer,c)}(n,e)}function ZD(n,e,t){return n instanceof lc?lS(n,e):n instanceof uc?uS(n,e):t}function aS(n,e){return n instanceof qh?function(r){return _g(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ac extends Pf{}class lc extends Pf{constructor(e){super(),this.elements=e}}function lS(n,e){const t=cS(e);for(const r of n.elements)t.some(i=>ri(i,r))||t.push(r);return{arrayValue:{values:t}}}class uc extends Pf{constructor(e){super(),this.elements=e}}function uS(n,e){let t=cS(e);for(const r of n.elements)t=t.filter(i=>!ri(i,r));return{arrayValue:{values:t}}}class qh extends Pf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function RE(n){return Tt(n.integerValue||n.doubleValue)}function cS(n){return Oy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,t){this.field=e,this.transform=t}}function tL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof lc&&i instanceof lc||r instanceof uc&&i instanceof uc?sl(r.elements,i.elements,ri):r instanceof qh&&i instanceof qh?ri(r.Ie,i.Ie):r instanceof ac&&i instanceof ac}(n.transform,e.transform)}class nL{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kf{}function dS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vy(n.key,kr.none()):new Ic(n.key,n.data,kr.none());{const t=n.data,r=nr.empty();let i=new Dt(Xt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Qo(n.key,r,new xr(i.toArray()),kr.none())}}function rL(n,e,t){n instanceof Ic?function(i,a,l){const c=i.value.clone(),h=AE(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Qo?function(i,a,l){if(!Ch(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=AE(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(hS(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function zu(n,e,t,r){return n instanceof Ic?function(a,l,c,h){if(!Ch(a.precondition,l))return c;const p=a.value.clone(),g=PE(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qo?function(a,l,c,h){if(!Ch(a.precondition,l))return c;const p=PE(a.fieldTransforms,h,l),g=l.data;return g.setAll(hS(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,l,c){return Ch(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function iL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=aS(r.transform,i||null);a!=null&&(t===null&&(t=nr.empty()),t.set(r.field,a))}return t||null}function xE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sl(r,i,(a,l)=>tL(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ic extends kf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qo extends kf{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function AE(n,e,t){const r=new Map;Xe(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,ZD(l,c,t[i]))}return r}function PE(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,JD(a,l,e))}return r}class Vy extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sL extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rL(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sS();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const h=dS(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(t,r)=>xE(t,r))&&sl(this.baseMutations,e.baseMutations,(t,r)=>xE(t,r))}}class Fy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Xe(e.mutations.length===r.length);let i=function(){return KD}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Fy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,ze;function uL(n){switch(n){case ne.OK:return Re();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re()}}function fS(n){if(n===void 0)return Fi("GRPC error has no .code"),ne.UNKNOWN;switch(n){case xt.OK:return ne.OK;case xt.CANCELLED:return ne.CANCELLED;case xt.UNKNOWN:return ne.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ne.INTERNAL;case xt.UNAVAILABLE:return ne.UNAVAILABLE;case xt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case xt.NOT_FOUND:return ne.NOT_FOUND;case xt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case xt.ABORTED:return ne.ABORTED;case xt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case xt.DATA_LOSS:return ne.DATA_LOSS;default:return Re()}}(ze=xt||(xt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Ns([4294967295,4294967295],0);function kE(n){const e=cL().encode(n),t=new bC;return t.update(e),new Uint8Array(t.digest())}function bE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ns([t,r],0),new Ns([i,a],0)]}class jy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vu(`Invalid padding: ${t}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ns.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ns.fromNumber(r)));return i.compare(dL)===1&&(i=new Ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=kE(e),[r,i]=bE(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new jy(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=kE(e),[r,i]=bE(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new bf(ke.min(),i,new At(Ue),ji(),Fe())}}class Cc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Cc(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class pS{constructor(e,t){this.targetId=e,this.ge=t}}class mS{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class NE{constructor(){this.pe=0,this.ye=OE(),this.we=Jt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),r=Fe();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new Cc(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=OE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class hL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ji(),this.$e=sh(),this.Ke=sh(),this.Ue=new At(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(wg(a))if(r===0){const l=new Ee(a.path);this.ze(t,l,on.newNoDocument(l,ke.min()))}else Xe(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=$s(r).toUint8Array()}catch(h){if(h instanceof BC)return il("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new jy(l,i,a)}catch(h){return il(h instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&wg(c.target)){const h=new Ee(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,on.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=Fe();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new bf(e,t,this.Ue,this.Qe,r);return this.Qe=ji(),this.$e=sh(),this.Ke=sh(),this.Ue=new At(Ue),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new NE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new NE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function sh(){return new At(Ee.comparator)}function OE(){return new At(Ee.comparator)}const fL={asc:"ASCENDING",desc:"DESCENDING"},pL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mL={and:"AND",or:"OR"};class gL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tg(n,e){return n.useProto3Json||If(e)?e:{value:e}}function Kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yL(n,e){return Kh(n,e.toTimestamp())}function ei(n){return Xe(!!n),ke.fromTimestamp(function(t){const r=Bs(t);return new Ot(r.seconds,r.nanos)}(n))}function Uy(n,e){return Ig(n,e).canonicalString()}function Ig(n,e){const t=function(i){return new dt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yS(n){const e=dt.fromString(n);return Xe(TS(e)),e}function Cg(n,e){return Uy(n.databaseId,e.path)}function Om(n,e){const t=yS(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(vS(t))}function _S(n,e){return Uy(n.databaseId,e)}function _L(n){const e=yS(n);return e.length===4?dt.emptyPath():vS(e)}function Sg(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vS(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function DE(n,e,t){return{name:Cg(n,e),fields:t.value.mapValue.fields}}function vL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Xe(g===void 0||typeof g=="string"),Jt.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Jt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?ne.UNKNOWN:fS(p.code);return new _e(g,p.message||"")}(l);t=new mS(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Om(n,r.document.name),a=ei(r.document.updateTime),l=r.document.createTime?ei(r.document.createTime):ke.min(),c=new nr({mapValue:{fields:r.document.fields}}),h=on.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Sh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Om(n,r.document),a=r.readTime?ei(r.readTime):ke.min(),l=on.newNoDocument(i,a),c=r.removedTargetIds||[];t=new Sh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Om(n,r.document),a=r.removedTargetIds||[];t=new Sh([],a,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new lL(i,a),c=r.targetId;t=new pS(c,l)}}return t}function wL(n,e){let t;if(e instanceof Ic)t={update:DE(n,e.key,e.value)};else if(e instanceof Vy)t={delete:Cg(n,e.key)};else if(e instanceof Qo)t={update:DE(n,e.key,e.data),updateMask:PL(e.fieldMask)};else{if(!(e instanceof sL))return Re();t={verify:Cg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof ac)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof lc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof uc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qh)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:yL(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function EL(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?ei(i.updateTime):ei(a);return l.isEqual(ke.min())&&(l=ei(a)),new nL(l,i.transformResults||[])}(t,e))):[]}function TL(n,e){return{documents:[_S(n,e.path)]}}function IL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_S(n,i);const a=function(p){if(p.length!==0)return ES(ii.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:Wa(T.field),direction:RL(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Tg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function CL(n){let e=_L(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Xe(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(v){const T=wS(v);return T instanceof ii&&XC(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(T=>function(x){return new Hh(Ha(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(v){let T;return T=typeof v=="object"?v.value:v,If(T)?null:T}(t.limit));let h=null;t.startAt&&(h=function(v){const T=!!v.before,S=v.values||[];return new Wh(S,T)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const T=!v.before,S=v.values||[];return new Wh(S,T)}(t.endAt)),BD(e,i,l,a,c,"F",h,p)}function SL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ha(t.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ha(t.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ha(t.unaryFilter.field);return Nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ha(t.unaryFilter.field);return Nt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(Ha(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ii.create(t.compositeFilter.filters.map(r=>wS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function RL(n){return fL[n]}function xL(n){return pL[n]}function AL(n){return mL[n]}function Wa(n){return{fieldPath:n.canonicalString()}}function Ha(n){return Xt.fromServerFormat(n.fieldPath)}function ES(n){return n instanceof Nt?function(t){if(t.op==="=="){if(EE(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NAN"}};if(wE(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(EE(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NAN"}};if(wE(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(t.field),op:xL(t.op),value:t.value}}}(n):n instanceof ii?function(t){const r=t.getFilters().map(i=>ES(i));return r.length===1?r[0]:{compositeFilter:{op:AL(t.op),filters:r}}}(n):Re()}function PL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,i,a=ke.min(),l=ke.min(),c=Jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.Tt=e}}function bL(n){const e=CL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.Tn=new OL}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Us.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class OL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dt(dt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IS=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(IS,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ll(0)}static Un(){return new ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",DL=1048576;function VE([n,e],[t,r]){const i=Ue(n,t);return i===0?Ue(e,r):i}class LL{constructor(e){this.Hn=e,this.buffer=new Dt(VE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();VE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ML{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(ME,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sl(t)?he(ME,"Ignoring IndexedDB error during garbage collection: ",t):await Cl(t)}await this.er(3e5)})}}class VL{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Tf.ae);const r=new LL(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(LE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),$a()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function FL(n,e){return new VL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.changes=new Go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&zu(r.mutation,i,xr.empty(),Ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=Oo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Mu();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Oo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=ji();const l=$u(),c=function(){return $u()}();return t.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Qo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),zu(g.mutation,p,g.mutation.getFieldMask(),Ot.now())):l.set(p.key,xr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var v;return c.set(p,new UL(g,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=$u();let i=new At((l,c)=>l-c),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||xr.empty();g=c.applyToLocalView(p,g),r.set(h,g);const v=(i.get(c.batchId)||Fe()).add(h);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,v=sS();g.forEach(T=>{if(!a.has(T)){const S=dS(t.get(T),r.get(T));S!==null&&v.set(T,S),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$D(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):J.resolve(Oo());let c=rc,h=a;return l.next(p=>J.forEach(p,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{h=h.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Fe())).next(g=>({batchId:c,changes:iS(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let i=Mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Mu();return this.indexManager.getCollectionParents(e,a).next(c=>J.forEach(c,h=>{const p=function(v,T){return new Sf(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((v,T)=>{l=l.insert(v,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,on.newInvalidDocument(g)))});let c=Mu();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&zu(g.mutation,p,xr.empty(),Ot.now()),Af(t,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ei(i.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:bL(i.bundledQuery),readTime:ei(i.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.overlays=new At(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Oo();return J.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=Oo(),a=t.length+1,l=new Ee(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new At((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Oo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Oo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return J.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new aL(t,r));let a=this.Rr.get(t);a===void 0&&(a=Fe(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Vr=new Dt(Bt.mr),this.gr=new Dt(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Bt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Ee(new dt([])),r=new Bt(t,e),i=new Bt(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new dt([])),r=new Bt(t,e),i=new Bt(t,e+1);let a=Fe();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Bt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Bt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new oL(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Bt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?by:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),i=new Bt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Ue);return t.forEach(i=>{const a=new Bt(i,0),l=new Bt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const l=new Bt(new Ee(a),0);let c=new Dt(Ue);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.Cr)),!0)},l),J.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(t.mutations,i=>{const a=new Bt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Bt(t,0),i=this.Mr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.kr=e,this.docs=function(){return new At(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let r=ji();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():on.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ji();const l=t.path,c=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||vD(_D(g),r)<=0||(i.has(g.key)||Af(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Re()}qr(e,t){return J.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KL(this)}getSize(e){return J.resolve(this.size)}}class KL extends jL{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.persistence=e,this.Qr=new Go(t=>Dy(t),Ly),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new By,this.targetCount=0,this.Ur=ll.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ll(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),J.waitFor(a).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Tf(0),this.zr=!1,this.zr=!0,this.jr=new WL,this.referenceDelegate=e(this),this.Hr=new GL(this),this.indexManager=new NL,this.remoteDocumentCache=function(i){return new qL(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new kL(t),this.Yr=new $L(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new HL(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new QL(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class QL extends ED{constructor(e){super(),this.currentSequenceNumber=e}}class $y{constructor(e){this.persistence=e,this.ti=new By,this.ni=null}static ri(e){return new $y(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const i=Ee.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Gh{constructor(e,t){this.persistence=e,this.oi=new Go(r=>CD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=FL(this,t)}static ri(e,t){return new Gh(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?J.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Th(e.data.value)),t}ar(e,t,r){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Fe(),i=Fe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new zy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ck()?8:TD(cn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new YL;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?($a()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):($a()<=Me.DEBUG&&he("QueryEngine","Query:",za(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?($a()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):J.resolve())}rs(e,t){if(SE(t))return J.resolve(null);let r=Zr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Eg(t,null,"F"),r=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Fe(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,c);return this.ls(t,p,l,h.readTime)?this.rs(e,Eg(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,i){return SE(t)||i.isEqual(ke.min())?J.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?J.resolve(null):($a()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(t)),this.hs(e,l,t,yD(i,rc)).next(c=>c))})}cs(e,t){let r=new Dt(nS(e));return t.forEach((i,a)=>{Af(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return $a()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",za(t)),this.ns.getDocumentsMatchingQuery(e,t,Us.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",JL=3e8;class ZL{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new At(Ue),this.Is=new Go(a=>Dy(a),Ly),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BL(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function eM(n,e,t,r){return new ZL(n,e,t,r)}async function SS(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=Fe();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function tM(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const v=p.batch,T=v.keys();let S=J.resolve();return T.forEach(x=>{S=S.next(()=>g.getEntry(h,x)).next(b=>{const R=p.docVersions.get(x);Xe(R!==null),b.version.compareTo(R)<0&&(v.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Fe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function RS(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function nM(n,e){const t=be(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,v)=>{const T=i.get(v);if(!T)return;c.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,v)));let S=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Jt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(v,S),function(b,R,F){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=JL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,S,g)&&c.push(t.Hr.updateTargetData(a,S))});let h=ji(),p=Fe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(rM(a,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(ke.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(v=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return J.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ts=i,a))}function rM(n,e,t){let r=Fe(),i=Fe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ji();return t.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):he(Wy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function iM(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=by),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sM(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,J.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ps(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Rg(n,e,t){const r=be(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Sl(l))throw l;he(Wy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function FE(n,e,t){const r=be(n);let i=ke.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const v=be(h),T=v.Is.get(g);return T!==void 0?J.resolve(v.Ts.get(T)):v.Hr.getTargetData(p,g)}(r,l,Zr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?a:Fe())).next(c=>(oM(r,WD(e),c),{documents:c,gs:a})))}function oM(n,e,t){let r=n.Es.get(e)||ke.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class jE{constructor(){this.activeTargetIds=YD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aM{constructor(){this.ho=new jE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class BE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(UE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function xg(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",uM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,a){const l=xg(),c=this.So(e,t.toUriEncodedString());he(Dm,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,a),this.vo(e,c,h,r).then(p=>(he(Dm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw il(Dm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,a,l){return this.bo(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}So(e,t){const r=uM[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class hM extends cM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=xg();return new Promise((l,c)=>{const h=new NC;h.setWithCredentials(!0),h.listenOnce(OC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Eh.NO_ERROR:const g=h.getResponseJson();he(rn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Eh.TIMEOUT:he(rn,`RPC '${e}' ${a} timed out`),c(new _e(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const v=h.getStatus();if(he(rn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const x=function(R){const F=R.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN}(S.status);c(new _e(x,S.message))}else c(new _e(ne.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new _e(ne.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{he(rn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);he(rn,`RPC '${e}' ${a} sending request:`,i),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=xg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=MC(),c=LC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=a.join("");he(rn,`Creating RPC '${e}' stream ${i}: ${g}`,h);const v=l.createWebChannel(g,h);let T=!1,S=!1;const x=new dM({Fo:R=>{S?he(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(T||(he(rn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),T=!0),he(rn,`RPC '${e}' stream ${i} sending:`,R),v.send(R))},Mo:()=>v.close()}),b=(R,F,B)=>{R.listen(F,$=>{try{B($)}catch(q){setTimeout(()=>{throw q},0)}})};return b(v,Lu.EventType.OPEN,()=>{S||(he(rn,`RPC '${e}' stream ${i} transport opened.`),x.Qo())}),b(v,Lu.EventType.CLOSE,()=>{S||(S=!0,he(rn,`RPC '${e}' stream ${i} transport closed`),x.Ko())}),b(v,Lu.EventType.ERROR,R=>{S||(S=!0,il(rn,`RPC '${e}' stream ${i} transport errored:`,R),x.Ko(new _e(ne.UNAVAILABLE,"The operation could not be completed")))}),b(v,Lu.EventType.MESSAGE,R=>{var F;if(!S){const B=R.data[0];Xe(!!B);const $=B,q=($==null?void 0:$.error)||((F=$[0])===null||F===void 0?void 0:F.error);if(q){he(rn,`RPC '${e}' stream ${i} received error:`,q);const X=q.status;let Z=function(k){const L=xt[k];if(L!==void 0)return fS(L)}(X),N=q.message;Z===void 0&&(Z=ne.INTERNAL,N="Unknown error status: "+X+" with message "+q.message),S=!0,x.Ko(new _e(Z,N)),v.close()}else he(rn,`RPC '${e}' stream ${i} received:`,B),x.Uo(B)}}),b(c,DC.STAT_EVENT,R=>{R.stat===mg.PROXY?he(rn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===mg.NOPROXY&&he(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n){return new gL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="PersistentStream";class AS{constructor(e,t,r,i,a,l,c,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new xS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Fi(t.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new _e(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he($E,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he($E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fM extends AS{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=vL(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?ei(l.readTime):ke.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Sg(this.serializer),t.addTarget=function(a,l){let c;const h=l.target;if(c=wg(h)?{documents:TL(a,h)}:{query:IL(a,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=gS(a,l.resumeToken);const p=Tg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Kh(a,l.snapshotVersion.toTimestamp());const p=Tg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=SL(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Sg(this.serializer),t.removeTarget=e,this.I_(t)}}class pM extends AS{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=EL(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Sg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wL(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{}class gM extends mM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.bo(e,Ig(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ne.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Ig(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ne.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class yM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fi(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class _M{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Yo(this)&&(he(jo,"Restarting streams for network reachability change."),await async function(h){const p=be(h);p.W_.add(4),await Sc(p),p.j_.set("Unknown"),p.W_.delete(4),await Of(p)}(this))})}),this.j_=new yM(r,i)}}async function Of(n){if(Yo(n))for(const e of n.G_)await e(!0)}async function Sc(n){for(const e of n.G_)await e(!1)}function PS(n,e){const t=be(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Gy(t)?Ky(t):Rl(t).c_()&&qy(t,e))}function Hy(n,e){const t=be(n),r=Rl(t);t.U_.delete(e),r.c_()&&kS(t,e),t.U_.size===0&&(r.c_()?r.P_():Yo(t)&&t.j_.set("Unknown"))}function qy(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rl(n).y_(e)}function kS(n,e){n.H_.Ne(e),Rl(n).w_(e)}function Ky(n){n.H_=new hL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Rl(n).start(),n.j_.B_()}function Gy(n){return Yo(n)&&!Rl(n).u_()&&n.U_.size>0}function Yo(n){return be(n).W_.size===0}function bS(n){n.H_=void 0}async function vM(n){n.j_.set("Online")}async function wM(n){n.U_.forEach((e,t)=>{qy(n,e)})}async function EM(n,e){bS(n),Gy(n)?(n.j_.q_(e),Ky(n)):n.j_.set("Unknown")}async function TM(n,e,t){if(n.j_.set("Online"),e instanceof mS&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){he(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(n,r)}else if(e instanceof Sh?n.H_.We(e):e instanceof pS?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ke.min()))try{const r=await RS(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=a.U_.get(h);if(!g)return;a.U_.set(h,g.withResumeToken(Jt.EMPTY_BYTE_STRING,g.snapshotVersion)),kS(a,h);const v=new Ps(g.target,h,p,g.sequenceNumber);qy(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){he(jo,"Failed to raise snapshot:",r),await Qh(n,r)}}async function Qh(n,e,t){if(!Sl(e))throw e;n.W_.add(1),await Sc(n),n.j_.set("Offline"),t||(t=()=>RS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(jo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Of(n)})}function NS(n,e){return e().catch(t=>Qh(n,t,e))}async function Df(n){const e=be(n),t=Ws(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:by;for(;IM(e);)try{const i=await iM(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,CM(e,i)}catch(i){await Qh(e,i)}OS(e)&&DS(e)}function IM(n){return Yo(n)&&n.K_.length<10}function CM(n,e){n.K_.push(e);const t=Ws(n);t.c_()&&t.b_&&t.S_(e.mutations)}function OS(n){return Yo(n)&&!Ws(n).u_()&&n.K_.length>0}function DS(n){Ws(n).start()}async function SM(n){Ws(n).C_()}async function RM(n){const e=Ws(n);for(const t of n.K_)e.S_(t.mutations)}async function xM(n,e,t){const r=n.K_.shift(),i=Fy.from(r,e,t);await NS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Df(n)}async function AM(n,e){e&&Ws(n).b_&&await async function(r,i){if(function(l){return uL(l)&&l!==ne.ABORTED}(i.code)){const a=r.K_.shift();Ws(r).h_(),await NS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Df(r)}}(n,e),OS(n)&&DS(n)}async function zE(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),he(jo,"RemoteStore received new credentials");const r=Yo(t);t.W_.add(3),await Sc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Of(t)}async function PM(n,e){const t=be(n);e?(t.W_.delete(2),await Of(t)):e||(t.W_.add(2),await Sc(t),t.j_.set("Unknown"))}function Rl(n){return n.J_||(n.J_=function(t,r,i){const a=be(t);return a.M_(),new fM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:vM.bind(null,n),No:wM.bind(null,n),Lo:EM.bind(null,n),p_:TM.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Gy(n)?Ky(n):n.j_.set("Unknown")):(await n.J_.stop(),bS(n))})),n.J_}function Ws(n){return n.Y_||(n.Y_=function(t,r,i){const a=be(t);return a.M_(),new pM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:SM.bind(null,n),Lo:AM.bind(null,n),D_:RM.bind(null,n),v_:xM.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Df(n)):(await n.Y_.stop(),n.K_.length>0&&(he(jo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Qy(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(n,e){if(Fi("AsyncQueue",`${e}: ${n}`),Sl(n))return new _e(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Mu(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.Z_=new At(Ee.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ul{constructor(e,t,r,i,a,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ul(e,t,Ja.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bM{constructor(){this.queries=HE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=be(t),a=i.queries;i.queries=HE(),a.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new _e(ne.ABORTED,"Firestore shutting down"))}}function HE(){return new Go(n=>tS(n),xf)}async function Xy(n,e){const t=be(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new kM,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Yy(l,`Initialization of query '${za(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Zy(t)}async function Jy(n,e){const t=be(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function NM(n,e){const t=be(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&Zy(t)}function OM(n,e,t){const r=be(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function Zy(n){n.ia.forEach(e=>{e.next()})}var Ag,qE;(qE=Ag||(Ag={}))._a="default",qE.Cache="cache";class e_{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.key=e}}class MS{constructor(e){this.key=e}}class DM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=nS(e),this.wa=new Ja(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new WE,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const T=i.get(g),S=Af(this.query,v)?v:null,x=!!T&&this.mutatedKeys.has(T.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;T&&S?T.data.isEqual(S.data)?x!==b&&(r.track({type:3,doc:S}),R=!0):this.va(T,S)||(r.track({type:2,doc:S}),R=!0,(h&&this.ya(S,h)>0||p&&this.ya(S,p)<0)&&(c=!0)):!T&&S?(r.track({type:0,doc:S}),R=!0):T&&!S&&(r.track({type:1,doc:T}),R=!0,(h||p)&&(c=!0)),R&&(S?(l=l.add(S),a=b?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,v)=>function(S,x){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return b(S)-b(x)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new ul(this.query,e.wa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new WE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new MS(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new LS(r))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return ul.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const t_="SyncEngine";class LM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MM{constructor(e){this.key=e,this.Ba=!1}}class VM{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Go(c=>tS(c),xf),this.qa=new Map,this.Qa=new Set,this.$a=new At(Ee.comparator),this.Ka=new Map,this.Ua=new By,this.Wa={},this.Ga=new Map,this.za=ll.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function FM(n,e,t=!0){const r=$S(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await VS(r,e,t,!0),i}async function jM(n,e){const t=$S(n);await VS(t,e,!0,!1)}async function VS(n,e,t,r){const i=await sM(n.localStore,Zr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await UM(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&PS(n.remoteStore,i),c}async function UM(n,e,t,r,i){n.Ha=(v,T,S)=>async function(b,R,F,B){let $=R.view.Sa(F);$.ls&&($=await FE(b.localStore,R.query,!1).then(({documents:N})=>R.view.Sa(N,$)));const q=B&&B.targetChanges.get(R.targetId),X=B&&B.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges($,b.isPrimaryClient,q,X);return GE(b,R.targetId,Z.Ma),Z.snapshot}(n,v,T,S);const a=await FE(n.localStore,e,!0),l=new DM(e,a.gs),c=l.Sa(a.documents),h=Cc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,h);GE(n,t,p.Ma);const g=new LM(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function BM(n,e,t){const r=be(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!xf(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Hy(r.remoteStore,i.targetId),Pg(r,i.targetId)}).catch(Cl)):(Pg(r,i.targetId),await Rg(r.localStore,i.targetId,!0))}async function $M(n,e){const t=be(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Hy(t.remoteStore,r.targetId))}async function zM(n,e,t){const r=YM(n);try{const i=await function(l,c){const h=be(l),p=Ot.now(),g=c.reduce((S,x)=>S.add(x.key),Fe());let v,T;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=ji(),b=Fe();return h.ds.getEntries(S,g).next(R=>{x=R,x.forEach((F,B)=>{B.isValidDocument()||(b=b.add(F))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,x)).next(R=>{v=R;const F=[];for(const B of c){const $=iL(B,v.get(B.key).overlayedDocument);$!=null&&F.push(new Qo(B.key,$,GC($.value.mapValue),kr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,F,c)}).next(R=>{T=R;const F=R.applyToLocalDocumentSet(v,b);return h.documentOverlayCache.saveOverlays(S,R.batchId,F)})}).then(()=>({batchId:T.batchId,changes:iS(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new At(Ue)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await Rc(r,i.changes),await Df(r.remoteStore)}catch(i){const a=Yy(i,"Failed to persist write");t.reject(a)}}async function FS(n,e){const t=be(n);try{const r=await nM(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Xe(l.Ba):i.removedDocuments.size>0&&(Xe(l.Ba),l.Ba=!1))}),await Rc(t,r,e)}catch(r){await Cl(r)}}function KE(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=be(l);h.onlineState=c;let p=!1;h.queries.forEach((g,v)=>{for(const T of v.ta)T.sa(c)&&(p=!0)}),p&&Zy(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WM(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new At(Ee.comparator);l=l.insert(a,on.newNoDocument(a,ke.min()));const c=Fe().add(a),h=new bf(ke.min(),new Map,new At(Ue),l,c);await FS(r,h),r.$a=r.$a.remove(a),r.Ka.delete(e),n_(r)}else await Rg(r.localStore,e,!1).then(()=>Pg(r,e,t)).catch(Cl)}async function HM(n,e){const t=be(n),r=e.batch.batchId;try{const i=await tM(t.localStore,e);US(t,r,null),jS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(t,i)}catch(i){await Cl(i)}}async function qM(n,e,t){const r=be(n);try{const i=await function(l,c){const h=be(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(v=>(Xe(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);US(r,e,t),jS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Rc(r,i)}catch(i){await Cl(i)}}function jS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function US(n,e,t){const r=be(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Pg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||BS(n,r)})}function BS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Hy(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),n_(n))}function GE(n,e,t){for(const r of t)r instanceof LS?(n.Ua.addReference(r.key,e),KM(n,r)):r instanceof MS?(he(t_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||BS(n,r.key)):Re()}function KM(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(he(t_,"New document in limbo: "+t),n.Qa.add(r),n_(n))}function n_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(dt.fromString(e)),r=n.za.next();n.Ka.set(r,new MM(t)),n.$a=n.$a.insert(t,r),PS(n.remoteStore,new Ps(Zr(Rf(t.path)),r,"TargetPurposeLimboResolution",Tf.ae))}}async function Rc(n,e,t){const r=be(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){i.push(p);const v=zy.Yi(h.targetId,p);a.push(v)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const g=be(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>J.forEach(p,T=>J.forEach(T.Hi,S=>g.persistence.referenceDelegate.addReference(v,T.targetId,S)).next(()=>J.forEach(T.Ji,S=>g.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))}catch(v){if(!Sl(v))throw v;he(Wy,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const S=g.Ts.get(T),x=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(x);g.Ts=g.Ts.insert(T,b)}}}(r.localStore,a))}async function GM(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){he(t_,"User change. New user:",e.toKey());const r=await SS(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(h=>{h.reject(new _e(ne.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(t,r.Rs)}}function QM(n,e){const t=be(n),r=t.Ka.get(e);if(r&&r.Ba)return Fe().add(r.key);{let i=Fe();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.ba)}return i}}function $S(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WM.bind(null,e),e.La.p_=NM.bind(null,e.eventManager),e.La.Ja=OM.bind(null,e.eventManager),e}function YM(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qM.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return eM(this.persistence,new XL,e.initialUser,this.serializer)}Xa(e){return new CS($y.ri,this.serializer)}Za(e){return new aM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class XM extends Yh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof Gh);const r=this.persistence.referenceDelegate.garbageCollector;return new ML(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new CS(r=>Gh.ri(r,t),this.serializer)}}class kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GM.bind(null,this.syncEngine),await PM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bM}()}createDatastore(e){const t=Nf(e.databaseInfo.databaseId),r=function(a){return new hM(a)}(e.databaseInfo);return function(a,l,c,h){return new gM(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new _M(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>KE(this.syncEngine,t,0),function(){return BE.D()?new BE:new lM}())}createSyncEngine(e,t){return function(i,a,l,c,h,p,g){const v=new VM(i,a,l,c,h,p);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=be(i);he(jo,"RemoteStore shutting down."),a.W_.add(5),await Sc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kg.provider={build:()=>new kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class JM{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=FC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(Hs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Hs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Yy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mm(n,e){n.asyncQueue.verifyOperationInProgress(),he(Hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function QE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ZM(n);he(Hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zE(e.remoteStore,i)),n._onlineComponents=e}async function ZM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Hs,"Using user provided OfflineComponentProvider");try{await Mm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;il("Error using user provided cache. Falling back to memory cache: "+t),await Mm(n,new Yh)}}else he(Hs,"Using default OfflineComponentProvider"),await Mm(n,new XM(void 0));return n._offlineComponents}async function zS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Hs,"Using user provided OnlineComponentProvider"),await QE(n,n._uninitializedComponentsProvider._online)):(he(Hs,"Using default OnlineComponentProvider"),await QE(n,new kg))),n._onlineComponents}function e4(n){return zS(n).then(e=>e.syncEngine)}async function Xh(n){const e=await zS(n),t=e.eventManager;return t.onListen=FM.bind(null,e.syncEngine),t.onUnlisten=BM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$M.bind(null,e.syncEngine),t}function t4(n,e,t={}){const r=new Ni;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new r_({next:T=>{g.su(),l.enqueueAndForget(()=>Jy(a,v));const S=T.docs.has(c);!S&&T.fromCache?p.reject(new _e(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&h&&h.source==="server"?p.reject(new _e(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new e_(Rf(c.path),g,{includeMetadataChanges:!0,Ta:!0});return Xy(a,v)}(await Xh(n),n.asyncQueue,e,t,r)),r.promise}function n4(n,e,t={}){const r=new Ni;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new r_({next:T=>{g.su(),l.enqueueAndForget(()=>Jy(a,v)),T.fromCache&&h.source==="server"?p.reject(new _e(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new e_(c,g,{includeMetadataChanges:!0,Ta:!0});return Xy(a,v)}(await Xh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n,e,t){if(!t)throw new _e(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r4(n,e,t,r){if(e===!0&&r===!0)throw new _e(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XE(n){if(!Ee.isDocumentKey(n))throw new _e(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JE(n){if(Ee.isDocumentKey(n))throw new _e(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function i_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=i_(n);throw new _e(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",ZE=!0;class eT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=ZE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DL)throw new _e(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uD;switch(r.type){case"firstParty":return new fD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=YE.get(t);r&&(he("ComponentProvider","Removing Datastore"),YE.delete(t),r.terminate())}(this),Promise.resolve()}}function i4(n,e,t,r={}){var i;const a=(n=sr(n,Lf))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a.host!==qS&&a.host!==c&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!Vs(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=sn.MOCK_USER;else{p=py(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new _e(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new sn(v)}n._authCredentials=new cD(new VC(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xc(this.firestore,e,this._query)}}class kn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Ds extends xc{constructor(e,t,r){super(e,t,Rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Ee(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function s_(n,e,...t){if(n=It(n),HS("collection","path",e),n instanceof Lf){const r=dt.fromString(e,...t);return JE(r),new Ds(n,null,r)}{if(!(n instanceof kn||n instanceof Ds))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return JE(r),new Ds(n.firestore,null,r)}}function xl(n,e,...t){if(n=It(n),arguments.length===1&&(e=FC.newId()),HS("doc","path",e),n instanceof Lf){const r=dt.fromString(e,...t);return XE(r),new kn(n,null,new Ee(r))}{if(!(n instanceof kn||n instanceof Ds))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return XE(r),new kn(n.firestore,n instanceof Ds?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="AsyncQueue";class nT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new xS(this,"async_queue_retry"),this.bu=()=>{const r=Lm();r&&he(tT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Lm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Lm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Sl(e))throw e;he(tT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Fi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Qy.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function rT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class qs extends Lf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new nT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nT(e),this._firestoreClient=void 0,await e}}}function Uo(n,e){const t=typeof n=="object"?n:_f(),r=typeof n=="string"?n:$h,i=_c(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=hy("firestore");a&&i4(i,...a)}return i}function Mf(n){if(n._terminated)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||s4(n),n._firestoreClient}function s4(n){var e,t,r;const i=n._freezeSettings(),a=function(c,h,p,g){return new xD(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,WS(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new JM(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cl(Jt.fromBase64String(e))}catch(t){throw new _e(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cl(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^__.*__$/;class a4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ic(e,this.data,t,this.fieldTransforms)}}function KS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class c_{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new c_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Jh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(KS(this.Lu)&&o4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class l4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nf(e)}ju(e,t,r,i=!1){return new c_({Lu:e,methodName:t,zu:r,path:Xt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GS(n){const e=n._freezeSettings(),t=Nf(n._databaseId);return new l4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QS(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);ZS("Data must be an object, but it was:",l,r);const c=XS(r,l);let h,p;if(a.merge)h=new xr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const T=u4(e,v,t);if(!l.contains(T))throw new _e(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);d4(g,T)||g.push(T)}h=new xr(g),p=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=l.fieldTransforms;return new a4(new nr(c),h,p)}class d_ extends a_{_toFieldTransform(e){return new eL(e.path,new ac)}isEqual(e){return e instanceof d_}}function YS(n,e){if(JS(n=It(n)))return ZS("Unsupported field value:",e,n),XS(n,e);if(n instanceof a_)return function(r,i){if(!KS(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let h=YS(c,i.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ot.fromDate(r);return{timestampValue:Kh(i.serializer,a)}}if(r instanceof Ot){const a=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,a)}}if(r instanceof l_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cl)return{bytesValue:gS(i.serializer,r._byteString)};if(r instanceof kn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Uy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof u_)return function(l,c){return{mapValue:{fields:{[qC]:{stringValue:KC},[zh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return My(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${i_(r)}`)}(n,e)}function XS(n,e){const t={};return UC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(n,(r,i)=>{const a=YS(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function JS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof l_||n instanceof cl||n instanceof kn||n instanceof a_||n instanceof u_)}function ZS(n,e,t){if(!JS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=i_(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function u4(n,e,t){if((e=It(e))instanceof o_)return e._internalPath;if(typeof e=="string")return eR(n,e);throw Jh("Field path arguments must be of type string or ",n,!1,void 0,t)}const c4=new RegExp("[~\\*/\\[\\]]");function eR(n,e,t){if(e.search(c4)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new o_(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new _e(ne.INVALID_ARGUMENT,c+n+h)}function d4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class h4 extends tR{data(){return super.data()}}function nR(n,e){return typeof e=="string"?eR(n,e):e instanceof o_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f4{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ko(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[zh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Tt(l.doubleValue));return new u_(a)}convertGeoPoint(e){return new l_(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dt.fromString(e);Xe(TS(r));const i=new sc(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return i.isEqual(t)||Fi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sR extends tR{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Rh extends sR{data(e={}){return super.data(e)}}class oR{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Rh(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const h=new Rh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new Rh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:p4(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function p4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n){n=sr(n,kn);const e=sr(n.firestore,qs);return t4(Mf(e),n._key).then(t=>uR(e,n,t))}class h_ extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new cl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function aR(n){n=sr(n,xc);const e=sr(n.firestore,qs),t=Mf(e),r=new h_(e);return rR(n._query),n4(t,n._query).then(i=>new oR(e,r,n,i))}function lR(n,e,t){n=sr(n,kn);const r=sr(n.firestore,qs),i=iR(n.converter,e,t);return f_(r,[QS(GS(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,kr.none())])}function g4(n){return f_(sr(n.firestore,qs),[new Vy(n._key,kr.none())])}function y4(n,e){const t=sr(n.firestore,qs),r=xl(n),i=iR(n.converter,e);return f_(t,[QS(GS(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function _4(n,...e){var t,r,i;n=It(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||rT(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(rT(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let h,p,g;if(n instanceof kn)p=sr(n.firestore,qs),g=Rf(n._key.path),h={next:v=>{e[l]&&e[l](uR(p,n,v))},error:e[l+1],complete:e[l+2]};else{const v=sr(n,xc);p=sr(v.firestore,qs),g=v._query;const T=new h_(p);h={next:S=>{e[l]&&e[l](new oR(p,T,v,S))},error:e[l+1],complete:e[l+2]},rR(n._query)}return function(T,S,x,b){const R=new r_(b),F=new e_(S,R,x);return T.asyncQueue.enqueueAndForget(async()=>Xy(await Xh(T),F)),()=>{R.su(),T.asyncQueue.enqueueAndForget(async()=>Jy(await Xh(T),F))}}(Mf(p),g,c,h)}function f_(n,e){return function(r,i){const a=new Ni;return r.asyncQueue.enqueueAndForget(async()=>zM(await e4(r),i,a)),a.promise}(Mf(n),e)}function uR(n,e,t){const r=t.docs.get(e._key),i=new h_(n);return new sR(n,i,e._key,r,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}function v4(){return new d_("serverTimestamp")}(function(e,t=!0){(function(i){Il=i})(Ys),Fs(new Li("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new qs(new dD(r.getProvider("auth-internal")),new pD(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),ir(uE,cE,e),ir(uE,cE,"esm2017")})();var iT={};const sT="@firebase/database",oT="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cR="";function w4(n){cR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ec(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return zi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new E4(e)}}catch{}return new T4},Do=dR("localStorage"),I4=dR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new yf("@firebase/database"),C4=function(){let n=1;return function(){return n++}}(),hR=function(n){const e=Vk(n),t=new Nk;t.update(e);const r=t.digest();return dy.encodeByteArray(r)},Ac=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ac.apply(null,r):typeof r=="object"?e+=Yt(r):e+=r,e+=" "}return e};let Wu=null,aT=!0;const S4=function(n,e){ce(!0,"Can't turn on custom loggers persistently."),Za.logLevel=Me.VERBOSE,Wu=Za.log.bind(Za)},an=function(...n){if(aT===!0&&(aT=!1,Wu===null&&I4.get("logging_enabled")===!0&&S4()),Wu){const e=Ac.apply(null,n);Wu(e)}},Pc=function(n){return function(...e){an(n,...e)}},bg=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ac(...n);Za.error(e)},Ui=function(...n){const e=`FIREBASE FATAL ERROR: ${Ac(...n)}`;throw Za.error(e),new Error(e)},zn=function(...n){const e="FIREBASE WARNING: "+Ac(...n);Za.warn(e)},R4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fR=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},x4=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},dl="[MIN_NAME]",Bo="[MAX_NAME]",Al=function(n,e){if(n===e)return 0;if(n===dl||e===Bo)return-1;if(e===dl||n===Bo)return 1;{const t=lT(n),r=lT(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},A4=function(n,e){return n===e?0:n<e?-1:1},Su=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Yt(e))},p_=function(n){if(typeof n!="object"||n===null)return Yt(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Yt(e[r]),t+=":",t+=p_(n[e[r]]);return t+="}",t},pR=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function ar(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const mR=function(n){ce(!fR(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,a,l,c,h;n===0?(a=0,l=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=c+r,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(a=0,l=Math.round(n/Math.pow(2,1-r-t))));const p=[];for(h=t;h;h-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(i?1:0),p.reverse();const g=p.join("");let v="";for(h=0;h<64;h+=8){let T=parseInt(g.substr(h,8),2).toString(16);T.length===1&&(T="0"+T),v=v+T}return v.toLowerCase()},P4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},k4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},b4=new RegExp("^-?(0*)\\d{1,10}$"),N4=-2147483648,O4=2147483647,lT=function(n){if(b4.test(n)){const e=Number(n);if(e>=N4&&e<=O4)return e}return null},kc=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw zn("Exception was thrown by user callback.",t),e},Math.floor(0))}},D4=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hu=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,yn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){zn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zn(e)}}class xh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="5",gR="v",yR="s",_R="r",vR="f",wR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ER="ls",TR="p",Ng="ac",IR="websocket",CR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t,r,i,a=!1,l="",c=!1,h=!1,p=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Do.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Do.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function V4(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function RR(n,e,t){ce(typeof e=="string","typeof type must == string"),ce(typeof t=="object","typeof params must == object");let r;if(e===IR)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===CR)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);V4(n)&&(t.ns=n.namespace);const i=[];return ar(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.counters_={}}incrementCounter(e,t=1){zi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return fk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm={},Fm={};function g_(n){const e=n.toString();return Vm[e]||(Vm[e]=new F4),Vm[e]}function j4(n,e){const t=n.toString();return Fm[t]||(Fm[t]=e()),Fm[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&kc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="start",B4="close",$4="pLPCommand",z4="pRTLPCB",xR="id",AR="pw",PR="ser",W4="cb",H4="seg",q4="ts",K4="d",G4="dframe",kR=1870,bR=30,Q4=kR-bR,Y4=25e3,X4=3e4;class qa{constructor(e,t,r,i,a,l,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pc(e),this.stats_=g_(t),this.urlFn=h=>(this.appCheckToken&&(h[Ng]=this.appCheckToken),RR(t,CR,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new U4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(X4)),x4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new y_((...a)=>{const[l,c,h,p,g]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===uT)this.id=c,this.password=h;else if(l===B4)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,c]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[uT]="t",r[PR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[W4]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gR]=m_,this.transportSessionId&&(r[yR]=this.transportSessionId),this.lastSessionId&&(r[ER]=this.lastSessionId),this.applicationId&&(r[TR]=this.applicationId),this.appCheckToken&&(r[Ng]=this.appCheckToken),typeof location<"u"&&location.hostname&&wR.test(location.hostname)&&(r[_R]=vR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qa.forceAllow_=!0}static forceDisallow(){qa.forceDisallow_=!0}static isAvailable(){return qa.forceAllow_?!0:!qa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!P4()&&!k4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Yt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=jI(t),i=pR(r,Q4);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[G4]="t",r[xR]=e,r[AR]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Yt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class y_{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=C4(),window[$4+this.uniqueCallbackIdentifier]=e,window[z4+this.uniqueCallbackIdentifier]=t,this.myIFrame=y_.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){an("frame writing exception"),c.stack&&an(c.stack),an(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||an("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xR]=this.myID,e[AR]=this.myPW,e[PR]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bR+r.length<=kR;){const l=this.pendingSegs.shift();r=r+"&"+H4+i+"="+l.seg+"&"+q4+i+"="+l.ts+"&"+K4+i+"="+l.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(Y4)),a=()=>{clearTimeout(i),r()};this.addTag(e,a)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{an("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=16384,Z4=45e3;let Zh=null;typeof MozWebSocket<"u"?Zh=MozWebSocket:typeof WebSocket<"u"&&(Zh=WebSocket);class Rr{constructor(e,t,r,i,a,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pc(this.connId),this.stats_=g_(t),this.connURL=Rr.connectionURL_(t,l,c,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,a){const l={};return l[gR]=m_,typeof location<"u"&&location.hostname&&wR.test(location.hostname)&&(l[_R]=vR),t&&(l[yR]=t),r&&(l[ER]=r),i&&(l[Ng]=i),a&&(l[TR]=a),RR(e,IR,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Do.set("previous_websocket_failure",!0);try{let r;Ik(),this.mySock=new Zh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Rr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Zh!==null&&!Rr.forceDisallow_}static previouslyFailed(){return Do.isInMemoryStorage||Do.get("previous_websocket_failure")===!0}markConnectionHealthy(){Do.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=ec(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Yt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=pR(t,J4);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Z4))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rr.responsesRequiredToBeHealthy=2;Rr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{static get ALL_TRANSPORTS(){return[qa,Rr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Rr&&Rr.isAvailable();let r=t&&!Rr.previouslyFailed();if(e.webSocketOnly&&(t||zn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rr];else{const i=this.transports_=[];for(const a of cc.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);cc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}cc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=6e4,tV=5e3,nV=10*1024,rV=100*1024,jm="t",cT="d",iV="s",dT="r",sV="e",hT="o",fT="a",pT="n",mT="p",oV="h";class aV{constructor(e,t,r,i,a,l,c,h,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pc("c:"+this.id+":"),this.transportManager_=new cc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jm in e){const t=e[jm];t===fT?this.upgradeIfSecondaryHealthy_():t===dT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===hT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Su("t",e),r=Su("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:mT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Su("t",e),r=Su("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Su(jm,e);if(cT in e){const r=e[cT];if(t===oV){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===pT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===iV?this.onConnectionShutdown_(r):t===dT?this.onReset_(r):t===sV?bg("Server Error: "+r):t===hT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bg("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),m_!==r&&zn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Hu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:mT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Do.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends OR{static getInstance(){return new ef}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!my()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=32,yT=768;class lt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ze(){return new lt("")}function He(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ks(n){return n.pieces_.length-n.pieceNum_}function at(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new lt(n.pieces_,e)}function DR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lV(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function LR(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function MR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new lt(e,0)}function zt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof lt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new lt(t,0)}function Be(n){return n.pieceNum_>=n.pieces_.length}function rr(n,e){const t=He(n),r=He(e);if(t===null)return e;if(t===r)return rr(at(n),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function VR(n,e){if(Ks(n)!==Ks(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ar(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ks(n)>Ks(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class uV{constructor(e,t){this.errorPrefix_=t,this.parts_=LR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gf(this.parts_[r]);FR(this)}}function cV(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=gf(e),FR(n)}function dV(n){const e=n.parts_.pop();n.byteLength_-=gf(e),n.parts_.length>0&&(n.byteLength_-=1)}function FR(n){if(n.byteLength_>yT)throw new Error(n.errorPrefix_+"has a key path longer than "+yT+" bytes ("+n.byteLength_+").");if(n.parts_.length>gT)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gT+") or object contains a cycle "+bo(n))}function bo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends OR{static getInstance(){return new __}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=1e3,hV=60*5*1e3,_T=30*1e3,fV=1.3,pV=3e4,mV="server_kill",vT=3;class Oi extends NR{constructor(e,t,r,i,a,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=Oi.nextPersistentConnectionId_++,this.log_=Pc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ru,this.maxReconnectDelay_=hV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");__.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ef.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,a={r:i,a:e,b:t};this.log_(Yt(a)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new fy,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),t.promise}listen(e,t,r,i){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},l="q";e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(l,a,c=>{const h=c.d,p=c.s;Oi.warnOnListenWarnings_(h,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),p!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(p,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&zi(e,"w")){const r=nl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();zn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_T)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=kk(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const a=i.s,l=i.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const a={p:e},l="n";i&&(a.q=r,a.t=i),this.sendRequest(l,a)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const a={p:t,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,a){this.initConnection_();const l={p:t,d:r};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Yt(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):bg("Unrecognized action received from server: "+Yt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ru,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ru,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pV&&(this.reconnectDelay_=Ru),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Oi.nextConnectionId_++,a=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,r())},p=function(v){ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(v)};this.realtime_={close:h,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,T]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=T&&T.token,c=new aV(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,S=>{zn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(mV)},a))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&zn(v),h())}}}interrupt(e){an("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){an("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sg(this.interruptReasons_)&&(this.reconnectDelay_=Ru,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(a=>p_(a)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new lt(e).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(t),a.delete(t),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){an("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vT&&(this.reconnectDelay_=_T,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){an("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+cR.replace(/\./g,"-")]=1,my()?e["framework.cordova"]=1:WI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ef.getInstance().currentlyOnline();return sg(this.interruptReasons_)&&e}}Oi.nextPersistentConnectionId_=0;Oi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qe(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new qe(dl,e),i=new qe(dl,t);return this.compare(r,i)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class jR extends Vf{static get __EMPTY_NODE(){return ah}static set __EMPTY_NODE(e){ah=e}compare(e,t){return Al(e.name,t.name)}isDefinedOn(e){throw wl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qe.MIN}maxPost(){return new qe(Bo,ah)}makePost(e,t){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,ah)}toString(){return".key"}}const el=new jR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $t{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??$t.RED,this.left=i??Pn.EMPTY_NODE,this.right=a??Pn.EMPTY_NODE}copy(e,t,r,i,a){return new $t(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return Pn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$t.RED=!0;$t.BLACK=!1;class gV{copy(e,t,r,i,a){return this}insert(e,t,r){return new $t(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pn{constructor(e,t=Pn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Pn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,$t.BLACK,null,null))}remove(e){return new Pn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$t.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new lh(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new lh(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new lh(this.root_,null,this.comparator_,!0,e)}}Pn.EMPTY_NODE=new gV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n,e){return Al(n.name,e.name)}function v_(n,e){return Al(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og;function _V(n){Og=n}const UR=function(n){return typeof n=="number"?"number:"+mR(n):"string:"+n},BR=function(n){if(n.isLeafNode()){const e=n.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zi(e,".sv"),"Priority must be a string or number.")}else ce(n===Og||n.isEmpty(),"priority of unexpected type.");ce(n===Og||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wT;class Ut{static set __childrenNodeConstructor(e){wT=e}static get __childrenNodeConstructor(){return wT}constructor(e,t=Ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),BR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Be(e)?this:He(e)===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=He(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||Ks(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+UR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=mR(this.value_):e+=this.value_,this.lazyHash_=hR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ut.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Ut.VALUE_TYPE_ORDER.indexOf(t),a=Ut.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+t),ce(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $R,zR;function vV(n){$R=n}function wV(n){zR=n}class EV extends Vf{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return a===0?Al(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(Bo,new Ut("[PRIORITY-POST]",zR))}makePost(e,t){const r=$R(e);return new qe(t,new Ut("[PRIORITY-POST]",r))}toString(){return".priority"}}const un=new EV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=Math.log(2);class IV{constructor(e){const t=a=>parseInt(Math.log(a)/TV,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const tf=function(n,e,t,r){n.sort(e);const i=function(h,p){const g=p-h;let v,T;if(g===0)return null;if(g===1)return v=n[h],T=t?t(v):v,new $t(T,v.node,$t.BLACK,null,null);{const S=parseInt(g/2,10)+h,x=i(h,S),b=i(S+1,p);return v=n[S],T=t?t(v):v,new $t(T,v.node,$t.BLACK,x,b)}},a=function(h){let p=null,g=null,v=n.length;const T=function(x,b){const R=v-x,F=v;v-=x;const B=i(R+1,F),$=n[R],q=t?t($):$;S(new $t(q,$.node,b,null,B))},S=function(x){p?(p.left=x,p=x):(g=x,p=x)};for(let x=0;x<h.count;++x){const b=h.nextBitIsOne(),R=Math.pow(2,h.count-(x+1));b?T(R,$t.BLACK):(T(R,$t.BLACK),T(R,$t.RED))}return g},l=new IV(n.length),c=a(l);return new Pn(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um;const Ba={};class Pi{static get Default(){return ce(Ba&&un,"ChildrenNode.ts has not been loaded"),Um=Um||new Pi({".priority":Ba},{".priority":un}),Um}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=nl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pn?t:null}hasIndex(e){return zi(this.indexSet_,e.toString())}addIndex(e,t){ce(e!==el,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(qe.Wrap);let l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();let c;i?c=tf(r,e.getCompare()):c=Ba;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new Pi(g,p)}addToIndexes(e,t){const r=Dh(this.indexes_,(i,a)=>{const l=nl(this.indexSet_,a);if(ce(l,"Missing index implementation for "+a),i===Ba)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(qe.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&c.push(p),p=h.getNext();return c.push(e),tf(c,l.getCompare())}else return Ba;else{const c=t.get(e.name);let h=i;return c&&(h=h.remove(new qe(e.name,c))),h.insert(e,e.node)}});return new Pi(r,this.indexSet_)}removeFromIndexes(e,t){const r=Dh(this.indexes_,i=>{if(i===Ba)return i;{const a=t.get(e.name);return a?i.remove(new qe(e.name,a)):i}});return new Pi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu;class Ye{static get EMPTY_NODE(){return xu||(xu=new Ye(new Pn(v_),null,Pi.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&BR(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xu}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?xu:t}}getChild(e){const t=He(e);return t===null?this:this.getImmediateChild(t).getChild(at(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ce(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new qe(e,t);let i,a;t.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?xu:this.priorityNode_;return new Ye(i,l,a)}}updateChild(e,t){const r=He(e);if(r===null)return t;{ce(He(e)!==".priority"||Ks(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(at(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,a=!0;if(this.forEachChild(un,(l,c)=>{t[l]=c.val(e),r++,a&&Ye.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):a=!1}),!e&&a&&i<2*r){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+UR(this.getPriority().val())+":"),this.forEachChild(un,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":hR(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new qe(e,t));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qe(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,qe.Wrap);let a=i.peek();for(;a!=null&&t.compare(a,e)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let a=i.peek();for(;a!=null&&t.compare(a,e)>0;)i.getNext(),a=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bc?-1:0}withIndex(e){if(e===el||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===el||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(un),i=t.getIterator(un);let a=r.getNext(),l=i.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=r.getNext(),l=i.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===el?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class CV extends Ye{constructor(){super(new Pn(v_),Ye.EMPTY_NODE,Pi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const bc=new CV;Object.defineProperties(qe,{MIN:{value:new qe(dl,Ye.EMPTY_NODE)},MAX:{value:new qe(Bo,bc)}});jR.__EMPTY_NODE=Ye.EMPTY_NODE;Ut.__childrenNodeConstructor=Ye;_V(bc);wV(bc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=!0;function ln(n,e=null){if(n===null)return Ye.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Ut(t,ln(e))}if(!(n instanceof Array)&&SV){const t=[];let r=!1;if(ar(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=ln(c);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),t.push(new qe(l,h)))}}),t.length===0)return Ye.EMPTY_NODE;const a=tf(t,yV,l=>l.name,v_);if(r){const l=tf(t,un.getCompare());return new Ye(a,ln(e),new Pi({".priority":l},{".priority":un}))}else return new Ye(a,ln(e),Pi.Default)}else{let t=Ye.EMPTY_NODE;return ar(n,(r,i)=>{if(zi(n,r)&&r.substring(0,1)!=="."){const a=ln(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(ln(e))}}vV(ln);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV extends Vf{constructor(e){super(),this.indexPath_=e,ce(!Be(e)&&He(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return a===0?Al(e.name,t.name):a}makePost(e,t){const r=ln(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new qe(t,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,bc);return new qe(Bo,e)}toString(){return LR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV extends Vf{compare(e,t){const r=e.node.compareTo(t.node);return r===0?Al(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,t){const r=ln(e);return new qe(t,r)}toString(){return".value"}}const AV=new xV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(n){return{type:"value",snapshotNode:n}}function kV(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function bV(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ET(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function NV(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dl}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===un}copy(){const e=new w_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TT(n){const e={};if(n.isDefault())return e;let t;if(n.index_===un?t="$priority":n.index_===AV?t="$value":n.index_===el?t="$key":(ce(n.index_ instanceof RV,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Yt(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Yt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Yt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Yt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Yt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function IT(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==un&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends NR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Pc("p:rest:"),this.listens_={}}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=nf.getListenId_(e,r),c={};this.listens_[l]=c;const h=TT(e._queryParams);this.restRequest_(a+".json",h,(p,g)=>{let v=g;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(a,v,!1,r),nl(this.listens_,l)===c){let T;p?p===401?T="permission_denied":T="rest_error:"+p:T="ok",i(T,null)}})}unlisten(e,t){const r=nf.getListenId_(e,t);delete this.listens_[r]}get(e){const t=TT(e._queryParams),r=e._path.toString(),i=new fy;return this.restRequest_(r+".json",t,(a,l)=>{let c=l;a===404&&(c=null,a=null),a===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+El(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=ec(c.responseText)}catch{zn("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,h)}else c.status!==401&&c.status!==404&&zn("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){return{value:null,children:new Map}}function WR(n,e,t){if(Be(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=He(e);n.children.has(r)||n.children.set(r,rf());const i=n.children.get(r);e=at(e),WR(i,e,t)}}function Dg(n,e,t){n.value!==null?t(e,n.value):DV(n,(r,i)=>{const a=new lt(e.toString()+"/"+r);Dg(i,a,t)})}function DV(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ar(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=10*1e3,MV=30*1e3,VV=5*60*1e3;class FV{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new LV(e);const r=CT+(MV-CT)*Math.random();Hu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;ar(e,(i,a)=>{a>0&&zi(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),Hu(this.reportStats_.bind(this),Math.floor(Math.random()*2*VV))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yr||(Yr={}));function HR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function KR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Yr.ACK_USER_WRITE,this.source=HR()}operationForChild(e){if(Be(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new lt(e));return new sf(Ze(),t,this.revert)}}else return ce(He(this.path)===e,"operationForChild called for unrelated child."),new sf(at(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Yr.OVERWRITE}operationForChild(e){return Be(this.path)?new $o(this.source,Ze(),this.snap.getImmediateChild(e)):new $o(this.source,at(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Yr.MERGE}operationForChild(e){if(Be(this.path)){const t=this.children.subtree(new lt(e));return t.isEmpty()?null:t.value?new $o(this.source,Ze(),t.value):new dc(this.source,Ze(),t)}else return ce(He(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dc(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Be(e))return this.isFullyInitialized()&&!this.filtered_;const t=He(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function jV(n,e,t,r){const i=[],a=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(NV(l.childName,l.snapshotNode))}),Au(n,i,"child_removed",e,r,t),Au(n,i,"child_added",e,r,t),Au(n,i,"child_moved",a,r,t),Au(n,i,"child_changed",e,r,t),Au(n,i,"value",e,r,t),i}function Au(n,e,t,r,i,a){const l=r.filter(c=>c.type===t);l.sort((c,h)=>BV(n,c,h)),l.forEach(c=>{const h=UV(n,c,a);i.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(h,n.query_))})})}function UV(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function BV(n,e,t){if(e.childName==null||t.childName==null)throw wl("Should only compare child_ events.");const r=new qe(e.childName,e.snapshotNode),i=new qe(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n,e){return{eventCache:n,serverCache:e}}function qu(n,e,t,r){return GR(new E_(e,t,r),n.serverCache)}function QR(n,e,t,r){return GR(n.eventCache,new E_(e,t,r))}function Lg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function zo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm;const $V=()=>(Bm||(Bm=new Pn(A4)),Bm);class ot{static fromObject(e){let t=new ot(null);return ar(e,(r,i)=>{t=t.set(new lt(r),i)}),t}constructor(e,t=$V()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ze(),value:this.value};if(Be(e))return null;{const r=He(e),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(at(e),t);return a!=null?{path:zt(new lt(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Be(e))return this;{const t=He(e),r=this.children.get(t);return r!==null?r.subtree(at(e)):new ot(null)}}set(e,t){if(Be(e))return new ot(t,this.children);{const r=He(e),a=(this.children.get(r)||new ot(null)).set(at(e),t),l=this.children.insert(r,a);return new ot(this.value,l)}}remove(e){if(Be(e))return this.children.isEmpty()?new ot(null):new ot(null,this.children);{const t=He(e),r=this.children.get(t);if(r){const i=r.remove(at(e));let a;return i.isEmpty()?a=this.children.remove(t):a=this.children.insert(t,i),this.value===null&&a.isEmpty()?new ot(null):new ot(this.value,a)}else return this}}get(e){if(Be(e))return this.value;{const t=He(e),r=this.children.get(t);return r?r.get(at(e)):null}}setTree(e,t){if(Be(e))return t;{const r=He(e),a=(this.children.get(r)||new ot(null)).setTree(at(e),t);let l;return a.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,a),new ot(this.value,l)}}fold(e){return this.fold_(Ze(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(zt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ze(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(Be(e))return null;{const a=He(e),l=this.children.get(a);return l?l.findOnPath_(at(e),zt(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ze(),t)}foreachOnPath_(e,t,r){if(Be(e))return this;{this.value&&r(t,this.value);const i=He(e),a=this.children.get(i);return a?a.foreachOnPath_(at(e),zt(t,i),r):new ot(null)}}foreach(e){this.foreach_(Ze(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(zt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.writeTree_=e}static empty(){return new br(new ot(null))}}function Ku(n,e,t){if(Be(e))return new br(new ot(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let a=r.value;const l=rr(i,e);return a=a.updateChild(l,t),new br(n.writeTree_.set(i,a))}else{const i=new ot(t),a=n.writeTree_.setTree(e,i);return new br(a)}}}function ST(n,e,t){let r=n;return ar(t,(i,a)=>{r=Ku(r,zt(e,i),a)}),r}function RT(n,e){if(Be(e))return br.empty();{const t=n.writeTree_.setTree(e,new ot(null));return new br(t)}}function Mg(n,e){return Xo(n,e)!=null}function Xo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(rr(t.path,e)):null}function xT(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(un,(r,i)=>{e.push(new qe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new qe(r,i.value))}),e}function Ls(n,e){if(Be(e))return n;{const t=Xo(n,e);return t!=null?new br(new ot(t)):new br(n.writeTree_.subtree(e))}}function Vg(n){return n.writeTree_.isEmpty()}function hl(n,e){return YR(Ze(),n.writeTree_,e)}function YR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{i===".priority"?(ce(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):t=YR(zt(n,i),a,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(zt(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,e){return n1(e,n)}function zV(n,e,t,r,i){ce(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Ku(n.visibleWrites,e,t)),n.lastWriteId=r}function WV(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function HV(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ce(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&qV(c,r.path)?i=!1:Ar(r.path,c.path)&&(a=!0)),l--}if(i){if(a)return KV(n),!0;if(r.snap)n.visibleWrites=RT(n.visibleWrites,r.path);else{const c=r.children;ar(c,h=>{n.visibleWrites=RT(n.visibleWrites,zt(r.path,h))})}return!0}else return!1}function qV(n,e){if(n.snap)return Ar(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ar(zt(n.path,t),e))return!0;return!1}function KV(n){n.visibleWrites=JR(n.allWrites,GV,Ze()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function GV(n){return n.visible}function JR(n,e,t){let r=br.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let c;if(a.snap)Ar(t,l)?(c=rr(t,l),r=Ku(r,c,a.snap)):Ar(l,t)&&(c=rr(l,t),r=Ku(r,Ze(),a.snap.getChild(c)));else if(a.children){if(Ar(t,l))c=rr(t,l),r=ST(r,c,a.children);else if(Ar(l,t))if(c=rr(l,t),Be(c))r=ST(r,Ze(),a.children);else{const h=nl(a.children,He(c));if(h){const p=h.getChild(at(c));r=Ku(r,Ze(),p)}}}else throw wl("WriteRecord should have .snap or .children")}}return r}function ZR(n,e,t,r,i){if(!r&&!i){const a=Xo(n.visibleWrites,e);if(a!=null)return a;{const l=Ls(n.visibleWrites,e);if(Vg(l))return t;if(t==null&&!Mg(l,Ze()))return null;{const c=t||Ye.EMPTY_NODE;return hl(l,c)}}}else{const a=Ls(n.visibleWrites,e);if(!i&&Vg(a))return t;if(!i&&t==null&&!Mg(a,Ze()))return null;{const l=function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(Ar(p.path,e)||Ar(e,p.path))},c=JR(n.allWrites,l,e),h=t||Ye.EMPTY_NODE;return hl(c,h)}}}function QV(n,e,t){let r=Ye.EMPTY_NODE;const i=Xo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(un,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=Ls(n.visibleWrites,e);return t.forEachChild(un,(l,c)=>{const h=hl(Ls(a,new lt(l)),c);r=r.updateImmediateChild(l,h)}),xT(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const a=Ls(n.visibleWrites,e);return xT(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function YV(n,e,t,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=zt(e,t);if(Mg(n.visibleWrites,a))return null;{const l=Ls(n.visibleWrites,a);return Vg(l)?i.getChild(t):hl(l,i.getChild(t))}}function XV(n,e,t,r){const i=zt(e,t),a=Xo(n.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(t)){const l=Ls(n.visibleWrites,i);return hl(l,r.getNode().getImmediateChild(t))}else return null}function JV(n,e){return Xo(n.visibleWrites,e)}function ZV(n,e,t,r,i,a,l){let c;const h=Ls(n.visibleWrites,e),p=Xo(h,Ze());if(p!=null)c=p;else if(t!=null)c=hl(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],v=l.getCompare(),T=a?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let S=T.getNext();for(;S&&g.length<i;)v(S,r)!==0&&g.push(S),S=T.getNext();return g}else return[]}function e3(){return{visibleWrites:br.empty(),allWrites:[],lastWriteId:-1}}function Fg(n,e,t,r){return ZR(n.writeTree,n.treePath,e,t,r)}function e1(n,e){return QV(n.writeTree,n.treePath,e)}function AT(n,e,t,r){return YV(n.writeTree,n.treePath,e,t,r)}function of(n,e){return JV(n.writeTree,zt(n.treePath,e))}function t3(n,e,t,r,i,a){return ZV(n.writeTree,n.treePath,e,t,r,i,a)}function T_(n,e,t){return XV(n.writeTree,n.treePath,e,t)}function t1(n,e){return n1(zt(n.treePath,e),n.writeTree)}function n1(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ce(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(t==="child_added"&&a==="child_removed")this.changeMap.set(r,ET(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&a==="child_changed")this.changeMap.set(r,bV(r,i.oldSnap));else if(t==="child_changed"&&a==="child_added")this.changeMap.set(r,kV(r,e.snapshotNode));else if(t==="child_changed"&&a==="child_changed")this.changeMap.set(r,ET(r,e.snapshotNode,i.oldSnap));else throw wl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const r1=new r3;class I_{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new E_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return T_(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zo(this.viewCache_),a=t3(this.writes_,i,t,1,r,e);return a.length===0?null:a[0]}}function i3(n,e){ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function s3(n,e,t,r,i){const a=new n3;let l,c;if(t.type===Yr.OVERWRITE){const p=t;p.source.fromUser?l=jg(n,e,p.path,p.snap,r,i,a):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!Be(p.path),l=af(n,e,p.path,p.snap,r,i,c,a))}else if(t.type===Yr.MERGE){const p=t;p.source.fromUser?l=a3(n,e,p.path,p.children,r,i,a):(ce(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),l=Ug(n,e,p.path,p.children,r,i,c,a))}else if(t.type===Yr.ACK_USER_WRITE){const p=t;p.revert?l=c3(n,e,p.path,r,i,a):l=l3(n,e,p.path,p.affectedTree,r,i,a)}else if(t.type===Yr.LISTEN_COMPLETE)l=u3(n,e,t.path,r,a);else throw wl("Unknown operation type: "+t.type);const h=a.getChanges();return o3(e,l,h),{viewCache:l,changes:h}}function o3(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Lg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(PV(Lg(e)))}}function i1(n,e,t,r,i,a){const l=e.eventCache;if(of(r,t)!=null)return e;{let c,h;if(Be(t))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=zo(e),g=p instanceof Ye?p:Ye.EMPTY_NODE,v=e1(r,g);c=n.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const p=Fg(r,zo(e));c=n.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=He(t);if(p===".priority"){ce(Ks(t)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const v=AT(r,t,g,h);v!=null?c=n.filter.updatePriority(g,v):c=l.getNode()}else{const g=at(t);let v;if(l.isCompleteForChild(p)){h=e.serverCache.getNode();const T=AT(r,t,l.getNode(),h);T!=null?v=l.getNode().getImmediateChild(p).updateChild(g,T):v=l.getNode().getImmediateChild(p)}else v=T_(r,p,e.serverCache);v!=null?c=n.filter.updateChild(l.getNode(),p,v,g,i,a):c=l.getNode()}}return qu(e,c,l.isFullyInitialized()||Be(t),n.filter.filtersNodes())}}function af(n,e,t,r,i,a,l,c){const h=e.serverCache;let p;const g=l?n.filter:n.filter.getIndexedFilter();if(Be(t))p=g.updateFullNode(h.getNode(),r,null);else if(g.filtersNodes()&&!h.isFiltered()){const S=h.getNode().updateChild(t,r);p=g.updateFullNode(h.getNode(),S,null)}else{const S=He(t);if(!h.isCompleteForPath(t)&&Ks(t)>1)return e;const x=at(t),R=h.getNode().getImmediateChild(S).updateChild(x,r);S===".priority"?p=g.updatePriority(h.getNode(),R):p=g.updateChild(h.getNode(),S,R,x,r1,null)}const v=QR(e,p,h.isFullyInitialized()||Be(t),g.filtersNodes()),T=new I_(i,v,a);return i1(n,v,t,i,T,c)}function jg(n,e,t,r,i,a,l){const c=e.eventCache;let h,p;const g=new I_(i,e,a);if(Be(t))p=n.filter.updateFullNode(e.eventCache.getNode(),r,l),h=qu(e,p,!0,n.filter.filtersNodes());else{const v=He(t);if(v===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),r),h=qu(e,p,c.isFullyInitialized(),c.isFiltered());else{const T=at(t),S=c.getNode().getImmediateChild(v);let x;if(Be(T))x=r;else{const b=g.getCompleteChild(v);b!=null?DR(T)===".priority"&&b.getChild(MR(T)).isEmpty()?x=b:x=b.updateChild(T,r):x=Ye.EMPTY_NODE}if(S.equals(x))h=e;else{const b=n.filter.updateChild(c.getNode(),v,x,T,g,l);h=qu(e,b,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function PT(n,e){return n.eventCache.isCompleteForChild(e)}function a3(n,e,t,r,i,a,l){let c=e;return r.foreach((h,p)=>{const g=zt(t,h);PT(e,He(g))&&(c=jg(n,c,g,p,i,a,l))}),r.foreach((h,p)=>{const g=zt(t,h);PT(e,He(g))||(c=jg(n,c,g,p,i,a,l))}),c}function kT(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ug(n,e,t,r,i,a,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,p;Be(t)?p=r:p=new ot(null).setTree(t,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((v,T)=>{if(g.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),x=kT(n,S,T);h=af(n,h,new lt(v),x,i,a,l,c)}}),p.children.inorderTraversal((v,T)=>{const S=!e.serverCache.isCompleteForChild(v)&&T.value===null;if(!g.hasChild(v)&&!S){const x=e.serverCache.getNode().getImmediateChild(v),b=kT(n,x,T);h=af(n,h,new lt(v),b,i,a,l,c)}}),h}function l3(n,e,t,r,i,a,l){if(of(i,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(r.value!=null){if(Be(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return af(n,e,t,h.getNode().getChild(t),i,a,c,l);if(Be(t)){let p=new ot(null);return h.getNode().forEachChild(el,(g,v)=>{p=p.set(new lt(g),v)}),Ug(n,e,t,p,i,a,c,l)}else return e}else{let p=new ot(null);return r.foreach((g,v)=>{const T=zt(t,g);h.isCompleteForPath(T)&&(p=p.set(g,h.getNode().getChild(T)))}),Ug(n,e,t,p,i,a,c,l)}}function u3(n,e,t,r,i){const a=e.serverCache,l=QR(e,a.getNode(),a.isFullyInitialized()||Be(t),a.isFiltered());return i1(n,l,t,r,r1,i)}function c3(n,e,t,r,i,a){let l;if(of(r,t)!=null)return e;{const c=new I_(r,e,i),h=e.eventCache.getNode();let p;if(Be(t)||He(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Fg(r,zo(e));else{const v=e.serverCache.getNode();ce(v instanceof Ye,"serverChildren would be complete if leaf node"),g=e1(r,v)}g=g,p=n.filter.updateFullNode(h,g,a)}else{const g=He(t);let v=T_(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=h.getImmediateChild(g)),v!=null?p=n.filter.updateChild(h,g,v,at(t),c,a):e.eventCache.getNode().hasChild(g)?p=n.filter.updateChild(h,g,Ye.EMPTY_NODE,at(t),c,a):p=h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Fg(r,zo(e)),l.isLeafNode()&&(p=n.filter.updateFullNode(p,l,a)))}return l=e.serverCache.isFullyInitialized()||of(r,Ze())!=null,qu(e,p,l,n.filter.filtersNodes())}}function d3(n,e){const t=zo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Be(e)&&!t.getImmediateChild(He(e)).isEmpty())?t.getChild(e):null}function bT(n,e,t,r){e.type===Yr.MERGE&&e.source.queryId!==null&&(ce(zo(n.viewCache_),"We should always have a full cache before handling merges"),ce(Lg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=s3(n.processor_,i,e,t,r);return i3(n.processor_,a.viewCache),ce(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,h3(n,a.changes,a.viewCache.eventCache.getNode())}function h3(n,e,t,r){const i=n.eventRegistrations_;return jV(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NT;function f3(n){ce(!NT,"__referenceConstructor has already been defined"),NT=n}function C_(n,e,t,r){const i=e.source.queryId;if(i!==null){const a=n.views.get(i);return ce(a!=null,"SyncTree gave us an op for an invalid query."),bT(a,e,t,r)}else{let a=[];for(const l of n.views.values())a=a.concat(bT(l,e,t,r));return a}}function S_(n,e){let t=null;for(const r of n.views.values())t=t||d3(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OT;function p3(n){ce(!OT,"__referenceConstructor has already been defined"),OT=n}class DT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ot(null),this.pendingWriteTree_=e3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function m3(n,e,t,r,i){return zV(n.pendingWriteTree_,e,t,r,i),i?jf(n,new $o(HR(),e,t)):[]}function Ka(n,e,t=!1){const r=WV(n.pendingWriteTree_,e);if(HV(n.pendingWriteTree_,e)){let a=new ot(null);return r.snap!=null?a=a.set(Ze(),!0):ar(r.children,l=>{a=a.set(new lt(l),!0)}),jf(n,new sf(r.path,a,t))}else return[]}function Ff(n,e,t){return jf(n,new $o(qR(),e,t))}function g3(n,e,t){const r=ot.fromObject(t);return jf(n,new dc(qR(),e,r))}function y3(n,e,t,r){const i=l1(n,r);if(i!=null){const a=u1(i),l=a.path,c=a.queryId,h=rr(l,e),p=new $o(KR(c),h,t);return c1(n,l,p)}else return[]}function _3(n,e,t,r){const i=l1(n,r);if(i){const a=u1(i),l=a.path,c=a.queryId,h=rr(l,e),p=ot.fromObject(t),g=new dc(KR(c),h,p);return c1(n,l,g)}else return[]}function s1(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=rr(l,e),p=S_(c,h);if(p)return p});return ZR(i,e,a,t,!0)}function jf(n,e){return o1(e,n.syncPointTree_,null,XR(n.pendingWriteTree_,Ze()))}function o1(n,e,t,r){if(Be(n.path))return a1(n,e,t,r);{const i=e.get(Ze());t==null&&i!=null&&(t=S_(i,Ze()));let a=[];const l=He(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const p=t?t.getImmediateChild(l):null,g=t1(r,l);a=a.concat(o1(c,h,p,g))}return i&&(a=a.concat(C_(i,n,r,t))),a}}function a1(n,e,t,r){const i=e.get(Ze());t==null&&i!=null&&(t=S_(i,Ze()));let a=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,p=t1(r,l),g=n.operationForChild(l);g&&(a=a.concat(a1(g,c,h,p)))}),i&&(a=a.concat(C_(i,n,r,t))),a}function l1(n,e){return n.tagToQueryMap.get(e)}function u1(n){const e=n.indexOf("$");return ce(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new lt(n.substr(0,e))}}function c1(n,e,t){const r=n.syncPointTree_.get(e);ce(r,"Missing sync point for query tag that we're tracking");const i=XR(n.pendingWriteTree_,e);return C_(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new R_(t)}node(){return this.node_}}class x_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=zt(this.path_,e);return new x_(this.syncTree_,t)}node(){return s1(this.syncTree_,this.path_)}}const v3=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},LT=function(n,e,t){if(!n||typeof n!="object")return n;if(ce(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return w3(n[".sv"],e,t);if(typeof n[".sv"]=="object")return E3(n[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},w3=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ce(!1,"Unexpected server value: "+n)}},E3=function(n,e,t){n.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},T3=function(n,e,t,r){return A_(e,new x_(t,n),r)},I3=function(n,e,t){return A_(n,new R_(e),t)};function A_(n,e,t){const r=n.getPriority().val(),i=LT(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,c=LT(l.getValue(),e,t);return c!==l.getValue()||i!==l.getPriority().val()?new Ut(c,ln(i)):n}else{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new Ut(i))),l.forEachChild(un,(c,h)=>{const p=A_(h,e.getImmediateChild(c),t);p!==h&&(a=a.updateImmediateChild(c,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function k_(n,e){let t=e instanceof lt?e:new lt(e),r=n,i=He(t);for(;i!==null;){const a=nl(r.node.children,i)||{children:{},childCount:0};r=new P_(i,r,a),t=at(t),i=He(t)}return r}function Pl(n){return n.node.value}function d1(n,e){n.node.value=e,Bg(n)}function h1(n){return n.node.childCount>0}function C3(n){return Pl(n)===void 0&&!h1(n)}function Uf(n,e){ar(n.node.children,(t,r)=>{e(new P_(t,n,r))})}function f1(n,e,t,r){t&&e(n),Uf(n,i=>{f1(i,e,!0)})}function S3(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Nc(n){return new lt(n.parent===null?n.name:Nc(n.parent)+"/"+n.name)}function Bg(n){n.parent!==null&&R3(n.parent,n.name,n)}function R3(n,e,t){const r=C3(t),i=zi(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Bg(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Bg(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=/[\[\].#$\/\u0000-\u001F\u007F]/,A3=/[\[\].#$\u0000-\u001F\u007F]/,$m=10*1024*1024,p1=function(n){return typeof n=="string"&&n.length!==0&&!x3.test(n)},P3=function(n){return typeof n=="string"&&n.length!==0&&!A3.test(n)},k3=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),P3(n)},m1=function(n,e,t){const r=t instanceof lt?new uV(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+bo(r));if(typeof e=="function")throw new Error(n+"contains a function "+bo(r)+" with contents = "+e.toString());if(fR(e))throw new Error(n+"contains "+e.toString()+" "+bo(r));if(typeof e=="string"&&e.length>$m/3&&gf(e)>$m)throw new Error(n+"contains a string greater than "+$m+" utf8 bytes "+bo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,a=!1;if(ar(e,(l,c)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!p1(l)))throw new Error(n+" contains an invalid key ("+l+") "+bo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cV(r,l),m1(n,c,r),dV(r)}),i&&a)throw new Error(n+' contains ".value" child '+bo(r)+" in addition to actual children.")}},b3=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!p1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!k3(t))throw new Error(Mk(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function O3(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();t!==null&&!VR(a,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)}function Jo(n,e,t){O3(n,t),D3(n,r=>Ar(r,e)||Ar(e,r))}function D3(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const a=i.path;e(a)?(L3(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function L3(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Wu&&an("event: "+t.toString()),kc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="repo_interrupt",V3=25;class F3{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new N3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rf(),this.transactionQueueTree_=new P_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function j3(n,e,t){if(n.stats_=g_(n.repoInfo_),n.forceRestClient_||D4())n.server_=new nf(n.repoInfo_,(r,i,a,l)=>{MT(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>VT(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yt(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Oi(n.repoInfo_,e,(r,i,a,l)=>{MT(n,r,i,a,l)},r=>{VT(n,r)},r=>{B3(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=j4(n.repoInfo_,()=>new FV(n.stats_,n.server_)),n.infoData_=new OV,n.infoSyncTree_=new DT({startListening:(r,i,a,l)=>{let c=[];const h=n.infoData_.getNode(r._path);return h.isEmpty()||(c=Ff(n.infoSyncTree_,r._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),b_(n,"connected",!1),n.serverSyncTree_=new DT({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(c,h)=>{const p=l(c,h);Jo(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function U3(n){const t=n.infoData_.getNode(new lt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function g1(n){return v3({timestamp:U3(n)})}function MT(n,e,t,r,i){n.dataUpdateCount++;const a=new lt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const h=Dh(t,p=>ln(p));l=_3(n.serverSyncTree_,a,h,i)}else{const h=ln(t);l=y3(n.serverSyncTree_,a,h,i)}else if(r){const h=Dh(t,p=>ln(p));l=g3(n.serverSyncTree_,a,h)}else{const h=ln(t);l=Ff(n.serverSyncTree_,a,h)}let c=a;l.length>0&&(c=O_(n,a)),Jo(n.eventQueue_,c,l)}function VT(n,e){b_(n,"connected",e),e===!1&&z3(n)}function B3(n,e){ar(e,(t,r)=>{b_(n,t,r)})}function b_(n,e,t){const r=new lt("/.info/"+e),i=ln(t);n.infoData_.updateSnapshot(r,i);const a=Ff(n.infoSyncTree_,r,i);Jo(n.eventQueue_,r,a)}function $3(n){return n.nextWriteId_++}function z3(n){y1(n,"onDisconnectEvents");const e=g1(n),t=rf();Dg(n.onDisconnect_,Ze(),(i,a)=>{const l=T3(i,a,n.serverSyncTree_,e);WR(t,i,l)});let r=[];Dg(t,Ze(),(i,a)=>{r=r.concat(Ff(n.serverSyncTree_,i,a));const l=K3(n,i);O_(n,l)}),n.onDisconnect_=rf(),Jo(n.eventQueue_,Ze(),r)}function W3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(M3)}function y1(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),an(t,...e)}function _1(n,e,t){return s1(n.serverSyncTree_,e,t)||Ye.EMPTY_NODE}function N_(n,e=n.transactionQueueTree_){if(e||Bf(n,e),Pl(e)){const t=w1(n,e);ce(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&H3(n,Nc(e),t)}else h1(e)&&Uf(e,t=>{N_(n,t)})}function H3(n,e,t){const r=t.map(p=>p.currentWriteId),i=_1(n,e,r);let a=i;const l=i.hash();for(let p=0;p<t.length;p++){const g=t[p];ce(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=rr(e,g.path);a=a.updateChild(v,g.currentOutputSnapshotRaw)}const c=a.val(!0),h=e;n.server_.put(h.toString(),c,p=>{y1(n,"transaction put response",{path:h.toString(),status:p});let g=[];if(p==="ok"){const v=[];for(let T=0;T<t.length;T++)t[T].status=2,g=g.concat(Ka(n.serverSyncTree_,t[T].currentWriteId)),t[T].onComplete&&v.push(()=>t[T].onComplete(null,!0,t[T].currentOutputSnapshotResolved)),t[T].unwatcher();Bf(n,k_(n.transactionQueueTree_,e)),N_(n,n.transactionQueueTree_),Jo(n.eventQueue_,e,g);for(let T=0;T<v.length;T++)kc(v[T])}else{if(p==="datastale")for(let v=0;v<t.length;v++)t[v].status===3?t[v].status=4:t[v].status=0;else{zn("transaction at "+h.toString()+" failed: "+p);for(let v=0;v<t.length;v++)t[v].status=4,t[v].abortReason=p}O_(n,e)}},l)}function O_(n,e){const t=v1(n,e),r=Nc(t),i=w1(n,t);return q3(n,i,r),r}function q3(n,e,t){if(e.length===0)return;const r=[];let i=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],p=rr(t,h.path);let g=!1,v;if(ce(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,v=h.abortReason,i=i.concat(Ka(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=V3)g=!0,v="maxretry",i=i.concat(Ka(n.serverSyncTree_,h.currentWriteId,!0));else{const T=_1(n,h.path,l);h.currentInputSnapshot=T;const S=e[c].update(T.val());if(S!==void 0){m1("transaction failed: Data returned ",S,h.path);let x=ln(S);typeof S=="object"&&S!=null&&zi(S,".priority")||(x=x.updatePriority(T.getPriority()));const R=h.currentWriteId,F=g1(n),B=I3(x,T,F);h.currentOutputSnapshotRaw=x,h.currentOutputSnapshotResolved=B,h.currentWriteId=$3(n),l.splice(l.indexOf(R),1),i=i.concat(m3(n.serverSyncTree_,h.path,B,h.currentWriteId,h.applyLocally)),i=i.concat(Ka(n.serverSyncTree_,R,!0))}else g=!0,v="nodata",i=i.concat(Ka(n.serverSyncTree_,h.currentWriteId,!0))}Jo(n.eventQueue_,t,i),i=[],g&&(e[c].status=2,function(T){setTimeout(T,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(v==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(v),!1,null))))}Bf(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)kc(r[c]);N_(n,n.transactionQueueTree_)}function v1(n,e){let t,r=n.transactionQueueTree_;for(t=He(e);t!==null&&Pl(r)===void 0;)r=k_(r,t),e=at(e),t=He(e);return r}function w1(n,e){const t=[];return E1(n,e,t),t.sort((r,i)=>r.order-i.order),t}function E1(n,e,t){const r=Pl(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Uf(e,i=>{E1(n,i,t)})}function Bf(n,e){const t=Pl(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,d1(e,t.length>0?t:void 0)}Uf(e,r=>{Bf(n,r)})}function K3(n,e){const t=Nc(v1(n,e)),r=k_(n.transactionQueueTree_,e);return S3(r,i=>{zm(n,i)}),zm(n,r),f1(r,i=>{zm(n,i)}),t}function zm(n,e){const t=Pl(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ce(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):(ce(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(Ka(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?d1(e,void 0):t.length=a+1,Jo(n.eventQueue_,Nc(e),i);for(let l=0;l<r.length;l++)kc(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Q3(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):zn(`Invalid query segment '${t}' in query '${n}'`)}return e}const FT=function(n,e){const t=Y3(n),r=t.namespace;t.domain==="firebase.com"&&Ui(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Ui("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||R4();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new SR(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new lt(t.pathString)}},Y3=function(n){let e="",t="",r="",i="",a="",l=!0,c="https",h=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");g===-1&&(g=n.length);let v=n.indexOf("?");v===-1&&(v=n.length),e=n.substring(0,Math.min(g,v)),g<v&&(i=G3(n.substring(g,v)));const T=Q3(n.substring(Math.min(n.length,v)));p=e.indexOf(":"),p>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")t="localhost";else if(S.split(".").length<=2)t=S;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),t=e.substring(x+1),a=r}"ns"in T&&(a=T.ns)}return{host:e,port:h,domain:t,subdomain:r,secure:l,scheme:c,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Be(this._path)?null:DR(this._path)}get ref(){return new kl(this._repo,this._path)}get _queryIdentifier(){const e=IT(this._queryParams),t=p_(e);return t==="{}"?"default":t}get _queryObject(){return IT(this._queryParams)}isEqual(e){if(e=It(e),!(e instanceof D_))return!1;const t=this._repo===e._repo,r=VR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+lV(this._path)}}class kl extends D_{constructor(e,t){super(e,t,new w_,!1)}get parent(){const e=MR(this._path);return e===null?null:new kl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}f3(kl);p3(kl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="FIREBASE_DATABASE_EMULATOR_HOST",$g={};let J3=!1;function Z3(n,e,t,r){n.repoInfo_=new SR(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function eF(n,e,t,r,i){let a=r||n.options.databaseURL;a===void 0&&(n.options.projectId||Ui("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=FT(a,i),c=l.repoInfo,h;typeof process<"u"&&iT&&(h=iT[X3]),h?(a=`http://${h}?ns=${c.namespace}`,l=FT(a,i),c=l.repoInfo):l.repoInfo.secure;const p=new M4(n.name,n.options,e);b3("Invalid Firebase Database URL",l),Be(l.path)||Ui("Database URL must point to the root of a Firebase Database (not including a child path).");const g=nF(c,n,p,new L4(n,t));return new rF(g,n)}function tF(n,e){const t=$g[e];(!t||t[n.key]!==n)&&Ui(`Database ${e}(${n.repoInfo_}) has already been deleted.`),W3(n),delete t[n.key]}function nF(n,e,t,r){let i=$g[e.name];i||(i={},$g[e.name]=i);let a=i[n.toURLString()];return a&&Ui("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new F3(n,J3,t,r),i[n.toURLString()]=a,a}class rF{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(j3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kl(this._repo,Ze())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ui("Cannot call "+e+" on a deleted database.")}}function iF(n=_f(),e){const t=_c(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=hy("database");r&&sF(t,...r)}return t}function sF(n,e,t,r={}){n=It(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,a=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&Vs(r,a.repoInfo_.emulatorOptions))return;Ui("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&Ui('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new xh(xh.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:py(r.mockUserToken,n.app.options.projectId);l=new xh(c)}Z3(a,i,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(n){w4(Ys),Fs(new Li("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return eF(r,i,a,t)},"PUBLIC").setMultipleInstances(!0)),ir(sT,oT,n),ir(sT,oT,"esm2017")}Oi.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Oi.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};oF();const T1=async(n,e,t,r,i)=>{const a=Uo();await lR(xl(a,"users",n),{displayName:`${e} ${t}`,firstName:e,lastName:t,email:r,phoneNumber:i,createdAt:new Date})},I1={apiKey:"AIzaSyDX3sdS3txwVb8u3XA-3_D3l1psaT1TDzU",authDomain:"ureno-b0c23.firebaseapp.com",projectId:"ureno-b0c23",storageBucket:"ureno-b0c23.appspot.com",messagingSenderId:"750721636991",appId:"1:750721636991:web:1dee0acc728519b7f7fd4a",measurementId:"G-V8LVMN8932",databaseURL:"https://ureno-userdb.firebaseio.com"};console.log("FIREBASE CONFIG:",I1);const L_=GI(I1),Oc=Py(L_);new Qr;const aF=Uo(L_);lD("debug");async function lF(n,e={}){const t=xl(aF,"users",n.uid),r={email:n.email,displayName:n.displayName||e.displayName||"New User",photoURL:n.photoURL||"",firstName:e.firstName||"",lastName:e.lastName||"",createdAt:e.createdAt||v4()};try{console.log("Attempting to write user profile for:",n.uid),await lR(t,r,{merge:!0}),console.log("User document created/updated succesfully")}catch(i){console.error(`Error creating/updating user document ${n.uid}`,i)}}Ry(Oc,async n=>{n!=null?(console.log("logged in!"),await lF(n)):console.log("No user")});const C1=gn.createContext();function Dc(){return C.useContext(C1)}function uF({children:n}){const[e,t]=C.useState(null),[r,i]=C.useState(!1),[a,l]=C.useState(!0),[c,h]=C.useState(!1),[p,g]=C.useState(!1),[v,T]=C.useState(!1),S={currentUser:e,userLoggedIn:r,isEmailUser:c,isGoogleUser:p,loading:a,redirectAfterAuth:v,setRedirectAfterAuth:T};return C.useEffect(()=>{const x=Py(),b=Ry(x,R=>{var F;if(t(R),i(!!R),R){const B=(F=R.providerData[0])==null?void 0:F.providerId;h(B==="password"),g(B==="google.com")}else h(!1),g(!1);l(!1),console.log("AuthProvider state updated: userLogggedIn =",r)});return()=>b}),w.jsx(C1.Provider,{value:S,children:!a&&n})}const cF=async(n,e)=>zN(Oc,n,e),dF=(n,e)=>WN(Oc,n,e),hF=async()=>{var t;const n=Py(),e=new Qr;try{const r=await pO(n,e),i=(t=r==null?void 0:r.additionalUserInfo)==null?void 0:t.isNewUser,a=r.user;return i?(console.log("New user signed up with Google:",r.user),await T1(a.uid,a.displayname||"Google User",a.email,a.photoURL)):console.log("Existing user logged in with Google: ",r.user),r}catch(r){console.error("Google Sign-In Error:",r)}},M_=()=>Oc.signOut();var Wm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jT;function fF(){return jT||(jT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Wm)),Wm.exports}var pF=fF();const Lt=hf(pF);var mF=Function.prototype.bind.call(Function.prototype.call,[].slice);function UT(n,e){return mF(n.querySelectorAll(e))}const S1=!!(typeof window<"u"&&window.document&&window.document.createElement);var zg=!1,Wg=!1;try{var Hm={get passive(){return zg=!0},get once(){return Wg=zg=!0}};S1&&(window.addEventListener("test",Hm,Hm),window.removeEventListener("test",Hm,!0))}catch{}function R1(n,e,t,r){if(r&&typeof r!="boolean"&&!Wg){var i=r.once,a=r.capture,l=t;!Wg&&i&&(l=t.__once||function c(h){this.removeEventListener(e,c,a),t.call(this,h)},t.__once=l),n.addEventListener(e,l,zg?r:a)}n.addEventListener(e,t,r)}function gF(n,e,t){const r=C.useRef(n!==void 0),[i,a]=C.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,C.useCallback((...h)=>{const[p,...g]=h;let v=t==null?void 0:t(p,...g);return a(p),v},[t])]}function yF(n){const e=C.useRef(null);return C.useEffect(()=>{e.current=n}),e.current}function _F(){const[,n]=C.useReducer(e=>e+1,0);return n}function vF(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function Ms(n){const e=vF(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function wF(n,e,t,r=!1){const i=Ms(t);C.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}const $f=C.createContext(null);function EF(){return C.useState(null)}var BT=Object.prototype.hasOwnProperty;function $T(n,e,t){for(t of n.keys())if(Gu(t,e))return t}function Gu(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Gu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=$T(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=$T(e,i),!i)||!Gu(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(BT.call(n,t)&&++r&&!BT.call(e,t)||!(t in e)||!Gu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function TF(){const n=C.useRef(!0),e=C.useRef(()=>n.current);return C.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function IF(n){const e=TF();return[n[0],C.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var bn="top",lr="bottom",ur="right",Nn="left",V_="auto",Lc=[bn,lr,ur,Nn],fl="start",hc="end",CF="clippingParents",x1="viewport",Pu="popper",SF="reference",zT=Lc.reduce(function(n,e){return n.concat([e+"-"+fl,e+"-"+hc])},[]),A1=[].concat(Lc,[V_]).reduce(function(n,e){return n.concat([e,e+"-"+fl,e+"-"+hc])},[]),RF="beforeRead",xF="read",AF="afterRead",PF="beforeMain",kF="main",bF="afterMain",NF="beforeWrite",OF="write",DF="afterWrite",LF=[RF,xF,AF,PF,kF,bF,NF,OF,DF];function ti(n){return n.split("-")[0]}function Wn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Wo(n){var e=Wn(n).Element;return n instanceof e||n instanceof Element}function ni(n){var e=Wn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function F_(n){if(typeof ShadowRoot>"u")return!1;var e=Wn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Lo=Math.max,lf=Math.min,pl=Math.round;function Hg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function P1(){return!/^((?!chrome|android).)*safari/i.test(Hg())}function ml(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&ni(n)&&(i=n.offsetWidth>0&&pl(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&pl(r.height)/n.offsetHeight||1);var l=Wo(n)?Wn(n):window,c=l.visualViewport,h=!P1()&&t,p=(r.left+(h&&c?c.offsetLeft:0))/i,g=(r.top+(h&&c?c.offsetTop:0))/a,v=r.width/i,T=r.height/a;return{width:v,height:T,top:g,right:p+v,bottom:g+T,left:p,x:p,y:g}}function j_(n){var e=ml(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function k1(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&F_(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gs(n){return n?(n.nodeName||"").toLowerCase():null}function Bi(n){return Wn(n).getComputedStyle(n)}function MF(n){return["table","td","th"].indexOf(Gs(n))>=0}function Zs(n){return((Wo(n)?n.ownerDocument:n.document)||window.document).documentElement}function zf(n){return Gs(n)==="html"?n:n.assignedSlot||n.parentNode||(F_(n)?n.host:null)||Zs(n)}function WT(n){return!ni(n)||Bi(n).position==="fixed"?null:n.offsetParent}function VF(n){var e=/firefox/i.test(Hg()),t=/Trident/i.test(Hg());if(t&&ni(n)){var r=Bi(n);if(r.position==="fixed")return null}var i=zf(n);for(F_(i)&&(i=i.host);ni(i)&&["html","body"].indexOf(Gs(i))<0;){var a=Bi(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Mc(n){for(var e=Wn(n),t=WT(n);t&&MF(t)&&Bi(t).position==="static";)t=WT(t);return t&&(Gs(t)==="html"||Gs(t)==="body"&&Bi(t).position==="static")?e:t||VF(n)||e}function U_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Qu(n,e,t){return Lo(n,lf(e,t))}function FF(n,e,t){var r=Qu(n,e,t);return r>t?t:r}function b1(){return{top:0,right:0,bottom:0,left:0}}function N1(n){return Object.assign({},b1(),n)}function O1(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var jF=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,N1(typeof e!="number"?e:O1(e,Lc))};function UF(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,c=ti(t.placement),h=U_(c),p=[Nn,ur].indexOf(c)>=0,g=p?"height":"width";if(!(!a||!l)){var v=jF(i.padding,t),T=j_(a),S=h==="y"?bn:Nn,x=h==="y"?lr:ur,b=t.rects.reference[g]+t.rects.reference[h]-l[h]-t.rects.popper[g],R=l[h]-t.rects.reference[h],F=Mc(a),B=F?h==="y"?F.clientHeight||0:F.clientWidth||0:0,$=b/2-R/2,q=v[S],X=B-T[g]-v[x],Z=B/2-T[g]/2+$,N=Qu(q,Z,X),P=h;t.modifiersData[r]=(e={},e[P]=N,e.centerOffset=N-Z,e)}}function BF(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||k1(e.elements.popper,i)&&(e.elements.arrow=i))}const $F={name:"arrow",enabled:!0,phase:"main",fn:UF,effect:BF,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gl(n){return n.split("-")[1]}var zF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WF(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:pl(t*i)/i||0,y:pl(r*i)/i||0}}function HT(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,c=n.position,h=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,v=n.isFixed,T=l.x,S=T===void 0?0:T,x=l.y,b=x===void 0?0:x,R=typeof g=="function"?g({x:S,y:b}):{x:S,y:b};S=R.x,b=R.y;var F=l.hasOwnProperty("x"),B=l.hasOwnProperty("y"),$=Nn,q=bn,X=window;if(p){var Z=Mc(t),N="clientHeight",P="clientWidth";if(Z===Wn(t)&&(Z=Zs(t),Bi(Z).position!=="static"&&c==="absolute"&&(N="scrollHeight",P="scrollWidth")),Z=Z,i===bn||(i===Nn||i===ur)&&a===hc){q=lr;var k=v&&Z===X&&X.visualViewport?X.visualViewport.height:Z[N];b-=k-r.height,b*=h?1:-1}if(i===Nn||(i===bn||i===lr)&&a===hc){$=ur;var L=v&&Z===X&&X.visualViewport?X.visualViewport.width:Z[P];S-=L-r.width,S*=h?1:-1}}var M=Object.assign({position:c},p&&zF),V=g===!0?WF({x:S,y:b},Wn(t)):{x:S,y:b};if(S=V.x,b=V.y,h){var O;return Object.assign({},M,(O={},O[q]=B?"0":"",O[$]=F?"0":"",O.transform=(X.devicePixelRatio||1)<=1?"translate("+S+"px, "+b+"px)":"translate3d("+S+"px, "+b+"px, 0)",O))}return Object.assign({},M,(e={},e[q]=B?b+"px":"",e[$]=F?S+"px":"",e.transform="",e))}function HF(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,c=t.roundOffsets,h=c===void 0?!0:c,p={placement:ti(e.placement),variation:gl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,HT(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,HT(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const qF={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HF,data:{}};var uh={passive:!0};function KF(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,h=Wn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,uh)}),c&&h.addEventListener("resize",t.update,uh),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,uh)}),c&&h.removeEventListener("resize",t.update,uh)}}const GF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:KF,data:{}};var QF={left:"right",right:"left",bottom:"top",top:"bottom"};function Ah(n){return n.replace(/left|right|bottom|top/g,function(e){return QF[e]})}var YF={start:"end",end:"start"};function qT(n){return n.replace(/start|end/g,function(e){return YF[e]})}function B_(n){var e=Wn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function $_(n){return ml(Zs(n)).left+B_(n).scrollLeft}function XF(n,e){var t=Wn(n),r=Zs(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,h=0;if(i){a=i.width,l=i.height;var p=P1();(p||!p&&e==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}return{width:a,height:l,x:c+$_(n),y:h}}function JF(n){var e,t=Zs(n),r=B_(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=Lo(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Lo(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+$_(n),h=-r.scrollTop;return Bi(i||t).direction==="rtl"&&(c+=Lo(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:h}}function z_(n){var e=Bi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function D1(n){return["html","body","#document"].indexOf(Gs(n))>=0?n.ownerDocument.body:ni(n)&&z_(n)?n:D1(zf(n))}function Yu(n,e){var t;e===void 0&&(e=[]);var r=D1(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Wn(r),l=i?[a].concat(a.visualViewport||[],z_(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(Yu(zf(l)))}function qg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ZF(n,e){var t=ml(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function KT(n,e,t){return e===x1?qg(XF(n,t)):Wo(e)?ZF(e,t):qg(JF(Zs(n)))}function ej(n){var e=Yu(zf(n)),t=["absolute","fixed"].indexOf(Bi(n).position)>=0,r=t&&ni(n)?Mc(n):n;return Wo(r)?e.filter(function(i){return Wo(i)&&k1(i,r)&&Gs(i)!=="body"}):[]}function tj(n,e,t,r){var i=e==="clippingParents"?ej(n):[].concat(e),a=[].concat(i,[t]),l=a[0],c=a.reduce(function(h,p){var g=KT(n,p,r);return h.top=Lo(g.top,h.top),h.right=lf(g.right,h.right),h.bottom=lf(g.bottom,h.bottom),h.left=Lo(g.left,h.left),h},KT(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function L1(n){var e=n.reference,t=n.element,r=n.placement,i=r?ti(r):null,a=r?gl(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,h;switch(i){case bn:h={x:l,y:e.y-t.height};break;case lr:h={x:l,y:e.y+e.height};break;case ur:h={x:e.x+e.width,y:c};break;case Nn:h={x:e.x-t.width,y:c};break;default:h={x:e.x,y:e.y}}var p=i?U_(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case fl:h[p]=h[p]-(e[g]/2-t[g]/2);break;case hc:h[p]=h[p]+(e[g]/2-t[g]/2);break}}return h}function fc(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,c=t.boundary,h=c===void 0?CF:c,p=t.rootBoundary,g=p===void 0?x1:p,v=t.elementContext,T=v===void 0?Pu:v,S=t.altBoundary,x=S===void 0?!1:S,b=t.padding,R=b===void 0?0:b,F=N1(typeof R!="number"?R:O1(R,Lc)),B=T===Pu?SF:Pu,$=n.rects.popper,q=n.elements[x?B:T],X=tj(Wo(q)?q:q.contextElement||Zs(n.elements.popper),h,g,l),Z=ml(n.elements.reference),N=L1({reference:Z,element:$,placement:i}),P=qg(Object.assign({},$,N)),k=T===Pu?P:Z,L={top:X.top-k.top+F.top,bottom:k.bottom-X.bottom+F.bottom,left:X.left-k.left+F.left,right:k.right-X.right+F.right},M=n.modifiersData.offset;if(T===Pu&&M){var V=M[i];Object.keys(L).forEach(function(O){var le=[ur,lr].indexOf(O)>=0?1:-1,Se=[bn,lr].indexOf(O)>=0?"y":"x";L[O]+=V[Se]*le})}return L}function nj(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,c=t.flipVariations,h=t.allowedAutoPlacements,p=h===void 0?A1:h,g=gl(r),v=g?c?zT:zT.filter(function(x){return gl(x)===g}):Lc,T=v.filter(function(x){return p.indexOf(x)>=0});T.length===0&&(T=v);var S=T.reduce(function(x,b){return x[b]=fc(n,{placement:b,boundary:i,rootBoundary:a,padding:l})[ti(b)],x},{});return Object.keys(S).sort(function(x,b){return S[x]-S[b]})}function rj(n){if(ti(n)===V_)return[];var e=Ah(n);return[qT(n),e,qT(e)]}function ij(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,h=t.fallbackPlacements,p=t.padding,g=t.boundary,v=t.rootBoundary,T=t.altBoundary,S=t.flipVariations,x=S===void 0?!0:S,b=t.allowedAutoPlacements,R=e.options.placement,F=ti(R),B=F===R,$=h||(B||!x?[Ah(R)]:rj(R)),q=[R].concat($).reduce(function(Ie,Ae){return Ie.concat(ti(Ae)===V_?nj(e,{placement:Ae,boundary:g,rootBoundary:v,padding:p,flipVariations:x,allowedAutoPlacements:b}):Ae)},[]),X=e.rects.reference,Z=e.rects.popper,N=new Map,P=!0,k=q[0],L=0;L<q.length;L++){var M=q[L],V=ti(M),O=gl(M)===fl,le=[bn,lr].indexOf(V)>=0,Se=le?"width":"height",xe=fc(e,{placement:M,boundary:g,rootBoundary:v,altBoundary:T,padding:p}),Te=le?O?ur:Nn:O?lr:bn;X[Se]>Z[Se]&&(Te=Ah(Te));var ie=Ah(Te),ue=[];if(a&&ue.push(xe[V]<=0),c&&ue.push(xe[Te]<=0,xe[ie]<=0),ue.every(function(Ie){return Ie})){k=M,P=!1;break}N.set(M,ue)}if(P)for(var se=x?3:1,z=function(Ae){var Oe=q.find(function(Ve){var De=N.get(Ve);if(De)return De.slice(0,Ae).every(function(Qe){return Qe})});if(Oe)return k=Oe,"break"},Y=se;Y>0;Y--){var fe=z(Y);if(fe==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const sj={name:"flip",enabled:!0,phase:"main",fn:ij,requiresIfExists:["offset"],data:{_skip:!1}};function GT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function QT(n){return[bn,ur,lr,Nn].some(function(e){return n[e]>=0})}function oj(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=fc(e,{elementContext:"reference"}),c=fc(e,{altBoundary:!0}),h=GT(l,r),p=GT(c,i,a),g=QT(h),v=QT(p);e.modifiersData[t]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const aj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oj};function lj(n,e,t){var r=ti(n),i=[Nn,bn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[Nn,ur].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function uj(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=A1.reduce(function(g,v){return g[v]=lj(v,e.rects,a),g},{}),c=l[e.placement],h=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const cj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uj};function dj(n){var e=n.state,t=n.name;e.modifiersData[t]=L1({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const hj={name:"popperOffsets",enabled:!0,phase:"read",fn:dj,data:{}};function fj(n){return n==="x"?"y":"x"}function pj(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,v=t.padding,T=t.tether,S=T===void 0?!0:T,x=t.tetherOffset,b=x===void 0?0:x,R=fc(e,{boundary:h,rootBoundary:p,padding:v,altBoundary:g}),F=ti(e.placement),B=gl(e.placement),$=!B,q=U_(F),X=fj(q),Z=e.modifiersData.popperOffsets,N=e.rects.reference,P=e.rects.popper,k=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,L=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Z){if(a){var O,le=q==="y"?bn:Nn,Se=q==="y"?lr:ur,xe=q==="y"?"height":"width",Te=Z[q],ie=Te+R[le],ue=Te-R[Se],se=S?-P[xe]/2:0,z=B===fl?N[xe]:P[xe],Y=B===fl?-P[xe]:-N[xe],fe=e.elements.arrow,Ie=S&&fe?j_(fe):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:b1(),Oe=Ae[le],Ve=Ae[Se],De=Qu(0,N[xe],Ie[xe]),Qe=$?N[xe]/2-se-De-Oe-L.mainAxis:z-De-Oe-L.mainAxis,Ct=$?-N[xe]/2+se+De+Ve+L.mainAxis:Y+De+Ve+L.mainAxis,On=e.elements.arrow&&Mc(e.elements.arrow),Hi=On?q==="y"?On.clientTop||0:On.clientLeft||0:0,cr=(O=M==null?void 0:M[q])!=null?O:0,li=Te+Qe-cr-Hi,qi=Te+Ct-cr,Ki=Qu(S?lf(ie,li):ie,Te,S?Lo(ue,qi):ue);Z[q]=Ki,V[q]=Ki-Te}if(c){var Gi,Zo=q==="x"?bn:Nn,Qi=q==="x"?lr:ur,Ht=Z[X],_n=X==="y"?"height":"width",Yi=Ht+R[Zo],ui=Ht-R[Qi],Lr=[bn,Nn].indexOf(F)!==-1,Xi=(Gi=M==null?void 0:M[X])!=null?Gi:0,mt=Lr?Yi:Ht-N[_n]-P[_n]-Xi+L.altAxis,gt=Lr?Ht+N[_n]+P[_n]-Xi-L.altAxis:ui,Hn=S&&Lr?FF(mt,Ht,gt):Qu(S?mt:Yi,Ht,S?gt:ui);Z[X]=Hn,V[X]=Hn-Ht}e.modifiersData[r]=V}}const mj={name:"preventOverflow",enabled:!0,phase:"main",fn:pj,requiresIfExists:["offset"]};function gj(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function yj(n){return n===Wn(n)||!ni(n)?B_(n):gj(n)}function _j(n){var e=n.getBoundingClientRect(),t=pl(e.width)/n.offsetWidth||1,r=pl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function vj(n,e,t){t===void 0&&(t=!1);var r=ni(e),i=ni(e)&&_j(e),a=Zs(e),l=ml(n,i,t),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!t)&&((Gs(e)!=="body"||z_(a))&&(c=yj(e)),ni(e)?(h=ml(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=$_(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function wj(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var h=e.get(c);h&&i(h)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function Ej(n){var e=wj(n);return LF.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function Tj(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Ij(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var YT={placement:"bottom",modifiers:[],strategy:"absolute"};function XT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Cj(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?YT:i;return function(c,h,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},YT,a),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},v=[],T=!1,S={state:g,setOptions:function(F){var B=typeof F=="function"?F(g.options):F;b(),g.options=Object.assign({},a,g.options,B),g.scrollParents={reference:Wo(c)?Yu(c):c.contextElement?Yu(c.contextElement):[],popper:Yu(h)};var $=Ej(Ij([].concat(r,g.options.modifiers)));return g.orderedModifiers=$.filter(function(q){return q.enabled}),x(),S.update()},forceUpdate:function(){if(!T){var F=g.elements,B=F.reference,$=F.popper;if(XT(B,$)){g.rects={reference:vj(B,Mc($),g.options.strategy==="fixed"),popper:j_($)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(L){return g.modifiersData[L.name]=Object.assign({},L.data)});for(var q=0;q<g.orderedModifiers.length;q++){if(g.reset===!0){g.reset=!1,q=-1;continue}var X=g.orderedModifiers[q],Z=X.fn,N=X.options,P=N===void 0?{}:N,k=X.name;typeof Z=="function"&&(g=Z({state:g,options:P,name:k,instance:S})||g)}}}},update:Tj(function(){return new Promise(function(R){S.forceUpdate(),R(g)})}),destroy:function(){b(),T=!0}};if(!XT(c,h))return S;S.setOptions(p).then(function(R){!T&&p.onFirstUpdate&&p.onFirstUpdate(R)});function x(){g.orderedModifiers.forEach(function(R){var F=R.name,B=R.options,$=B===void 0?{}:B,q=R.effect;if(typeof q=="function"){var X=q({state:g,name:F,instance:S,options:$}),Z=function(){};v.push(X||Z)}})}function b(){v.forEach(function(R){return R()}),v=[]}return S}}const Sj=Cj({defaultModifiers:[aj,hj,qF,GF,cj,sj,mj,$F]}),Rj=["enabled","placement","strategy","modifiers"];function xj(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const Aj={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Pj={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},kj=[];function bj(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=kj}=t,c=xj(t,Rj);const h=C.useRef(l),p=C.useRef(),g=C.useCallback(()=>{var R;(R=p.current)==null||R.update()},[]),v=C.useCallback(()=>{var R;(R=p.current)==null||R.forceUpdate()},[]),[T,S]=IF(C.useState({placement:i,update:g,forceUpdate:v,attributes:{},styles:{popper:{},arrow:{}}})),x=C.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const F={},B={};Object.keys(R.elements).forEach($=>{F[$]=R.styles[$],B[$]=R.attributes[$]}),S({state:R,styles:F,attributes:B,update:g,forceUpdate:v,placement:R.placement})}}),[g,v,S]),b=C.useMemo(()=>(Gu(h.current,l)||(h.current=l),h.current),[l]);return C.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...b,x,Aj]})},[a,i,x,r,b]),C.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=Sj(n,e,Object.assign({},c,{placement:i,strategy:a,modifiers:[...b,Pj,x]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function JT(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function Nj(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function ch(n,e,t,r){return R1(n,e,t,r),function(){Nj(n,e,t,r)}}function Oj(n){return n&&n.ownerDocument||document}var qm,ZT;function Dj(){if(ZT)return qm;ZT=1;var n=function(){};return qm=n,qm}var Lj=Dj();const Mj=hf(Lj),eI=()=>{};function Vj(n){return n.button===0}function Fj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Km=n=>n&&("current"in n?n.current:n),tI={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function jj(n,e=eI,{disabled:t,clickTrigger:r="click"}={}){const i=C.useRef(!1),a=C.useRef(!1),l=C.useCallback(p=>{const g=Km(n);Mj(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||Fj(p)||!Vj(p)||!!JT(g,p.target)||a.current,a.current=!1},[n]),c=Ms(p=>{const g=Km(n);g&&JT(g,p.target)?a.current=!0:a.current=!1}),h=Ms(p=>{i.current||e(p)});C.useEffect(()=>{var p,g;if(t||n==null)return;const v=Oj(Km(n)),T=v.defaultView||window;let S=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,x=null;tI[r]&&(x=ch(v,tI[r],c,!0));const b=ch(v,r,l,!0),R=ch(v,r,B=>{if(B===S){S=void 0;return}h(B)});let F=[];return"ontouchstart"in v.documentElement&&(F=[].slice.call(v.body.children).map(B=>ch(B,"mousemove",eI))),()=>{x==null||x(),b(),R(),F.forEach(B=>B())}},[n,t,r,l,c,h])}function Uj(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function Bj(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function $j({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:c,popperConfig:h={}}){var p,g,v,T,S;const x=Uj(h.modifiers);return Object.assign({},h,{placement:t,enabled:n,strategy:a?"fixed":h.strategy,modifiers:Bj(Object.assign({},x,{eventListeners:{enabled:e,options:(p=x.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},x.preventOverflow,{options:l?Object.assign({padding:l},(g=x.preventOverflow)==null?void 0:g.options):(v=x.preventOverflow)==null?void 0:v.options}),offset:{options:Object.assign({offset:i},(T=x.offset)==null?void 0:T.options)},arrow:Object.assign({},x.arrow,{enabled:!!c,options:Object.assign({},(S=x.arrow)==null?void 0:S.options,{element:c})}),flip:Object.assign({enabled:!!r},x.flip)}))})}const zj=["children","usePopper"];function Wj(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const Hj=()=>{};function M1(n={}){const e=C.useContext($f),[t,r]=EF(),i=C.useRef(!1),{flip:a,offset:l,rootCloseEvent:c,fixed:h=!1,placement:p,popperConfig:g={},enableEventListeners:v=!0,usePopper:T=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const x=Z=>{e==null||e.toggle(!1,Z)},{placement:b,setMenu:R,menuElement:F,toggleElement:B}=e||{},$=bj(B,F,$j({placement:p||b||"bottom-start",enabled:T,enableEvents:v??S,offset:l,flip:a,fixed:h,arrowElement:t,popperConfig:g})),q=Object.assign({ref:R||Hj,"aria-labelledby":B==null?void 0:B.id},$.attributes.popper,{style:$.styles.popper}),X={show:S,placement:b,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?$:null,arrowProps:T?Object.assign({ref:r},$.attributes.arrow,{style:$.styles.arrow}):{}};return jj(F,x,{clickTrigger:c,disabled:!S}),[q,X]}function V1(n){let{children:e,usePopper:t=!0}=n,r=Wj(n,zj);const[i,a]=M1(Object.assign({},r,{usePopper:t}));return w.jsx(w.Fragment,{children:e(i,a)})}V1.displayName="DropdownMenu";const W_={prefix:String(Math.round(Math.random()*1e10)),current:0},F1=gn.createContext(W_),qj=gn.createContext(!1);let Kj=!!(typeof window<"u"&&window.document&&window.document.createElement),Gm=new WeakMap;function Gj(n=!1){let e=C.useContext(F1),t=C.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=Gm.get(a);l==null?Gm.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,Gm.delete(a))}t.current=++e.current}return t.current}function Qj(n){let e=C.useContext(F1);e===W_&&!Kj&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=Gj(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function Yj(n){let e=gn.useId(),[t]=C.useState(t9()),r=t?"react-aria":`react-aria${W_.prefix}`;return n||`${r}-${e}`}const Xj=typeof gn.useId=="function"?Yj:Qj;function Jj(){return!1}function Zj(){return!0}function e9(n){return()=>{}}function t9(){return typeof gn.useSyncExternalStore=="function"?gn.useSyncExternalStore(e9,Jj,Zj):C.useContext(qj)}const j1=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},nI=()=>{};function U1(){const n=Xj(),{show:e=!1,toggle:t=nI,setToggle:r,menuElement:i}=C.useContext($f)||{},a=C.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||nI,onClick:a,"aria-expanded":!!e};return i&&j1(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function B1({children:n}){const[e,t]=U1();return w.jsx(w.Fragment,{children:n(e,t)})}B1.displayName="DropdownToggle";const Kg=C.createContext(null),rI=(n,e=null)=>n!=null?String(n):e||null,$1=C.createContext(null);$1.displayName="NavContext";const n9=["as","disabled"];function r9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function i9(n){return!n||n.trim()==="#"}function H_({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:h}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&i9(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},v=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:v},p]}const z1=C.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=r9(n,n9);const[a,{tagName:l}]=H_(Object.assign({tagName:t,disabled:r},i));return w.jsx(l,Object.assign({},i,a,{ref:e}))});z1.displayName="Button";const s9="data-rr-ui-";function W1(n){return`${s9}${n}`}const o9=["eventKey","disabled","onClick","active","as"];function a9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function H1({key:n,href:e,active:t,disabled:r,onClick:i}){const a=C.useContext(Kg),l=C.useContext($1),{activeKey:c}=l||{},h=rI(n,e),p=t==null&&n!=null?rI(c)===h:t;return[{onClick:Ms(v=>{r||(i==null||i(v),a&&!v.isPropagationStopped()&&a(h,v))}),"aria-disabled":r||void 0,"aria-selected":p,[W1("dropdown-item")]:""},{isActive:p}]}const q1=C.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=z1}=n,c=a9(n,o9);const[h]=H1({key:t,href:c.href,disabled:r,onClick:i,active:a});return w.jsx(l,Object.assign({},c,{ref:e},h))});q1.displayName="DropdownItem";const K1=C.createContext(S1?window:void 0);K1.Provider;function l9(){return C.useContext(K1)}function iI(){const n=_F(),e=C.useRef(null),t=C.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Vc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${W1("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}){const h=l9(),[p,g]=gF(e,n,r),[v,T]=iI(),S=v.current,[x,b]=iI(),R=x.current,F=yF(p),B=C.useRef(null),$=C.useRef(!1),q=C.useContext(Kg),X=C.useCallback((M,V,O=V==null?void 0:V.type)=>{g(M,{originalEvent:V,source:O})},[g]),Z=Ms((M,V)=>{t==null||t(M,V),X(!1,V,"select"),V.isPropagationStopped()||q==null||q(M,V)}),N=C.useMemo(()=>({toggle:X,placement:l,show:p,menuElement:S,toggleElement:R,setMenu:T,setToggle:b}),[X,l,p,S,R,T,b]);S&&F&&!p&&($.current=S.contains(S.ownerDocument.activeElement));const P=Ms(()=>{R&&R.focus&&R.focus()}),k=Ms(()=>{const M=B.current;let V=a;if(V==null&&(V=v.current&&j1(v.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(M))return;const O=UT(v.current,i)[0];O&&O.focus&&O.focus()});C.useEffect(()=>{p?k():$.current&&($.current=!1,P())},[p,$,P,k]),C.useEffect(()=>{B.current=null});const L=(M,V)=>{if(!v.current)return null;const O=UT(v.current,i);let le=O.indexOf(M)+V;return le=Math.max(0,Math.min(le,O.length)),O[le]};return wF(C.useCallback(()=>h.document,[h]),"keydown",M=>{var V,O;const{key:le}=M,Se=M.target,xe=(V=v.current)==null?void 0:V.contains(Se),Te=(O=x.current)==null?void 0:O.contains(Se);if(/input|textarea/i.test(Se.tagName)&&(le===" "||le!=="Escape"&&xe||le==="Escape"&&Se.type==="search")||!xe&&!Te||le==="Tab"&&(!v.current||!p))return;B.current=M.type;const ue={originalEvent:M,source:M.type};switch(le){case"ArrowUp":{const se=L(Se,-1);se&&se.focus&&se.focus(),M.preventDefault();return}case"ArrowDown":if(M.preventDefault(),!p)g(!0,ue);else{const se=L(Se,1);se&&se.focus&&se.focus()}return;case"Tab":R1(Se.ownerDocument,"keyup",se=>{var z;(se.key==="Tab"&&!se.target||!((z=v.current)!=null&&z.contains(se.target)))&&g(!1,ue)},{once:!0});break;case"Escape":le==="Escape"&&(M.preventDefault(),M.stopPropagation()),g(!1,ue);break}}),w.jsx(Kg.Provider,{value:Z,children:w.jsx($f.Provider,{value:N,children:c})})}Vc.displayName="Dropdown";Vc.Menu=V1;Vc.Toggle=B1;Vc.Item=q1;function Gg(){return Gg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gg.apply(null,arguments)}function u9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function sI(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function c9(n){var e=d9(n,"string");return typeof e=="symbol"?e:String(e)}function d9(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function h9(n,e,t){var r=C.useRef(n!==void 0),i=C.useState(e),a=i[0],l=i[1],c=n!==void 0,h=r.current;return r.current=c,!c&&h&&a!==e&&l(e),[c?n:a,C.useCallback(function(p){for(var g=arguments.length,v=new Array(g>1?g-1:0),T=1;T<g;T++)v[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(v)),l(p)},[t])]}function f9(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[sI(r)],c=a[r],h=u9(a,[sI(r),r].map(c9)),p=e[r],g=h9(c,l,n[p]),v=g[0],T=g[1];return Gg({},h,(i={},i[r]=v,i[p]=T,i))},n)}function p9(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function m9(n){const e=p9(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const q_=C.createContext({});q_.displayName="DropdownContext";const g9=["xxl","xl","lg","md","sm","xs"],y9="xs",K_=C.createContext({prefixes:{},breakpoints:g9,minBreakpoint:y9}),{Consumer:Y5,Provider:X5}=K_;function Wt(n,e){const{prefixes:t}=C.useContext(K_);return n||t[e]||e}function _9(){const{dir:n}=C.useContext(K_);return n==="rtl"}const G1=C.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=Wt(e,"dropdown-divider"),w.jsx(t,{ref:a,className:Lt(n,e),role:r,...i})));G1.displayName="DropdownDivider";const Q1=C.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=Wt(e,"dropdown-header"),w.jsx(t,{ref:a,className:Lt(n,e),role:r,...i})));Q1.displayName="DropdownHeader";const v9=["onKeyDown"];function w9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function E9(n){return!n||n.trim()==="#"}const Y1=C.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=w9(n,v9);const[i]=H_(Object.assign({tagName:"a"},r)),a=Ms(l=>{i.onKeyDown(l),t==null||t(l)});return E9(r.href)||r.role==="button"?w.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:a})):w.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});Y1.displayName="Anchor";const X1=C.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=Y1,...c},h)=>{const p=Wt(n,"dropdown-item"),[g,v]=H1({key:t,href:c.href,disabled:r,onClick:i,active:a});return w.jsx(l,{...c,...g,ref:h,className:Lt(e,p,v.isActive&&"active",r&&"disabled")})});X1.displayName="DropdownItem";const J1=C.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Wt(e,"dropdown-item-text"),w.jsx(t,{ref:i,className:Lt(n,e),...r})));J1.displayName="DropdownItemText";const T9=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",I9=typeof document<"u",C9=I9||T9?C.useLayoutEffect:C.useEffect,oI=n=>!n||typeof n=="function"?n:e=>{n.current=e};function S9(n,e){const t=oI(n),r=oI(e);return i=>{t&&t(i),r&&r(i)}}function Z1(n,e){return C.useMemo(()=>S9(n,e),[n,e])}const G_=C.createContext(null);G_.displayName="InputGroupContext";const ex=C.createContext(null);ex.displayName="NavbarContext";function tx(n,e){return n}function nx(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",h=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let v=n?l:a;return e==="up"?v=n?i:r:e==="end"?v=n?g:p:e==="start"?v=n?h:c:e==="down-centered"?v="bottom":e==="up-centered"&&(v="top"),v}const rx=C.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:c="div",popperConfig:h,variant:p,...g},v)=>{let T=!1;const S=C.useContext(ex),x=Wt(n,"dropdown-menu"),{align:b,drop:R,isRTL:F}=C.useContext(q_);t=t||b;const B=C.useContext(G_),$=[];if(t)if(typeof t=="object"){const M=Object.keys(t);if(M.length){const V=M[0],O=t[V];T=O==="start",$.push(`${x}-${V}-${O}`)}}else t==="end"&&(T=!0);const q=nx(T,R,F),[X,{hasShown:Z,popper:N,show:P,toggle:k}]=M1({flip:i,rootCloseEvent:r,show:a,usePopper:!S&&$.length===0,offset:[0,2],popperConfig:h,placement:q});if(X.ref=Z1(tx(v),X.ref),C9(()=>{P&&(N==null||N.update())},[P]),!Z&&!l&&!B)return null;typeof c!="string"&&(X.show=P,X.close=()=>k==null?void 0:k(!1),X.align=t);let L=g.style;return N!=null&&N.placement&&(L={...g.style,...X.style},g["x-placement"]=N.placement),w.jsx(c,{...g,...X,style:L,...($.length||S)&&{"data-bs-popper":"static"},className:Lt(e,x,P&&"show",T&&`${x}-end`,p&&`${x}-${p}`,...$)})});rx.displayName="DropdownMenu";const Ga=C.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},h)=>{const p=Wt(e,"btn"),[g,{tagName:v}]=H_({tagName:n,disabled:a,...c}),T=v;return w.jsx(T,{...g,...c,ref:h,disabled:a,className:Lt(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});Ga.displayName="Button";const ix=C.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Ga,...a},l)=>{const c=Wt(n,"dropdown-toggle"),h=C.useContext($f);r!==void 0&&(a.bsPrefix=r);const[p]=U1();return p.ref=Z1(p.ref,tx(l)),w.jsx(i,{className:Lt(t,c,e&&`${c}-split`,(h==null?void 0:h.show)&&"show"),...p,...a})});ix.displayName="DropdownToggle";const sx=C.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:c,onToggle:h,focusFirstItemOnShow:p,as:g="div",navbar:v,autoClose:T=!0,...S}=f9(n,{show:"onToggle"}),x=C.useContext(G_),b=Wt(t,"dropdown"),R=_9(),F=N=>T===!1?N==="click":T==="inside"?N!=="rootClose":T==="outside"?N!=="select":!0,B=m9((N,P)=>{var k;!((k=P.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&P.source==="mousedown"||(P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),F(P.source)&&(h==null||h(N,P)))}),q=nx(l==="end",r,R),X=C.useMemo(()=>({align:l,drop:r,isRTL:R}),[l,r,R]),Z={down:b,"down-centered":`${b}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w.jsx(q_.Provider,{value:X,children:w.jsx(Vc,{placement:q,show:i,onSelect:c,onToggle:B,focusFirstItemOnShow:p,itemSelector:`.${b}-item:not(.disabled):not(:disabled)`,children:x?S.children:w.jsx(g,{...S,ref:e,className:Lt(a,i&&"show",Z[r])})})})});sx.displayName="Dropdown";const Po=Object.assign(sx,{Toggle:ix,Menu:rx,Item:X1,ItemText:J1,Divider:G1,Header:Q1}),R9=()=>{const n=si(),e=async()=>{await M_(),n("/")};return w.jsxs(Po,{children:[w.jsx(Po.Toggle,{variant:"success",id:"dropdown-basic",children:w.jsx("img",{src:ig})}),w.jsxs(Po.Menu,{children:[w.jsx(Po.Item,{as:An,to:"/ProfileDashboard",children:"Profile"}),w.jsx(Po.Item,{as:An,to:"/designerPage",children:"Designs"}),w.jsx(Po.Item,{href:"#/action-3",children:"Action"}),w.jsx(Po.Item,{onClick:e,children:"Log Out"})]})]})},Wf=()=>{const{userLoggedIn:n}=Dc()||{userLoggedIn:!1},e=si(),t=async()=>{await M_(),e("/")};return w.jsxs("div",{className:"nav",children:[w.jsx(An,{to:"/",children:w.jsx("div",{className:"logo",children:"URENO"})}),w.jsxs("div",{className:"Right",children:[w.jsxs("menu",{children:[w.jsx("li",{children:"AI Design"}),w.jsx("li",{children:"Projects"}),w.jsx("li",{children:"Messages"})]}),n?w.jsx("button",{className:"btn login-btn",onClick:t,children:"Log Out"}):w.jsx(An,{to:"/sign-in",children:w.jsx("button",{className:"btn login-btn",children:"Log In"})}),n?w.jsx(R9,{}):w.jsx("button",{className:"btn profile-btn",children:w.jsx("object",{data:ig,type:"image/svg+xml",children:w.jsx("img",{src:ig})})})]})]})};function x9(){return w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"Ureno"}),w.jsx(Wf,{}),w.jsx("div",{className:"center-logo",children:w.jsxs("div",{className:"container",children:[w.jsx("h1",{children:"URENO"}),w.jsx("p",{children:"Renovation Made Simple"}),w.jsx("button",{className:"btn try-now",children:"Try it Now"})]})}),w.jsxs("div",{className:"services",children:[w.jsx("div",{className:"our-services",children:w.jsx("p",{children:"Our Services"})}),w.jsxs("div",{className:"floor-content",children:[w.jsx("div",{className:"flooring fadeInRight",children:w.jsx("p",{children:w.jsx(An,{to:"/product-page",children:w.jsx("img",{src:lk,alt:"light oak wooden floor"})})})}),w.jsxs("div",{className:"floor-txt fadeInRight",children:[w.jsx("h3",{children:"flooring"}),w.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]}),w.jsxs("div",{className:"paint-content",children:[w.jsx("div",{className:"painting fadeInLeft",children:w.jsx("img",{src:uk,alt:"blue painted walls"})}),w.jsxs("div",{className:"paint-txt fadeInLeft",children:[w.jsx("h3",{children:"paint"}),w.jsx("p",{children:"Lorem ipsum dolor sit amet. A reiciendis repellat in cupiditate temporibus est tenetur architecto sed voluptatibus saepe."})]})]})]}),w.jsx(gc,{})]})}const ox=({productId:n,image:e,title:t,description:r,price:i,link:a})=>w.jsx("div",{className:"products",children:w.jsxs(An,{to:`/productDetail/${n}`,className:"container",children:[w.jsx("img",{src:e,alt:t}),w.jsx("div",{className:"prod-title",children:t}),w.jsx("p",{children:r}),w.jsx("p",{children:i})]})});ox.defaultProps={productId:"default-id",image:"../assets/images/defaultImage.jpg.webp",title:"Default Title",description:"No description available",price:"Price not available.",link:"/productDetail"};function A9(){const[n,e]=C.useState(0),{userLoggedIn:t}=Dc()||{userLoggedIn:!1},[r,i]=C.useState([]);return C.useEffect(()=>{(async()=>{const l=Uo(),h=(await aR(s_(l,"products"))).docs.map(p=>({id:p.id,...p.data()}));i(h)})()},[]),C.useEffect(()=>{const a=()=>{const l=document.querySelector(".nav");l&&e(l.offsetHeight)};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]),w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"URENO"}),w.jsx(Wf,{}),w.jsxs("div",{className:"body",children:[w.jsxs("div",{className:`main-content ${t?"logged-in":""}`,children:[w.jsx("h1",{children:"Flooring"}),w.jsxs("div",{className:"search",children:[w.jsx("div",{className:"input",children:w.jsx("input",{type:"text",className:"search-bar",placeholder:"Search"})}),w.jsx("div",{className:"filter",children:"Filter"})]}),w.jsx("p",{children:"Popular"}),w.jsx("div",{className:"products",children:r.map(a=>w.jsx(ox,{productId:a.id,image:a.image,title:a.title,description:a.description,price:a.price,link:a.link},a.id))})]}),w.jsx(gc,{})]})]})}function ax(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=ax(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function lx(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=ax(n))&&(r&&(r+=" "),r+=e);return r}const Q_="-",P9=n=>{const e=b9(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(Q_);return c[0]===""&&c.length!==1&&c.shift(),ux(c,e)||k9(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},ux=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?ux(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Q_);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},aI=/^\[(.+)\]$/,k9=n=>{if(aI.test(n)){const e=aI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},b9=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return O9(Object.entries(n.classGroups),t).forEach(([a,l])=>{Qg(l,r,a,e)}),r},Qg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:lI(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(N9(i)){Qg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{Qg(l,lI(e,a),t,r)})})},lI=(n,e)=>{let t=n;return e.split(Q_).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},N9=n=>n.isThemeGetter,O9=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[t,i]}):n,D9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},cx="!",L9=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,l=c=>{const h=[];let p=0,g=0,v;for(let R=0;R<c.length;R++){let F=c[R];if(p===0){if(F===i&&(r||c.slice(R,R+a)===e)){h.push(c.slice(g,R)),g=R+a;continue}if(F==="/"){v=R;continue}}F==="["?p++:F==="]"&&p--}const T=h.length===0?c:c.substring(g),S=T.startsWith(cx),x=S?T.substring(1):T,b=v&&v>g?v-g:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:b}};return t?c=>t({className:c,parseClassName:l}):l},M9=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},V9=n=>({cache:D9(n.cacheSize),parseClassName:L9(n),...P9(n)}),F9=/\s+/,j9=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=n.trim().split(F9);let c="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:g,hasImportantModifier:v,baseClassName:T,maybePostfixModifierPosition:S}=t(p);let x=!!S,b=r(x?T.substring(0,S):T);if(!b){if(!x){c=p+(c.length>0?" "+c:c);continue}if(b=r(T),!b){c=p+(c.length>0?" "+c:c);continue}x=!1}const R=M9(g).join(":"),F=v?R+cx:R,B=F+b;if(a.includes(B))continue;a.push(B);const $=i(b,x);for(let q=0;q<$.length;++q){const X=$[q];a.push(F+X)}c=p+(c.length>0?" "+c:c)}return c};function U9(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=dx(e))&&(r&&(r+=" "),r+=t);return r}const dx=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=dx(n[r]))&&(t&&(t+=" "),t+=e);return t};function B9(n,...e){let t,r,i,a=l;function l(h){const p=e.reduce((g,v)=>v(g),n());return t=V9(p),r=t.cache.get,i=t.cache.set,a=c,c(h)}function c(h){const p=r(h);if(p)return p;const g=j9(h,t);return i(h,g),g}return function(){return a(U9.apply(null,arguments))}}const st=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},hx=/^\[(?:([a-z-]+):)?(.+)\]$/i,$9=/^\d+\/\d+$/,z9=new Set(["px","full","screen"]),W9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,K9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,G9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ci=n=>tl(n)||z9.has(n)||$9.test(n),Is=n=>bl(n,"length",n6),tl=n=>!!n&&!Number.isNaN(Number(n)),Qm=n=>bl(n,"number",tl),ku=n=>!!n&&Number.isInteger(Number(n)),Q9=n=>n.endsWith("%")&&tl(n.slice(0,-1)),Ne=n=>hx.test(n),Cs=n=>W9.test(n),Y9=new Set(["length","size","percentage"]),X9=n=>bl(n,Y9,fx),J9=n=>bl(n,"position",fx),Z9=new Set(["image","url"]),e6=n=>bl(n,Z9,i6),t6=n=>bl(n,"",r6),bu=()=>!0,bl=(n,e,t)=>{const r=hx.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},n6=n=>H9.test(n)&&!q9.test(n),fx=()=>!1,r6=n=>K9.test(n),i6=n=>G9.test(n),s6=()=>{const n=st("colors"),e=st("spacing"),t=st("blur"),r=st("brightness"),i=st("borderColor"),a=st("borderRadius"),l=st("borderSpacing"),c=st("borderWidth"),h=st("contrast"),p=st("grayscale"),g=st("hueRotate"),v=st("invert"),T=st("gap"),S=st("gradientColorStops"),x=st("gradientColorStopPositions"),b=st("inset"),R=st("margin"),F=st("opacity"),B=st("padding"),$=st("saturate"),q=st("scale"),X=st("sepia"),Z=st("skew"),N=st("space"),P=st("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ne,e],V=()=>[Ne,e],O=()=>["",Ci,Is],le=()=>["auto",tl,Ne],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",Ne],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[tl,Ne];return{cacheSize:500,separator:":",theme:{colors:[bu],spacing:[Ci,Is],blur:["none","",Cs,Ne],brightness:z(),borderColor:[n],borderRadius:["none","","full",Cs,Ne],borderSpacing:V(),borderWidth:O(),contrast:z(),grayscale:ue(),hueRotate:z(),invert:ue(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[Q9,Is],inset:M(),margin:M(),opacity:z(),padding:V(),saturate:z(),scale:z(),sepia:ue(),skew:z(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),Ne]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ku,Ne]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",ku,Ne]}],"grid-cols":[{"grid-cols":[bu]}],"col-start-end":[{col:["auto",{span:["full",ku,Ne]},Ne]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[bu]}],"row-start-end":[{row:["auto",{span:[ku,Ne]},Ne]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[B]}],px:[{px:[B]}],py:[{py:[B]}],ps:[{ps:[B]}],pe:[{pe:[B]}],pt:[{pt:[B]}],pr:[{pr:[B]}],pb:[{pb:[B]}],pl:[{pl:[B]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,Is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qm]}],"font-family":[{font:[bu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",tl,Qm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ci,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[F]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ci,Is]}],"underline-offset":[{"underline-offset":["auto",Ci,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[F]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),J9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",X9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},e6]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[F]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[F]}],"divide-style":[{divide:xe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[Ci,Ne]}],"outline-w":[{outline:[Ci,Is]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[F]}],"ring-offset-w":[{"ring-offset":[Ci,Is]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Cs,t6]}],"shadow-color":[{shadow:[bu]}],opacity:[{opacity:[F]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Cs,Ne]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[$]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[F]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[ku,Ne]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ci,Is,Qm]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},o6=B9(s6);function eo(...n){return o6(lx(n))}const uI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,cI=lx,px=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return cI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const g=t==null?void 0:t[p],v=a==null?void 0:a[p];if(g===null)return null;const T=uI(g)||uI(v);return i[p][T]}),c=t&&Object.entries(t).reduce((p,g)=>{let[v,T]=g;return T===void 0||(p[v]=T),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:T,...S}=g;return Object.entries(S).every(x=>{let[b,R]=x;return Array.isArray(R)?R.includes({...a,...c}[b]):{...a,...c}[b]===R})?[...p,v,T]:p},[]);return cI(n,l,h,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mx=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},h)=>C.createElement("svg",{ref:h,...l6,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:mx("lucide",i),...c},[...l.map(([p,g])=>C.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=(n,e)=>{const t=C.forwardRef(({className:r,...i},a)=>C.createElement(u6,{ref:a,iconNode:e,className:mx(`lucide-${a6(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],d6=Fc("Bell",c6);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],f6=Fc("LoaderCircle",h6);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],m6=Fc("LogOut",p6);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y6=Fc("Settings",g6);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],v6=Fc("X",_6),w6=px("active:scale-95 inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 dark:focus:ring-slate-400 disabled:pointer-events-none dark:focus:ring-offset-slate-900",{variants:{variant:{default:"bg-zinc-900 text-zinc-100 hover:bg-zinc-800",destructive:"text-white hover:bg-red-600 dark:hover:bg-red-600",outline:"bg-zinc-100 text-zinc-900 hover:bg-zinc-200 outline outline-1 outline-zinc-300",subtle:"hover:bg-zinc-200 bg-zinc-100 text-zinc-900",ghost:"bg-transparent hover:bg-zinc-100 text-zinc-800 data-[state=open]:bg-transparent data-[state=open]:bg-transparent",link:"bg-transparent dark:bg-transparent underline-offset-4 hover:underline text-slate-900 dark:text-slate-100 hover:bg-transparent dark:hover:bg-transparent"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-2 rounded-md",xs:"h-8 px-1.5 rounded-sm",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),uf=C.forwardRef(({className:n,children:e,variant:t,isLoading:r,size:i,...a},l)=>w.jsxs("button",{className:eo(w6({variant:t,size:i,className:n})),ref:l,disabled:r,...a,children:[r?w.jsx(f6,{className:"mr-2 h-4 w-4 animate-spin"}):null,e]}));uf.displayName="Button";const Y_={logo:n=>w.jsx("svg",{width:"271.015",height:"70.315",viewBox:"-145.011144365309036 -30.49067544250989 331.0151672857927 130.31489419250988",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("g",{id:"svgGroup",strokeLinecap:"round",fillRule:"nonzero",fontSize:"9pt",stroke:"#000",strokeWidth:"0.25mm",fill:"#000",children:w.jsx("path",{d:"M 0.871 42.383 L 9.367 0 L 22.306 0 L 13.81 42.383 A 30.417 30.417 0 0 0 13.441 44.675 Q 11.706 59.082 27.58 59.082 A 25.912 25.912 0 0 0 35.582 57.938 Q 43.671 55.317 46.807 46.686 A 29.378 29.378 0 0 0 47.99 42.383 L 56.486 0 L 69.425 0 L 60.929 42.383 Q 56.437 64.922 36.013 69.272 A 51.3 51.3 0 0 1 25.333 70.312 Q -4.549 70.313 0.817 42.655 A 54.603 54.603 0 0 1 0.871 42.383 Z M 170.255 69.824 L 157.316 69.824 L 167.57 18.555 L 179.044 18.555 L 177.042 35.84 A 48.043 48.043 0 0 1 182.438 27.877 Q 190.364 18.555 200.871 18.555 Q 215.284 18.555 212.504 34.358 A 37.97 37.97 0 0 1 212.345 35.205 L 205.412 69.824 L 192.472 69.824 L 199.406 35.059 A 9.722 9.722 0 0 0 199.542 34.192 Q 200.038 29.64 195.123 29.082 A 13.143 13.143 0 0 0 193.644 29.004 A 12.397 12.397 0 0 0 186.867 31.196 Q 182.454 34.051 178.041 40.623 A 72.792 72.792 0 0 0 175.187 45.264 L 170.255 69.824 Z M 131.242 49.219 L 118.4 49.219 A 14.778 14.778 0 0 0 118.188 50.62 Q 117.295 59.57 129.826 59.57 A 32.356 32.356 0 0 0 147.217 54.447 A 40.076 40.076 0 0 0 149.064 53.223 L 147.013 63.477 A 29.1 29.1 0 0 1 133.997 69.204 A 40.091 40.091 0 0 1 126.798 69.824 A 35.673 35.673 0 0 1 118.704 68.991 Q 102.573 65.217 106.442 44.34 A 55.876 55.876 0 0 1 106.583 43.604 Q 111.086 21.176 131.247 18.829 A 42.614 42.614 0 0 1 136.173 18.555 A 46.684 46.684 0 0 1 142.691 18.969 Q 157.543 21.075 154.972 33.887 A 16.984 16.984 0 0 1 144.095 47.13 Q 140.663 48.501 136.2 48.972 A 47.285 47.285 0 0 1 131.242 49.219 Z M 120.304 39.746 L 133.244 39.746 Q 137.059 39.746 139.319 38.509 A 6.004 6.004 0 0 0 142.423 34.229 A 6.024 6.024 0 0 0 142.521 33.509 Q 142.836 29.111 135.517 28.744 A 27.909 27.909 0 0 0 134.122 28.711 A 15.659 15.659 0 0 0 128.354 29.709 Q 124.114 31.377 121.81 35.833 A 20.477 20.477 0 0 0 120.304 39.746 Z M 81.828 69.824 L 68.888 69.824 L 79.142 18.555 L 90.617 18.555 L 88.81 34.863 A 59.862 59.862 0 0 1 92.813 28.311 Q 97.632 21.541 102.816 19.469 A 12.42 12.42 0 0 1 107.462 18.555 L 105.265 29.492 A 13.431 13.431 0 0 0 97.693 31.996 Q 92.076 35.776 86.759 45.264 L 81.828 69.824 Z M 224.146 32.761 Q 230.67 20.161 245.33 18.365 A 41.947 41.947 0 0 1 250.431 18.066 A 34.33 34.33 0 0 1 258.326 18.89 Q 274.406 22.705 270.109 44.189 A 43.09 43.09 0 0 1 266.267 55.597 Q 259.743 68.173 245.083 69.966 A 42.024 42.024 0 0 1 239.982 70.264 Q 215.53 70.264 220.164 44.926 A 56.584 56.584 0 0 1 220.304 44.189 A 43.226 43.226 0 0 1 224.146 32.761 Z M 233.292 43.994 Q 230.07 60.059 242.033 60.059 A 12.969 12.969 0 0 0 253.572 53.783 Q 255.134 51.371 256.191 48.032 A 38.445 38.445 0 0 0 257.218 43.994 Q 259.879 30.648 251.601 28.666 A 13.851 13.851 0 0 0 248.38 28.32 Q 236.417 28.32 233.292 43.994 Z",vectorEffect:"non-scaling-stroke"})})}),google:n=>w.jsxs("svg",{...n,viewBox:"0 0 24 24",children:[w.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),w.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),w.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),w.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),w.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})},E6=1,T6=1e6;let Ym=0;function I6(){return Ym=(Ym+1)%Number.MAX_SAFE_INTEGER,Ym.toString()}const Xm=new Map,dI=n=>{if(Xm.has(n))return;const e=setTimeout(()=>{Xm.delete(n),Xu({type:"REMOVE_TOAST",toastId:n})},T6);Xm.set(n,e)},C6=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,E6)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?dI(t):n.toasts.forEach(r=>{dI(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Ph=[];let kh={toasts:[]};function Xu(n){kh=C6(kh,n),Ph.forEach(e=>{e(kh)})}function S6({...n}){const e=I6(),t=i=>Xu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Xu({type:"DISMISS_TOAST",toastId:e});return Xu({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function gx(){const[n,e]=C.useState(kh);return C.useEffect(()=>(Ph.push(e),()=>{const t=Ph.indexOf(e);t>-1&&Ph.splice(t,1)}),[n]),{...n,toast:S6,dismiss:t=>Xu({type:"DISMISS_TOAST",toastId:t})}}function Bn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function hI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function yx(...n){return e=>{let t=!1;const r=n.map(i=>{const a=hI(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():hI(n[i],null)}}}}function Ho(...n){return C.useCallback(yx(...n),n)}function _x(n,e=[]){let t=[];function r(a,l){const c=C.createContext(l),h=t.length;t=[...t,l];const p=v=>{var F;const{scope:T,children:S,...x}=v,b=((F=T==null?void 0:T[n])==null?void 0:F[h])||c,R=C.useMemo(()=>x,Object.values(x));return w.jsx(b.Provider,{value:R,children:S})};p.displayName=a+"Provider";function g(v,T){var b;const S=((b=T==null?void 0:T[n])==null?void 0:b[h])||c,x=C.useContext(S);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=t.map(l=>C.createContext(l));return function(c){const h=(c==null?void 0:c[n])||a;return C.useMemo(()=>({[`__scope${n}`]:{...c,[n]:h}}),[c,h])}};return i.scopeName=n,[r,R6(i,...e)]}function R6(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:h,scopeName:p})=>{const v=h(a)[`__scope${p}`];return{...c,...v}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var cf=C.forwardRef((n,e)=>{const{children:t,...r}=n,i=C.Children.toArray(t),a=i.find(A6);if(a){const l=a.props.children,c=i.map(h=>h===a?C.Children.count(l)>1?C.Children.only(null):C.isValidElement(l)?l.props.children:null:h);return w.jsx(Yg,{...r,ref:e,children:C.isValidElement(l)?C.cloneElement(l,void 0,c):null})}return w.jsx(Yg,{...r,ref:e,children:t})});cf.displayName="Slot";var Yg=C.forwardRef((n,e)=>{const{children:t,...r}=n;if(C.isValidElement(t)){const i=k6(t),a=P6(r,t.props);return t.type!==C.Fragment&&(a.ref=e?yx(e,i):i),C.cloneElement(t,a)}return C.Children.count(t)>1?C.Children.only(null):null});Yg.displayName="SlotClone";var x6=({children:n})=>w.jsx(w.Fragment,{children:n});function A6(n){return C.isValidElement(n)&&n.type===x6}function P6(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{a(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function k6(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function b6(n){const e=n+"CollectionProvider",[t,r]=_x(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:x,children:b}=S,R=gn.useRef(null),F=gn.useRef(new Map).current;return w.jsx(i,{scope:x,itemMap:F,collectionRef:R,children:b})};l.displayName=e;const c=n+"CollectionSlot",h=gn.forwardRef((S,x)=>{const{scope:b,children:R}=S,F=a(c,b),B=Ho(x,F.collectionRef);return w.jsx(cf,{ref:B,children:R})});h.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",v=gn.forwardRef((S,x)=>{const{scope:b,children:R,...F}=S,B=gn.useRef(null),$=Ho(x,B),q=a(p,b);return gn.useEffect(()=>(q.itemMap.set(B,{ref:B,...F}),()=>void q.itemMap.delete(B))),w.jsx(cf,{[g]:"",ref:$,children:R})});v.displayName=p;function T(S){const x=a(n+"CollectionConsumer",S);return gn.useCallback(()=>{const R=x.collectionRef.current;if(!R)return[];const F=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(x.itemMap.values()).sort((q,X)=>F.indexOf(q.ref.current)-F.indexOf(X.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},T,r]}var N6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ai=N6.reduce((n,e)=>{const t=C.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?cf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(c,{...l,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function vx(n,e){n&&cy.flushSync(()=>n.dispatchEvent(e))}function $i(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function O6(n,e=globalThis==null?void 0:globalThis.document){const t=$i(n);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var D6="DismissableLayer",Xg="dismissableLayer.update",L6="dismissableLayer.pointerDownOutside",M6="dismissableLayer.focusOutside",fI,wx=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ex=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...h}=n,p=C.useContext(wx),[g,v]=C.useState(null),T=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=C.useState({}),x=Ho(e,N=>v(N)),b=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),F=b.indexOf(R),B=g?b.indexOf(g):-1,$=p.layersWithOutsidePointerEventsDisabled.size>0,q=B>=F,X=F6(N=>{const P=N.target,k=[...p.branches].some(L=>L.contains(P));!q||k||(i==null||i(N),l==null||l(N),N.defaultPrevented||c==null||c())},T),Z=j6(N=>{const P=N.target;[...p.branches].some(L=>L.contains(P))||(a==null||a(N),l==null||l(N),N.defaultPrevented||c==null||c())},T);return O6(N=>{B===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},T),C.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(fI=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),pI(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=fI)}},[g,T,t,p]),C.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),pI())},[g,p]),C.useEffect(()=>{const N=()=>S({});return document.addEventListener(Xg,N),()=>document.removeEventListener(Xg,N)},[]),w.jsx(ai.div,{...h,ref:x,style:{pointerEvents:$?q?"auto":"none":void 0,...n.style},onFocusCapture:Bn(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:Bn(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Bn(n.onPointerDownCapture,X.onPointerDownCapture)})});Ex.displayName=D6;var V6="DismissableLayerBranch",Tx=C.forwardRef((n,e)=>{const t=C.useContext(wx),r=C.useRef(null),i=Ho(e,r);return C.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),w.jsx(ai.div,{...n,ref:i})});Tx.displayName=V6;function F6(n,e=globalThis==null?void 0:globalThis.document){const t=$i(n),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let h=function(){Ix(L6,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function j6(n,e=globalThis==null?void 0:globalThis.document){const t=$i(n),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&Ix(M6,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pI(){const n=new CustomEvent(Xg);document.dispatchEvent(n)}function Ix(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?vx(i,a):i.dispatchEvent(a)}var U6=Ex,B6=Tx,df=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},$6="Portal",Cx=C.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,a]=C.useState(!1);df(()=>a(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?ak.createPortal(w.jsx(ai.div,{...r,ref:e}),l):null});Cx.displayName=$6;function z6(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var Sx=n=>{const{present:e,children:t}=n,r=W6(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),a=Ho(r.ref,H6(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};Sx.displayName="Presence";function W6(n){const[e,t]=C.useState(),r=C.useRef({}),i=C.useRef(n),a=C.useRef("none"),l=n?"mounted":"unmounted",[c,h]=z6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=dh(r.current);a.current=c==="mounted"?p:"none"},[c]),df(()=>{const p=r.current,g=i.current;if(g!==n){const T=a.current,S=dh(p);n?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&T!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,h]),df(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,v=S=>{const b=dh(r.current).includes(S.animationName);if(S.target===e&&b&&(h("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},T=S=>{S.target===e&&(a.current=dh(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function dh(n){return(n==null?void 0:n.animationName)||"none"}function H6(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function q6({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=K6({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:r,c=$i(t),h=C.useCallback(p=>{if(a){const v=typeof p=="function"?p(n):p;v!==n&&c(v)}else i(p)},[a,n,i,c]);return[l,h]}function K6({defaultProp:n,onChange:e}){const t=C.useState(n),[r]=t,i=C.useRef(r),a=$i(e);return C.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),t}var G6="VisuallyHidden",X_=C.forwardRef((n,e)=>w.jsx(ai.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));X_.displayName=G6;var J_="ToastProvider",[Z_,Q6,Y6]=b6("Toast"),[Rx,J5]=_x("Toast",[Y6]),[X6,Hf]=Rx(J_),xx=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=n,[c,h]=C.useState(null),[p,g]=C.useState(0),v=C.useRef(!1),T=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${J_}\`. Expected non-empty \`string\`.`),w.jsx(Z_.Provider,{scope:e,children:w.jsx(X6,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:c,onViewportChange:h,onToastAdd:C.useCallback(()=>g(S=>S+1),[]),onToastRemove:C.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:T,children:l})})};xx.displayName=J_;var Ax="ToastViewport",J6=["F8"],Jg="toast.viewportPause",Zg="toast.viewportResume",Px=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=J6,label:i="Notifications ({hotkey})",...a}=n,l=Hf(Ax,t),c=Q6(t),h=C.useRef(null),p=C.useRef(null),g=C.useRef(null),v=C.useRef(null),T=Ho(e,v,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=l.toastCount>0;C.useEffect(()=>{const R=F=>{var $;r.length!==0&&r.every(q=>F[q]||F.code===q)&&(($=v.current)==null||$.focus())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[r]),C.useEffect(()=>{const R=h.current,F=v.current;if(x&&R&&F){const B=()=>{if(!l.isClosePausedRef.current){const Z=new CustomEvent(Jg);F.dispatchEvent(Z),l.isClosePausedRef.current=!0}},$=()=>{if(l.isClosePausedRef.current){const Z=new CustomEvent(Zg);F.dispatchEvent(Z),l.isClosePausedRef.current=!1}},q=Z=>{!R.contains(Z.relatedTarget)&&$()},X=()=>{R.contains(document.activeElement)||$()};return R.addEventListener("focusin",B),R.addEventListener("focusout",q),R.addEventListener("pointermove",B),R.addEventListener("pointerleave",X),window.addEventListener("blur",B),window.addEventListener("focus",$),()=>{R.removeEventListener("focusin",B),R.removeEventListener("focusout",q),R.removeEventListener("pointermove",B),R.removeEventListener("pointerleave",X),window.removeEventListener("blur",B),window.removeEventListener("focus",$)}}},[x,l.isClosePausedRef]);const b=C.useCallback(({tabbingDirection:R})=>{const B=c().map($=>{const q=$.ref.current,X=[q,...dU(q)];return R==="forwards"?X:X.reverse()});return(R==="forwards"?B.reverse():B).flat()},[c]);return C.useEffect(()=>{const R=v.current;if(R){const F=B=>{var X,Z,N;const $=B.altKey||B.ctrlKey||B.metaKey;if(B.key==="Tab"&&!$){const P=document.activeElement,k=B.shiftKey;if(B.target===R&&k){(X=p.current)==null||X.focus();return}const V=b({tabbingDirection:k?"backwards":"forwards"}),O=V.findIndex(le=>le===P);Jm(V.slice(O+1))?B.preventDefault():k?(Z=p.current)==null||Z.focus():(N=g.current)==null||N.focus()}};return R.addEventListener("keydown",F),()=>R.removeEventListener("keydown",F)}},[c,b]),w.jsxs(B6,{ref:h,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&w.jsx(ey,{ref:p,onFocusFromOutsideViewport:()=>{const R=b({tabbingDirection:"forwards"});Jm(R)}}),w.jsx(Z_.Slot,{scope:t,children:w.jsx(ai.ol,{tabIndex:-1,...a,ref:T})}),x&&w.jsx(ey,{ref:g,onFocusFromOutsideViewport:()=>{const R=b({tabbingDirection:"backwards"});Jm(R)}})]})});Px.displayName=Ax;var kx="ToastFocusProxy",ey=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=Hf(kx,t);return w.jsx(X_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var p;const c=l.relatedTarget;!((p=a.viewport)!=null&&p.contains(c))&&r()}})});ey.displayName=kx;var qf="Toast",Z6="toast.swipeStart",eU="toast.swipeMove",tU="toast.swipeCancel",nU="toast.swipeEnd",bx=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...l}=n,[c=!0,h]=q6({prop:r,defaultProp:i,onChange:a});return w.jsx(Sx,{present:t||c,children:w.jsx(sU,{open:c,...l,ref:e,onClose:()=>h(!1),onPause:$i(n.onPause),onResume:$i(n.onResume),onSwipeStart:Bn(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Bn(n.onSwipeMove,p=>{const{x:g,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Bn(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Bn(n.onSwipeEnd,p=>{const{x:g,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),h(!1)})})})});bx.displayName=qf;var[rU,iU]=Rx(qf,{onClose(){}}),sU=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:c,onPause:h,onResume:p,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:T,onSwipeEnd:S,...x}=n,b=Hf(qf,t),[R,F]=C.useState(null),B=Ho(e,le=>F(le)),$=C.useRef(null),q=C.useRef(null),X=i||b.duration,Z=C.useRef(0),N=C.useRef(X),P=C.useRef(0),{onToastAdd:k,onToastRemove:L}=b,M=$i(()=>{var Se;(R==null?void 0:R.contains(document.activeElement))&&((Se=b.viewport)==null||Se.focus()),l()}),V=C.useCallback(le=>{!le||le===1/0||(window.clearTimeout(P.current),Z.current=new Date().getTime(),P.current=window.setTimeout(M,le))},[M]);C.useEffect(()=>{const le=b.viewport;if(le){const Se=()=>{V(N.current),p==null||p()},xe=()=>{const Te=new Date().getTime()-Z.current;N.current=N.current-Te,window.clearTimeout(P.current),h==null||h()};return le.addEventListener(Jg,xe),le.addEventListener(Zg,Se),()=>{le.removeEventListener(Jg,xe),le.removeEventListener(Zg,Se)}}},[b.viewport,X,h,p,V]),C.useEffect(()=>{a&&!b.isClosePausedRef.current&&V(X)},[a,X,b.isClosePausedRef,V]),C.useEffect(()=>(k(),()=>L()),[k,L]);const O=C.useMemo(()=>R?Fx(R):null,[R]);return b.viewport?w.jsxs(w.Fragment,{children:[O&&w.jsx(oU,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),w.jsx(rU,{scope:t,onClose:M,children:cy.createPortal(w.jsx(Z_.ItemSlot,{scope:t,children:w.jsx(U6,{asChild:!0,onEscapeKeyDown:Bn(c,()=>{b.isFocusedToastEscapeKeyDownRef.current||M(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(ai.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...x,ref:B,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Bn(n.onKeyDown,le=>{le.key==="Escape"&&(c==null||c(le.nativeEvent),le.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Bn(n.onPointerDown,le=>{le.button===0&&($.current={x:le.clientX,y:le.clientY})}),onPointerMove:Bn(n.onPointerMove,le=>{if(!$.current)return;const Se=le.clientX-$.current.x,xe=le.clientY-$.current.y,Te=!!q.current,ie=["left","right"].includes(b.swipeDirection),ue=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,se=ie?ue(0,Se):0,z=ie?0:ue(0,xe),Y=le.pointerType==="touch"?10:2,fe={x:se,y:z},Ie={originalEvent:le,delta:fe};Te?(q.current=fe,hh(eU,v,Ie,{discrete:!1})):mI(fe,b.swipeDirection,Y)?(q.current=fe,hh(Z6,g,Ie,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(Se)>Y||Math.abs(xe)>Y)&&($.current=null)}),onPointerUp:Bn(n.onPointerUp,le=>{const Se=q.current,xe=le.target;if(xe.hasPointerCapture(le.pointerId)&&xe.releasePointerCapture(le.pointerId),q.current=null,$.current=null,Se){const Te=le.currentTarget,ie={originalEvent:le,delta:Se};mI(Se,b.swipeDirection,b.swipeThreshold)?hh(nU,S,ie,{discrete:!0}):hh(tU,T,ie,{discrete:!0}),Te.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),oU=n=>{const{__scopeToast:e,children:t,...r}=n,i=Hf(qf,e),[a,l]=C.useState(!1),[c,h]=C.useState(!1);return uU(()=>l(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:w.jsx(Cx,{asChild:!0,children:w.jsx(X_,{...r,children:a&&w.jsxs(w.Fragment,{children:[i.label," ",t]})})})},aU="ToastTitle",Nx=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return w.jsx(ai.div,{...r,ref:e})});Nx.displayName=aU;var lU="ToastDescription",Ox=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return w.jsx(ai.div,{...r,ref:e})});Ox.displayName=lU;var Dx="ToastAction",Lx=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?w.jsx(Vx,{altText:t,asChild:!0,children:w.jsx(ev,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dx}\`. Expected non-empty \`string\`.`),null)});Lx.displayName=Dx;var Mx="ToastClose",ev=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=iU(Mx,t);return w.jsx(Vx,{asChild:!0,children:w.jsx(ai.button,{type:"button",...r,ref:e,onClick:Bn(n.onClick,i.onClose)})})});ev.displayName=Mx;var Vx=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return w.jsx(ai.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Fx(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cU(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...Fx(r))}}),e}function hh(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?vx(i,a):i.dispatchEvent(a)}var mI=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function uU(n=()=>{}){const e=$i(n);df(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function cU(n){return n.nodeType===n.ELEMENT_NODE}function dU(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Jm(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var hU=xx,jx=Px,Ux=bx,Bx=Nx,$x=Ox,zx=Lx,Wx=ev;const fU=hU,Hx=C.forwardRef(({className:n,...e},t)=>w.jsx(jx,{ref:t,className:eo("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Hx.displayName=jx.displayName;const pU=px("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qx=C.forwardRef(({className:n,variant:e,...t},r)=>w.jsx(Ux,{ref:r,className:eo(pU({variant:e}),n),...t}));qx.displayName=Ux.displayName;const mU=C.forwardRef(({className:n,...e},t)=>w.jsx(zx,{ref:t,className:eo("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));mU.displayName=zx.displayName;const Kx=C.forwardRef(({className:n,...e},t)=>w.jsx(Wx,{ref:t,className:eo("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:w.jsx(v6,{className:"h-4 w-4"})}));Kx.displayName=Wx.displayName;const Gx=C.forwardRef(({className:n,...e},t)=>w.jsx(Bx,{ref:t,className:eo("text-sm font-semibold [&+div]:text-xs",n),...e}));Gx.displayName=Bx.displayName;const Qx=C.forwardRef(({className:n,...e},t)=>w.jsx($x,{ref:t,className:eo("text-sm opacity-90",n),...e}));Qx.displayName=$x.displayName;function gU(){const{toasts:n}=gx();return w.jsxs(fU,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return w.jsxs(qx,{...a,children:[w.jsxs("div",{className:"grid gap-1",children:[t&&w.jsx(Gx,{children:t}),r&&w.jsx(Qx,{children:r})]}),i,w.jsx(Kx,{})]},e)}),w.jsx(Hx,{})]})}const yU=({className:n,...e})=>{const{userLoggedIn:t}=Dc()||{userLoggedIn:!1},r=si(),[i,a]=C.useState(""),[l,c]=C.useState(""),[h,p]=C.useState(!1),{toast:g}=gx();C.useEffect(()=>{console.log("Auth state changed: userLoggedIn = ",t),t&&r("/")},[t,r]);const v=async()=>{p(!0);try{const S=await hF();r("/")}catch(S){console.error("Google sign-in error:",S),g({title:"There was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}},T=async(S,x)=>{p(!0);try{const b=await dF(S,x);r("/"),g({title:"Success!",description:"Logged in",variant:"default"})}catch(b){let R="Error logging in with email and password";console.log(b.code),b.code==="auth/invalid-credential"?R="Incorrect email or password. Please try again.":b.code==="auth/user-not-found"?R="No account found with this email.":b.code==="auth/invalid-email"?R="Invalid email format":b.code==="auth/too-many-requests"&&(R="Too many failed login attempts. Try again later."),g({title:"There was a problem.",description:R,variant:"destructive"})}finally{p(!1),console.log("Logged in: ",t)}};return w.jsxs(w.Fragment,{children:[w.jsx(gU,{}),w.jsx("div",{className:eo("flex flex-col items-center space-y-4 justify-center",n),...e,children:w.jsxs("div",{className:"flex flex-col space-y-4",children:[w.jsx("input",{type:"email",value:i,onChange:S=>a(S.currentTarget.value),placeholder:"Email",className:"input"}),w.jsx("input",{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"Password",className:"input"}),w.jsx(uf,{onClick:()=>T(i,l),isLoading:h,size:"sm",className:"w-full",children:"Login with Email"}),w.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[w.jsx("span",{className:"flex-grow border-t border-gray-300"}),w.jsx("span",{className:"px-3",children:" Or Login with Google "}),w.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),w.jsxs(uf,{onClick:v,isLoading:h,size:"sm",className:"w-full",children:[h?null:w.jsx(Y_.google,{className:"sh-4 w-4 mr-2"}),"Google"]})]})})]})},_U=()=>{const n=si();return w.jsx("div",{className:"flex items-center justify-center h-screen w-full px-4",children:w.jsx("div",{className:"w-full max-w-sm space-y-6 text-center",children:w.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[w.jsx("div",{className:"w-full flex justify-center",children:w.jsx("button",{onClick:()=>n("/"),"aria-label":"Go to home",children:w.jsx(Y_.logo,{className:"h-12 w-auto"})})}),w.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),w.jsx(yU,{}),w.jsxs("p",{className:"px-8 text-center text-sm text-zinc-700",children:["New to Ureno?"," ",w.jsx(An,{to:"/sign-up",className:"hover:text-zinc-800 text-sm underline underline-offset-4",children:"Sign Up"})]}),w.jsxs("p",{className:"text-sm max-w-xs mx-auto text-gray-500",children:["By clicking create account, you agree to our ",w.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",w.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})})},vU=()=>{const n=si();iF();const{userLoggedIn:e,loading:t}=Dc(),[r,i]=C.useState(""),[a,l]=C.useState(""),[c,h]=C.useState(""),[p,g]=C.useState(!1),[v,T]=C.useState(!1),[S,x]=C.useState(""),[b,R]=C.useState(""),[F,B]=C.useState(""),[$,q]=C.useState(!1),[X,Z]=C.useState(""),N=async k=>{if(k.preventDefault(),!$){if(Z(""),q(!0),b!==F){Z("Passwords don't match"),q(!1);return}try{const M=(await cF(S,b)).user;await qN(M,{displayName:`${r} ${a}`}),await T1(M.uid,r,a,S,c),n("/"),console.log(e)}catch{Z("There was a problem creating your account"),q(!1)}}},P=async()=>{T(!0);try{const k=await doSignInWithGoogle();n("/")}catch{toast({title:"THere was a problem.",description:"THere was an error logging in with Google",variant:"destructive"})}finally{T(!1),console.log("Logged in: ",e)}};return C.useEffect(()=>{p&&(n("/"),g(!1))},[p,n,g]),t?w.jsx("div",{children:"Loading..."}):w.jsxs(w.Fragment,{children:[e&&w.jsx(RP,{to:"/",replace:!0}),w.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:w.jsxs("div",{className:"w-96 text-gray-600 space-y-5 p-4",children:[w.jsx("div",{className:"text-center mb-6",children:w.jsxs("div",{className:"mt-2",children:[w.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Account Information"}),w.jsx("p",{children:"Enter your information to sign up"})]})}),w.jsxs("form",{onSubmit:N,className:"space-y-4",children:[X&&w.jsx("span",{className:"text-red-600 font-bold",children:X}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"text",autoComplete:"given-name",placeholder:"First Name",required:!0,value:r,onChange:k=>{i(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"text",autoComplete:"family-name",placeholder:"Last Name",required:!0,value:a,onChange:k=>{l(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"tel",autoComplete:"mobile",placeholder:"Phone Number",required:!0,value:c,onChange:k=>{h(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email",required:!0,value:S,onChange:k=>{x(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Password",required:!0,value:b,onChange:k=>{R(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-600 font-bold"}),w.jsx("input",{disabled:$,type:"password",autoComplete:"off",placeholder:"Confirm Password",required:!0,value:F,onChange:k=>{B(k.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-black shadow-sm rounded-lg transition duration-300"})]}),X&&w.jsx("span",{className:"text-red-600 font-bold",children:X}),w.jsx("button",{type:"submit",disabled:$,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${$?" bg-gray-300 cursor-not-allowed":"bg-black hover:bg-black hover:shadow-xl transition duration-300"}`,children:$?"Signing Up...":"Create Account"})]}),w.jsxs("p",{className:"flex items-center text-gray-500 text-sm",children:[w.jsx("span",{className:"flex-grow border-t border-gray-300"}),w.jsx("span",{className:"px-3",children:" Or Sign up with Google "}),w.jsx("span",{className:"flex-grow border-t border-gray-300"})]}),w.jsxs(uf,{onClick:P,isLoading:v,size:"sm",className:"w-full",children:[v?null:w.jsx(Y_.google,{className:"sh-4 w-4 mr-2"}),"Google"]}),w.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","    ",w.jsx(An,{to:"/sign-in",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]}),w.jsxs("p",{className:"text-sm max-w-xs mx-auto",children:["By clicking create account, you agree to our ",w.jsx("a",{href:"",className:"underline",children:"Terms of Service"})," and ",w.jsx("a",{href:"",className:"underline",children:"Privacy Policy"})]})]})})]})},wU=()=>w.jsx("div",{className:"container mx-auto flex h-screen w-full flex-col justify-center space-y-6 sm:w-[400px]",children:w.jsx("div",{className:"flex flex-col space-y-2 text-center",children:w.jsx(vU,{})})}),We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII=",Yx=()=>{const{productId:n}=hP(),t=[{id:"HarvestGrove",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"tavertine",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne",productTitle:"Champagne Limestone Rigid Core Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Luxury",productTitle:"Harvest Grove Rigid Luxury Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Harvest",productTitle:"Inverness Tavertine Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}},{id:"Champagne2",productTitle:"Champagne Limestone Rigid Core luxiry Vinyl",productCategory:"Floor and Decor",price:"$2.19/sqft",description:"Default",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We}}].find(r=>r.id===n);return t?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{id:"left",children:[w.jsx("div",{className:"main-image",children:w.jsx("img",{src:t.mainIm,alt:""})}),w.jsxs("div",{className:"thumbnails",children:[w.jsx("img",{src:t.mainIm,alt:""}),w.jsx("img",{src:t.alternate1,alt:""}),w.jsx("img",{src:t.alternate2,alt:""})]})]}),w.jsxs("div",{id:"right",children:[w.jsxs("div",{className:"title-section",children:[w.jsxs("div",{className:"title",children:[w.jsx("p",{id:"main",children:t.productTitle}),w.jsx("p",{id:"sub",children:t.productCategory})]}),w.jsxs("div",{className:"price-link",children:[w.jsx("div",{className:"title-left",children:w.jsx("p",{children:"$"})}),w.jsx("div",{className:"title-right",children:w.jsx("a",{href:"",children:"See in my room"})})]}),w.jsx("a",{href:"",children:"View specifications"})]}),w.jsxs("div",{className:"description",children:[w.jsx("p",{children:t.description}),w.jsxs("ul",{children:[w.jsx("li",{children:"Install up to 6,400 square feetNo need for transition molding."}),w.jsx("li",{children:"You can install it right awayPre-installation acclimation is unnecessary."}),w.jsx("li",{children:"Attached foam underlayment makes for a quieter, warmer floor."}),w.jsx("li",{children:"Can be installed on, above, and below grade-level (perfect for basements!) and over most existing hard-surface flooring, including slightly irregular subfloors."}),w.jsx("li",{children:"This DuraLux Performance product is backed by a lifetime res./ 15 yr comm. warranty."}),w.jsx("li",{children:"It is recommended to use Sentinel Protect Plus Underlayment for optimal sound absorption and moisture resistance or a standard vapor barrier like 6mil PE Film."})]}),w.jsx("a",{href:"",children:"Product Details"}),w.jsx("a",{href:"",children:"Reviews"})]})]})]}),w.jsxs("div",{className:"secondary-content",children:[w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{id:"left",children:[w.jsx("div",{className:"main-image",children:w.jsx("img",{src:We,alt:""})}),w.jsxs("div",{className:"thumbnails",children:[w.jsx("img",{src:We,alt:""}),w.jsx("img",{src:We,alt:""}),w.jsx("img",{src:We,alt:""})]})]}),w.jsxs("div",{id:"right",children:[w.jsxs("div",{className:"title-section",children:[w.jsxs("div",{className:"title",children:[w.jsx("p",{id:"main",children:"Deafult Title"}),w.jsx("p",{id:"sub",children:"Default Category"})]}),w.jsxs("div",{className:"price-link",children:[w.jsx("div",{className:"title-left",children:w.jsx("p",{children:"$"})}),w.jsx("div",{className:"title-right",children:w.jsx("a",{href:"",children:"See in my room"})})]}),w.jsx("a",{href:"",children:"View specifications"})]}),w.jsxs("div",{className:"description",children:[w.jsx("p",{children:"Default Description"}),w.jsx("a",{href:"",children:"Product Details"}),w.jsx("a",{href:"",children:"Reviews"})]})]})]}),w.jsxs("div",{className:"secondary-content",children:[w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})}),w.jsx("div",{className:"suggestedProduct",children:w.jsxs("div",{className:"container",children:[w.jsx("img",{src:We,alt:"{title}"}),w.jsxs("div",{className:"prod-title",children:["{","title","}"]}),w.jsxs("p",{children:["{","description","}"]}),w.jsxs("p",{children:["{","price","}"]})]})})]})]})};Yx.defaultProps={productTitle:"Default title",productCategory:"Default category",price:"Price not available",description:"No description available",mainIm:{defaultImage:We},alternate1:{defaultImage:We},alternate2:{defaultImage:We},suggested1:{defaultImage:We},suggested2:{defaultImage:We},suggested3:{defaultImage:We}};function EU(){return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"product-detail-page",children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"product detail"}),w.jsx(Wf,{}),w.jsx(Yx,{}),w.jsx(gc,{})]})})}function TU(){return w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"Designer"}),w.jsx(Wf,{}),w.jsx(gc,{})]})}const IU=()=>{const n=si(),e=async()=>{await M_(),n("/")};return w.jsxs("div",{className:"nav flex justify-between items-center p-4 border-b",children:[w.jsx(An,{to:"/",className:"text-2xl font-bold",children:w.jsx("div",{className:"logo",children:"URENO"})}),w.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[w.jsxs(An,{to:"/settings",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[w.jsx(y6,{className:"w-5 h-5"})," Settings"]}),w.jsxs(An,{to:"/notifications",className:"flex items-center gap-2 text-gray-600 hover:text-black",children:[w.jsx(d6,{className:"w-5 h-5"})," Notifications"]}),w.jsxs(An,{to:"/logout",onClick:e,className:"flex items-center gap-2 text-red-500 hover:text-red-700",children:[w.jsx(m6,{className:"w-5 h-5"})," Log Out"]})]})]})},Xx=n=>C.forwardRef((e,t)=>w.jsx("div",{...e,ref:t,className:Lt(e.className,n)})),tv=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Wt(e,"card-body"),w.jsx(t,{ref:i,className:Lt(n,e),...r})));tv.displayName="CardBody";const Jx=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Wt(e,"card-footer"),w.jsx(t,{ref:i,className:Lt(n,e),...r})));Jx.displayName="CardFooter";const Zx=C.createContext(null);Zx.displayName="CardHeaderContext";const eA=C.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=Wt(n,"card-header"),l=C.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return w.jsx(Zx.Provider,{value:l,children:w.jsx(t,{ref:i,...r,className:Lt(e,a)})})});eA.displayName="CardHeader";const tA=C.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=Wt(n,"card-img");return w.jsx(r,{ref:a,className:Lt(t?`${l}-${t}`:l,e),...i})});tA.displayName="CardImg";const nA=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Wt(e,"card-img-overlay"),w.jsx(t,{ref:i,className:Lt(n,e),...r})));nA.displayName="CardImgOverlay";const rA=C.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=Wt(e,"card-link"),w.jsx(t,{ref:i,className:Lt(n,e),...r})));rA.displayName="CardLink";const CU=Xx("h6"),iA=C.forwardRef(({className:n,bsPrefix:e,as:t=CU,...r},i)=>(e=Wt(e,"card-subtitle"),w.jsx(t,{ref:i,className:Lt(n,e),...r})));iA.displayName="CardSubtitle";const sA=C.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=Wt(e,"card-text"),w.jsx(t,{ref:i,className:Lt(n,e),...r})));sA.displayName="CardText";const SU=Xx("h5"),oA=C.forwardRef(({className:n,bsPrefix:e,as:t=SU,...r},i)=>(e=Wt(e,"card-title"),w.jsx(t,{ref:i,className:Lt(n,e),...r})));oA.displayName="CardTitle";const aA=C.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:c="div",...h},p)=>{const g=Wt(n,"card");return w.jsx(c,{ref:p,...h,className:Lt(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?w.jsx(tv,{children:l}):l})});aA.displayName="Card";const Zm=Object.assign(aA,{Img:tA,Title:oA,Subtitle:iA,Body:tv,Link:rA,Text:sA,Header:eA,Footer:Jx,ImgOverlay:nA}),RU="/Ureno_webdesign/assets/default_pfp-bcxf0fN1.png",lA=Uo(L_),xU=async n=>{try{const e=xl(lA,"users",n),t=await m4(e);return t.exists()?t.data():null}catch(e){throw console.error("Error fetching user profile:",e),e}},nv=C.createContext(),AU=()=>C.useContext(nv),PU=({children:n})=>{const[e,t]=C.useState(null),[r,i]=C.useState(null),[a,l]=C.useState(!0);return C.useEffect(()=>{const c=Ry(Oc,async h=>{if(t(h),!h){i(null),l(!1);return}try{const p=await xU(h.uid),g={displayName:h.displayName||"",email:h.email||"",photoURL:h.photoURL||"",isAdmin:!1};i(p||g),l(!1);const v=xl(lA,"users",h.uid),T=_4(v,S=>{S.exists()&&i(S.data())},S=>{console.error("Error listening to profile updates:",S)});return()=>T()}catch(p){console.error("Failed to fetch user profile:",p.message),l(!1)}});return()=>c()},[]),w.jsx(nv.Provider,{value:{user:e,profile:r,loading:a},children:n})};function kU(){var r,i;const{user:n,profile:e,loading:t}=AU();return t?w.jsx("p",{children:"Loading..."}):!n||!e?w.jsx("p",{children:"User not found nor not logged in."}):w.jsxs(w.Fragment,{children:[w.jsx("meta",{charSet:"UTF-8"}),w.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),w.jsx("title",{children:"Profile"}),w.jsx(IU,{}),w.jsx("div",{className:"main-content max-w-6xl mx-auto p-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6 ",children:[w.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsx(Zm,{children:w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),w.jsxs("p",{classname:"text-gray-500",children:[((r=e.homeProjects)==null?void 0:r.filter(a=>a.status==="in progress").length)||0," Ongoing, "," ",((i=e.homeProjects)==null?void 0:i.filter(a=>a.status==="in progress").length)||0," Completed"]}),w.jsx(Ga,{variant:"link",className:"mt-2",children:"View projects"})]})}),w.jsx(Zm,{children:w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-semibold",children:"Saved Items"}),w.jsx("p",{className:"text-gray-500",children:"12 Materials Favorited"}),w.jsx(Ga,{variant:"link",className:"mt-2",children:"View Favorites"})]})}),w.jsx(Zm,{children:w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-semibold",children:"Messages & Notifications"}),w.jsx("p",{className:"text-gray-500",children:"2 Unread Messages"}),w.jsx(Ga,{variant:"link",className:"mt-2",children:"Go to Messages"})]})})]}),w.jsxs("div",{className:"flex flex-col items-center md:col-span-1 text-center ",children:[w.jsx("h2",{className:"text-2xl font-bold mt-4",children:e.username||n.displayName}),w.jsx("img",{src:RU}),w.jsx("p",{className:"text-gray-500",children:n.email}),w.jsx(Ga,{className:"mt-2",children:"Edit Profile"})]})]})}),w.jsx(gc,{})]})}const bU=()=>{const[n,e]=C.useState([]),t=si();C.useEffect(()=>{(async()=>{const a=Uo();await aR(s_(a,"products"));const l=snapshotEqual.docs.map(c=>({id:c.id,...c.data()}));e(l)})()},[]);const r=async i=>{const a=Uo();await g4(xl(a,"products",i)),e(n.filter(l=>l.id!==i))};return w.jsxs("div",{className:"admin-dashboard",children:[w.jsx("h1",{children:"Product Admin Dashboard"}),w.jsx("button",{onClick:()=>t("/admin/add"),children:"Add New Product"}),w.jsx("ul",{children:n.map(i=>w.jsxs("li",{style:{marginBottom:"1rem"},children:[w.jsx("strong",{children:i.title})," - ",i.price,w.jsx("br",{}),w.jsx("button",{onClick:()=>t(`/admin/edit/${i.id}`),children:"Edit"}),w.jsx("button",{onClick:()=>r(i.id),children:"Delete"})]},i.id))})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebasestorage.googleapis.com",cA="storageBucket",NU=2*60*1e3,OU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends oi{constructor(e,t,r=0){super(eg(e),`Firebase Storage: ${t} (${eg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function eg(n){return"storage/"+n}function rv(){const n="An unknown error occurred, please check the error payload for server response.";return new vt(_t.UNKNOWN,n)}function DU(n){return new vt(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function LU(n){return new vt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MU(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(_t.UNAUTHENTICATED,n)}function VU(){return new vt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function FU(n){return new vt(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function jU(){return new vt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UU(){return new vt(_t.CANCELED,"User canceled the upload/download.")}function BU(n){return new vt(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function $U(n){return new vt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function zU(){return new vt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cA+"' property when initializing the app?")}function WU(){return new vt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HU(){return new vt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qU(n){return new vt(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ty(n){return new vt(_t.INVALID_ARGUMENT,n)}function dA(){return new vt(_t.APP_DELETED,"The Firebase app was deleted.")}function KU(n){return new vt(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ju(n,e){return new vt(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Nu(n){throw new vt(_t.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=$n.makeFromUrl(e,t)}catch{return new $n(e,"")}if(r.path==="")return r;throw $U(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function p(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${g}/b/${i}/o${T}`,"i"),x={bucket:1,path:3},b=t===uA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",F=new RegExp(`^https?://${b}/${i}/${R}`,"i"),$=[{regex:c,indices:h,postModify:a},{regex:S,indices:x,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let q=0;q<$.length;q++){const X=$[q],Z=X.regex.exec(e);if(Z){const N=Z[X.indices.bucket];let P=Z[X.indices.path];P||(P=""),r=new $n(N,P),X.postModify(r);break}}if(r==null)throw BU(e);return r}}class GU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(n,e,t){let r=1,i=null,a=null,l=!1,c=0;function h(){return c===2}let p=!1;function g(...R){p||(p=!0,e.apply(null,R))}function v(R){i=setTimeout(()=>{i=null,n(S,h())},R)}function T(){a&&clearTimeout(a)}function S(R,...F){if(p){T();return}if(R){T(),g.call(null,R,...F);return}if(h()||l){T(),g.call(null,R,...F);return}r<64&&(r*=2);let $;c===1?(c=2,$=0):$=(r+Math.random())*1e3,v($)}let x=!1;function b(R){x||(x=!0,T(),!p&&(i!==null?(R||(c=2),clearTimeout(i),v(0)):R||(c=1)))}return v(0),a=setTimeout(()=>{l=!0,b(!0)},t),b}function YU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(n){return n!==void 0}function JU(n){return typeof n=="object"&&!Array.isArray(n)}function iv(n){return typeof n=="string"||n instanceof String}function gI(n){return sv()&&n instanceof Blob}function sv(){return typeof Blob<"u"}function yI(n,e,t,r){if(r<e)throw ty(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ty(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function hA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Mo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Mo||(Mo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,t,r,i,a,l,c,h,p,g,v,T=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,x)=>{this.resolve_=S,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new fh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Mo.NO_ERROR,h=a.getStatus();if(!c||ZU(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Mo.ABORT;r(!1,new fh(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new fh(p,a))})},t=(r,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());XU(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=rv();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?dA():UU();l(h)}else{const h=jU();l(h)}};this.canceled_?t(!1,new fh(!1,null,!0)):this.backoffId_=QU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function t5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function n5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function i5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function s5(n,e,t,r,i,a,l=!0){const c=hA(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return r5(p,e),t5(p,t),n5(p,a),i5(p,r),new e5(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function a5(...n){const e=o5();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(sv())return new Blob(n);throw new vt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function l5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(n){if(typeof atob>"u")throw qU("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tg{constructor(e,t){this.data=e,this.contentType=t||null}}function c5(n,e){switch(n){case Xr.RAW:return new tg(fA(e));case Xr.BASE64:case Xr.BASE64URL:return new tg(pA(n,e));case Xr.DATA_URL:return new tg(h5(e),f5(e))}throw rv()}function fA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function d5(n){let e;try{e=decodeURIComponent(n)}catch{throw Ju(Xr.DATA_URL,"Malformed data URL.")}return fA(e)}function pA(n,e){switch(n){case Xr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Ju(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Ju(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=u5(e)}catch(i){throw i.message.includes("polyfill")?i:Ju(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class mA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ju(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=p5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function h5(n){const e=new mA(n);return e.base64?pA(Xr.BASE64,e.rest):d5(e.rest)}function f5(n){return new mA(n).contentType}function p5(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t){let r=0,i="";gI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(gI(this.data_)){const r=this.data_,i=l5(r,e,t);return i===null?null:new As(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new As(r,!0)}}static getBlob(...e){if(sv()){const t=e.map(r=>r instanceof As?r.data_:r);return new As(a5.apply(null,t))}else{const t=e.map(l=>iv(l)?c5(Xr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[a++]=l[c]}),new As(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){let e;try{e=JSON.parse(n)}catch{return null}return JU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function g5(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function yA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(n,e){return e}class mn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||y5}}let ph=null;function _5(n){return!iv(n)||n.length<2?n:yA(n)}function _A(){if(ph)return ph;const n=[];n.push(new mn("bucket")),n.push(new mn("generation")),n.push(new mn("metageneration")),n.push(new mn("name","fullPath",!0));function e(a,l){return _5(l)}const t=new mn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const i=new mn("size");return i.xform=r,n.push(i),n.push(new mn("timeCreated")),n.push(new mn("updated")),n.push(new mn("md5Hash",null,!0)),n.push(new mn("cacheControl",null,!0)),n.push(new mn("contentDisposition",null,!0)),n.push(new mn("contentEncoding",null,!0)),n.push(new mn("contentLanguage",null,!0)),n.push(new mn("contentType",null,!0)),n.push(new mn("metadata","customMetadata",!0)),ph=n,ph}function v5(n,e){function t(){const r=n.bucket,i=n.fullPath,a=new $n(r,i);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function w5(n,e,t){const r={};r.type="file";const i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return v5(r,n),r}function vA(n,e,t){const r=gA(e);return r===null?null:w5(n,r,t)}function E5(n,e,t,r){const i=gA(e);if(i===null||!iv(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=n.bucket,v=n.fullPath,T="/b/"+l(g)+"/o/"+l(v),S=ov(T,t,r),x=hA({alt:"media",token:p});return S+x})[0]}function T5(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class wA{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n){if(!n)throw rv()}function I5(n,e){function t(r,i){const a=vA(n,i,e);return EA(a!==null),a}return t}function C5(n,e){function t(r,i){const a=vA(n,i,e);return EA(a!==null),E5(a,i,n.host,n._protocol)}return t}function TA(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=VU():i=MU():t.getStatus()===402?i=LU(n.bucket):t.getStatus()===403?i=FU(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function S5(n){const e=TA(n);function t(r,i){let a=e(r,i);return r.getStatus()===404&&(a=DU(n.path)),a.serverResponse=i.serverResponse,a}return t}function R5(n,e,t){const r=e.fullServerUrl(),i=ov(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,c=new wA(i,a,C5(n,t),l);return c.errorHandler=S5(e),c}function x5(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function A5(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=x5(null,e)),r}function P5(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let $="";for(let q=0;q<2;q++)$=$+Math.random().toString().slice(2);return $}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=A5(e,r,i),g=T5(p,t),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,T=`\r
--`+h+"--",S=As.getBlob(v,r,T);if(S===null)throw WU();const x={name:p.fullPath},b=ov(a,n.host,n._protocol),R="POST",F=n.maxUploadRetryTime,B=new wA(b,R,I5(n,t),F);return B.urlParams=x,B.headers=l,B.body=S.uploadData(),B.errorHandler=TA(e),B}class k5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Nu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class b5 extends k5{initXhr(){this.xhr_.responseType="text"}}function IA(){return new b5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){this._service=e,t instanceof $n?this._location=t:this._location=$n.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qo(e,t)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yA(this._location.path)}get storage(){return this._service}get parent(){const e=m5(this._location.path);if(e===null)return null;const t=new $n(this._location.bucket,e);return new qo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw KU(e)}}function N5(n,e,t){n._throwIfRoot("uploadBytes");const r=P5(n.storage,n._location,_A(),new As(e,!0),t);return n.storage.makeRequestWithTokens(r,IA).then(i=>({metadata:i,ref:n}))}function O5(n){n._throwIfRoot("getDownloadURL");const e=R5(n.storage,n._location,_A());return n.storage.makeRequestWithTokens(e,IA).then(t=>{if(t===null)throw HU();return t})}function D5(n,e){const t=g5(n._location.path,e),r=new $n(n._location.bucket,t);return new qo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n){return/^[A-Za-z]+:\/\//.test(n)}function M5(n,e){return new qo(n,e)}function CA(n,e){if(n instanceof av){const t=n;if(t._bucket==null)throw zU();const r=new qo(t,t._bucket);return e!=null?CA(r,e):r}else return e!==void 0?D5(n,e):n}function V5(n,e){if(e&&L5(e)){if(n instanceof av)return M5(n,e);throw ty("To use ref(service, url), the first argument must be a Storage instance.")}else return CA(n,e)}function _I(n,e){const t=e==null?void 0:e[cA];return t==null?null:$n.makeFromBucketSpec(t,n)}function F5(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:py(i,n.app.options.projectId))}class av{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=uA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NU,this._maxUploadRetryTime=OU,this._requests=new Set,i!=null?this._bucket=$n.makeFromBucketSpec(i,this._host):this._bucket=_I(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=_I(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qo(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new GU(dA());{const l=s5(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const vI="@firebase/storage",wI="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="storage";function j5(n,e,t){return n=It(n),N5(n,e,t)}function U5(n){return n=It(n),O5(n)}function B5(n,e){return n=It(n),V5(n,e)}function $5(n=_f(),e){n=It(n);const r=_c(n,SA).getImmediate({identifier:e}),i=hy("storage");return i&&z5(r,...i),r}function z5(n,e,t,r={}){F5(n,e,t,r)}function W5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new av(t,r,i,e,Ys)}function H5(){Fs(new Li(SA,W5,"PUBLIC").setMultipleInstances(!0)),ir(vI,wI,""),ir(vI,wI,"esm2017")}H5();const q5=()=>{const[n,e]=C.useState(""),[t,r]=C.useState(""),[i,a]=C.useState(""),[l,c]=C.useState(""),[h,p]=C.useState(null),g=si(),v=async T=>{T.preventDefault();try{const S=$5(),x=B5(S,`products/${h.name}`);await j5(x,h);const b=await U5(x),R=Uo();await y4(s_(R,"products"),{title:n,description:t,price:i,link:l,image:b}),g("/admin")}catch(S){console.error("Error uploading product:",S)}};return w.jsxs("div",{className:"product-form",children:[w.jsx("h2",{children:"Add New Product"}),w.jsxs("form",{onSubmit:v,children:[w.jsx("input",{type:"text",placeholder:"Title",value:n,onChange:T=>e(T.target.value),required:!0}),w.jsx("textarea",{placeholder:"Description",value:t,onChange:T=>r(T.target.value),required:!0}),w.jsx("input",{type:"text",placeholder:"Link",value:l,onChange:T=>a(T.target.value),required:!0}),w.jsx("input",{type:"file",accept:"image/*",onChange:T=>p(T.target.files[0]),required:!0}),w.jsx("button",{type:"submit",children:"Save Product"})]})]})},EI=({children:n})=>{const{currentUser:e}=Dc(),{profile:t}=C.useContext(nv);return!e||!(t!=null&&t.isAdmin)?null:n};M2.createRoot(document.getElementById("root")).render(w.jsx(C.StrictMode,{children:w.jsx(uF,{children:w.jsx(PU,{children:w.jsx(XP,{basename:"/Ureno_webdesign/",children:w.jsxs(AP,{children:[w.jsx(Kr,{path:"/",element:w.jsx(x9,{})}),w.jsx(Kr,{path:"/product-page",element:w.jsx(A9,{})}),w.jsx(Kr,{path:"/productDetail/:productId",element:w.jsx(EU,{})}),w.jsx(Kr,{path:"/designerPage",element:w.jsx(TU,{})}),w.jsx(Kr,{path:"/ProfileDashboard",element:w.jsx(kU,{})}),w.jsx(Kr,{path:"/sign-in",element:w.jsx(_U,{})}),w.jsx(Kr,{path:"/sign-up",element:w.jsx(wU,{})}),w.jsx(Kr,{path:"/admin",element:w.jsx(EI,{children:w.jsx(bU,{})})}),w.jsx(Kr,{path:"/admin/add",element:w.jsx(EI,{children:w.jsx(q5,{})})})]})})})})}));
